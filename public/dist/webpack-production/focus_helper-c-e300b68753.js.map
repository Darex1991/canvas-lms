{"version":3,"sources":["webpack:///./app/coffeescripts/object/unflatten.js","webpack:///./app/coffeescripts/util/deparam.js","webpack:///./app/jsx/bundles/focus_helper.js"],"names":["unflatten","obj","_","reduce","newObj","val","key","keys","split","lastKey","length","test","replace","shift","concat","i","cur","isNaN","isArray","push","coerceTypes","true","false","null","deparam","params","coerce","currentQueryString","window","location","search","arguments","forEach","param","decodeURIComponent","$","document","ready","focus","el","attr","select"],"mappings":";AAAA;AAAA;AAoBe,SAASA,EAAUC,GAChC,OAAOC,IAAED,GAAKE,OAAO,CAACC,EAAQC,EAAKC,KACjC,IAAIC,EAAOD,EAAIE,MAAM,MACjBC,EAAUF,EAAKG,OAAS;AAoB5B,GAhBI,KAAKC,KAAKJ,EAAK,KAAO,MAAMI,KAAKJ,EAAKE,KAExCF,EAAKE,GAAWF,EAAKE,GAASG,QAAQ,MAAO,IAI7CL,EAAOA,EACJM,QACAL,MAAM,KACNM,OAAOP,GACVE,EAAUF,EAAKG,OAAS,GAGxBD,EAAU,EAGRA,EAAS,CAUX,IAAIM,EAAI,EACJC,EAAMZ;AACV,KAAOW,GAAKN,GAGVO,EAAMA,EAFNV,EAAkB,KAAZC,EAAKQ,GAAYC,EAAIN,OAASH,EAAKQ,IAGvCA,EAAIN,EAAUO,EAAIV,KAASC,EAAKQ,EAAI,IAAME,MAAMV,EAAKQ,EAAI,IAAM,GAAK,IAAMV,EAC5EU,SAMEb,IAAEgB,QAAQd,EAAOE,IAEnBF,EAAOE,GAAKa,KAAKd,GACO,MAAfD,EAAOE,GAGhBF,EAAOE,GAAO,CAACF,EAAOE,GAAMD,GAG5BD,EAAOE,GAAOD;AAIlB,OAAOD,GACN,M;;;AC1DL,MAAMgB,EAAc,CAClBC,MAAM,EACNC,OAAO,EACPC,KAAM;AAGO,SAASC,EAAQC,EAAQC,GAEtC,IAAKD,GAA4B,kBAAXA,EAAsB,CAC1C,MAAME,EAAqBC,OAAOC,SAASC;AAC3C,OAAKH,EACEH,EAAQG,KAAuBI,WADN,GAIlC,MAAM9B,EAAM;AAwBZ,OAvBAwB,EACGb,QAAQ,MAAO,KACfJ,MAAM,KACNwB,QAAQC,IAAS,MACCA,EAAMzB,MAAM,KADb,mBACXF,EADW,KACND,EADM;AAEhBC,EAAM4B,mBAAmB5B,GACzBD,EAAM6B,mBAAmB7B,GAGrBqB,IACFrB,EACEA,IAAQY,MAAMZ,IACTA,EACO,cAARA,OAAA,OAEA,IAAAe,EAAYf,GACZe,EAAYf,GACZA,GAGRJ,EAAIK,GAAOD,IAGRL,YAAUC,K;AC5DnB;AAAA;AAqBAkC,IAAEC,UAAUC,MAAM,KAChB,MAAMZ,EAASD;AACf,GAAIC,EAAOa,MAAO,CAChB,MAAMC,EAAKJ,IAAE,IAAD,OAAKV,EAAOa;AACpBC,IACsB,SAApBA,EAAGC,KAAK,SACVD,EAAGE,SAELF,EAAGD","file":"focus_helper-c-e300b68753.js","sourcesContent":["//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport _ from 'underscore'\n\n// turns {'foo[bar]': 1} into {foo: {bar: 1}}\nexport default function unflatten(obj) {\n  return _(obj).reduce((newObj, val, key) => {\n    let keys = key.split('][')\n    let lastKey = keys.length - 1\n\n    // If the first keys part contains [ and the last ends with ], then []\n    // are correctly balanced.\n    if (/\\[/.test(keys[0]) && /\\]$/.test(keys[lastKey])) {\n      // Remove the trailing ] from the last keys part.\n      keys[lastKey] = keys[lastKey].replace(/\\]$/, '')\n\n      // Split first keys part into two parts on the [ and add them back onto\n      // the beginning of the keys array.\n      keys = keys\n        .shift()\n        .split('[')\n        .concat(keys)\n      lastKey = keys.length - 1\n    } else {\n      // Basic 'foo' style key.\n      lastKey = 0\n    }\n\n    if (lastKey) {\n      // Complex key, build deep object structure based on a few rules:\n      // * The 'cur' pointer starts at the object top-level.\n      // * [] = array push (n is set to array length), [n] = array if n is\n      //   numeric, otherwise object.\n      // * If at the last keys part, set the value.\n      // * For each keys part, if the current level is undefined create an\n      //   object or array based on the type of the next keys part.\n      // * Move the 'cur' pointer to the next level.\n      // * Rinse & repeat.\n      let i = 0\n      let cur = newObj\n      while (i <= lastKey) {\n        key = keys[i] === '' ? cur.length : keys[i]\n\n        cur = cur[key] =\n          i < lastKey ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : []) : val\n        i++\n      }\n    } else {\n      // Simple key, even simpler rules, since only scalars and shallow\n      // arrays are allowed.\n\n      if (_.isArray(newObj[key])) {\n        // val is already an array, so push on the next value.\n        newObj[key].push(val)\n      } else if (newObj[key] != null) {\n        // val isn't an array, but since a second value has been specified,\n        // convert val into an array.\n        newObj[key] = [newObj[key], val]\n      } else {\n        // val is a scalar.\n        newObj[key] = val\n      }\n    }\n\n    return newObj\n  }, {})\n}\n","//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n// an extraction of the deparam method from Ben Alman's jQuery BBQ\n// http://benalman.com/projects/jquery-bbq-plugin/\n\nimport unflatten from '../object/unflatten'\n\nconst coerceTypes = {\n  true: true,\n  false: false,\n  null: null\n}\n\nexport default function deparam(params, coerce) {\n  // shortcut for just deparam'ing the current querystring\n  if (!params || typeof params === 'boolean') {\n    const currentQueryString = window.location.search\n    if (!currentQueryString) return {}\n    return deparam(currentQueryString, ...arguments)\n  }\n\n  const obj = {}\n  params\n    .replace(/\\+/g, ' ')\n    .split('&')\n    .forEach(param => {\n      let [key, val] = param.split('=')\n      key = decodeURIComponent(key)\n      val = decodeURIComponent(val)\n\n      // coerce values.\n      if (coerce) {\n        val =\n          val && !isNaN(val)\n            ? +val // number\n            : val === 'undefined'\n            ? undefined // undefined\n            : coerceTypes[val] !== undefined\n            ? coerceTypes[val] // true, false, null\n            : val // string\n      }\n\n      obj[key] = val\n    })\n\n  return unflatten(obj)\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport deparam from 'compiled/util/deparam'\n\n$(document).ready(() => {\n  const params = deparam()\n  if (params.focus) {\n    const el = $(`#${params.focus}`)\n    if (el) {\n      if (el.attr('type') === 'text') {\n        el.select()\n      }\n      el.focus()\n    }\n  }\n})\n"],"sourceRoot":""}