{"version":3,"sources":["webpack:///./public/javascripts/translations/lib.text_helper.js","webpack:///./app/coffeescripts/str/TextHelper.coffee","webpack:///./public/javascripts/dummyI18nResource.js?61ff","webpack:///./public/javascripts/translations/errors.js","webpack:///./public/javascripts/dummyI18nResource.js?d787","webpack:///./app/coffeescripts/views/ValidatedFormView.coffee","webpack:///./public/javascripts/jquery.scrollToVisible.js","webpack:///./app/coffeescripts/jquery/serializeForm.js","webpack:///./app/coffeescripts/jquery/fixDialogButtons.js","webpack:///./app/coffeescripts/views/ValidatedMixin.coffee","webpack:///./public/javascripts/translations/dialog_form_wrapper.js","webpack:///./public/javascripts/dummyI18nResource.js?516b","webpack:///./app/views/jst/DialogFormWrapper.handlebars","webpack:///./app/coffeescripts/views/DialogFormView.coffee","webpack:///./public/javascripts/translations/instructure_misc_plugins.js","webpack:///./public/javascripts/dummyI18nResource.js?9aa5","webpack:///./public/javascripts/jquery.instructure_misc_plugins.js","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js","webpack:///./public/javascripts/jquery.toJSON.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","AUTO_LINKIFY_REGEX","th","quoteClump","lines","htmlEscape","t","raw","join","formatMessage","message","links","placeholderBlocks","replace","match","i","push","link","processedLines","quoteBlock","RegExp","shift","line","length","delimit","number","isNaN","String","sign","abs","Math","result","integer","floor","mod","truncateText","string","options","max","ellipsis","wordSeparator","trim","truncateAt","pos","indexOf","substring","plainText","mixin","tagName","className","events","submit","saveOpts","wait","disableWhileLoadingOpts","event","sendFunc","preventDefault","hideErrors","okayToContinue","rceInputs","$el","find","toArray","window","ENV","use_rce_enhancements","map","rce","confirm","every","value","data","getFormData","errors","validateBeforeSave","keys","disablingDfd","Deferred","saveDfd","saveFormData","then","onSaveSuccess","bind","this","onSaveFail","fail","reject","setFocusAfterError","dontRenableAfterSaveSuccess","done","resolve","disableWhileLoading","trigger","dateOverrideErrors","element","attr","first_error","chain","err","includes","findField","focus","setTimeout","showErrors","toJSON","model","save","validate","opts","validateFormData","arguments","xhr","parseErrorResponse","response","status","authenticity_token","parseJSON","responseText","translations","required","blank","unsaved","fieldSelectors","field","selector","$","findSiblingTinymce","not","castJSON","obj","isObject","clone","each","val","key","original","watchUnload","unwatchUnload","on","checkUnload","off","current","isEqual","View","fn","scrollToVisible","$obj","innerOffset","offset","width","outerWidth","height","outerHeight","top","bottom","left","right","currentTop","windowScrollTop","scrollTop","currentLeft","scrollLeft","currentHeight","currentWidth","outerOffset","e","rselectTextarea","rCRLF","rinput","elements","makeArray","els","isSerializable","name","disabled","checked","test","nodeName","type","resultFor","getValue","$input","hasClass","send","isArray","serializeForm","filter","get","fixDialogButtons","$dialog","$buttons","hide","buttons","button","$button","classes","id","is","dialog","prop","form","text","click","class","_","sortBy","siblings","useGlobalSelector","fieldName","html","attachErrorDescription","$errorBox","errorDescriptionField","findOrCreateDescriptionField","insertBefore","description","originalDescriptionIds","getExistingDescriptionIds","descriptionIds","idArray","split","without","Handlebars","default","template","templates","depth0","helpers","partials","compilerInfo","helper","buffer","helperMissing","merge","escapeExpression","hash","call","defaults","title","minWidth","minHeight","$dialogAppendTarget","wrapperTemplate","initialize","setTrigger","open","firstOpen","renderEl","firstRenderEl","close","isOpen","toggle","remove","insert","render","setupDialog","openAgain","focusable","appendTo","el","$trigger","attachTrigger","renderElAgain","getDialogTitle","getAriaTitle","ariaID","autoOpen","setDimensions","focusReturnsTo","setOptions","prompt","forEach","opt","optHtml","ifExists","func","scrollbarWidth","$div","$innerDiv","w1","innerWidth","css","w2","dim","speed","animate","opacity","undim","confirmDelete","extend","$object","noMessage","no_message","onContinue","confirmed","url","success","fadeOut","prepareData","ajaxJSON","request","error","isFunction","unhandledXHRs","cancelled","skipConfirmations","dialog_options","confirmation_class","modal","I18n","fragmentChange","query","location","search","query_hash","item","$doc","found","_checkFragments","fragmentList","doc","fragment","triggerHandler","list","idx","clickLink","eq","showIf","bool","index","show","disableIf","indicate","$indicator","zIndex","container","document","createElement","position","display","border","backgroundColor","addClass","mouseover","stop","append","singleFlash","fadeIn","scroll","hasScrollbar","clientHeight","scrollHeight","log","msg","console","fillWindowWithMe","$this","$wrapper","$main","$not_right_side","$window","$toResize","add","alsoResize","fillWindowWithThisElement","spaceLeftForThis","newHeight","onResize","unbind","autoGrowInput","o","maxWidth","comfortZone","input","testSubject","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","insertAfter","testerWidth","newWidth","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","mathmlSpan","toMediaCommentLink","node","$link","toLowerCase","convert","$dummy","replaceWith","forEditing","uuid","uniqueId","action","files_domain","$form","equationImage","removeAttr","after","patterns","fixed","named","build","base","json","push_counters","push_counter","k","reverse_key","pop"],"mappings":"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","file":"45-c-938ab9c4cc.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"إظهار النص المقتبس\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"cy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"dangos testun wedi’i ddyfynnu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"de\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"zitierten Text zeigen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"el\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"προβολή κειμένου που παρατίθεται\\\"}}},\\\"en-AU\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-GB\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"es\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostrar texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fa\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"نمایش متن نقل شده\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"näytä lainattu teksti\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"he\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"מציג ציטוט\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ht\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afiche tèks site\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hu\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"idézett szöveg megjelenítése\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"ցույց տալ մեջբերվող տեքստը\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"is\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Sýna ívitnaðan texta\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"it\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostra testo citato\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ja\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"引用したテキストを表示\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ko\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"인용된 텍스트 표시\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"mi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"whakaatu kuputuhi faahiti\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"nb\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nb-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"geciteerde tekst tonen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nn\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis sitert tekst\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"pokaż cytowany fragment tekstu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt-BR\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ru\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"показать цитированный текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"prikaži citirano besedilo\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"tr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"alıntılanan metni göster\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"uk\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Показати цитований текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hans\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"显示引用的文本\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hant\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"顯示引用的文字\\\",\\\"word_separator\\\":\\\" \\\"}}}}\"));\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport I18n from 'i18n!lib.text_helper'\nimport htmlEscape from 'str/htmlEscape'\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\"\nAUTO_LINKIFY_REGEX = ///\n  \\b\n  (                                            # Capture 1: entire matched URL\n    (?:\n      https?://                                # http or https protocol\n      |                                        # or\n      www\\d{0,3}[.]                            # \"www.\", \"www1.\", \"www2.\" … \"www999.\"\n      |                                        # or\n      [a-z0-9.\\-]+[.][a-z]{2,4}/               # looks like domain name followed by a slash\n    )\n\n    (?:\n      [^\\s()<>]+                               # Run of non-space, non-()<>\n      |                                        # or\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n    )+\n\n    (?:\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n      |                                        # or\n      [^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]           # End with: not a space or one of these punct chars\n    )\n  ) | (\n    LINK-PLACEHOLDER\n  )\n///gi\n\nexport default th =\n  quoteClump: (lines) ->\n    \"<div class='quoted_text_holder'>\n      <a href='#' class='show_quoted_text_link'>#{htmlEscape I18n.t(\"quoted_text_toggle\", \"show quoted text\")}</a>\n      <div class='quoted_text' style='display: none;'>\n        #{$.raw lines.join \"\\n\"}\n      </div>\n    </div>\"\n\n  formatMessage: (message) ->\n    # replace any links with placeholders so we don't escape them\n    links = []\n    placeholderBlocks = []\n    message = message.replace AUTO_LINKIFY_REGEX, (match, i) ->\n      placeholderBlocks.push(if match == AUTO_LINKIFY_PLACEHOLDER\n          AUTO_LINKIFY_PLACEHOLDER\n        else\n          link = match\n          link = \"http://\" + link unless link[0..6] == 'http://' or link[0..7] == 'https://'\n          links.push link\n          \"<a href='#{htmlEscape(link)}'>#{htmlEscape(match)}</a>\"\n      )\n      AUTO_LINKIFY_PLACEHOLDER\n\n    # now escape html\n    message = htmlEscape message\n\n    # now put the links back in\n    message = message.replace new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), (match, i) ->\n      placeholderBlocks.shift()\n\n    # replace newlines\n    message = message.replace /\\n/g, '<br />\\n'\n\n    # generate quoting clumps\n    processedLines = []\n    quoteBlock = []\n    for line in message.split(\"\\n\")\n      if line.match /^(&gt;|>)/\n        quoteBlock.push line\n      else\n        processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n        quoteBlock = []\n        processedLines.push line\n    processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n    message = processedLines.join \"\\n\"\n\n  delimit: (number) ->\n    # only process real numbers\n    return String(number) if isNaN number\n\n    # capture sign and then start working with the absolute value. don't\n    # process infinities.\n    sign = if number < 0 then '-' else ''\n    abs = Math.abs number\n    return String(number) if abs is Infinity\n\n    # break out the integer portion and initialize the result to just the\n    # decimal (if any)\n    integer = Math.floor abs\n    result = if abs == integer then '' else String(abs).replace(/^\\d+\\./, '.')\n\n    # for each comma'd chunk, prepend to the result and remove from integer\n    while integer >= 1000\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1')\n      integer = Math.floor integer / 1000\n      result = mod + result\n\n    # integer is now either in [1, 999], or equal to 0 iff number in (-1, 1).\n    # prepend it with the sign\n    sign + String(integer) + result\n\n  truncateText: (string, options = {}) ->\n    max = options.max ? 30\n    ellipsis = I18n.t('ellipsis', '...')\n    wordSeparator = I18n.t('word_separator', ' ')\n\n    string = (string ? \"\").replace(/\\s+/g, wordSeparator).trim()\n    return string if not string or string.length <= max\n\n    truncateAt = 0\n    while true\n      pos = string.indexOf(wordSeparator, truncateAt + 1)\n      break if pos < 0 || pos > max - ellipsis.length\n      truncateAt = pos\n    truncateAt or= max - ellipsis.length # first word > max, so we cut it\n\n    string.substring(0, truncateAt) + ellipsis\n\n  plainText: (message) ->\n    # remove all html tags from the message returning only the text\n    message.replace(/(<([^>]+)>)/ig, '');\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/lib.text_helper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('lib.text_helper');\n  ","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"مطلوب\\\",\\\"required\\\":\\\"مطلوب\\\",\\\"unsaved_changes\\\":\\\"توجد تغييرات لم يتم حفظها.\\\"}},\\\"cy\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Gofynnol\\\",\\\"required\\\":\\\"Gofynnol\\\",\\\"unsaved_changes\\\":\\\"Mae gennych chi newidiadau heb eu cadw.\\\"}},\\\"da\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Påkrævet\\\",\\\"required\\\":\\\"Påkrævet\\\",\\\"unsaved_changes\\\":\\\"Du har ændringer, der ikke er gemt.\\\"}},\\\"da-x-k12\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Påkrævet\\\",\\\"required\\\":\\\"Påkrævet\\\",\\\"unsaved_changes\\\":\\\"Du har ændringer, der ikke er gemt.\\\"}},\\\"de\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Erforderlich\\\",\\\"required\\\":\\\"Erforderlich\\\",\\\"unsaved_changes\\\":\\\"Sie haben nicht gespeicherte Änderungen.\\\"}},\\\"el\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Απαιτούμενο\\\",\\\"required\\\":\\\"Απαιτούμενο\\\",\\\"unsaved_changes\\\":\\\"Έχετε αλλαγές που δεν έχουν αποθηκευτεί\\\"}},\\\"en-AU\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Required\\\",\\\"required\\\":\\\"Required\\\",\\\"unsaved_changes\\\":\\\"You have unsaved changes.\\\"}},\\\"en-CA\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Required\\\",\\\"required\\\":\\\"Required\\\",\\\"unsaved_changes\\\":\\\"You have unsaved changes.\\\"}},\\\"en-GB\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Required\\\",\\\"required\\\":\\\"Required\\\",\\\"unsaved_changes\\\":\\\"You have unsaved changes.\\\"}},\\\"es\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorio\\\",\\\"required\\\":\\\"Obligatorio\\\",\\\"unsaved_changes\\\":\\\"Tiene cambios sin guardar.\\\"}},\\\"fa\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"لازم\\\",\\\"required\\\":\\\"لازم\\\",\\\"unsaved_changes\\\":\\\"ذخیره سازی تغییرات را لغو کرده اید.\\\"}},\\\"fi\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Pakollinen\\\",\\\"required\\\":\\\"Pakollinen\\\",\\\"unsaved_changes\\\":\\\"Tallentamattomia muutoksia ei ole.\\\"}},\\\"fr\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Requis\\\",\\\"required\\\":\\\"Requis\\\",\\\"unsaved_changes\\\":\\\"Vous avez des modifications non enregistrées.\\\"}},\\\"fr-CA\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Requis\\\",\\\"required\\\":\\\"Requis\\\",\\\"unsaved_changes\\\":\\\"Vous avez des modifications non enregistrées.\\\"}},\\\"he\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"נדרש\\\",\\\"required\\\":\\\"נדרש\\\",\\\"unsaved_changes\\\":\\\"יש עדיין שינויים שטרם נשמרו\\\"}},\\\"ht\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatwa\\\",\\\"required\\\":\\\"Obligatwa\\\",\\\"unsaved_changes\\\":\\\"Ou gen chanjman ki pa anrejistre.\\\"}},\\\"hu\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Kötelező\\\",\\\"required\\\":\\\"Kötelező\\\",\\\"unsaved_changes\\\":\\\"Még el nem mentett módosításai vannak.\\\"}},\\\"hy\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Պահանջվում է\\\",\\\"required\\\":\\\"Պահանջվում է\\\",\\\"unsaved_changes\\\":\\\"Դուք չպահպանված փոփոխություններ եք արել:\\\"}},\\\"is\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Krafist\\\",\\\"required\\\":\\\"Krafist\\\",\\\"unsaved_changes\\\":\\\"Þú átt óvistaðar breytingar.\\\"}},\\\"it\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obbligatorio\\\",\\\"required\\\":\\\"Obbligatorio\\\",\\\"unsaved_changes\\\":\\\"Hai delle modifiche non salvate.\\\"}},\\\"ja\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"必須\\\",\\\"required\\\":\\\"必須\\\",\\\"unsaved_changes\\\":\\\"未保存の変更内容があります。\\\"}},\\\"ko\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"필수 사항\\\",\\\"required\\\":\\\"필수 사항\\\",\\\"unsaved_changes\\\":\\\"저장하지 않은 변경 사항이 있습니다.\\\"}},\\\"mi\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"e hiahiatia ana\\\",\\\"required\\\":\\\"e hiahiatia ana\\\",\\\"unsaved_changes\\\":\\\"Whai huringa tiakina koe.\\\"}},\\\"nb\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorisk\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"unsaved_changes\\\":\\\"Du har endringer som ikke er lagret.\\\"}},\\\"nb-x-k12\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorisk\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"unsaved_changes\\\":\\\"Du har endringer som ikke er lagret.\\\"}},\\\"nl\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Vereist\\\",\\\"required\\\":\\\"Vereist\\\",\\\"unsaved_changes\\\":\\\"Je hebt veranderingen die nog niet zijn opgeslagen.\\\"}},\\\"nn\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorisk\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"unsaved_changes\\\":\\\"Du har endringar som ikkje er lagra.\\\"}},\\\"pl\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Wymagany\\\",\\\"required\\\":\\\"Wymagany\\\",\\\"unsaved_changes\\\":\\\"Nie zapisano wszystkich zmian.\\\"}},\\\"pt\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Necessário\\\",\\\"required\\\":\\\"Necessário\\\",\\\"unsaved_changes\\\":\\\"Tem alterações não guardadas.\\\"}},\\\"pt-BR\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obrigatório\\\",\\\"required\\\":\\\"Obrigatório\\\",\\\"unsaved_changes\\\":\\\"Você tem alterações não salvas\\\"}},\\\"ru\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Требуется\\\",\\\"required\\\":\\\"Требуется\\\",\\\"unsaved_changes\\\":\\\"Вы сохранили не все изменения.\\\"}},\\\"sl\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Zahtevano\\\",\\\"required\\\":\\\"Zahtevano\\\",\\\"unsaved_changes\\\":\\\"Obstajajo spremembe, ki jih niste shranili.\\\"}},\\\"sv\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorisk\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"unsaved_changes\\\":\\\"Du har osparade ändringar.\\\"}},\\\"sv-x-k12\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Obligatorisk\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"unsaved_changes\\\":\\\"Du har osparade ändringar.\\\"}},\\\"tr\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Zorunlu\\\",\\\"required\\\":\\\"Zorunlu\\\",\\\"unsaved_changes\\\":\\\"Kaydedilmemiş değişiklikler var.\\\"}},\\\"uk\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"Обов'язковий\\\",\\\"required\\\":\\\"Обов'язковий\\\",\\\"unsaved_changes\\\":\\\"Ви маєте незбережені зміни.\\\"}},\\\"zh-Hans\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"必需\\\",\\\"required\\\":\\\"必需\\\",\\\"unsaved_changes\\\":\\\"您有未保存的更改。\\\"}},\\\"zh-Hant\\\":{\\\"errors\\\":{\\\"blank\\\":\\\"必填\\\",\\\"required\\\":\\\"必填\\\",\\\"unsaved_changes\\\":\\\"您有未保存的更改。\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/errors';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('errors');\n  ","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport Backbone from 'Backbone'\nimport ValidatedMixin from './ValidatedMixin'\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport I18n from 'i18n!errors'\nimport 'jquery.toJSON'\nimport 'jquery.disableWhileLoading'\nimport 'jquery.instructure_forms'\nimport {send} from 'jsx/shared/rce/RceCommandShim'\nimport {shimGetterShorthand} from '../legacyCoffeesScriptHelpers'\n\n##\n# Sets model data from a form, saves it, and displays errors returned in a\n# failed request.\n#\n# @event submit\n#\n# @event fail\n#   @signature `(errors, jqXHR, status, statusText)`\n#   @param errors - the validation errors, each error has the form $input\n#                   and the $errorBox attached to it for easy access\n#\n# @event success\n#   @signature `(response, status, jqXHR)`\nexport default class ValidatedFormView extends Backbone.View\n\n  @mixin ValidatedMixin\n\n  tagName: 'form'\n\n  className: 'validated-form-view'\n\n  events:\n    submit: 'submit'\n\n  ##\n  # Default options to pass when saving the model.\n  saveOpts:\n    # wait for server success response before updating model attributes locally\n    wait: true\n\n  ##\n  # Default options to pass to disableWhileLoading when submitting\n  disableWhileLoadingOpts: {}\n\n  ##\n  # Sets the model data from the form and saves it. Called when the form\n  # submits, or can be called programatically.\n  # set @saveOpts in your view to to pass opts to Backbone.sync (like multipart: true if you have\n  # a file attachment).  if you want the form not to be re-enabled after save success (because you\n  # are navigating to a new page, set dontRenableAfterSaveSuccess to true on your view)\n  #\n  # NOTE: If you are uploading a file attachment, be careful! our\n  # syncWithMultipart extension doesn't call toJSON on your model!\n  #\n  # @api public\n  # @returns jqXHR\n  submit: (event, sendFunc = send) ->\n    event?.preventDefault()\n    @hideErrors()\n    \n\n    rceInputs = @$el.find('textarea[data-rich_text]').toArray()\n    \n    okayToContinue = true\n    if rceInputs.length > 0\n      if window.ENV.use_rce_enhancements\n        okayToContinue = rceInputs.map((rce) => sendFunc($(rce), 'checkReadyToGetCode', window.confirm)).every((value) => value)\n    \n    if !okayToContinue\n      return\n\n    data = @getFormData()\n    errors = @validateBeforeSave data, {}\n\n    if _.keys(errors).length == 0\n      disablingDfd = new $.Deferred()\n      saveDfd = @saveFormData(data)\n      saveDfd.then(@onSaveSuccess.bind(this), @onSaveFail.bind(this))\n      saveDfd.fail =>\n        disablingDfd.reject()\n        @setFocusAfterError() if @setFocusAfterError\n\n      unless @dontRenableAfterSaveSuccess\n        saveDfd.done -> disablingDfd.resolve()\n\n      @$el.disableWhileLoading disablingDfd, @disableWhileLoadingOpts\n      @trigger 'submit'\n      saveDfd\n    else\n      # focus on the first element with an error for accessibility\n      dateOverrideErrors = _.map($('[data-error-type]'), (element) =>\n        $(element).attr('data-error-type')\n      )\n      assignmentFieldErrors = _.chain(_.keys(errors))\n                              .reject((err) -> _.includes(dateOverrideErrors, err))\n                              .value()\n      first_error = assignmentFieldErrors[0] || dateOverrideErrors[0]\n      @findField(first_error).focus()\n      # short timeout to ensure alerts are properly read after focus change.\n      window.setTimeout((=>\n        @showErrors errors\n        null\n      ), 50)\n\n\n  ##\n  # Converts the form to an object. Override this if the form's input names\n  # don't match the model/API fields\n  getFormData: ->\n    @$el.toJSON()\n\n  ##\n  # Saves data from the form using the model.\n  # Override to provide customized saving behavior.\n  saveFormData: (data=null) ->\n    model = @model\n    data ||= @getFormData()\n    saveOpts = @saveOpts\n    model.save(data, saveOpts)\n\n  ##\n  # Performs validation on the form, using the validateFormData method, and\n  # shows the errors using showErrors.\n  #\n  # Override validateFormData or showErrors to change their respective behaviors.\n  #\n  # @api public\n  # @returns true if there were no validation errors, otherwise false\n  validate: (opts={}) ->\n    opts ||= {}\n    data = opts['data'] || @getFormData()\n    errors = @validateFormData data, {}\n\n    @hideErrors()\n    @showErrors(errors)\n    errors.length == 0\n\n  ##\n  # Validates provided form data, returning any errors found.\n  # Override to provide customized validation behavior.\n  #\n  # @returns errors (see parseErrorResponse for the errors format)\n  validateFormData: (data) ->\n    {}\n\n  ##\n  # Validates provided form data just before saving, returning any errors\n  # found. By default it delegates to @validateFormData to perform validation,\n  # but allows for alternative save-oriented validation to be performed.\n  # Override to provide customized pre-save validation behavior.\n  #\n  # @returns errors (see parseErrorResponse for the errors format)\n  validateBeforeSave: (data) ->\n    @validateFormData(data)\n\n  ##\n  # Hides all errors previously shown in the UI.\n  # Override to match the way showErrors displays the errors.\n  hideErrors: ->\n    @$el.hideErrors()\n\n  onSaveSuccess: =>\n    @trigger 'success', arguments...\n\n  onSaveFail: (xhr) =>\n    errors = @parseErrorResponse xhr\n    errors ||= {}\n    @showErrors errors\n    @trigger 'fail', errors, arguments...\n\n  ##\n  # Parses the response body into an error object `@showErrors` understands.\n  # Override for API end-points that don't follow convention, needs to return\n  # something that looks like this:\n  #\n  #   {\n  #     <field1>: [errors],\n  #     <field2>: [errors]\n  #   }\n  #\n  # For example:\n  #\n  #   {\n  #     first_name: [\n  #       {\n  #         type: 'required'\n  #         message: 'First name is required'\n  #       },\n  #       {\n  #         type: 'no_numbers',\n  #         message: \"First name can't contain numbers\"\n  #       }\n  #     ]\n  #   }\n  parseErrorResponse: (response) ->\n    if response.status is 422\n      {authenticity_token: \"invalid\"}\n    else\n      try\n        $.parseJSON(response.responseText).errors\n      catch error\n        {}\n\n  translations: shimGetterShorthand {},\n    required: -> I18n.t \"required\", \"Required\"\n    blank: -> I18n.t \"blank\", \"Required\"\n    unsaved: -> I18n.t \"unsaved_changes\", \"You have unsaved changes.\"\n\n  ##\n  # Errors are displayed relative to the field to which they belong. If\n  # the key of the error in the response doesn't match the name attribute\n  # of the form input element, configure a selector here.\n  #\n  # For example, given a form field like this:\n  #\n  #   <input name=\"user[first_name]\">\n  #\n  # and an error response like this:\n  #\n  #   {errors: { first_name: {...} }}\n  #\n  # you would do this:\n  #\n  #   fieldSelectors:\n  #     first_name: '[name=user[first_name]]'\n  fieldSelectors: null\n\n  findField: (field) ->\n    selector = @fieldSelectors?[field] or \"[name='#{field}']\"\n    $el = @$(selector)\n    if $el.length == 0 # 3rd fallback in case prior selectors find no elements\n      $el = @$(\"[data-error-type='#{field}']\")\n    if $el.data('rich_text')\n      $el = @findSiblingTinymce($el)\n    if $el.length > 1 # e.g. hidden input + checkbox, show it by the checkbox\n      $el = $el.not('[type=hidden]')\n    $el\n\n  castJSON: (obj) ->\n    return obj unless _.isObject(obj)\n    return obj.toJSON() if obj.toJSON?\n    clone = _.clone(obj)\n    _.each clone, (val, key) => clone[key] = @castJSON(val)\n    clone\n\n  original: null\n  watchUnload: =>\n    @original = @castJSON(@getFormData())\n    @unwatchUnload()\n    $(window).on 'beforeunload', @checkUnload\n\n  unwatchUnload: ->\n    $(window).off 'beforeunload', @checkUnload\n\n  checkUnload: =>\n    current = @castJSON(@getFormData())\n    @translations.unsaved unless _.isEqual(@original, current)\n","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Scrolls the supplied object until its visible. Call from\n// (\"html,body\") to scroll the window.\n\nimport $ from 'jquery'\nimport './vendor/jquery.scrollTo'\n\n$.fn.scrollToVisible = function(obj) {\n  const options = {}\n  const $obj = $(obj)\n\n  if ($obj.length === 0) {\n    return\n  }\n  let innerOffset = $obj.offset(),\n    width = $obj.outerWidth(),\n    height = $obj.outerHeight(),\n    top = innerOffset.top,\n    bottom = top + height,\n    left = innerOffset.left,\n    right = left + width,\n    currentTop = this.selector == 'html,body' ? $.windowScrollTop() : this.scrollTop(),\n    currentLeft = this.scrollLeft(),\n    currentHeight = this.outerHeight(),\n    currentWidth = this.outerWidth()\n\n  if (this.selector != 'html,body') {\n    let outerOffset = $('body').offset()\n    this.each(function() {\n      try {\n        outerOffset = $(this).offset()\n        return false\n      } catch (e) {}\n    })\n    top -= outerOffset.top\n    bottom -= outerOffset.top\n    left -= outerOffset.left\n    right -= outerOffset.left\n  }\n\n  if (this[0].tagName == 'HTML' || this[0].tagName == 'BODY') {\n    currentHeight = $(window).height()\n    if ($('#wizard_box:visible').length > 0) {\n      currentHeight -= $('#wizard_box:visible').height()\n    }\n    currentWidth = $(window).width()\n    top -= currentTop\n    left -= currentLeft\n    bottom -= currentTop\n    right -= currentLeft\n  }\n  if (top < 0 || (currentHeight < height && bottom > currentHeight)) {\n    options.scrollTop = top + currentTop\n  } else if (bottom > currentHeight) {\n    options.scrollTop = bottom + currentTop - currentHeight + 20\n  }\n  if (left < 0) {\n    options.scrollLeft = left + currentLeft\n  } else if (right > currentWidth) {\n    options.scrollLeft = right + currentLeft - currentWidth + 20\n  }\n  if (options.scrollTop == 1) {\n    options.scrollTop = 0\n  }\n  if (options.scrollLeft == 1) {\n    options.scrollLeft = 0\n  }\n\n  this.scrollTop(options.scrollTop)\n  this.scrollLeft(options.scrollLeft)\n\n  return this\n}\n","//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport {send} from 'jsx/shared/rce/RceCommandShim'\n\nconst rselectTextarea = /^(?:select|textarea)/i\nconst rCRLF = /\\r?\\n/g\nconst rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week|file)$/i\n// radio / checkbox are not included, since they are handled by the @checked check\n\nfunction elements() {\n  if (this.elements) {\n    return $.makeArray(this.elements)\n  } else {\n    const els = $(this).find(':input')\n    if (els.length) {\n      return els\n    } else {\n      return this\n    }\n  }\n}\n\nfunction isSerializable() {\n  return (\n    this.name &&\n    !this.disabled &&\n    (this.checked || rselectTextarea.test(this.nodeName) || rinput.test(this.type))\n  )\n}\n\nfunction resultFor(name, value) {\n  if (typeof value === 'string') value = value.replace(rCRLF, '\\r\\n')\n  return {name, value}\n}\n\nfunction getValue() {\n  const $input = $(this)\n  const value = (() => {\n    if (this.type === 'file') {\n      if ($input.val()) return this\n    } else if ($input.hasClass('datetime_field_enabled')) {\n      // datepicker doesn't clear the data date attribute when a date is deleted\n      if ($input.val() === '') {\n        return null\n      } else {\n        return $input.data('date') || null\n      }\n    } else if ($input.data('rich_text')) {\n      return send($input, 'get_code', false)\n    } else {\n      return $input.val()\n    }\n  })()\n\n  if ($.isArray(value)) {\n    return value.map(val => resultFor(this.name, val))\n  } else {\n    return resultFor(this.name, value)\n  }\n}\n\n// #\n// identical to $.fn.serializeArray, except:\n// 1. it works on non-forms (see elements)\n// 2. it handles file, date picker and tinymce inputs (see getValue)\nexport default $.fn.serializeForm = function() {\n  return this.map(elements)\n    .filter(isSerializable)\n    .map(getValue)\n    .get()\n}\n","//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport preventDefault from '../fn/preventDefault'\nimport 'jqueryui/dialog'\n\n$.fn.fixDialogButtons = function() {\n  return this.each(function() {\n    const $dialog = $(this)\n    const $buttons = $dialog.find('.button-container:last .btn, button[type=submit]')\n    if ($buttons.length) {\n      $dialog.find('.button-container:last, button[type=submit]').hide()\n      let buttons = $.map($buttons.toArray(), button => {\n        const $button = $(button)\n        let classes = $button.attr('class') || ''\n        const id = $button.attr('id')\n\n        // if you add the class 'dialog_closer' to any of the buttons,\n        // clicking it will cause the dialog to close\n        if ($button.is('.dialog_closer')) {\n          $button.off('.fixdialogbuttons')\n          $button.on('click.fixdialogbuttons', preventDefault(() => $dialog.dialog('close')))\n        }\n\n        if ($button.prop('type') === 'submit' && $button[0].form) {\n          classes += ' button_type_submit'\n        }\n\n        return {\n          text: $button.text(),\n          'data-text-while-loading': $button.data('textWhileLoading'),\n          click: () => $button.click(),\n          class: classes,\n          id\n        }\n      })\n      // put the primary button(s) on the far right\n      buttons = _.sortBy(buttons, button => (button.class.match(/btn-primary/) ? 1 : 0))\n      $dialog.dialog('option', 'buttons', buttons)\n    }\n  })\n}\n","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport 'jquery.toJSON'\nimport 'jquery.disableWhileLoading'\nimport 'jquery.instructure_forms'\nimport 'jquery.instructure_misc_helpers'\n\nexport default ValidatedMixin =\n\n  ##\n  # Errors are displayed relative to the field to which they belong. If\n  # the key of the error in the response doesn't match the name attribute\n  # of the form input element, configure a selector here.\n  #\n  # For example, given a form field like this:\n  #\n  #   <input name=\"user[first_name]\">\n  #\n  # and an error response like this:\n  #\n  #   {errors: { first_name: {...} }}\n  #\n  # you would do this:\n  #\n  #   fieldSelectors:\n  #     first_name: '[name=user[first_name]]'\n  fieldSelectors: null\n\n  ##\n  # For a given dom element, retrieve the sibling tinymce wrapper.\n  #\n  # @param {jQuery Object} the textarea for whom we wish to get the\n  #   related tinymce editor area\n  # @return {jQuery Object} the relevant div that wraps the tinymce\n  #   iframe related to this textarea\n  findSiblingTinymce: ($el)->\n    $el.siblings('.mce-tinymce').find(\".mce-edit-area\")\n\n  findField: (field, useGlobalSelector=false) ->\n    selector = @fieldSelectors?[field] or \"[name='#{field}']\"\n    if useGlobalSelector\n      $el = $(selector)\n    else\n      $el = @$(selector)\n\n    if $el.data('rich_text')\n      $el = @findSiblingTinymce($el)\n    $el\n\n  ##\n  # Needs an errors object that looks like this:\n  #\n  #   {\n  #     <field1>: [errors],\n  #     <field2>: [errors]\n  #   }\n  #\n  # For example:\n  #\n  #   {\n  #     first_name: [\n  #       {\n  #         type: 'required'\n  #         message: 'First name is required'\n  #       },\n  #       {\n  #         type: 'no_numbers',\n  #         message: \"First name can't contain numbers\"\n  #       }\n  #     ]\n  #   }\n  #\n  # If globalSelector is true, it will look for this element everywhere\n  # in the DOM instead of only `this` children elements. This is particularly\n  # useful for some modals\n  showErrors: (errors, useGlobalSelector=false) ->\n    for fieldName, field of errors\n      $input = field.element || @findField(fieldName, useGlobalSelector)\n      html = field.message || (htmlEscape(@translations?[message] or message) for {message} in field).join('</p><p>')\n      $input.errorBox($.raw(\"#{html}\"))?.css(\"z-index\", \"1100\")?.attr('role', 'alert')\n      @attachErrorDescription($input, html)\n      field.$input = $input\n      field.$errorBox = $input.data 'associated_error_box'\n\n  attachErrorDescription: ($input, message) ->\n    errorDescriptionField = @findOrCreateDescriptionField($input)\n    errorDescriptionField[\"description\"].text($.raw(\"#{message}\"))\n    $input.attr('aria-describedby',\n      errorDescriptionField[\"description\"].attr('id') + \" \" +\n      errorDescriptionField[\"originalDescriptionIds\"]\n    )\n\n  findOrCreateDescriptionField: ($input) ->\n    id = $input.attr('id')\n    unless $(\"##{id}_sr_description\").length > 0\n      $('<div>').attr({\n        id: \"#{id}_sr_description\"\n        class: \"screenreader-only\"\n      }).insertBefore($input)\n    description = $(\"##{id}_sr_description\")\n    originalDescriptionIds = @getExistingDescriptionIds($input, id)\n    {description: description, originalDescriptionIds: originalDescriptionIds}\n\n  getExistingDescriptionIds: ($input, id) ->\n    descriptionIds = $input.attr('aria-describedby')\n    idArray = if descriptionIds then descriptionIds.split(\" \") else []\n    _.without(idArray,\"#{id}_sr_description\")\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"إلغاء\\\",\\\"save_settings\\\":\\\"حفظ الإعدادات\\\",\\\"saving\\\":\\\"جارٍ الحفظ...\\\"}},\\\"cy\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"save_settings\\\":\\\"Cadw Gosodiadau\\\",\\\"saving\\\":\\\"Wrthi’n cadw...\\\"}},\\\"da\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"save_settings\\\":\\\"Gem indstillinger\\\",\\\"saving\\\":\\\"Gemmer ...\\\"}},\\\"da-x-k12\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"save_settings\\\":\\\"Gem indstillinger\\\",\\\"saving\\\":\\\"Gemmer ...\\\"}},\\\"de\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"save_settings\\\":\\\"Einstellungen speichern\\\",\\\"saving\\\":\\\"Speichervorgang läuft ...\\\"}},\\\"el\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Ακύρωση\\\",\\\"save_settings\\\":\\\"Αποθήκευση Ρυθμίσεων\\\",\\\"saving\\\":\\\"Αποθήκευση...\\\"}},\\\"en-AU\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"save_settings\\\":\\\"Save Settings\\\",\\\"saving\\\":\\\"Saving...\\\"}},\\\"en-CA\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"save_settings\\\":\\\"Save Settings\\\",\\\"saving\\\":\\\"Saving...\\\"}},\\\"en-GB\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"save_settings\\\":\\\"Save settings\\\",\\\"saving\\\":\\\"Saving...\\\"}},\\\"es\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"save_settings\\\":\\\"Guardar las configuraciones\\\",\\\"saving\\\":\\\"Guardando...\\\"}},\\\"fa\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"لغو\\\",\\\"save_settings\\\":\\\"ذخیره سازی تنظیمات\\\",\\\"saving\\\":\\\"در حال ذخیره سازی...\\\"}},\\\"fi\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"save_settings\\\":\\\"Tallenna asetukset\\\",\\\"saving\\\":\\\"Tallennetaan...\\\"}},\\\"fr\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"save_settings\\\":\\\"Enregistrer les paramètres\\\",\\\"saving\\\":\\\"Enregistrement...\\\"}},\\\"fr-CA\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"save_settings\\\":\\\"Enregistrer les paramètres\\\",\\\"saving\\\":\\\"Enregistrement...\\\"}},\\\"he\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"ביטול\\\",\\\"save_settings\\\":\\\"שמירת הגדרות\\\",\\\"saving\\\":\\\"שומר...\\\"}},\\\"ht\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"save_settings\\\":\\\"Anrejistre Paramèt\\\",\\\"saving\\\":\\\"Anrejistreman...\\\"}},\\\"hu\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Mégse\\\",\\\"save_settings\\\":\\\"Beállítások mentése\\\",\\\"saving\\\":\\\"Mentés...\\\"}},\\\"hy\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Չեղյալ համարել\\\",\\\"save_settings\\\":\\\"Պահպանել կարգաբերումները\\\",\\\"saving\\\":\\\"Պահպանվում է...\\\"}},\\\"is\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Hætta við\\\",\\\"save_settings\\\":\\\"Vista stillingar\\\",\\\"saving\\\":\\\"Vista...\\\"}},\\\"it\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"save_settings\\\":\\\"Salva impostazioni\\\",\\\"saving\\\":\\\"Salvataggio in corso...\\\"}},\\\"ja\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"キャンセル\\\",\\\"save_settings\\\":\\\"設定の保存\\\",\\\"saving\\\":\\\"保存しています...\\\"}},\\\"ko\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"취소\\\",\\\"save_settings\\\":\\\"설정 저장\\\",\\\"saving\\\":\\\"저장 중...\\\"}},\\\"mi\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"save_settings\\\":\\\"Ngā Tautuhinga Tiaki\\\",\\\"saving\\\":\\\"Kei te tiakina\\\"}},\\\"nb\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"save_settings\\\":\\\"Lagre innstillinger\\\",\\\"saving\\\":\\\"Lagrer…\\\"}},\\\"nb-x-k12\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"save_settings\\\":\\\"Lagre innstillinger\\\",\\\"saving\\\":\\\"Lagrer…\\\"}},\\\"nl\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"save_settings\\\":\\\"Instellingen opslaan\\\",\\\"saving\\\":\\\"Bezig met opslaan...\\\"}},\\\"nn\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"save_settings\\\":\\\"Lagre innstillingar\\\",\\\"saving\\\":\\\"Lagrar...\\\"}},\\\"pl\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"save_settings\\\":\\\"Zapisz ustawienia\\\",\\\"saving\\\":\\\"Trwa zapisywanie...\\\"}},\\\"pt\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"save_settings\\\":\\\"Guardar definições\\\",\\\"saving\\\":\\\"A guardar...\\\"}},\\\"pt-BR\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"save_settings\\\":\\\"Salvar configurações\\\",\\\"saving\\\":\\\"Salvando...\\\"}},\\\"ru\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Отменить\\\",\\\"save_settings\\\":\\\"Сохранить настройки\\\",\\\"saving\\\":\\\"Сохранение...\\\"}},\\\"sl\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Prekliči\\\",\\\"save_settings\\\":\\\"Shrani nastavitve\\\",\\\"saving\\\":\\\"Shranjevanje ...\\\"}},\\\"sv\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"save_settings\\\":\\\"Spara inställningarna\\\",\\\"saving\\\":\\\"Sparar ...\\\"}},\\\"sv-x-k12\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"save_settings\\\":\\\"Spara inställningarna\\\",\\\"saving\\\":\\\"Sparar ...\\\"}},\\\"tr\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"İptal\\\",\\\"save_settings\\\":\\\"Ayarları Kaydet\\\",\\\"saving\\\":\\\"Kaydediliyor...\\\"}},\\\"uk\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"Скасувати\\\",\\\"save_settings\\\":\\\"Зберегти налаштування\\\",\\\"saving\\\":\\\"Збереження...\\\"}},\\\"zh-Hans\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"save_settings\\\":\\\"保存设置\\\",\\\"saving\\\":\\\"正在保存...\\\"}},\\\"zh-Hant\\\":{\\\"dialog_form_wrapper\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"save_settings\\\":\\\"保存設置\\\",\\\"saving\\\":\\\"正在保存...\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/dialog_form_wrapper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('dialog_form_wrapper');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!dialog_form_wrapper\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'DialogFormWrapper';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"outlet\\\"></div>\\n\\n<div class=\\\"button-container\\\">\\n  <button class=\\\"btn dialog_closer\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"dialog_form_wrapper\")\n  },data:data},helper ? helper.call(depth0, \"cancel\", \"Cancel\", options) : helperMissing.call(depth0, \"t\", \"cancel\", \"Cancel\", options)))\n    + \"</button>\\n  <button\\n    class=\\\"btn btn-primary\\\"\\n    data-text-while-loading='\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"dialog_form_wrapper\")\n  },data:data},helper ? helper.call(depth0, \"saving\", \"Saving...\", options) : helperMissing.call(depth0, \"t\", \"saving\", \"Saving...\", options)))\n    + \"'\\n    type=\\\"submit\\\"\\n  >\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"dialog_form_wrapper\")\n  },data:data},helper ? helper.call(depth0, \"save_settings\", \"Save Settings\", options) : helperMissing.call(depth0, \"t\", \"save_settings\", \"Save Settings\", options)))\n    + \"</button>\\n\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport ValidatedFormView from './ValidatedFormView'\nimport preventDefault from '../fn/preventDefault'\nimport wrapper from 'jst/DialogFormWrapper'\nimport 'jqueryui/dialog'\nimport '../jquery/fixDialogButtons'\n\n##\n# Creates a form dialog.\n#\n# - Wraps your template in a form (don't need a form tag or button controls\n#   in the template)\n#\n# - Handles saving the model to the server\n#\n# usage:\n#\n#   handlebars:\n#     <p>\n#       <label><input name=\"first_name\" value=\"{{first_name}}\"/></label>\n#     </p>\n#\n#   coffeescript:\n#     new DialogFormView\n#       template: someTemplate\n#       model: someModel\n#       trigger: '#editSettings'\n#\nexport default class DialogFormView extends ValidatedFormView\n\n  defaults:\n\n    ##\n    # the element selector that opens the dialog, if false, no trigger logic\n    # will be established\n    trigger: false\n\n    ##\n    # will figure out the title from the trigger if null\n    title: null\n\n    width: null\n\n    height: null\n\n    minWidth: null\n\n    minHeight: null\n\n    fixDialogButtons: true\n\n  $dialogAppendTarget: $ 'body'\n\n  className: 'dialogFormView'\n\n  ##\n  # creates the form wrapper, with button controls\n  # override in subclasses at will\n  wrapperTemplate: wrapper\n\n  initialize: ->\n    super\n    @setTrigger()\n    @open = @firstOpen\n    @renderEl = @firstRenderEl\n\n  ##\n  # the function to open the dialog.  will be set to either @firstOpen or\n  # @openAgain depending on the state of the view\n  #\n  # @api public\n  open: null\n\n  ##\n  # @api public\n  close: ->\n    # could be calling this from the close event\n    # so we want to check if it's open\n    if @dialog?.isOpen()\n      @dialog.close()\n    @focusReturnsTo()?.focus()\n\n  ##\n  # @api public\n  toggle: =>\n    if @dialog?.isOpen()\n      @close()\n    else\n      @open()\n\n  ##\n  # @api public\n  remove: ->\n    super\n    @$trigger?.off '.dialogFormView'\n    @$dialog?.remove()\n    @open = @firstOpen\n    @renderEl = @firstRenderEl\n\n  ##\n  # lazy init on first open\n  # @api private\n  firstOpen: ->\n    @insert()\n    @render()\n    @setupDialog()\n    @openAgain()\n    @open = @openAgain\n\n  ##\n  # @api private\n  openAgain: ->\n    @dialog.open()\n    @dialog.focusable.focus()\n\n  ##\n  # @api private\n  insert: ->\n    @$el.appendTo @$dialogAppendTarget\n\n  ##\n  # If your trigger isn't rendered after this view (like a parent view\n  # contains the trigger) then you can set this manually (like in the\n  # parent views afterRender), otherwise it'll use the options.\n  #\n  # @api public\n  #\n  setTrigger: (el) ->\n    @options.trigger = el if el\n    return unless @options.trigger\n    @$trigger = $ @options.trigger\n    @attachTrigger()\n\n  ##\n  # @api private\n  attachTrigger: ->\n    @$trigger?.on 'click.dialogFormView', preventDefault(@toggle)\n\n  ##\n  # the function to render the element.  it will either be firstRenderEl or\n  # renderElAgain depending on the state of the view\n  #\n  # @api private\n  renderEl: null\n\n  firstRenderEl: =>\n    @$el.html @wrapperTemplate @toJSON()\n    @renderElAgain()\n    # reassign: only render the outlet now\n    @renderEl = @renderElAgain\n\n  ##\n  # @api private\n  renderElAgain: =>\n    html = @template @toJSON()\n    @$el.find('.outlet').html html\n\n  ##\n  # @api private\n  getDialogTitle: ->\n    @options.title or\n    @$trigger?.attr('title') or\n    @getAriaTitle()\n\n  getAriaTitle: ->\n    ariaID = @$trigger?.attr 'aria-describedby'\n    $(\"##{ariaID}\").text()\n\n  ##\n  # @api private\n  setupDialog: ->\n    opts =\n      autoOpen: false\n      title: @getDialogTitle()\n      close: =>\n        @close()\n        @trigger 'close'\n      open: => @trigger 'open'\n    opts.width = @options.width\n    opts.height = @options.height\n    opts.minWidth = @options.minWidth\n    opts.minHeight = @options.minHeight\n    @$el.dialog(opts)\n    @$el.fixDialogButtons() if @options.fixDialogButtons\n    @dialog = @$el.data 'dialog'\n    $('.ui-resizable-handle').attr('aria-hidden', true)\n\n  setDimensions: (width, height) ->\n    width = if width? then width else @options.width\n    height = if height? then height else @options.height\n    opts =\n      width: width\n      height: height\n    @$el.dialog(opts)\n\n  ##\n  # @api private\n  onSaveSuccess: =>\n    super\n    @close()\n\n  ##\n  # @api private\n  focusReturnsTo: ->\n    return null unless @$trigger\n    if id = @$trigger.data('focusReturnsTo')\n      return $(\"##{id}\")\n    else\n      return @$trigger\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"إلغاء\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"هل ترغب بالتأكيد في حذف هذا؟\\\"}}},\\\"cy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"delete\\\":\\\"Dileu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ydych chi’n siŵr eich bod am ddileu hyn?\\\"}}},\\\"da\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"da-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"de\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"delete\\\":\\\"Löschen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Möchten Sie dies wirklich löschen?\\\"}}},\\\"el\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Ακύρωση\\\",\\\"delete\\\":\\\"Διαγραφή\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Είστε σίγουρος/η ότι επιθυμείτε να το διαγράψετε;\\\"}}},\\\"en-AU\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-GB\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"es\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Eliminar\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"¿Seguro que desea eliminarlo?\\\"}}},\\\"fa\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"لغو\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"مطمئنید که می خواهید این مورد حذف شود؟\\\"}}},\\\"fi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"delete\\\":\\\"Poista\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Haluatko varmasti poistaa tämän?\\\"}}},\\\"fr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément ?\\\"}}},\\\"fr-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément?\\\"}}},\\\"he\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"ביטול\\\",\\\"delete\\\":\\\"ביטול\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"בטוח/ה שרוצה לבטל זאת?\\\"}}},\\\"ht\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"delete\\\":\\\"Efase\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ou kwè vrèman ou vle efase sa a?\\\"}}},\\\"hu\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Mégse\\\",\\\"delete\\\":\\\"Törlés\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Biztos benne, hogy törli ezt?\\\"}}},\\\"hy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Չեղյալ համարել\\\",\\\"delete\\\":\\\"Ջնջել\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Դուք իսկապե՞ս ցանկանում եք ջնջել սա:\\\"}}},\\\"is\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Hætta við\\\",\\\"delete\\\":\\\"Eyða\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Viltu örugglega eyða þessu?\\\"}}},\\\"it\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"delete\\\":\\\"Elimina\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vuoi eliminare questo?\\\"}}},\\\"ja\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"キャンセル\\\",\\\"delete\\\":\\\"削除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"これを削除してもよろしいですか?\\\"}}},\\\"ko\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"취소\\\",\\\"delete\\\":\\\"삭제\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"삭제하시겠습니까?\\\"}}},\\\"mi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"delete\\\":\\\"Muku\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"E tino hiahia ana koe ki te muku i tēnei?\\\"}}},\\\"nb\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nb-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"delete\\\":\\\"Verwijderen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Weet je zeker dat je dit wilt verwijderen?\\\"}}},\\\"nn\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du vil slette dette?\\\"}}},\\\"pl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"delete\\\":\\\"Usuń\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Czy na pewno chcesz usunąć ten element?\\\"}}},\\\"pt\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza de que deseja excluir isto?\\\"}}},\\\"pt-BR\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza que deseja excluir isto?\\\"}}},\\\"ru\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Отменить\\\",\\\"delete\\\":\\\"Удалить\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Действительно хотите удалить?\\\"}}},\\\"sl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Prekliči\\\",\\\"delete\\\":\\\"Odstrani\\\"}},\\\"sv\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"sv-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"tr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"İptal\\\",\\\"delete\\\":\\\"Sil\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Bunu silmek istediğinize emin misiniz?\\\"}}},\\\"uk\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Скасувати\\\",\\\"delete\\\":\\\"Видалити\\\"}},\\\"zh-Hans\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"删除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"是否确定要删除它?\\\"}}},\\\"zh-Hant\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"刪除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"您是否確定要刪除？\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/instructure_misc_plugins';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('instructure_misc_plugins');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!instructure_misc_plugins'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport authenticity_token from 'compiled/behaviors/authenticity_token'\nimport './jquery.ajaxJSON'\nimport 'jqueryui/dialog'\nimport './jquery.scrollToVisible'\nimport './vendor/jquery.scrollTo'\n\n$.fn.setOptions = function(prompt, options) {\n  let result = prompt ? \"<option value=''>\" + htmlEscape(prompt) + '</option>' : ''\n\n  if (options == null) {\n    options = []\n  }\n\n  options.forEach(opt => {\n    const optHtml = htmlEscape(opt)\n    result += '<option value=\"' + optHtml + '\">' + optHtml + '</option>'\n  })\n\n  return this.html($.raw(result))\n}\n\n// this function is to prevent you from doing all kinds of expesive operations on a\n// jquery object that doesn't actually have any elements in it\n// it is similar and inspired by http://www.slideshare.net/paul.irish/perfcompression (slide #42)\n// to use it do something like:\n// $(\"a .bunch #of .nodes\").ifExists(function(orignalQuery){\n//   //  'this' points to the original jquery object (in this case, $(\"a .bunch #of .nodes\") );\n//   // orignalQuery is the same as 'this';\n//   this.slideUp().dialog().show();\n// });\n$.fn.ifExists = function(func) {\n  this.length && func.call(this, this)\n  return this\n}\n\n// Returns the width of the browser's scroll bars.\n$.fn.scrollbarWidth = function() {\n  const $div = $(\n      '<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div>'\n    ).appendTo(this),\n    $innerDiv = $div.find('div')\n  // Append our div, do our calculation and then remove it\n  const w1 = $innerDiv.innerWidth()\n  $div.css('overflow-y', 'scroll')\n  const w2 = $innerDiv.innerWidth()\n  $div.remove()\n  return w1 - w2\n}\n\n// Simple animation for dimming an element's opacity\n$.fn.dim = function(speed) {\n  return this.animate({opacity: 0.4}, speed)\n}\n\n$.fn.undim = function(speed) {\n  return this.animate({opacity: 1.0}, speed)\n}\n\n// Helper for deleting objects from the DOM and db.\n//  url: URL to pass DELETE message.  If none provided,\n//    behaves as if the request were a success.  Useful for testing.\n//  message: Confirmation message\n//  cancelled: Function to handle cancel.\n//  confirmed: Function to handle confirm, before submit.\n//  success: What to do on success.  If none provided, fades\n//    out the element and removes it from the DOM.\n//  error: Error.\n//  dialog: If present, do a jquery.ui.dialog instead of a confirm(). If an\n//    object, it will be merged into the dialog options.\n$.fn.confirmDelete = function(options) {\n  var options = $.extend({}, $.fn.confirmDelete.defaults, options)\n  const $object = this\n  let $dialog = null\n  let result = true\n  options.noMessage = options.noMessage || options.no_message\n  const onContinue = function() {\n    if (!result) {\n      if (options.cancelled && $.isFunction(options.cancelled)) {\n        options.cancelled.call($object)\n      }\n      return\n    }\n    if (!options.confirmed) {\n      options.confirmed = function() {\n        $object.dim()\n      }\n    }\n    options.confirmed.call($object)\n    if (options.url) {\n      if (!options.success) {\n        options.success = function(data) {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      const data = options.prepareData ? options.prepareData.call($object, $dialog) : {}\n      data.authenticity_token = authenticity_token()\n      $.ajaxJSON(\n        options.url,\n        'DELETE',\n        data,\n        data => {\n          options.success.call($object, data)\n        },\n        (data, request, status, error) => {\n          if (options.error && $.isFunction(options.error)) {\n            options.error.call($object, data, request, status, error)\n          } else {\n            $.ajaxJSON.unhandledXHRs.push(request)\n          }\n        }\n      )\n    } else {\n      if (!options.success) {\n        options.success = function() {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      options.success.call($object)\n    }\n  }\n  if (options.message && !options.noMessage && !$.skipConfirmations) {\n    if (options.dialog) {\n      result = false\n      const dialog_options = typeof options.dialog === 'object' ? options.dialog : {}\n      const confirmation_class = options.url.includes('assignments') ? 'btn-danger' : 'btn-primary'\n      $dialog = $(options.message).dialog(\n        $.extend(\n          {},\n          {\n            modal: true,\n            close: onContinue,\n            buttons: [\n              {\n                text: I18n.t('#buttons.cancel', 'Cancel'),\n                click() {\n                  $(this).dialog('close')\n                } // ; onContinue();\n              },\n              {\n                text: I18n.t('#buttons.delete', 'Delete'),\n                class: confirmation_class,\n                click() {\n                  result = true\n                  $(this).dialog('close')\n                }\n              }\n            ]\n          },\n          dialog_options\n        )\n      )\n      return\n    } else {\n      result = confirm(options.message)\n    }\n  }\n  onContinue()\n}\n$.fn.confirmDelete.defaults = {\n  get message() {\n    return I18n.t('confirms.default_delete_thing', 'Are you sure you want to delete this?')\n  }\n}\n\n// Watches the given element's location.href for any changes\n// to the fragment (\"#...\") and calls the provided function\n// when there are any.\n// $(document).fragmentChange(function(event, hash) { alert(hash); });\n$.fn.fragmentChange = function(fn) {\n  if (fn && fn !== true) {\n    const query = (window.location.search || '').replace(/^\\?/, '').split('&')\n    // The URL can hard-code a hash regardless of what's\n    // actually shown in the hash by specifying a query\n    // parameter, hash=some_hash\n    let query_hash = null\n    for (var i = 0; i < query.length; i++) {\n      const item = query[i]\n      if (item && item.indexOf('hash=') === 0) {\n        query_hash = '#' + item.substring(5)\n      }\n    }\n    this.bind('document_fragment_change', fn)\n    const $doc = this\n    let found = false\n    // Can only be used on the root document,\n    // will not work on an iframe, for example.\n    for (var i = 0; i < $._checkFragments.fragmentList.length; i++) {\n      const obj = $._checkFragments.fragmentList[i]\n      if (obj.doc[0] == $doc[0]) {\n        found = true\n      }\n    }\n    if (!found) {\n      $._checkFragments.fragmentList.push({\n        doc: $doc,\n        fragment: ''\n      })\n    }\n    $(window).bind('hashchange', $._checkFragments)\n    setTimeout(() => {\n      if (query_hash && query_hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', query_hash)\n      } else if ($doc && $doc[0] && $doc[0].location && $doc[0].location.hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      }\n    }, 500)\n  } else {\n    this.triggerHandler('document_fragment_change', this[0].location.hash)\n  }\n  return this\n}\n$._checkFragments = function() {\n  const list = $._checkFragments.fragmentList\n  for (let idx = 0; idx < list.length; idx++) {\n    const obj = list[idx]\n    const $doc = obj.doc\n    if ($doc[0].location.hash != obj.fragment) {\n      $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      obj.fragment = $doc[0].location.hash\n      $._checkFragments.fragmentList[idx] = obj\n    }\n  }\n}\n$._checkFragments.fragmentList = []\n// Triggers a click only if the anchor tag isn't disabled.\n$.fn.clickLink = function() {\n  const $obj = this.eq(0)\n  if (!$obj.hasClass('disabled_link')) {\n    $obj.click()\n  }\n}\n\n// jQuery supposedly has this built-in, but I haven't\n// had much success with it.\n$.fn.showIf = function(bool) {\n  if ($.isFunction(bool)) {\n    return this.each(function(index) {\n      $(this).showIf(bool.call(this))\n    })\n  }\n  if (bool) {\n    this.show()\n  } else {\n    this.hide()\n  }\n  return this\n}\n\n$.fn.disableIf = function(bool) {\n  if ($.isFunction(bool)) {\n    bool = bool.call(this)\n  }\n  this.prop('disabled', !!bool)\n  return this\n}\n\n$.fn.indicate = function(options) {\n  options = options || {}\n  let $indicator\n  if (options == 'remove') {\n    $indicator = this.data('indicator')\n    if ($indicator) {\n      $indicator.remove()\n    }\n    return\n  }\n  $('.indicator_box').remove()\n  let offset = this.offset()\n  if (options && options.offset) {\n    offset = options.offset\n  }\n  const width = this.width()\n  const height = this.height()\n  const zIndex = (options.container || this).zIndex()\n  $indicator = $(document.createElement('div'))\n  $indicator.css({\n    width: width + 6,\n    height: height + 6,\n    top: offset.top - 3,\n    left: offset.left - 3,\n    zIndex: zIndex + 1,\n    position: 'absolute',\n    display: 'block',\n    '-moz-border-radius': 5,\n    opacity: 0.8,\n    border: '2px solid #870',\n    backgroundColor: '#fd0'\n  })\n  $indicator.addClass('indicator_box')\n  $indicator.mouseover(function() {\n    $(this)\n      .stop()\n      .fadeOut('fast', function() {\n        $(this).remove()\n      })\n  })\n  if (this.data('indicator')) {\n    this.indicate('remove')\n  }\n  this.data('indicator', $indicator)\n  $('body').append($indicator)\n  if (options && options.singleFlash) {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  } else {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow')\n      .fadeIn('slow')\n      .animate({opacity: 0.8}, 2500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  }\n  if (options && options.scroll) {\n    $('html,body').scrollToVisible($indicator)\n  }\n}\n\n$.fn.hasScrollbar = function() {\n  return this.length && this[0].clientHeight < this[0].scrollHeight\n}\n\n$.fn.log = function(msg) {\n  console.log('%s: %o', msg, this)\n  return this\n}\n\n// this is used if you want to fill the browser window with something inside #content but you want to also leave the footer and header on the page.\n$.fn.fillWindowWithMe = function(options) {\n  const opts = $.extend({minHeight: 400}, options),\n    $this = $(this),\n    $wrapper = $('#wrapper'),\n    $main = $('#main'),\n    $not_right_side = $('#not_right_side'),\n    $window = $(window),\n    $toResize = $(this).add(opts.alsoResize)\n\n  function fillWindowWithThisElement() {\n    $toResize.height(0)\n    const spaceLeftForThis =\n        $window.height() -\n        ($wrapper.offset().top + $wrapper.outerHeight()) +\n        ($main.height() - $not_right_side.height()),\n      newHeight = Math.max(400, spaceLeftForThis)\n\n    $toResize.height(newHeight)\n    if ($.isFunction(opts.onResize)) {\n      opts.onResize.call($this, newHeight)\n    }\n  }\n  fillWindowWithThisElement()\n  $window\n    .unbind('resize.fillWindowWithMe')\n    .bind('resize.fillWindowWithMe', fillWindowWithThisElement)\n  return this\n}\n\n$.fn.autoGrowInput = function(o) {\n  o = $.extend(\n    {\n      maxWidth: 1000,\n      minWidth: 0,\n      comfortZone: 70\n    },\n    o\n  )\n\n  this.filter('input:text').each(function() {\n    let minWidth = o.minWidth || $(this).width(),\n      val = '',\n      input = $(this),\n      testSubject = $('<tester/>').css({\n        position: 'absolute',\n        top: -9999,\n        left: -9999,\n        width: 'auto',\n        fontSize: input.css('fontSize'),\n        fontFamily: input.css('fontFamily'),\n        fontWeight: input.css('fontWeight'),\n        letterSpacing: input.css('letterSpacing'),\n        whiteSpace: 'nowrap'\n      }),\n      check = function() {\n        setTimeout(() => {\n          if (val === (val = input.val())) {\n            return\n          }\n\n          // Enter new content into testSubject\n          testSubject.text(val)\n\n          // Calculate new width + whether to change\n          const testerWidth = testSubject.width(),\n            newWidth =\n              testerWidth + o.comfortZone >= minWidth ? testerWidth + o.comfortZone : minWidth,\n            currentWidth = input.width(),\n            isValidWidthChange =\n              (newWidth < currentWidth && newWidth >= minWidth) ||\n              (newWidth > minWidth && newWidth < o.maxWidth)\n\n          // Animate width\n          if (isValidWidthChange) {\n            input.width(newWidth)\n          }\n        })\n      }\n\n    testSubject.insertAfter(input)\n\n    $(this).bind('keyup keydown blur update change', check)\n  })\n\n  return this\n}\n\nexport default $\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوى المستخدم\\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Περιεχόμενο Χρήστη\\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوای کاربر\\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Käyttäjän sisältö\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\"תוכן משתמש\\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizatè\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasználói tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"ユーザーコンテンツ\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawartość użytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Usuário\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент пользователя\\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanıcı İçeriği\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент користувача\\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"用户内容\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"使用者內容\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport 'compiled/jquery/serializeForm'\n\nconst patterns = {\n  validate: /^[a-zA-Z][a-zA-Z0-9_-]*(?:\\[(?:\\d*|[a-zA-Z0-9_-]+)\\])*$/,\n  key: /[a-zA-Z0-9_-]+|(?=\\[\\])/g,\n  push: /^$/,\n  fixed: /^\\d+$/,\n  named: /^[a-zA-Z0-9_-]+$/\n}\n\nconst build = function(base, key, value) {\n  base[key] = value\n  return base\n}\n\n$.fn.toJSON = function() {\n  let json = {},\n    push_counters = {}\n\n  const push_counter = function(key, i) {\n    if (push_counters[key] === undefined) {\n      push_counters[key] = 0\n    }\n    if (i === undefined) {\n      return push_counters[key]++\n    } else if (i !== undefined && i > push_counters[key]) {\n      return (push_counters[key] = ++i)\n    }\n  }\n\n  $.each($(this).serializeForm(), function() {\n    // skip invalid keys\n    if (!patterns.validate.test(this.name)) {\n      return\n    }\n\n    let k,\n      keys = this.name.match(patterns.key),\n      merge = this.value,\n      reverse_key = this.name\n\n    while ((k = keys.pop()) !== undefined) {\n      // adjust reverse_key\n      reverse_key = reverse_key.replace(new RegExp('\\\\[' + k + '\\\\]$'), '')\n\n      // push\n      if (k.match(patterns.push)) {\n        merge = build([], push_counter(reverse_key), merge)\n      }\n\n      // fixed\n      else if (k.match(patterns.fixed)) {\n        push_counter(reverse_key, k)\n        merge = build([], k, merge)\n      }\n\n      // named\n      else if (k.match(patterns.named)) {\n        merge = build({}, k, merge)\n      }\n    }\n\n    json = $.extend(true, json, merge)\n  })\n\n  return json\n}\n"],"sourceRoot":""}