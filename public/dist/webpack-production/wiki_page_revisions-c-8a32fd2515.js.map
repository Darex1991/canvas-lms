{"version":3,"sources":["webpack:///./public/javascripts/translations/lib.text_helper.js","webpack:///./app/coffeescripts/str/TextHelper.coffee","webpack:///./public/javascripts/dummyI18nResource.js?61ff","webpack:///./public/javascripts/jquery.scrollToVisible.js","webpack:///./app/coffeescripts/collections/PaginatedCollection.coffee","webpack:///./app/coffeescripts/collections/WikiPageRevisionsCollection.js","webpack:///./public/javascripts/translations/wiki.wiki_page_content.js","webpack:///./public/javascripts/dummyI18nResource.js?45b2","webpack:///./app/views/jst/wiki/WikiPageContent.handlebars","webpack:///./app/coffeescripts/views/wiki/WikiPageContentView.js","webpack:///./public/javascripts/translations/wiki.wiki_page_revision.js","webpack:///./public/javascripts/dummyI18nResource.js?caf1","webpack:///./app/views/jst/wiki/WikiPageRevision.handlebars","webpack:///./app/coffeescripts/views/wiki/WikiPageRevisionView.js","webpack:///./public/javascripts/translations/wiki.wiki_page_revisions.js","webpack:///./public/javascripts/dummyI18nResource.js?502e","webpack:///./app/views/jst/wiki/WikiPageRevisions.handlebars","webpack:///./app/coffeescripts/jquery/floatingSticky.js","webpack:///./app/coffeescripts/views/wiki/WikiPageRevisionsView.js","webpack:///./app/jsx/bundles/wiki_page_revisions.js","webpack:///./public/javascripts/translations/instructure_misc_plugins.js","webpack:///./public/javascripts/dummyI18nResource.js?9aa5","webpack:///./public/javascripts/jquery.instructure_misc_plugins.js","webpack:///./public/javascripts/translations/CollectionView.js","webpack:///./public/javascripts/dummyI18nResource.js?d606","webpack:///./app/views/jst/collectionView.handlebars","webpack:///./app/coffeescripts/views/CollectionView.coffee","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js","webpack:///./public/javascripts/vendor/jquery.ba-tinypubsub.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","AUTO_LINKIFY_REGEX","th","quoteClump","lines","htmlEscape","t","raw","join","formatMessage","message","links","placeholderBlocks","replace","match","i","push","link","processedLines","quoteBlock","RegExp","shift","line","length","delimit","number","isNaN","String","sign","abs","Math","result","integer","floor","mod","truncateText","string","options","max","ellipsis","wordSeparator","trim","truncateAt","pos","indexOf","substring","plainText","$","fn","scrollToVisible","obj","$obj","innerOffset","offset","width","outerWidth","height","outerHeight","top","bottom","left","right","currentTop","this","selector","windowScrollTop","scrollTop","currentLeft","scrollLeft","currentHeight","currentWidth","outerOffset","each","e","tagName","window","capitalize","charAt","toUpperCase","toLowerCase","nameRegex","linkRegex","pageRegex","perPageRegex","initialize","urls","fetch","clone","loadedAll","exclusionFlag","page","remove","url","data","reset","fetchOptions","trigger","xhr","dataFilter","_setStateAfterFetch","dfd","Deferred","done","response","text","next","arguments","loadAll","setTimeout","resolve","abort","success","error","fail","canFetch","_urlCache","urlIsNotCached","setBottom","firstRequest","atLeastOnePageFetched","setTop","oldUrls","_parsePageLinks","prev","perPage","parseInt","params","per_page","last","totalPages","linkHeader","split","reduce","key","val","Collection","revisionOptions","WikiPageRevisionsCollection","PaginatedCollection","parentModel","models","super","_","extend","pick","collection","setupModel","model","pageUrl","get","contextAssetString","latest","on","prototype","WikiPageRevision","Handlebars","default","template","templates","depth0","helpers","partials","compilerInfo","stack1","helper","buffer","helperMissing","merge","escapeExpression","self","program2","depth1","call","lock_info","unlock_at","hash","inverse","program","program5","program3","context_module","prerequisites","noop","programWithDepth","program7","depth2","ifEqual","program8","type","depth3","name","program9","depth4","ifAll","program12","program10","modules_path","id","apply","program14","program17","program15","title","locked_for_user","convertApiUserContent","body","WikiPageContentView","Backbone","View","className","optionProperty","WIKI_RIGHTS","PAGE_RIGHTS","setModel","afterRender","publish","off","render","toJSON","json","wiki_pages_path","wiki_page_edit_path","wiki_page_history_path","course_home","course_title","CAN","VIEW_ALL_PAGES","display_show_all_pages","VIEW_PAGES","read","PUBLISH","publish_page","UPDATE_CONTENT","update","update_content","DELETE","delete","READ_REVISIONS","read_revisions","ACCESS_GEAR_MENU","VIEW_TOOLBAR","Date","now","datetimeString","initClass","IS","SAME_AS_LATEST","program11","edited_by","updated_at","LATEST","SELECTED","LOADED","WikiPageRevisionView","events","els","hadFocus","$revisionButton","is","focus","$el","toggleClass","display_name","windowLocation","location","restore","ev","keyCode","preventDefault","attrs","pages_path","href","reload","program4","ifAny","FETCH_PREV","FETCH_NEXT","instanceID","FloatingSticky","constructor","el","container","$window","$top","$bottom","reposition","newTop","windowTop","windowHeight","min","document","scrollHeight","containerTop","elHeight","containerBottom","css","floatingSticky","map","WikiPageRevisionsView","CollectionView","itemView","mixin","aside","selectedRevision","newSelection","oldSelection","set","$aside","sticky","renderItem","attachItemView","view","attributes","setSelectedModelAndView","selectModel","selectedModel","oldSelectedModel","oldSelectedView","selectedView","prevPage","disableWhileLoading","nextPage","close","addClass","revisions","WikiPage","ENV","WIKI_PAGE","revision","WIKI_PAGE_REVISION","context_asset_string","ready","revisionsView","WIKI_PAGES_PATH","contentView","appendTo","setParams","setOptions","prompt","forEach","opt","optHtml","html","ifExists","func","scrollbarWidth","$div","$innerDiv","find","w1","innerWidth","w2","dim","speed","animate","opacity","undim","confirmDelete","defaults","$object","$dialog","noMessage","no_message","onContinue","confirmed","fadeOut","prepareData","authenticity_token","ajaxJSON","request","status","isFunction","unhandledXHRs","cancelled","skipConfirmations","dialog","dialog_options","confirmation_class","includes","modal","buttons","I18n","click","class","confirm","fragmentChange","query","search","query_hash","item","bind","$doc","found","_checkFragments","fragmentList","doc","fragment","triggerHandler","list","idx","clickLink","eq","hasClass","showIf","bool","index","show","hide","disableIf","prop","indicate","$indicator","zIndex","createElement","position","display","border","backgroundColor","mouseover","stop","append","singleFlash","fadeIn","scroll","hasScrollbar","clientHeight","log","msg","console","fillWindowWithMe","opts","minHeight","$this","$wrapper","$main","$not_right_side","$toResize","add","alsoResize","fillWindowWithThisElement","spaceLeftForThis","newHeight","onResize","unbind","autoGrowInput","o","maxWidth","minWidth","comfortZone","filter","input","testSubject","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","insertAfter","testerWidth","newWidth","emptyMessage","listClassName","itemViewOptions","attachCollection","empty","renderItems","reorder","sort","$list","children","detach","listenTo","renderOnReset","renderOnAdd","removeItem","detachCollection","stopListening","switchCollection","removePreviousItems","previousModels","createItemView","insertView","prependView","appendView","insertViewAtIndex","$sibling","before","prepend","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","attr","mathmlSpan","toMediaCommentLink","node","$link","nodeName","convert","$dummy","replaceWith","forEditing","uuid","uniqueId","action","files_domain","$form","value","submit","equationImage","removeAttr","after","require","subscribe","unsubscribe","topic","isPlainObject","wrapper","Array","slice","guid","module","exports"],"mappings":"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","file":"wiki_page_revisions-c-8a32fd2515.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"إظهار النص المقتبس\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"cy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"dangos testun wedi’i ddyfynnu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"de\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"zitierten Text zeigen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"el\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"προβολή κειμένου που παρατίθεται\\\"}}},\\\"en-AU\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-GB\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"es\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostrar texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fa\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"نمایش متن نقل شده\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"näytä lainattu teksti\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"he\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"מציג ציטוט\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ht\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afiche tèks site\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hu\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"idézett szöveg megjelenítése\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"ցույց տալ մեջբերվող տեքստը\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"is\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Sýna ívitnaðan texta\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"it\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostra testo citato\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ja\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"引用したテキストを表示\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ko\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"인용된 텍스트 표시\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"mi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"whakaatu kuputuhi faahiti\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"nb\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nb-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"geciteerde tekst tonen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nn\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis sitert tekst\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"pokaż cytowany fragment tekstu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt-BR\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ru\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"показать цитированный текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"prikaži citirano besedilo\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"tr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"alıntılanan metni göster\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"uk\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Показати цитований текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hans\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"显示引用的文本\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hant\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"顯示引用的文字\\\",\\\"word_separator\\\":\\\" \\\"}}}}\"));\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport I18n from 'i18n!lib.text_helper'\nimport htmlEscape from 'str/htmlEscape'\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\"\nAUTO_LINKIFY_REGEX = ///\n  \\b\n  (                                            # Capture 1: entire matched URL\n    (?:\n      https?://                                # http or https protocol\n      |                                        # or\n      www\\d{0,3}[.]                            # \"www.\", \"www1.\", \"www2.\" … \"www999.\"\n      |                                        # or\n      [a-z0-9.\\-]+[.][a-z]{2,4}/               # looks like domain name followed by a slash\n    )\n\n    (?:\n      [^\\s()<>]+                               # Run of non-space, non-()<>\n      |                                        # or\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n    )+\n\n    (?:\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n      |                                        # or\n      [^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]           # End with: not a space or one of these punct chars\n    )\n  ) | (\n    LINK-PLACEHOLDER\n  )\n///gi\n\nexport default th =\n  quoteClump: (lines) ->\n    \"<div class='quoted_text_holder'>\n      <a href='#' class='show_quoted_text_link'>#{htmlEscape I18n.t(\"quoted_text_toggle\", \"show quoted text\")}</a>\n      <div class='quoted_text' style='display: none;'>\n        #{$.raw lines.join \"\\n\"}\n      </div>\n    </div>\"\n\n  formatMessage: (message) ->\n    # replace any links with placeholders so we don't escape them\n    links = []\n    placeholderBlocks = []\n    message = message.replace AUTO_LINKIFY_REGEX, (match, i) ->\n      placeholderBlocks.push(if match == AUTO_LINKIFY_PLACEHOLDER\n          AUTO_LINKIFY_PLACEHOLDER\n        else\n          link = match\n          link = \"http://\" + link unless link[0..6] == 'http://' or link[0..7] == 'https://'\n          links.push link\n          \"<a href='#{htmlEscape(link)}'>#{htmlEscape(match)}</a>\"\n      )\n      AUTO_LINKIFY_PLACEHOLDER\n\n    # now escape html\n    message = htmlEscape message\n\n    # now put the links back in\n    message = message.replace new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), (match, i) ->\n      placeholderBlocks.shift()\n\n    # replace newlines\n    message = message.replace /\\n/g, '<br />\\n'\n\n    # generate quoting clumps\n    processedLines = []\n    quoteBlock = []\n    for line in message.split(\"\\n\")\n      if line.match /^(&gt;|>)/\n        quoteBlock.push line\n      else\n        processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n        quoteBlock = []\n        processedLines.push line\n    processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n    message = processedLines.join \"\\n\"\n\n  delimit: (number) ->\n    # only process real numbers\n    return String(number) if isNaN number\n\n    # capture sign and then start working with the absolute value. don't\n    # process infinities.\n    sign = if number < 0 then '-' else ''\n    abs = Math.abs number\n    return String(number) if abs is Infinity\n\n    # break out the integer portion and initialize the result to just the\n    # decimal (if any)\n    integer = Math.floor abs\n    result = if abs == integer then '' else String(abs).replace(/^\\d+\\./, '.')\n\n    # for each comma'd chunk, prepend to the result and remove from integer\n    while integer >= 1000\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1')\n      integer = Math.floor integer / 1000\n      result = mod + result\n\n    # integer is now either in [1, 999], or equal to 0 iff number in (-1, 1).\n    # prepend it with the sign\n    sign + String(integer) + result\n\n  truncateText: (string, options = {}) ->\n    max = options.max ? 30\n    ellipsis = I18n.t('ellipsis', '...')\n    wordSeparator = I18n.t('word_separator', ' ')\n\n    string = (string ? \"\").replace(/\\s+/g, wordSeparator).trim()\n    return string if not string or string.length <= max\n\n    truncateAt = 0\n    while true\n      pos = string.indexOf(wordSeparator, truncateAt + 1)\n      break if pos < 0 || pos > max - ellipsis.length\n      truncateAt = pos\n    truncateAt or= max - ellipsis.length # first word > max, so we cut it\n\n    string.substring(0, truncateAt) + ellipsis\n\n  plainText: (message) ->\n    # remove all html tags from the message returning only the text\n    message.replace(/(<([^>]+)>)/ig, '');\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/lib.text_helper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('lib.text_helper');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Scrolls the supplied object until its visible. Call from\n// (\"html,body\") to scroll the window.\n\nimport $ from 'jquery'\nimport './vendor/jquery.scrollTo'\n\n$.fn.scrollToVisible = function(obj) {\n  const options = {}\n  const $obj = $(obj)\n\n  if ($obj.length === 0) {\n    return\n  }\n  let innerOffset = $obj.offset(),\n    width = $obj.outerWidth(),\n    height = $obj.outerHeight(),\n    top = innerOffset.top,\n    bottom = top + height,\n    left = innerOffset.left,\n    right = left + width,\n    currentTop = this.selector == 'html,body' ? $.windowScrollTop() : this.scrollTop(),\n    currentLeft = this.scrollLeft(),\n    currentHeight = this.outerHeight(),\n    currentWidth = this.outerWidth()\n\n  if (this.selector != 'html,body') {\n    let outerOffset = $('body').offset()\n    this.each(function() {\n      try {\n        outerOffset = $(this).offset()\n        return false\n      } catch (e) {}\n    })\n    top -= outerOffset.top\n    bottom -= outerOffset.top\n    left -= outerOffset.left\n    right -= outerOffset.left\n  }\n\n  if (this[0].tagName == 'HTML' || this[0].tagName == 'BODY') {\n    currentHeight = $(window).height()\n    if ($('#wizard_box:visible').length > 0) {\n      currentHeight -= $('#wizard_box:visible').height()\n    }\n    currentWidth = $(window).width()\n    top -= currentTop\n    left -= currentLeft\n    bottom -= currentTop\n    right -= currentLeft\n  }\n  if (top < 0 || (currentHeight < height && bottom > currentHeight)) {\n    options.scrollTop = top + currentTop\n  } else if (bottom > currentHeight) {\n    options.scrollTop = bottom + currentTop - currentHeight + 20\n  }\n  if (left < 0) {\n    options.scrollLeft = left + currentLeft\n  } else if (right > currentWidth) {\n    options.scrollLeft = right + currentLeft - currentWidth + 20\n  }\n  if (options.scrollTop == 1) {\n    options.scrollTop = 0\n  }\n  if (options.scrollLeft == 1) {\n    options.scrollLeft = 0\n  }\n\n  this.scrollTop(options.scrollTop)\n  this.scrollLeft(options.scrollLeft)\n\n  return this\n}\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport Backbone from 'Backbone'\nimport _ from 'underscore'\n\ncapitalize = (string = '') ->\n  string.charAt(0).toUpperCase() + string.substring(1).toLowerCase()\n\nexport default class PaginatedCollection extends Backbone.Collection\n\n  # Matches the name of each link: \"current\", \"next,\" \"prev,\" \"first,\" or \"last.\"\n  nameRegex: /rel=\"([a-z]+)/\n\n  # Matches the full link, e.g. \"/api/v1/accounts/1/users?page=1&per_page=15\"\n  linkRegex: /^<([^>]+)/\n\n  pageRegex: /\\Wpage=(\\d+)/\n\n  perPageRegex: /\\Wper_page=(\\d+)/\n\n  initialize: ->\n    super\n    @urls = {}\n\n  ##\n  # options.page: 'current', 'next', 'prev', 'first', 'last', 'top', 'bottom'\n  fetch: (options = {}) ->\n    options = _.clone(options)\n    @loadedAll = false\n    exclusionFlag = \"fetching#{capitalize options.page}Page\"\n    @[exclusionFlag] = true\n\n    if options.page?\n      options.remove = false unless options.remove?\n      if @urls?[options.page]\n        options.url = @urls[options.page]\n        # API keeps params intact, kill data if we're using a\n        # pagination url to avoid appending in super\n        options.data = ''\n    else\n      # we want the first fetch to reset (since a lot of existing code wants a reset event)\n      options.reset = true unless options.reset?\n\n    if options.fetchOptions?\n      options.data = options.fetchOptions\n\n    @trigger 'beforeFetch', this, options\n    @trigger \"beforeFetch:#{options.page}\", this, options if options.page?\n\n    # have to do this stuff here or else 'reset' and other events are fired\n    # before _setStateAfterFetch has happened, so the state is just barely off\n    xhr = null\n    options.dataFilter = (data) =>\n      @[exclusionFlag] = false\n      @_setStateAfterFetch(xhr, options)\n      data\n\n    dfd = options.dfd || $.Deferred()\n    xhr = super(options).done (response, text, xhr) =>\n      @trigger 'fetch', this, response, options\n      @trigger \"fetch:#{options.page}\", this, response, options if options.page?\n      unless @urls?.next\n        @trigger 'fetched:last', arguments...\n      if @loadAll and @urls.next?\n        setTimeout =>\n          @fetch page: 'next', dfd: dfd # next tick so we can show loading indicator, etc.\n      else\n        dfd.resolve(response, text, xhr)\n    dfd.abort = xhr.abort\n    dfd.success = dfd.done\n    dfd.error = dfd.fail\n    dfd\n\n  canFetch: (page) ->\n    @urls? and @urls[page]?\n\n  _setStateAfterFetch: (xhr, options) =>\n    @_urlCache ?= []\n    urlIsNotCached = options.url not in @_urlCache\n    @_urlCache.push options.url unless urlIsNotCached\n    firstRequest = !@atLeastOnePageFetched\n    setBottom = firstRequest or (options.page in ['next', 'bottom'] and urlIsNotCached)\n    setTop = firstRequest or (options.page in ['prev', 'top'] and urlIsNotCached)\n    oldUrls = @urls\n    @urls = @_parsePageLinks xhr\n\n    if setBottom and @urls.next?\n      @urls.bottom = @urls.next\n    else if !@urls.next\n      delete @urls.bottom\n    else\n      @urls.bottom = oldUrls.bottom\n\n    if setTop and @urls.prev?\n      @urls.top = @urls.prev\n    else if !@urls.prev\n      delete @urls.top\n    else\n      @urls.top = oldUrls.top\n\n    url = @urls.first ? @urls.next\n    if url?\n      perPage = parseInt(url.match(@perPageRegex)[1], 10)\n      ((@options ?= {}).params ?= {}).per_page = perPage\n\n    if @urls.last and match = @urls.last.match(@pageRegex)\n      @totalPages = parseInt(match[1], 10)\n\n    unless @urls?.next\n      @loadedAll = true\n\n    @atLeastOnePageFetched = true\n\n  _parsePageLinks: (xhr) ->\n    linkHeader = xhr.getResponseHeader('link')?.split(',')\n    linkHeader ?= []\n    _.reduce linkHeader, (links, link) =>\n      key = link.match(@nameRegex)[1]\n      val = link.match(@linkRegex)[1]\n      links[key] = val\n      links\n    , {}\n","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport _ from 'underscore'\nimport PaginatedCollection from '../collections/PaginatedCollection'\nimport WikiPageRevision from '../models/WikiPageRevision'\n\nconst revisionOptions = ['parentModel']\n\nexport default class WikiPageRevisionsCollection extends PaginatedCollection {\n  url() {\n    return `${this.parentModel.url()}/revisions`\n  }\n\n  initialize(models, options) {\n    super.initialize(...arguments)\n    _.extend(this, _.pick(options || {}, revisionOptions))\n\n    if (this.parentModel) {\n      const collection = this\n      const {parentModel} = collection\n\n      function setupModel(model) {\n        model.page = parentModel\n        model.pageUrl = parentModel.get('url')\n        model.contextAssetString = parentModel.contextAssetString\n        if (model.get('latest')) {\n          collection.latest = model\n        }\n      }\n\n      this.on('reset', models => models.each(setupModel))\n      this.on('add', model => setupModel(model))\n    }\n  }\n}\nWikiPageRevisionsCollection.prototype.model = WikiPageRevision\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"هذه الصفحة مُؤَمّنة\\\",\\\"page_locked_by_modules\\\":\\\"ستتم إتاحة هذه الصفحة بمجرد إكمال هذه الوحدات:\\\",\\\"page_locked_by_modules_until\\\":\\\"ستتم إتاحة هذه الصفحة على %{lock_info.unlock_at} في حالة إكمال هذه الوحدات:\\\",\\\"page_locked_until\\\":\\\"ستتم إتاحة هذه الصفحة على %{lock_info.unlock_at}\\\"}}},\\\"cy\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Mae'r dudalen hon wedi’i chloi\\\",\\\"page_locked_by_modules\\\":\\\"Bydd y dudalen hon ar gael ar ôl i chi gwblhau’r modiwlau hyn:\\\",\\\"page_locked_by_modules_until\\\":\\\"Bydd y dudalen hon ar gael ar %{lock_info.unlock_at} os ydych chi wedi cwblhau’r modiwlau hyn:\\\",\\\"page_locked_until\\\":\\\"Bydd y dudalen hon ar gael ar %{lock_info.unlock_at}\\\"}}},\\\"da\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Denne side er låst\\\",\\\"page_locked_by_modules\\\":\\\"Siden bliver tilgængelig, når du har afsluttet disse moduler:\\\",\\\"page_locked_by_modules_until\\\":\\\"Denne side er tilgængelig på %{lock_info.unlock_at}, hvis du har afsluttet disse moduler:\\\",\\\"page_locked_until\\\":\\\"Denne side vil være tilgængelig på %{lock_info.unlock_at}\\\"}}},\\\"da-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Denne side er låst\\\",\\\"page_locked_by_modules\\\":\\\"Siden bliver tilgængelig, når du har afsluttet disse forløb:\\\",\\\"page_locked_by_modules_until\\\":\\\"Denne side er tilgængelig på %{lock_info.unlock_at}, hvis du har afsluttet disse forløb:\\\",\\\"page_locked_until\\\":\\\"Denne side vil være tilgængelig på %{lock_info.unlock_at}\\\"}}},\\\"de\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Diese Seite ist gesperrt.\\\",\\\"page_locked_by_modules\\\":\\\"Diese Seite steht zur Verfügung, sobald Sie die folgenden Module abgeschlossen haben:\\\",\\\"page_locked_by_modules_until\\\":\\\"Diese Seite steht auf %{lock_info.unlock_at} zur Verfügung, sobald Sie die folgenden Module abgeschlossen haben:\\\",\\\"page_locked_until\\\":\\\"Diese Seite steht auf %{lock_info.unlock_at} zur Verfügung\\\"}}},\\\"el\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Αυτή η σελίδα είναι κλειδωμένη\\\",\\\"page_locked_by_modules\\\":\\\"Αυτή η σελίδα θα γίνει διαθέσιμη σε εσάς μόλις ολοκληρώσετε αυτές τις ενότητες:\\\",\\\"page_locked_by_modules_until\\\":\\\"Αυτή η σελίδα θα γίνει διαθέσιμη στις %{lock_info.unlock_at} εφόσον έχετε ολοκληρώσει αυτές τις ενότητες:\\\",\\\"page_locked_until\\\":\\\"Αυτή η σελίδα θα είναι διαθέσιμη στις %{lock_info.unlock_at}\\\"}}},\\\"en-AU\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"This page is locked\\\",\\\"page_locked_by_modules\\\":\\\"This page will be available once you have completed these modules:\\\",\\\"page_locked_by_modules_until\\\":\\\"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\\\",\\\"page_locked_until\\\":\\\"This page will be available on %{lock_info.unlock_at}\\\"}}},\\\"en-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"This page is locked\\\",\\\"page_locked_by_modules\\\":\\\"This page will be available once you have completed these modules:\\\",\\\"page_locked_by_modules_until\\\":\\\"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\\\",\\\"page_locked_until\\\":\\\"This page will be available on %{lock_info.unlock_at}\\\"}}},\\\"en-GB\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"This page is locked\\\",\\\"page_locked_by_modules\\\":\\\"This page will be available once you have completed these modules:\\\",\\\"page_locked_by_modules_until\\\":\\\"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\\\",\\\"page_locked_until\\\":\\\"This page will be available on %{lock_info.unlock_at}\\\"}}},\\\"es\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Esta página está bloqueada\\\",\\\"page_locked_by_modules\\\":\\\"Esta página estará disponible cuando haya finalizado estos módulos:\\\",\\\"page_locked_by_modules_until\\\":\\\"Esta página estará disponible el %{lock_info.unlock_at} si ha finalizado estos módulos:\\\",\\\"page_locked_until\\\":\\\"Esta página estará disponible el %{lock_info.unlock_at}\\\"}}},\\\"fa\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"این صفحه قفل شده است\\\",\\\"page_locked_by_modules\\\":\\\"این صفحه به محض اینکه این ماژول ها را تکمیل کنید، قابل دسترسی خواهد بود:\\\",\\\"page_locked_by_modules_until\\\":\\\"در صورتی که این ماژول ها را تکمیل کنید، این صفحه در %{lock_info.unlock_at} قابل دسترسی خواهد بود:\\\",\\\"page_locked_until\\\":\\\"این صفحه در %{lock_info.unlock_at} قابل دسترسی خواهد بود\\\"}}},\\\"fi\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Tämä sivu on lukittu\\\",\\\"page_locked_by_modules\\\":\\\"Tämä sivu on käytettävissä , jos olet suorittanut nämä moduulit:\\\",\\\"page_locked_by_modules_until\\\":\\\"Tämä sivu on käytettävissä %{lock_info.unlock_at}, jos olet suorittanut nämä moduulit:\\\",\\\"page_locked_until\\\":\\\"Tämä sivu on saatavissa kohteessa %{lock_info.unlock_at}.\\\"}}},\\\"fr\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Cette page est verrouillée.\\\",\\\"page_locked_by_modules\\\":\\\"Cette page sera disponible lorsque vous aurez terminé ces modules :\\\",\\\"page_locked_by_modules_until\\\":\\\"Cette page sera disponible le %{lock_info.unlock_at} si vous avez terminé ces modules :\\\",\\\"page_locked_until\\\":\\\"Cette page sera disponible le %{lock_info.unlock_at}\\\"}}},\\\"fr-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Cette page est verrouillée.\\\",\\\"page_locked_by_modules\\\":\\\"Cette page sera disponible lorsque vous aurez terminé ces modules :\\\",\\\"page_locked_by_modules_until\\\":\\\"Cette page sera disponible le %{lock_info.unlock_at} si vous avez terminé ces modules :\\\",\\\"page_locked_until\\\":\\\"Cette page sera disponible le %{lock_info.unlock_at}\\\"}}},\\\"he\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"דף זה נעול\\\",\\\"page_locked_by_modules\\\":\\\"דף זה יהיה זמין ברגע שתשלים/י מודולים אלו:\\\",\\\"page_locked_by_modules_until\\\":\\\"דף זה יהיה זמין ב %{lock_info.unlock_at} אם השלמת את המודולים האלה:\\\",\\\"page_locked_until\\\":\\\"דף זה יהיה זמין ב %{lock_info.unlock_at} \\\"}}},\\\"ht\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Paj sa a bloke\\\",\\\"page_locked_by_modules\\\":\\\"Paj sa a ap disponib lè w fin konplete modil sa yo.\\\",\\\"page_locked_by_modules_until\\\":\\\"Paj sa a ap disponib %{lock_info.unlock_at} si w fin konplete modil sa yo:\\\",\\\"page_locked_until\\\":\\\"Paj sa a ap disponib %{lock_info.unlock_at}\\\"}}},\\\"hu\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Az oldal zárolva van.\\\",\\\"page_locked_by_modules\\\":\\\"Ez az oldal akkor lesz elérhető, ha teljesítette az ezeket a modulokat:\\\",\\\"page_locked_by_modules_until\\\":\\\"Ez az oldal ekkor lesz elérhető: %{lock_info.unlock_at} ha teljesítette az alábbi modulokat:\\\",\\\"page_locked_until\\\":\\\"Ez az oldal ekkor lesz elérhető %{lock_info.unlock_at}\\\"}}},\\\"hy\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Այս էջը արգելափակված է\\\",\\\"page_locked_by_modules\\\":\\\"Այս էջը հասանելի կլինի հետևյալ մոդուլները ավարտելուց հետո՝\\\",\\\"page_locked_by_modules_until\\\":\\\"Այս էջը հասանելի կլինի %{lock_info.unlock_at}-ում, եթե դուք ավարտեք հետևյալ մոդուլները.\\\",\\\"page_locked_until\\\":\\\"Այս էջը հասանելի կլինի %{lock_info.unlock_at}-ում\\\"}}},\\\"is\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Þessi síða er læst\\\",\\\"page_locked_by_modules\\\":\\\"Þessi síða verður tiltæk þegar þú hefur lokið þessum einingum:\\\",\\\"page_locked_by_modules_until\\\":\\\"Þessi síða verður tiltæk %{lock_info.unlock_at} ef þú hefur lokið þessum einingum:\\\",\\\"page_locked_until\\\":\\\"Þessi síða verður tiltæk %{lock_info.unlock_at}\\\"}}},\\\"it\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Questa pagina è bloccata\\\",\\\"page_locked_by_modules\\\":\\\"Questa pagina sarà disponibile una volta completati questi moduli:\\\",\\\"page_locked_by_modules_until\\\":\\\"Questa pagina sarà disponibile su %{lock_info.unlock_at} se hai completato questi moduli:\\\",\\\"page_locked_until\\\":\\\"Questa pagina sarà disponibile su %{lock_info.unlock_at}\\\"}}},\\\"ja\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"このページはロックされています\\\",\\\"page_locked_by_modules\\\":\\\"このページは、次のモジュールを完了した後に利用できます:\\\",\\\"page_locked_by_modules_until\\\":\\\"このページは、次のモジュールの完了後、%{lock_info.unlock_at} に利用可能になります:\\\",\\\"page_locked_until\\\":\\\"このページは、%{lock_info.unlock_at} に利用可能になります\\\"}}},\\\"ko\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"이 페이지가 잠겨 있습니다.\\\",\\\"page_locked_by_modules\\\":\\\"다음 모듈을 완료하고 나면 이 페이지를 사용할 수 있습니다:\\\",\\\"page_locked_by_modules_until\\\":\\\"다음 모듈을 완료하고 나면 %{lock_info.unlock_at}에 이 페이지를 이용할 수 있습니다:\\\",\\\"page_locked_until\\\":\\\"이 페이지는 %{lock_info.unlock_at}에 이용할 수 있음\\\"}}},\\\"mi\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Kua rakaina tēnei whārangi\\\",\\\"page_locked_by_modules\\\":\\\"Tēnei whārangi e wātea ana kua oti i mua ia tō i enei ngā kōwae:\\\",\\\"page_locked_by_modules_until\\\":\\\"Tēnei whārangi e wātea ana i runga i %{lock_info.unlock_at} ki te mea kua oti koe ēnei ngā kōwae:\\\",\\\"page_locked_until\\\":\\\"E wātea ana tēnei whārangi i runga i %{lock_info.unlock_at}\\\"}}},\\\"nb\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Denne siden er låst\\\",\\\"page_locked_by_modules\\\":\\\"Denne siden vil bli tilgjengelig når du har fullført disse modulene:\\\",\\\"page_locked_by_modules_until\\\":\\\"Denne siden blir tilgjengelig %{lock_info.unlock_at} om du har fullført disse modulene:\\\",\\\"page_locked_until\\\":\\\"Denne siden blir tilgjengelig %{lock_info.unlock_at}\\\"}}},\\\"nb-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Denne siden er låst\\\",\\\"page_locked_by_modules\\\":\\\"Denne siden vil bli tilgjengelig når du har fullført disse moduler:\\\",\\\"page_locked_by_modules_until\\\":\\\"Denne siden blir tilgjengelig %{lock_info.unlock_at} om du har fullført disse moduler:\\\",\\\"page_locked_until\\\":\\\"Denne siden blir tilgjengelig %{lock_info.unlock_at}\\\"}}},\\\"nl\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Deze pagina is vergrendeld\\\",\\\"page_locked_by_modules\\\":\\\"Deze pagina zal beschikbaar zijn eenmaal je deze modules hebt voltooid:\\\",\\\"page_locked_by_modules_until\\\":\\\"Deze pagina zal beschikbaar zijn op %{lock_info.unlock_at} als je deze modules hebt voltooid:\\\",\\\"page_locked_until\\\":\\\"Deze pagina zal beschikbaar zijn op %{lock_info.unlock_at}\\\"}}},\\\"nn\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Denne sida er låst\\\",\\\"page_locked_by_modules\\\":\\\"Sida vil bli tilgjengeleg når du har fullført modulane:\\\",\\\"page_locked_by_modules_until\\\":\\\"Sida vil bli tilgjengeleg på %{lock_info.unlock_at} når du har fullført modulane:\\\",\\\"page_locked_until\\\":\\\"Sida vil bli tilgjengeleg på %{lock_info.unlock_at}\\\"}}},\\\"pl\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Ta strona jest zablokowana\\\",\\\"page_locked_by_modules\\\":\\\"Strona będzie dostępna po ukończeniu następujących modułów:\\\",\\\"page_locked_by_modules_until\\\":\\\"Strona będzie dostępna pod adresem %{lock_info.unlock_at}, jeśli ukończono następujące moduły:\\\",\\\"page_locked_until\\\":\\\"Strona będzie dostępna pod adresem %{lock_info.unlock_at}\\\"}}},\\\"pt\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Esta página está bloqueada\\\",\\\"page_locked_by_modules\\\":\\\"Esta página ficará disponível depois de concluir estes módulos:\\\",\\\"page_locked_by_modules_until\\\":\\\"Esta página ficará disponível em %{lock_info.unlock_at} se tiver concluído estes módulos:\\\",\\\"page_locked_until\\\":\\\"Esta página ficará disponível em %{lock_info.unlock_at}\\\"}}},\\\"pt-BR\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Esta página está bloqueada\\\",\\\"page_locked_by_modules\\\":\\\"Esta página estará disponível uma vez que você concluir esses módulos:\\\",\\\"page_locked_by_modules_until\\\":\\\"Esta página estará disponível em %{lock_info.unlock_at} se você tiver concluído esses módulos:\\\",\\\"page_locked_until\\\":\\\"Esta página estará disponível em %{lock_info.unlock_at}\\\"}}},\\\"ru\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Данная страница заблокирована\\\",\\\"page_locked_by_modules\\\":\\\"Данная страница будет доступна после того, как вы завершите данные модули:\\\",\\\"page_locked_by_modules_until\\\":\\\"Данная страница будет доступна с %{lock_info.unlock_at}, если вы завершили данные модули:\\\",\\\"page_locked_until\\\":\\\"Данная страница будет доступна с %{lock_info.unlock_at}\\\"}}},\\\"sl\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Ta stran je zaklenjena.\\\",\\\"page_locked_by_modules\\\":\\\"Ta stran bo na voljo, ko zaključite te module:\\\",\\\"page_locked_by_modules_until\\\":\\\"Ta stran bo na voljo ob %{lock_info.unlock_at}, če do takrat zaključite te module:\\\",\\\"page_locked_until\\\":\\\"Ta stran bo na voljo ob %{lock_info.unlock_at}\\\"}}},\\\"sv\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Den här sidan är låst\\\",\\\"page_locked_by_modules\\\":\\\"Den här sidan blir tillgänglig när du har slutfört dessa moduler:\\\",\\\"page_locked_by_modules_until\\\":\\\"Den här sidan blir tillgänglig på %{lock_info.unlock_at} om du har slutfört de här modulerna:\\\",\\\"page_locked_until\\\":\\\"Den här sidan blir tillgänglig på %{lock_info.unlock_at}\\\"}}},\\\"sv-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Den här sidan är låst\\\",\\\"page_locked_by_modules\\\":\\\"Den här sidan blir tillgänglig när du har slutfört dessa moduler:\\\",\\\"page_locked_by_modules_until\\\":\\\"Den här sidan blir tillgänglig på %{lock_info.unlock_at} om du har slutfört de här modulerna:\\\",\\\"page_locked_until\\\":\\\"Den här sidan blir tillgänglig på %{lock_info.unlock_at}\\\"}}},\\\"tr\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Bu sayfa kilitlidir\\\",\\\"page_locked_by_modules\\\":\\\"Bu modülleri tamamladıktan sonra sayfayı görebileceksiniz:\\\",\\\"page_locked_by_modules_until\\\":\\\"Aşağıdaki modülleri tamamladıysanız bu sayfaya %{lock_info.unlock_at} tarihinde erişilebilecek:\\\",\\\"page_locked_until\\\":\\\"Bu sayfaya %{lock_info.unlock_at} tarihinde erişilebilecek\\\"}}},\\\"uk\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"Ця сторінка заблокована\\\",\\\"page_locked_by_modules\\\":\\\"Ця сторінка буде доступна, як тільки ви завершите ці модулі:\\\",\\\"page_locked_by_modules_until\\\":\\\"Ця сторінка буде доступна на %{lock_info.unlock_at}, якщо ви завершили ці модулі:\\\",\\\"page_locked_until\\\":\\\"Ця сторінка буде доступна на %{lock_info.unlock_at}\\\"}}},\\\"zh-Hans\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"此页面已锁定\\\",\\\"page_locked_by_modules\\\":\\\"此页面将在您完成这些单元后可用:\\\",\\\"page_locked_by_modules_until\\\":\\\"此页面将在 %{lock_info.unlock_at} 可用，如果您已经完成这些单元:\\\",\\\"page_locked_until\\\":\\\"此页面将在 %{lock_info.unlock_at} 可用\\\"}}},\\\"zh-Hant\\\":{\\\"wiki\\\":{\\\"wiki_page_content\\\":{\\\"page_locked\\\":\\\"此頁面已鎖定\\\",\\\"page_locked_by_modules\\\":\\\"在您完成如下單元之後，此頁面即可用：\\\",\\\"page_locked_by_modules_until\\\":\\\"如果您完成了如下這些單元，此頁面將於 %{lock_info.unlock_at} 可用：\\\",\\\"page_locked_until\\\":\\\"此頁面將於 %{lock_info.unlock_at} 可用\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/wiki.wiki_page_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('wiki.wiki_page_content');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!wiki.wiki_page_content\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'wiki/WikiPageContent';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  <div class=\\\"locked-alert alert alert-warning\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.context_module)),stack1 == null || stack1 === false ? stack1 : stack1.prerequisites), {hash:{},inverse:self.program(14, program14, data),fn:self.programWithDepth(2, program2, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </div>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at), {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      <ul>\\n        \";\n  stack1 = helpers.each.call(depth0, ((stack1 = ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.context_module)),stack1 == null || stack1 === false ? stack1 : stack1.prerequisites), {hash:{},inverse:self.noop,fn:self.programWithDepth(7, program7, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </ul>\\n    \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'lock_info.unlock_at': (((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at)),\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_by_modules_until\", \"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\", options) : helperMissing.call(depth0, \"t\", \"page_locked_by_modules_until\", \"This page will be available on %{lock_info.unlock_at} if you have completed these modules:\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_by_modules\", \"This page will be available once you have completed these modules:\", options) : helperMissing.call(depth0, \"t\", \"page_locked_by_modules\", \"This page will be available once you have completed these modules:\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program7(depth0,data,depth1,depth2) {\n  \n  var stack1, helper, options;\n  stack1 = (helper = helpers.ifEqual || (depth0 && depth0.ifEqual),options={hash:{},inverse:self.noop,fn:self.programWithDepth(8, program8, data, depth1, depth2),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"context_module\", options) : helperMissing.call(depth0, \"ifEqual\", (depth0 && depth0.type), \"context_module\", options));\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  }\nfunction program8(depth0,data,depth2,depth3) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.name), {hash:{},inverse:self.noop,fn:self.programWithDepth(9, program9, data, depth2, depth3),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  return buffer;\n  }\nfunction program9(depth0,data,depth3,depth4) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li>\\n              \";\n  stack1 = (helper = helpers.ifAll || (depth4 && depth4.ifAll),options={hash:{},inverse:self.program(12, program12, data),fn:self.programWithDepth(10, program10, data, depth3),data:data},helper ? helper.call(depth0, (depth4 && depth4.modules_path), (depth0 && depth0.id), options) : helperMissing.call(depth0, \"ifAll\", (depth4 && depth4.modules_path), (depth0 && depth0.id), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </li>\\n          \";\n  return buffer;\n  }\nfunction program10(depth0,data,depth4) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                <a href=\\\"\"\n    + escapeExpression(((stack1 = (depth4 && depth4.modules_path)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/\"\n    + escapeExpression(((stack1 = (depth0 && depth0.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n              \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                \"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\n              \";\n  return buffer;\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at), {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  return buffer;\n  }\nfunction program15(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'lock_info.unlock_at': (((stack1 = (depth0 && depth0.lock_info)),stack1 == null || stack1 === false ? stack1 : stack1.unlock_at)),\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked_until\", \"This page will be available on %{lock_info.unlock_at}\", options) : helperMissing.call(depth0, \"t\", \"page_locked_until\", \"This page will be available on %{lock_info.unlock_at}\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program17(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n        \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_content\")\n  },data:data},helper ? helper.call(depth0, \"page_locked\", \"This page is locked\", options) : helperMissing.call(depth0, \"t\", \"page_locked\", \"This page is locked\", options)))\n    + \"\\n      \";\n  return buffer;\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  \"\n    + escapeExpression((helper = helpers.convertApiUserContent || (depth0 && depth0.convertApiUserContent),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.body), options) : helperMissing.call(depth0, \"convertApiUserContent\", (depth0 && depth0.body), options)))\n    + \"\\n\";\n  return buffer;\n  }\n\n  buffer += \"<header>\\n  <h1 class=\\\"page-title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n</header>\\n\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.locked_for_user), {hash:{},inverse:self.program(19, program19, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport Backbone from 'Backbone'\nimport template from 'jst/wiki/WikiPageContent'\nimport {publish} from 'vendor/jquery.ba-tinypubsub'\n\nexport default class WikiPageContentView extends Backbone.View {\n  static initClass() {\n    this.prototype.tagName = 'article'\n    this.prototype.className = 'show-content user_content'\n    this.prototype.template = template\n\n    this.optionProperty('modules_path')\n    this.optionProperty('wiki_pages_path')\n    this.optionProperty('wiki_page_edit_path')\n    this.optionProperty('wiki_page_history_path')\n    this.optionProperty('WIKI_RIGHTS')\n    this.optionProperty('PAGE_RIGHTS')\n    this.optionProperty('course_id')\n    this.optionProperty('course_home')\n    this.optionProperty('course_title')\n  }\n\n  initialize() {\n    super.initialize(...arguments)\n    if (!this.WIKI_RIGHTS) this.WIKI_RIGHTS = {}\n    if (!this.PAGE_RIGHTS) this.PAGE_RIGHTS = {}\n    return this.setModel(this.model)\n  }\n\n  afterRender() {\n    super.afterRender(...arguments)\n    publish('userContent/change')\n    return this.trigger('render')\n  }\n\n  setModel(model) {\n    if (this.model != null) {\n      this.model.off(null, null, this)\n    }\n\n    this.model = model\n    if (this.model != null) {\n      this.model.on('change:title', () => this.render(), this)\n    }\n    if (this.model != null) {\n      this.model.on('change:body', () => this.render(), this)\n    }\n    return this.render()\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.modules_path = this.modules_path\n    json.wiki_pages_path = this.wiki_pages_path\n    json.wiki_page_edit_path = this.wiki_page_edit_path\n    json.wiki_page_history_path = this.wiki_page_history_path\n    json.course_home = this.course_home\n    json.course_title = this.course_title\n    json.CAN = {\n      VIEW_ALL_PAGES: !!this.display_show_all_pages,\n      VIEW_PAGES: !!this.WIKI_RIGHTS.read,\n      PUBLISH: !!this.WIKI_RIGHTS.publish_page,\n      UPDATE_CONTENT: !!this.PAGE_RIGHTS.update || !!this.PAGE_RIGHTS.update_content,\n      DELETE: !!this.PAGE_RIGHTS.delete && !this.course_home,\n      READ_REVISIONS: !!this.PAGE_RIGHTS.read_revisions\n    }\n    json.CAN.ACCESS_GEAR_MENU = json.CAN.DELETE || json.CAN.READ_REVISIONS\n    json.CAN.VIEW_TOOLBAR =\n      json.CAN.VIEW_PAGES ||\n      json.CAN.PUBLISH ||\n      json.CAN.UPDATE_CONTENT ||\n      json.CAN.ACCESS_GEAR_MENU\n\n    if (json.lock_info) {\n      json.lock_info = _.clone(json.lock_info)\n    }\n    if (json.lock_info != null ? json.lock_info.unlock_at : undefined) {\n      json.lock_info.unlock_at =\n        Date.parse(json.lock_info.unlock_at) < Date.now()\n          ? null\n          : $.datetimeString(json.lock_info.unlock_at)\n    }\n\n    return json\n  }\n}\nWikiPageContentView.initClass()\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"أحدث مراجعة\\\",\\\"restore_revision\\\":\\\"استعادة هذه المراجعة\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* بواسطة %{edited_by}\\\",\\\"same_as_latest\\\":\\\"نفس *الأحدث*\\\"}}},\\\"cy\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Diwygiwyd ddiwethaf\\\",\\\"restore_revision\\\":\\\"Adfer y diwygiad hwn\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* gan %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Yr un fath â’r * diweddaraf*\\\"}}},\\\"da\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Sidste revision\\\",\\\"restore_revision\\\":\\\"Gendan denne revision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* af %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samme som *sidste*\\\"}}},\\\"da-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Sidste revision\\\",\\\"restore_revision\\\":\\\"Gendan denne revision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* af %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samme som *sidste*\\\"}}},\\\"de\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Letzte Version\\\",\\\"restore_revision\\\":\\\"Diese Version wiederherstellen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* von %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Entspricht *Letzter*\\\"}}},\\\"el\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Τελευταία έκδοση\\\",\\\"restore_revision\\\":\\\"Φόρτωση αυτής της έκδοσης\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* από %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Ίδιο με *Πιο Πρόσφατο*\\\"}}},\\\"en-AU\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Latest Revision\\\",\\\"restore_revision\\\":\\\"Restore this revision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* by %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Same as *Latest*\\\"}}},\\\"en-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Latest Revision\\\",\\\"restore_revision\\\":\\\"Restore this revision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* by %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Same as *Latest*\\\"}}},\\\"en-GB\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Latest Revision\\\",\\\"restore_revision\\\":\\\"Restore this revision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* by %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Same as *Latest*\\\"}}},\\\"es\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Última revisión\\\",\\\"restore_revision\\\":\\\"Restaurar esta revisión\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* por %{edited_by}\\\",\\\"same_as_latest\\\":\\\"El mismo que el *Último*\\\"}}},\\\"fa\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"آخرین بازنگری\\\",\\\"restore_revision\\\":\\\"بازیابی این بازنگری\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* توسط %{edited_by}\\\",\\\"same_as_latest\\\":\\\"یکسان با *آخرین*\\\"}}},\\\"fi\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Viimeisin versio\\\",\\\"restore_revision\\\":\\\"Palauta tätä versio\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* mennessä %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Sama kuin *Viimeisin*\\\"}}},\\\"fr\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Dernière révision\\\",\\\"restore_revision\\\":\\\"Restaurer cette révision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* par %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Identique à *La dernière*\\\"}}},\\\"fr-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Dernière révision\\\",\\\"restore_revision\\\":\\\"Restaurer cette révision\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* à %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Identique à *La dernière*\\\"}}},\\\"he\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"גירסה אחרונה\\\",\\\"restore_revision\\\":\\\"שיחזור גירסה זו\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* ע\\\\\\\"י %{edited_by}\\\",\\\"same_as_latest\\\":\\\"בדומה ל *אחרון*\\\"}}},\\\"ht\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Dènye Revizyon\\\",\\\"restore_revision\\\":\\\"Restore revizyon sa a\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* pa %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Menm ak *Dènye* a\\\"}}},\\\"hu\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Utolsó változat\\\",\\\"restore_revision\\\":\\\"Ennek a változatnak a helyreállítása\\\",\\\"revision_summary\\\":\\\"%{edited_by} ekkor: *%{updated_at}*\\\",\\\"same_as_latest\\\":\\\"Ugyanaz, mint *Utolsó*\\\"}}},\\\"hy\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Վերջին տարբերակը\\\",\\\"restore_revision\\\":\\\"Վերականգնել այս տարբերակը\\\",\\\"revision_summary\\\":\\\"*%{updated_at}*  %{edited_by} կողմից\\\",\\\"same_as_latest\\\":\\\"Նույնն է ինչ *վերջինը*\\\"}}},\\\"is\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Nýjasta endurskoðunin\\\",\\\"restore_revision\\\":\\\"Endurheimta þessa endurskoðun\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* af %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Sama og *Nýjast*\\\"}}},\\\"it\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Revisione più recente\\\",\\\"restore_revision\\\":\\\"Ripristina questa versione\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* entro %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Identico a *più recente*\\\"}}},\\\"ja\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"最新のリビジョン\\\",\\\"restore_revision\\\":\\\"このリビジョンを復元\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* (編集者: %{edited_by})\\\",\\\"same_as_latest\\\":\\\"*最新* と同じ\\\"}}},\\\"ko\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"최종본\\\",\\\"restore_revision\\\":\\\"이 수정본 복원\\\",\\\"revision_summary\\\":\\\"%{edited_by}이(가) *%{updated_at}*에 업데이트함\\\",\\\"same_as_latest\\\":\\\"*최종본*과 같음\\\"}}},\\\"mi\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Whakahōunga ina noa nei\\\",\\\"restore_revision\\\":\\\"Whakaora tēnei whakahounga\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* i te %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Ōrite ki *ina noa nei*\\\"}}},\\\"nb\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Siste revisjon\\\",\\\"restore_revision\\\":\\\"Gjenopprett denne revisjonen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* av %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samme som *siste*\\\"}}},\\\"nb-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Siste revisjon\\\",\\\"restore_revision\\\":\\\"Gjenopprett denne revisjonen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* av %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samme som *siste*\\\"}}},\\\"nl\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Laatste revisie\\\",\\\"restore_revision\\\":\\\"Deze revisie herstellen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* om %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Hetzelfde als *laatste*\\\"}}},\\\"nn\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Siste revisjon\\\",\\\"restore_revision\\\":\\\"Gjenopprett denne revisjonen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* av %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Same som *Siste*\\\"}}},\\\"pl\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Ostatnia powtórka\\\",\\\"restore_revision\\\":\\\"Przywróć tę powtórkę\\\",\\\"revision_summary\\\":\\\"Aktualizacja*%{updated_at}* dokonana przez użytkownika %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Tak samo jak *Ostatnie*\\\"}}},\\\"pt\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Revisão mais recente\\\",\\\"restore_revision\\\":\\\"Restaurar esta revisão\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* por %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Igual a *Mais recente*\\\"}}},\\\"pt-BR\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Revisão mais recente\\\",\\\"restore_revision\\\":\\\"Restaurar esta revisão\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* por %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Mesmo que *Mais recente*\\\"}}},\\\"ru\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Последняя редакция\\\",\\\"restore_revision\\\":\\\"Восстановить данную редакцию\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Такая же, как и *Последняя*\\\"}}},\\\"sl\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Najnovejša revizija\\\",\\\"restore_revision\\\":\\\"Obnovi to revizijo\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* na %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Enaka kot *najnovejša*\\\"}}},\\\"sv\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Senaste revision\\\",\\\"restore_revision\\\":\\\"Återställ den här revisionen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* av %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samma som *Senaste*\\\"}}},\\\"sv-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Senaste revision\\\",\\\"restore_revision\\\":\\\"Återställ den här revisionen\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* av %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Samma som *Senaste*\\\"}}},\\\"tr\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Son Güncelleme\\\",\\\"restore_revision\\\":\\\"Son güncellemeyi geri yükle\\\",\\\"revision_summary\\\":\\\"%{edited_by} tarafından *%{updated_at}*\\\",\\\"same_as_latest\\\":\\\"*En son * ile aynı\\\"}}},\\\"uk\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"Остання редакція\\\",\\\"restore_revision\\\":\\\"Відновити цю редакцію\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* ким: %{edited_by}\\\",\\\"same_as_latest\\\":\\\"Теж саме, що і *Останній*\\\"}}},\\\"zh-Hans\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"最新修订版\\\",\\\"restore_revision\\\":\\\"恢复此修订版\\\",\\\"revision_summary\\\":\\\"*%{updated_at}* 由 %{edited_by} 编辑\\\",\\\"same_as_latest\\\":\\\"与 *最新版* 相同\\\"}}},\\\"zh-Hant\\\":{\\\"wiki\\\":{\\\"wiki_page_revision\\\":{\\\"latest_revision\\\":\\\"最新修訂\\\",\\\"restore_revision\\\":\\\"還原此修訂\\\",\\\"revision_summary\\\":\\\"更新於 *%{updated_at}*；編輯人：%{edited_by}\\\",\\\"same_as_latest\\\":\\\"同*最新*一樣\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/wiki.wiki_page_revision';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('wiki.wiki_page_revision');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!wiki.wiki_page_revision\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'wiki/WikiPageRevision';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'updated_at': ((depth0 && depth0.updated_at)),\n    'edited_by': ((depth0 && depth0.edited_by)),\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"revision_summary\", \"*%{updated_at}* by %{edited_by}\", options) : helperMissing.call(depth0, \"t\", \"revision_summary\", \"*%{updated_at}* by %{edited_by}\", options)))\n    + \"\\n    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <strong>\";\n  if (helper = helpers.updated_at) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.updated_at); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</strong>\\n    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <div class=\\\"revision-actions\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"latest_revision\", \"Latest Revision\", options) : helperMissing.call(depth0, \"t\", \"latest_revision\", \"Latest Revision\", options)))\n    + \"</div>\\n  \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    \";\n  stack1 = (helper = helpers.ifAll || (depth0 && depth0.ifAll),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SELECTED), ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LOADED), options) : helperMissing.call(depth0, \"ifAll\", ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SELECTED), ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LOADED), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <div class=\\\"revision-actions\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.SAME_AS_LATEST), {hash:{},inverse:self.program(11, program11, data),fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </div>\\n    \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'w0': (\"<strong>$1</strong>\"),\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"same_as_latest\", \"Same as *Latest*\", options) : helperMissing.call(depth0, \"t\", \"same_as_latest\", \"Same as *Latest*\", options)))\n    + \"\\n        \";\n  return buffer;\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n          <a class=\\\"restore-link\\\" href=\\\"#\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revision\")\n  },data:data},helper ? helper.call(depth0, \"restore_revision\", \"Restore this revision\", options) : helperMissing.call(depth0, \"t\", \"restore_revision\", \"Restore this revision\", options)))\n    + \"</a>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"revision-content\\\">\\n  <button class=\\\"revision-details Button--link\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.edited_by), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </button>\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.IS)),stack1 == null || stack1 === false ? stack1 : stack1.LATEST), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport Backbone from 'Backbone'\nimport template from 'jst/wiki/WikiPageRevision'\n\nexport default class WikiPageRevisionView extends Backbone.View {\n  static initClass() {\n    this.prototype.tagName = 'li'\n    this.prototype.className = 'revision clearfix'\n    this.prototype.template = template\n\n    this.prototype.events = {\n      'click .restore-link': 'restore',\n      'keydown .restore-link': 'restore'\n    }\n\n    this.prototype.els = {'.revision-details': '$revisionButton'}\n  }\n\n  initialize() {\n    super.initialize(...arguments)\n    return this.model.on('change', () => this.render())\n  }\n\n  render() {\n    const hadFocus = this.$revisionButton != null ? this.$revisionButton.is(':focus') : undefined\n    super.render(...arguments)\n    if (hadFocus) {\n      return this.$revisionButton.focus()\n    }\n  }\n\n  afterRender() {\n    super.afterRender(...arguments)\n    this.$el.toggleClass('selected', !!this.model.get('selected'))\n    return this.$el.toggleClass('latest', !!this.model.get('latest'))\n  }\n\n  toJSON() {\n    const latest = this.model.collection != null ? this.model.collection.latest : undefined\n    const json = {\n      ...super.toJSON(...arguments),\n      IS: {\n        LATEST: !!this.model.get('latest'),\n        SELECTED: !!this.model.get('selected'),\n        LOADED: !!this.model.get('title') && !!this.model.get('body')\n      }\n    }\n    json.IS.SAME_AS_LATEST =\n      json.IS.LOADED &&\n      this.model.get('title') === (latest != null ? latest.get('title') : undefined) &&\n      this.model.get('body') === (latest != null ? latest.get('body') : undefined)\n    json.updated_at = $.datetimeString(json.updated_at)\n    json.edited_by = json.edited_by != null ? json.edited_by.display_name : undefined\n    return json\n  }\n\n  windowLocation() {\n    return window.location\n  }\n\n  restore(ev) {\n    if ((ev != null ? ev.type : undefined) === 'keydown') {\n      if (ev.keyCode !== 13) return\n    }\n    if (ev != null) {\n      ev.preventDefault()\n    }\n    return this.model.restore().done(attrs => {\n      if (this.pages_path) {\n        return (this.windowLocation().href = `${this.pages_path}/${attrs.url}/revisions`)\n      } else {\n        return this.windowLocation().reload()\n      }\n    })\n  }\n}\nWikiPageRevisionView.initClass()\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"سجل المراجعات\\\"}}},\\\"cy\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Hanes Diwygio\\\"}}},\\\"da\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisionshistorik\\\"}}},\\\"da-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisionshistorik\\\"}}},\\\"de\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Versionsverlauf\\\"}}},\\\"el\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Ιστορικό Εκδόσεων\\\"}}},\\\"en-AU\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revision History\\\"}}},\\\"en-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revision History\\\"}}},\\\"en-GB\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revision History\\\"}}},\\\"es\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Historial de revisiones\\\"}}},\\\"fa\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"تاریخچه بازنگری\\\"}}},\\\"fi\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Versiohistoria\\\"}}},\\\"fr\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Historique des révisions\\\"}}},\\\"fr-CA\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Historique des révisions\\\"}}},\\\"he\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"היסטורית גירסאות\\\"}}},\\\"ht\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Istorik Revizyon\\\"}}},\\\"hu\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Módosítási előzmények\\\"}}},\\\"hy\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Վերանայման պատմություն\\\"}}},\\\"is\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Endurskoðunarsaga\\\"}}},\\\"it\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Cronologia revisioni\\\"}}},\\\"ja\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"リビジョン履歴\\\"}}},\\\"ko\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"수정 이력\\\"}}},\\\"mi\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Whakahōunga hītori\\\"}}},\\\"nb\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisjonshistorikk\\\"}}},\\\"nb-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisjonshistorikk\\\"}}},\\\"nl\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisie van voorgeschiedenis\\\"}}},\\\"nn\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisjonshistorikk\\\"}}},\\\"pl\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Historia powtórek\\\"}}},\\\"pt\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Histórico de revisão\\\"}}},\\\"pt-BR\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Histórico de revisão\\\"}}},\\\"ru\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"История редакций\\\"}}},\\\"sl\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Zgodovina revizij\\\"}}},\\\"sv\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisionshistorik\\\"}}},\\\"sv-x-k12\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Revisionshistorik\\\"}}},\\\"tr\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Güncelleme Geçmişi\\\"}}},\\\"uk\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"Історія редакцій\\\"}}},\\\"zh-Hans\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"修订历史记录\\\"}}},\\\"zh-Hant\\\":{\\\"wiki\\\":{\\\"wiki_page_revisions\\\":{\\\"revision_history\\\":\\\"修訂歷史記錄\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/wiki.wiki_page_revisions';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('wiki.wiki_page_revisions');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!wiki.wiki_page_revisions\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'wiki/WikiPageRevisions';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, self=this, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <div class=\\\"revision-nav-buttons\\\">\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n  \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"\\n        <a class=\\\"prev-button\\\"><i class=\\\"icon-mini-arrow-left\\\"></i> Previous</a>\\n      \";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n        <a class=\\\"next-button\\\">Next <i class=\\\"icon-mini-arrow-right\\\"></i></a>\\n      \";\n  }\n\n  buffer += \"<aside>\\n  <div class=\\\"revision-history\\\">\\n    \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"wiki.wiki_page_revisions\")\n  },data:data},helper ? helper.call(depth0, \"revision_history\", \"Revision History\", options) : helperMissing.call(depth0, \"t\", \"revision_history\", \"Revision History\", options)))\n    + \"\\n    <a href=\\\"#\\\" class=\\\"close-button\\\"><i class=\\\"icon-x\\\"></i></a>\\n  </div>\\n  <ul class=\\\"collectionViewItems revisions-list\\\">\\n  </ul>\\n  \";\n  stack1 = (helper = helpers.ifAny || (depth0 && depth0.ifAny),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), options) : helperMissing.call(depth0, \"ifAny\", ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_PREV), ((stack1 = (depth0 && depth0.CAN)),stack1 == null || stack1 === false ? stack1 : stack1.FETCH_NEXT), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</aside>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\n\n// Floating sticky\n//\n// allows an element to float (using fixed positioning) as the user\n// scrolls, \"sticking\" to the top of the window. the difference from\n// a regular sticky implementation is that the element is constrained\n// by a containing element (or top and bottom elements), allowing the\n// element to float and stick, but only within the given bounds.\n//\n// to use, simply call .floatingSticky(containing_element) on a\n// jQuery object. optionally the top or bottom constraining element\n// can be overridden by providing {top:...} or {bottom:...} as the\n// last argument when calling .floatingSticky(...).\n//\n// the returned array has a floating sticky instance for each object\n// in the jQuery set, allowing calls to reposition() (in case the\n// element should be repositioned outside of a scroll/resize event)\n// or remove() to remove the floating sticky instance from the\n// element.\n\nlet instanceID = 0\n\nclass FloatingSticky {\n  constructor(el, container, options = {}) {\n    this.instanceID = `floatingSticky${instanceID++}`\n\n    this.$window = $(window)\n    this.$el = $(el)\n    this.$top = $(options.top || container)\n    this.$bottom = $(options.bottom || container)\n\n    this.$el.data('floatingSticky', this)\n\n    this.$window.on(`scroll.${this.instanceID} resize.${this.instanceID}`, () => this.reposition())\n    this.reposition()\n  }\n\n  remove() {\n    this.$window.off(this.instanceID)\n    return this.$el.data('floatingSticky', null)\n  }\n\n  reposition() {\n    let newTop\n    let windowTop = this.$window.scrollTop()\n    const windowHeight = this.$window.height()\n\n    // handle overscroll (up or down)\n    if (windowTop < 0) {\n      windowTop = 0\n    } else {\n      windowTop = Math.min(windowTop, document.body.scrollHeight - windowHeight)\n    }\n\n    // handle top of container\n    const containerTop = this.$top.offset().top\n    if (windowTop < containerTop) {\n      if (windowTop === 0) {\n        newTop = containerTop\n      } else {\n        newTop = containerTop - windowTop\n      }\n\n      // handle bottom of container\n    } else {\n      newTop = 0\n      const elHeight = this.$el.height()\n      const containerBottom = this.$bottom.offset().top + this.$bottom.height()\n\n      // stay within the container\n      if (windowTop + elHeight > containerBottom) {\n        newTop = containerBottom - elHeight - windowTop\n      }\n\n      // but don't go above the container\n      if (newTop < containerTop - windowTop) {\n        newTop = containerTop - windowTop\n      }\n    }\n\n    return this.$el.css({\n      top: newTop\n    })\n  }\n}\n\n$.fn.floatingSticky = function(container, options = {}) {\n  return this.map(function() {\n    return $(this).data('floatingSticky') || new FloatingSticky(this, container, options)\n  })\n}\n\nexport default FloatingSticky\n","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport _ from 'underscore'\nimport CollectionView from '../CollectionView'\nimport WikiPageRevisionView from './WikiPageRevisionView'\nimport template from 'jst/wiki/WikiPageRevisions'\nimport '../../jquery/floatingSticky'\nimport {publish} from 'vendor/jquery.ba-tinypubsub'\n\nexport default class WikiPageRevisionsView extends CollectionView {\n  static initClass() {\n    this.prototype.className = 'show-revisions'\n    this.prototype.template = template\n    this.prototype.itemView = WikiPageRevisionView\n\n    this.mixin({\n      events: {\n        'click .prev-button': 'prevPage',\n        'click .next-button': 'nextPage',\n        'click .close-button': 'close'\n      },\n      els: {\n        '#ticker': '$ticker',\n        aside: '$aside',\n        '.revisions-list': '$revisionsList'\n      }\n    })\n\n    this.optionProperty('pages_path')\n  }\n\n  initialize(options) {\n    super.initialize(...arguments)\n    this.selectedRevision = null\n\n    // handle selection changes\n    this.on('selectionChanged', (newSelection, oldSelection) => {\n      if (oldSelection.model != null) {\n        oldSelection.model.set('selected', false)\n      }\n      return newSelection.model != null ? newSelection.model.set('selected', true) : undefined\n    })\n\n    // reposition after rendering\n    return this.on('render renderItem', () => this.reposition())\n  }\n\n  afterRender() {\n    super.afterRender(...arguments)\n    publish('userContent/change')\n    this.trigger('render')\n\n    return (this.floatingSticky = this.$aside.floatingSticky('#main', {top: '#content'}))\n  }\n\n  remove() {\n    if (this.floatingSticky) {\n      _.each(this.floatingSticky, sticky => sticky.remove())\n      this.floatingSticky = null\n    }\n\n    return super.remove(...arguments)\n  }\n\n  renderItem() {\n    super.renderItem(...arguments)\n    return this.trigger('renderItem')\n  }\n\n  attachItemView(model, view) {\n    if (\n      !!this.selectedRevision &&\n      this.selectedRevision.get('revision_id') === model.get('revision_id')\n    ) {\n      model.set(this.selectedRevision.attributes)\n      model.set('selected', true)\n      this.setSelectedModelAndView(model, view)\n    } else {\n      model.set('selected', false)\n    }\n\n    const selectModel = () => {\n      return this.setSelectedModelAndView(model, view)\n    }\n    if (!this.selectedModel) {\n      selectModel()\n    }\n\n    view.pages_path = this.pages_path\n    view.$el.on('click', selectModel)\n    return view.$el.on('keypress', e => {\n      if (e.keyCode === 13 || e.keyCode === 27) {\n        e.preventDefault()\n        return selectModel()\n      }\n    })\n  }\n\n  setSelectedModelAndView(model, view) {\n    const oldSelectedModel = this.selectedModel\n    const oldSelectedView = this.selectedView\n    this.selectedModel = model\n    this.selectedView = view\n    this.selectedRevision = model\n    return this.trigger(\n      'selectionChanged',\n      {model, view},\n      {model: oldSelectedModel, view: oldSelectedView}\n    )\n  }\n\n  reposition() {\n    if (this.floatingSticky) {\n      return _.each(this.floatingSticky, sticky => sticky.reposition())\n    }\n  }\n\n  prevPage(ev) {\n    if (ev != null) {\n      ev.preventDefault()\n    }\n    return this.$el.disableWhileLoading(this.collection.fetch({page: 'prev', reset: true}))\n  }\n\n  nextPage(ev) {\n    if (ev != null) {\n      ev.preventDefault()\n    }\n    return this.$el.disableWhileLoading(this.collection.fetch({page: 'next', reset: true}))\n  }\n\n  close(ev) {\n    if (ev != null) {\n      ev.preventDefault()\n    }\n    return (window.location.href = this.collection.parentModel.get('html_url'))\n  }\n\n  toJSON() {\n    const json = super.toJSON(...arguments)\n    json.CAN = {\n      FETCH_PREV: this.collection.canFetch('prev'),\n      FETCH_NEXT: this.collection.canFetch('next')\n    }\n    return json\n  }\n}\nWikiPageRevisionsView.initClass()\n","/*\n * Copyright (C) 2013 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport ready from '@instructure/ready'\nimport WikiPage from 'compiled/models/WikiPage'\nimport WikiPageRevisionsCollection from 'compiled/collections/WikiPageRevisionsCollection'\nimport WikiPageContentView from 'compiled/views/wiki/WikiPageContentView'\nimport WikiPageRevisionsView from 'compiled/views/wiki/WikiPageRevisionsView'\n\n$('body').addClass('show revisions')\n\nconst wikiPage = new WikiPage(ENV.WIKI_PAGE, {\n  revision: ENV.WIKI_PAGE_REVISION,\n  contextAssetString: ENV.context_asset_string\n})\nconst revisions = new WikiPageRevisionsCollection([], {parentModel: wikiPage})\n\nready(() => {\n  const revisionsView = new WikiPageRevisionsView({\n    collection: revisions,\n    pages_path: ENV.WIKI_PAGES_PATH\n  })\n\n  const contentView = new WikiPageContentView()\n  contentView.$el.appendTo('#wiki_page_revisions')\n  contentView.on('render', () => revisionsView.reposition())\n  contentView.render()\n\n  revisionsView.on('selectionChanged', newSelection => {\n    contentView.setModel(newSelection.model)\n    if (!newSelection.model.get('title') || newSelection.model.get('title') === '') {\n      return contentView.$el.disableWhileLoading(newSelection.model.fetch())\n    }\n  })\n  revisionsView.$el.appendTo('#wiki_page_revisions')\n  revisionsView.render()\n\n  revisionsView.collection.setParams({per_page: 10})\n  revisionsView.collection.fetch()\n})\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"إلغاء\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"هل ترغب بالتأكيد في حذف هذا؟\\\"}}},\\\"cy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"delete\\\":\\\"Dileu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ydych chi’n siŵr eich bod am ddileu hyn?\\\"}}},\\\"da\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"da-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"de\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"delete\\\":\\\"Löschen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Möchten Sie dies wirklich löschen?\\\"}}},\\\"el\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Ακύρωση\\\",\\\"delete\\\":\\\"Διαγραφή\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Είστε σίγουρος/η ότι επιθυμείτε να το διαγράψετε;\\\"}}},\\\"en-AU\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-GB\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"es\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Eliminar\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"¿Seguro que desea eliminarlo?\\\"}}},\\\"fa\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"لغو\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"مطمئنید که می خواهید این مورد حذف شود؟\\\"}}},\\\"fi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"delete\\\":\\\"Poista\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Haluatko varmasti poistaa tämän?\\\"}}},\\\"fr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément ?\\\"}}},\\\"fr-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément?\\\"}}},\\\"he\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"ביטול\\\",\\\"delete\\\":\\\"ביטול\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"בטוח/ה שרוצה לבטל זאת?\\\"}}},\\\"ht\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"delete\\\":\\\"Efase\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ou kwè vrèman ou vle efase sa a?\\\"}}},\\\"hu\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Mégse\\\",\\\"delete\\\":\\\"Törlés\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Biztos benne, hogy törli ezt?\\\"}}},\\\"hy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Չեղյալ համարել\\\",\\\"delete\\\":\\\"Ջնջել\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Դուք իսկապե՞ս ցանկանում եք ջնջել սա:\\\"}}},\\\"is\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Hætta við\\\",\\\"delete\\\":\\\"Eyða\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Viltu örugglega eyða þessu?\\\"}}},\\\"it\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"delete\\\":\\\"Elimina\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vuoi eliminare questo?\\\"}}},\\\"ja\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"キャンセル\\\",\\\"delete\\\":\\\"削除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"これを削除してもよろしいですか?\\\"}}},\\\"ko\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"취소\\\",\\\"delete\\\":\\\"삭제\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"삭제하시겠습니까?\\\"}}},\\\"mi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"delete\\\":\\\"Muku\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"E tino hiahia ana koe ki te muku i tēnei?\\\"}}},\\\"nb\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nb-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"delete\\\":\\\"Verwijderen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Weet je zeker dat je dit wilt verwijderen?\\\"}}},\\\"nn\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du vil slette dette?\\\"}}},\\\"pl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"delete\\\":\\\"Usuń\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Czy na pewno chcesz usunąć ten element?\\\"}}},\\\"pt\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza de que deseja excluir isto?\\\"}}},\\\"pt-BR\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza que deseja excluir isto?\\\"}}},\\\"ru\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Отменить\\\",\\\"delete\\\":\\\"Удалить\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Действительно хотите удалить?\\\"}}},\\\"sl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Prekliči\\\",\\\"delete\\\":\\\"Odstrani\\\"}},\\\"sv\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"sv-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"tr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"İptal\\\",\\\"delete\\\":\\\"Sil\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Bunu silmek istediğinize emin misiniz?\\\"}}},\\\"uk\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Скасувати\\\",\\\"delete\\\":\\\"Видалити\\\"}},\\\"zh-Hans\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"删除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"是否确定要删除它?\\\"}}},\\\"zh-Hant\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"刪除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"您是否確定要刪除？\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/instructure_misc_plugins';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('instructure_misc_plugins');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!instructure_misc_plugins'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport authenticity_token from 'compiled/behaviors/authenticity_token'\nimport './jquery.ajaxJSON'\nimport 'jqueryui/dialog'\nimport './jquery.scrollToVisible'\nimport './vendor/jquery.scrollTo'\n\n$.fn.setOptions = function(prompt, options) {\n  let result = prompt ? \"<option value=''>\" + htmlEscape(prompt) + '</option>' : ''\n\n  if (options == null) {\n    options = []\n  }\n\n  options.forEach(opt => {\n    const optHtml = htmlEscape(opt)\n    result += '<option value=\"' + optHtml + '\">' + optHtml + '</option>'\n  })\n\n  return this.html($.raw(result))\n}\n\n// this function is to prevent you from doing all kinds of expesive operations on a\n// jquery object that doesn't actually have any elements in it\n// it is similar and inspired by http://www.slideshare.net/paul.irish/perfcompression (slide #42)\n// to use it do something like:\n// $(\"a .bunch #of .nodes\").ifExists(function(orignalQuery){\n//   //  'this' points to the original jquery object (in this case, $(\"a .bunch #of .nodes\") );\n//   // orignalQuery is the same as 'this';\n//   this.slideUp().dialog().show();\n// });\n$.fn.ifExists = function(func) {\n  this.length && func.call(this, this)\n  return this\n}\n\n// Returns the width of the browser's scroll bars.\n$.fn.scrollbarWidth = function() {\n  const $div = $(\n      '<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div>'\n    ).appendTo(this),\n    $innerDiv = $div.find('div')\n  // Append our div, do our calculation and then remove it\n  const w1 = $innerDiv.innerWidth()\n  $div.css('overflow-y', 'scroll')\n  const w2 = $innerDiv.innerWidth()\n  $div.remove()\n  return w1 - w2\n}\n\n// Simple animation for dimming an element's opacity\n$.fn.dim = function(speed) {\n  return this.animate({opacity: 0.4}, speed)\n}\n\n$.fn.undim = function(speed) {\n  return this.animate({opacity: 1.0}, speed)\n}\n\n// Helper for deleting objects from the DOM and db.\n//  url: URL to pass DELETE message.  If none provided,\n//    behaves as if the request were a success.  Useful for testing.\n//  message: Confirmation message\n//  cancelled: Function to handle cancel.\n//  confirmed: Function to handle confirm, before submit.\n//  success: What to do on success.  If none provided, fades\n//    out the element and removes it from the DOM.\n//  error: Error.\n//  dialog: If present, do a jquery.ui.dialog instead of a confirm(). If an\n//    object, it will be merged into the dialog options.\n$.fn.confirmDelete = function(options) {\n  var options = $.extend({}, $.fn.confirmDelete.defaults, options)\n  const $object = this\n  let $dialog = null\n  let result = true\n  options.noMessage = options.noMessage || options.no_message\n  const onContinue = function() {\n    if (!result) {\n      if (options.cancelled && $.isFunction(options.cancelled)) {\n        options.cancelled.call($object)\n      }\n      return\n    }\n    if (!options.confirmed) {\n      options.confirmed = function() {\n        $object.dim()\n      }\n    }\n    options.confirmed.call($object)\n    if (options.url) {\n      if (!options.success) {\n        options.success = function(data) {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      const data = options.prepareData ? options.prepareData.call($object, $dialog) : {}\n      data.authenticity_token = authenticity_token()\n      $.ajaxJSON(\n        options.url,\n        'DELETE',\n        data,\n        data => {\n          options.success.call($object, data)\n        },\n        (data, request, status, error) => {\n          if (options.error && $.isFunction(options.error)) {\n            options.error.call($object, data, request, status, error)\n          } else {\n            $.ajaxJSON.unhandledXHRs.push(request)\n          }\n        }\n      )\n    } else {\n      if (!options.success) {\n        options.success = function() {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      options.success.call($object)\n    }\n  }\n  if (options.message && !options.noMessage && !$.skipConfirmations) {\n    if (options.dialog) {\n      result = false\n      const dialog_options = typeof options.dialog === 'object' ? options.dialog : {}\n      const confirmation_class = options.url.includes('assignments') ? 'btn-danger' : 'btn-primary'\n      $dialog = $(options.message).dialog(\n        $.extend(\n          {},\n          {\n            modal: true,\n            close: onContinue,\n            buttons: [\n              {\n                text: I18n.t('#buttons.cancel', 'Cancel'),\n                click() {\n                  $(this).dialog('close')\n                } // ; onContinue();\n              },\n              {\n                text: I18n.t('#buttons.delete', 'Delete'),\n                class: confirmation_class,\n                click() {\n                  result = true\n                  $(this).dialog('close')\n                }\n              }\n            ]\n          },\n          dialog_options\n        )\n      )\n      return\n    } else {\n      result = confirm(options.message)\n    }\n  }\n  onContinue()\n}\n$.fn.confirmDelete.defaults = {\n  get message() {\n    return I18n.t('confirms.default_delete_thing', 'Are you sure you want to delete this?')\n  }\n}\n\n// Watches the given element's location.href for any changes\n// to the fragment (\"#...\") and calls the provided function\n// when there are any.\n// $(document).fragmentChange(function(event, hash) { alert(hash); });\n$.fn.fragmentChange = function(fn) {\n  if (fn && fn !== true) {\n    const query = (window.location.search || '').replace(/^\\?/, '').split('&')\n    // The URL can hard-code a hash regardless of what's\n    // actually shown in the hash by specifying a query\n    // parameter, hash=some_hash\n    let query_hash = null\n    for (var i = 0; i < query.length; i++) {\n      const item = query[i]\n      if (item && item.indexOf('hash=') === 0) {\n        query_hash = '#' + item.substring(5)\n      }\n    }\n    this.bind('document_fragment_change', fn)\n    const $doc = this\n    let found = false\n    // Can only be used on the root document,\n    // will not work on an iframe, for example.\n    for (var i = 0; i < $._checkFragments.fragmentList.length; i++) {\n      const obj = $._checkFragments.fragmentList[i]\n      if (obj.doc[0] == $doc[0]) {\n        found = true\n      }\n    }\n    if (!found) {\n      $._checkFragments.fragmentList.push({\n        doc: $doc,\n        fragment: ''\n      })\n    }\n    $(window).bind('hashchange', $._checkFragments)\n    setTimeout(() => {\n      if (query_hash && query_hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', query_hash)\n      } else if ($doc && $doc[0] && $doc[0].location && $doc[0].location.hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      }\n    }, 500)\n  } else {\n    this.triggerHandler('document_fragment_change', this[0].location.hash)\n  }\n  return this\n}\n$._checkFragments = function() {\n  const list = $._checkFragments.fragmentList\n  for (let idx = 0; idx < list.length; idx++) {\n    const obj = list[idx]\n    const $doc = obj.doc\n    if ($doc[0].location.hash != obj.fragment) {\n      $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      obj.fragment = $doc[0].location.hash\n      $._checkFragments.fragmentList[idx] = obj\n    }\n  }\n}\n$._checkFragments.fragmentList = []\n// Triggers a click only if the anchor tag isn't disabled.\n$.fn.clickLink = function() {\n  const $obj = this.eq(0)\n  if (!$obj.hasClass('disabled_link')) {\n    $obj.click()\n  }\n}\n\n// jQuery supposedly has this built-in, but I haven't\n// had much success with it.\n$.fn.showIf = function(bool) {\n  if ($.isFunction(bool)) {\n    return this.each(function(index) {\n      $(this).showIf(bool.call(this))\n    })\n  }\n  if (bool) {\n    this.show()\n  } else {\n    this.hide()\n  }\n  return this\n}\n\n$.fn.disableIf = function(bool) {\n  if ($.isFunction(bool)) {\n    bool = bool.call(this)\n  }\n  this.prop('disabled', !!bool)\n  return this\n}\n\n$.fn.indicate = function(options) {\n  options = options || {}\n  let $indicator\n  if (options == 'remove') {\n    $indicator = this.data('indicator')\n    if ($indicator) {\n      $indicator.remove()\n    }\n    return\n  }\n  $('.indicator_box').remove()\n  let offset = this.offset()\n  if (options && options.offset) {\n    offset = options.offset\n  }\n  const width = this.width()\n  const height = this.height()\n  const zIndex = (options.container || this).zIndex()\n  $indicator = $(document.createElement('div'))\n  $indicator.css({\n    width: width + 6,\n    height: height + 6,\n    top: offset.top - 3,\n    left: offset.left - 3,\n    zIndex: zIndex + 1,\n    position: 'absolute',\n    display: 'block',\n    '-moz-border-radius': 5,\n    opacity: 0.8,\n    border: '2px solid #870',\n    backgroundColor: '#fd0'\n  })\n  $indicator.addClass('indicator_box')\n  $indicator.mouseover(function() {\n    $(this)\n      .stop()\n      .fadeOut('fast', function() {\n        $(this).remove()\n      })\n  })\n  if (this.data('indicator')) {\n    this.indicate('remove')\n  }\n  this.data('indicator', $indicator)\n  $('body').append($indicator)\n  if (options && options.singleFlash) {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  } else {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow')\n      .fadeIn('slow')\n      .animate({opacity: 0.8}, 2500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  }\n  if (options && options.scroll) {\n    $('html,body').scrollToVisible($indicator)\n  }\n}\n\n$.fn.hasScrollbar = function() {\n  return this.length && this[0].clientHeight < this[0].scrollHeight\n}\n\n$.fn.log = function(msg) {\n  console.log('%s: %o', msg, this)\n  return this\n}\n\n// this is used if you want to fill the browser window with something inside #content but you want to also leave the footer and header on the page.\n$.fn.fillWindowWithMe = function(options) {\n  const opts = $.extend({minHeight: 400}, options),\n    $this = $(this),\n    $wrapper = $('#wrapper'),\n    $main = $('#main'),\n    $not_right_side = $('#not_right_side'),\n    $window = $(window),\n    $toResize = $(this).add(opts.alsoResize)\n\n  function fillWindowWithThisElement() {\n    $toResize.height(0)\n    const spaceLeftForThis =\n        $window.height() -\n        ($wrapper.offset().top + $wrapper.outerHeight()) +\n        ($main.height() - $not_right_side.height()),\n      newHeight = Math.max(400, spaceLeftForThis)\n\n    $toResize.height(newHeight)\n    if ($.isFunction(opts.onResize)) {\n      opts.onResize.call($this, newHeight)\n    }\n  }\n  fillWindowWithThisElement()\n  $window\n    .unbind('resize.fillWindowWithMe')\n    .bind('resize.fillWindowWithMe', fillWindowWithThisElement)\n  return this\n}\n\n$.fn.autoGrowInput = function(o) {\n  o = $.extend(\n    {\n      maxWidth: 1000,\n      minWidth: 0,\n      comfortZone: 70\n    },\n    o\n  )\n\n  this.filter('input:text').each(function() {\n    let minWidth = o.minWidth || $(this).width(),\n      val = '',\n      input = $(this),\n      testSubject = $('<tester/>').css({\n        position: 'absolute',\n        top: -9999,\n        left: -9999,\n        width: 'auto',\n        fontSize: input.css('fontSize'),\n        fontFamily: input.css('fontFamily'),\n        fontWeight: input.css('fontWeight'),\n        letterSpacing: input.css('letterSpacing'),\n        whiteSpace: 'nowrap'\n      }),\n      check = function() {\n        setTimeout(() => {\n          if (val === (val = input.val())) {\n            return\n          }\n\n          // Enter new content into testSubject\n          testSubject.text(val)\n\n          // Calculate new width + whether to change\n          const testerWidth = testSubject.width(),\n            newWidth =\n              testerWidth + o.comfortZone >= minWidth ? testerWidth + o.comfortZone : minWidth,\n            currentWidth = input.width(),\n            isValidWidthChange =\n              (newWidth < currentWidth && newWidth >= minWidth) ||\n              (newWidth > minWidth && newWidth < o.maxWidth)\n\n          // Animate width\n          if (isValidWidthChange) {\n            input.width(newWidth)\n          }\n        })\n      }\n\n    testSubject.insertAfter(input)\n\n    $(this).bind('keyup keydown blur update change', check)\n  })\n\n  return this\n}\n\nexport default $\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"لا توجد عناصر.\\\"}},\\\"cy\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Dim eitemau.\\\"}},\\\"da\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ingen elementer.\\\"}},\\\"da-x-k12\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ingen elementer.\\\"}},\\\"de\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Keine Elemente\\\"}},\\\"el\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Δεν υπάρχουν στοιχεία.\\\"}},\\\"en-AU\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"No items.\\\"}},\\\"en-CA\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"No items.\\\"}},\\\"en-GB\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"No items.\\\"}},\\\"es\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"No hay items.\\\"}},\\\"fa\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"هیچ موردی یافت نشد.\\\"}},\\\"fi\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ei kohteita.\\\"}},\\\"fr\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Aucun élément\\\"}},\\\"fr-CA\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Aucun élément\\\"}},\\\"he\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"אין פריטים\\\"}},\\\"ht\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Okenn eleman.\\\"}},\\\"hu\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Nincsenek elemek.\\\"}},\\\"hy\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Տարրերը բացակայում են:\\\"}},\\\"is\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Engin atriði.\\\"}},\\\"it\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Nessun elemento.\\\"}},\\\"ja\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"アイテムがありません。\\\"}},\\\"ko\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"항목이 없습니다.\\\"}},\\\"mi\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Kāore he tūemi.\\\"}},\\\"nb\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ingen elementer.\\\"}},\\\"nb-x-k12\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ingen elementer.\\\"}},\\\"nl\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Geen items.\\\"}},\\\"nn\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Ingen element.\\\"}},\\\"pl\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Brak elementów.\\\"}},\\\"pt\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Nenhum item.\\\"}},\\\"pt-BR\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Nenhum item.\\\"}},\\\"ru\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Элементы отсутствуют.\\\"}},\\\"sv\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Inga objekt.\\\"}},\\\"sv-x-k12\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Inga objekt.\\\"}},\\\"tr\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"Öğe bulunamadı.\\\"}},\\\"zh-Hans\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"没有项目。\\\"}},\\\"zh-Hant\\\":{\\\"CollectionView\\\":{\\\"no_items\\\":\\\"沒有項目。\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/CollectionView';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('CollectionView');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'collectionView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<ul class=\\\"collectionViewItems \";\n  if (helper = helpers.listClassName) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.listClassName); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></ul>\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<p class=\\\"emptyMessage\\\">\";\n  if (helper = helpers.emptyMessage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.emptyMessage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.collection)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport I18n from 'i18n!CollectionView'\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport Backbone from 'Backbone'\nimport template from 'jst/collectionView'\nimport {shimGetterShorthand} from '../legacyCoffeesScriptHelpers'\n\n##\n# Renders a collection of items with an item view. Binds to a handful of\n# collection events to keep itself up-to-date\n#\n# Example:\n#\n#   peopleCollection = new PeopleCollection\n#   view = new CollectionView\n#     itemView: PersonView\n#     collection: peopleCollection\n#   peopleCollection.add name: 'ryanf', id: 1\n#   peopleCollection.fetch()\n#   # etc.\n\nexport default class CollectionView extends Backbone.View\n\n  ##\n  # The backbone view rendered for collection items\n\n  @optionProperty 'itemView'\n\n  @optionProperty 'itemViewOptions'\n\n  @optionProperty 'emptyMessage'\n\n  @optionProperty 'listClassName'\n\n  className: 'collectionView'\n\n  els:\n    '.collectionViewItems': '$list'\n\n  defaults: shimGetterShorthand\n    itemViewOptions: {}\n  ,\n    emptyMessage: -> I18n.t(\"no_items\", \"No items.\")\n\n  ##\n  # When using a different template ensure it contains an element with a\n  # class of `.collectionViewItems`\n\n  template: template\n\n  ##\n  # Options:\n  #\n  #  - `itemView` {Backbone.View}\n  #  - `collection` {Backbone.Collection}\n  #\n  # @param {Object} options\n  # @api public\n\n  initialize: (options) ->\n    super\n    @attachCollection()\n\n  ##\n  # Renders the main template and the item templates\n  #\n  # @api public\n\n  render: =>\n    super\n    @renderItems() unless @empty\n    this\n\n  ##\n  # @api public\n\n  toJSON: -> _.extend(@options, {@emptyMessage, @listClassName, ENV})\n\n  ##\n  # Reorder child views according to current collection ordering.\n  # Useful when your collection has a comparator and that field\n  # changes on a given model, e.g.\n  #\n  #   @on 'change:name', @reorder\n  #\n  # @api public\n\n  reorder: =>\n    @collection.sort()\n    @$list.children().detach()\n    children = (model.itemView.$el for model in @collection.models)\n    @$list.append children...\n\n  ##\n  # Attaches all the collection events\n  #\n  # @api private\n\n  attachCollection: ->\n    @listenTo @collection, 'reset', @renderOnReset\n    @listenTo @collection, 'add', @renderOnAdd\n    @listenTo @collection, 'remove', @removeItem\n    @empty = not @collection.length\n\n  detachCollection: ->\n    @stopListening @collection\n\n  switchCollection: (collection) ->\n    @detachCollection()\n    @collection = collection\n    @attachCollection()\n\n  ##\n  # Ensures item views are removed properly\n  #\n  # @param {Array} models - array of Backbone.Models\n  # @api private\n\n  removePreviousItems: (models) =>\n    for model in models\n      model.view?.remove()\n\n  renderOnReset: (models, options) =>\n    @empty = not @collection.length\n    @removePreviousItems options.previousModels\n    @render()\n\n  ##\n  # Renders all collection items\n  #\n  # @api private\n\n  renderItems: ->\n    @collection.each @renderItem.bind(this)\n    @trigger \"renderedItems\"\n\n  ##\n  # Removes an item\n  #\n  # @param {Backbone.Model} model\n  # @api private\n\n  removeItem: (model) =>\n    @empty = not @collection.length\n    if @empty\n      @render()\n    else\n      model.view.remove()\n\n  ##\n  # Ensures main template is rerendered when the first items are added\n  #\n  # @param {Backbone.Model} model\n  # @api private\n\n  renderOnAdd: (model) =>\n    @render() if @empty\n    @empty = false\n    @renderItem(model)\n\n  ##\n  # Renders an item with the `itemView`\n  #\n  # @param {Backbone.Model} model\n  # @api private\n\n  renderItem: (model) =>\n    view = @createItemView model\n    view.render()\n    @attachItemView?(model, view)\n    @insertView view\n\n  ##\n  # Creates the item view instance, extend this when you need to do things\n  # like instantiate with child views, etc.\n\n  createItemView: (model) ->\n    view = new @itemView $.extend {}, (@itemViewOptions || {}), {model}\n    model.itemView = view\n    view\n\n  ##\n  # Inserts the item view with respect to the collection comparator.\n  #\n  # @param {Backbone.View} view\n  # @api private\n\n  insertView: (view) ->\n    index = @collection.indexOf view.model\n    if index is 0\n      @prependView view\n    else if index is @collection.length - 1\n      @appendView view\n    else\n      @insertViewAtIndex view, index\n\n  insertViewAtIndex: (view, index) ->\n    $sibling = @$list.children().eq(index)\n    if $sibling.length\n      $sibling.before view.el\n    else\n      @$list.append view.el\n\n  prependView: (view) ->\n    @$list.prepend view.el\n\n  appendView: (view) ->\n    @$list.append view.el\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوى المستخدم\\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Περιεχόμενο Χρήστη\\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوای کاربر\\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Käyttäjän sisältö\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\"תוכן משתמש\\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizatè\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasználói tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"ユーザーコンテンツ\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawartość użytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Usuário\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент пользователя\\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanıcı İçeriği\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент користувача\\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"用户内容\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"使用者內容\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n","/*!\n * jQuery Tiny Pub/Sub - v0.6 - 1/10/2011\n * http://benalman.com/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\nconst $ = require('jquery')\n\n  // Create a \"dummy\" jQuery object on which to bind, unbind and trigger event\n  // handlers. Note that $({}) works in jQuery 1.4.3+.\n  var o = $({}), subscribe, unsubscribe, publish;\n\n  // Subscribe to a topic. Works just like bind, except the passed handler\n  // is wrapped in a function so that the event object can be stripped out.\n  // Even though the event object might be useful, it is unnecessary and\n  // will only complicate things in the future should the user decide to move\n  // to a non-$.event-based pub/sub implementation.\n  $.subscribe = subscribe = function( topic, fn ) {\n    if ($.isPlainObject(topic)) {\n      return $.each(topic, function(topic, fn) {\n        subscribe(topic, fn);\n      });\n    }\n    // Call fn, stripping out the 1st argument (the event object).\n    function wrapper() {\n      return fn.apply( this, Array.prototype.slice.call( arguments, 1 ) );\n    }\n\n    // Add .guid property to function to allow it to be easily unbound. Note\n    // that $.guid is new in jQuery 1.4+, and $.event.guid was used before.\n    wrapper.guid = fn.guid = fn.guid || $.guid++;\n\n    // Bind the handler.\n    o.bind( topic, wrapper );\n  };\n\n  // Unsubscribe from a topic. Works exactly like unbind.\n  $.unsubscribe = unsubscribe = function() {\n    o.unbind.apply( o, arguments );\n  };\n\n  // Publish a topic. Works exactly like trigger.\n  $.publish = publish = function() {\n    o.trigger.apply( o, arguments );\n  };\n\n  module.exports = {\n    subscribe: subscribe,\n    unsubscribe: unsubscribe,\n    publish: publish\n  };\n\n"],"sourceRoot":""}