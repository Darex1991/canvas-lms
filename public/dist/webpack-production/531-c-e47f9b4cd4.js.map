{"version":3,"sources":["webpack:///./public/javascripts/lti/tool_launch_resizer.js","webpack:///./app/jsx/shared/helpers/tags.js","webpack:///./app/jsx/editor/ExternalToolDialog/Modal.js","webpack:///./app/jsx/editor/ExternalToolDialog/Tray.js","webpack:///./public/javascripts/translations/ExternalToolDialog.js","webpack:///./public/javascripts/dummyI18nResource.js?373e","webpack:///./public/javascripts/tinymce_plugins/instructure_external_tools/TinyMCEContentItem.js","webpack:///./app/jsx/deep_linking/processors/processEditorContentItems.js","webpack:///./app/jsx/editor/ExternalToolDialog.js","webpack:///./public/javascripts/lti/post_message/messageTypes.js","webpack:///./public/javascripts/translations/external_content.success.js","webpack:///./public/javascripts/dummyI18nResource.js?597e","webpack:///./public/javascripts/lti/post_message lazy ^\\.\\/.*\\.js$ namespace object","webpack:///./node_modules/@instructure/ui-dom-utils/es/getFontSize.js","webpack:///./node_modules/@instructure/ui-utils/es/px.js","webpack:///./node_modules/@instructure/ui-prop-types/es/makeRequirable.js","webpack:///./node_modules/@instructure/ui-prop-types/es/Children.js","webpack:///./node_modules/no-scroll/index.js","webpack:///./node_modules/@instructure/ui-dom-utils/es/getBoundingClientRect.js","webpack:///./public/javascripts/lti/messages.js","webpack:///./app/jsx/deep_linking/models/ContentItem.js","webpack:///./app/jsx/deep_linking/models/LinkContentItem.js","webpack:///./app/jsx/deep_linking/models/ResourceLinkContentItem.js","webpack:///./app/jsx/deep_linking/models/ImageContentItem.js","webpack:///./app/jsx/deep_linking/models/HtmlFragmentContentItem.js","webpack:///./app/jsx/deep_linking/ContentItemProcessor.js","webpack:///./public/javascripts/lti/post_message/handleLtiPostMessage.js"],"names":["ToolLaunchResizer","constructor","minToolHeight","this","tool_content_wrapper","wrapperId","container","$","length","resize_tool_content_wrapper","height","setHeight","replaceOneTag","text","name","value","strName","toString","strValue","replace","itemExpression","RegExp","ExternalToolDialogModal","props","open","label","onOpen","onClose","onCloseButton","children","CanvasModal","padding","title","onDismiss","ExternalToolDialogTray","CanvasTray","placement","size","headerPadding","mergeI18nTranslations","JSON","parse","scoped","LTI_MIME_TYPES","exportPropsToSelf","properties","keyMethod","_propMethod","prop","configurable","get","keys","Object","keyLength","defineProperty","ContentItem","call","linkText","tinyMCEContentItem","editorSelection","window","tinyMCE","activeEditor","selection","getContent","trim","fromJSON","obj","TinyMCEPayloadGenerators","iframe","append","src","url","allowfullscreen","webkitallowfullscreen","mozallowfullscreen","allow","css","width","placementAdvice","displayWidth","displayHeight","attr","html","embed","alt","link","$linkContainer","$link","href","target","linkTarget","linkClassName","addClass","thumbnail","innerHTML","TinyMCEContentItem","contentItem","decorate","getFunc","bind","getOwnPropertyNames","indexOf","mediaType","isLTI","presentationDocumentTarget","isOverriddenForThumbnail","canvasURL","stringify","toLowerCase","isImage","docTarget","data","monitorLtiMessages","async","processHandler","editor","contentItems","forEach","typeMap","includes","type","contentItemModel","ltiEndpoint","send","id","toHtmlString","EMPTY_BUTTON","EMPTY_FORM","contents","ExternalToolDialog","React","Component","state","button","infoAlert","form","handleBeforeUnload","ev","returnValue","I18n","t","handleExternalContentReady","win","code","i","len","codePayload","close","handleDeepLinking","deepLinkingOrigin","origin","messageType","event","dialog","processor","ContentItemProcessor","fromEvent","process","finally","catch","e","console","error","flashError","processEditorContentItems","handleClose","msg","confirm","handleOpen","formRef","submit","handleRemove","setState","focus","handleInfoAlertFocus","handleInfoAlertBlur","contextAssetString","resourceSelectionUrl","mappingOrName","maybeValue","asset","split","addEventListener","removeEventListener","unbind","render","iframeAllowances","frameHeight","Math","max","min","Overlay","use_tray","ref","method","action","style","margin","beforeInfoAlertRef","tabIndex","onFocus","onBlur","className","Alert","iframeRef","border","display","borderstyle","data-lti-launch","afterInfoAlertRef","defaultProps","whitelist","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","Error","ids","all","slice","module","exports","COMPUTED_CACHE","getFontSize","el","ignoreCache","canUseDOM","ownerDocument","documentElement","fontSize","parseInt","getComputedStyle","getPropertyValue","px","val","document","body","_parseUnit","parseUnit","_parseUnit2","num","unit","makeRequirable","validator","propName","componentName","propValue","concat","_len","arguments","rest","Array","_key","apply","Children","oneOf","validTypes","toArray","validTypeNames","getDisplayName","child","childName","join","isRequired","oneOfEach","instanceCount","typeName","errors","push","enforceOrder","validTypeGroups","validateTypes","childNames","typeNames","formatGroupTypes","typeGroups","types","formatTypes","displayName","root","scrollbarSize","scrollTop","isOn","on","options","doc","pageYOffset","scrollHeight","innerHeight","dummyScroller","createElement","setAttribute","appendChild","offsetWidth","clientWidth","removeChild","getScrollbarSize","position","top","overflow","off","scroll","noScroll","toggle","getBoundingClientRect","rect","left","node","pageXOffset","innerWidth","right","bottom","docEl","k","boundingRect","frameElement","defaultView","frameRect","clientTop","scrollLeft","clientLeft","offsetHeight","clientHeight","beforeUnloadHandler","removeUnloadMessage","findDomForWindow","sourceWindow","iframes","getElementsByTagName","contentWindow","ltiMessageHandler","handleLtiPostMessage","message","subject","toolResizer","token","source","offset","footer","scrollY","strMessage","postMessage","show","animate","htmlEscape","screenReaderFlashMessageExclusive","timeout","cancelAnimationFrame","requestAnimationFrame","err","log","json","assignProperties","property","linkThumbnail","imageTag","iframeTag","outerHTML","imgTag","anchorTag","safeUrl","LinkContentItem","super","freeze","linkBody","ResourceLinkContentItem","ltiEndpointParams","encodeURIComponent","ImageContentItem","HtmlFragmentContentItem","messages","logs","showMessages","showLogs","ENV","DEEP_LINKING_LOGGING","ltiResourceLink","image","content_items","errormsg","errorlog","flashMessage","loggingEnabled","ltiState","handler","default"],"mappings":"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","file":"531-c-e47f9b4cd4.js","sourcesContent":["/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\n\nexport default class ToolLaunchResizer {\n  constructor(minToolHeight) {\n    this.minToolHeight = minToolHeight || 450\n  }\n\n  tool_content_wrapper(wrapperId) {\n    let container = $(`div[data-tool-wrapper-id*='${wrapperId}']`)\n    if (container.length <= 0 && $('.tool_content_wrapper').length === 1) {\n      container = $('.tool_content_wrapper')\n    }\n    return container\n  }\n\n  resize_tool_content_wrapper(height, container) {\n    let setHeight = height\n    if (typeof setHeight !== 'number') {\n      setHeight = this.minToolHeight\n    }\n    const toolWrapper = container || this.tool_content_wrapper()\n    toolWrapper.height(!height || this.minToolHeight > setHeight ? this.minToolHeight : setHeight)\n  }\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport function replaceOneTag(text, name, value) {\n  if (!text) {\n    return text\n  }\n  const strName = (name || '').toString()\n  const strValue = (value || '').toString().replace(/\\s/g, '+')\n  const itemExpression = new RegExp(`(%7B|{){2}[\\\\s|%20|\\+]*${strName}[\\\\s|%20|\\+]*(%7D|}){2}`, 'g')\n  return text.replace(itemExpression, strValue)\n}\n\nexport function replaceTags(text, mappingOrName, maybeValue) {\n  if (typeof mappingOrName === 'object') {\n    Object.keys(mappingOrName).forEach(name => {\n      text = replaceOneTag(text, name, mappingOrName[name])\n    })\n    return text\n  } else {\n    return replaceOneTag(text, mappingOrName, maybeValue)\n  }\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport CanvasModal from 'jsx/shared/components/CanvasModal'\n\nexport default function ExternalToolDialogModal(props) {\n  const {open, label, onOpen, onClose, onCloseButton, name, children} = props\n  return (\n    <CanvasModal\n      padding=\"0\"\n      open={open}\n      label={label}\n      title={name}\n      onOpen={onOpen}\n      onClose={onClose}\n      onDismiss={onCloseButton}\n    >\n      {children}\n    </CanvasModal>\n  )\n}\n\nExternalToolDialogModal.propTypes = {\n  open: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  onCloseButton: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  children: PropTypes.node\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport CanvasTray from 'jsx/shared/components/CanvasTray'\n\nexport default function ExternalToolDialogTray(props) {\n  const {open, label, onOpen, onClose, onCloseButton, name, children} = props\n  return (\n    <CanvasTray\n      open={open}\n      label={label}\n      title={name}\n      onOpen={onOpen}\n      onClose={onClose}\n      onDismiss={onCloseButton}\n      placement=\"end\"\n      size=\"regular\"\n      padding=\"0\"\n      headerPadding=\"small\"\n    >\n      {children}\n    </CanvasTray>\n  )\n}\n\nExternalToolDialogTray.propTypes = {\n  open: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  onCloseButton: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  children: PropTypes.node\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"تضمين محتوى من الأداة الخارجية\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"هل تريد الإلغاء بالفعل؟ قد لا يتم حفظ التغييرات التي أجريتها.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"قد لا يتم حفظ التغييرات التي أجريتها.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"المحتوى التالي تم إدخاله بواسطة شريك\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"المحتوى السابق تم إدخاله بواسطة شريك\\\"},\\\"cy\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Plannu cynnwys o Adnodd Allanol\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Ydych chi’n siŵr eich bod am ganslo? Mae’n bosib na fydd y newidiadau rydych wedi’u gwneud yn cael eu cadw.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Mae’n bosib na fydd y newidiadau rydych wedi’u gwneud yn cael eu cadw.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Mae’r cynnwys canlynol yn cael ei ddarparu gan bartner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Mae’r cynnwys blaenorol yn cael ei ddarparu gan bartner\\\"},\\\"da\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Indlejr indhold fra eksternt værktøj\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Er du sikker på, du vil annullere? Ændringer, du har foretaget, kan ikke blive gemt.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Ændringer, du har foretaget, kan ikke blive gemt.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Følgende indhold er partnerleveret\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Foregående indhold er partnerleveret\\\"},\\\"da-x-k12\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Indlejr indhold fra eksternt værktøj\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Er du sikker på, du vil annullere? Ændringer, du har foretaget, kan ikke blive gemt.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Ændringer, du har foretaget, kan ikke blive gemt.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Følgende indhold er partnerleveret\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Foregående indhold er partnerleveret\\\"},\\\"de\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Content aus externem Tool einbetten\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Möchten Sie wirklich abbrechen? Vorgenommene Änderungen werden nicht gespeichert.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Vorgenommene Änderungen werden nicht gespeichert.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Der folgende Content stammt von einem Partner.\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Der vorhergehende Content stammt von einem Partner.\\\"},\\\"en-AU\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Embed content from External Tool\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Are you sure you want to cancel? Changes you made may not be saved.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Changes you made may not be saved.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"The following content is partner provided\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"The preceding content is partner provided\\\"},\\\"en-CA\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Embed content from External Tool\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Are you sure you want to cancel? Changes you made may not be saved.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Changes you made may not be saved.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"The following content is partner provided\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"The preceding content is partner provided\\\"},\\\"en-GB\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Embed content from External Tool\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Are you sure you want to cancel? Changes you made may not be saved.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Changes you made may not be saved.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"The following content is partner provided\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"The preceding content is partner provided\\\"},\\\"es\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Incorporar contenido de herramienta externa\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"¿Está seguro de que quiere cancelar la operación? No se guardarán los cambios que realizó.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"No se guardarán los cambios que realizó.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"El siguiente contenido está proporcionado por un socio\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"El contenido anterior está proporcionado por un socio\\\"},\\\"fa\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"آیا مطمئن هستید که می خواهید لغو شود؟ تغییرات انجام شده ممکن است ذخیره نشوند.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"تغییرات انجام شده ممکن است ذخیره نشوند.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"محتوای زیر توسط شریک فراهم شده است\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"محتوای پیشین توسط شریک ارائه شده است\\\"},\\\"fi\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Upota sisältö ulkoisesta työkalusta\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Haluatko varmasti peruuttaa? Tekemiäsi muutoksia ei ehkä tallenneta.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Tekemiäsi muutoksia ei ehkä tallenneta.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Seuraava sisältö on kumppanin toimittajaa\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"edeltävä sisältö on kumppanin toimittamaa\\\"},\\\"fr\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Intégrez des contenus provenant d'outils externes\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Êtes-vous sûr de vouloir annuler ? Les changements effectués ne seront peut-être pas sauvegardés.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Les changements effectués ne seront peut-être pas sauvegardés.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Le contenu suivant est fourni par un partenaire\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Le contenu qui précède était fourni par un partenaire\\\"},\\\"fr-CA\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Incorporer le contenu depuis l’outil externe\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Êtes-vous certain de vouloir annuler? Les changements effectués ne seront peut-être pas sauvegardés.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Les changements effectués ne seront peut-être pas sauvegardés.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Le contenu suivant est fourni par le partenaire\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Le contenu précédent est fourni par le partenaire\\\"},\\\"he\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"האם בטוחים שרוצים לבטל? שינויים שבוצעו לא ישמרו\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"תיקונים שבצעת יתכן שלא ישמרו\\\"},\\\"ht\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Kontni Entegre Zouti Ekstèn\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Ou kwè vrèman ou vle anile? Chanjman ou fè yo gendwa pa anrejistre.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Chanjman ou fè yo gendwa pa anrejistre.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Kontni annapre a se yon asosye ki bay li\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Kontni anvan an se yon asosye ki bay li\\\"},\\\"hu\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Biztos benne, hogy mégsem? A változtatásai talán nincsenek elmentve.\\\"},\\\"is\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Fella inn efni frá ytra verkfæri\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Viltu örugglega hætta við? Breytingar verða hugsanlega ekki vistaðar.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Breytingar verða hugsanlega ekki vistaðar.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Eftirfarandi efni er gefið upp af samstarfsaðila\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Framangreint efni er gefið upp af samstarfsaðila\\\"},\\\"it\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Nidifica contenuto da strumento esterno\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Vuoi annullare? Le modifiche effettuate potrebbero non essere salvate.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Le modifiche effettuate potrebbero non essere salvate.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"I contenuti seguenti sono forniti dal partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"I contenuti precedenti sono forniti dal partner\\\"},\\\"ja\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"外部ツールからの埋込コンテンツ\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"ほんとうにキャンセルしますか?行われた変更は保存されません。\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"行われた変更は保存されません。\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"以下のコンテンツはパートナーが提供しています\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"上記のコンテンツはパートナーが提供しています\\\"},\\\"mi\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Whakauru ihirangi mai i te Taputapu o waho\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"E pono ana koe ki te whakakore? Kaore pea e tiakina ngā huringa i mahia e koe.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Kaore pea e tiakina ngā huringa i mahia e koe.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Ko ngā kōrero e whai ake nei he hoa mahi\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Ko te tuhinga o mua he hoa mahi\\\"},\\\"nb\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Bygg inn innhold fra eksterne verktøy\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Er du sikker på at du vil avbryte? Det kan hende at endringene dine ikke ble lagret.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Det kan hende at endringene dine ikke ble lagret.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Følgende innhold er gitt av en partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Det foregående innholdet er gitt av en partner\\\"},\\\"nb-x-k12\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Bygg inn innhold fra eksterne verktøy\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Er du sikker på at du vil avbryte? Det kan hende at endringene dine ikke ble lagret.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Det kan hende at endringene dine ikke ble lagret.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Følgende innhold er gitt av en partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Det foregående innholdet er gitt av en partner\\\"},\\\"nl\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Inhoud insluiten vanuit extern tool\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Weet je zeker dat je wilt annuleren? Je wijzigingen worden niet opgeslagen.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Je wijzigingen worden niet opgeslagen.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"De volgende inhoud is door een partner geleverd\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"De voorgaande inhoud is door een partner geleverd\\\"},\\\"nn\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Set inn innhald frå eksternt verktøy\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Er du sikker på at du vil avbryte? Endringar blir kanskje ikkje lagra.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Endringar blir kanskje ikkje lagra.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Følgande innhald er lagt til av partnar\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Det føregåande innhaldet er lagt til av partnar\\\"},\\\"pl\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Osadź zawartość z zewnętrznego narzędzia\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Czy na pewno chcesz anulować? Zmiany mogą nie zostać zapisane.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Zmiany mogą nie zostać zapisane.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Następującą zawartość dostarcza partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Poprzednią zawartość dostarcza partner\\\"},\\\"pt\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Incorporar conteúdo da ferramenta externa\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Tem a certeza que deseja cancelar? As alterações que realizou não podem ser guardadas.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"As alterações que realizou não podem ser guardadas.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"O parceiro fornece o seguinte conteúdo\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"O conteúdo anterior é parceiro fornecido\\\"},\\\"pt-BR\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Incorporar conteúdo da ferramenta externa\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Tem certeza de que deseja cancelar? As alterações feitas não serão salvas.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"As alterações feitas não serão salvas.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"O seguinte conteúdo é fornecido por parceiro\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"O conteúdo precedente é fornecido por parceiro\\\"},\\\"ru\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Интегрированный контент из внешнего инструмента\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Вы действительно хотите отменить это действие? Внесенные вами изменения не могут быть сохранены.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Внесенные вами изменения не могут быть сохранены.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Последующий контент предоставляется партнером\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Предыдущий контент предоставляется партнером\\\"},\\\"sl\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Ali ste prepričani, da želite preklicati? Spremembe, ki ste jih izvedli, morda ne bodo shranjene.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Spremembe, ki ste jih izvedli, morda ne bodo shranjene.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Naslednjo vsebino zagotavljajo partnerji.\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Predhodno vsebino zagotavljajo partnerji.\\\"},\\\"sv\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Bädda in innehåll från externt verktyg\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Vill du verkligen annullera? Ändringar du gjort kan inte sparas.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Ändringar du gjort kan inte sparas.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Följande innehåll har tillhandahållits av partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Det föregående innehållet har tillhandahållits av partner\\\"},\\\"sv-x-k12\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"Bädda in innehåll från externt verktyg\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Vill du verkligen annullera? Ändringar du gjort kan inte sparas.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Ändringar du gjort kan inte sparas.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Följande innehåll har tillhandahållits av partner\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Det föregående innehållet har tillhandahållits av partner\\\"},\\\"tr\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"İptal etmek istediğinize emin misiniz? Yaptığınız değişiklikler kaydedilmeyebilir.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Yaptığınız değişiklikler kaydedilmemiş olabilir.\\\"},\\\"uk\\\":{\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"Ви впевнені, що хочете скасувати? Зроблені зміни можуть бути не збережені.\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"Зроблені Вами зміни можуть бути не збережені.\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"Наступний контент наданий партнером\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"Попередній контент наданий партнером\\\"},\\\"zh-Hans\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"从外部工具嵌入内容\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"确定要取消吗？您做出的变更可能无法保存。\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"您做出的变更可能无法保存。\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"以下内容由合作伙伴提供\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"以上内容由合作伙伴提供\\\"},\\\"zh-Hant\\\":{\\\"ExternalToolDialog\\\":{\\\"embed_from_external_tool\\\":\\\"從外部工具嵌入的內容\\\"},\\\"are_you_sure_you_want_to_cancel_changes_you_made_m_c5210496\\\":\\\"是否確定要取消？您所做的變更或未能儲存。\\\",\\\"changes_you_made_may_not_be_saved_4e8db973\\\":\\\"您所做的變更或未能儲存。\\\",\\\"the_following_content_is_partner_provided_ed1da756\\\":\\\"以下內容由合作夥伴提供\\\",\\\"the_preceding_content_is_partner_provided_d753928c\\\":\\\"上述內容由合作夥伴提供\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/ExternalToolDialog';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('ExternalToolDialog');\n  ","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport {monitorLtiMessages} from '../../../javascripts/lti/messages'\n\nconst LTI_MIME_TYPES = [\n  'application/vnd.ims.lti.v1.ltilink',\n  'application/vnd.ims.lti.v1.launch+json'\n]\n\nfunction exportPropsToSelf(properties, keyMethod) {\n  keyMethod = keyMethod || Object.keys\n\n  function _propMethod(prop) {\n    return {\n      configurable: true,\n      get() {\n        return properties[prop]\n      }\n    }\n  }\n\n  let keys = keyMethod(properties),\n    keyLength = keys.length,\n    prop\n\n  while (keyLength--) {\n    prop = keys[keyLength]\n    Object.defineProperty(this, prop, _propMethod(prop))\n  }\n}\n\nfunction ContentItem(properties) {\n  exportPropsToSelf.call(this, properties)\n}\n\nfunction linkText(tinyMCEContentItem) {\n  const editorSelection = window.tinyMCE && window.tinyMCE.activeEditor.selection\n  const selectedText = editorSelection && editorSelection.getContent()\n  return (\n    selectedText ||\n    (tinyMCEContentItem.text && tinyMCEContentItem.text.trim()) ||\n    (tinyMCEContentItem.title && tinyMCEContentItem.title.trim())\n  )\n}\n\nContentItem.fromJSON = function(obj) {\n  return new ContentItem(obj)\n}\n\nconst TinyMCEPayloadGenerators = {\n  iframe(tinyMCEContentItem) {\n    return $('<div/>')\n      .append(\n        $('<iframe/>', {\n          src: tinyMCEContentItem.url,\n          title: tinyMCEContentItem.title,\n          allowfullscreen: 'true',\n          webkitallowfullscreen: 'true',\n          mozallowfullscreen: 'true',\n          allow: 'autoplay *'\n        })\n          .css({\n            width: tinyMCEContentItem.placementAdvice.displayWidth,\n            height: tinyMCEContentItem.placementAdvice.displayHeight\n          })\n          .attr({\n            width: tinyMCEContentItem.placementAdvice.displayWidth,\n            height: tinyMCEContentItem.placementAdvice.displayHeight\n          })\n      )\n      .html()\n  },\n\n  embed(tinyMCEContentItem) {\n    return $('<div/>')\n      .append(\n        $('<img/>', {\n          src: tinyMCEContentItem.url,\n          alt: tinyMCEContentItem.text\n        }).css({\n          width: tinyMCEContentItem.placementAdvice.displayWidth,\n          height: tinyMCEContentItem.placementAdvice.displayHeight\n        })\n      )\n      .html()\n  },\n\n  text(tinyMCEContentItem) {\n    return tinyMCEContentItem.text\n  },\n\n  link(tinyMCEContentItem) {\n    const $linkContainer = $('<div/>'),\n      $link = $('<a/>', {\n        href: tinyMCEContentItem.url,\n        title: tinyMCEContentItem.title,\n        target: tinyMCEContentItem.linkTarget\n      })\n\n    if (tinyMCEContentItem.linkClassName) {\n      $link.addClass(tinyMCEContentItem.linkClassName)\n    }\n\n    $linkContainer.append($link)\n    if (tinyMCEContentItem.thumbnail) {\n      $link.append(\n        $('<img />', {\n          src: tinyMCEContentItem.thumbnail['@id'],\n          height: tinyMCEContentItem.thumbnail.height || 48,\n          width: tinyMCEContentItem.thumbnail.width || 48,\n          alt: tinyMCEContentItem.text\n        })\n      )\n    } else if (window.tinyMCE.activeEditor.selection.getContent()) {\n      $link[0].innerHTML = linkText(tinyMCEContentItem)\n    } else {\n      // don't inject tool provided content into the page HTML\n      $link.text(linkText(tinyMCEContentItem))\n    }\n\n    return $linkContainer.html()\n  }\n}\n\nfunction TinyMCEContentItem(contentItem) {\n  this.contentItem = contentItem\n  const decorate = (prop, getFunc) => {\n    Object.defineProperty(this, prop, {\n      get: getFunc.bind(this)\n    })\n  }\n\n  exportPropsToSelf.call(this, contentItem, Object.getOwnPropertyNames)\n\n  decorate('isLTI', function() {\n    return !!~LTI_MIME_TYPES.indexOf(this.mediaType)\n  })\n\n  decorate('isOverriddenForThumbnail', function() {\n    return (\n      this.isLTI && this.thumbnail && this.placementAdvice.presentationDocumentTarget === 'iframe'\n    )\n  })\n\n  decorate('isImage', function() {\n    return this.mediaType && this.mediaType.indexOf('image') == 0\n  })\n\n  decorate('linkClassName', function() {\n    return this.isOverriddenForThumbnail ? 'lti-thumbnail-launch' : ''\n  })\n\n  decorate('url', function() {\n    return (this.isLTI ? this.canvasURL : this.contentItem.url).replace(\n      /^(data:text\\/html|javascript:)/,\n      '#$1'\n    )\n  })\n\n  decorate('linkTarget', function() {\n    if (this.isOverriddenForThumbnail) {\n      return JSON.stringify(this.placementAdvice)\n    }\n\n    return this.placementAdvice.presentationDocumentTarget.toLowerCase() == 'window'\n      ? '_blank'\n      : null\n  })\n\n  decorate('docTarget', function() {\n    if (this.placementAdvice.presentationDocumentTarget == 'embed' && !this.isImage) {\n      return 'text'\n    } else if (this.isOverriddenForThumbnail) {\n      return 'link'\n    }\n\n    return this.placementAdvice.presentationDocumentTarget.toLowerCase()\n  })\n\n  decorate('codePayload', function() {\n    switch (this.docTarget) {\n      case 'iframe':\n        return TinyMCEPayloadGenerators.iframe(this)\n\n      case 'embed':\n        return TinyMCEPayloadGenerators.embed(this)\n\n      case 'text':\n        return TinyMCEPayloadGenerators.text(this)\n\n      default:\n        return TinyMCEPayloadGenerators.link(this)\n    }\n  })\n}\n\nTinyMCEContentItem.ContentItem = ContentItem\nTinyMCEContentItem.fromJSON = function(data) {\n  const contentItem = ContentItem.fromJSON(data)\n  return new TinyMCEContentItem(contentItem)\n}\n\nmonitorLtiMessages()\n\nexport default TinyMCEContentItem\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {send} from 'jsx/shared/rce/RceCommandShim'\nimport $ from 'jquery'\nimport ContentItemProcessor from '../ContentItemProcessor'\nimport I18n from 'i18n!external_content.success'\n\nexport default function processEditorContentItems(event, editor, dialog) {\n  const processor = ContentItemProcessor.fromEvent(event, processHandler)\n\n  if (!processor) {\n    return\n  }\n\n  processor\n    .process(editor)\n    .finally(() => {\n      // Remove \"unsaved changes\" warnings and close modal\n      dialog.close()\n    })\n    .catch(e => {\n      console.error(e)\n      $.flashError(I18n.t('Error retrieving content'))\n    })\n}\n\nexport async function processHandler(editor) {\n  this.contentItems.forEach(contentItem => {\n    if (Object.keys(this.typeMap).includes(contentItem.type)) {\n      const selection = editor.selection && editor.selection.getContent()\n      const contentItemModel = new this.typeMap[contentItem.type](\n        contentItem,\n        this.ltiEndpoint,\n        selection\n      )\n      send($(`#${editor.id}`), 'insert_code', contentItemModel.toHtmlString())\n    }\n  })\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {replaceTags} from '../shared/helpers/tags'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport ExternalToolDialogModal from './ExternalToolDialog/Modal'\nimport ExternalToolDialogTray from './ExternalToolDialog/Tray'\nimport {Alert} from '@instructure/ui-alerts'\nimport I18n from 'i18n!ExternalToolDialog'\nimport {send} from '../shared/rce/RceCommandShim'\nimport TinyMCEContentItem from 'tinymce_plugins/instructure_external_tools/TinyMCEContentItem'\nimport processEditorContentItems from '../deep_linking/processors/processEditorContentItems'\n\nconst EMPTY_BUTTON = {\n  height: 300,\n  width: 400,\n  name: ' '\n}\n\nconst EMPTY_FORM = {\n  url: '',\n  selection: '',\n  contents: ''\n}\n\nexport default class ExternalToolDialog extends React.Component {\n  static propTypes = {\n    win: PropTypes.shape({\n      addEventListener: PropTypes.func.isRequired,\n      removeEventListener: PropTypes.func.isRequired,\n      confirm: PropTypes.func.isRequired,\n      height: PropTypes.number.isRequired,\n      $: PropTypes.func.isRequired\n    }).isRequired,\n    editor: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      selection: PropTypes.shape({\n        getContent: PropTypes.func.isRequired\n      }),\n      getContent: PropTypes.func.isRequired,\n      focus: PropTypes.func.isRequired\n    }).isRequired,\n    contextAssetString: PropTypes.string.isRequired,\n    iframeAllowances: PropTypes.string.isRequired,\n    resourceSelectionUrl: PropTypes.string,\n    deepLinkingOrigin: PropTypes.string\n  }\n\n  static defaultProps = {\n    resourceSelectionUrl: null,\n    deepLinkingOrigin: ''\n  }\n\n  state = {\n    open: false,\n    button: EMPTY_BUTTON,\n    infoAlert: null,\n    form: EMPTY_FORM\n  }\n\n  open(button) {\n    const {win, editor, contextAssetString, resourceSelectionUrl} = this.props\n    let url = replaceTags(resourceSelectionUrl, 'id', button.id)\n    const selection = editor.selection.getContent() || ''\n    const contents = editor.getContent() || ''\n    if (url == null) {\n      // if we don't have a url on the page, build one using the current context.\n      // url should look like: /courses/2/external_tools/15/resoruce_selection?editor=1\n      const asset = contextAssetString.split('_')\n      url = `/${asset[0]}s/${asset[1]}/external_tools/${button.id}/resource_selection`\n    }\n    this.setState({open: true, button, form: {url, selection, contents}})\n    win.addEventListener('beforeunload', this.handleBeforeUnload)\n    win.addEventListener('message', this.handleDeepLinking)\n    win.$(win).bind('externalContentReady', this.handleExternalContentReady)\n  }\n\n  close() {\n    const {win} = this.props\n    win.removeEventListener('beforeunload', this.handleBeforeUnload)\n    win.removeEventListener('message', this.handleDeepLinking)\n    win.$(win).unbind('externalContentReady')\n    this.setState({open: false, form: EMPTY_FORM})\n  }\n\n  handleBeforeUnload = ev => (ev.returnValue = I18n.t('Changes you made may not be saved.'))\n\n  handleExternalContentReady = (ev, data) => {\n    const {editor, win} = this.props\n    const contentItems = data.contentItems\n    if (contentItems.length === 1 && contentItems[0]['@type'] === 'lti_replace') {\n      const code = contentItems[0].text\n      send(win.$(`#${editor.id}`), 'set_code', code)\n    } else {\n      for (let i = 0, len = contentItems.length; i < len; ++i) {\n        const code = TinyMCEContentItem.fromJSON(contentItems[i]).codePayload\n        send(win.$(`#${editor.id}`), 'insert_code', code)\n      }\n    }\n    this.close()\n  }\n\n  handleDeepLinking = ev => {\n    const {editor, deepLinkingOrigin} = this.props\n    // Only accept messages from the same origin\n    if (\n      ev.origin === deepLinkingOrigin &&\n      ev.data &&\n      ev.data.messageType === 'LtiDeepLinkingResponse'\n    ) {\n      processEditorContentItems(ev, editor, this)\n    }\n  }\n\n  handleClose = () => {\n    const {win} = this.props\n    const msg = I18n.t('Are you sure you want to cancel? Changes you made may not be saved.')\n    if (win.confirm(msg)) {\n      this.close()\n    }\n  }\n\n  handleOpen = () => {\n    if (this.state.open) this.formRef.submit()\n  }\n\n  handleRemove = () => {\n    this.setState({button: EMPTY_BUTTON})\n    this.props.editor.focus()\n  }\n\n  handleInfoAlertFocus = ev => this.setState({infoAlert: ev.target})\n\n  handleInfoAlertBlur = () => this.setState({infoAlert: null})\n\n  render() {\n    const {open, button, form, infoAlert} = this.state\n    const {iframeAllowances, win} = this.props\n    const label = I18n.t('embed_from_external_tool', 'Embed content from External Tool')\n    const frameHeight = Math.max(Math.min(win.height - 100, 550), 100)\n    const Overlay = button.use_tray ? ExternalToolDialogTray : ExternalToolDialogModal\n    return (\n      <>\n        <form\n          ref={ref => (this.formRef = ref)}\n          method=\"POST\"\n          action={form.url}\n          target=\"external_tool_launch\"\n          style={{margin: 0}}\n        >\n          <input type=\"hidden\" name=\"editor\" value=\"1\" />\n          <input type=\"hidden\" name=\"selection\" value={form.selection} />\n          <input type=\"hidden\" name=\"editor_contents\" value={form.contents} />\n        </form>\n        <Overlay\n          open={open}\n          label={label}\n          onOpen={this.handleOpen}\n          onClose={this.handleRemove}\n          onCloseButton={this.handleClose}\n          name={button.name}\n        >\n          <div\n            ref={ref => (this.beforeInfoAlertRef = ref)}\n            tabIndex=\"0\" // eslint-disable-line jsx-a11y/no-noninteractive-tabindex\n            onFocus={this.handleInfoAlertFocus}\n            onBlur={this.handleInfoAlertBlur}\n            className={\n              infoAlert && infoAlert === this.beforeInfoAlertRef ? '' : 'screenreader-only'\n            }\n          >\n            <Alert margin=\"small\">{I18n.t('The following content is partner provided')}</Alert>\n          </div>\n          <iframe\n            title={label}\n            ref={ref => (this.iframeRef = ref)}\n            name=\"external_tool_launch\"\n            src=\"/images/ajax-loader-medium-444.gif\"\n            id=\"external_tool_button_frame\"\n            style={{\n              width: button.use_tray ? '100%' : button.width || 800,\n              height: button.use_tray ? '100%' : button.height || frameHeight,\n              border: '0',\n              display: 'block'\n            }}\n            allow={iframeAllowances}\n            borderstyle=\"0\"\n            data-lti-launch=\"true\"\n          />\n          <div\n            ref={ref => (this.afterInfoAlertRef = ref)}\n            tabIndex=\"0\" // eslint-disable-line jsx-a11y/no-noninteractive-tabindex\n            onFocus={this.handleInfoAlertFocus}\n            onBlur={this.handleInfoAlertBlur}\n            className={infoAlert && infoAlert === this.afterInfoAlertRef ? '' : 'screenreader-only'}\n          >\n            <Alert margin=\"small\">{I18n.t('The preceding content is partner provided')}</Alert>\n          </div>\n        </Overlay>\n      </>\n    )\n  }\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport const whitelist = ['requestFullWindowLaunch', 'lti.resourceImported']\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"حدث خطأ في استعادة المحتوى\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"فشلت استعادة المحتوى، الرجاء المحاولة مرة أخرى أو إعلام مسؤول النظام بالخطأ.\\\",\\\"oembed_failure\\\":\\\"فشلت استعادة المحتوى، الرجاء المحاولة مرة أخرى أو إعلام مسؤول النظام بالخطأ.\\\",\\\"popup_success\\\":\\\"نجاح! يجب إغلاق هذه القائمة المنبثقة من تلقاء نفسها...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"جارٍ استعادة المحتوى\\\"},\\\"cy\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Gwall wrth adfer cynnwys\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Wedi methu adfer cynnwys, rhowch gynnig arall arni neu rhowch wybod i weinyddwr eich system am y gwall.\\\",\\\"oembed_failure\\\":\\\"Wedi methu adfer cynnwys, rhowch gynnig arall arni neu rhowch wybod i weinyddwr eich system am y gwall.\\\",\\\"popup_success\\\":\\\"Wedi llwyddo! Dylai’r neidlen hon gau ar ei phen ei hun...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Wrthi’n adfer cynnwys\\\"},\\\"da\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Fejl ved hentning af indhold\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Hentning af indhold mislykkedes. Prøv igen eller informer din systemadministrator om fejlen.\\\",\\\"oembed_failure\\\":\\\"Hentning af indhold mislykkedes. Prøv igen eller informer din systemadministrator om fejlen.\\\",\\\"popup_success\\\":\\\"Det lykkedes! Denne pop-op lukker sig selv ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Henter indhold\\\"},\\\"da-x-k12\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Fejl ved hentning af indhold\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Hentning af indhold mislykkedes. Prøv igen eller informer din systemadministrator om fejlen.\\\",\\\"oembed_failure\\\":\\\"Hentning af indhold mislykkedes. Prøv igen eller informer din systemadministrator om fejlen.\\\",\\\"popup_success\\\":\\\"Det lykkedes! Denne pop-op lukker sig selv ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Henter indhold\\\"},\\\"de\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Fehler beim Abrufen des Contents\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Abruf der Inhalte fehlgeschlagen. Bitte versuchen Sie es erneut, oder melden Sie Ihrem Systemadministrator den Fehler.\\\",\\\"oembed_failure\\\":\\\"Abruf der Inhalte fehlgeschlagen. Bitte versuchen Sie es erneut, oder melden Sie Ihrem Systemadministrator den Fehler.\\\",\\\"popup_success\\\":\\\"Erfolgreich. Dieses Popup-Fenster sollte sich automatisch schließen ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Content wird abgerufen\\\"},\\\"el\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Απέτυχε η ανάκτηση του περιεχομένου, παρακαλώ δοκιμάστε ξανά ή ειδοποιήστε για το σφάλμα τον διαχειριστή των υπολογιστικών συστημάτων σας.\\\",\\\"oembed_failure\\\":\\\"Απέτυχε η ανάκτηση του περιεχομένου, παρακαλώ δοκιμάστε ξανά ή ειδοποιήστε για το σφάλμα τον διαχειριστή των υπολογιστικών συστημάτων σας.\\\",\\\"popup_success\\\":\\\"\\\\u003cmrk mid=\\\\\\\"4209\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003eΤέλεια!\\\\u003c/mrk\\\\u003e \\\\u003cmrk mid=\\\\\\\"4210\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003eΑυτό το αναδυόμενο παράθυρο θα κλείσει από μόνο του...\\\\u003c/mrk\\\\u003e\\\"}}},\\\"en-AU\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Error retrieving content\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"oembed_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"popup_success\\\":\\\"Success! This popup should close on its own...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Retrieving Content\\\"},\\\"en-CA\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Error retrieving content\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"oembed_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"popup_success\\\":\\\"Success! This popup should close on its own...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Retrieving Content\\\"},\\\"en-GB\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Error retrieving content\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"oembed_failure\\\":\\\"Content retrieval failed, please try again or notify your system administrator of the error.\\\",\\\"popup_success\\\":\\\"Success! This popup should close on its own...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Retrieving Content\\\"},\\\"es\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Error al recuperar el contenido\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"La recuperación del contenido falló; intente de nuevo o notifique al administrador del sistema el error.\\\",\\\"oembed_failure\\\":\\\"La recuperación del contenido falló; intente de nuevo o notifique al administrador del sistema el error.\\\",\\\"popup_success\\\":\\\"¡Éxito! Esta ventana emergente debe cerrarse por sí sola...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Recuperando contenido\\\"},\\\"fa\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"خطا در بازیابی محتوا\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"بازیابی محتوا انجام نشد، لطفا دوباره سعی کنید یا مدیر سیستم خود را از این خطا آگاه نمایید.\\\",\\\"oembed_failure\\\":\\\"بازیابی محتوا انجام نشد، لطفا دوباره سعی کنید یا مدیر سیستم خود را از این خطا آگاه نمایید.\\\",\\\"popup_success\\\":\\\"موفقیت آمیز بود! این منوی بازشونده باید به خودی خود بسته شود...\\\"}}},\\\"fi\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Virhe sisällön palauttamisessa\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Sisällön nouto epäonnistui, yritä uudelleen tai ilmoita virheestä järjestelmän pääkäyttäjälle.\\\",\\\"oembed_failure\\\":\\\"Sisällön nouto epäonnistui, yritä uudelleen tai ilmoita virheestä järjestelmän pääkäyttäjälle.\\\",\\\"popup_success\\\":\\\"Onnistui! Tämän ponnahdusikkunan pitäisi sulkeutua itsekseen...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Sisältöä palautetaan\\\"},\\\"fr\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Erreur de récupération de contenu\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Échec de récupération du contenu ; veuillez réessayer ou informer votre administrateur système de cette erreur.\\\",\\\"oembed_failure\\\":\\\"Échec de récupération du contenu ; veuillez réessayer ou informer votre administrateur système de cette erreur.\\\",\\\"popup_success\\\":\\\"Bravo ! Cette fenêtre se fermera automatiquement...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Récupération du contenu\\\"},\\\"fr-CA\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Une erreur est survenue lors de l’extraction de contenu\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Échec de récupération du contenu; veuillez réessayer ou informer votre administrateur système de cette erreur.\\\",\\\"oembed_failure\\\":\\\"Échec de récupération du contenu; veuillez réessayer ou informer votre administrateur système de cette erreur.\\\",\\\"popup_success\\\":\\\"Bravo! Cette fenêtre se fermera automatiquement...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Récupération du contenu...\\\"},\\\"he\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"איחזור תוכן נכשל, יש לנסות שוב או לידע את מנהל המערכת שלך לגבי השגיאה\\\",\\\"oembed_failure\\\":\\\"תוכן האיחזור נכשל, יש לנסות שוב או לידע את מנהל המערכת שלך על השגיאה\\\",\\\"popup_success\\\":\\\"הצלחה! חלון קופץ זה יסגר מעצמו...\\\"}}},\\\"ht\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Erè rekiperasyon kontni\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Rekiperasyon kontni echwe, tanpri eseye ankò oswa avèti administratè sistèm ou an de erè a.\\\",\\\"oembed_failure\\\":\\\"Rekiperasyon kontni echwe, tanpri eseye ankò oswa avèti administratè sistèm ou an de erè a.\\\",\\\"popup_success\\\":\\\"Reyisi! Popup sa a dwe fèmen pou kont li...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Rekiperasyon Kontni\\\"},\\\"hu\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"A tartalomlekérés sikertelen, kérjük, próbálja újra vagy értesítse a rendszeradminisztrátorát a hibáról.\\\",\\\"oembed_failure\\\":\\\"A tartalomlekérés sikertelen, kérjük, próbálja újra vagy értesítse a rendszeradminisztrátorát a hibáról.\\\",\\\"popup_success\\\":\\\"Sikerült! Ennek a felugró ablaknak el kellene tűnnie magától...\\\"}}},\\\"hy\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Բովանդակության ստացումը չհաջողվեց, փորձեք կրկին կամ սխալի մասին ծանուցեք ձեր համակարգի ադմինիստրատորին: \\\",\\\"oembed_failure\\\":\\\"Բովանդակության ստացումը խափանվեց, փորձեք կրկին կամ սխալի մասին ծանուցեք ձեր համակարգի ադմինիստրատորին: \\\",\\\"popup_success\\\":\\\"Հաջողվեց: Այս հայտնվող պատուհանը ինքնուրույն կփակվի...\\\"}}},\\\"is\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Villa við endurheimt efnis\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Ekki tókst að endurheimta efni, reyndu aftur eða tilkynntu kerfisstjórnanda um villuna.\\\",\\\"oembed_failure\\\":\\\"Ekki tókst að endurheimta efni, reyndu aftur eða tilkynntu kerfisstjórnanda um villuna.\\\",\\\"popup_success\\\":\\\"Flott! Þessi sprettigluggi á að lokast sjálfkrafa...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Endurheimti efni\\\"},\\\"it\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Errore di recupero contenuto\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Recupero contenuto non riuscito. Riprova o invia una notifica dell'errore al tuo amministratore di sistema.\\\",\\\"oembed_failure\\\":\\\"Recupero contenuto non riuscito. Riprova o invia una notifica dell'errore al tuo amministratore di sistema.\\\",\\\"popup_success\\\":\\\"Operazione riuscita. Questo popup dovrebbe chiudersi automaticamente...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Recupero contenuto\\\"},\\\"ja\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"コンテンツを取得中にエラー\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"コンテンツの取得に失敗しました。もう一度やり直すか、システム管理者にこのエラーを通知してください。\\\",\\\"oembed_failure\\\":\\\"コンテンツの取得に失敗しました。もう一度やり直すか、システム管理者にこのエラーを通知してください。\\\",\\\"popup_success\\\":\\\"成功しました!このポップアップは自動的に閉じられます。\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"コンテンツを取得\\\"},\\\"ko\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"내용 찾아오기를 실패했습니다. 다시 시도하시거나 시스템 관리자에게 오류를 알리시기 바랍니다.\\\",\\\"oembed_failure\\\":\\\"내용 찾아오기를 실패했습니다. 다시 시도하시거나 시스템 관리자에게 오류를 알리시기 바랍니다.\\\",\\\"popup_success\\\":\\\"성공입니다! 이 팝업은 스스로 닫힙니다...\\\"}}},\\\"mi\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"He hapa i te wā e tiki ihirangi ana\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Tiki Ihirangi rahua, ngana anō whakamōhio tō kaiwhakahaere pūnaha o te hapa rānei.\\\",\\\"oembed_failure\\\":\\\"Tiki Ihirangi rahua, ngana anō whakamōhio tō kaiwhakahaere pūnaha o te hapa ranei.\\\",\\\"popup_success\\\":\\\"Momoho! Kia kati tēnei pakūake i runga i ona ake ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Tango ihirangi ana\\\"},\\\"nb\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Avvik ved henting av innhold\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Henting av innhold mislyktes. Prøv igjen eller rapporter avviket til systemadministratoren.\\\",\\\"oembed_failure\\\":\\\"Henting av innhold mislyktes. Prøv igjen eller rapporter avviket til systemadministratoren.\\\",\\\"popup_success\\\":\\\"Suksess! Denne boksen lukkes automatisk…\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Hente innhold\\\"},\\\"nb-x-k12\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Avvik ved henting av innhold\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Henting av innhold mislyktes. Prøv igjen eller rapporter avviket til systemadministratoren.\\\",\\\"oembed_failure\\\":\\\"Henting av innhold mislyktes. Prøv igjen eller rapporter avviket til systemadministratoren.\\\",\\\"popup_success\\\":\\\"Suksess! Denne boksen lukkes automatisk…\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Hente innhold\\\"},\\\"nl\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Fout bij ophalen van inhoud\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Het ophalen van de inhoud is mislukt. Probeer het opnieuw of waarschuw je systeembeheerder over de fout.\\\",\\\"oembed_failure\\\":\\\"Het ophalen van de inhoud is mislukt. Probeer het opnieuw of waarschuw je systeembeheerder over de fout.\\\",\\\"popup_success\\\":\\\"Geannuleerd. De pop-up moet vanzelf sluiten...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Inhoud ophalen\\\"},\\\"nn\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Det oppstod ein feil under henting av innhald\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Kan ikkje hente innhald. Prøv på nytt seinare eller varsle systemadministrator om feilen.\\\",\\\"oembed_failure\\\":\\\"Kan ikkje hente innhald. Prøv på nytt seinare eller varsle systemadministrator om feilen.\\\",\\\"popup_success\\\":\\\"Positivt utfall. Popup-vindauget skal lukkast automatisk...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Hentar innhald\\\"},\\\"pl\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Błąd podczas pobierania treści\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Wyszukiwanie zawartości nie powiodło się. Spróbuj ponownie lub powiadom o błędzie administratora systemu.\\\",\\\"oembed_failure\\\":\\\"Wyszukiwanie zawartości nie powiodło się. Spróbuj ponownie lub powiadom o błędzie administratora systemu.\\\",\\\"popup_success\\\":\\\"Udało się! Okno powinno zamknąć się samo...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Pobieranie zawartości...\\\"},\\\"pt\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Erro ao recuperar o conteúdo\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Falha na recuperação de conteúdo, tente novamente ou notifique o erro ao seu administrador de sistema.\\\",\\\"oembed_failure\\\":\\\"Falha na recuperação de conteúdo, tente novamente ou notifique o erro ao seu administrador de sistema.\\\",\\\"popup_success\\\":\\\"Sucesso! Este popup deve fechar sozinho...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"A recuperar Conteúdo\\\"},\\\"pt-BR\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Erro ao recuperar conteúdo\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Falha na recuperação de conteúdo, tente novamente ou notifique o erro ao seu administrador de sistema.\\\",\\\"oembed_failure\\\":\\\"Falha na recuperação de conteúdo, tente novamente ou notifique o erro ao seu administrador de sistema.\\\",\\\"popup_success\\\":\\\"Sucesso! Este pop-up deve fechar sozinho...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Recuperando conteúdo\\\"},\\\"ru\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Ошибка при получении контента\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Ошибка получения содержания, повторите попытку или сообщите об ошибке системному администратору.\\\",\\\"oembed_failure\\\":\\\"Ошибка получения содержания, повторите попытку или сообщите об ошибке системному администратору.\\\",\\\"popup_success\\\":\\\"Операция выполнена успешно! Это всплывающее окно должно закрыться самостоятельно...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Получение содержания\\\"},\\\"sl\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Napaka pri pridobivanju vsebine\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Pridobivanje vsebine ni uspelo; poskusite znova ali pa o napaki obvestite skrbnika sistema.\\\",\\\"oembed_failure\\\":\\\"Pridobivanje vsebine ni uspelo; poskusite znova ali pa o napaki obvestite skrbnika sistema.\\\",\\\"popup_success\\\":\\\"Uspešno! To pojavno okno bi se moralo zapreti samo ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Pridobivanje vsebine\\\"},\\\"sv\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Ett fel inträffade vid hämtning av innehåll\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Det gick inte att hämta innehåll. Försök igen eller kontakta din systemadministratör om felet.\\\",\\\"oembed_failure\\\":\\\"Det gick inte att hämta innehåll. Försök igen eller kontakta din systemadministratör om felet.\\\",\\\"popup_success\\\":\\\"Klart! Denna popup stängs av sig själv ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Hämtar innehåll\\\"},\\\"sv-x-k12\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"Ett fel uppstod vid hämtning av innehåll\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Det gick inte att hämta innehåll. Försök igen eller kontakta din systemadministratör om felet.\\\",\\\"oembed_failure\\\":\\\"Det gick inte att hämta innehåll. Försök igen eller kontakta din systemadministratör om felet.\\\",\\\"popup_success\\\":\\\"Klart! Denna popup stängs av sig själv ...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"Hämtar innehåll\\\"},\\\"tr\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"İçerik alımı başarısız oldu, lütfen tekrar deneyin ya da hatayla ilgili sistem yöneticinizi bilgilendirin.\\\",\\\"oembed_failure\\\":\\\"İçerik alımı başarısız oldu, lütfen tekrar deneyin ya da hatayla ilgili sistem yöneticinizi bilgilendirin.\\\",\\\"popup_success\\\":\\\"Başarılı! Bu mesaj kendiliğinden kapanacaktır...\\\"}}},\\\"uk\\\":{\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"Не вдалося знайти контент, спробуйте ще раз або повідомте системного адміністратора про помилку.\\\",\\\"oembed_failure\\\":\\\"Не вдалося знайти вміст, спробуйте ще раз або повідомте системного адміністратора про помилку.\\\",\\\"popup_success\\\":\\\"Успіх! Це спливаюче вікно закриється самостійно...\\\"}}},\\\"zh-Hans\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"提取内容时出错\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"内容检索失败，请重试，或将错误告知系统管理员。\\\",\\\"oembed_failure\\\":\\\"内容检索失败，请重试，或将错误告知系统管理员。\\\",\\\"popup_success\\\":\\\"成功！此弹出窗口会自动关闭...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"正在提取内容\\\"},\\\"zh-Hant\\\":{\\\"error_retrieving_content_c07ee76b\\\":\\\"取回內容時發生錯誤\\\",\\\"external_content\\\":{\\\"success\\\":{\\\"content_failure\\\":\\\"內容取回失敗，請再試一次，或將錯誤通知給系統管理員。\\\",\\\"oembed_failure\\\":\\\"內容取回失敗，請再試一次，或將錯誤通知給系統管理員。\\\",\\\"popup_success\\\":\\\"成功！此快顯視窗將會自行關閉...\\\"}},\\\"retrieving_content_ed0b9b33\\\":\\\"正在取回內容\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/external_content.success';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('external_content.success');\n  ","var map = {\n\t\"./__tests__/handleLtiPostMessages.test.js\": [\n\t\t\"Af1U\",\n\t\t630\n\t],\n\t\"./__tests__/lti.resourceImported.test.js\": [\n\t\t\"yySz\",\n\t\t566\n\t],\n\t\"./__tests__/requestFullWindowLaunch.test.js\": [\n\t\t\"w8Zi\",\n\t\t567\n\t],\n\t\"./handleLtiPostMessage.js\": [\n\t\t\"y+46\"\n\t],\n\t\"./lti.resourceImported.js\": [\n\t\t\"75OS\",\n\t\t631\n\t],\n\t\"./messageTypes.js\": [\n\t\t\"0YqI\"\n\t],\n\t\"./requestFullWindowLaunch.js\": [\n\t\t\"S3m7\",\n\t\t632\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"9cv0\";\nmodule.exports = webpackAsyncContext;","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from './canUseDOM';\nimport { ownerDocument } from './ownerDocument';\nimport { getComputedStyle } from './getComputedStyle';\nvar COMPUTED_CACHE = {};\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Gets font size in px\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @returns {Object} font size in px\n */\n\nfunction getFontSize(el, ignoreCache) {\n  if (!canUseDOM) {\n    return 16;\n  }\n\n  var container = el || ownerDocument(el).documentElement; // return the cached font size if it's there\n\n  if (!ignoreCache && COMPUTED_CACHE[container]) {\n    return COMPUTED_CACHE[container];\n  }\n\n  var fontSize = parseInt(getComputedStyle(container).getPropertyValue('font-size')); // cache the computed font size so that we don't have to compute it again\n\n  COMPUTED_CACHE[container] = fontSize;\n  return fontSize;\n}\n\nexport default getFontSize;\nexport { getFontSize };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { getFontSize } from '@instructure/ui-dom-utils';\nimport { parseUnit } from './parseUnit';\n/**\n * ---\n * category: utilities\n * ---\n * Converts a unit value size combination (em, rem, px) to a number representing px\n *\n * Example inputs:\n *  - '100rem'\n *  - '20em'\n *  - '40px'\n *\n * @module px\n *\n * @param {String} val\n * @param {DomNode} el - containing element, for context measure is em (defaults to document.body)\n * @returns {Number} Returns numerical representation of pixels\n*/\n\nfunction px(val, el) {\n  var container = el || document.body;\n\n  if (!val || typeof val === 'number') {\n    return val;\n  }\n\n  var _parseUnit = parseUnit(val),\n      _parseUnit2 = _slicedToArray(_parseUnit, 2),\n      num = _parseUnit2[0],\n      unit = _parseUnit2[1];\n\n  if (unit === 'rem') {\n    return num * getFontSize();\n  } else if (unit === 'em') {\n    return num * getFontSize(container);\n  } else {\n    return num;\n  }\n}\n\nexport default px;\nexport { px };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/PropTypes\n * ---\n * Given a validator function, extends the validator functionality to also\n * ensure that the prop has been provided if `.isRequired` is specified.\n *\n * ```js\n * function validator (props, propName, componentName) {\n *   const propValue = props[propName]\n *   if (propValue === 'purple') {\n *     return new Error(`Purple is not accepted in ${componentName}!`)\n *   }\n * }\n *\n * validator.isRequired = makeRequirable(validator)\n * ```\n *\n * @param {function} validator - a validator function\n * @returns {Error} if designated prop is not provided\n */\nfunction makeRequirable(validator) {\n  return function (props, propName, componentName) {\n    var propValue = props[propName];\n\n    if (propValue === null || typeof propValue === 'undefined') {\n      return new Error(\"The prop `\".concat(propName, \"` is marked as required in `\").concat(componentName, \"`, but its value is `\").concat(propValue, \"`\"));\n    } else {\n      for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        rest[_key - 3] = arguments[_key];\n      }\n\n      return validator.apply(void 0, [props, propName, componentName].concat(rest));\n    }\n  };\n}\n\nexport default makeRequirable;\nexport { makeRequirable };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport { makeRequirable } from './makeRequirable';\nvar Children = {\n  /**\n   * Validate that the children of a component are one of the specified types.\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.oneOf([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n   *    }\n   *  }\n   * ```\n   *\n   * This will allow children such as:\n   *\n   * ```jsx\n   *  <Example>\n   *    <Foo />\n   *  </Example>\n   * ```\n   *\n   *  OR\n   *\n   * ```jsx\n   *  <Example>\n   *    <Bar />\n   *    <Foo />\n   *  </Example>\n   * ```\n   *\n   * But will fail on something like:\n   *\n   * ```jsx\n   *  <Example>\n   *    <h1>Example</h1>\n   *    <Foo />\n   *  </Example>\n   * ```\n   * @returns {Error} if validation failed\n   */\n  oneOf: function oneOf(validTypes) {\n    function validator(props, propName, componentName) {\n      var children = React.Children.toArray(props[propName]);\n      var validTypeNames = validTypes.map(function (type) {\n        return type ? getDisplayName(type) : type;\n      });\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child && child.type) {\n          var childName = getDisplayName(child.type);\n\n          if (validTypeNames.indexOf(childName) < 0) {\n            return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found '\").concat(childName, \"'\"));\n          }\n        } else if (child) {\n          return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found an element with unknown type: \").concat(child));\n        }\n      }\n    }\n\n    validator.isRequired = makeRequirable(validator);\n    return validator;\n  },\n\n  /**\n   * Ensures that there is exactly one of each specified child\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.oneOfEach([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  * An error will be thrown\n  *  - If any of the children are not provided (ex. Foo, Bar, but missing Baz)\n  *  - If multiple children of the same type are provided (ex. Foo, Foo, Bar, and Baz)\n  *\n  * @param {Array} validTypes - Array of child types\n  * @returns {Error} if validation failed\n  */\n  oneOfEach: function oneOfEach(validTypes) {\n    return function (props, propName, componentName) {\n      var children = React.Children.toArray(props[propName]);\n      var instanceCount = {};\n      var validTypeNames = validTypes.map(function (type) {\n        var typeName = getDisplayName(type);\n        instanceCount[typeName] = 0;\n        return typeName;\n      });\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child && child.type) {\n          var childName = getDisplayName(child.type);\n\n          if (validTypeNames.indexOf(childName) < 0) {\n            return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found '\").concat(childName, \"'\"));\n          }\n\n          instanceCount[childName] = (instanceCount[childName] || 0) + 1;\n        } else if (child) {\n          return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found an element of unknown type: \").concat(child));\n        }\n      }\n\n      var errors = [];\n      Object.keys(instanceCount).forEach(function (childName) {\n        if (instanceCount[childName] > 1) {\n          errors.push(\"\".concat(instanceCount[childName], \" children of type \").concat(childName));\n        }\n\n        if (instanceCount[childName] === 0) {\n          errors.push(\"0 children of type \".concat(childName));\n        }\n      });\n\n      if (errors.length > 0) {\n        return new Error(\"Expected exactly one of each \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found:\\n  \").concat(errors.join('\\n')));\n      }\n    };\n  },\n\n  /**\n   * Validate the type and order of children for a component.\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.enforceOrder([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  * This validator will also allow various permutations of the order.\n  *\n  * ```js\n  *  import { Children } from '@instructure/ui-prop-types'\n  *\n  *  class Example extends Component {\n  *    static propTypes = {\n  *      children: Children.enforceOrder(\n  *        [Foo, Bar, Baz],\n  *        [Foo, Bar],\n  *        [Bar, Baz],\n  *      )\n  *    }\n  *\n  *    render () {\n  *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce one of the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  *  OR\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *  </Example>\n  * ```\n  *\n  *  OR\n  *\n  * ```jsx\n  *  <Example>\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  * @param {...Array} validTypeGroups One or more Arrays of valid types\n  * @returns {Error} if validation failed\n  */\n  enforceOrder: function enforceOrder() {\n    for (var _len = arguments.length, validTypeGroups = new Array(_len), _key = 0; _key < _len; _key++) {\n      validTypeGroups[_key] = arguments[_key];\n    }\n\n    function validateTypes(childNames, typeNames) {\n      for (var i = 0; i < childNames.length; i++) {\n        if (childNames[i] !== typeNames[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function formatGroupTypes(componentName, typeGroups) {\n      return typeGroups.map(function (types) {\n        return formatTypes(componentName, types);\n      }).join('\\n\\n');\n    }\n\n    function formatTypes(componentName, types) {\n      var children = types.map(function (type) {\n        if (type) {\n          return getDisplayName(type);\n        } else {\n          return '??';\n        }\n      }).map(function (name) {\n        return \"  <\".concat(name, \" />\");\n      }).join('\\n');\n      return \"<\".concat(componentName, \">\\n\").concat(children, \"\\n</\").concat(componentName, \">\");\n    }\n\n    function validator(props, propName, componentName) {\n      var childNames = React.Children.toArray(props[propName]).map(function (child) {\n        if (child && child.type) {\n          return getDisplayName(child.type);\n        } else if (child) {\n          return null;\n        }\n      }); // Validate each group, if any of them are valid we're done\n\n      for (var i = 0; i < validTypeGroups.length; i++) {\n        var validTypeNames = validTypeGroups[i].map(function (type) {\n          if (type) {\n            return getDisplayName(type);\n          } else {\n            return '??';\n          }\n        });\n\n        if (validateTypes(childNames, validTypeNames)) {\n          return;\n        }\n      } // If we make it through the loop then children are not valid\n\n\n      return new Error(\"Expected children of \".concat(componentName, \" in one of the following formats:\\n  \").concat(formatGroupTypes(componentName, validTypeGroups), \"\\n\\n\\n  Instead of:\\n  \").concat(formatTypes(componentName, childNames)));\n    }\n\n    validator.isRequired = makeRequirable(validator);\n    return validator;\n  }\n}; // TODO: Remove when we further break up ui-utils and bringing this in no longer creates\n// a circular dep\n\nvar getDisplayName = function getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name;\n};\n\nexport default Children;\nexport {\n/**\n * ---\n * category: utilities/PropTypes\n * ---\n * @module Children\n */\nChildren };","(function(root) {\n  var isOn = false;\n  var scrollbarSize;\n  var scrollTop;\n\n  function getScrollbarSize() {\n    if (typeof scrollbarSize !== 'undefined') return scrollbarSize;\n\n    var doc = document.documentElement;\n    var dummyScroller = document.createElement('div');\n    dummyScroller.setAttribute('style', 'width:99px;height:99px;' + 'position:absolute;top:-9999px;overflow:scroll;');\n    doc.appendChild(dummyScroller);\n    scrollbarSize = dummyScroller.offsetWidth - dummyScroller.clientWidth;\n    doc.removeChild(dummyScroller);\n    return scrollbarSize;\n  }\n\n  function hasScrollbar() {\n    return document.documentElement.scrollHeight > window.innerHeight;\n  }\n\n  function on(options) {\n    if (typeof document === 'undefined' || isOn) return;\n    var doc = document.documentElement;\n    scrollTop = window.pageYOffset;\n    if (hasScrollbar()) {\n      doc.style.width = 'calc(100% - '+ getScrollbarSize() +'px)';\n    } else {\n      doc.style.width = '100%';\n    }\n    doc.style.position = 'fixed';\n    doc.style.top = -scrollTop + 'px';\n    doc.style.overflow = 'hidden';\n    isOn = true;\n  }\n\n  function off() {\n    if (typeof document === 'undefined' || !isOn) return;\n    var doc = document.documentElement;\n    doc.style.width = '';\n    doc.style.position = '';\n    doc.style.top = '';\n    doc.style.overflow = '';\n    window.scroll(0, scrollTop);\n    isOn = false;\n  }\n\n  function toggle() {\n    if (isOn) {\n      off();\n      return;\n    }\n    on();\n  }\n\n  var noScroll = {\n    on: on,\n    off: off,\n    toggle: toggle,\n  };\n\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = noScroll;\n  } else {\n    root.noScroll = noScroll;\n  }\n})(this);\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { findDOMNode } from './findDOMNode';\nimport { canUseDOM } from './canUseDOM';\nimport { contains } from './contains';\nimport { ownerDocument } from './ownerDocument';\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Gets the bounding rectangle of an element\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @return {object} rect - object with top, left coords and height and width\n */\n\nfunction getBoundingClientRect(el) {\n  var rect = {\n    top: 0,\n    left: 0,\n    height: 0,\n    width: 0\n  };\n\n  if (!canUseDOM) {\n    return rect;\n  }\n\n  var node = findDOMNode(el);\n\n  if (!node) {\n    return rect;\n  }\n\n  if (node === window) {\n    return {\n      left: window.pageXOffset,\n      top: window.pageYOffset,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      right: window.innerWidth + window.pageXOffset,\n      bottom: window.innerHeight + window.pageYOffset\n    };\n  }\n\n  var doc = el === document ? document : ownerDocument(node);\n  var docEl = doc && doc.documentElement;\n\n  if (!docEl || !contains(docEl, node)) {\n    return rect;\n  }\n\n  var boundingRect = node.getBoundingClientRect();\n  var k; // eslint-disable-next-line no-restricted-syntax\n\n  for (k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  if (doc !== document) {\n    var frameElement = doc.defaultView.frameElement;\n\n    if (frameElement) {\n      var frameRect = getBoundingClientRect(frameElement);\n      rect.top += frameRect.top;\n      rect.bottom += frameRect.top;\n      rect.left += frameRect.left;\n      rect.right += frameRect.left;\n    }\n  }\n  /* eslint-disable no-mixed-operators */\n\n\n  return {\n    top: rect.top + (window.pageYOffset || docEl.scrollTop) - (docEl.clientTop || 0),\n    left: rect.left + (window.pageXOffset || docEl.scrollLeft) - (docEl.clientLeft || 0),\n    width: (rect.width == null ? node.offsetWidth : rect.width) || 0,\n    height: (rect.height == null ? node.offsetHeight : rect.height) || 0,\n    right: doc.body.clientWidth - rect.width - rect.left,\n    bottom: doc.body.clientHeight - rect.height - rect.top\n  };\n  /* eslint-enable no-mixed-operators */\n}\n\nexport default getBoundingClientRect;\nexport { getBoundingClientRect };","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint no-console: 0 */\n\nimport $ from 'jquery'\nimport 'compiled/jquery.rails_flash_notifications'\nimport htmlEscape from 'str/htmlEscape'\nimport ToolLaunchResizer from './tool_launch_resizer'\nimport handleLtiPostMessage from './post_message/handleLtiPostMessage'\n\nlet beforeUnloadHandler\nfunction setUnloadMessage(msg) {\n  removeUnloadMessage()\n\n  beforeUnloadHandler = function(e) {\n    return (e.returnValue = msg || '')\n  }\n  window.addEventListener('beforeunload', beforeUnloadHandler)\n}\n\nfunction removeUnloadMessage() {\n  if (beforeUnloadHandler) {\n    window.removeEventListener('beforeunload', beforeUnloadHandler)\n    beforeUnloadHandler = null\n  }\n}\n\nfunction findDomForWindow(sourceWindow) {\n  const iframes = document.getElementsByTagName('IFRAME')\n  for (let i = 0; i < iframes.length; i += 1) {\n    if (iframes[i].contentWindow === sourceWindow) {\n      return iframes[i]\n    }\n  }\n  return null\n}\n\nexport function ltiMessageHandler(e) {\n  if (e.data.messageType) {\n    handleLtiPostMessage(e)\n    return\n  }\n\n  // Legacy post message handlers\n  try {\n    const message = JSON.parse(e.data)\n    switch (message.subject) {\n      case 'lti.frameResize':\n        const toolResizer = new ToolLaunchResizer()\n        var height = message.height\n        if (height <= 0) height = 1\n\n        const container = toolResizer\n          .tool_content_wrapper(message.token || e.origin)\n          .data('height_overridden', true)\n        // If content.length is 0 then jquery didn't the tool wrapper.\n        if (container.length > 0) {\n          toolResizer.resize_tool_content_wrapper(height, container)\n        } else {\n          // Attempt to find an embedded iframe that matches the event source.\n          const iframe = findDomForWindow(e.source)\n          if (iframe) {\n            if (typeof height === 'number') {\n              height += 'px'\n            }\n            iframe.height = height\n            iframe.style.height = height\n          }\n        }\n        break\n\n      case 'lti.fetchWindowSize': {\n        const iframe = findDomForWindow(e.source)\n        if (iframe) {\n          message.height = window.innerHeight\n          message.width = window.innerWidth\n          message.offset = $('.tool_content_wrapper').offset()\n          message.footer = $('#fixed_bottom').height() || 0\n          message.scrollY = window.scrollY\n          const strMessage = JSON.stringify(message)\n\n          iframe.contentWindow.postMessage(strMessage, '*')\n        }\n        break\n      }\n\n      case 'lti.showModuleNavigation':\n        if (message.show === true || message.show === false) {\n          $('.module-sequence-footer').toggle(message.show)\n        }\n        break\n\n      case 'lti.scrollToTop':\n        $('html,body').animate(\n          {\n            scrollTop: $('.tool_content_wrapper').offset().top\n          },\n          'fast'\n        )\n        break\n\n      case 'lti.setUnloadMessage':\n        setUnloadMessage(htmlEscape(message.message))\n        break\n\n      case 'lti.removeUnloadMessage':\n        removeUnloadMessage()\n        break\n\n      case 'lti.screenReaderAlert':\n        $.screenReaderFlashMessageExclusive(message.body.html || message.body)\n        break\n      case 'lti.enableScrollEvents': {\n        const iframe = findDomForWindow(e.source)\n        if (iframe) {\n          let timeout\n          window.addEventListener(\n            'scroll',\n            () => {\n              // requesting animation frames effectively debounces the scroll messages being sent\n              if (timeout) {\n                window.cancelAnimationFrame(timeout)\n              }\n\n              timeout = window.requestAnimationFrame(() => {\n                const msg = JSON.stringify({\n                  subject: 'lti.scroll',\n                  scrollY: window.scrollY\n                })\n                iframe.contentWindow.postMessage(msg, '*')\n              })\n            },\n            false\n          )\n        }\n        break\n      }\n    }\n  } catch (err) {\n    ;(console.error || console.log).call(console, 'invalid message received from')\n  }\n}\n\nexport function monitorLtiMessages() {\n  window.addEventListener('message', e => {\n    if (e.data !== '') ltiMessageHandler(e)\n  })\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport iframeAllowances from 'jsx/external_apps/lib/iframeAllowances'\n\nexport default class ContentItem {\n  constructor(json) {\n    this.assignProperties(json)\n  }\n\n  toHtmlString() {\n    // override in sub classes\n  }\n\n  assignProperties(json) {\n    this.properties.forEach(property => {\n      this[property] = json[property]\n    })\n  }\n\n  linkThumbnail() {\n    return this.imageTag(this.thumbnail)\n  }\n\n  iframeTag() {\n    const {iframe} = this\n    if (iframe) {\n      const iframeTag = document.createElement('iframe')\n\n      iframeTag.setAttribute('src', iframe.src)\n      iframeTag.setAttribute('title', this.title || '')\n      iframeTag.setAttribute('allowfullscreen', 'true')\n      iframeTag.setAttribute('allow', iframeAllowances())\n\n      if (iframe.width) {\n        iframeTag.style.width = `${iframe.width}px`\n      }\n\n      if (iframe.height) {\n        iframeTag.style.height = `${iframe.height}px`\n      }\n\n      return iframeTag.outerHTML\n    }\n  }\n\n  imageTag(src, width, height) {\n    const imgTag = document.createElement('img')\n    imgTag.setAttribute('src', src)\n\n    if (this.text) {\n      imgTag.setAttribute('alt', this.text)\n    }\n\n    if (width) {\n      imgTag.setAttribute('width', width)\n    }\n\n    if (height) {\n      imgTag.setAttribute('height', height)\n    }\n\n    return imgTag.outerHTML\n  }\n\n  anchorTag(innerHTML) {\n    const anchorTag = document.createElement('a')\n    anchorTag.setAttribute('href', this.safeUrl())\n    anchorTag.setAttribute('title', this.title)\n    anchorTag.setAttribute('target', '_blank')\n    anchorTag.innerHTML = innerHTML\n    return anchorTag.outerHTML\n  }\n\n  safeUrl() {\n    return this.url.replace(/^(data:text\\/html|javascript:)/, '#$1')\n  }\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ContentItem from './ContentItem'\n\n// Base content item type\nexport default class LinkContentItem extends ContentItem {\n  static type = 'link'\n\n  constructor(json, ltiEndpoint, selection) {\n    super(json)\n    this.type = LinkContentItem.type\n\n    if (selection && selection !== '') {\n      this.text = selection\n    }\n  }\n\n  get properties() {\n    return Object.freeze(['url', 'title', 'text', 'icon', 'thumbnail', 'iframe'])\n  }\n\n  toHtmlString() {\n    if (this.iframe && this.iframe.src) {\n      return this.iframeTag()\n    }\n\n    return this.anchorTag(this.linkBody())\n  }\n\n  linkText() {\n    return (this.text && this.text.trim()) || (this.title && this.title.trim())\n  }\n\n  linkBody() {\n    if (this.thumbnail) {\n      return this.linkThumbnail()\n    }\n    return this.linkText()\n  }\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport LinkContentItem from './LinkContentItem'\n\nexport default class ResourceLinkContentItem extends LinkContentItem {\n  constructor(json, ltiEndpoint, selection) {\n    super(json, ltiEndpoint, selection)\n    this.url = `${ltiEndpoint}?${this.ltiEndpointParams(json.url)}`\n  }\n\n  ltiEndpointParams(url) {\n    return `display=borderless&url=${encodeURIComponent(url)}`\n  }\n\n  toHtmlString() {\n    if (this.iframe) {\n      // The iframe src must always be the Canvas launch endpoint\n      this.iframe.src = this.safeUrl()\n      return this.iframeTag()\n    }\n\n    return this.anchorTag(this.linkBody())\n  }\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ContentItem from './ContentItem'\n\nexport default class ImageContentItem extends ContentItem {\n  static type = 'image'\n\n  constructor(json) {\n    super(json)\n    this.type = ImageContentItem.type\n  }\n\n  get properties() {\n    return Object.freeze(['url', 'title', 'thumbnail', 'text', 'width', 'height'])\n  }\n\n  toHtmlString() {\n    if (this.thumbnail) {\n      return this.anchorTag(this.linkThumbnail())\n    }\n    return this.imageTag(this.safeUrl(), this.width, this.height)\n  }\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport ContentItem from './ContentItem'\n\nexport default class HtmlFragmentContentItem extends ContentItem {\n  static type = 'html'\n\n  constructor(json) {\n    super(json)\n    this.type = HtmlFragmentContentItem.type\n  }\n\n  get properties() {\n    return Object.freeze(['html', 'title', 'text'])\n  }\n\n  toHtmlString() {\n    // TinyMCE takes care of sanitizing this HTML string.\n    // If using a target other than TinyMCE be sure to sanitize.\n    return this.html\n  }\n}\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport LinkContentItem from './models/LinkContentItem'\nimport ResourceLinkContentItem from './models/ResourceLinkContentItem'\nimport ImageContentItem from './models/ImageContentItem'\nimport HtmlFragmentContentItem from './models/HtmlFragmentContentItem'\n\nexport default class ContentItemProcessor {\n  constructor(contentItems, messages, logs, ltiEndpoint, processHandler) {\n    this.contentItems = contentItems\n    this.messages = messages\n    this.logs = logs\n    this.ltiEndpoint = ltiEndpoint\n    this.processHandler = processHandler\n    this.showMessages()\n    this.showLogs()\n  }\n\n  get loggingEnabled() {\n    return ENV && ENV.DEEP_LINKING_LOGGING\n  }\n\n  get typeMap() {\n    return {\n      link: LinkContentItem,\n      ltiResourceLink: ResourceLinkContentItem,\n      image: ImageContentItem,\n      html: HtmlFragmentContentItem\n    }\n  }\n\n  static fromEvent(event, processHandler) {\n    const {content_items, msg, log, errormsg, errorlog, ltiEndpoint, messageType} = event.data\n\n    if (messageType !== 'LtiDeepLinkingResponse') {\n      return\n    }\n\n    return new this(\n      content_items,\n      {\n        msg,\n        errormsg\n      },\n      {\n        log,\n        errorlog\n      },\n      ltiEndpoint,\n      processHandler\n    )\n  }\n\n  process() {\n    return this.processHandler(...arguments)\n  }\n\n  showMessages() {\n    if (this.messages.errormsg) {\n      $.flashError(this.messages.errormsg)\n    }\n\n    if (this.messages.msg) {\n      $.flashMessage(this.messages.msg)\n    }\n  }\n\n  showLogs() {\n    if (this.loggingEnabled) {\n      if (this.logs.errorlog) {\n        console.error(this.logs.errorlog)\n      }\n\n      if (this.logs.log) {\n        console.log(this.logs.log)\n      }\n    }\n  }\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {whitelist} from './messageTypes'\n\n// page-global storage for data relevant to LTI postMessage events\nconst ltiState = {}\nexport {ltiState}\n\nconst handleLtiPostMessage = async e => {\n  const {messageType, data} = e.data\n  let handler\n\n  // Enforce messageType whitelist\n  if (!whitelist.includes(messageType)) {\n    console.error(`invalid messageType: ${messageType}`)\n    return false\n  }\n\n  try {\n    const handlerModule = await import(`./${messageType}.js`)\n    handler = handlerModule.default\n    handler(data)\n    return true\n  } catch (error) {\n    console.error(`Error loading or executing message handler for \"${messageType}\"`, error)\n  }\n}\n\nexport default handleLtiPostMessage\n"],"sourceRoot":""}