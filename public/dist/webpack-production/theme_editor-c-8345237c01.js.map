{"version":3,"sources":["webpack:///./app/jsx/shared/ProgressBar.js","webpack:///./app/jsx/theme_editor/SaveThemeButton.js","webpack:///./app/jsx/theme_editor/ThemeEditorModal.js","webpack:///./app/jsx/theme_editor/ThemeEditorColorRow.js","webpack:///./app/jsx/theme_editor/ThemeEditorImageRow.js","webpack:///./node_modules/@instructure/ui-icons/es/IconArrowOpenUpSolid.js","webpack:///./app/jsx/theme_editor/ThemeEditorVariableGroup.js","webpack:///./app/jsx/theme_editor/RangeInput.js","webpack:///./app/jsx/theme_editor/ThemeEditorAccordion.js","webpack:///./app/jsx/theme_editor/ThemeEditorFileUpload.js","webpack:///./app/jsx/theme_editor/ThemeEditorSidebar.js","webpack:///./app/jsx/theme_editor/ThemeEditor.js","webpack:///./app/jsx/bundles/theme_editor.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/index.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/theme.js","webpack:///./app/coffeescripts/util/rgb2hex.js","webpack:///./app/coffeescripts/models/Progress.coffee","webpack:///./node_modules/@instructure/ui-elements/es/Heading/index.js","webpack:///./node_modules/@instructure/ui-elements/es/Heading/theme.js","webpack:///./node_modules/formdata-polyfill/formdata.min.js"],"names":["ProgressBar","props","className","classnames","progress","role","aria-valuenow","aria-valuemin","aria-valuemax","aria-label","style","width","Math","min","SaveThemeButton","Component","constructor","super","save","shouldUpdate","this","sharedBrandConfigBeingEdited","id","params","brand_config_md5","brandConfigMd5","url","method","accountID","state","newThemeName","setState","modalIsOpen","name","$","ajaxJSON","shared_brand_config","updatedSharedConfig","onSave","render","disableMessage","disable","userNeedsToPreviewFirst","I18n","t","data-tooltip","title","type","disabled","onClick","size","label","open","onDismiss","Body","htmlFor","placeholder","onChange","e","target","value","Footer","messageToName","message","includes","replace","SubAccountProgressBar","completion","account_name","ThemeEditorModal","showProgressModal","showSubAccountProgress","Modal","Header","Heading","percent","toPercentage","precision","activeSubAccountProgresses","map","progressData","ThemeEditorColorRow","showWarning","userInput","invalid","inputNotFocused","warningLabel","tabIndex","chosenColor","val","hexVal","colorString","rgbVal","changedColor","rgb2hex","inputChange","invalidColor","invalidHexString","handleThemeStateChange","varDef","variable_name","textInput","document","activeElement","updateIfMounted","forceUpdate","textColorInput","ref","c","themeState","aria-invalid","event","onBlur","tempNode","createElement","backgroundColor","color","match","colorInputValue","human_name","isSet","defaultProps","ThemeEditorImageRow","setValue","inputElementOrNewValue","chosenValue","files","window","URL","createObjectURL","fileInput","resetValue","useDefault","inputName","imgSrc","helper_text","src","alt","currentValue","accept","aria-hidden","d","fillRule","stroke","strokeWidth","_Component","IconArrowOpenUpSolid","apply","arguments","key","SVGIcon","Object","assign","viewBox","displayName","glyphName","variant","propTypes","ThemeEditorVariableGroup","ToggleDetails","summary","expanded","onToggle","index","icon","iconPosition","fluidWidth","children","RangeInput","defaultValue","handleChange","variableKey","componentDidMount","rangeInput","on","componentWillUnmount","off","labelText","formatValue","max","aria-valuetext","outputElement","step","ThemeEditorAccordion","React","expandedIndex","Number","sessionStorage","getItem","handleToggle","setStoredAccordionIndex","renderRow","brandConfigVariables","changedValues","changeSomething","bind","getDisplayValue","parseFloat","setItem","variableSchema","variableGroup","Text","as","weight","group_name","variables","ThemeEditorFileUpload","selectedFileName","hasSomethingToReset","hasUserInput","handleFileChanged","file","customFileUpload","handleResetClicked","displayValue","resetButtonLabel","viewFileLink","href","rel","ThemeEditorSidebar","allowGlobalIncludes","TabList","padding","Panel","brandConfig","dangerouslySetInnerHTML","__html","wrappers","css_overrides","js_overrides","mobile_css_overrides","mobile_js_overrides","View","display","TABS","selected","OVERRIDE_FILE_KEYS","readSharedBrandConfigBeingEditedFromStorage","stored","JSON","parse","console","error","notComplete","ThemeEditor","onProgress","data","onSubAccountProgress","newSubAccountProgs","_","tag","filterAndSetActive","isEmpty","closeSubAccountProgressModal","redirectToAccount","variableName","opts","ignoreChanges","getChangedValue","getBrandConfig","getSchemaDefault","getDefault","i","length","j","findVarDef","default","slice","themeStore","properties","File","fileStorageObject","findIndex","x","push","originalThemeProperties","originalThemeOverrides","somethingHasChanged","some","change","displayedMatchesSaved","md5","newValue","isInvalid","invalidForm","keys","updateSharedBrandConfigBeingEdited","stringify","handleCancelClicked","msg","confirm","removeItem","submitHtmlForm","saveToSession","handleFormSubmit","newMd5","ajax","processThemeStoreForSubmit","processData","contentType","dataType","pipe","resp","brand_config","Progress","poll","fail","alert","handleApplyClicked","kickOffSubAcountCompilation","location","isApplying","subAccountProgresses","openSubAccountProgressModal","prog","progresses","filter","renderTabInputs","tab","defaultChecked","renderTabLabels","theme","flatMap","s","reduce","acc","next","pick","processedData","FormData","forEach","k","defaultVal","append","f","keyName","has","get","renderHeader","tooltipForWhyApplyIsDisabled","hasUnsavedChanges","useHighContrast","ThemeEditorForm","onSubmit","preventDefault","encType","acceptCharset","action","getCookie","top","self","ReactDOM","ENV","sharedBrandConfigs","account_id","use_high_contrast","body","_class","_class2","_temp","generator","_ref","typography","colors","spacing","primaryInverseColor","textLightest","primaryColor","textDarkest","secondaryColor","textDark","secondaryInverseColor","textLight","warningColor","textWarning","brandColor","textBrand","errorColor","textDanger","successColor","textSuccess","alertColor","textAlert","paragraphMargin","concat","medium","canvas","styles","componentId","template","fontFamily","fontFamilyMonospace","fontWeightBold","fontWeightNormal","fontWeightLight","fontSizeXSmall","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeXLarge","fontSizeXXLarge","lineHeight","lineHeightFit","lineHeightCondensed","lineHeightDouble","letterSpacingNormal","letterSpacingCondensed","letterSpacingExpanded","deprecated","_dec","_dec2","_classnames","_this$props","wrap","fontStyle","letterSpacing","transform","ElementType","getElementType","root","elementRef","elementType","oneOf","node","func","rgb","parseInt","toString","defaults","timeout","pollStates","isPolling","isSuccess","initialize","pollDfd","Deferred","clearTimeout","fetch","then","onPoll","rejectWith","response","notify","setTimeout","trigger","borders","fontWeight","h1FontSize","h1FontWeight","h2FontSize","h2FontWeight","h3FontSize","h3FontWeight","h4FontSize","h4FontWeight","h5FontSize","h5FontWeight","borderPadding","xxxSmall","borderColor","borderMedium","borderWidth","widthSmall","borderStyle","testable","_dec3","border","level","ellipsis","margin","passthroughProps","omitViewProps","childrenOrValue","bool","m","a","b","done","p","defineProperties","defineProperty","Array","prototype","q","global","r","Symbol","u","v","configurable","writable","z","TypeError","w","iterator","y","call","setPrototypeOf","A","C","__proto__","D","E","h","o","g","F","G","H","l","reverse","I","J","K","B","M","L","N","Blob","O","P","String","Q","S","lastModified","T","U","V","XMLHttpRequest","send","W","Request","X","navigator","sendBeacon","Y","toStringTag","Date","lastModifiedDate","Z","create","elements","options","checked","entries","n","R","pop","getAll","set","values","_asNative","_blob","random","aa","setRequestHeader","toLowerCase","ba"],"mappings":"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","file":"theme_editor-c-8345237c01.js","sourcesContent":["/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport {number, string} from 'prop-types'\nimport classnames from 'classnames'\n\nexport default function ProgressBar(props) {\n  return (\n    <div\n      className={classnames({\n        'progress-bar__bar-container': true,\n        'almost-done': props.progress === 100\n      })}\n    >\n      <div\n        className={classnames({\n          'progress-bar__bar': true,\n          'almost-done': props.progress === 100\n        })}\n        role=\"progressbar\"\n        aria-valuenow={props.progress}\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        aria-label={props['aria-label'] || ''}\n        style={{\n          width: `${Math.min(props.progress, 100)}%`\n        }}\n      />\n    </div>\n  )\n}\n\nProgressBar.propTypes = {\n  'aria-label': string,\n  progress: number.isRequired\n}\n","/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!theme_editor'\nimport React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport $ from 'jquery'\nimport customTypes from './PropTypes'\nimport Modal from '../shared/components/InstuiModal'\n\nexport default class SaveThemeButton extends Component {\n  static propTypes = {\n    accountID: PropTypes.string.isRequired,\n    brandConfigMd5: customTypes.md5,\n    sharedBrandConfigBeingEdited: customTypes.sharedBrandConfig.isRequired,\n    onSave: PropTypes.func.isRequired\n  }\n\n  constructor() {\n    super()\n    this.state = {\n      newThemeName: '',\n      modalIsOpen: false\n    }\n  }\n\n  save = () => {\n    const shouldUpdate = !!(\n      this.props.sharedBrandConfigBeingEdited && this.props.sharedBrandConfigBeingEdited.id\n    )\n\n    const params = {brand_config_md5: this.props.brandConfigMd5}\n\n    let url, method\n    if (shouldUpdate) {\n      url = `/api/v1/accounts/${this.props.accountID}/shared_brand_configs/${this.props.sharedBrandConfigBeingEdited.id}`\n      method = 'PUT'\n    } else {\n      if (!this.state.newThemeName) {\n        this.setState({modalIsOpen: true})\n        return\n      }\n      params.name = this.state.newThemeName\n      url = `/api/v1/accounts/${this.props.accountID}/shared_brand_configs`\n      method = 'POST'\n    }\n\n    return $.ajaxJSON(url, method, {shared_brand_config: params}, updatedSharedConfig => {\n      this.setState({modalIsOpen: false})\n      this.props.onSave(updatedSharedConfig)\n    })\n  }\n\n  render() {\n    let disable = false\n    let disableMessage\n    if (this.props.userNeedsToPreviewFirst) {\n      disable = true\n      disableMessage = I18n.t('You need to \"Preview Changes\" before saving')\n    } else if (\n      this.props.sharedBrandConfigBeingEdited &&\n      this.props.sharedBrandConfigBeingEdited.brand_config_md5 === this.props.brandConfigMd5\n    ) {\n      disable = true\n      disableMessage = I18n.t('There are no unsaved changes')\n    } else if (!this.props.brandConfigMd5) {\n      disable = true\n    }\n\n    return (\n      <div className=\"pull-left\" data-tooltip=\"left\" title={disableMessage}>\n        <button\n          type=\"button\"\n          className=\"Button Button--primary\"\n          disabled={disable}\n          onClick={this.save}\n        >\n          {I18n.t('Save theme')}\n        </button>\n        <Modal\n          size=\"small\"\n          label={I18n.t('Save Theme')}\n          open={this.state.modalIsOpen}\n          onDismiss={() => this.setState({modalIsOpen: false})}\n        >\n          <Modal.Body>\n            <div className=\"ic-Form-control\">\n              <label htmlFor=\"new_theme_theme_name\" className=\"ic-Label\">\n                {I18n.t('Theme Name')}\n              </label>\n              <input\n                type=\"text\"\n                id=\"new_theme_theme_name\"\n                className=\"ic-Input\"\n                placeholder={I18n.t('Pick a name to save this theme as')}\n                onChange={e => this.setState({newThemeName: e.target.value})}\n              />\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <button\n              type=\"button\"\n              className=\"Button\"\n              onClick={() => this.setState({modalIsOpen: false})}\n            >\n              {I18n.t('Cancel')}\n            </button>\n            &nbsp;\n            <button\n              type=\"button\"\n              onClick={this.save}\n              disabled={!this.state.newThemeName}\n              className=\"Button Button--primary\"\n            >\n              {I18n.t('Save theme')}\n            </button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    )\n  }\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!theme_editor'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport {Modal} from '@instructure/ui-overlays'\nimport {Heading} from '@instructure/ui-elements'\nimport ProgressBar from '../shared/ProgressBar'\n\nconst messageToName = message =>\n  message.includes('Syncing for') ? message.replace('Syncing for ', '') : I18n.t('Unknown Account')\n\nfunction SubAccountProgressBar({message, completion}) {\n  return (\n    <li className=\"Theme-editor-progress-list-item\">\n      <div className=\"Theme-editor-progress-list-item__title\">\n        {I18n.t('%{account_name}', {\n          account_name: messageToName(message)\n        })}\n      </div>\n      <div className=\"Theme-editor-progress-list-item__bar\">\n        <ProgressBar\n          progress={completion}\n          title={I18n.t('Progress for %{account_name}', {\n            account_name: messageToName(message)\n          })}\n        />\n      </div>\n    </li>\n  )\n}\nSubAccountProgressBar.propTypes = {\n  message: PropTypes.string,\n  completion: ProgressBar.propTypes.completion\n}\n\nexport default function ThemeEditorModal(props) {\n  const modalIsOpen = props.showProgressModal || props.showSubAccountProgress\n\n  return (\n    <Modal open={modalIsOpen} size={props.showProgressModal ? 'small' : 'medium'}>\n      <Modal.Header>\n        <Heading>\n          {props.showProgressModal\n            ? I18n.t('Generating preview...')\n            : I18n.t('Applying new styles to subaccounts')}{' '}\n        </Heading>\n      </Modal.Header>\n      <Modal.Body>\n        {props.showProgressModal ? (\n          <ProgressBar\n            progress={props.progress}\n            title={I18n.t('%{percent} complete', {\n              percent: I18n.toPercentage(props.progress, {\n                precision: 0\n              })\n            })}\n          />\n        ) : (\n          <div>\n            <p>{I18n.t('Changes will still apply if you leave this page.')}</p>\n            <ul className=\"unstyled_list\">\n              {props.activeSubAccountProgresses.map(progressData => (\n                <SubAccountProgressBar {...progressData} />\n              ))}\n            </ul>\n          </div>\n        )}\n      </Modal.Body>\n    </Modal>\n  )\n}\n\nThemeEditorModal.propTypes = {\n  showProgressModal: PropTypes.bool,\n  showSubAccountProgress: PropTypes.bool,\n  progress: PropTypes.number,\n  activeSubAccountProgresses: PropTypes.arrayOf(PropTypes.shape(SubAccountProgressBar.propTypes))\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport customTypes from './PropTypes'\nimport I18n from 'i18n!theme_editor'\nimport rgb2hex from 'compiled/util/rgb2hex'\nimport classnames from 'classnames'\n\nexport default class ThemeEditorColorRow extends Component {\n  static propTypes = {\n    varDef: customTypes.color,\n    onChange: PropTypes.func.isRequired,\n    userInput: customTypes.userVariableInput,\n    placeholder: PropTypes.string.isRequired,\n    themeState: PropTypes.object,\n    handleThemeStateChange: PropTypes.func\n  }\n\n  static defaultProps = {\n    userInput: {},\n    themeState: {},\n    handleThemeStateChange() {}\n  }\n\n  state = {}\n\n  showWarning = () => this.props.userInput.invalid && this.inputNotFocused()\n\n  warningLabel = () => {\n    if (this.showWarning()) {\n      return (\n        <span role=\"alert\">\n          <div className=\"ic-Form-message ic-Form-message--error\" tabIndex=\"0\">\n            <div className=\"ic-Form-message__Layout\">\n              <i className=\"icon-warning\" role=\"presentation\" />\n              {I18n.t(\"'%{chosenColor}' is not a valid color.\", {\n                chosenColor: this.props.userInput.val\n              })}\n            </div>\n          </div>\n        </span>\n      )\n    } else {\n      // must return empty alert span so screenreaders\n      // read the error when it is inserted\n      return <span role=\"alert\" />\n    }\n  }\n\n  changedColor(value) {\n    // fail fast for no value\n    if (!value) return null\n\n    // set and read color values from a dom node to get only valid values\n    const tempNode = document.createElement('span')\n    tempNode.style.backgroundColor = value\n    const color = tempNode.style.backgroundColor\n\n    // reject invalid values\n    if (!color) return null\n\n    // FF returns 'transparent' for invalid colors, but we allow intentionally setting a value to 'transparent'\n    if (color === 'transparent' && value !== 'transparent') return null\n\n    return color\n  }\n\n  hexVal = colorString => {\n    const rgbVal = this.changedColor(colorString)\n    // rgb2hex will fail if rgbVal is null or undefined\n    return rgbVal ? rgb2hex(rgbVal) || rgbVal : ''\n  }\n\n  invalidHexString(colorString) {\n    return colorString.match(/#/) ? !colorString.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/) : false\n  }\n\n  inputChange = value => {\n    const invalidColor = !!value && (!this.changedColor(value) || this.invalidHexString(value))\n    this.props.onChange(value, invalidColor)\n    if (!invalidColor) {\n      this.props.handleThemeStateChange(this.props.varDef.variable_name, value)\n    }\n  }\n\n  inputNotFocused = () => this.textInput && this.textInput !== document.activeElement\n\n  updateIfMounted = () => {\n    this.forceUpdate()\n  }\n\n  textColorInput = () => (\n    <span>\n      <input\n        ref={c => (this.textInput = c)}\n        type=\"text\"\n        id={`brand_config[variables][${this.props.varDef.variable_name}]`}\n        className={classnames({\n          'Theme__editor-color-block_input-text': true,\n          'Theme__editor-color-block_input': true,\n          'Theme__editor-color-block_input--has-error': this.props.userInput.invalid\n        })}\n        placeholder={this.props.placeholder}\n        value={this.props.themeState[this.props.varDef.variable_name]}\n        aria-invalid={this.showWarning()}\n        onChange={event => this.inputChange(event.target.value)}\n        onBlur={this.updateIfMounted}\n      />\n    </span>\n  )\n\n  render() {\n    const colorInputValue = this.props.placeholder !== 'none' ? this.props.placeholder : null\n    return (\n      <section className=\"Theme__editor-accordion_element Theme__editor-color ic-Form-control\">\n        <div className=\"Theme__editor-form--color\">\n          <label\n            htmlFor={`brand_config[variables][${this.props.varDef.variable_name}]`}\n            className=\"Theme__editor-color_title\"\n          >\n            {this.props.varDef.human_name}\n          </label>\n          <div className=\"Theme__editor-color-block\">\n            {this.textColorInput()}\n            {this.warningLabel()}\n            <label\n              className=\"Theme__editor-color-label Theme__editor-color-block_label-sample\"\n              style={{backgroundColor: this.props.placeholder}}\n              /* this <label> and <input type=color> are here so if you click the 'sample',\n              it will pop up a color picker on browsers that support it */\n            >\n              <input\n                className=\"Theme__editor-color-block_input-sample Theme__editor-color-block_input\"\n                type=\"color\"\n                value={colorInputValue}\n                role=\"presentation-only\"\n                onChange={event => this.inputChange(event.target.value)}\n              />\n            </label>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport customTypes from './PropTypes'\nimport I18n from 'i18n!theme_editor'\n\n// consider anything other than null or undefined (including '') as \"set\"\nfunction isSet(val) {\n  return val === null || val === undefined\n}\n\nexport default class ThemeEditorImageRow extends Component {\n  static propTypes = {\n    varDef: customTypes.image,\n    userInput: customTypes.userVariableInput,\n    onChange: PropTypes.func.isRequired,\n    currentValue: PropTypes.string,\n    placeholder: PropTypes.string,\n    themeState: PropTypes.object,\n    handleThemeStateChange: PropTypes.func\n  }\n\n  static defaultProps = {\n    userInput: {},\n    themeState: {},\n    handleThemeStateChange() {}\n  }\n\n  // valid input: null, '', or an HTMLInputElement\n  setValue = inputElementOrNewValue => {\n    let chosenValue = inputElementOrNewValue\n\n    if (!inputElementOrNewValue) {\n      // if it's null or ''\n      // if they hit the \"Undo\" or \"Use Default\" button,\n      // we want to also clear out the value of the <input type=file>\n      // but we don't want to mess with its value otherwise\n      this.fileInput.value = ''\n      if (isSet(this.props.userInput.val)) {\n        // In this case, they clicked 'Use Default' so we need to make sure we really do go with the default\n        this.props.handleThemeStateChange(this.props.varDef.variable_name, null, {\n          resetValue: true,\n          useDefault: true\n        })\n      } else {\n        this.props.handleThemeStateChange(this.props.varDef.variable_name, null, {resetValue: true})\n      }\n    } else {\n      this.props.handleThemeStateChange(\n        this.props.varDef.variable_name,\n        inputElementOrNewValue.files[0]\n      )\n      chosenValue = window.URL.createObjectURL(inputElementOrNewValue.files[0])\n    }\n    this.props.onChange(chosenValue)\n  }\n\n  render() {\n    const inputName = `brand_config[variables][${this.props.varDef.variable_name}]`\n    const imgSrc = this.props.userInput.val || this.props.placeholder\n\n    return (\n      <section className=\"Theme__editor-accordion_element Theme__editor-upload\">\n        <div className=\"te-Flex\">\n          <div className=\"Theme__editor-form--upload\">\n            <div className=\"Theme__editor-upload_header\">\n              <h3 className=\"Theme__editor-upload_title\">{this.props.varDef.human_name}</h3>\n              <span className=\"Theme__editor-upload_restrictions\">\n                {this.props.varDef.helper_text}\n              </span>\n            </div>\n\n            <div\n              className={`Theme__editor_preview-img-container Theme__editor_preview-img-container--${this.props.varDef.variable_name}`}\n            >\n              {/* ^ this utility class is to control the background color that shows behind the images you can customize in theme editor - see theme_editor.scss */}\n              <div className=\"Theme__editor_preview-img\">\n                {imgSrc && <img src={imgSrc} className=\"Theme__editor-placeholder\" alt=\"\" />}\n              </div>\n            </div>\n\n            <div className=\"Theme__editor-image_upload\">\n              <input\n                type=\"hidden\"\n                name={!this.props.userInput.val && inputName}\n                value={this.props.userInput.val === '' ? '' : this.props.currentValue}\n              />\n\n              <label className=\"Theme__editor-image_upload-label\">\n                <span className=\"screenreader-only\">{this.props.varDef.human_name}</span>\n                <input\n                  type=\"file\"\n                  className=\"Theme__editor-input_upload\"\n                  name={this.props.userInput.val && inputName}\n                  accept={this.props.varDef.accept}\n                  onChange={event => this.setValue(event.target)}\n                  ref={c => (this.fileInput = c)}\n                />\n                <span\n                  className=\"Theme__editor-button_upload Button Button--link\"\n                  aria-hidden=\"true\"\n                >\n                  {I18n.t('Select Image')}\n                </span>\n              </label>\n\n              {this.props.userInput.val || this.props.currentValue ? (\n                <button\n                  type=\"button\"\n                  className=\"Button Button--link\"\n                  onClick={() => this.setValue(isSet(this.props.userInput.val) ? '' : null)}\n                >\n                  {isSet(this.props.userInput.val) ? I18n.t('Use Default') : I18n.t('Undo')}\n                </button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M.08 1351.938l176.13 176.13 783.988-783.865 783.74 783.864 176.13-176.13-959.87-960.118z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenUpSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenUpSolid, _Component);\n\n  function IconArrowOpenUpSolid() {\n    _classCallCheck(this, IconArrowOpenUpSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenUpSolid).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenUpSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenUp\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenUpSolid.displayName = \"IconArrowOpenUpSolid\";\n  return IconArrowOpenUpSolid;\n}(Component);\n\nIconArrowOpenUpSolid.glyphName = 'arrow-open-up';\nIconArrowOpenUpSolid.variant = 'Solid';\nIconArrowOpenUpSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenUpSolid;\nexport { IconArrowOpenUpSolid };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport {ToggleDetails} from '@instructure/ui-toggle-details'\nimport {bool, func, node, number} from 'prop-types'\nimport {IconArrowOpenUpSolid} from '@instructure/ui-icons'\n\nexport default function ThemeEditorVariableGroup(props) {\n  function handleToggle(event, expanded) {\n    props.onToggle(event, expanded, props.index)\n  }\n\n  return (\n    <ToggleDetails\n      summary={props.summary}\n      expanded={props.expanded}\n      onToggle={handleToggle}\n      icon={IconArrowOpenUpSolid}\n      iconPosition=\"end\"\n      fluidWidth\n    >\n      {props.children}\n    </ToggleDetails>\n  )\n}\n\nThemeEditorVariableGroup.propTypes = {\n  summary: node.isRequired,\n  expanded: bool,\n  children: node.isRequired,\n  onToggle: func.isRequired,\n  index: number.isRequired\n}\n\nThemeEditorVariableGroup.defaultProps = {\n  expanded: false\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport $ from 'jquery'\n\nexport default class RangeInput extends Component {\n  static propTypes = {\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    defaultValue: PropTypes.number.isRequired,\n    labelText: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    step: PropTypes.number,\n    formatValue: PropTypes.func,\n    onChange: PropTypes.func,\n    themeState: PropTypes.object,\n    handleThemeStateChange: PropTypes.func,\n    variableKey: PropTypes.string.isRequired\n  }\n\n  static defaultProps = {\n    step: 1,\n    onChange() {},\n    formatValue: val => val,\n    themeState: {},\n    handleThemeStateChange() {}\n  }\n\n  state = {\n    value: this.props.defaultValue\n  }\n\n  /* TODO: Remove this workaround when we upgrade to 15.6.x or later */\n  /* workaround for https://github.com/facebook/react/issues/554 */\n  componentDidMount() {\n    // https://connect.microsoft.com/IE/Feedback/Details/856998\n    $(this.rangeInput).on('input change', this.handleChange)\n  }\n\n  componentWillUnmount() {\n    $(this.rangeInput).off('input change', this.handleChange)\n  }\n  /* end workaround */\n\n  handleChange = event => {\n    this.setState({value: event.target.value})\n    this.props.onChange(event.target.value)\n    this.props.handleThemeStateChange(this.props.variableKey, event.target.value)\n  }\n\n  render() {\n    const {labelText, formatValue, onChange, value, ...props} = this.props\n\n    return (\n      <label className=\"RangeInput\">\n        <div className=\"RangeInput__label\">{labelText}</div>\n        <div className=\"RangeInput__control\">\n          <input\n            className=\"RangeInput__input\"\n            ref={c => (this.rangeInput = c)}\n            type=\"range\"\n            aria-valuenow={this.props.defaultValue}\n            aria-valuemin={this.props.min}\n            aria-valuemax={this.props.max}\n            aria-valuetext={formatValue(this.state.value)}\n            onChange={() => {}}\n            {...props}\n          />\n          <output\n            ref={c => (this.outputElement = c)}\n            htmlFor={this.props.name}\n            className=\"RangeInput__value\"\n          >\n            {formatValue(this.state.value)}\n          </output>\n        </div>\n      </label>\n    )\n  }\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport I18n from 'i18nObj'\nimport {Text} from '@instructure/ui-elements'\nimport ThemeEditorColorRow from './ThemeEditorColorRow'\nimport ThemeEditorImageRow from './ThemeEditorImageRow'\nimport ThemeEditorVariableGroup from './ThemeEditorVariableGroup'\nimport RangeInput from './RangeInput'\nimport customTypes from './PropTypes'\n\nconst activeIndexKey = 'Theme__editor-accordion-index'\n\nexport default class ThemeEditorAccordion extends React.Component {\n  static propTypes = {\n    variableSchema: customTypes.variableSchema,\n    brandConfigVariables: PropTypes.object.isRequired,\n    changedValues: PropTypes.object.isRequired,\n    changeSomething: PropTypes.func.isRequired,\n    getDisplayValue: PropTypes.func.isRequired,\n    themeState: PropTypes.object,\n    handleThemeStateChange: PropTypes.func\n  }\n\n  state = {\n    expandedIndex: Number(window.sessionStorage.getItem(activeIndexKey))\n  }\n\n  setStoredAccordionIndex(index) {\n    window.sessionStorage.setItem(activeIndexKey, index)\n  }\n\n  handleToggle = (event, expanded, index) => {\n    this.setState(\n      {\n        expandedIndex: index\n      },\n      () => {\n        this.setStoredAccordionIndex(index)\n      }\n    )\n  }\n\n  renderRow = varDef => {\n    const props = {\n      key: varDef.variable_name,\n      currentValue: this.props.brandConfigVariables[varDef.variable_name],\n      userInput: this.props.changedValues[varDef.variable_name],\n      onChange: this.props.changeSomething.bind(null, varDef.variable_name),\n      placeholder: this.props.getDisplayValue(varDef.variable_name),\n      themeState: this.props.themeState,\n      handleThemeStateChange: this.props.handleThemeStateChange,\n      varDef\n    }\n\n    switch (varDef.type) {\n      case 'color':\n        return <ThemeEditorColorRow {...props} />\n      case 'image':\n        return <ThemeEditorImageRow {...props} />\n      case 'percentage':\n        const defaultValue = props.currentValue || props.placeholder\n        return (\n          <RangeInput\n            key={varDef.variable_name}\n            labelText={varDef.human_name}\n            min={0}\n            max={1}\n            step={0.1}\n            defaultValue={defaultValue ? parseFloat(defaultValue) : 0.5}\n            name={`brand_config[variables][${varDef.variable_name}]`}\n            variableKey={varDef.variable_name}\n            onChange={value => props.onChange(value)}\n            themeState={props.themeState}\n            handleThemeStateChange={props.handleThemeStateChange}\n            formatValue={value => I18n.toPercentage(value * 100, {precision: 0})}\n          />\n        )\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.variableSchema.map((variableGroup, index) => (\n          <ThemeEditorVariableGroup\n            key={variableGroup.group_name}\n            summary={\n              <Text as=\"h2\" weight=\"bold\">\n                {variableGroup.group_name}\n              </Text>\n            }\n            index={index}\n            expanded={index === this.state.expandedIndex}\n            onToggle={this.handleToggle}\n          >\n            {variableGroup.variables.map(this.renderRow)}\n          </ThemeEditorVariableGroup>\n        ))}\n      </div>\n    )\n  }\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport I18n from 'i18n!theme_editor'\nimport customTypes from './PropTypes'\n\nexport default class ThemeEditorFileUpload extends Component {\n  static propTypes = {\n    label: PropTypes.string,\n    accept: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    currentValue: PropTypes.string,\n    userInput: customTypes.userVariableInput,\n    themeState: PropTypes.object,\n    handleThemeStateChange: PropTypes.func\n  }\n\n  static defaultProps = {\n    userInput: {},\n    themeState: {},\n    handleThemeStateChange() {}\n  }\n\n  state = {\n    selectedFileName: ''\n  }\n\n  hasSomethingToReset = () =>\n    this.props.userInput.val || this.props.userInput.val === '' || this.props.currentValue\n\n  hasUserInput = () =>\n    // null means the userInput has been reverted so ignore it\n    this.props.userInput.val !== null && this.props.userInput.val !== undefined\n\n  handleFileChanged = event => {\n    const file = event.target.files[0]\n    this.setState({selectedFileName: file.name})\n    this.props.handleThemeStateChange(this.props.name, file, {customFileUpload: true})\n    this.props.onChange(window.URL.createObjectURL(file))\n  }\n\n  handleResetClicked = () => {\n    // if they hit the \"Reset\" button,\n    // we want to also clear out the value of the <input type=file>\n    // but we don't want to mess with its value otherwise\n    this.fileInput.value = ''\n    this.setState({selectedFileName: ''})\n    this.props.handleThemeStateChange(this.props.name, null, {\n      customFileUpload: true,\n      resetValue: true,\n      useDefault: !this.hasUserInput() && this.props.currentValue\n    })\n    this.props.onChange(!this.hasUserInput() ? '' : null)\n  }\n\n  displayValue() {\n    if (!this.hasUserInput() && this.props.currentValue) {\n      return this.props.currentValue\n    } else if (this.props.userInput.val) {\n      return this.state.selectedFileName\n    } else {\n      // no saved value and no unsaved value\n      return ''\n    }\n  }\n\n  resetButtonLabel() {\n    if (this.props.userInput.val || this.props.userInput.val === '') {\n      return (\n        <span>\n          <i className=\"icon-reset\" aria-hidden=\"true\" />\n          <span className=\"screenreader-only\">{I18n.t('Undo')}</span>\n        </span>\n      )\n    } else if (this.props.currentValue) {\n      return (\n        <span>\n          <i className=\"icon-x\" aria-hidden=\"true\" />\n          <span className=\"screenreader-only\">{I18n.t('Clear')}</span>\n        </span>\n      )\n    } else {\n      return <span className=\"screenreader-only\">{I18n.t('Reset')}</span>\n    }\n  }\n\n  viewFileLink() {\n    return !this.hasUserInput() && this.props.currentValue ? (\n      <a\n        href={this.props.currentValue}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"ThemeEditorFileUpload__view-file\"\n      >\n        {I18n.t('View File')}\n      </a>\n    ) : null\n  }\n\n  render() {\n    return (\n      <div className=\"ThemeEditorFileUpload\">\n        <div className=\"ThemeEditorFileUpload__label ic-Label\">\n          {this.props.label} {this.viewFileLink()}\n        </div>\n        <div className=\"ic-Input-group\">\n          <button\n            disabled={!this.hasSomethingToReset()}\n            type=\"button\"\n            className=\"ic-Input-group__add-on Button ThemeEditorFileUpload__reset-button\"\n            onClick={this.handleResetClicked}\n          >\n            {this.resetButtonLabel()}\n          </button>\n          <input\n            type=\"hidden\"\n            name={!this.props.userInput.val && this.props.name}\n            value={this.props.userInput.val === '' ? '' : this.props.currentValue}\n          />\n          <label className=\"ThemeEditorFileUpload__file-chooser\">\n            <span className=\"screenreader-only\">{this.props.label}</span>\n            <input\n              type=\"file\"\n              name={this.props.userInput.val && this.props.name}\n              accept={this.props.accept}\n              onChange={this.handleFileChanged}\n              ref={c => (this.fileInput = c)}\n            />\n            <div className=\"ThemeEditorFileUpload__fake-input uneditable-input ic-Input\">\n              {this.displayValue()}\n            </div>\n            <div className=\"Button\" aria-hidden=\"true\">\n              {I18n.t('Select')}\n            </div>\n          </label>\n        </div>\n      </div>\n    )\n  }\n}\n","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!theme_editor'\nimport React from 'react'\nimport {bool, func, object} from 'prop-types'\nimport {TabList} from '@instructure/ui-tabs'\nimport {View} from '@instructure/ui-layout'\nimport types from './PropTypes'\nimport ThemeEditorAccordion from './ThemeEditorAccordion'\nimport ThemeEditorFileUpload from './ThemeEditorFileUpload'\n\nexport default function ThemeEditorSidebar(props) {\n  if (props.allowGlobalIncludes) {\n    return (\n      <TabList variant=\"minimal\" size=\"medium\" padding=\"0\">\n        <TabList.Panel title={I18n.t('Edit')}>\n          <ThemeEditorAccordion\n            variableSchema={props.variableSchema}\n            brandConfigVariables={props.brandConfig.variables}\n            getDisplayValue={props.getDisplayValue}\n            changedValues={props.changedValues}\n            changeSomething={props.changeSomething}\n            themeState={props.themeState}\n            handleThemeStateChange={props.handleThemeStateChange}\n          />\n        </TabList.Panel>\n        <TabList.Panel title={I18n.t('Upload')} padding=\"0\">\n          <div className=\"Theme__editor-upload-overrides\">\n            <div className=\"Theme__editor-upload-warning\">\n              <div className=\"Theme__editor-upload-warning_icon\">\n                <i className=\"icon-warning\" />\n              </div>\n              <div>\n                <p className=\"Theme__editor-upload-warning_text-emphasis\">\n                  {I18n.t(\n                    'Custom CSS and Javascript may cause accessibility issues or conflicts with future Canvas updates!'\n                  )}\n                </p>\n                <p\n                  dangerouslySetInnerHTML={{\n                    __html: I18n.t(\n                      'Before implementing custom CSS or Javascript, please refer to *our documentation*.',\n                      {\n                        wrappers: [\n                          '<a href=\"https://community.canvaslms.com/docs/DOC-3010\" target=\"_blank\">$1</a>'\n                        ]\n                      }\n                    )\n                  }}\n                />\n              </div>\n            </div>\n\n            <div className=\"Theme__editor-upload-overrides_header\">\n              {I18n.t('File(s) will be included on all pages in the Canvas desktop application.')}\n            </div>\n\n            <div className=\"Theme__editor-upload-overrides_form\">\n              <ThemeEditorFileUpload\n                label={I18n.t('CSS file')}\n                accept=\".css\"\n                name=\"css_overrides\"\n                currentValue={props.brandConfig.css_overrides}\n                userInput={props.changedValues.css_overrides}\n                onChange={props.changeSomething.bind(null, 'css_overrides')}\n                themeState={props.themeState}\n                handleThemeStateChange={props.handleThemeStateChange}\n              />\n\n              <ThemeEditorFileUpload\n                label={I18n.t('JavaScript file')}\n                accept=\".js\"\n                name=\"js_overrides\"\n                currentValue={props.brandConfig.js_overrides}\n                userInput={props.changedValues.js_overrides}\n                onChange={props.changeSomething.bind(null, 'js_overrides')}\n                themeState={props.themeState}\n                handleThemeStateChange={props.handleThemeStateChange}\n              />\n            </div>\n          </div>\n          <div className=\"Theme__editor-upload-overrides\">\n            <div className=\"Theme__editor-upload-overrides_header\">\n              {I18n.t(\n                'File(s) will be included when user content is displayed within the Canvas iOS or Android apps, and in third-party apps built on our API.'\n              )}\n            </div>\n\n            <div className=\"Theme__editor-upload-overrides_form\">\n              <ThemeEditorFileUpload\n                label={I18n.t('Mobile app CSS file')}\n                accept=\".css\"\n                name=\"mobile_css_overrides\"\n                currentValue={props.brandConfig.mobile_css_overrides}\n                userInput={props.changedValues.mobile_css_overrides}\n                onChange={props.changeSomething.bind(null, 'mobile_css_overrides')}\n                themeState={props.themeState}\n                handleThemeStateChange={props.handleThemeStateChange}\n              />\n\n              <ThemeEditorFileUpload\n                label={I18n.t('Mobile app JavaScript file')}\n                accept=\".js\"\n                name=\"mobile_js_overrides\"\n                currentValue={props.brandConfig.mobile_js_overrides}\n                userInput={props.changedValues.mobile_js_overrides}\n                onChange={props.changeSomething.bind(null, 'mobile_js_overrides')}\n                themeState={props.themeState}\n                handleThemeStateChange={props.handleThemeStateChange}\n              />\n            </div>\n          </div>\n        </TabList.Panel>\n      </TabList>\n    )\n  }\n  return (\n    <View padding=\"small\" display=\"block\">\n      <ThemeEditorAccordion\n        variableSchema={props.variableSchema}\n        brandConfigVariables={props.brandConfig.variables}\n        getDisplayValue={props.getDisplayValue}\n        changedValues={props.changedValues}\n        changeSomething={props.changeSomething}\n        themeState={props.themeState}\n        handleThemeStateChange={props.handleThemeStateChange}\n      />\n    </View>\n  )\n}\n\nThemeEditorSidebar.propTypes = {\n  allowGlobalIncludes: bool,\n  brandConfig: types.brandConfig.isRequired,\n  variableSchema: types.variableSchema.isRequired,\n  getDisplayValue: func.isRequired,\n  changeSomething: func.isRequired,\n  changedValues: object,\n  themeState: object.isRequired,\n  handleThemeStateChange: func.isRequired\n}\n\nThemeEditorSidebar.defaultProps = {\n  allowGlobalIncludes: false,\n  changedValues: {}\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!theme_editor'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport $ from 'jquery'\nimport _ from 'lodash'\nimport preventDefault from 'compiled/fn/preventDefault'\nimport Progress from 'compiled/models/Progress'\nimport customTypes from './PropTypes'\nimport submitHtmlForm from './submitHtmlForm'\nimport SaveThemeButton from './SaveThemeButton'\nimport ThemeEditorModal from './ThemeEditorModal'\nimport ThemeEditorSidebar from './ThemeEditorSidebar'\nimport getCookie from '../shared/helpers/getCookie'\n\n/* eslint no-alert:0 */\nconst TABS = [\n  {\n    id: 'te-editor',\n    label: I18n.t('Edit'),\n    value: 'edit',\n    selected: true\n  },\n  {\n    id: 'te-upload',\n    label: I18n.t('Upload'),\n    value: 'upload',\n    selected: false\n  }\n]\n\nconst OVERRIDE_FILE_KEYS = [\n  'js_overrides',\n  'css_overrides',\n  'mobile_js_overrides',\n  'mobile_css_overrides'\n]\n\nfunction findVarDef(variableSchema, variableName) {\n  for (let i = 0; i < variableSchema.length; i++) {\n    for (let j = 0; j < variableSchema[i].variables.length; j++) {\n      const varDef = variableSchema[i].variables[j]\n      if (varDef.variable_name === variableName) {\n        return varDef\n      }\n    }\n  }\n}\n\nfunction readSharedBrandConfigBeingEditedFromStorage() {\n  try {\n    const stored = sessionStorage.getItem('sharedBrandConfigBeingEdited')\n    if (stored) return JSON.parse(stored)\n  } catch (e) {\n    console.error('Error reading sharedBrandConfigBeingEdited from sessionStore:', e)\n  }\n}\n\nconst notComplete = progress => progress.completion !== 100\n\nexport default class ThemeEditor extends React.Component {\n  static propTypes = {\n    brandConfig: customTypes.brandConfig,\n    hasUnsavedChanges: PropTypes.bool.isRequired,\n    variableSchema: customTypes.variableSchema,\n    allowGlobalIncludes: PropTypes.bool,\n    accountID: PropTypes.string,\n    useHighContrast: PropTypes.bool\n  }\n\n  constructor(props) {\n    super()\n    const {variableSchema, brandConfig} = props\n    const theme = _.flatMap(variableSchema, s => s.variables).reduce(\n      (acc, next) => ({\n        ...acc,\n        ...{[next.variable_name]: next.default}\n      }),\n      {}\n    )\n\n    this.originalThemeProperties = {...theme, ...brandConfig.variables}\n    this.originalThemeOverrides = _.pick(brandConfig, OVERRIDE_FILE_KEYS)\n\n    this.state = {\n      themeStore: {\n        properties: {...this.originalThemeProperties},\n        files: OVERRIDE_FILE_KEYS.map(key => ({\n          customFileUpload: true,\n          variable_name: key,\n          value: this.originalThemeOverrides[key]\n        }))\n      },\n      changedValues: {},\n      showProgressModal: false,\n      progress: 0,\n      sharedBrandConfigBeingEdited: readSharedBrandConfigBeingEditedFromStorage(),\n      showSubAccountProgress: false,\n      activeSubAccountProgresses: []\n    }\n  }\n\n  onProgress = data => {\n    this.setState({progress: data.completion})\n  }\n\n  onSubAccountProgress = data => {\n    const newSubAccountProgs = _.map(this.state.activeSubAccountProgresses, progress =>\n      progress.tag == data.tag ? data : progress\n    )\n\n    this.filterAndSetActive(newSubAccountProgs)\n\n    if (_.isEmpty(this.state.activeSubAccountProgresses)) {\n      this.closeSubAccountProgressModal()\n      this.redirectToAccount()\n    }\n  }\n\n  getDisplayValue = (variableName, opts) => {\n    let val\n\n    // try getting the modified value first, unless we're skipping it\n    if (!opts || !opts.ignoreChanges) val = this.getChangedValue(variableName)\n\n    // try getting the value from the active brand config next, but\n    // distinguish \"wasn't changed\" from \"was changed to '', meaning we want\n    // to remove the brand config's value\"\n    if (!val && val !== '') val = this.getBrandConfig(variableName)\n\n    // finally, resort to the default (which may recurse into looking up\n    // another variable)\n    if (!val) val = this.getSchemaDefault(variableName, opts)\n\n    return val\n  }\n\n  getChangedValue = variableName =>\n    this.state.changedValues[variableName] && this.state.changedValues[variableName].val\n\n  getDefault = variableName => this.getDisplayValue(variableName, {ignoreChanges: true})\n\n  getBrandConfig = variableName =>\n    this.props.brandConfig[variableName] || this.props.brandConfig.variables[variableName]\n\n  getSchemaDefault = (variableName, opts) => {\n    const varDef = findVarDef(this.props.variableSchema, variableName)\n    const val = varDef ? varDef.default : null\n\n    if (val && val[0] === '$') return this.getDisplayValue(val.slice(1), opts)\n    return val\n  }\n\n  handleThemeStateChange = (key, value, opts = {}) => {\n    let {files, properties} = this.state.themeStore\n    if (value instanceof File) {\n      const fileStorageObject = {\n        variable_name: key,\n        value\n      }\n      if (opts.customFileUpload) {\n        fileStorageObject.customFileUpload = true\n      }\n      const index = files.findIndex(x => x.variable_name === key)\n      if (index !== -1) {\n        files[index] = fileStorageObject\n      } else {\n        files.push(fileStorageObject)\n      }\n    } else {\n      properties = {\n        ...properties,\n        ...{[key]: value}\n      }\n    }\n\n    if (opts.resetValue) {\n      properties = {\n        ...properties,\n        ...{[key]: this.originalThemeProperties[key]}\n      }\n      const index = files.findIndex(x => x.variable_name === key)\n      if (index !== -1) {\n        files[index].value = this.originalThemeOverrides[key]\n      }\n    }\n\n    if (opts.useDefault) {\n      properties[key] = this.getSchemaDefault(key)\n      const index = files.findIndex(x => x.variable_name === key)\n      if (index !== -1) {\n        files[index].value = ''\n      }\n    }\n\n    this.setState({\n      themeStore: {\n        properties,\n        files\n      }\n    })\n  }\n\n  somethingHasChanged = () =>\n    _.some(\n      this.state.changedValues,\n      (change, key) =>\n        // null means revert an unsaved change (should revert to saved brand config or fallback to default and not flag as a change)\n        // '' means clear a brand config value (should set to schema default and flag as a change)\n        change.val === '' || (change.val !== this.getDefault(key) && change.val !== null)\n    )\n\n  displayedMatchesSaved = () =>\n    this.state.sharedBrandConfigBeingEdited &&\n    this.state.sharedBrandConfigBeingEdited.brand_config_md5 === this.props.brandConfig.md5\n\n  changeSomething = (variableName, newValue, isInvalid) => {\n    const changedValues = {\n      ...this.state.changedValues,\n      [variableName]: {val: newValue, invalid: isInvalid}\n    }\n    this.setState({changedValues})\n  }\n\n  invalidForm = () =>\n    Object.keys(this.state.changedValues).some(key => this.state.changedValues[key].invalid)\n\n  updateSharedBrandConfigBeingEdited = updatedSharedConfig => {\n    sessionStorage.setItem('sharedBrandConfigBeingEdited', JSON.stringify(updatedSharedConfig))\n    this.setState({sharedBrandConfigBeingEdited: updatedSharedConfig})\n  }\n\n  handleCancelClicked = () => {\n    if (this.somethingHasChanged() || !this.displayedMatchesSaved()) {\n      const msg = I18n.t(\n        'You are about to lose any unsaved changes.\\n\\nWould you still like to proceed?'\n      )\n      if (!window.confirm(msg)) return\n    }\n    sessionStorage.removeItem('sharedBrandConfigBeingEdited')\n    submitHtmlForm(`/accounts/${this.props.accountID}/brand_configs`, 'DELETE')\n  }\n\n  saveToSession = md5 => {\n    submitHtmlForm(\n      `/accounts/${this.props.accountID}/brand_configs/save_to_user_session`,\n      'POST',\n      md5\n    )\n  }\n\n  /**\n   * Takes the themeStore state object and appends it to a FormData object\n   * in preparation for sending to the server.\n   *\n   * @returns FormData\n   * @memberof ThemeEditor\n   */\n  processThemeStoreForSubmit() {\n    const processedData = new FormData()\n    const {properties, files} = this.state.themeStore\n    Object.keys(properties).forEach(k => {\n      const defaultVal = this.getSchemaDefault(k)\n      if (properties[k] !== defaultVal && properties[k] && properties[k][0] !== '$') {\n        // xsslint safeString.identifier k properties[k]\n        // xsslint safeString.property k\n        processedData.append(`brand_config[variables][${k}]`, properties[k])\n      }\n    })\n    files.forEach(f => {\n      const keyName = f.customFileUpload\n        ? f.variable_name\n        : `brand_config[variables][${f.variable_name}]`\n      if (!f.customFileUpload || (f.customFileUpload && f.value != null)) {\n        // xsslint safeString.identifier keyName\n        // xsslint safeString.property value\n        processedData.append(keyName, f.value)\n      }\n    })\n    // We need to make sure that these are present with the upload\n    OVERRIDE_FILE_KEYS.forEach(name => {\n      if (\n        !processedData.has(name) ||\n        processedData.get(name) === 'undefined' ||\n        processedData.get(name) === 'null'\n      ) {\n        // xsslint safeString.identifier name\n        // xsslint safeString.property name\n        processedData.append(name, this.props.brandConfig[name] || '')\n      }\n    })\n    return processedData\n  }\n\n  handleFormSubmit = () => {\n    let newMd5\n\n    this.setState({showProgressModal: true})\n\n    $.ajax({\n      url: `/accounts/${this.props.accountID}/brand_configs`,\n      type: 'POST',\n      data: this.processThemeStoreForSubmit(),\n      processData: false,\n      contentType: false,\n      dataType: 'json'\n    })\n      .pipe(resp => {\n        newMd5 = resp.brand_config.md5\n        if (resp.progress) {\n          return new Progress(resp.progress).poll().progress(this.onProgress)\n        }\n      })\n      .pipe(() => this.saveToSession(newMd5))\n      .fail(() => {\n        window.alert(I18n.t('An error occurred trying to generate this theme, please try again.'))\n        this.setState({showProgressModal: false})\n      })\n  }\n\n  handleApplyClicked = () => {\n    const msg = I18n.t(\n      'This will apply this theme to your entire account. Would you like to proceed?'\n    )\n    if (window.confirm(msg)) {\n      this.kickOffSubAcountCompilation()\n    }\n  }\n\n  redirectToAccount = () => {\n    window.location.replace(`/accounts/${this.props.accountID}/brand_configs?theme_applied=1`)\n  }\n\n  kickOffSubAcountCompilation = () => {\n    this.setState({isApplying: true})\n    $.ajax({\n      url: `/accounts/${this.props.accountID}/brand_configs/save_to_account`,\n      type: 'POST',\n      data: this.processThemeStoreForSubmit(),\n      processData: false,\n      contentType: false,\n      dataType: 'json'\n    })\n      .pipe(resp => {\n        if (!resp.subAccountProgresses || _.isEmpty(resp.subAccountProgresses)) {\n          this.redirectToAccount()\n        } else {\n          this.openSubAccountProgressModal()\n          this.filterAndSetActive(resp.subAccountProgresses)\n          return resp.subAccountProgresses.map(prog =>\n            new Progress(prog).poll().progress(this.onSubAccountProgress)\n          )\n        }\n      })\n      .fail(() => {\n        this.setState({isApplying: false})\n        window.alert(I18n.t('An error occurred trying to apply this theme, please try again.'))\n      })\n  }\n\n  filterAndSetActive = progresses => {\n    this.setState({activeSubAccountProgresses: progresses.filter(notComplete)})\n  }\n\n  openSubAccountProgressModal = () => {\n    this.setState({showSubAccountProgress: true})\n  }\n\n  closeSubAccountProgressModal = () => {\n    this.setState({showSubAccountProgress: false})\n  }\n\n  renderTabInputs = () =>\n    this.props.allowGlobalIncludes\n      ? TABS.map(tab => (\n          <input\n            type=\"radio\"\n            id={tab.id}\n            key={tab.id}\n            name=\"te-action\"\n            defaultValue={tab.value}\n            className=\"Theme__editor-tabs_input\"\n            defaultChecked={tab.selected}\n          />\n        ))\n      : null\n\n  renderTabLabels = () =>\n    this.props.allowGlobalIncludes\n      ? TABS.map(tab => (\n          <label\n            htmlFor={tab.id}\n            key={`${tab.id}-tab`}\n            className=\"Theme__editor-tabs_item\"\n            id={`${tab.id}-tab`}\n          >\n            {tab.label}\n          </label>\n        ))\n      : null\n\n  renderHeader(tooltipForWhyApplyIsDisabled) {\n    return (\n      <header\n        className={`Theme__header ${!this.props.hasUnsavedChanges &&\n          'Theme__header--is-active-theme'}`}\n      >\n        <div className=\"Theme__header-layout\">\n          <div className=\"Theme__header-primary\">\n            {/* HIDE THIS BUTTON IF THEME IS ACTIVE THEME */}\n            {/* IF CHANGES ARE MADE, THIS BUTTON IS DISABLED UNTIL THEY ARE SAVED */}\n            {this.props.hasUnsavedChanges ? (\n              <span data-tooltip=\"right\" title={tooltipForWhyApplyIsDisabled}>\n                <button\n                  type=\"button\"\n                  className=\"Button Button--success\"\n                  disabled={!!tooltipForWhyApplyIsDisabled}\n                  onClick={this.handleApplyClicked}\n                >\n                  {I18n.t('Apply theme')}\n                </button>\n              </span>\n            ) : null}\n\n            <h2 className=\"Theme__header-theme-name\">\n              {this.props.hasUnsavedChanges || this.somethingHasChanged() ? null : (\n                <i className=\"icon-check\" />\n              )}\n              &nbsp;&nbsp;\n              {this.state.sharedBrandConfigBeingEdited\n                ? this.state.sharedBrandConfigBeingEdited.name\n                : null}\n            </h2>\n          </div>\n          <div className=\"Theme__header-secondary\">\n            <SaveThemeButton\n              userNeedsToPreviewFirst={this.somethingHasChanged()}\n              sharedBrandConfigBeingEdited={this.state.sharedBrandConfigBeingEdited}\n              accountID={this.props.accountID}\n              brandConfigMd5={this.props.brandConfig.md5}\n              onSave={this.updateSharedBrandConfigBeingEdited}\n            />\n            &nbsp;\n            <button type=\"button\" className=\"Button\" onClick={this.handleCancelClicked}>\n              {I18n.t('Exit')}\n            </button>\n          </div>\n        </div>\n      </header>\n    )\n  }\n\n  render() {\n    let tooltipForWhyApplyIsDisabled = null\n    if (this.somethingHasChanged()) {\n      tooltipForWhyApplyIsDisabled = I18n.t(\n        'You need to \"Preview Changes\" before you can apply this to your account'\n      )\n    } else if (this.props.brandConfig.md5 && !this.displayedMatchesSaved()) {\n      tooltipForWhyApplyIsDisabled = I18n.t('You need to \"Save\" before applying to this account')\n    } else if (this.state.isApplying) {\n      tooltipForWhyApplyIsDisabled = I18n.t('Applying, please be patient')\n    }\n\n    return (\n      <div id=\"main\" className=\"ic-Layout-columns\">\n        <h1 className=\"screenreader-only\">{I18n.t('Theme Editor')}</h1>\n        {this.props.useHighContrast && (\n          <div role=\"alert\" className=\"ic-flash-static ic-flash-error\">\n            <h4 className=\"ic-flash__headline\">\n              <div className=\"ic-flash__icon\" aria-hidden=\"true\">\n                <i className=\"icon-warning\" />\n              </div>\n              {I18n.t('You will not be able to preview your changes')}\n            </h4>\n            <p\n              className=\"ic-flash__text\"\n              dangerouslySetInnerHTML={{\n                __html: I18n.t(\n                  'To preview Theme Editor branding, you will need to *turn off High Contrast UI*.',\n                  {\n                    wrappers: ['<a href=\"/profile/settings\">$1</a>']\n                  }\n                )\n              }}\n            />\n          </div>\n        )}\n        <form\n          ref={c => (this.ThemeEditorForm = c)}\n          onSubmit={preventDefault(this.handleFormSubmit)}\n          encType=\"multipart/form-data\"\n          acceptCharset=\"UTF-8\"\n          action=\"'/accounts/'+this.props.accountID+'/brand_configs\"\n          method=\"POST\"\n          className=\"Theme__container\"\n        >\n          <input name=\"utf8\" type=\"hidden\" value=\"✓\" />\n          <input name=\"authenticity_token\" type=\"hidden\" value={getCookie('_csrf_token')} />\n\n          <div\n            className={`Theme__layout ${!this.props.hasUnsavedChanges &&\n              'Theme__layout--is-active-theme'}`}\n          >\n            <div className=\"Theme__editor\">\n              <ThemeEditorSidebar\n                themeStore={this.state.themeStore}\n                handleThemeStateChange={this.handleThemeStateChange}\n                allowGlobalIncludes={this.props.allowGlobalIncludes}\n                brandConfig={this.props.brandConfig}\n                variableSchema={this.props.variableSchema}\n                getDisplayValue={this.getDisplayValue}\n                changeSomething={this.changeSomething}\n                changedValues={this.state.changedValues}\n              />\n            </div>\n\n            <div className=\"Theme__preview\">\n              {this.somethingHasChanged() ? (\n                <div className=\"Theme__preview-overlay\">\n                  <button\n                    type=\"submit\"\n                    className=\"Button Button--primary Button--large\"\n                    disabled={this.invalidForm()}\n                  >\n                    <i className=\"icon-refresh\" />\n                    <span className=\"Theme__preview-button-text\">\n                      {I18n.t('Preview Your Changes')}\n                    </span>\n                  </button>\n                </div>\n              ) : null}\n              <iframe\n                id=\"previewIframe\"\n                src={`/accounts/${this.props.accountID}/theme-preview/?editing_brand_config=1`}\n                title={I18n.t('Preview')}\n                aria-hidden={this.somethingHasChanged()}\n                tabIndex={this.somethingHasChanged() ? '-1' : '0'}\n              />\n            </div>\n          </div>\n          {this.renderHeader(tooltipForWhyApplyIsDisabled)}\n        </form>\n\n        <ThemeEditorModal\n          showProgressModal={this.state.showProgressModal}\n          showSubAccountProgress={this.state.showSubAccountProgress}\n          activeSubAccountProgresses={this.state.activeSubAccountProgresses}\n          progress={this.state.progress}\n        />\n      </div>\n    )\n  }\n}\n","/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport 'formdata-polyfill' // Need to support FormData.has for IE\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ThemeEditor from '../theme_editor/ThemeEditor'\n\n// framebust out so we don't ever get theme editor inside theme editor\nif (window.top.location !== self.location) {\n  window.top.location = self.location.href\n}\n\nReactDOM.render(\n  <ThemeEditor\n    {...{\n      brandConfig: window.ENV.brandConfig,\n      hasUnsavedChanges: window.ENV.hasUnsavedChanges,\n      variableSchema: window.ENV.variableSchema,\n      sharedBrandConfigs: window.ENV.sharedBrandConfigs,\n      allowGlobalIncludes: window.ENV.allowGlobalIncludes,\n      accountID: window.ENV.account_id,\n      useHighContrast: window.ENV.use_high_contrast\n    }}\n  />,\n  document.body\n)\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'cjUyb',\n  template: function template(theme) {\n    return \"\\n\\n.cjUyb_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \"}\\n\\n.cjUyb_bGBk sub,.cjUyb_bGBk sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\\n\\n.cjUyb_bGBk sup{top:-0.4em}\\n\\n.cjUyb_bGBk sub{bottom:-0.4em}\\n\\n.cjUyb_bGBk code,.cjUyb_bGBk pre{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamilyMonospace || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n.cjUyb_bGBk em,.cjUyb_bGBk i{font-style:italic}\\n\\n.cjUyb_bGBk b,.cjUyb_bGBk strong{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk p{display:block;margin:\").concat(theme.paragraphMargin || 'inherit', \";padding:0}\\n\\ninput.cjUyb_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.cjUyb_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.cjUyb_bGBk[type]{text-align:right}\\n\\n.cjUyb_bGBk:focus,input.cjUyb_bGBk[type]:focus{outline:none}\\n\\n.cjUyb_bGBk.cjUyb_qFsi,input.cjUyb_bGBk[type].cjUyb_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bLsb,input.cjUyb_bGBk[type].cjUyb_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ezBQ,input.cjUyb_bGBk[type].cjUyb_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dlnd,input.cjUyb_bGBk[type].cjUyb_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cJLh,input.cjUyb_bGBk[type].cjUyb_cJLh{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fpfC,input.cjUyb_bGBk[type].cjUyb_fpfC{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eHcp,input.cjUyb_bGBk[type].cjUyb_eHcp{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dwua,input.cjUyb_bGBk[type].cjUyb_dwua{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eZgl,input.cjUyb_bGBk[type].cjUyb_eZgl{color:\").concat(theme.alertColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fbNi,input.cjUyb_bGBk[type].cjUyb_fbNi{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word}\\n\\n.cjUyb_bGBk.cjUyb_drST,input.cjUyb_bGBk[type].cjUyb_drST{font-weight:\").concat(theme.fontWeightNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_pEgL,input.cjUyb_bGBk[type].cjUyb_pEgL{font-weight:\").concat(theme.fontWeightLight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bdMA,input.cjUyb_bGBk[type].cjUyb_bdMA{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ijuF,input.cjUyb_bGBk[type].cjUyb_ijuF{font-style:normal}\\n\\n.cjUyb_bGBk.cjUyb_fetN,input.cjUyb_bGBk[type].cjUyb_fetN{font-style:italic}\\n\\n.cjUyb_bGBk.cjUyb_dfBC,input.cjUyb_bGBk[type].cjUyb_dfBC{font-size:\").concat(theme.fontSizeXSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_doqw,input.cjUyb_bGBk[type].cjUyb_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ycrn,input.cjUyb_bGBk[type].cjUyb_ycrn{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cMDj,input.cjUyb_bGBk[type].cjUyb_cMDj{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eoMd,input.cjUyb_bGBk[type].cjUyb_eoMd{font-size:\").concat(theme.fontSizeXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fdca,input.cjUyb_bGBk[type].cjUyb_fdca{font-size:\").concat(theme.fontSizeXXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fEWX,input.cjUyb_bGBk[type].cjUyb_fEWX{line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fNIu,input.cjUyb_bGBk[type].cjUyb_fNIu{line-height:\").concat(theme.lineHeightFit || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dfDs,input.cjUyb_bGBk[type].cjUyb_dfDs{line-height:\").concat(theme.lineHeightCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bDjL,input.cjUyb_bGBk[type].cjUyb_bDjL{line-height:\").concat(theme.lineHeightDouble || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eQnG,input.cjUyb_bGBk[type].cjUyb_eQnG{letter-spacing:\").concat(theme.letterSpacingNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bbUA,input.cjUyb_bGBk[type].cjUyb_bbUA{letter-spacing:\").concat(theme.letterSpacingCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bRWU,input.cjUyb_bGBk[type].cjUyb_bRWU{letter-spacing:\").concat(theme.letterSpacingExpanded || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_wZsr,input.cjUyb_bGBk[type].cjUyb_wZsr{text-transform:none}\\n\\n.cjUyb_bGBk.cjUyb_fCZK,input.cjUyb_bGBk[type].cjUyb_fCZK{text-transform:capitalize}\\n\\n.cjUyb_bGBk.cjUyb_dsRi,input.cjUyb_bGBk[type].cjUyb_dsRi{text-transform:uppercase}\\n\\n.cjUyb_bGBk.cjUyb_bLtD,input.cjUyb_bGBk[type].cjUyb_bLtD{text-transform:lowercase}\");\n  },\n  'root': 'cjUyb_bGBk',\n  'color-primary': 'cjUyb_qFsi',\n  'color-secondary': 'cjUyb_bLsb',\n  'color-primary-inverse': 'cjUyb_ezBQ',\n  'color-secondary-inverse': 'cjUyb_dlnd',\n  'color-success': 'cjUyb_cJLh',\n  'color-brand': 'cjUyb_fpfC',\n  'color-warning': 'cjUyb_eHcp',\n  'color-error': 'cjUyb_dwua',\n  'color-alert': 'cjUyb_eZgl',\n  'wrap-break-word': 'cjUyb_fbNi',\n  'weight-normal': 'cjUyb_drST',\n  'weight-light': 'cjUyb_pEgL',\n  'weight-bold': 'cjUyb_bdMA',\n  'style-normal': 'cjUyb_ijuF',\n  'style-italic': 'cjUyb_fetN',\n  'x-small': 'cjUyb_dfBC',\n  'small': 'cjUyb_doqw',\n  'medium': 'cjUyb_ycrn',\n  'large': 'cjUyb_cMDj',\n  'x-large': 'cjUyb_eoMd',\n  'xx-large': 'cjUyb_fdca',\n  'lineHeight-default': 'cjUyb_fEWX',\n  'lineHeight-fit': 'cjUyb_fNIu',\n  'lineHeight-condensed': 'cjUyb_dfDs',\n  'lineHeight-double': 'cjUyb_bDjL',\n  'letterSpacing-normal': 'cjUyb_eQnG',\n  'letterSpacing-condensed': 'cjUyb_bbUA',\n  'letterSpacing-expanded': 'cjUyb_bRWU',\n  'transform-none': 'cjUyb_wZsr',\n  'transform-capitalize': 'cjUyb_fCZK',\n  'transform-uppercase': 'cjUyb_dsRi',\n  'transform-lowercase': 'cjUyb_bLtD'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedText\n---\n**/\n\nvar Text = (_dec = deprecated('7.0.0', null, 'Use Text from ui-text instead.'), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Text, _Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          wrap = _this$props.wrap,\n          weight = _this$props.weight,\n          fontStyle = _this$props.fontStyle,\n          size = _this$props.size,\n          lineHeight = _this$props.lineHeight,\n          letterSpacing = _this$props.letterSpacing,\n          transform = _this$props.transform,\n          color = _this$props.color,\n          children = _this$props.children;\n      var ElementType = getElementType(Text, this.props);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, Text.propTypes), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[size], size), _defineProperty(_classnames, styles[\"wrap-\".concat(wrap)], wrap), _defineProperty(_classnames, styles[\"weight-\".concat(weight)], weight), _defineProperty(_classnames, styles[\"style-\".concat(fontStyle)], fontStyle), _defineProperty(_classnames, styles[\"transform-\".concat(transform)], transform), _defineProperty(_classnames, styles[\"lineHeight-\".concat(lineHeight)], lineHeight), _defineProperty(_classnames, styles[\"letterSpacing-\".concat(letterSpacing)], letterSpacing), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _classnames)),\n        ref: this.props.elementRef\n      }), children);\n    }\n  }]);\n\n  Text.displayName = \"Text\";\n  return Text;\n}(Component), _class2.propTypes = {\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n  wrap: PropTypes.oneOf(['normal', 'break-word']),\n  weight: PropTypes.oneOf(['normal', 'light', 'bold']),\n  fontStyle: PropTypes.oneOf(['italic', 'normal']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  lineHeight: PropTypes.oneOf(['default', 'fit', 'condensed', 'double']),\n  letterSpacing: PropTypes.oneOf(['normal', 'condensed', 'expanded']),\n  transform: PropTypes.oneOf(['none', 'capitalize', 'uppercase', 'lowercase']),\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand']),\n  children: PropTypes.node,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  as: 'span',\n  wrap: 'normal',\n  size: 'medium',\n  letterSpacing: 'normal',\n  children: null,\n  elementRef: void 0,\n  color: void 0,\n  transform: void 0,\n  lineHeight: void 0,\n  fontStyle: void 0,\n  weight: void 0\n}, _temp)) || _class) || _class);\nexport default Text;\nexport { Text };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      spacing = _ref.spacing;\n  return _objectSpread({}, typography, {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    alertColor: colors.textAlert,\n    paragraphMargin: \"\".concat(spacing.medium, \" 0\")\n  });\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\n// taken from http://jsfiddle.net/Mottie/xcqpF/1/light/\nexport default function rgb2hex(rgb) {\n  rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i)\n  if (rgb && rgb.length === 4) {\n    return (\n      '#' +\n      ('0' + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n      ('0' + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n      ('0' + parseInt(rgb[3], 10).toString(16)).slice(-2)\n    )\n  } else {\n    return ''\n  }\n}\n","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport {Model} from 'Backbone'\nimport $ from 'jquery'\n\n# Works with the progress API. Will poll its url until the `workflow_state`\n# is completed.\n#\n# Has a @pollDfd object that you can use to do things when the job is\n# complete.\n#\n# @event complete - triggered when the polling stops and the job is\n# complete.\n\nexport default class Progress extends Model\n\n  defaults:\n\n    completion: 0\n\n    # The url to poll\n    url: null\n\n    # How long after a response to fetch again\n    timeout: 1000\n\n  # Array of states to continue polling for progress\n  pollStates: ['queued', 'running']\n\n  isPolling: ->\n    @get('workflow_state') in @pollStates\n\n  isSuccess: ->\n    @get('workflow_state') is 'completed'\n\n  initialize: ->\n    @pollDfd = new $.Deferred\n    @on 'change:url', => @poll() if @isPolling()\n    # don't try to do any ajax when we're leaving the page\n    # workaround for https://code.google.com/p/chromium/issues/detail?id=263981\n    $(window).on 'beforeunload', => clearTimeout(@timeout)\n\n  url: ->\n    @get 'url'\n\n  # Fetches the model from the server on an interval, will trigger\n  # 'complete' event when finished. Returns a deferred that resolves\n  # when the server side job finishes\n  #\n  # @returns {Deferred}\n  # @api public\n\n  poll: =>\n    @fetch().then @onPoll, =>\n      @pollDfd.rejectWith this, arguments\n    @pollDfd\n\n  # Called on each poll fetch\n  #\n  # @api private\n\n  onPoll: (response) =>\n    @pollDfd.notify(response)\n    if @isPolling()\n      @timeout = setTimeout(@poll, @get('timeout'))\n    else\n      @pollDfd[if @isSuccess() then 'resolve' else 'reject'](response)\n      @trigger 'complete'\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { childrenOrValue } from '@instructure/ui-prop-types';\nimport { deprecated, getElementType, omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'emyav',\n  template: function template(theme) {\n    return \"\\n\\n.emyav_bGBk{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:\".concat(theme.fontFamily || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin:0;text-rendering:optimizeLegibility}\\n\\ninput.emyav_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:-6px 0 0 0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.emyav_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.emyav_bGBk[type]{text-align:right}\\n\\ninput.emyav_bGBk[type]:focus{outline:none}\\n\\n.emyav_fIqS{font-size:\").concat(theme.h1FontSize || 'inherit', \";font-weight:\").concat(theme.h1FontWeight || 'inherit', \"}\\n\\n.emyav_eABG{font-size:\").concat(theme.h2FontSize || 'inherit', \";font-weight:\").concat(theme.h2FontWeight || 'inherit', \"}\\n\\n.emyav_dlZd{font-size:\").concat(theme.h3FontSize || 'inherit', \";font-weight:\").concat(theme.h3FontWeight || 'inherit', \"}\\n\\n.emyav_bAmB{font-size:\").concat(theme.h4FontSize || 'inherit', \";font-weight:\").concat(theme.h4FontWeight || 'inherit', \"}\\n\\n.emyav_eRZv{font-size:\").concat(theme.h5FontSize || 'inherit', \";font-weight:\").concat(theme.h5FontWeight || 'inherit', \"}\\n\\n.emyav_dTMd{border-top:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";padding-top:\").concat(theme.borderPadding || 'inherit', \"}\\n\\n.emyav_evMo{border-bottom:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";padding-bottom:\").concat(theme.borderPadding || 'inherit', \"}\\n\\n.emyav_fAVi{color:inherit}\\n\\n.emyav_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.emyav_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.emyav_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.emyav_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.emyav_ZpoW{font-size:inherit;font-weight:inherit;line-height:inherit;margin:0}\\n\\n.emyav_bOQC{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\");\n  },\n  'root': 'emyav_bGBk',\n  'h1': 'emyav_fIqS',\n  'h2': 'emyav_eABG',\n  'h3': 'emyav_dlZd',\n  'h4': 'emyav_bAmB',\n  'h5': 'emyav_eRZv',\n  'border-top': 'emyav_dTMd',\n  'border-bottom': 'emyav_evMo',\n  'color-inherit': 'emyav_fAVi',\n  'color-primary': 'emyav_qFsi',\n  'color-secondary': 'emyav_bLsb',\n  'color-primary-inverse': 'emyav_ezBQ',\n  'color-secondary-inverse': 'emyav_dlnd',\n  'reset': 'emyav_ZpoW',\n  'ellipsis': 'emyav_bOQC'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedHeading\n---\n**/\n\nvar Heading = (_dec = deprecated('7.0.0', null, 'Use Heading from ui-heading instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Heading, _Component);\n\n  function Heading() {\n    _classCallCheck(this, Heading);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Heading).apply(this, arguments));\n  }\n\n  _createClass(Heading, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          border = _this$props.border,\n          children = _this$props.children,\n          color = _this$props.color,\n          level = _this$props.level,\n          ellipsis = _this$props.ellipsis,\n          margin = _this$props.margin,\n          elementRef = _this$props.elementRef;\n      var ElementType = getElementType(Heading, this.props, function () {\n        if (level === 'reset') {\n          return 'span';\n        } else {\n          return level;\n        }\n      });\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Heading.propTypes), Heading);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[level], true), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _defineProperty(_classnames, styles[\"border-\".concat(border)], border !== 'none'), _defineProperty(_classnames, styles.ellipsis, ellipsis), _classnames)),\n        as: ElementType,\n        margin: margin,\n        elementRef: elementRef\n      }), children);\n    }\n  }]);\n\n  Heading.displayName = \"Heading\";\n  return Heading;\n}(Component), _class2.propTypes = {\n  border: PropTypes.oneOf(['none', 'top', 'bottom']),\n  children: childrenOrValue,\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'inherit']),\n  level: PropTypes.oneOf(['h1', 'h2', 'h3', 'h4', 'h5', 'reset']),\n\n  /**\n  * the element type to render as (defaults to the level)\n  */\n  as: PropTypes.elementType,\n  // eslint-disable-line react/require-default-props\n  ellipsis: PropTypes.bool,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  children: null,\n  margin: void 0,\n  elementRef: void 0,\n  border: 'none',\n  color: 'inherit',\n  level: 'h2',\n  ellipsis: false\n}, _temp)) || _class) || _class) || _class);\nexport default Heading;\nexport { Heading };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeightFit,\n    h1FontSize: typography.fontSizeXXLarge,\n    h1FontWeight: typography.fontWeightLight,\n    h2FontSize: typography.fontSizeXLarge,\n    h2FontWeight: typography.fontWeightNormal,\n    h3FontSize: typography.fontSizeLarge,\n    h3FontWeight: typography.fontWeightBold,\n    h4FontSize: typography.fontSizeMedium,\n    h4FontWeight: typography.fontWeightBold,\n    h5FontSize: typography.fontSizeSmall,\n    h5FontWeight: typography.fontWeightNormal,\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    brandColor: colors.textBrand,\n    warningColor: colors.textWarning,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    borderPadding: spacing.xxxSmall,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};",";(function(){var k;function m(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var p=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},q=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this;function r(){r=function(){};q.Symbol||(q.Symbol=u)}function v(a,b){this.s=a;p(this,\"description\",{configurable:!0,writable:!0,value:b})}\nv.prototype.toString=function(){return this.s};var u=function(){function a(c){if(this instanceof a)throw new TypeError(\"Symbol is not a constructor\");return new v(\"jscomp_symbol_\"+(c||\"\")+\"_\"+b++,c)}var b=0;return a}();function w(){r();var a=q.Symbol.iterator;a||(a=q.Symbol.iterator=q.Symbol(\"Symbol.iterator\"));\"function\"!=typeof Array.prototype[a]&&p(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return x(m(this))}});w=function(){}}\nfunction x(a){w();a={next:a};a[q.Symbol.iterator]=function(){return this};return a}function y(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:m(a)}}var z;if(\"function\"==typeof Object.setPrototypeOf)z=Object.setPrototypeOf;else{var A;a:{var B={v:!0},C={};try{C.__proto__=B;A=C.v;break a}catch(a){}A=!1}z=A?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var D=z;\nfunction E(){this.h=!1;this.c=null;this.o=void 0;this.b=1;this.m=this.w=0;this.g=null}function F(a){if(a.h)throw new TypeError(\"Generator is already running\");a.h=!0}E.prototype.i=function(a){this.o=a};E.prototype.j=function(a){this.g={A:a,B:!0};this.b=this.w||this.m};E.prototype[\"return\"]=function(a){this.g={\"return\":a};this.b=this.m};function G(a,b,c){a.b=c;return{value:b}}function H(a){this.C=a;this.l=[];for(var b in a)this.l.push(b);this.l.reverse()}function I(a){this.a=new E;this.D=a}\nI.prototype.i=function(a){F(this.a);if(this.a.c)return J(this,this.a.c.next,a,this.a.i);this.a.i(a);return K(this)};function L(a,b){F(a.a);var c=a.a.c;if(c)return J(a,\"return\"in c?c[\"return\"]:function(d){return{value:d,done:!0}},b,a.a[\"return\"]);a.a[\"return\"](b);return K(a)}I.prototype.j=function(a){F(this.a);if(this.a.c)return J(this,this.a.c[\"throw\"],a,this.a.i);this.a.j(a);return K(this)};\nfunction J(a,b,c,d){try{var e=b.call(a.a.c,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.a.h=!1,e;var f=e.value}catch(g){return a.a.c=null,a.a.j(g),K(a)}a.a.c=null;d.call(a.a,f);return K(a)}function K(a){for(;a.a.b;)try{var b=a.D(a.a);if(b)return a.a.h=!1,{value:b.value,done:!1}}catch(c){a.a.o=void 0,a.a.j(c)}a.a.h=!1;if(a.a.g){b=a.a.g;a.a.g=null;if(b.B)throw b.A;return{value:b[\"return\"],done:!0}}return{value:void 0,done:!0}}\nfunction M(a){this.next=function(b){return a.i(b)};this[\"throw\"]=function(b){return a.j(b)};this[\"return\"]=function(b){return L(a,b)};w();this[Symbol.iterator]=function(){return this}}function N(a,b){var c=new M(new I(b));D&&D(c,a.prototype);return c}\nif(\"undefined\"!==typeof Blob&&(\"undefined\"===typeof FormData||!FormData.prototype.keys)){var O=function(a,b){for(var c=0;c<a.length;c++)b(a[c])},P=function(a,b,c){return b instanceof Blob?[String(a),b,void 0!==c?c+\"\":\"string\"===typeof b.name?b.name:\"blob\"]:[String(a),String(b)]},Q=function(a,b){if(a.length<b)throw new TypeError(b+\" argument required, but only \"+a.length+\" present.\");},S=function(a){var b=y(a);a=b.next().value;b=b.next().value;a instanceof Blob&&(a=new File([a],b,{type:a.type,lastModified:a.lastModified}));\nreturn a},T=\"object\"===typeof window?window:\"object\"===typeof self?self:this,U=T.FormData,V=T.XMLHttpRequest&&T.XMLHttpRequest.prototype.send,W=T.Request&&T.fetch,X=T.navigator&&T.navigator.sendBeacon;r();var Y=T.Symbol&&Symbol.toStringTag;Y&&(Blob.prototype[Y]||(Blob.prototype[Y]=\"Blob\"),\"File\"in T&&!File.prototype[Y]&&(File.prototype[Y]=\"File\"));try{new File([],\"\")}catch(a){T.File=function(b,c,d){b=new Blob(b,d);d=d&&void 0!==d.lastModified?new Date(d.lastModified):new Date;Object.defineProperties(b,\n{name:{value:c},lastModifiedDate:{value:d},lastModified:{value:+d},toString:{value:function(){return\"[object File]\"}}});Y&&Object.defineProperty(b,Y,{value:\"File\"});return b}}r();w();var Z=function(a){this.f=Object.create(null);if(!a)return this;var b=this;O(a.elements,function(c){if(c.name&&!c.disabled&&\"submit\"!==c.type&&\"button\"!==c.type)if(\"file\"===c.type){var d=c.files&&c.files.length?c.files:[new File([],\"\",{type:\"application/octet-stream\"})];O(d,function(e){b.append(c.name,e)})}else\"select-multiple\"===\nc.type||\"select-one\"===c.type?O(c.options,function(e){!e.disabled&&e.selected&&b.append(c.name,e.value)}):\"checkbox\"===c.type||\"radio\"===c.type?c.checked&&b.append(c.name,c.value):(d=\"textarea\"===c.type?c.value.replace(/\\r\\n/g,\"\\n\").replace(/\\n/g,\"\\r\\n\"):c.value,b.append(c.name,d))})};k=Z.prototype;k.append=function(a,b,c){Q(arguments,2);var d=y(P.apply(null,arguments));a=d.next().value;b=d.next().value;c=d.next().value;d=this.f;d[a]||(d[a]=[]);d[a].push([b,c])};k[\"delete\"]=function(a){Q(arguments,\n1);delete this.f[String(a)]};k.entries=function b(){var c=this,d,e,f,g,h,t;return N(b,function(l){switch(l.b){case 1:d=c.f,f=new H(d);case 2:var n;a:{for(n=f;0<n.l.length;){var R=n.l.pop();if(R in n.C){n=R;break a}}n=null}if(null==(e=n)){l.b=0;break}g=y(d[e]);h=g.next();case 5:if(h.done){l.b=2;break}t=h.value;return G(l,[e,S(t)],6);case 6:h=g.next(),l.b=5}})};k.forEach=function(b,c){Q(arguments,1);for(var d=y(this),e=d.next();!e.done;e=d.next()){var f=y(e.value);e=f.next().value;f=f.next().value;\nb.call(c,f,e,this)}};k.get=function(b){Q(arguments,1);var c=this.f;b=String(b);return c[b]?S(c[b][0]):null};k.getAll=function(b){Q(arguments,1);return(this.f[String(b)]||[]).map(S)};k.has=function(b){Q(arguments,1);return String(b)in this.f};k.keys=function c(){var d=this,e,f,g,h,t;return N(c,function(l){1==l.b&&(e=y(d),f=e.next());if(3!=l.b){if(f.done){l.b=0;return}g=f.value;h=y(g);t=h.next().value;return G(l,t,3)}f=e.next();l.b=2})};k.set=function(c,d,e){Q(arguments,2);var f=P.apply(null,arguments);\nthis.f[f[0]]=[[f[1],f[2]]]};k.values=function d(){var e=this,f,g,h,t,l;return N(d,function(n){1==n.b&&(f=y(e),g=f.next());if(3!=n.b){if(g.done){n.b=0;return}h=g.value;t=y(h);t.next();l=t.next().value;return G(n,l,3)}g=f.next();n.b=2})};Z.prototype._asNative=function(){for(var d=new U,e=y(this),f=e.next();!f.done;f=e.next()){var g=y(f.value);f=g.next().value;g=g.next().value;d.append(f,g)}return d};Z.prototype._blob=function(){for(var d=\"----formdata-polyfill-\"+Math.random(),e=[],f=y(this),g=f.next();!g.done;g=\nf.next()){var h=y(g.value);g=h.next().value;h=h.next().value;e.push(\"--\"+d+\"\\r\\n\");h instanceof Blob?e.push('Content-Disposition: form-data; name=\"'+g+'\"; filename=\"'+h.name+'\"\\r\\n',\"Content-Type: \"+(h.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",h,\"\\r\\n\"):e.push('Content-Disposition: form-data; name=\"'+g+'\"\\r\\n\\r\\n'+h+\"\\r\\n\")}e.push(\"--\"+d+\"--\");return new Blob(e,{type:\"multipart/form-data; boundary=\"+d})};Z.prototype[Symbol.iterator]=function(){return this.entries()};Z.prototype.toString=function(){return\"[object FormData]\"};\nY&&(Z.prototype[Y]=\"FormData\");if(V){var aa=T.XMLHttpRequest.prototype.setRequestHeader;T.XMLHttpRequest.prototype.setRequestHeader=function(d,e){aa.call(this,d,e);\"content-type\"===d.toLowerCase()&&(this.u=!0)};T.XMLHttpRequest.prototype.send=function(d){d instanceof Z?(d=d._blob(),this.u||this.setRequestHeader(\"Content-Type\",d.type),V.call(this,d)):V.call(this,d)}}if(W){var ba=T.fetch;T.fetch=function(d,e){e&&e.body&&e.body instanceof Z&&(e.body=e.body._blob());return ba.call(this,d,e)}}X&&(T.navigator.sendBeacon=\nfunction(d,e){e instanceof Z&&(e=e._asNative());return X.call(this,d,e)});T.FormData=Z};\n})();\n"],"sourceRoot":""}