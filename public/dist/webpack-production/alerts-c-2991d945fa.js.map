{"version":3,"sources":["webpack:///./public/javascripts/translations/alerts.js","webpack:///./public/javascripts/dummyI18nResource.js?b2c6","webpack:///./public/javascripts/alerts.js","webpack:///./public/javascripts/vendor/jquery.ba-tinypubsub.js","webpack:///./public/javascripts/vendor/jqueryui/button.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","$","$list","addRecipientInOrder","$node","$item","append","createElement","key","element","value","lookup","$element","data","contentHtml","htmlEscape","toString","replace","html","find","clone","toggle","attr","createRecipient","recipient","ENV","ALERTS","POSSIBLE_RECIPIENTS","prepend","createCriterion","criterion","threshold","id","criterion_type","POSSIBLE_CRITERIA","default_threshold","text","title","restoreAlert","$alert","$criteria","idx","empty","criteria","$recipients","recipients","repetition","DATA","alert","click","event","preventDefault","$blank","removeClass","addClass","length","insertBefore","rand","Math","floor","random","each","this","replaceTags","trigger","slideDown","delegate","parents","push","getAlertData","$criteria_select","prev","count","POSSIBLE_CRITERIA_ORDER","found","jdx","$recipients_select","POSSIBLE_RECIPIENTS_ORDER","inArray","toggleClass","hasClass","slideUp","remove","next","ajaxJSON","serialize","parent","hideErrors","errors","I18n","t","val","isNaN","parseFloat","$repetition","formErrors","xhr","getResponseHeader","$li","$add_link","css","$select","$errorBox","fadeOut","$error_box","prop","require","subscribe","unsubscribe","publish","o","topic","fn","isPlainObject","wrapper","apply","Array","prototype","slice","call","arguments","guid","bind","unbind","module","exports","lastActive","startXPos","startYPos","clickDragged","baseClasses","typeClasses","formResetHandler","buttons","setTimeout","button","radioGroup","radio","name","form","radios","ownerDocument","filter","widget","version","defaultElement","options","disabled","label","icons","primary","secondary","_create","closest","eventNamespace","_determineButtonType","hasTitle","buttonElement","that","toggleButton","type","hoverClass","not","end","stopImmediatePropagation","refresh","pageX","pageY","checked","map","document","one","keyCode","ui","SPACE","ENTER","is","keyup","_setOption","_resetButton","ancestor","labelSelector","last","siblings","_destroy","removeAttr","_super","isDisabled","buttonText","appendTo","multipleIcons","buttonClasses","trim","join","items","_init","rtl"],"mappings":"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","file":"alerts-c-2991d945fa.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"مطلوب مشغل واحد على الأقل\\\",\\\"recipients_required\\\":\\\"مطلوب مستلم واحد على الأقل\\\",\\\"threshold_should_be_numeric\\\":\\\"من المفترض أن يكون رقمًا إيجابيًا\\\"}}},\\\"cy\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Mae’n rhaid rhoi o leiaf un sbardun\\\",\\\"recipients_required\\\":\\\"Mae’n rhaid rhoi o leiaf un derbynnydd\\\",\\\"threshold_should_be_numeric\\\":\\\"Fe ddylai fod yn rhif positif\\\"}}},\\\"da\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Der kræves mindst en udløser\\\",\\\"recipients_required\\\":\\\"Der kræves mindst en modtager\\\",\\\"threshold_should_be_numeric\\\":\\\"Dette skal være et positivt tal\\\"}}},\\\"da-x-k12\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Der kræves mindst en udløser\\\",\\\"recipients_required\\\":\\\"Der kræves mindst en modtager\\\",\\\"threshold_should_be_numeric\\\":\\\"Dette skal være et positivt tal\\\"}}},\\\"de\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Mindestens ein Auslöser ist erforderlich\\\",\\\"recipients_required\\\":\\\"Mindestens ein Empfänger ist erforderlich\\\",\\\"threshold_should_be_numeric\\\":\\\"Diese Zahl muss positiv sein.\\\"}}},\\\"el\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Απαιτείται τουλάχιστον μία ενεργοποίηση\\\",\\\"recipients_required\\\":\\\"Απαιτείται τουλάχιστον ένας παραλήπτης\\\",\\\"threshold_should_be_numeric\\\":\\\"Πρέπει να είναι θετικό νούμερο\\\"}}},\\\"en-AU\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"At least one trigger is required\\\",\\\"recipients_required\\\":\\\"At least one recipient is required\\\",\\\"threshold_should_be_numeric\\\":\\\"This should be a positive number\\\"}}},\\\"en-CA\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"At least one trigger is required\\\",\\\"recipients_required\\\":\\\"At least one recipient is required\\\",\\\"threshold_should_be_numeric\\\":\\\"This should be a positive number\\\"}}},\\\"en-GB\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"At least one trigger is required\\\",\\\"recipients_required\\\":\\\"At least one recipient is required\\\",\\\"threshold_should_be_numeric\\\":\\\"This should be a positive number\\\"}}},\\\"es\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Al menos un iniciador es necesario\\\",\\\"recipients_required\\\":\\\"Al menos un recipiente es necesario\\\",\\\"threshold_should_be_numeric\\\":\\\"Este debería ser un número positivo\\\"}}},\\\"fa\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"حداقل یک محرک لازم است\\\",\\\"recipients_required\\\":\\\"حداقل یک گیرنده لازم است\\\",\\\"threshold_should_be_numeric\\\":\\\"باید یک عدد مثبت باشد\\\"}}},\\\"fi\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Vähintään yksi käynnistävä tapahtuma vaaditaan\\\",\\\"recipients_required\\\":\\\"Vähintään yksi vastaanottaja vaaditaan\\\",\\\"threshold_should_be_numeric\\\":\\\"Tämän pitäisi olla positiivinen numero\\\"}}},\\\"fr\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Un déclencheur au moins est requis\\\",\\\"recipients_required\\\":\\\"Un destinataire au moins est requis\\\",\\\"threshold_should_be_numeric\\\":\\\"Le nombre indiqué doit être positif\\\"}}},\\\"fr-CA\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Au moins un déclencheur est requis\\\",\\\"recipients_required\\\":\\\"Au moins un destinataire est requis\\\",\\\"threshold_should_be_numeric\\\":\\\"Le nombre indiqué doit être positif\\\"}}},\\\"he\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"נדרשת לפחות סיבת הפעלה אחת\\\",\\\"recipients_required\\\":\\\"נדרש לפחות נמען אחד\\\",\\\"threshold_should_be_numeric\\\":\\\"מספר זה צריך להיות חיובי\\\"}}},\\\"ht\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Yon deklanchman pou pi piti obligatwa\\\",\\\"recipients_required\\\":\\\"Yon destinatè pou pi piti obligatwa\\\",\\\"threshold_should_be_numeric\\\":\\\"Sa a ta dwe se yon nonm pozitif\\\"}}},\\\"hu\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Legalább egy kiváltó szempont szükséges\\\",\\\"recipients_required\\\":\\\"Legalább egy címzettet meg kell adni\\\",\\\"threshold_should_be_numeric\\\":\\\"Ennek pozitív számnak kell lennie\\\"}}},\\\"hy\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Առնվազն մեկ թրիգեր է պահանջվում\\\",\\\"recipients_required\\\":\\\"Առնվազն մեկ ստացող է պահանջվում\\\",\\\"threshold_should_be_numeric\\\":\\\"Սա պետք է դրական թիվ լինի\\\"}}},\\\"is\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Þarf minnst eina kveikju\\\",\\\"recipients_required\\\":\\\"Þarf minnst einn viðtakanda\\\",\\\"threshold_should_be_numeric\\\":\\\"Þetta á að vera jákvæð tala\\\"}}},\\\"it\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"È richiesto almeno un trigger\\\",\\\"recipients_required\\\":\\\"È richiesto almeno un destinatario\\\",\\\"threshold_should_be_numeric\\\":\\\"Deve essere un numero positivo\\\"}}},\\\"ja\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"トリガーは最低1 つ必要です\\\",\\\"recipients_required\\\":\\\"受信者は最低1 名必要です\\\",\\\"threshold_should_be_numeric\\\":\\\"正数である必要があります。\\\"}}},\\\"ko\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"적어도 하나의 트리거가 필요함\\\",\\\"recipients_required\\\":\\\"적어도 한 명의 수신인이 필요함\\\",\\\"threshold_should_be_numeric\\\":\\\"양수이어야 함\\\"}}},\\\"mi\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Ka Hiahiatia kotahi te iti rawa tētahi keu\\\",\\\"recipients_required\\\":\\\"Ka Hiahiatia kotahi te iti rawa tētahi kaiwhiwhi te\\\",\\\"threshold_should_be_numeric\\\":\\\"Kia tau pai tēnei\\\"}}},\\\"nb\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Minst en utløser er påkrevet\\\",\\\"recipients_required\\\":\\\"Det må være minst én mottaker\\\",\\\"threshold_should_be_numeric\\\":\\\"Dette skal være et positivt tall\\\"}}},\\\"nb-x-k12\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Minst en utløser er påkrevet\\\",\\\"recipients_required\\\":\\\"Det må være minst én mottaker\\\",\\\"threshold_should_be_numeric\\\":\\\"Dette skal være et positivt tall\\\"}}},\\\"nl\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Er is minimaal een trigger nodig\\\",\\\"recipients_required\\\":\\\"Er is minimaal één geadresseerde nodig\\\",\\\"threshold_should_be_numeric\\\":\\\"Dit moet een positief getal zijn\\\"}}},\\\"nn\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Det er obligatorisk med minst ein utløysar\\\",\\\"recipients_required\\\":\\\"Det er obligatorisk med minst ein mottakar\\\",\\\"threshold_should_be_numeric\\\":\\\"Dette skal vere eit positivt tal\\\"}}},\\\"pl\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Wymagana jest co najmniej jedna przyczyna\\\",\\\"recipients_required\\\":\\\"Wymagany jest co najmniej jeden odbiorca\\\",\\\"threshold_should_be_numeric\\\":\\\"Powinna to być liczba dodatnia\\\"}}},\\\"pt\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"É obrigatório pelo menos um disparador\\\",\\\"recipients_required\\\":\\\"É obrigatório pelo menos um destinatário\\\",\\\"threshold_should_be_numeric\\\":\\\"Este valor deve ser um número positivo.\\\"}}},\\\"pt-BR\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"É obrigatório pelo menos um disparador\\\",\\\"recipients_required\\\":\\\"É obrigatório pelo menos um destinatário\\\",\\\"threshold_should_be_numeric\\\":\\\"Este valor deve ser um número positivo.\\\"}}},\\\"ru\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Требуется хотя бы один триггер\\\",\\\"recipients_required\\\":\\\"Требуется хотя бы один получатель\\\",\\\"threshold_should_be_numeric\\\":\\\"Должно быть положительным числом\\\"}}},\\\"sl\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Zahtevan je vsaj en sprožilec.\\\",\\\"recipients_required\\\":\\\"Zahtevan je vsaj en prejemnik.\\\",\\\"threshold_should_be_numeric\\\":\\\"To število mora biti pozitivno.\\\"}}},\\\"sv\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Åtminstone en trigger krävs\\\",\\\"recipients_required\\\":\\\"Minst en mottagare krävs\\\",\\\"threshold_should_be_numeric\\\":\\\"Det här måste vara ett positivt nummer\\\"}}},\\\"sv-x-k12\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Åtminstone en trigger krävs\\\",\\\"recipients_required\\\":\\\"Minst en mottagare krävs\\\",\\\"threshold_should_be_numeric\\\":\\\"Det här måste vara ett positivt nummer\\\"}}},\\\"tr\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"En az bir tetikleyici gereklidir\\\",\\\"recipients_required\\\":\\\"En az bir alıcı gereklidir\\\",\\\"threshold_should_be_numeric\\\":\\\"Pozitif bir sayı olmalıdır\\\"}}},\\\"uk\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"Потрібен принаймні один тригер\\\",\\\"recipients_required\\\":\\\"Потрібен принаймні один отримувач\\\",\\\"threshold_should_be_numeric\\\":\\\"Це має бути додатнє число\\\"}}},\\\"zh-Hans\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"至少需要一个触发器\\\",\\\"recipients_required\\\":\\\"至少需要一个收件人\\\",\\\"threshold_should_be_numeric\\\":\\\"这应该是正数\\\"}}},\\\"zh-Hant\\\":{\\\"alerts\\\":{\\\"errors\\\":{\\\"criteria_required\\\":\\\"至少需要一個觸發程序\\\",\\\"recipients_required\\\":\\\"至少需要一個收件者\\\",\\\"threshold_should_be_numeric\\\":\\\"這應該是一個正數\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/alerts';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('alerts');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!alerts'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport './jquery.ajaxJSON'\nimport './jquery.instructure_forms' // validateForm, formErrors, errorBox\nimport './jquery.instructure_misc_helpers' // replaceTags\nimport 'vendor/jquery.ba-tinypubsub' // /\\.publish/\nimport 'jqueryui/button'\n\n$(function() {\n  const $list = $('.alerts_list')\n\n  const getAlertData = function($alert) {\n    const criteria = []\n    $alert.find('ul.criteria li').each(function() {\n      criteria.push({\n        id: $(this)\n          .find('input[name=\"alert[criteria][][id]\"]')\n          .attr('value'),\n        criterion_type: $(this).data('value'),\n        threshold: $(this)\n          .find('span')\n          .text()\n      })\n    })\n    const recipients = []\n    $alert.find('ul.recipients li').each(function() {\n      recipients.push($(this).data('value'))\n    })\n    let repetition = $alert.find('input[name=\"repetition\"]:checked').attr('value')\n    if (repetition == 'value') {\n      repetition = $alert.find('input[name=\"alert[repetition]\"]').attr('value')\n    } else {\n      repetition = null\n    }\n    return {criteria, recipients, repetition}\n  }\n\n  const addRecipientInOrder = function($node, $item) {\n    $node.append($item)\n    return $item\n  }\n\n  const createElement = function(key, element, value, lookup) {\n    // xsslint safeString.identifier element\n    const $element = $('<' + element + ' />')\n    $element.data('value', key)\n    let contentHtml = htmlEscape(lookup[key][value]).toString()\n    // see placeholder in _alerts.html.erb\n    contentHtml = contentHtml.replace(\n      '%{count}',\n      \"<span class='displaying' /><input type='text' name='alert[criteria][][threshold]' class='editing' size='2' />\"\n    )\n    $element.html(contentHtml)\n    if (element == 'li') {\n      $element.append(' ')\n      $element.append(\n        $list\n          .find('>.delete_item_link')\n          .clone()\n          .toggle()\n      )\n    } else {\n      $element.attr('value', key)\n    }\n    return $element\n  }\n\n  // xsslint jqueryObject.function createRecipient createCriterion\n  const createRecipient = function(recipient, element) {\n    const $element = createElement(recipient, element, 'label', ENV.ALERTS.POSSIBLE_RECIPIENTS)\n    if (element == 'li') {\n      $element.prepend(\n        $(\"<input type='hidden' name='alert[recipients][]' />\").attr('value', recipient)\n      )\n    }\n    return $element\n  }\n\n  const createCriterion = function(criterion, element) {\n    let criterion_type = criterion,\n      threshold,\n      id\n    if (typeof criterion === 'object') {\n      criterion_type = criterion.criterion_type\n      threshold = criterion.threshold\n      id = criterion.id\n    }\n    const $element = createElement(\n      criterion_type,\n      element,\n      element == 'li' ? 'label' : 'option',\n      ENV.ALERTS.POSSIBLE_CRITERIA\n    )\n    if (element == 'li') {\n      if (!threshold) {\n        threshold = ENV.ALERTS.POSSIBLE_CRITERIA[criterion_type].default_threshold\n      }\n      $element.find('span').text(threshold)\n      $element\n        .find('input')\n        .attr('value', threshold)\n        .attr('title', ENV.ALERTS.POSSIBLE_CRITERIA[criterion_type].title)\n      $element.prepend(\n        $(\"<input type='hidden' name='alert[criteria][][criterion_type]' />\").attr(\n          'value',\n          criterion_type\n        )\n      )\n      if (id) {\n        $element.prepend(\n          $(\"<input type='hidden' name='alert[criteria][][id]' />\").attr('value', id)\n        )\n      }\n    }\n    return $element\n  }\n\n  const restoreAlert = function($alert, data) {\n    const $criteria = $alert.find('.criteria')\n    $criteria.empty()\n    for (var idx in data.criteria) {\n      $criteria.append(createCriterion(data.criteria[idx], 'li'))\n    }\n    const $recipients = $alert.find('.recipients')\n    $recipients.empty()\n    for (var idx in data.recipients) {\n      if (ENV.ALERTS.POSSIBLE_RECIPIENTS[data.recipients[idx]]) {\n        $recipients.append(createRecipient(data.recipients[idx], 'li'))\n      }\n    }\n    if (data.repetition) {\n      $alert.find('input[name=\"repetition\"][value=\"value\"]').attr('checked', true)\n      $alert.find('input[name=\"alert[repetition]\"]').attr('value', data.repetition)\n      $alert.find('.repetition_group .no_repetition').toggle(false)\n      $alert\n        .find('.repetition_group .repetition')\n        .toggle(true)\n        .find('span')\n        .text(data.repetition)\n    } else {\n      $alert.find('input[name=\"repetition\"][value=\"none\"]').attr('checked', true)\n      $alert.find('.repetition_group .no_repetition').toggle(true)\n      $alert.find('.repetition_group .repetition').toggle(false)\n    }\n  }\n\n  for (const idx in ENV.ALERTS.DATA) {\n    const alert = ENV.ALERTS.DATA[idx]\n    restoreAlert($('#edit_alert_' + alert.id), alert)\n  }\n\n  $('.add_alert_link').click(function(event) {\n    event.preventDefault()\n    const $blank = $('.alert.blank')\n    const $alert = $blank.clone()\n    $alert.removeClass('blank')\n    $alert.addClass('new')\n    if ($list.find('.alert:visible').length != 0) {\n      $('<div class=\"alert_separator\"></div>').insertBefore($blank)\n    }\n    const rand = Math.floor(Math.random() * 100000000)\n    $alert.find('input').each(function() {\n      $(this).attr('id', $.replaceTags($(this).attr('id'), 'id', rand))\n    })\n    $alert.find('label').each(function() {\n      $(this).attr('for', $.replaceTags($(this).attr('for'), 'id', rand))\n    })\n    $alert.insertBefore($blank)\n    $alert.find('.edit_link').trigger('click')\n    $alert.toggle(false)\n    $alert.slideDown()\n  })\n\n  $list\n    .delegate('.edit_link', 'click', function() {\n      const $alert = $(this).parents('.alert')\n      const data = getAlertData($alert)\n      $alert.data('data', data)\n\n      const $criteria_select = $alert.find('.add_criterion_link').prev()\n      $criteria_select.empty()\n      let count = 0\n      for (var idx in ENV.ALERTS.POSSIBLE_CRITERIA_ORDER) {\n        const criterion = ENV.ALERTS.POSSIBLE_CRITERIA_ORDER[idx]\n        let found = -1\n        for (const jdx in data.criteria) {\n          if (data.criteria[jdx].criterion_type == criterion) {\n            found = jdx\n            break\n          }\n        }\n        if (found == -1) {\n          $criteria_select.append(createCriterion(criterion, 'option'))\n          count += 1\n        }\n      }\n      if (count == 0) {\n        $alert.find('.add_criteria_line').toggle(false)\n      }\n\n      const $recipients_select = $alert.find('.add_recipient_link').prev()\n      $recipients_select.empty()\n      count = 0\n      for (var idx in ENV.ALERTS.POSSIBLE_RECIPIENTS_ORDER) {\n        const recipient = ENV.ALERTS.POSSIBLE_RECIPIENTS_ORDER[idx]\n        if ($.inArray(recipient, data.recipients) == -1) {\n          $recipients_select.append(createRecipient(recipient, 'option'))\n          count += 1\n        }\n      }\n      if (count == 0) {\n        $alert.find('.add_recipients_line').toggle(false)\n      }\n\n      $alert.find('.repetition_group label').toggle(true)\n      $alert.toggleClass('editing')\n      $alert.toggleClass('displaying')\n      return false\n    })\n    .delegate('.delete_link', 'click', function() {\n      const $alert = $(this).parents('.alert')\n      if (!$alert.hasClass('new')) {\n        $alert.find('input[name=\"_method\"]').attr('value', 'DELETE')\n        $.ajaxJSON($alert.attr('action'), 'POST', $alert.serialize(), data => {\n          $alert.slideUp(() => {\n            $alert.remove()\n            $list\n              .find('.alert:first')\n              .prev('.alert_separator')\n              .remove()\n            $list.find('.alert_separator + .alert_separator').remove()\n            $list\n              .find('.alert:visible:last')\n              .next('.alert_separator')\n              .remove()\n          })\n        })\n      } else {\n        $alert.slideUp(() => {\n          $alert.remove()\n          $list\n            .find('.alert:first')\n            .prev('.alert_separator')\n            .remove()\n          $list.find('.alert_separator + .alert_separator').remove()\n          $list\n            .find('.alert:visible:last')\n            .next('.alert_separator')\n            .remove()\n        })\n      }\n      return false\n    })\n    .delegate('.cancel_button', 'click', function() {\n      $(this)\n        .parent()\n        .hideErrors()\n      const $alert = $(this).parents('.alert')\n      if ($alert.hasClass('new')) {\n        $alert.slideUp(() => {\n          $alert.remove()\n          $list\n            .find('.alert:first')\n            .prev('.alert_separator')\n            .remove()\n          $list.find('.alert_separator + .alert_separator').remove()\n          $list\n            .find('.alert:visible:last')\n            .next('.alert_separator')\n            .remove()\n        })\n      } else {\n        const data = $alert.data('data')\n        restoreAlert($alert, data)\n\n        $alert.toggleClass('editing', false)\n        $alert.toggleClass('displaying', true)\n      }\n      return false\n    })\n    .delegate('.alert', 'submit', function() {\n      const $alert = $(this)\n\n      // Validation (validateForm doesn't support arrays, and formErrors\n      // wouldn't be able to locate the correct elements)\n      const errors = []\n      if ($alert.find('.criteria li').length == 0) {\n        errors.push([\n          $alert.find('.add_criterion_link').prev(),\n          I18n.t('errors.criteria_required', 'At least one trigger is required')\n        ])\n      }\n      $alert.find('.criteria input.editing').each(function() {\n        const val = $(this).attr('value')\n        if (!val || isNaN(val) || parseFloat(val) < 0) {\n          errors.push([\n            $(this),\n            I18n.t('errors.threshold_should_be_numeric', 'This should be a positive number')\n          ])\n        }\n      })\n      if ($alert.find('.recipients li').length == 0) {\n        errors.push([\n          $alert.find('.add_recipient_link').prev(),\n          I18n.t('errors.recipients_required', 'At least one recipient is required')\n        ])\n      }\n      if ($alert.find('input[name=\"repetition\"]:checked').attr('value') == 'none') {\n        $alert.find('input[name=\"alert[repetition]\"]').attr('value', '')\n      } else {\n        const $repetition = $alert.find('input[name=\"alert[repetition]\"]')\n        const val = $repetition.attr('value')\n        if (!val || isNaN(val) || parseFloat(val) < 0) {\n          errors.push([\n            $repetition,\n            I18n.t('errors.threshold_should_be_numeric', 'This should be a positive number')\n          ])\n        }\n      }\n      if (errors.length != 0) {\n        $alert.formErrors(errors)\n        return false\n      }\n\n      $.ajaxJSON(\n        $alert.attr('action'),\n        'POST',\n        $alert.serialize(),\n        (data, xhr) => {\n          $alert.removeClass('new')\n          $alert.attr('action', xhr.getResponseHeader('Location'))\n          const $method = $alert.find('input[name=\"_method\"]')\n          if ($method.length == 0) {\n            $alert.append($('<input type=\"hidden\" name=\"_method\" value=\"put\" />'))\n          }\n          $alert.toggleClass('editing', false)\n          $alert.toggleClass('displaying', true)\n          restoreAlert($alert, data)\n        },\n        data => {\n          $alert.formErrors(data)\n        }\n      )\n      return false\n    })\n    .delegate('.recipients .delete_item_link', 'click', function() {\n      const $li = $(this).parents('li')\n      const $add_link = $(this)\n        .parents('.alert')\n        .find('.add_recipient_link')\n      addRecipientInOrder($add_link.prev(), createRecipient($li.data('value'), 'option'))\n\n      $li.slideUp(() => {\n        $li.remove()\n      })\n      $add_link.parent().slideDown(() => {\n        $add_link.parent().css('display', '')\n      })\n      return false\n    })\n    .delegate('.add_recipient_link', 'click', function() {\n      const $recipients = $(this)\n        .parents('.alert')\n        .find('.recipients')\n      const $select = $(this).prev()\n      const recipient = $select.attr('value')\n      addRecipientInOrder($recipients, createRecipient(recipient, 'li'))\n        .toggle()\n        .slideDown()\n      const $errorBox = $select.data('associated_error_box')\n      if ($errorBox) {\n        $errorBox.fadeOut('slow', () => {\n          $errorBox.remove()\n        })\n      }\n\n      $select.find('option[value=\"' + recipient + '\"]').remove()\n\n      if ($select.find('*').length == 0) {\n        $(this)\n          .parent()\n          .slideUp()\n      }\n      return false\n    })\n    .delegate('.criteria .delete_item_link', 'click', function() {\n      const $li = $(this).parents('li')\n      const $add_link = $(this)\n        .parents('.alert')\n        .find('.add_criterion_link')\n      addRecipientInOrder($add_link.prev(), createCriterion($li.data('value'), 'option'))\n\n      $li.slideUp(() => {\n        $li.remove()\n      })\n      $add_link.parent().slideDown(() => {\n        $add_link.parent().css('display', '')\n      })\n      return false\n    })\n    .delegate('.add_criterion_link', 'click', function() {\n      const $criteria = $(this)\n        .parents('.alert')\n        .find('.criteria')\n      const $select = $(this).prev()\n      const criterion = $select.attr('value')\n      addRecipientInOrder($criteria, createCriterion(criterion, 'li'))\n        .toggle()\n        .slideDown()\n      const $errorBox = $select.data('associated_error_box')\n      if ($errorBox) {\n        $errorBox.fadeOut('slow', () => {\n          $errorBox.remove()\n        })\n      }\n\n      $select.find('option[value=\"' + criterion + '\"]').remove()\n\n      if ($select.find('*').length == 0) {\n        $(this)\n          .parent()\n          .slideUp()\n      }\n      return false\n    })\n    .delegate('input[name=\"repetition\"]', 'click', function() {\n      const $error_box = $(this)\n        .parents('.alert')\n        .find('input[name=\"alert[repetition]\"]')\n        .data('associated_error_box')\n      if ($error_box) {\n        $error_box.fadeOut('slow', () => {\n          $error_box.remove()\n        })\n      }\n    })\n    .delegate('label.repetition', 'click', function(event) {\n      event.preventDefault()\n      $(this)\n        .parents('.alert')\n        .find('input[name=\"repetition\"]')\n        .prop('checked', true)\n    })\n})\n","/*!\n * jQuery Tiny Pub/Sub - v0.6 - 1/10/2011\n * http://benalman.com/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\nconst $ = require('jquery')\n\n  // Create a \"dummy\" jQuery object on which to bind, unbind and trigger event\n  // handlers. Note that $({}) works in jQuery 1.4.3+.\n  var o = $({}), subscribe, unsubscribe, publish;\n\n  // Subscribe to a topic. Works just like bind, except the passed handler\n  // is wrapped in a function so that the event object can be stripped out.\n  // Even though the event object might be useful, it is unnecessary and\n  // will only complicate things in the future should the user decide to move\n  // to a non-$.event-based pub/sub implementation.\n  $.subscribe = subscribe = function( topic, fn ) {\n    if ($.isPlainObject(topic)) {\n      return $.each(topic, function(topic, fn) {\n        subscribe(topic, fn);\n      });\n    }\n    // Call fn, stripping out the 1st argument (the event object).\n    function wrapper() {\n      return fn.apply( this, Array.prototype.slice.call( arguments, 1 ) );\n    }\n\n    // Add .guid property to function to allow it to be easily unbound. Note\n    // that $.guid is new in jQuery 1.4+, and $.event.guid was used before.\n    wrapper.guid = fn.guid = fn.guid || $.guid++;\n\n    // Bind the handler.\n    o.bind( topic, wrapper );\n  };\n\n  // Unsubscribe from a topic. Works exactly like unbind.\n  $.unsubscribe = unsubscribe = function() {\n    o.unbind.apply( o, arguments );\n  };\n\n  // Publish a topic. Works exactly like trigger.\n  $.publish = publish = function() {\n    o.trigger.apply( o, arguments );\n  };\n\n  module.exports = {\n    subscribe: subscribe,\n    unsubscribe: unsubscribe,\n    publish: publish\n  };\n\n","/*!\n * jQuery UI Button @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Button\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/widget'\n\nvar lastActive, startXPos, startYPos, clickDragged,\n\tbaseClasses = \"ui-button ui-widget ui-state-default ui-corner-all\",\n\tstateClasses = \"ui-state-hover ui-state-active \",\n\ttypeClasses = \"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\",\n\tformResetHandler = function() {\n\t\tvar buttons = $( this ).find( \":ui-button\" );\n\t\tsetTimeout(function() {\n\t\t\tbuttons.button( \"refresh\" );\n\t\t}, 1 );\n\t},\n\tradioGroup = function( radio ) {\n\t\tvar name = radio.name,\n\t\t\tform = radio.form,\n\t\t\tradios = $( [] );\n\t\tif ( name ) {\n\t\t\tif ( form ) {\n\t\t\t\tradios = $( form ).find( \"[name='\" + name + \"']\" );\n\t\t\t} else {\n\t\t\t\tradios = $( \"[name='\" + name + \"']\", radio.ownerDocument )\n\t\t\t\t\t.filter(function() {\n\t\t\t\t\t\treturn !this.form;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn radios;\n\t};\n\n$.widget( \"ui.button\", {\n\tversion: \"@VERSION\",\n\tdefaultElement: \"<button>\",\n\toptions: {\n\t\tdisabled: null,\n\t\ttext: true,\n\t\tlabel: null,\n\t\ticons: {\n\t\t\tprimary: null,\n\t\t\tsecondary: null\n\t\t}\n\t},\n\t_create: function() {\n\t\tthis.element.closest( \"form\" )\n\t\t\t.unbind( \"reset\" + this.eventNamespace )\n\t\t\t.bind( \"reset\" + this.eventNamespace, formResetHandler );\n\n\t\tif ( typeof this.options.disabled !== \"boolean\" ) {\n\t\t\tthis.options.disabled = !!this.element.prop( \"disabled\" );\n\t\t} else {\n\t\t\tthis.element.prop( \"disabled\", this.options.disabled );\n\t\t}\n\n\t\tthis._determineButtonType();\n\t\tthis.hasTitle = !!this.buttonElement.attr( \"title\" );\n\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\ttoggleButton = this.type === \"checkbox\" || this.type === \"radio\",\n\t\t\thoverClass = \"ui-state-hover\" + ( !toggleButton ? \" ui-state-active\" : \"\" ),\n\t\t\tfocusClass = \"ui-state-focus\";\n\n\t\tif ( options.label === null ) {\n\t\t\toptions.label = (this.type === \"input\" ? this.buttonElement.val() : this.buttonElement.html());\n\t\t}\n\n\t\tthis.buttonElement\n\t\t\t.addClass( baseClasses )\n\t\t\t.not( \".no-button-role\" )\n\t\t\t.attr( \"role\", \"button\" )\n\t\t\t.end()\n\t\t\t.bind( \"mouseenter\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\t\t\tif ( this === lastActive ) {\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( \"mouseleave\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$( this ).removeClass( hoverClass );\n\t\t\t})\n\t\t\t.bind( \"click\" + this.eventNamespace, function( event ) {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.element\n\t\t\t.bind( \"focus\" + this.eventNamespace, function() {\n\t\t\t\t// no need to check disabled, focus won't be triggered anyway\n\t\t\t\tthat.buttonElement.addClass( focusClass );\n\t\t\t})\n\t\t\t.bind( \"blur\" + this.eventNamespace, function() {\n\t\t\t\tthat.buttonElement.removeClass( focusClass );\n\t\t\t});\n\n\t\tif ( toggleButton ) {\n\t\t\tthis.element.bind( \"change\" + this.eventNamespace, function() {\n\t\t\t\tif ( clickDragged ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthat.refresh();\n\t\t\t});\n\t\t\t// if mouse moves between mousedown and mouseup (drag) set clickDragged flag\n\t\t\t// prevents issue where button state changes but checkbox/radio checked state\n\t\t\t// does not in Firefox (see ticket #6970)\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclickDragged = false;\n\t\t\t\t\tstartXPos = event.pageX;\n\t\t\t\t\tstartYPos = event.pageY;\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( startXPos !== event.pageX || startYPos !== event.pageY ) {\n\t\t\t\t\t\tclickDragged = true;\n\t\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).toggleClass( \"ui-state-active\" );\n\t\t\t\tthat.buttonElement.attr( \"aria-pressed\", that.element[0].checked );\n\t\t\t});\n\t\t} else if ( this.type === \"radio\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\tthat.buttonElement.attr( \"aria-pressed\", \"true\" );\n\n\t\t\t\tvar radio = that.element[ 0 ];\n\t\t\t\tradioGroup( radio )\n\t\t\t\t\t.not( radio )\n\t\t\t\t\t.map(function() {\n\t\t\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t\t\t})\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t});\n\t\t} else {\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\tlastActive = this;\n\t\t\t\t\tthat.document.one( \"mouseup\", function() {\n\t\t\t\t\t\tlastActive = null;\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t})\n\t\t\t\t.bind( \"keydown\" + this.eventNamespace, function(event) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {\n\t\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.bind( \"keyup\" + this.eventNamespace, function() {\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t});\n\n\t\t\tif ( this.buttonElement.is(\"a\") ) {\n\t\t\t\tthis.buttonElement.keyup(function(event) {\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE ) {\n\t\t\t\t\t\t// TODO pass through original event correctly (just as 2nd argument doesn't work)\n\t\t\t\t\t\t$( this ).click();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// TODO: pull out $.Widget's handling for the disabled option into\n\t\t// $.Widget.prototype._setOptionDisabled so it's easy to proxy and can\n\t\t// be overridden by individual plugins\n\t\tthis._setOption( \"disabled\", options.disabled );\n\t\tthis._resetButton();\n\t},\n\n\t_determineButtonType: function() {\n\t\tvar ancestor, labelSelector, checked;\n\n\t\tif ( this.element.is(\"[type=checkbox]\") ) {\n\t\t\tthis.type = \"checkbox\";\n\t\t} else if ( this.element.is(\"[type=radio]\") ) {\n\t\t\tthis.type = \"radio\";\n\t\t} else if ( this.element.is(\"input\") ) {\n\t\t\tthis.type = \"input\";\n\t\t} else {\n\t\t\tthis.type = \"button\";\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t// we don't search against the document in case the element\n\t\t\t// is disconnected from the DOM\n\t\t\tancestor = this.element.parents().last();\n\t\t\tlabelSelector = \"label[for='\" + this.element.attr(\"id\") + \"']\";\n\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\tancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();\n\t\t\t\tthis.buttonElement = ancestor.filter( labelSelector );\n\t\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.element.addClass( \"ui-helper-hidden-accessible\" );\n\n\t\t\tchecked = this.element.is( \":checked\" );\n\t\t\tif ( checked ) {\n\t\t\t\tthis.buttonElement.addClass( \"ui-state-active\" );\n\t\t\t}\n\t\t\tthis.buttonElement.prop( \"aria-pressed\", checked );\n\t\t} else {\n\t\t\tthis.buttonElement = this.element;\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.buttonElement;\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-helper-hidden-accessible\" );\n\t\tthis.buttonElement\n\t\t\t.removeClass( baseClasses + \" \" + stateClasses + \" \" + typeClasses )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-pressed\" )\n\t\t\t.html( this.buttonElement.find(\".ui-button-text\").html() );\n\n\t\tif ( !this.hasTitle ) {\n\t\t\tthis.buttonElement.removeAttr( \"title\" );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"disabled\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.prop( \"disabled\", true );\n\t\t\t} else {\n\t\t\t\tthis.element.prop( \"disabled\", false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis._resetButton();\n\t},\n\n\trefresh: function() {\n\t\tvar isDisabled = this.element.is( \":disabled\" );\n\t\tif ( isDisabled !== this.options.disabled ) {\n\t\t\tthis._setOption( \"disabled\", isDisabled );\n\t\t}\n\t\tif ( this.type === \"radio\" ) {\n\t\t\tradioGroup( this.element[0] ).each(function() {\n\t\t\t\tif ( $( this ).is( \":checked\" ) ) {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ( this.type === \"checkbox\" ) {\n\t\t\tif ( this.element.is( \":checked\" ) ) {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t} else {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetButton: function() {\n\t\tif ( this.type === \"input\" ) {\n\t\t\tif ( this.options.label ) {\n\t\t\t\tthis.element.val( this.options.label );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar buttonElement = this.buttonElement.removeClass( typeClasses ),\n\t\t\tbuttonText = $( \"<span></span>\", this.document[0] )\n\t\t\t\t.addClass( \"ui-button-text\" )\n\t\t\t\t.html( this.options.label )\n\t\t\t\t.appendTo( buttonElement.empty() )\n\t\t\t\t.text(),\n\t\t\ticons = this.options.icons,\n\t\t\tmultipleIcons = icons.primary && icons.secondary,\n\t\t\tbuttonClasses = [];\n\n\t\tif ( icons.primary || icons.secondary ) {\n\t\t\tif ( this.options.text ) {\n\t\t\t\tbuttonClasses.push( \"ui-button-text-icon\" + ( multipleIcons ? \"s\" : ( icons.primary ? \"-primary\" : \"-secondary\" ) ) );\n\t\t\t}\n\n\t\t\tif ( icons.primary ) {\n\t\t\t\tbuttonElement.prepend( \"<span class='ui-button-icon-primary ui-icon \" + icons.primary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( icons.secondary ) {\n\t\t\t\tbuttonElement.append( \"<span class='ui-button-icon-secondary ui-icon \" + icons.secondary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( !this.options.text ) {\n\t\t\t\tbuttonClasses.push( multipleIcons ? \"ui-button-icons-only\" : \"ui-button-icon-only\" );\n\n\t\t\t\tif ( !this.hasTitle ) {\n\t\t\t\t\tbuttonElement.attr( \"title\", $.trim( buttonText ) );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tbuttonClasses.push( \"ui-button-text-only\" );\n\t\t}\n\t\tbuttonElement.addClass( buttonClasses.join( \" \" ) );\n\t}\n});\n\n$.widget( \"ui.buttonset\", {\n\tversion: \"@VERSION\",\n\toptions: {\n\t\titems: \"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)\"\n\t},\n\n\t_create: function() {\n\t\tthis.element.addClass( \"ui-buttonset\" );\n\t},\n\n\t_init: function() {\n\t\tthis.refresh();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.buttons.button( \"option\", key, value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\trefresh: function() {\n\t\tvar rtl = this.element.css( \"direction\" ) === \"rtl\";\n\n\t\tthis.buttons = this.element.find( this.options.items )\n\t\t\t.filter( \":ui-button\" )\n\t\t\t\t.button( \"refresh\" )\n\t\t\t.end()\n\t\t\t.not( \":ui-button\" )\n\t\t\t\t.button()\n\t\t\t.end()\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-all ui-corner-left ui-corner-right\" )\n\t\t\t\t.filter( \":first\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-right\" : \"ui-corner-left\" )\n\t\t\t\t.end()\n\t\t\t\t.filter( \":last\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-left\" : \"ui-corner-right\" )\n\t\t\t\t.end()\n\t\t\t.end();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeClass( \"ui-buttonset\" );\n\t\tthis.buttons\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-left ui-corner-right\" )\n\t\t\t.end()\n\t\t\t.button( \"destroy\" );\n\t}\n});\n\n\n"],"sourceRoot":""}