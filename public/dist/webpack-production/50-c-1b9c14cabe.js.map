{"version":3,"sources":["webpack:///./app/coffeescripts/models/Group.coffee","webpack:///./public/javascripts/translations/user.js","webpack:///./public/javascripts/dummyI18nResource.js?e471","webpack:///./app/coffeescripts/models/User.coffee","webpack:///./app/coffeescripts/collections/PaginatedCollection.coffee","webpack:///./public/javascripts/translations/GroupUserCollection.js","webpack:///./public/javascripts/dummyI18nResource.js?2298","webpack:///./app/coffeescripts/models/GroupUser.coffee","webpack:///./app/coffeescripts/collections/GroupUserCollection.coffee"],"names":["modelType","resourceName","initialize","attrs","options","newAndEmpty","users","initialUsers","_users","group","this","category","markInactiveStudents","on","set","length","usersCount","get","sync","method","model","url","urlFor","id","theLimit","isFull","limit","groupCategoryLimitMet","isLocked","toJSON","ENV","student_mode","name","json","Model","mergeI18nTranslations","JSON","parse","scoped","errorMap","blank","t","too_long","max","self_enrollment_code","invalid","already_enrolled","concluded","full","terms_of_use","accepted","enrollments","first","where","hasEnrollmentType","type","hasEnrollmentRole","role","findEnrollmentByRole","allEnrollmentsByType","allEnrollmentsByRole","pending","some","e","enrollment_state","inactive","every","sectionEditableEnrollments","select","capitalize","string","charAt","toUpperCase","substring","toLowerCase","nameRegex","linkRegex","pageRegex","perPageRegex","urls","fetch","clone","loadedAll","exclusionFlag","page","remove","data","reset","fetchOptions","trigger","xhr","dataFilter","_setStateAfterFetch","dfd","Deferred","done","response","text","next","arguments","loadAll","setTimeout","resolve","abort","success","error","fail","canFetch","_urlCache","urlIsNotCached","push","setBottom","firstRequest","atLeastOnePageFetched","setTop","oldUrls","_parsePageLinks","bottom","top","prev","perPage","parseInt","match","params","per_page","last","totalPages","linkHeader","split","reduce","links","link","key","val","Collection","previousGroup","previous","joinGroup","leaveGroup","ajaxJSON","user_id","moved","comparator","user","optionProperty","url_base","include","exclude","param","models","loaded","onChangeGroup","extend","defaults","load","target","removeUser","addUser","membershipsLocked","getUser","asset_string","replace","flashAlreadyInGroupError","add","increment","once","just_created","flashError","amount","groupUsersFor"],"mappings":"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","file":"50-c-1b9c14cabe.js","sourcesContent":["#\n# Copyright (C) 2011 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport Backbone from 'Backbone'\nimport GroupUserCollection from '../collections/GroupUserCollection'\n\nexport default class Group extends Backbone.Model\n  modelType: 'group'\n  resourceName: 'groups'\n\n  initialize: (attrs, options) ->\n    super\n    @newAndEmpty = options?.newAndEmpty\n\n  users: ->\n    initialUsers = if @newAndEmpty then [] else null\n    @_users = new GroupUserCollection initialUsers,\n      group: this\n      category: @collection?.category\n      markInactiveStudents: @collection?.options?.markInactiveStudents\n\n    @_users.on 'fetched:last', => @set('members_count', @_users.length)\n    @users = -> @_users\n    @_users\n\n  usersCount: ->\n    @get('members_count')\n\n  sync: (method, model, options = {}) ->\n    options.url = @urlFor(method)\n    Backbone.sync method, model, options\n\n  urlFor: (method) ->\n    if method is 'create'\n      \"/api/v1/group_categories/#{@get('group_category_id')}/groups\"\n    else\n      \"/api/v1/groups/#{@id}\"\n\n  theLimit: ->\n    max_membership = @get('max_membership')\n    max_membership or @collection?.category?.get('group_limit')\n\n  isFull: ->\n    limit = @get('max_membership')\n    (!limit and @groupCategoryLimitMet()) or (limit and @get('members_count') >= limit)\n\n  groupCategoryLimitMet: ->\n    limit = @collection?.category?.get('group_limit')\n    limit and @get('members_count') >= limit\n\n  isLocked: ->\n    @collection?.category?.isLocked()\n\n  toJSON: ->\n    if ENV.student_mode\n      {name: @get('name')}\n    else\n      json = super\n      json.isFull = @isFull()\n      json\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"تم إنهاء هذا المساق\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"أنت مسجل بالفعل في هذا المساق\\\",\\\"course_full\\\":\\\"هذا المساق مكتمل\\\",\\\"invalid_code\\\":\\\"كود غير صالح\\\",\\\"required\\\":\\\"مطلوب\\\",\\\"terms\\\":\\\"يجب أن توافق على الشروط\\\",\\\"too_long\\\":\\\"يتعذر تجاوز %{max} حرفًَا\\\"}}},\\\"cy\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Mae’r cwrs hwn wedi dod i ben\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Rydych chi wedi ymrestru’n barod ar y cwrs hwn\\\",\\\"course_full\\\":\\\"Mae’r cwrs hwn yn llawn\\\",\\\"invalid_code\\\":\\\"Cod annilys\\\",\\\"required\\\":\\\"Gofynnol\\\",\\\"terms\\\":\\\"Mae’n rhaid i chi gytuno â’r telerau\\\",\\\"too_long\\\":\\\"Ddim yn cael bod yn fwy na %{max} nod\\\"}}},\\\"da\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Dette fag er afsluttet\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du er allerede tilmeldt dette fag\\\",\\\"course_full\\\":\\\"Dette kursus er fyldt\\\",\\\"invalid_code\\\":\\\"Ugyldig kode\\\",\\\"required\\\":\\\"Påkrævet\\\",\\\"terms\\\":\\\"Du skal acceptere betingelserne\\\",\\\"too_long\\\":\\\"Kan ikke overskride %{max} tegn\\\"}}},\\\"da-x-k12\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Dette fag er afsluttet\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du er allerede tilmeldt dette fag\\\",\\\"course_full\\\":\\\"Dette fag er fyldt\\\",\\\"invalid_code\\\":\\\"Ugyldig kode\\\",\\\"required\\\":\\\"Påkrævet\\\",\\\"terms\\\":\\\"Du skal acceptere betingelserne\\\",\\\"too_long\\\":\\\"Kan ikke overskride %{max} tegn\\\"}}},\\\"de\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Dieser Kurs wurde abgeschlossen.\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Sie sind bereits für diesen Kurs eingeschrieben.\\\",\\\"course_full\\\":\\\"Dieser Kurs ist voll belegt.\\\",\\\"invalid_code\\\":\\\"Ungültiger Code\\\",\\\"required\\\":\\\"Erforderlich\\\",\\\"terms\\\":\\\"Sie müssen den Bedingungen zustimmen.\\\",\\\"too_long\\\":\\\"Darf %{max} Zeichen nicht überschreiten\\\"}}},\\\"el\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Είστε ήδη εγγεγραμένος/η σε αυτό το μάθημα\\\",\\\"course_full\\\":\\\"Το μάθημα είναι πλήρες\\\",\\\"invalid_code\\\":\\\"Μη έγκυρος κώδικας\\\",\\\"required\\\":\\\"Απαιτούμενο\\\",\\\"terms\\\":\\\"Πρέπει να συμφωνήσετε με αυτούς τους όρους\\\",\\\"too_long\\\":\\\"Δεν πρέπει να έχει παραπάνω από %{max} χαρακτήρες\\\"}}},\\\"en-AU\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"This course has concluded\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"You are already enrolled in this course\\\",\\\"course_full\\\":\\\"This course is full\\\",\\\"invalid_code\\\":\\\"Invalid code\\\",\\\"required\\\":\\\"Required\\\",\\\"terms\\\":\\\"You must agree to the terms\\\",\\\"too_long\\\":\\\"Can't exceed %{max} characters\\\"}}},\\\"en-CA\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"This course has concluded\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"You are already enrolled in this course\\\",\\\"course_full\\\":\\\"This course is full\\\",\\\"invalid_code\\\":\\\"Invalid code\\\",\\\"required\\\":\\\"Required\\\",\\\"terms\\\":\\\"You must agree to the terms\\\",\\\"too_long\\\":\\\"Can't exceed %{max} characters\\\"}}},\\\"en-GB\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"This course has concluded\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"You are already enrolled in this course\\\",\\\"course_full\\\":\\\"This course is full\\\",\\\"invalid_code\\\":\\\"Invalid code\\\",\\\"required\\\":\\\"Required\\\",\\\"terms\\\":\\\"You must agree to the terms\\\",\\\"too_long\\\":\\\"Can't exceed %{max} characters\\\"}}},\\\"es\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Este curso finalizó\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Ya está inscrito en este curso\\\",\\\"course_full\\\":\\\"Este curso está lleno\\\",\\\"invalid_code\\\":\\\"Código inválido\\\",\\\"required\\\":\\\"Obligatorio\\\",\\\"terms\\\":\\\"Debe aceptar estos términos\\\",\\\"too_long\\\":\\\"No puede superar los %{max} caracteres\\\"}}},\\\"fa\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"شما در حال حاضر در این درس ثبت نام شده اید\\\",\\\"course_full\\\":\\\"ظرفیت این درس تکمیل شده است\\\",\\\"invalid_code\\\":\\\"رمز معتبر نیست\\\",\\\"required\\\":\\\"لازم\\\",\\\"terms\\\":\\\"باید ضوابط را بپذیرید\\\",\\\"too_long\\\":\\\"نمی تواند از %{max} نویسه فراتر رود\\\"}}},\\\"fi\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Tämä kurssi on viety loppuun\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Olet jo ilmoittautunut tälle kurssille\\\",\\\"course_full\\\":\\\"Tämä kurssi on täysi\\\",\\\"invalid_code\\\":\\\"Koodi ei kelpaa\\\",\\\"required\\\":\\\"Pakollinen\\\",\\\"terms\\\":\\\"Sinun täytyy hyväksyä ehdot\\\",\\\"too_long\\\":\\\"Ei voi ylittää %{max} merkkiä\\\"}}},\\\"fr\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Ce cours est terminé\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Vous êtes déjà inscrit à ce cours.\\\",\\\"course_full\\\":\\\"Ce cours est complet.\\\",\\\"invalid_code\\\":\\\"Code erroné\\\",\\\"required\\\":\\\"Requis\\\",\\\"terms\\\":\\\"Vous devez accepter les conditions.\\\",\\\"too_long\\\":\\\"Ne doit pas dépasser %{max} caractères\\\"}}},\\\"fr-CA\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Ce cours est terminé\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Vous êtes déjà inscrit à ce cours.\\\",\\\"course_full\\\":\\\"Ce cours est complet.\\\",\\\"invalid_code\\\":\\\"Code erroné\\\",\\\"required\\\":\\\"Requis\\\",\\\"terms\\\":\\\"Vous devez accepter les conditions.\\\",\\\"too_long\\\":\\\"Ne doit pas dépasser %{max} caractères\\\"}}},\\\"he\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"כבר נרשמת לקורס זה\\\",\\\"course_full\\\":\\\"קורס זה התמלא\\\",\\\"invalid_code\\\":\\\"קוד שגוי\\\",\\\"required\\\":\\\"נדרש\\\",\\\"terms\\\":\\\"חובה להסכים לתנאים\\\",\\\"too_long\\\":\\\"מספר התוים המכסימלי: %{max} \\\"}}},\\\"ht\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Kou sa a fini.\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Ou enskri nan kou sa a deja\\\",\\\"course_full\\\":\\\"Kou sa a plen\\\",\\\"invalid_code\\\":\\\"Kòd envalid\\\",\\\"required\\\":\\\"Obligatwa\\\",\\\"terms\\\":\\\"Ou dwe dakò ak kondisyon yo\\\",\\\"too_long\\\":\\\"Pa kapab depase %{max} karaktè\\\"}}},\\\"hu\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Ön már beiratkozott ebbe a kurzusba\\\",\\\"course_full\\\":\\\"Ez a kurzus megtelt\\\",\\\"invalid_code\\\":\\\"Érvénytelen kód\\\",\\\"required\\\":\\\"Kötelező\\\",\\\"terms\\\":\\\"Fogadja el a feltételeket\\\",\\\"too_long\\\":\\\"Nem lehet több, mint %{max} karakter\\\"}}},\\\"hy\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Դուք արդեն գրանցված եք դասընթացում\\\",\\\"course_full\\\":\\\"Դասընթացի ուսանողների թիվը համալրված է\\\",\\\"invalid_code\\\":\\\"Սխալ կոդ\\\",\\\"required\\\":\\\"Պահանջվում է\\\",\\\"terms\\\":\\\"Դուք պետք է համաձայնեք պայմաններին\\\",\\\"too_long\\\":\\\"Նշանների թիվը չի կարող գերազանցել %{max} \\\"}}},\\\"is\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Þessu námskeiði er lokið\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Þú ert þegar innrituð/innritaður á þetta námskeið\\\",\\\"course_full\\\":\\\"Námskeiðið er fullt\\\",\\\"invalid_code\\\":\\\"Ógildur kóði\\\",\\\"required\\\":\\\"Krafist\\\",\\\"terms\\\":\\\"Þú verður að samþykkja skilmálana\\\",\\\"too_long\\\":\\\"Má ekki fara yfir %{max} stafi\\\"}}},\\\"it\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Questo corso è terminato\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Sei già iscritto a questo corso\\\",\\\"course_full\\\":\\\"Questo corso è pieno\\\",\\\"invalid_code\\\":\\\"Codice non valido\\\",\\\"required\\\":\\\"Obbligatorio\\\",\\\"terms\\\":\\\"Devi accettare i termini\\\",\\\"too_long\\\":\\\"Non può superare %{max} caratteri\\\"}}},\\\"ja\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"このコースは終了しました\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"このコースには既に登録されています\\\",\\\"course_full\\\":\\\"このコースには空きがありません\\\",\\\"invalid_code\\\":\\\"無効なコード\\\",\\\"required\\\":\\\"必須\\\",\\\"terms\\\":\\\"利用規約に同意する必要があります\\\",\\\"too_long\\\":\\\"%{max} 文字以内にしてください\\\"}}},\\\"ko\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"이 과목에 이미 등록함\\\",\\\"course_full\\\":\\\"이 과목은 만원임\\\",\\\"invalid_code\\\":\\\"유효하지 않은 코드\\\",\\\"required\\\":\\\"필수\\\",\\\"terms\\\":\\\"조건에 동의해야 합니다.\\\",\\\"too_long\\\":\\\"%{max}글자를 초과할 수 없습니다.\\\"}}},\\\"mi\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Kua mutu tēnei akoranga\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Kua whakauru kē koe i roto i tēnei akoranga\\\",\\\"course_full\\\":\\\"Ko te ki tonu i tēnei akoranga\\\",\\\"invalid_code\\\":\\\"waehere muhu\\\",\\\"required\\\":\\\"e hiahiatia ana\\\",\\\"terms\\\":\\\"Me whakāe koe ki te ngā\\\",\\\"too_long\\\":\\\"Kāore e taea te nui %{max} pūāhua\\\"}}},\\\"nb\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Dette emnet er avsluttet\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du er allerede registrert på dette emnet\\\",\\\"course_full\\\":\\\"Dette emnet er fullt\\\",\\\"invalid_code\\\":\\\"Ugyldig kode\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"terms\\\":\\\"Du må si deg enig i vilkårene\\\",\\\"too_long\\\":\\\"Kan ikke overstige %{max} tegn\\\"}}},\\\"nb-x-k12\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Faget er avsluttet\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du er allerede registrert på dette faget\\\",\\\"course_full\\\":\\\"Dette faget er fullt\\\",\\\"invalid_code\\\":\\\"Ugyldig kode\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"terms\\\":\\\"Du må si deg enig i vilkårene\\\",\\\"too_long\\\":\\\"Kan ikke overstige %{max} tegn\\\"}}},\\\"nl\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Deze cursus is beëindigd\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Je bent al voor deze cursus ingeschreven\\\",\\\"course_full\\\":\\\"Deze cursus zit vol\\\",\\\"invalid_code\\\":\\\"Ongeldige code\\\",\\\"required\\\":\\\"Vereist\\\",\\\"terms\\\":\\\"Je moet akkoord gaan met de gebruiksvoorwaarden\\\",\\\"too_long\\\":\\\"Mag maximum van %{max} tekens niet overschrijden.\\\"}}},\\\"nn\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Emnet er avslutta\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du er allereie påmeld til dette emnet\\\",\\\"course_full\\\":\\\"Dette emnet er fullt\\\",\\\"invalid_code\\\":\\\"Ugyldig kode\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"terms\\\":\\\"Du må godta vilkåra\\\",\\\"too_long\\\":\\\"Kan ikkje overskride %{max} teikn\\\"}}},\\\"pl\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Ten kurs został zakończony\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Jesteś już zapisany/-a na ten kurs\\\",\\\"course_full\\\":\\\"Ten kurs jest pełny\\\",\\\"invalid_code\\\":\\\"Nieprawidłowy kod\\\",\\\"required\\\":\\\"Wymagany\\\",\\\"terms\\\":\\\"Musisz się zgodzić na warunki\\\",\\\"too_long\\\":\\\"Nie możesz przekroczyć %{max} znaków\\\"}}},\\\"pt\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Esta disciplina concluiu\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Já está inscrito nesta disciplina\\\",\\\"course_full\\\":\\\"Esta disciplina está cheia\\\",\\\"invalid_code\\\":\\\"Código inválido\\\",\\\"required\\\":\\\"Necessário\\\",\\\"terms\\\":\\\"Tem de aceitar os termos\\\",\\\"too_long\\\":\\\"Não pode exceder %{max} caracteres\\\"}}},\\\"pt-BR\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Esse curso foi concluído\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Você já está matriculado neste curso\\\",\\\"course_full\\\":\\\"As vagas deste curso estão preenchidas\\\",\\\"invalid_code\\\":\\\"Código inválido\\\",\\\"required\\\":\\\"Obrigatório\\\",\\\"terms\\\":\\\"Você deve concordar com os termos\\\",\\\"too_long\\\":\\\"Não pode exceder %{max} caracteres\\\"}}},\\\"ru\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Этот курс завершен\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Вы уже зарегистрированы на данном курсе\\\",\\\"course_full\\\":\\\"Группа для данного курса набрана\\\",\\\"invalid_code\\\":\\\"Неверный код\\\",\\\"required\\\":\\\"Требуется\\\",\\\"terms\\\":\\\"Вы должны согласиться с условиями\\\",\\\"too_long\\\":\\\"Не может превышать %{max} символов\\\"}}},\\\"sl\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Ta predmet se je zaključil.\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"V ta predmet ste že vpisani.\\\",\\\"course_full\\\":\\\"Ta predmet je poln.\\\",\\\"invalid_code\\\":\\\"Neveljavna koda\\\",\\\"required\\\":\\\"Zahtevano\\\",\\\"terms\\\":\\\"Strinjati se morate s pogoji.\\\",\\\"too_long\\\":\\\"Ni mogoče preseči %{max} znakov.\\\"}}},\\\"sv\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Kursen har avslutats\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du är redan registrerad i den här kursen\\\",\\\"course_full\\\":\\\"Kursen är full\\\",\\\"invalid_code\\\":\\\"Ogiltig kod\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"terms\\\":\\\"Du måste godkänna villkoren\\\",\\\"too_long\\\":\\\"Får inte överskrida %{max} tecken\\\"}}},\\\"sv-x-k12\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"Kursen har avslutats\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Du är redan registrerad i den här kursen\\\",\\\"course_full\\\":\\\"Kursen är full\\\",\\\"invalid_code\\\":\\\"Ogiltig kod\\\",\\\"required\\\":\\\"Obligatorisk\\\",\\\"terms\\\":\\\"Du måste godkänna villkoren\\\",\\\"too_long\\\":\\\"Får inte överskrida %{max} tecken\\\"}}},\\\"tr\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Bu derse zaten kayıtlısınız\\\",\\\"course_full\\\":\\\"Bu ders dolu\\\",\\\"invalid_code\\\":\\\"Geçersiz kod\\\",\\\"required\\\":\\\"Zorunlu\\\",\\\"terms\\\":\\\"Şarları kabul etmelisiniz\\\",\\\"too_long\\\":\\\"%{max} karakteri aşamazsınız\\\"}}},\\\"uk\\\":{\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"Ви вже зараховані на цей курс\\\",\\\"course_full\\\":\\\"Цей курс заповнений\\\",\\\"invalid_code\\\":\\\"Невірний код\\\",\\\"required\\\":\\\"Обов'язковий\\\",\\\"terms\\\":\\\"Ви повинні погодитися з умовами\\\",\\\"too_long\\\":\\\"Не можна перевищувати %{max} символів\\\"}}},\\\"zh-Hans\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"此课程已结束\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"您已经登记此课程\\\",\\\"course_full\\\":\\\"此课程名额已满\\\",\\\"invalid_code\\\":\\\"无效的代码\\\",\\\"required\\\":\\\"需要\\\",\\\"terms\\\":\\\"您必须同意这些条款\\\",\\\"too_long\\\":\\\"不能超过 %{max} 个字符\\\"}}},\\\"zh-Hant\\\":{\\\"this_course_has_concluded_7995a84c\\\":\\\"此課程已結束\\\",\\\"user\\\":{\\\"errors\\\":{\\\"already_enrolled\\\":\\\"您已註冊此課程\\\",\\\"course_full\\\":\\\"此課程已滿\\\",\\\"invalid_code\\\":\\\"無效的代碼\\\",\\\"required\\\":\\\"必填\\\",\\\"terms\\\":\\\"您必須同意這些條款\\\",\\\"too_long\\\":\\\"不能超過 %{max} 個字元\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user');\n  ","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport I18n from 'i18n!user'\nimport _ from 'underscore'\nimport Backbone from 'Backbone'\n\nexport default class User extends Backbone.Model\n  modelType: 'user'\n  resourceName: 'users'\n\n  errorMap:\n    name:\n      blank:        I18n.t(\"errors.required\", \"Required\")\n      too_long:     I18n.t(\"errors.too_long\", \"Can't exceed %{max} characters\", {max: 255})\n    self_enrollment_code:\n      blank:        I18n.t(\"errors.required\", \"Required\")\n      invalid:      I18n.t(\"errors.invalid_code\", \"Invalid code\")\n      already_enrolled: I18n.t(\"errors.already_enrolled\", \"You are already enrolled in this course\")\n      concluded:    I18n.t(\"This course has concluded\")\n      full:         I18n.t(\"errors.course_full\", \"This course is full\")\n    terms_of_use:\n      accepted:     I18n.t(\"errors.terms\", \"You must agree to the terms\")\n\n  # first: optional boolean to return only the first match\n  enrollments: (attrs, first) ->\n    _.where @get('enrollments'), attrs, first\n\n  hasEnrollmentType: (type) ->\n    !! @enrollments {type}, true\n\n  hasEnrollmentRole: (role) ->\n    !! @enrollments {role}, true\n\n  findEnrollmentByRole: (role) ->\n    @enrollments {role}, true\n\n  allEnrollmentsByType: (type) ->\n    @enrollments {type}\n\n  allEnrollmentsByRole: (role) ->\n    @enrollments {role}\n\n  pending: (role) ->\n    _.some @get('enrollments'), (e) -> e.role == role && e.enrollment_state in ['creation_pending', 'invited']\n\n  inactive: ->\n    _.every @get('enrollments'), (e) -> e.enrollment_state == 'inactive'\n\n  sectionEditableEnrollments: ->\n    _.select @get('enrollments'), (e) -> e.type != 'ObserverEnrollment'\n\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport Backbone from 'Backbone'\nimport _ from 'underscore'\n\ncapitalize = (string = '') ->\n  string.charAt(0).toUpperCase() + string.substring(1).toLowerCase()\n\nexport default class PaginatedCollection extends Backbone.Collection\n\n  # Matches the name of each link: \"current\", \"next,\" \"prev,\" \"first,\" or \"last.\"\n  nameRegex: /rel=\"([a-z]+)/\n\n  # Matches the full link, e.g. \"/api/v1/accounts/1/users?page=1&per_page=15\"\n  linkRegex: /^<([^>]+)/\n\n  pageRegex: /\\Wpage=(\\d+)/\n\n  perPageRegex: /\\Wper_page=(\\d+)/\n\n  initialize: ->\n    super\n    @urls = {}\n\n  ##\n  # options.page: 'current', 'next', 'prev', 'first', 'last', 'top', 'bottom'\n  fetch: (options = {}) ->\n    options = _.clone(options)\n    @loadedAll = false\n    exclusionFlag = \"fetching#{capitalize options.page}Page\"\n    @[exclusionFlag] = true\n\n    if options.page?\n      options.remove = false unless options.remove?\n      if @urls?[options.page]\n        options.url = @urls[options.page]\n        # API keeps params intact, kill data if we're using a\n        # pagination url to avoid appending in super\n        options.data = ''\n    else\n      # we want the first fetch to reset (since a lot of existing code wants a reset event)\n      options.reset = true unless options.reset?\n\n    if options.fetchOptions?\n      options.data = options.fetchOptions\n\n    @trigger 'beforeFetch', this, options\n    @trigger \"beforeFetch:#{options.page}\", this, options if options.page?\n\n    # have to do this stuff here or else 'reset' and other events are fired\n    # before _setStateAfterFetch has happened, so the state is just barely off\n    xhr = null\n    options.dataFilter = (data) =>\n      @[exclusionFlag] = false\n      @_setStateAfterFetch(xhr, options)\n      data\n\n    dfd = options.dfd || $.Deferred()\n    xhr = super(options).done (response, text, xhr) =>\n      @trigger 'fetch', this, response, options\n      @trigger \"fetch:#{options.page}\", this, response, options if options.page?\n      unless @urls?.next\n        @trigger 'fetched:last', arguments...\n      if @loadAll and @urls.next?\n        setTimeout =>\n          @fetch page: 'next', dfd: dfd # next tick so we can show loading indicator, etc.\n      else\n        dfd.resolve(response, text, xhr)\n    dfd.abort = xhr.abort\n    dfd.success = dfd.done\n    dfd.error = dfd.fail\n    dfd\n\n  canFetch: (page) ->\n    @urls? and @urls[page]?\n\n  _setStateAfterFetch: (xhr, options) =>\n    @_urlCache ?= []\n    urlIsNotCached = options.url not in @_urlCache\n    @_urlCache.push options.url unless urlIsNotCached\n    firstRequest = !@atLeastOnePageFetched\n    setBottom = firstRequest or (options.page in ['next', 'bottom'] and urlIsNotCached)\n    setTop = firstRequest or (options.page in ['prev', 'top'] and urlIsNotCached)\n    oldUrls = @urls\n    @urls = @_parsePageLinks xhr\n\n    if setBottom and @urls.next?\n      @urls.bottom = @urls.next\n    else if !@urls.next\n      delete @urls.bottom\n    else\n      @urls.bottom = oldUrls.bottom\n\n    if setTop and @urls.prev?\n      @urls.top = @urls.prev\n    else if !@urls.prev\n      delete @urls.top\n    else\n      @urls.top = oldUrls.top\n\n    url = @urls.first ? @urls.next\n    if url?\n      perPage = parseInt(url.match(@perPageRegex)[1], 10)\n      ((@options ?= {}).params ?= {}).per_page = perPage\n\n    if @urls.last and match = @urls.last.match(@pageRegex)\n      @totalPages = parseInt(match[1], 10)\n\n    unless @urls?.next\n      @loadedAll = true\n\n    @atLeastOnePageFetched = true\n\n  _parsePageLinks: (xhr) ->\n    linkHeader = xhr.getResponseHeader('link')?.split(',')\n    linkHeader ?= []\n    _.reduce linkHeader, (links, link) =>\n      key = link.match(@nameRegex)[1]\n      val = link.match(@linkRegex)[1]\n      links[key] = val\n      links\n    , {}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"تحذير: %{user} هو عضو بالفعل في %{group}\\\"}}},\\\"cy\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"RHYBUDD: %{user} eisoes yn aelod o %{group}\\\"}}},\\\"da\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ADVARSEL: %{user} er allerede medlem af %{group}\\\"}}},\\\"da-x-k12\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ADVARSEL: %{user} er allerede medlem af %{group}\\\"}}},\\\"de\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ACHTUNG: %{user} ist bereits Mitglied von %{group}\\\"}}},\\\"el\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ΕΙΔΟΠΟΙΗΣΗ: Ο/Η %{user} είναι ήδη μέλος της ομάδας %{group}\\\"}}},\\\"en-AU\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"WARNING: %{user} is already a member of %{group}\\\"}}},\\\"en-CA\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"WARNING: %{user} is already a member of %{group}\\\"}}},\\\"en-GB\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"WARNING: %{user} is already a member of %{group}\\\"}}},\\\"es\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ADVERTENCIA: %{user} ya es miembro de %{group}\\\"}}},\\\"fa\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"هشدار: %{user} اکنون عضو %{group} است\\\"}}},\\\"fi\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"VAROITUS: %{user} on jo %{group} jäsen\\\"}}},\\\"fr\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"AVERTISSEMENT : %{user} est déjà un membre du groupe %{group}\\\"}}},\\\"fr-CA\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"AVERTISSEMENT : %{user} est déjà un membre du groupe %{group}\\\"}}},\\\"he\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"התראה: המשתמש %{user} הינו כבר חבר ב %{group}\\\"}}},\\\"ht\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ATANSYON: %{user} gentan manm %{group}\\\"}}},\\\"hu\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"FIGYELEM! %{user} már tagja a %{group} csoportnak\\\"}}},\\\"hy\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ՆԱԽԱԶԳՈՒՇԱՑՈՒՄ. %{user}ը արդեն %{group} խմբի անդամ է\\\"}}},\\\"is\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"Viðvörun: %{user} er nú þegar meðlimur í  %{group}\\\"}}},\\\"it\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"AVVISO: %{user} è già membro di %{group}\\\"}}},\\\"ja\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"警告: %{user} は既に %{group} のメンバーです\\\"}}},\\\"ko\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"경고: %{user} 는 이미 %{group}의 멤버입니다.\\\"}}},\\\"mi\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"KIA MATĀRA: Kua hono kē a %{user} ki a %{group}\\\"}}},\\\"nb\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ADVARSEL: %{user} er allerede medlem av %{group}\\\"}}},\\\"nb-x-k12\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ADVARSEL: %{user} er allerede medlem av %{group}\\\"}}},\\\"nl\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"WAARSCHUWING: %{user}is al lid van %{group}\\\"}}},\\\"nn\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"Åtvaring: %{user} er allereie medlem av %{group}\\\"}}},\\\"pl\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"OSTRZEŻENIE: użytkownik %{user} jest już członkiem grupy %{group}\\\"}}},\\\"pt\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"AVISO: %{user} já é um membro de %{group}\\\"}}},\\\"pt-BR\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ATENÇÃO: %{user} já é um membro de %{group}\\\"}}},\\\"ru\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ПРЕДУПРЕЖДЕНИЕ. %{user} уже является членом %{group}\\\"}}},\\\"sl\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"OPOZORILO: %{user} je že član %{group}\\\"}}},\\\"sv\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"VARNING! %{user} är redan medlem i %{group}\\\"}}},\\\"sv-x-k12\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"VARNING! %{user} är redan medlem i %{group}\\\"}}},\\\"tr\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"UYARI: %{user}, zaten %{group}'ın bir üyesi\\\"}}},\\\"uk\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"ПОПЕРЕДЖЕННЯ: %{user} вже є членом %{group}\\\"}}},\\\"zh-Hans\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"警告： %{user} 已经是 %{group} 的成员\\\"}}},\\\"zh-Hant\\\":{\\\"GroupUserCollection\\\":{\\\"flash\\\":{\\\"userAlreadyInGroup\\\":\\\"警告：%{user}已經是%{group}的成員\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/GroupUserCollection';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('GroupUserCollection');\n  ","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport User from './User'\nimport 'jquery.ajaxJSON'\n\nexport default class GroupUser extends User\n\n  ##\n  # janky sync override cuz we don't have the luxury of (ember data || backbone-relational)\n  sync: (method, model, options) =>\n    group = @get('group')\n    previousGroup = @previous('group')\n    # return unless changing group\n    return if group is previousGroup\n    # if the user is joining another group\n    if group?\n      @joinGroup(group)\n    # if the user is being removed from a group, or is being moved to\n    # another group AND the category allows multiple memberships (in\n    # which case rails won't delete the old membership, so we have to)\n    if previousGroup and (not group? or @get('category').get('allows_multiple_memberships'))\n      @leaveGroup(previousGroup)\n\n  # creating membership will delete pre-existing membership in same group category\n  joinGroup: (group) ->\n    $.ajaxJSON \"/api/v1/groups/#{group.id}/memberships\", 'POST', {user_id: @get('id')},\n      (data) => @trigger('ajaxJoinGroupSuccess', data)\n\n  leaveGroup: (group) ->\n    $.ajaxJSON \"/api/v1/groups/#{group.id}/users/#{@get('id')}\", 'DELETE'\n\n  # e.g. so the view can give the user an indication of what happened\n  # once everything is done\n  moved: =>\n    @trigger 'moved', this\n","#\n# Copyright (C) 2013 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport I18n from 'i18n!GroupUserCollection'\nimport $ from 'jquery'\nimport PaginatedCollection from '../collections/PaginatedCollection'\nimport GroupUser from '../models/GroupUser'\nimport h from 'str/htmlEscape'\n\nexport default class GroupUserCollection extends PaginatedCollection\n\n  comparator: (user) -> user.get('sortable_name').toLowerCase()\n\n  @optionProperty 'group'\n  @optionProperty 'category'\n  @optionProperty 'markInactiveStudents'\n\n  url: ->\n    url_base = \"/api/v1/groups/#{@group.id}/users?\"\n    params = {\n      per_page: 50\n      include: ['sections', 'group_submissions']\n      exclude: ['pseudonym']\n    }\n\n    if @markInactiveStudents\n      params.include.push('active_status')\n\n    url_base + $.param(params)\n\n  initialize: (models) ->\n    super\n    @loaded = @loadedAll = models?\n    @on 'change:group', @onChangeGroup\n    @model = GroupUser.extend defaults: {group: @group, @category}\n\n  load: (target = 'all') ->\n    @loadAll = target is 'all'\n    @loaded = true\n    @fetch() if target isnt 'none'\n    @load = ->\n\n  onChangeGroup: (model, group) =>\n    @removeUser model\n    @groupUsersFor(group)?.addUser model\n\n  membershipsLocked: ->\n    false\n\n  getUser: (asset_string) ->\n    @get(asset_string.replace(\"user_\", \"\"))\n\n  addUser: (user) ->\n    if @membershipsLocked()\n      @get(user)?.moved()\n      return\n\n    if @loaded\n      if @get(user)\n        @flashAlreadyInGroupError user\n      else\n        @add user\n        @increment 1\n      user.moved()\n    else\n      user.once 'ajaxJoinGroupSuccess', (data) =>\n        return if data.just_created\n        # uh oh, we already had this user -- undo the increment and flash an error.\n        @increment -1\n        @flashAlreadyInGroupError user\n      @increment 1\n\n  flashAlreadyInGroupError: (user) ->\n    $.flashError I18n.t 'flash.userAlreadyInGroup',\n      \"WARNING: %{user} is already a member of %{group}\",\n      user: h(user.get('name'))\n      group: h(@group.get('name'))\n\n  removeUser: (user) ->\n    return if @membershipsLocked()\n    @increment -1\n    @group.set('leader', null) if @group?.get('leader')?.id == user.id\n    @remove user if @loaded\n\n  increment: (amount) ->\n    @group.increment 'members_count', amount\n\n  groupUsersFor: (group) ->\n    @category?.groupUsersFor(group)\n"],"sourceRoot":""}