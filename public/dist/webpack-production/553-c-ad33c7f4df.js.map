{"version":3,"sources":["webpack:///./public/javascripts/translations/assignments_2_elide_string.js","webpack:///./public/javascripts/dummyI18nResource.js?66c3","webpack:///./app/jsx/shared/helpers/elideString.js","webpack:///./node_modules/@instructure/ui-forms/es/FileDrop/utils/accepts.js","webpack:///./node_modules/@instructure/ui-forms/es/FileDrop/utils/getEventFiles.js","webpack:///./node_modules/@instructure/ui-forms/es/FileDrop/index.js","webpack:///./node_modules/@instructure/ui-forms/es/FileDrop/theme.js","webpack:///./app/jsx/assignments_2/student/components/AttemptType/FileUpload.js","webpack:///./node_modules/@instructure/ui-icons/es/IconTrashLine.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","elideString","title","length","substr","I18n","t","accepts","file","acceptProp","type","acceptList","getAcceptList","mimeType","baseMimeType","replace","some","charAt","name","toLowerCase","endsWith","slice","test","accept","Array","isArray","split","map","a","trim","getEventFiles","event","inputEl","dt","dataTransfer","files","items","_class","_class2","_temp","generator","_ref","borders","colors","backgroundColor","backgroundLightest","borderRadius","radiusLarge","borderWidth","widthMedium","borderStyle","borderColor","borderMedium","hoverBorderColor","borderBrand","focusBorderWidth","focusBorderStyle","focusBorderColor","acceptedColor","textBrand","rejectedColor","textDanger","disabledColor","alpha","canvas","variables","styles","componentId","template","theme","concat","IS_MS","result","document","documentMode","isEdge","e","isBrowserMS","deprecated","_dec","testable","_dec2","_dec3","_Component","FileDrop","props","_this","this","call","state","isDragAccepted","isDragRejected","isFocused","isFileBrowserDisplayed","enterCounter","fileInputEl","defaultId","handleDragEnter","preventDefault","allFilesAccepted","getDataTransferItems","setState","onDragEnter","handleDragOver","stopPropagation","dropEffect","err","onDragOver","handleDragLeave","onDragLeave","handleChange","_this$props","onDrop","onDropAccepted","onDropRejected","enablePreview","fileList","_this$parseFiles","parseFiles","_this$parseFiles2","acceptedFiles","rejectedFiles","fileAccepted","handleRef","el","handleBlur","handleFocus","handleClick","value","allowRepeatFileSelection","focus","onClick","handleKeyDown","keyCode","codes","space","enter","click","handleKeyUp","esc","nativeEvent","stopImmediatePropagation","uid","messagesId","key","list","from","allowMultiple","Object","assign","preview","window","URL","createObjectURL","_this2","forEach","fileMatchSize","push","size","maxSize","minSize","every","join","_this$props2","label","interaction","disabled","readOnly","Label","createElement","_classes","_this$props3","id","functionallyDisabled","classes","visuallyDisabled","dragRejected","invalid","dragAccepted","focused","propTypes","className","root","htmlFor","labelContent","layout","renderLabel","input","ref","onFocus","onBlur","onKeyDown","onKeyUp","multiple","acceptStr","onChange","hasMessages","View","display","margin","messages","get","findIndex","message","displayName","string","oneOfType","func","node","isRequired","arrayOf","bool","number","oneOf","defaultProps","Infinity","FileUpload","Component","filesToUpload","_isMounted","getDraftAttachments","submission","submissionDraft","attachments","handleLTIFiles","async","data","messageType","errormsg","context","setOnFailure","handleDropAccepted","content_items","handleCanvasFiles","fileID","updateUploadingFiles","createSubmissionDraft","i","url","isLoading","_id","setOnSuccess","newFiles","uploadFiles","assignment","env","courseId","currentUser","handleDropRejected","text","wrappedFunc","activeSubmissionType","attempt","fileIds","fileIDs","handleRemoveFile","fileId","parseInt","currentTarget","fileIndex","updatedFiles","filter","_","focusElement","getElementById","shouldRenderFiles","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","renderUploadBox","data-testid","direction","Item","overflowY","allowedExtensions","heading","hero","DEFAULT_ICON","fileTypes","ext","toUpperCase","padding","textAlign","assignmentID","courseID","renderCanvasFiles","userID","renderUploadedFile","headingLevel","getFileThumbnail","aria-hidden","icon","IconTrashLine","filename","renderUploadBoxAndUploadedFiles","firstFileRow","nextFileRows","chunk","Row","Col","width","vAlign","row","render","style","marginBottom","spacing","xxLarge","contextType","AlertManagerContext","d","fillRule","stroke","strokeWidth","apply","arguments","viewBox","glyphName","variant"],"mappings":"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","file":"553-c-ad33c7f4df.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"cy\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"da\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"da-x-k12\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"de\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"el\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"en-AU\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"en-CA\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"en-GB\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"es\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"fa\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"fi\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"fr\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"fr-CA\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"he\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"ht\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"hu\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"hy\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"is\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"it\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"ja\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"ko\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"mi\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"nb\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"nb-x-k12\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"nl\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"nn\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"pl\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"pt\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"pt-BR\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"ru\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"sv\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"sv-x-k12\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"tr\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"zh-Hans\\\":{\\\"_5a374287\\\":\\\"...\\\"},\\\"zh-Hant\\\":{\\\"_5a374287\\\":\\\"...\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/assignments_2_elide_string';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('assignments_2_elide_string');\n  ","/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!assignments_2_elide_string'\n\nconst elideString = title => {\n  if (title.length > 21) {\n    return `${title.substr(0, 9)}${I18n.t('...')}${title.substr(-9)}`\n  } else {\n    return title\n  }\n}\n\nexport default elideString\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nfunction accepts(file, acceptProp) {\n  if (file && acceptProp && file.type !== 'application/x-moz-file') {\n    var acceptList = getAcceptList(acceptProp);\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptList.some(function (type) {\n      if (type.charAt(0) === '.') {\n        // type is an extension like .pdf\n        if (!file.name) {\n          return mimeType.endsWith(type.slice(1));\n        }\n\n        return file.name.toLowerCase().endsWith(type.toLowerCase());\n      } else if (/\\/\\*$/.test(type)) {\n        // type is something like a image/* mime type\n        return baseMimeType === type.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === type;\n    });\n  }\n\n  return true;\n}\n\nfunction getAcceptList(accept) {\n  var list = Array.isArray(accept) ? accept : accept.split(',');\n  return list.map(function (a) {\n    return a.trim().replace(/^\\w+$/, '.$&');\n  });\n}\n\nexport default accepts;\nexport { accepts, getAcceptList };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nfunction getEventFiles(event, inputEl) {\n  var dt = event.dataTransfer;\n\n  if (dt) {\n    if (dt.files && dt.files.length) {\n      return dt.files;\n    } else if (dt.items && dt.items.length) {\n      return dt.items;\n    }\n  } else if (inputEl && inputEl.files) {\n    return inputEl.files;\n  }\n\n  return [];\n}\n\nexport default getEventFiles;\nexport { getEventFiles };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { FormPropTypes, FormFieldMessages } from '@instructure/ui-form-field';\nimport { View } from '@instructure/ui-view';\nimport { uid } from '@instructure/uid';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { deprecated, omitProps } from '@instructure/ui-react-utils';\nimport { isEdge } from '@instructure/ui-utils';\nimport { accepts, getAcceptList } from './utils/accepts';\nimport { getEventFiles } from './utils/getEventFiles';\nvar styles = {\n  componentId: 'cDEpT',\n  template: function template(theme) {\n    return \"\\n\\n.cDEpT_blJt,.cDEpT_bGBk{position:relative}\\n\\n.cDEpT_blJt{box-sizing:border-box;display:block}\\n\\n.cDEpT_cwos{border:0;clip:rect(0 0 0 0);height:0.0625rem;margin:-0.0625rem;overflow:hidden;padding:0;position:absolute;width:0.0625rem}\\n\\n.cDEpT_QUBp{border:\".concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;cursor:pointer;display:block;position:relative;text-align:center;z-index:1}\\n\\n[dir=ltr] .cDEpT_QUBp,[dir=rtl] .cDEpT_QUBp{text-align:center}\\n\\n.cDEpT_QUBp:hover{border-color:\").concat(theme.hoverBorderColor || 'inherit', \"}\\n\\n.cDEpT_QUBp:before{border:\").concat(theme.focusBorderWidth || 'inherit', \" \").concat(theme.focusBorderStyle || 'inherit', \" \").concat(theme.focusBorderColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.375rem;content:\\\"\\\";left:-0.375rem;opacity:0;pointer-events:none;position:absolute;right:-0.375rem;top:-0.375rem;transform:scale(0.9);transition:all 0.2s}\\n\\n.cDEpT_byIz{border-radius:\").concat(theme.borderRadius || 'inherit', \";display:block;overflow:hidden}\\n\\n.cDEpT_cVYB .cDEpT_QUBp:before{opacity:1;transform:scale(1)}\\n\\n.cDEpT_cbYS.cDEpT_cVYB .cDEpT_QUBp:before,.cDEpT_cbYS .cDEpT_QUBp{border-color:\").concat(theme.acceptedColor || 'inherit', \"}\\n\\n.cDEpT_cvQK.cDEpT_cVYB .cDEpT_QUBp:before,.cDEpT_cvQK .cDEpT_QUBp{border-color:\").concat(theme.rejectedColor || 'inherit', \"}\\n\\n.cDEpT_cFXB{cursor:not-allowed;pointer-events:none}\\n\\n.cDEpT_eXzv{opacity:0.5}\\n\\n.cDEpT_eXzv .cDEpT_QUBp{border-color:\").concat(theme.disabledColor || 'inherit', \"}\");\n  },\n  'label': 'cDEpT_blJt',\n  'root': 'cDEpT_bGBk',\n  'input': 'cDEpT_cwos',\n  'labelContent': 'cDEpT_QUBp',\n  'layout': 'cDEpT_byIz',\n  'focused': 'cDEpT_cVYB',\n  'dragAccepted': 'cDEpT_cbYS',\n  'dragRejected': 'cDEpT_cvQK',\n  'functionallyDisabled': 'cDEpT_cFXB',\n  'visuallyDisabled': 'cDEpT_eXzv'\n};\nimport theme from './theme';\n\nfunction keyEventIsClickButton(e) {\n  return e.keyCode === keycode.codes.space || e.keyCode === keycode.codes.enter;\n} // Used try-catch due to missing document/navigator references in Jenkins\n\n\nfunction isBrowserMS() {\n  var result = false;\n\n  try {\n    result = document.documentMode || isEdge;\n  } catch (e) {} // eslint-disable-line no-empty\n\n\n  return result;\n}\n\nvar IS_MS = isBrowserMS();\n/**\n---\ncategory: components/deprecated\nid: DeprecatedFileDrop\n---\n**/\n\nvar FileDrop = (_dec = deprecated('7.0.0', null, 'Use FileDrop from ui-file-drop instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FileDrop, _Component);\n\n  function FileDrop(props) {\n    var _this;\n\n    _classCallCheck(this, FileDrop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FileDrop).call(this, props));\n    _this.state = {\n      isDragAccepted: false,\n      isDragRejected: false,\n      isFocused: false,\n      isFileBrowserDisplayed: false\n    };\n    _this.enterCounter = 0;\n    _this.fileInputEl = null;\n    _this.defaultId = null;\n\n    _this.handleDragEnter = function (e) {\n      e.preventDefault(); // Count the dropzone and any children that are entered.\n\n      _this.enterCounter += 1; // Don't trigger onDragEnter for each children after the first one\n\n      if (_this.enterCounter > 1) {\n        return;\n      }\n\n      var allFilesAccepted = _this.allFilesAccepted(_this.getDataTransferItems(e));\n\n      _this.setState({\n        isDragAccepted: allFilesAccepted,\n        isDragRejected: !allFilesAccepted\n      });\n\n      _this.props.onDragEnter(e);\n    };\n\n    _this.handleDragOver = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        var event = e;\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (err) {// continue regardless of error\n      }\n\n      _this.props.onDragOver(e);\n\n      return false;\n    };\n\n    _this.handleDragLeave = function (e) {\n      e.preventDefault();\n      _this.enterCounter -= 1; // Only deactivate once the dropzone and all children was left\n\n      if (_this.enterCounter > 0) {\n        return;\n      }\n\n      _this.setState({\n        isDragAccepted: false,\n        isDragRejected: false\n      });\n\n      _this.props.onDragLeave(e);\n    };\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          onDrop = _this$props.onDrop,\n          onDropAccepted = _this$props.onDropAccepted,\n          onDropRejected = _this$props.onDropRejected,\n          enablePreview = _this$props.enablePreview;\n\n      var fileList = _this.getDataTransferItems(e, enablePreview);\n\n      var _this$parseFiles = _this.parseFiles(fileList),\n          _this$parseFiles2 = _slicedToArray(_this$parseFiles, 2),\n          acceptedFiles = _this$parseFiles2[0],\n          rejectedFiles = _this$parseFiles2[1];\n\n      e.preventDefault();\n      _this.enterCounter = 0;\n      onDrop(acceptedFiles, rejectedFiles, e);\n\n      if (rejectedFiles.length > 0) {\n        onDropRejected(rejectedFiles, e);\n      }\n\n      if (acceptedFiles.length > 0) {\n        onDropAccepted(acceptedFiles, e);\n      }\n\n      _this.setState({\n        isDragAccepted: false,\n        isDragRejected: false,\n        isFileBrowserDisplayed: false\n      });\n    };\n\n    _this.fileAccepted = function (file) {\n      return accepts(file, _this.props.accept);\n    };\n\n    _this.handleRef = function (el) {\n      _this.fileInputEl = el;\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        isFocused: false,\n        isFileBrowserDisplayed: false\n      });\n    };\n\n    _this.handleFocus = function () {\n      _this.setState({\n        isFocused: true,\n        isFileBrowserDisplayed: false\n      });\n    };\n\n    _this.handleClick = function (e) {\n      if (_this.fileInputEl.value && _this.props.allowRepeatFileSelection) {\n        _this.fileInputEl.value = null;\n      } // focus the input (because FF won't)\n\n\n      _this.fileInputEl.focus();\n\n      _this.props.onClick(e);\n\n      _this.setState({\n        isFileBrowserDisplayed: true\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (_this.state.isFocused && keyEventIsClickButton(event)) {\n        if (_this.props.allowRepeatFileSelection) {\n          _this.fileInputEl.value = null;\n        } // This bit of logic is necessary for MS browsers but causes unwanted warnings in Firefox\n        // So we need to apply this logic only on MS browsers\n\n        /* istanbul ignore if  */\n\n\n        if (IS_MS) {\n          event.stopPropagation();\n          event.preventDefault();\n\n          _this.fileInputEl.click();\n        }\n      }\n    };\n\n    _this.handleKeyUp = function (event) {\n      // This is to handle the case where ESC is pressed inside a Dialog so that\n      // closing the file browser dialog doesn't also close the Dialog.\n      if (event.keyCode === keycode.codes.esc && _this.state.isFileBrowserDisplayed) {\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          isFileBrowserDisplayed: false\n        });\n      }\n    };\n\n    _this.defaultId = uid('FileDrop');\n    _this.messagesId = uid('FileDrop-messages');\n    return _this;\n  }\n\n  _createClass(FileDrop, [{\n    key: \"getDataTransferItems\",\n    value: function getDataTransferItems(event, enablePreview) {\n      var list = Array.from(getEventFiles(event, this.fileInputEl));\n\n      if (list.length > 1) {\n        list = this.props.allowMultiple ? list : [list[0]];\n      }\n\n      if (enablePreview) {\n        return list.map(function (file) {\n          return Object.assign(file, {\n            preview: window.URL.createObjectURL(file)\n          });\n        });\n      }\n\n      return list;\n    }\n  }, {\n    key: \"parseFiles\",\n    value: function parseFiles(fileList) {\n      var _this2 = this;\n\n      var acceptedFiles = [];\n      var rejectedFiles = [];\n      fileList.forEach(function (file) {\n        if (_this2.fileAccepted(file) && _this2.fileMatchSize(file)) {\n          acceptedFiles.push(file);\n        } else {\n          rejectedFiles.push(file);\n        }\n      });\n      return [acceptedFiles, rejectedFiles];\n    }\n  }, {\n    key: \"fileMatchSize\",\n    value: function fileMatchSize(file) {\n      return file.size <= this.props.maxSize && file.size >= this.props.minSize;\n    }\n  }, {\n    key: \"allFilesAccepted\",\n    value: function allFilesAccepted(files) {\n      return files.every(this.fileAccepted);\n    }\n  }, {\n    key: \"acceptStr\",\n    value: function acceptStr() {\n      var accept = this.props.accept;\n      return accept ? getAcceptList(accept).join(',') : null;\n    }\n  }, {\n    key: \"renderLabel\",\n    value: function renderLabel() {\n      var _this$props2 = this.props,\n          label = _this$props2.label,\n          interaction = _this$props2.interaction,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly;\n      var Label = label;\n\n      if (typeof Label !== 'function') {\n        return Label;\n      }\n\n      return React.createElement(Label, {\n        isDragAccepted: this.state.isDragAccepted,\n        isDragRejected: this.state.isDragRejected,\n        disabled: interaction === 'disabled' || disabled,\n        readOnly: interaction === 'readonly' || readOnly,\n        interaction: interaction\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var _this$props3 = this.props,\n          allowMultiple = _this$props3.allowMultiple,\n          disabled = _this$props3.disabled,\n          readOnly = _this$props3.readOnly,\n          interaction = _this$props3.interaction;\n      var id = this.props.id || this.defaultId; // make readonly input functionally disabled\n\n      var functionallyDisabled = disabled || readOnly || interaction === 'disabled' || interaction === 'readonly';\n      var classes = (_classes = {}, _defineProperty(_classes, styles.label, true), _defineProperty(_classes, styles.functionallyDisabled, functionallyDisabled), _defineProperty(_classes, styles.visuallyDisabled, interaction === 'disabled' || disabled), _defineProperty(_classes, styles.dragRejected, this.state.isDragRejected || this.invalid), _defineProperty(_classes, styles.dragAccepted, this.state.isDragAccepted), _defineProperty(_classes, styles.focused, this.state.isFocused), _classes);\n      var props = omitProps(this.props, FileDrop.propTypes);\n      return React.createElement(\"div\", {\n        className: styles.root\n      }, React.createElement(\"label\", {\n        className: classnames(classes),\n        htmlFor: id,\n        onDragEnter: this.handleDragEnter,\n        onDragOver: this.handleDragOver,\n        onDragLeave: this.handleDragLeave,\n        onDrop: this.handleChange\n      }, React.createElement(\"span\", {\n        className: styles.labelContent\n      }, React.createElement(\"span\", {\n        className: styles.layout\n      }, this.renderLabel()))), React.createElement(\"input\", Object.assign({}, props, {\n        onClick: this.handleClick,\n        type: \"file\",\n        className: styles.input,\n        id: id,\n        ref: this.handleRef,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown,\n        onKeyUp: this.handleKeyUp,\n        multiple: allowMultiple,\n        accept: this.acceptStr(),\n        onChange: this.handleChange,\n        \"aria-describedby\": this.hasMessages ? this.messagesId : null,\n        disabled: functionallyDisabled\n      })), this.hasMessages ? React.createElement(View, {\n        display: \"block\",\n        margin: \"small 0 0\"\n      }, React.createElement(FormFieldMessages, {\n        id: this.messagesId,\n        messages: this.props.messages\n      })) : null);\n    }\n  }, {\n    key: \"hasMessages\",\n    get: function get() {\n      return this.props.messages && this.props.messages.length > 0;\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.hasMessages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }]);\n\n  FileDrop.displayName = \"FileDrop\";\n  return FileDrop;\n}(Component), _class2.propTypes = {\n  /**\n  * the id of the input (to link it to its label for a11y)\n  */\n  id: PropTypes.string,\n\n  /**\n  * the content of FileDrop, can be a component or an react node.\n  * If given a component, it will receive isDragAccepted and isDragRejected as props\n  */\n  label: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n\n  /**\n  * the mime media type/s or file extension/s allowed to be dropped inside\n  */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * callback called when clicking on drop area to select files to upload\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * callback called when dropping files or when the file dialog window exits successfully\n  */\n  onDrop: PropTypes.func,\n\n  /**\n  * callback called when dropping allowed files\n  */\n  onDropAccepted: PropTypes.func,\n\n  /**\n  * callback called when dropping rejected files\n  */\n  onDropRejected: PropTypes.func,\n\n  /**\n  * callback called when dragging files\n  * and passing through FileDrop's content for the first time\n  */\n  onDragEnter: PropTypes.func,\n\n  /**\n  * callback called when dragging files and passing through FileDrop's content\n  */\n  onDragOver: PropTypes.func,\n\n  /**\n  * callback called when dragging files and leaving FileDrop's content\n  */\n  onDragLeave: PropTypes.func,\n\n  /**\n  * flag to use window.URL.createObjectURL for each dropped file and passing it through file.preview\n  */\n  enablePreview: PropTypes.bool,\n\n  /**\n  * flag to allow selection multiple files to drop at once\n  */\n  allowMultiple: PropTypes.bool,\n\n  /**\n  * the maximum file size allowed\n  */\n  maxSize: PropTypes.number,\n\n  /**\n  * the minimum file size allowed\n  */\n  minSize: PropTypes.number,\n\n  /**\n   * Whether or not to allow the file browser to upload the same file more than once.\n   */\n  allowRepeatFileSelection: PropTypes.bool,\n  disabled: PropTypes.bool,\n  // eslint-disable-line react/require-default-props\n  readOnly: PropTypes.bool,\n  // eslint-disable-line react/require-default-props\n\n  /**\n  * Specifies if interaction with the input is enabled, disabled, or readonly.\n  */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly'])\n}, _class2.defaultProps = {\n  onClick: function onClick(e) {},\n  onDrop: function onDrop(acceptedFiles, rejectedFiles, e) {},\n  onDropAccepted: function onDropAccepted(acceptedFiles, e) {},\n  onDropRejected: function onDropRejected(rejectedFiles, e) {},\n  onDragEnter: function onDragEnter(e) {},\n  onDragOver: function onDragOver(e) {},\n  onDragLeave: function onDragLeave(e) {},\n  enablePreview: false,\n  allowMultiple: false,\n  allowRepeatFileSelection: true,\n  maxSize: Infinity,\n  minSize: 0,\n  interaction: 'enabled',\n  messages: [],\n  id: void 0,\n  accept: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default FileDrop;\nexport { FileDrop };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { alpha } from '@instructure/ui-color-utils';\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors;\n  return {\n    backgroundColor: colors.backgroundLightest,\n    borderRadius: borders.radiusLarge,\n    borderWidth: borders.widthMedium,\n    borderStyle: 'dashed',\n    borderColor: colors.borderMedium,\n    hoverBorderColor: colors.borderBrand,\n    focusBorderWidth: borders.widthMedium,\n    focusBorderStyle: 'solid',\n    focusBorderColor: colors.borderBrand,\n    acceptedColor: colors.textBrand,\n    rejectedColor: colors.textDanger,\n    disabledColor: alpha(colors.borderMedium, 50)\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    hoverBorderColor: variables['ic-brand-primary'],\n    acceptedColor: variables['ic-brand-primary']\n  };\n};","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {AlertManagerContext} from '../../../../shared/components/AlertManager'\nimport {Assignment} from '../../graphqlData/Assignment'\nimport {chunk} from 'lodash'\nimport {DEFAULT_ICON} from '../../../../shared/helpers/mimeClassIconHelper'\nimport elideString from '../../../../shared/helpers/elideString'\nimport {func} from 'prop-types'\nimport {getFileThumbnail} from '../../../../shared/helpers/fileHelper'\nimport I18n from 'i18n!assignments_2_file_upload'\nimport LoadingIndicator from '../../../shared/LoadingIndicator'\nimport MoreOptions from './MoreOptions'\nimport React, {Component} from 'react'\nimport {Submission} from '../../graphqlData/Submission'\nimport {uploadFiles} from '../../../../shared/upload_file'\n\nimport {Billboard} from '@instructure/ui-billboard'\nimport {Button} from '@instructure/ui-buttons'\nimport {FileDrop} from '@instructure/ui-forms'\nimport {Flex, Grid} from '@instructure/ui-layout'\nimport {IconTrashLine} from '@instructure/ui-icons'\nimport {ScreenReaderContent} from '@instructure/ui-a11y'\nimport {Text} from '@instructure/ui-elements'\nimport theme from '@instructure/canvas-theme'\n\nfunction submissionFileUploadUrl(assignment) {\n  return `/api/v1/courses/${assignment.env.courseId}/assignments/${assignment._id}/submissions/${assignment.env.currentUser.id}/files`\n}\n\nexport default class FileUpload extends Component {\n  static propTypes = {\n    assignment: Assignment.shape,\n    createSubmissionDraft: func,\n    submission: Submission.shape,\n    updateUploadingFiles: func\n  }\n\n  state = {\n    filesToUpload: [],\n    messages: []\n  }\n\n  _isMounted = false\n\n  componentDidMount() {\n    this._isMounted = true\n    window.addEventListener('message', this.handleLTIFiles)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    window.removeEventListener('message', this.handleLTIFiles)\n  }\n\n  getDraftAttachments = () => {\n    return this.props.submission.submissionDraft &&\n      this.props.submission.submissionDraft.attachments\n      ? this.props.submission.submissionDraft.attachments\n      : []\n  }\n\n  handleLTIFiles = async e => {\n    if (e.data.messageType === 'LtiDeepLinkingResponse') {\n      if (e.data.errormsg) {\n        this.context.setOnFailure(e.data.errormsg)\n        return\n      }\n      await this.handleDropAccepted(e.data.content_items)\n    }\n\n    // Since LTI 1.0 handles its own message alerting we don't have to\n    if (e.data.messageType === 'A2ExternalContentReady') {\n      if (!e.data.errormsg) {\n        await this.handleDropAccepted(e.data.content_items)\n      }\n    }\n  }\n\n  handleCanvasFiles = async fileID => {\n    if (!fileID) {\n      this.context.setOnFailure(I18n.t('Error adding canvas file to submission draft'))\n      return\n    }\n    this.updateUploadingFiles(async () => {\n      try {\n        await this.createSubmissionDraft([fileID])\n      } catch (err) {\n        this.context.setOnFailure(I18n.t('Error updating submission draft'))\n      }\n    })\n  }\n\n  handleDropAccepted = async files => {\n    if (!files.length) {\n      this.context.setOnFailure(I18n.t('Error adding files to submission draft'))\n      return\n    }\n\n    this.setState(\n      {\n        filesToUpload: files.map((file, i) => {\n          if (file.url) {\n            return {isLoading: true, _id: `${i}-${file.url}`}\n          }\n          return {isLoading: true, _id: `${i}-${file.name}`}\n        })\n      },\n      () => {\n        this.context.setOnSuccess(I18n.t('Uploading files'))\n      }\n    )\n    this.updateUploadingFiles(async () => {\n      try {\n        const newFiles = await uploadFiles(files, submissionFileUploadUrl(this.props.assignment))\n        await this.createSubmissionDraft(newFiles.map(file => file.id))\n      } catch (err) {\n        this.context.setOnFailure(I18n.t('Error updating submission draft'))\n      } finally {\n        this.setState({filesToUpload: []})\n      }\n    })\n  }\n\n  handleDropRejected = () => {\n    this.setState({\n      messages: [\n        {\n          text: I18n.t('Invalid file type'),\n          type: 'error'\n        }\n      ]\n    })\n  }\n\n  updateUploadingFiles = async wrappedFunc => {\n    if (this._isMounted) {\n      this.props.updateUploadingFiles(true)\n    }\n    await wrappedFunc()\n    if (this._isMounted) {\n      this.props.updateUploadingFiles(false)\n    }\n  }\n\n  createSubmissionDraft = async fileIDs => {\n    await this.props.createSubmissionDraft({\n      variables: {\n        id: this.props.submission.id,\n        activeSubmissionType: 'online_upload',\n        attempt: this.props.submission.attempt || 1,\n        fileIds: this.getDraftAttachments()\n          .map(file => file._id)\n          .concat(fileIDs)\n      }\n    })\n  }\n\n  handleRemoveFile = async e => {\n    const fileId = parseInt(e.currentTarget.id, 10)\n    const fileIndex = this.getDraftAttachments().findIndex(\n      file => parseInt(file._id, 10) === fileId\n    )\n\n    const updatedFiles = this.getDraftAttachments().filter((_, i) => i !== fileIndex)\n    await this.props.createSubmissionDraft({\n      variables: {\n        id: this.props.submission.id,\n        activeSubmissionType: 'online_upload',\n        attempt: this.props.submission.attempt,\n        fileIds: updatedFiles.map(file => file._id)\n      }\n    })\n\n    if (this._isMounted) {\n      this.setState({\n        messages: []\n      })\n    }\n\n    const focusElement =\n      this.getDraftAttachments().length === 0 || fileIndex === 0\n        ? 'inputFileDrop'\n        : this.getDraftAttachments()[fileIndex - 1]._id\n\n    // TODO: this could break if there is ever another element in the dom that\n    //       shares an id. As we are using _id (ie, '4') as the id, it's not\n    //       exactly a great unique id. Should probably swap to using refs here.\n    document.getElementById(focusElement).focus()\n  }\n\n  renderUploadBox() {\n    return (\n      <div data-testid=\"upload-box\">\n        <Flex direction=\"column\">\n          <Flex.Item margin=\"0 0 small 0\" overflowY=\"visible\">\n            <FileDrop\n              accept={\n                this.props.assignment.allowedExtensions.length\n                  ? this.props.assignment.allowedExtensions\n                  : ''\n              }\n              allowMultiple\n              enablePreview\n              id=\"inputFileDrop\"\n              data-testid=\"input-file-drop\"\n              label={\n                <Billboard\n                  heading={I18n.t('Upload File')}\n                  hero={DEFAULT_ICON}\n                  message={\n                    <Flex direction=\"column\">\n                      {this.props.assignment.allowedExtensions.length ? (\n                        <Flex.Item>\n                          {I18n.t('File permitted: %{fileTypes}', {\n                            fileTypes: this.props.assignment.allowedExtensions\n                              .map(ext => ext.toUpperCase())\n                              .join(', ')\n                          })}\n                        </Flex.Item>\n                      ) : null}\n                      <Flex.Item padding=\"small 0 0\">\n                        <Text size=\"small\">\n                          {I18n.t('Drag and drop, or click to browse your computer')}\n                        </Text>\n                      </Flex.Item>\n                    </Flex>\n                  }\n                />\n              }\n              messages={this.state.messages}\n              onDropAccepted={files => this.handleDropAccepted(files)}\n              onDropRejected={this.handleDropRejected}\n            />\n          </Flex.Item>\n          <Flex.Item padding=\"xx-small\" textAlign=\"center\">\n            <MoreOptions\n              assignmentID={this.props.assignment._id}\n              courseID={this.props.assignment.env.courseId}\n              handleCanvasFiles={this.handleCanvasFiles}\n              renderCanvasFiles\n              userID={this.props.assignment.env.currentUser.id}\n            />\n          </Flex.Item>\n        </Flex>\n      </div>\n    )\n  }\n\n  renderUploadedFile(file) {\n    if (file.isLoading) {\n      return <LoadingIndicator />\n    }\n    return (\n      <Billboard\n        heading={I18n.t('Uploaded')}\n        headingLevel=\"h3\"\n        hero={getFileThumbnail(file, 'large')}\n        message={\n          <div>\n            <span aria-hidden title={file.displayName}>\n              {elideString(file.displayName)}\n            </span>\n            <ScreenReaderContent>{file.displayName}</ScreenReaderContent>\n            <Button\n              icon={IconTrashLine}\n              id={file._id}\n              margin=\"0 0 0 x-small\"\n              onClick={this.handleRemoveFile}\n              size=\"small\"\n            >\n              <ScreenReaderContent>\n                {I18n.t('Remove %{filename}', {filename: file.displayName})}\n              </ScreenReaderContent>\n            </Button>\n          </div>\n        }\n      />\n    )\n  }\n\n  renderUploadBoxAndUploadedFiles() {\n    let files = this.getDraftAttachments()\n    if (this.state.filesToUpload.length) {\n      files = files.concat(this.state.filesToUpload)\n    }\n    // The first two uploaded files are rendered on the same row as the upload box\n    const firstFileRow = files.slice(0, 2)\n    // All uploaded files after the first two are rendered on rows below the upload\n    // box; thus, each row has three columns, with the first row having an upload box\n    // and two rendered files and all subsequent rows having three rendered files\n    const nextFileRows = files.length > 2 ? chunk(files.slice(2, files.length), 3) : []\n    return (\n      <Grid>\n        <Grid.Row key=\"upload-box\">\n          <Grid.Col width={4}>{this.renderUploadBox()}</Grid.Col>\n          {firstFileRow.map(file => (\n            <Grid.Col width={4} key={file._id} vAlign=\"bottom\">\n              {this.renderUploadedFile(file)}\n            </Grid.Col>\n          ))}\n        </Grid.Row>\n        {nextFileRows.map((row, i) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <Grid.Row key={i}>\n            {row.map(file => (\n              <Grid.Col width={4} key={file._id} vAlign=\"bottom\">\n                {this.renderUploadedFile(file)}\n              </Grid.Col>\n            ))}\n          </Grid.Row>\n        ))}\n      </Grid>\n    )\n  }\n\n  shouldRenderFiles = () => {\n    return this.getDraftAttachments().length !== 0 || this.state.filesToUpload.length !== 0\n  }\n\n  render() {\n    return (\n      <div data-testid=\"upload-pane\" style={{marginBottom: theme.variables.spacing.xxLarge}}>\n        {this.renderUploadBoxAndUploadedFiles()}\n      </div>\n    )\n  }\n}\n\nFileUpload.contextType = AlertManagerContext\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1581.176 1750.588c0 31.06-25.411 56.47-56.47 56.47H395.294c-31.059 0-56.47-25.41-56.47-56.47V564.706H225.882v1185.882c0 93.403 76.01 169.412 169.412 169.412h1129.412c93.402 0 169.412-76.01 169.412-169.412V564.706h-112.942v1185.882zm-903.529-169.412h112.941V677.647h-112.94v903.53zm451.765 0h112.94V677.647h-112.94v903.53zm211.211-1242.352L1217.065 0H694.6L571.268 338.824H.01v112.94h1920v-112.94h-579.388zm-649.299 0l82.334-225.883h364.462l82.334 225.883h-529.13z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconTrashLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconTrashLine, _Component);\n\n  function IconTrashLine() {\n    _classCallCheck(this, IconTrashLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconTrashLine).apply(this, arguments));\n  }\n\n  _createClass(IconTrashLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconTrash\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconTrashLine.displayName = \"IconTrashLine\";\n  return IconTrashLine;\n}(Component);\n\nIconTrashLine.glyphName = 'trash';\nIconTrashLine.variant = 'Line';\nIconTrashLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconTrashLine;\nexport { IconTrashLine };"],"sourceRoot":""}