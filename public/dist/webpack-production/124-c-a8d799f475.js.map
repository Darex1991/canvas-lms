{"version":3,"sources":["webpack:///./public/javascripts/translations/lib.text_helper.js","webpack:///./app/coffeescripts/str/TextHelper.coffee","webpack:///./public/javascripts/dummyI18nResource.js?61ff","webpack:///./node_modules/@instructure/ui-utils/es/capitalizeFirstLetter.js","webpack:///./public/javascripts/jquery.scrollToVisible.js","webpack:///./public/javascripts/translations/calendar.message_participants.js","webpack:///./public/javascripts/dummyI18nResource.js?b7f9","webpack:///./app/views/jst/calendar/messageParticipants.handlebars","webpack:///./app/views/jst/calendar/recipientList.handlebars","webpack:///./app/coffeescripts/calendar/MessageParticipantsDialog.js","webpack:///./node_modules/fullcalendar/dist/fullcalendar.js","webpack:///./app/coffeescripts/calendar/CommonEvent.js","webpack:///./app/coffeescripts/calendar/CommonEvent.Assignment.js","webpack:///./app/coffeescripts/calendar/CommonEvent.AssignmentOverride.js","webpack:///./app/coffeescripts/calendar/CommonEvent.CalendarEvent.js","webpack:///./app/coffeescripts/calendar/CommonEvent.PlannerNote.js","webpack:///./app/coffeescripts/calendar/CommonEvent.ToDoItem.js","webpack:///./app/coffeescripts/calendar/commonEventFactory.js","webpack:///./app/coffeescripts/util/fcUtil.coffee","webpack:///./public/javascripts/translations/calendar.js","webpack:///./public/javascripts/dummyI18nResource.js?2124","webpack:///./app/coffeescripts/calendar/EventDataSource.js","webpack:///./node_modules/@instructure/ui-prop-types/es/controllable.js","webpack:///./app/coffeescripts/legacyCoffeesScriptHelpers.js","webpack:///./public/javascripts/translations/instructure_misc_plugins.js","webpack:///./public/javascripts/dummyI18nResource.js?9aa5","webpack:///./public/javascripts/jquery.instructure_misc_plugins.js","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js","webpack:///./public/javascripts/vendor/jquery.ba-tinypubsub.js","webpack:///./app/coffeescripts/util/natcompare.js","webpack:///./app/coffeescripts/util/coupleTimeFields.js","webpack:///./app/coffeescripts/calendar/TimeBlockListManager.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","AUTO_LINKIFY_REGEX","th","quoteClump","lines","htmlEscape","t","raw","join","formatMessage","message","links","placeholderBlocks","replace","match","i","push","link","processedLines","quoteBlock","RegExp","shift","line","length","delimit","number","isNaN","String","sign","abs","Math","result","integer","floor","mod","truncateText","string","options","max","ellipsis","wordSeparator","trim","truncateAt","pos","indexOf","substring","plainText","capitalizeFirstLetter","str","charAt","toUpperCase","slice","$","fn","scrollToVisible","obj","$obj","innerOffset","offset","width","outerWidth","height","outerHeight","top","bottom","left","right","currentTop","this","selector","windowScrollTop","scrollTop","currentLeft","scrollLeft","currentHeight","currentWidth","outerOffset","each","e","tagName","window","Handlebars","default","template","templates","depth0","helpers","partials","data","compilerInfo","stack1","helper","buffer","helperMissing","merge","escapeExpression","ifEqual","hash","inverse","program","call","participant_type","self","program2","name","id","program5","recipients","noop","recipientType","MessageParticipantsDialog","constructor","opts","participantType","loadParticipants","registrationStatus","$select","val","loading","participantStatus","dataSource","getParticipants","group","$participantList","html","recipientListTemplate","text","I18n","sendMessage","jsEvent","preventDefault","$form","getFormData","body","ENV","CALENDAR","MAX_GROUP_CONVERSATION_SIZE","group_conversation","bulk_message","tags","context_codes","timeslot","all_context_codes","split","deferred","ajaxJSON","messageSent","messageFailed","disableWhileLoading","buttons","dialog","flashMessage","find","child_events","map","user","short_name","messageParticipantsTemplate","remove","change","submit","show","resizable","click","class","close","$status","spin","moment","fc","fullCalendar","version","fcViews","views","args","Array","prototype","arguments","res","_element","singleRes","element","calendar","isFunction","apply","removeData","Calendar","render","complexOptions","mergeOptions","optionObjs","mergeProps","compensateScroll","rowEls","scrollbarWidths","css","uncompensateScroll","disableCursor","addClass","enableCursor","removeClass","distributeHeight","els","availableHeight","shouldRedistribute","minOffset1","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","el","minOffset","naturalOffset","newHeight","matchCellWidths","maxInnerWidth","innerEl","innerWidth","setPotentialScroller","containerEl","scrollHeight","clientHeight","unsetScroller","getScrollParent","position","scrollParent","parents","filter","parent","test","eq","ownerDocument","document","getOuterRect","getClientRect","getScrollbarWidths","getCssFloat","clientWidth","leftRightWidth","widths","innerHeight","_isLeftRtlScrollbars","border","padding","overflow","direction","appendTo","children","computeIsLeftRtlScrollbars","intersectionToSeg","applyAll","debounce","isInt","cssToStr","proxy","capitaliseFirstLetter","getContentRect","prop","parseFloat","isPrimaryMouseButton","ev","which","ctrlKey","intersectRects","rect1","rect2","min","constrainPoint","point","rect","getRectCenter","diffPoints","point1","point2","parseFieldSpecs","input","token","specs","tokens","isArray","field","order","func","compareByFieldSpecs","obj1","obj2","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","type","localeCompare","subjectRange","constraintRange","segStart","segEnd","isStart","isEnd","subjectStart","start","subjectEnd","end","constraintStart","constraintEnd","clone","computeIntervalUnit","divideRangeByDuration","dur","months","durationHasTime","asMonths","diff","asDays","divideDurationByDuration","multiplyDuration","n","duration","days","dayIDs","intervalUnits","diffDayTime","stripTime","ms","time","diffByUnit","unit","round","computeRangeAs","isDuration","as","dur1","dur2","months1","months2","Boolean","hours","minutes","seconds","milliseconds","isTimeString","log","console","warn","hasOwnPropMethod","hasOwnProperty","propObjs","complexProps","complexObjs","j","props","dest","unshift","undefined","createObject","proto","f","copyOwnProps","src","hasOwnProp","functions","thisObj","ret","firstDefined","s","stripHtmlEntities","cssProps","statements","compareNumbers","methodName","method","wait","timeoutId","context","timestamp","later","last","Date","setTimeout","allowValueOptimization","setUTCValues","setLocalValues","ambigDateOfMonthRegex","ambigTimeOrZoneRegex","newMomentProto","oldMomentProto","extend","makeMoment","parseAsUTC","parseZone","isAmbigTime","isAmbigZone","ambigMatch","mom","isSingleString","isMoment","transferAmbigs","Object","toString","isNativeDate","exec","utc","_ambigTime","_ambigZone","utcOffset","zone","_fullCalendar","commonlyAmbiguate","inputs","preserveTime","anyAmbigTime","anyAmbigZone","len","moms","stripZone","setMomentValues","year","month","date","oldMomentFormat","formatStr","format","formatDate","formatDateWithChunks","getFormatStringChunks","chunks","formatDateWithChunk","hasTime","week","weeks","weekCalc","_locale","_lang","_fullCalendar_weekCalc","isoWeek","dayHours","toArray","wasAmbigTime","hasZone","local","wasAmbigZone","tzo","toISOString","isWithin","isSame","units","_d","setTime","UTC","updateOffset","tokenOverrides","T","chunk","maybeStr","maybe","formatRange","date1","date2","separator","isRTL","chunkStr","leftI","rightI","middleI","leftStr","rightStr","middleStr1","middleStr2","middleStr","formatSimilarChunk","formatRangeWithChunks","localeData","lang","longDateFormat","similarUnitMap","Y","M","D","d","A","H","h","m","formatStringChunkCache","chunkFormatString","chunker","Class","members","subClass","superClass","names","copyNativeMethods","mixin","Emitter","callbackHash","on","callback","getCallbacks","add","off","trigger","triggerWith","fireWith","callbacks","Callbacks","Popover","isHidden","documentMousedownProxy","margin","hide","_this","className","append","content","parentEl","autoHide","documentMousedown","target","closest","removeElement","viewportTop","viewportLeft","viewportOffset","origin","offsetParent","windowEl","viewportEl","is","viewportConstrain","GridCoordMap","grid","rowCoords","colCoords","bounds","build","computeRowCoords","computeColCoords","computeBounds","clear","getCell","x","y","coords","cell","rowCnt","colCnt","hitRow","hitCol","inBounds","ComboCoordMap","coordMaps","DragListener","isListening","isDragging","originX","originY","mousemoveProxy","mouseupProxy","subjectEl","subjectHref","scrollEl","scrollBounds","scrollTopVel","scrollLeftVel","scrollIntervalId","scrollHandlerProxy","scrollSensitivity","scrollSpeed","scrollIntervalMs","mousedown","startListening","distance","startDrag","scroll","pageX","pageY","listenStart","mousemove","minDistance","dx","dy","drag","dragStart","attr","removeAttr","updateScroll","mouseup","stopListening","stopDrag","stopScrolling","dragStop","listenStop","computeScrollBounds","topCloseness","bottomCloseness","leftCloseness","rightCloseness","sensitivity","topVel","leftVel","setScrollVel","constrainScrollVel","setInterval","scrollWidth","scrollIntervalFunc","frac","clearInterval","scrollStop","scrollHandler","CellDragListener","coordMap","origCell","coordAdjust","subjectRect","origPoint","computeCoords","subjectCenter","cellOver","isCellsEqual","cellOut","cellDone","cell1","cell2","row","col","MouseFollower","sourceEl","top0","left0","mouseY0","mouseX0","topDelta","leftDelta","isFollowing","isAnimating","updatePosition","stop","shouldRevert","revertDuration","complete","animate","getEl","visibility","display","opacity","zIndex","sourceOffset","RowRenderer","view","cellHtml","opt","rowHtml","rowType","renderCell","getHtmlRenderer","rowCellHtml","bookendCells","cells","intro","outro","prependHtml","appendHtml","prepend","rendererName","generalName","specificName","provider","renderer","Grid","elsByFill","externalDragStartProxy","colHeadFormat","eventTimeFormat","displayEventTime","displayEventEnd","cellDuration","largeUnit","computeColHeadFormat","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","setRange","range","rangeUpdated","processRangeOptions","rangeToSegs","diffDates","getRowData","getColData","computeCellRange","computeCellDate","getRowEl","getColEl","getCellDayEl","items","setElement","dayMousedown","bindSegHandlers","bindGlobalHandlers","unbindGlobalHandlers","renderSkeleton","renderDates","unrenderDates","dayClickCell","selectionRange","isSelectable","unselect","isOrig","computeSelection","renderSelection","unrenderSelection","triggerDayClick","reportSelection","renderRangeHelper","sourceSeg","fakeEvent","fabricateHelperEvent","renderHelper","event","allDay","normalizeEventRange","concat","editable","unrenderHelper","renderHighlight","selectionRangeToSegs","unrenderHighlight","firstCell","lastCell","dates","sort","isSelectionRangeAllowed","segs","renderFill","unrenderFill","highlightSegClasses","renderFillSegEls","segElMethod","renderedSegs","fillSegHtml","node","seg","fillSegTag","classesMethod","cssMethod","classes","headHtml","widgetHeaderClass","headCellHtml","day","bgCellHtml","getDayClasses","widgetContentClass","today","getNow","intervalDuration","intervalStart","highlightStateClass","getEventRendering","source","rendering","compareNormalRanges","range1","range2","eventStartMS","mousedOverSeg","isDraggingSeg","isResizingSeg","isDraggingExternal","renderEvents","events","eventsToSegs","bgSegs","fgSegs","renderBgSegs","renderFgSegs","unrenderEvents","triggerSegMouseout","unrenderFgSegs","unrenderBgSegs","getEventSegs","renderFgSegEls","disableResizing","fgSegHtml","resolveEventEl","bgEventSegEl","bgEventSegClasses","bgEventSegCss","backgroundColor","color","businessHoursSegClasses","mouseenter","triggerSegMouseover","mouseleave","isEventResizable","segResizeMousedown","isEventDraggable","segDragMousedown","dropLocation","mouseFollower","segDragStart","hideEvent","computeEventDrop","isEventRangeAllowed","renderDrag","unrenderDrag","showEvent","segDragStop","reportEventDrop","startCell","endCell","delta","dragEnd","getEventEnd","normalizeEventRangeTimes","applyDragOpacity","style","externalDragStart","ui","accept","item","listenToExternalDrag","meta","eventProps","startTime","stick","prefix","dataAttrPrefix","getDraggedElMeta","computeExternalDrop","reportExternalDrop","isExternalDropRangeAllowed","resizeLocation","eventEnd","segResizeStart","computeEventStartResize","computeEventEndResize","renderEventResize","unrenderEventResize","segResizeStop","reportEventResize","computeEventResize","defaultDuration","isBefore","defaultAllDayEventDuration","defaultTimedEventDuration","subtract","getEventTimeText","displayEnd","getSegClasses","isDraggable","isResizable","getEventSkinCss","eventColor","sourceColor","optionColor","borderColor","textColor","rangeToSegsFunc","eventRanges","eventsToRanges","eventRangeToSegs","eventsById","_id","groupEventsById","ranges","eventGroup","eventsToInverseRanges","eventsToNormalRanges","eventStart","eventDurationMS","normalRange","viewStart","viewEnd","normalRanges","inverseRanges","event0","eventRange","ensureVisibleEventRange","sortSegs","compareSegs","seg1","seg2","eventOrderSpecs","DayGrid","numbersVisible","bottomCoordPadding","breakOnWeeks","cellDates","dayToCellOffsets","dayEls","helperEls","isRigid","cellCnt","dayRowHtml","removeSegPopover","renderBusinessHours","getBusinessHoursEvents","dayCellHtml","firstDay","updateCellDates","ceil","offsets","isHiddenDay","index","first","rowFirst","rowLast","segFirst","segLast","computeDayRange","dateToCellOffset","leftCol","rightCol","rowStructs","helperNodes","renderSegRows","rowNode","skeletonTop","rowEl","skeletonEl","tbodyEl","nodes","renderFillRow","trEl","startCol","endCol","toLowerCase","isDaySegCollision","otherSegs","otherSeg","compareDaySegCols","popoverSegs","allDaySegs","grep","rowStruct","pop","segRows","groupSegRows","renderSegRow","timeText","titleHtml","isResizableFromStart","isEventResizableFromStart","isResizableFromEnd","isEventResizableFromEnd","skinCss","timeHtml","title","url","rowSegs","levelSegs","tr","td","segLevels","buildSegLevels","levelCnt","tbody","segMatrix","cellMatrix","loneCellMatrix","emptyCellsUntil","parseInt","levels","level","segPopover","limitRows","levelLimit","rowLevelLimit","unlimitRow","computeRowLevelLimit","limitRow","trHeight","rowHeight","trEls","iterInnerHeights","childNode","limitedNodes","segsBelow","totalSegsBelow","colSegsBelow","rowspan","segMoreNodes","moreTd","moreWrap","moreLink","moreNodes","getCellSegs","renderMoreLink","get","after","moreEls","limitedEls","hiddenSegs","getMoreLinkText","clickOption","moreEl","dayEl","allSegs","reslicedAllSegs","resliceDaySegs","reslicedHiddenSegs","showSegPopover","zoomTo","topEl","renderSegPopoverContent","isTheme","segContainer","dayDate","dayStart","dayEnd","dayRange","num","startLevel","TimeGrid","slotDuration","snapDuration","minTime","maxTime","colDates","labelFormat","labelInterval","slatEls","slatTops","helperEl","businessHourSegs","processOptions","renderHtml","slatRowHtml","slotBgCellHtml","slotDate","isLabeled","axisHtml","slotTime","axisStyleAttr","computeLabelInterval","slotsPerLabel","AGENDA_STOCK_SUB_DURATIONS","skipHiddenDays","reverse","computeSnapTime","rezoneDate","colDate","updateSize","isResize","computeSlatTops","updateSegVerticals","originTop","computeTimeTop","computeDateTop","startOfDayDate","slatIndex","slatRemainder","slatTop","slatCoverage","tops","tableEl","renderSegTable","segCols","colSegs","tdEl","groupSegCols","computeSlotSegPressures","forwardSeg","forwardSegs","forwardPressure","computeSlotSegCollisions","results","eventSkeletonEl","computeSegVerticals","placeSlotSegs","generateSegPositionCss","level0","k","computeForwardSlotSegs","buildSlotSegLevels","computeSlotSegCoords","seriesBackwardPressure","seriesBackwardCoord","forwardCoord","sortForwardSlotSegs","backwardCoord","generateSegVerticalCss","fullTimeText","startTimeText","isMultiDayEvent","shouldOverlap","compareForwardSlotSegs","View","displaying","isSkeletonRendered","isEventsRendered","intervalEnd","intervalUnit","isSelected","scrollerEl","nextDayThreshold","isHiddenDayHash","initThemingProps","initHiddenDays","initialize","setDate","computeRange","updateTitle","startOf","computePrevDate","massageCurrentDate","computeNextDate","computeTitle","computeTitleFormat","unrenderSkeleton","scrollState","queryScroll","then","when","displayView","forceScroll","computeInitialScroll","triggerRender","clearEvents","clearView","triggerUnrender","unrenderBusinessHours","destroy","tm","updateHeight","updateWidth","setScroll","setHeight","getSuggestedViewHeight","isHeightAuto","isAuto","computeScrollerHeight","totalHeight","both","otherHeight","previousScrollState","displayEvents","triggerEventRender","triggerEventUnrender","destroyEvents","renderedEventSegEach","custom","startEditable","mutateResult","mutateEvent","triggerEventDrop","dateDelta","undo","reportEventChange","undoFunc","eventInput","renderEvent","triggerExternalDrop","durationEditable","triggerEventResize","durationDelta","select","triggerSelect","destroySelection","ignore","hiddenDays","dayCnt","inArray","inc","isExclusive","out","endTimeMS","startDay","endDay","dirDefaults","langDefaults","overrides","viewSpecCache","header","loadingLevel","initOptions","elementVisible","calcSize","renderView","theme","prependTo","Header","headerElement","defaultView","handleWindowResize","windowResizeProxy","windowResize","windowResizeDelay","resize","currentView","unbind","refetchEvents","freezeContentHeight","unfreezeContentHeight","fetchAndRenderEvents","reportEvents","_events","rerenderEvents","changeView","buildSelectRange","prev","next","prevYear","nextYear","gotoDate","dateInput","incrementDate","newDate","viewType","spec","getViewSpec","getUnitViewSpec","getDate","getCalendar","getView","option","value","getMomentLocaleData","monthNames","_months","monthNamesShort","_monthsShort","dayNames","_weekdays","dayNamesShort","_weekdaysShort","_week","dow","weekNumberCalculation","timezone","getIsAmbigTimezone","now","getDefaultEventEnd","humanizeDuration","locale","humanize","EventManager","suggestedViewHeight","isFetchNeeded","fetchEvents","viewsByType","ignoreWindowResize","deactivateButton","instantiateView","activateButton","disableButton","enableButton","lazyFetching","shouldRecalc","_calcSize","contentHeight","aspectRatio","defaultDate","subObj","isPlainObject","subName","subVal","massageOverrides","langOptionHash","defaults","rtlDefaults","populateInstanceComputableOptions","cache","buildViewSpec","viewTypes","getViewsWithButtons","singleUnit","requestedViewType","viewOverrides","specChain","defaultsChain","overridesChain","valueOf","buildViewSpecOptions","buildViewSpecButtonText","queryButtonText","buttonText","buttonTextOverride","buttonTextDefault","isValidViewType","pushLoading","popLoading","titleRangeSeparator","monthYearFormat","forceEventDuration","center","weekends","weekNumbers","weekNumberTitle","scrollTime","startParam","endParam","timezoneParam","buttonIcons","themeButtonIcons","dragOpacity","dragRevertDuration","dragScroll","unselectAuto","dropAccept","eventOrder","eventLimit","eventLimitText","eventLimitClick","dayPopoverFormat","englishDefaults","langs","datepickerLang","langCode","dpLangCode","dpOptions","fcOptions","weekHeader","dpComputableOptions","datepicker","regional","en","setDefaults","newFcOptions","momOptions","momComputableOptions","prevText","nextText","currentText","showMonthAfterYear","yearSuffix","dayOfMonthFormat","mediumTimeFormat","smallTimeFormat","extraSmallTimeFormat","hourFormat","noMeridiemTimeFormat","instanceComputableOptions","smallDayDateFormat","weekFormat","smallWeekFormat","langData","sections","renderSection","buttonName","viewsWithButtons","sectionEl","buttonStr","groupEl","groupChildren","isOnlyButtons","customButtonProps","viewSpec","buttonClick","overrideText","defaultText","themeIcon","normalIcon","innerHtml","button","customButtons","icon","buttonSRText","hasClass","not","hover","sourceNormalizers","sourceFetchers","ajaxDefaults","dataType","eventGUID","rangeStart","rangeEnd","fetchID","currentFetchID","sources","pendingSourceCnt","fetchEventSource","addEventSource","sourceInput","buildEventSource","removeEventSource","isSourcesEqual","updateEvent","isMiscEventPropName","isAtomic","getMiscEventProps","abstractEvent","buildEventFromInput","expandEvent","stickySource","removeEvents","eventID","clientEvents","_fetchEventSource","dataCallback","fetchers","customData","success","error","ajax","eventInputs","isArraySource","cacheEvent","normalizers","origArray","source1","source2","getSourcePrimitive","googleCalendarId","eventDataTransform","_recurring","isValid","allDayDefault","assignDatesToEvent","backupEventDates","isAfter","_rangeStart","_rangeEnd","dowHash","endTime","newProps","oldProps","clearEnd","startDelta","miscProps","date0","_start","_end","_allDay","isAmbigTimezone","undoFunctions","mutateEvents","wholeDay","optionVal","businessHours","constraint","eventConstraint","overlap","eventOverlap","isRangeAllowed","selectConstraint","selectOverlap","constraintEvents","anyContainment","peerEvents","peerEvent","peerOverlap","constraintInput","eventContainsRange","getPeerEvents","eventIntersectsRange","eventSources","getEventCache","otherEvent","BasicView","dayGrid","dayNumbersVisible","weekNumbersVisible","weekNumberWidth","headRowEl","weekday","hasRigidRows","headIntroHtml","weekNumberStyleAttr","numberIntroHtml","dayIntroHtml","introHtml","numberCellHtml","scrollerHeight","setGridHeight","MonthView","isFixedWeeks","weekMode","basic","basicDay","basicWeek","fixedWeekCount","AgendaView","timeGrid","axisWidth","noScrollRowEls","bottomRuleEl","bottomRuleHeight","weekText","slotBgIntroHtml","AGENDA_ALL_DAY_EVENT_LIMIT","dayEvents","timedEvents","agenda","allDaySlot","allDayText","slotEventOverlap","agendaDay","agendaWeek","CommonEvent","contextInfo","actualContextInfo","eventType","allPossibleContexts","object","copyDataFromObject","assign","readableTypes","assignment","discussion","quiz","note","wiki_page","discussion_topic","isNewEvent","isAppointmentGroupFilledEvent","isAppointmentGroupEvent","appointment_group_url","contextCode","effective_context_code","context_code","asset_string","contextApiPrefix","splitAssetString","encodeURIComponent","isUndated","isCompleted","displayTimeString","readableType","fullDetailsURL","startDate","originalStart","endDate","possibleContexts","newClass","rmClass","c","save","params","methodAndURLForSave","forceMinimumDuration","publish","isDueAtMidnight","midnightFudged","isDueStrictlyAtMidnight","isPast","fcUtil","preventWrappingAcrossDates","formatTime","datetime","formattedHtml","unwrap","dateString","datetimeString","minimumEnd","assignmentType","submission_types","plannerObjectType","plannable_type","iconType","BETTER_SCHEDULER","appointmentGroupEventStatus","isOnCalendar","calendarEvent","deleteConfirmation","Assignment","__super__","deleteURL","assignment_url","lock_explanation","description","parseStartDate","html_url","due_at","wrap","dueAt","saveDates","create_assignment_url","replaceTags","user_submitted","needs_grading_count","AssignmentOverride","deleteUrl","copyDataFromAssignment","copyDataFromOverride","assignment_override","override","updateAssignmentTitle","titleContext","assignment_override_url","assignment_id","CalendarEvent","calculateAppointmentGroupEventStatus","reservedUsers","getListOfReservedPeople","calendar_event_url","calendar_event","comments","location_name","location_address","parseEndDate","originalEndDate","all_day","lockedTitle","parent_event_id","reserved","available_slots","start_at","end_at","appointment_group_id","editGroupURL","semanticDateRange","status","availableSlots","consideredReserved","limit","sorted","child_event","sortable_name","natcompare","strings","PlannerNote","encodeURI","ToDoItem","commonEventFactory","contexts","parts","can_change_context","actualContextCode","assignment_overrides","assignment_group_id","plannable","hidden","contextCodes","includes","can_edit","can_delete","can_manage_appointment_group","can_create_calendar_events","workflow_state","frozen","child_events_count","can_update_object","can_manage_todo","can_update_todo_date","details","planner_note_id","todo_date","location","course_id","user_id","event_type","mergeEditResult","plannable_id","deleteObjectURL","apiUrl","editUrl","saveParams","date_param","urlFragment","planner_override","new_activity","submissions","plannable_date","fudgeDateForProfileTimezone","unfudgeDateForProfileTimezone","toDate","addMinuteDelta","minuteDelta","dayDelta","EventDataSource","eventSaved","bind","eventDeleted","eventWithId","clearCache","needUndatedEventsForContexts","getEventsFromCacheForContext","processNextRequest","getEventsFromCache","getAppointmentGroupsFromCache","getAppointmentGroups","processAppointmentData","getEventsForAppointmentGroup","getEvents","startFetch","fetchNextBatch","inFlightRequest","pendingRequests","subscribe","addEventToCache","cached","contextData","appointmentGroups","participants","fetchedAppointmentGroups","forEach","fetchedRanges","fetchedUndated","removeCachedReservation","cached_ag","reserved_times","_","reject","reservation","requiring_action","requiredDateRangeForContext","requiredDateRangeForContexts","earliest","latest","some","old_context_code","cCode","eventInRange","ref","inFlightCheckKey","splice","fetchManageable","cb","manageable","fetchJobs","include","scope","include_past_appointments","is_manageable","is_scheduleable","appointments","appointmentEvents","eventData","childEvents","childEventData","childEvent","cachedEvents","donecb","datacb","start_date","end_date","paramsForDatedEvents","undated","paramsForUndatedEvents","list","requestID","requestResults","eventDataSources","indexParams","assignmentParams","STUDENT_PLANNER_ENABLED","PLANNER_ENABLED","partition","cc","MANAGE_CONTEXTS","admin_contexts","student_contexts","pparams","key","newEvents","transformPlannerItems","fillOutPlannerNotes","requestResult","nextPageDate","rendered","Set","upperBounds","isEmpty","renderFromCache","has","ag_ids","p","appointment_group_ids","appointmentGroup","registration_status","urlAndParamsArray","dataCB","doneCB","numCompleted","wrapperCB","isDone","urlAndParams","per_page","xhr","rels","rel","parseLinkHeader","getResponseHeader","singlePage","notes","group_id","controllable","propType","handlerName","defaultPropName","propName","componentName","Error","hasProp","child","ctor","shimGetterShorthand","hostObject","getters","keys","defineProperty","enumerable","configurable","setOptions","prompt","optHtml","ifExists","scrollbarWidth","$div","$innerDiv","w1","w2","dim","speed","undim","confirmDelete","$object","$dialog","noMessage","no_message","onContinue","confirmed","fadeOut","prepareData","authenticity_token","request","unhandledXHRs","cancelled","skipConfirmations","dialog_options","confirmation_class","modal","confirm","fragmentChange","query","search","query_hash","$doc","found","_checkFragments","fragmentList","doc","fragment","triggerHandler","idx","clickLink","showIf","bool","disableIf","indicate","$indicator","container","createElement","mouseover","singleFlash","fadeIn","hasScrollbar","msg","fillWindowWithMe","minHeight","$this","$wrapper","$main","$not_right_side","$window","$toResize","alsoResize","fillWindowWithThisElement","spaceLeftForThis","onResize","autoGrowInput","o","maxWidth","minWidth","comfortZone","testSubject","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","insertAfter","testerWidth","newWidth","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","mathmlSpan","toMediaCommentLink","$link","nodeName","convert","$dummy","replaceWith","forEditing","uuid","uniqueId","action","files_domain","equationImage","require","unsubscribe","topic","wrapper","guid","module","exports","zh_Hant","ignorePunctuation","numeric","by","byKey","byGet","coupleTimeFields","$start","$end","$date","blur","$blurred","instance","realStart","realEnd","setFullYear","getFullYear","setMonth","getMonth","TimeBlockListManager","blocks","locked","consolidate","consolidatedBlocks","block","lastBlock","nextBreak","delete","reset"],"mappings":"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","file":"124-c-a8d799f475.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"  \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"cy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"dangos testun wedii ddyfynnu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gsejne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gsejne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"de\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"zitierten Text zeigen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"el\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"   \\\"}}},\\\"en-AU\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-GB\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"es\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostrar texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fa\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"   \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"nyt lainattu teksti\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"he\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\" \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ht\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afiche tks site\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hu\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"idzett szveg megjelentse\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"   \\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"is\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Sna vitnaan texta\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"it\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostra testo citato\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ja\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ko\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"  \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"mi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"whakaatu kuputuhi faahiti\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"nb\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nb-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"geciteerde tekst tonen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nn\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis sitert tekst\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"poka cytowany fragment tekstu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt-BR\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ru\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"  \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"prikai citirano besedilo\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"tr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"alntlanan metni gster\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"uk\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"  \\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hans\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hant\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"\\\",\\\"word_separator\\\":\\\" \\\"}}}}\"));\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport I18n from 'i18n!lib.text_helper'\nimport htmlEscape from 'str/htmlEscape'\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\"\nAUTO_LINKIFY_REGEX = ///\n  \\b\n  (                                            # Capture 1: entire matched URL\n    (?:\n      https?://                                # http or https protocol\n      |                                        # or\n      www\\d{0,3}[.]                            # \"www.\", \"www1.\", \"www2.\"  \"www999.\"\n      |                                        # or\n      [a-z0-9.\\-]+[.][a-z]{2,4}/               # looks like domain name followed by a slash\n    )\n\n    (?:\n      [^\\s()<>]+                               # Run of non-space, non-()<>\n      |                                        # or\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n    )+\n\n    (?:\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n      |                                        # or\n      [^\\s`!()\\[\\]{};:'\".,<>?]           # End with: not a space or one of these punct chars\n    )\n  ) | (\n    LINK-PLACEHOLDER\n  )\n///gi\n\nexport default th =\n  quoteClump: (lines) ->\n    \"<div class='quoted_text_holder'>\n      <a href='#' class='show_quoted_text_link'>#{htmlEscape I18n.t(\"quoted_text_toggle\", \"show quoted text\")}</a>\n      <div class='quoted_text' style='display: none;'>\n        #{$.raw lines.join \"\\n\"}\n      </div>\n    </div>\"\n\n  formatMessage: (message) ->\n    # replace any links with placeholders so we don't escape them\n    links = []\n    placeholderBlocks = []\n    message = message.replace AUTO_LINKIFY_REGEX, (match, i) ->\n      placeholderBlocks.push(if match == AUTO_LINKIFY_PLACEHOLDER\n          AUTO_LINKIFY_PLACEHOLDER\n        else\n          link = match\n          link = \"http://\" + link unless link[0..6] == 'http://' or link[0..7] == 'https://'\n          links.push link\n          \"<a href='#{htmlEscape(link)}'>#{htmlEscape(match)}</a>\"\n      )\n      AUTO_LINKIFY_PLACEHOLDER\n\n    # now escape html\n    message = htmlEscape message\n\n    # now put the links back in\n    message = message.replace new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), (match, i) ->\n      placeholderBlocks.shift()\n\n    # replace newlines\n    message = message.replace /\\n/g, '<br />\\n'\n\n    # generate quoting clumps\n    processedLines = []\n    quoteBlock = []\n    for line in message.split(\"\\n\")\n      if line.match /^(&gt;|>)/\n        quoteBlock.push line\n      else\n        processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n        quoteBlock = []\n        processedLines.push line\n    processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n    message = processedLines.join \"\\n\"\n\n  delimit: (number) ->\n    # only process real numbers\n    return String(number) if isNaN number\n\n    # capture sign and then start working with the absolute value. don't\n    # process infinities.\n    sign = if number < 0 then '-' else ''\n    abs = Math.abs number\n    return String(number) if abs is Infinity\n\n    # break out the integer portion and initialize the result to just the\n    # decimal (if any)\n    integer = Math.floor abs\n    result = if abs == integer then '' else String(abs).replace(/^\\d+\\./, '.')\n\n    # for each comma'd chunk, prepend to the result and remove from integer\n    while integer >= 1000\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1')\n      integer = Math.floor integer / 1000\n      result = mod + result\n\n    # integer is now either in [1, 999], or equal to 0 iff number in (-1, 1).\n    # prepend it with the sign\n    sign + String(integer) + result\n\n  truncateText: (string, options = {}) ->\n    max = options.max ? 30\n    ellipsis = I18n.t('ellipsis', '...')\n    wordSeparator = I18n.t('word_separator', ' ')\n\n    string = (string ? \"\").replace(/\\s+/g, wordSeparator).trim()\n    return string if not string or string.length <= max\n\n    truncateAt = 0\n    while true\n      pos = string.indexOf(wordSeparator, truncateAt + 1)\n      break if pos < 0 || pos > max - ellipsis.length\n      truncateAt = pos\n    truncateAt or= max - ellipsis.length # first word > max, so we cut it\n\n    string.substring(0, truncateAt) + ellipsis\n\n  plainText: (message) ->\n    # remove all html tags from the message returning only the text\n    message.replace(/(<([^>]+)>)/ig, '');\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/lib.text_helper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('lib.text_helper');\n  ","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities\n * ---\n * Capitalize the first letter in a string\n * @param {String} str\n */\nfunction capitalizeFirstLetter(str) {\n  return str ? str.charAt(0).toUpperCase() + str.slice(1) : str;\n}\n\nexport default capitalizeFirstLetter;\nexport { capitalizeFirstLetter };","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Scrolls the supplied object until its visible. Call from\n// (\"html,body\") to scroll the window.\n\nimport $ from 'jquery'\nimport './vendor/jquery.scrollTo'\n\n$.fn.scrollToVisible = function(obj) {\n  const options = {}\n  const $obj = $(obj)\n\n  if ($obj.length === 0) {\n    return\n  }\n  let innerOffset = $obj.offset(),\n    width = $obj.outerWidth(),\n    height = $obj.outerHeight(),\n    top = innerOffset.top,\n    bottom = top + height,\n    left = innerOffset.left,\n    right = left + width,\n    currentTop = this.selector == 'html,body' ? $.windowScrollTop() : this.scrollTop(),\n    currentLeft = this.scrollLeft(),\n    currentHeight = this.outerHeight(),\n    currentWidth = this.outerWidth()\n\n  if (this.selector != 'html,body') {\n    let outerOffset = $('body').offset()\n    this.each(function() {\n      try {\n        outerOffset = $(this).offset()\n        return false\n      } catch (e) {}\n    })\n    top -= outerOffset.top\n    bottom -= outerOffset.top\n    left -= outerOffset.left\n    right -= outerOffset.left\n  }\n\n  if (this[0].tagName == 'HTML' || this[0].tagName == 'BODY') {\n    currentHeight = $(window).height()\n    if ($('#wizard_box:visible').length > 0) {\n      currentHeight -= $('#wizard_box:visible').height()\n    }\n    currentWidth = $(window).width()\n    top -= currentTop\n    left -= currentLeft\n    bottom -= currentTop\n    right -= currentLeft\n  }\n  if (top < 0 || (currentHeight < height && bottom > currentHeight)) {\n    options.scrollTop = top + currentTop\n  } else if (bottom > currentHeight) {\n    options.scrollTop = bottom + currentTop - currentHeight + 20\n  }\n  if (left < 0) {\n    options.scrollLeft = left + currentLeft\n  } else if (right > currentWidth) {\n    options.scrollLeft = right + currentLeft - currentWidth + 20\n  }\n  if (options.scrollTop == 1) {\n    options.scrollTop = 0\n  }\n  if (options.scrollLeft == 1) {\n    options.scrollLeft = 0\n  }\n\n  this.scrollTop(options.scrollTop)\n  this.scrollLeft(options.scrollLeft)\n\n  return this\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\" \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\" :\\\",\\\"registered_groups\\\":\\\"    \\\",\\\"registered_users\\\":\\\"    \\\",\\\"send_message_to\\\":\\\"  ...\\\",\\\"unregistered_groups\\\":\\\"     \\\",\\\"unregistered_users\\\":\\\"     \\\"}}},\\\"cy\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Pob grp\\\",\\\"all_users\\\":\\\"Pob defnyddiwr\\\",\\\"message_groups\\\":\\\"Anfon neges at grwpiau\\\",\\\"message_label\\\":\\\"Neges:\\\",\\\"message_students\\\":\\\"Anfon Neges at Fyfyrwyr\\\",\\\"registered_groups\\\":\\\"Grwpiau sydd wedi cofrestrun barod\\\",\\\"registered_users\\\":\\\"Defnyddwyr sydd wedi cofrestrun barod\\\",\\\"send_message_to\\\":\\\"Anfon neges at...\\\",\\\"unregistered_groups\\\":\\\"Grwpiau sydd heb gofrestru eto\\\",\\\"unregistered_users\\\":\\\"Defnyddwyr sydd heb gofrestru eto\\\"}}},\\\"da\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle grupper\\\",\\\"all_users\\\":\\\"Alle brugere\\\",\\\"message_groups\\\":\\\"Send besked til grupper\\\",\\\"message_label\\\":\\\"Besked:\\\",\\\"message_students\\\":\\\"Send besked til studerende\\\",\\\"registered_groups\\\":\\\"Grupper, som allerede har tilmeldt sig\\\",\\\"registered_users\\\":\\\"Brugere, som allerede har tilmeldt sig\\\",\\\"send_message_to\\\":\\\"Send en besked til ...\\\",\\\"unregistered_groups\\\":\\\"Grupper, som endnu ikke har tilmeldt sig\\\",\\\"unregistered_users\\\":\\\"Brugere, som endnu ikke har tilmeldt sig\\\"}}},\\\"da-x-k12\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle grupper\\\",\\\"all_users\\\":\\\"Alle brugere\\\",\\\"message_groups\\\":\\\"Send besked til grupper\\\",\\\"message_label\\\":\\\"Besked:\\\",\\\"message_students\\\":\\\"Send besked til elever\\\",\\\"registered_groups\\\":\\\"Grupper, som allerede har tilmeldt sig\\\",\\\"registered_users\\\":\\\"Brugere, som allerede har tilmeldt sig\\\",\\\"send_message_to\\\":\\\"Send en besked til ...\\\",\\\"unregistered_groups\\\":\\\"Grupper, som endnu ikke har tilmeldt sig\\\",\\\"unregistered_users\\\":\\\"Brugere, som endnu ikke har tilmeldt sig\\\"}}},\\\"de\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle Gruppen\\\",\\\"all_users\\\":\\\"Alle Benutzer\\\",\\\"message_groups\\\":\\\"Gruppen benachrichtigen\\\",\\\"message_label\\\":\\\"Nachricht:\\\",\\\"message_students\\\":\\\"Studenten benachrichtigen\\\",\\\"registered_groups\\\":\\\"Gruppen, die bereits angemeldet sind\\\",\\\"registered_users\\\":\\\"Benutzer, die bereits angemeldet sind\\\",\\\"send_message_to\\\":\\\"Eine Nachricht senden an ...\\\",\\\"unregistered_groups\\\":\\\"Gruppen, die noch nicht angemeldet sind\\\",\\\"unregistered_users\\\":\\\"Benutzer, die noch nicht angemeldet sind\\\"}}},\\\"el\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"  \\\",\\\"all_users\\\":\\\"  \\\",\\\"message_groups\\\":\\\"   \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"   /\\\",\\\"registered_groups\\\":\\\"    \\\",\\\"registered_users\\\":\\\"    \\\",\\\"send_message_to\\\":\\\"  ...\\\",\\\"unregistered_groups\\\":\\\"     \\\",\\\"unregistered_users\\\":\\\"     \\\"}}},\\\"en-AU\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"All groups\\\",\\\"all_users\\\":\\\"All users\\\",\\\"message_groups\\\":\\\"Message Groups\\\",\\\"message_label\\\":\\\"Message:\\\",\\\"message_students\\\":\\\"Message Students\\\",\\\"registered_groups\\\":\\\"Groups who have already signed up\\\",\\\"registered_users\\\":\\\"Users who have already signed up\\\",\\\"send_message_to\\\":\\\"Send a message to...\\\",\\\"unregistered_groups\\\":\\\"Groups who haven't signed up yet\\\",\\\"unregistered_users\\\":\\\"Users who haven't signed up yet\\\"}}},\\\"en-CA\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"All groups\\\",\\\"all_users\\\":\\\"All users\\\",\\\"message_groups\\\":\\\"Message Groups\\\",\\\"message_label\\\":\\\"Message:\\\",\\\"message_students\\\":\\\"Message Students\\\",\\\"registered_groups\\\":\\\"Groups who have already signed up\\\",\\\"registered_users\\\":\\\"Users who have already signed up\\\",\\\"send_message_to\\\":\\\"Send a message to...\\\",\\\"unregistered_groups\\\":\\\"Groups who haven't signed up yet\\\",\\\"unregistered_users\\\":\\\"Users who haven't signed up yet\\\"}}},\\\"en-GB\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"All groups\\\",\\\"all_users\\\":\\\"All users\\\",\\\"message_groups\\\":\\\"Message groups\\\",\\\"message_label\\\":\\\"Message:\\\",\\\"message_students\\\":\\\"Message students\\\",\\\"registered_groups\\\":\\\"Groups who have already signed up\\\",\\\"registered_users\\\":\\\"Users who have already signed up\\\",\\\"send_message_to\\\":\\\"Send a message to...\\\",\\\"unregistered_groups\\\":\\\"Groups who haven't signed up yet\\\",\\\"unregistered_users\\\":\\\"Users who haven't signed up yet\\\"}}},\\\"es\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Todos los grupos\\\",\\\"all_users\\\":\\\"Todos los usuarios\\\",\\\"message_groups\\\":\\\"Mensaje a grupos\\\",\\\"message_label\\\":\\\"Mensaje:\\\",\\\"message_students\\\":\\\"Mensaje a estudiantes\\\",\\\"registered_groups\\\":\\\"Grupos que ya se han inscrito\\\",\\\"registered_users\\\":\\\"Usuarios que ya se han inscrito\\\",\\\"send_message_to\\\":\\\"Enviar un mensaje a...\\\",\\\"unregistered_groups\\\":\\\"Grupos que an no se han inscrito\\\",\\\"unregistered_users\\\":\\\"Usuarios que an no se han inscrito\\\"}}},\\\"fa\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"  \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\"    \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"   \\\",\\\"registered_groups\\\":\\\"       \\\",\\\"registered_users\\\":\\\"      \\\",\\\"send_message_to\\\":\\\"  ...\\\",\\\"unregistered_groups\\\":\\\"       \\\",\\\"unregistered_users\\\":\\\"      \\\"}}},\\\"fi\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Kaikki ryhmt\\\",\\\"all_users\\\":\\\"Kaikki kyttjt\\\",\\\"message_groups\\\":\\\"Lhet viesti ryhmille\\\",\\\"message_label\\\":\\\"Viesti:\\\",\\\"message_students\\\":\\\"Lhet viesti opiskelijoille\\\",\\\"registered_groups\\\":\\\"Ryhmt, jotka ovat jo rekisterityneet\\\",\\\"registered_users\\\":\\\"Kyttjt, jotka ovat jo rekisterityneet\\\",\\\"send_message_to\\\":\\\"Lhet viesti...\\\",\\\"unregistered_groups\\\":\\\"Ryhmt, jotka eivt ole viel rekisterityneet\\\",\\\"unregistered_users\\\":\\\"Kyttjt, jotka eivt ole viel rekisterityneet\\\"}}},\\\"fr\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Tous les groupes\\\",\\\"all_users\\\":\\\"Tous les utilisateurs\\\",\\\"message_groups\\\":\\\"Envoyer un message aux groupes\\\",\\\"message_label\\\":\\\"Message :\\\",\\\"message_students\\\":\\\"Envoyer un message aux tudiants\\\",\\\"registered_groups\\\":\\\"Groupes dj inscrits\\\",\\\"registered_users\\\":\\\"Utilisateurs dj inscrits\\\",\\\"send_message_to\\\":\\\"Envoyer un message ...\\\",\\\"unregistered_groups\\\":\\\"Groupes pas encore inscrits\\\",\\\"unregistered_users\\\":\\\"Utilisateurs pas encore inscrits\\\"}}},\\\"fr-CA\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Tous les groupes\\\",\\\"all_users\\\":\\\"Tous les utilisateurs\\\",\\\"message_groups\\\":\\\"Envoyer un message aux groupes\\\",\\\"message_label\\\":\\\"Message :\\\",\\\"message_students\\\":\\\"Envoyer un message aux tudiants\\\",\\\"registered_groups\\\":\\\"Groupes dj inscrits\\\",\\\"registered_users\\\":\\\"Utilisateurs dj inscrits\\\",\\\"send_message_to\\\":\\\"Envoyer un message ...\\\",\\\"unregistered_groups\\\":\\\"Groupes non encore inscrits\\\",\\\"unregistered_users\\\":\\\"Utilisateurs non encore inscrits\\\"}}},\\\"he\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\" \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\" \\\",\\\"registered_groups\\\":\\\"  \\\",\\\"registered_users\\\":\\\"  \\\",\\\"send_message_to\\\":\\\"  ...\\\",\\\"unregistered_groups\\\":\\\"  \\\",\\\"unregistered_users\\\":\\\"  \\\"}}},\\\"ht\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Tout Gwoup\\\",\\\"all_users\\\":\\\"Tout Itilizat\\\",\\\"message_groups\\\":\\\"Mesaj Gwoup\\\",\\\"message_label\\\":\\\"Mesaj:\\\",\\\"message_students\\\":\\\"Voye Mesaj bay Elv\\\",\\\"registered_groups\\\":\\\"Gwoup ki enskri deja\\\",\\\"registered_users\\\":\\\"Itilizat ki enskri deja\\\",\\\"send_message_to\\\":\\\"Voye yon mesaj bay...\\\",\\\"unregistered_groups\\\":\\\"Gwoup ki poko enskri\\\",\\\"unregistered_users\\\":\\\"Itilizat ki poko enskri\\\"}}},\\\"hu\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"sszes csoport\\\",\\\"all_users\\\":\\\"sszes felhasznl\\\",\\\"message_groups\\\":\\\"zenet a csoportoknak\\\",\\\"message_label\\\":\\\"zenet:\\\",\\\"message_students\\\":\\\"zenet a hallgatknak\\\",\\\"registered_groups\\\":\\\"Csoportok, akik mr feliratkoztak\\\",\\\"registered_users\\\":\\\"Felhasznlk, akik mr feliratkoztak\\\",\\\"send_message_to\\\":\\\"zenetklds a kvetkeznek...\\\",\\\"unregistered_groups\\\":\\\"Csoportok, akik nem iratkoztak mg fel\\\",\\\"unregistered_users\\\":\\\"Felhasznlk, akik nem iratkoztak mg fel\\\"}}},\\\"hy\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\"  \\\",\\\"message_label\\\":\\\"\\\",\\\"message_students\\\":\\\"  \\\",\\\"registered_groups\\\":\\\"   \\\",\\\"registered_users\\\":\\\"   \\\",\\\"send_message_to\\\":\\\" ...\\\",\\\"unregistered_groups\\\":\\\"  \\\",\\\"unregistered_users\\\":\\\"  \\\"}}},\\\"is\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Allir hpar\\\",\\\"all_users\\\":\\\"Allir notendur\\\",\\\"message_groups\\\":\\\"Skilabo til hpa\\\",\\\"message_label\\\":\\\"Skilabo:\\\",\\\"message_students\\\":\\\"Skilabo til nemenda\\\",\\\"registered_groups\\\":\\\"Hpar sem egar hafa skr sig\\\",\\\"registered_users\\\":\\\"Notendur sem egar hafa skr sig\\\",\\\"send_message_to\\\":\\\"Senda skilabo til...\\\",\\\"unregistered_groups\\\":\\\"Hpar sem hafa enn ekki skr sig\\\",\\\"unregistered_users\\\":\\\"Notendur sem hafa enn ekki skr sig\\\"}}},\\\"it\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Tutti i gruppi\\\",\\\"all_users\\\":\\\"Tutti gli utenti\\\",\\\"message_groups\\\":\\\"Invia messaggio a gruppi\\\",\\\"message_label\\\":\\\"Messaggio:\\\",\\\"message_students\\\":\\\"Invia messaggio a studenti\\\",\\\"registered_groups\\\":\\\"Gruppi che si sono gi registrati\\\",\\\"registered_users\\\":\\\"Utenti che si sono gi registrati\\\",\\\"send_message_to\\\":\\\"Invia un messaggio a...\\\",\\\"unregistered_groups\\\":\\\"Gruppi che non si sono ancora registrati\\\",\\\"unregistered_users\\\":\\\"Utenti che non si sono ancora registrati\\\"}}},\\\"ja\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"\\\",\\\"all_users\\\":\\\"\\\",\\\"message_groups\\\":\\\" \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"\\\",\\\"registered_groups\\\":\\\"\\\",\\\"registered_users\\\":\\\"\\\",\\\"send_message_to\\\":\\\"...\\\",\\\"unregistered_groups\\\":\\\"\\\",\\\"unregistered_users\\\":\\\"\\\"}}},\\\"ko\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\"  \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"  \\\",\\\"registered_groups\\\":\\\"  \\\",\\\"registered_users\\\":\\\"  \\\",\\\"send_message_to\\\":\\\"  \\\",\\\"unregistered_groups\\\":\\\"   \\\",\\\"unregistered_users\\\":\\\"   \\\"}}},\\\"mi\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"rp katoa\\\",\\\"all_users\\\":\\\"Ng kaiwhakahaere katoa\\\",\\\"message_groups\\\":\\\"Rp Karere\\\",\\\"message_label\\\":\\\"Karere:\\\",\\\"message_students\\\":\\\"Karere ki ng konga\\\",\\\"registered_groups\\\":\\\"Rp nei kua haina kua ake\\\",\\\"registered_users\\\":\\\"Ng kaiwhakamahi kua rhitaktia\\\",\\\"send_message_to\\\":\\\"Tukua he karere ki ...\\\",\\\"unregistered_groups\\\":\\\"Rp kahore nei i hainatia ake an\\\",\\\"unregistered_users\\\":\\\"Ng kaiwhakamahi kore an kia rhita\\\"}}},\\\"nb\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle grupper\\\",\\\"all_users\\\":\\\"Alle brukere\\\",\\\"message_groups\\\":\\\"Gi beskjed til grupper\\\",\\\"message_label\\\":\\\"Beskjed:\\\",\\\"message_students\\\":\\\"Gi melding til studentene\\\",\\\"registered_groups\\\":\\\"Grupper som allerede har meldt seg p\\\",\\\"registered_users\\\":\\\"Brukere som allerede har meldt seg p\\\",\\\"send_message_to\\\":\\\"Send en melding til...\\\",\\\"unregistered_groups\\\":\\\"Grupper som ikke har meldt seg p enda\\\",\\\"unregistered_users\\\":\\\"Brukere som ikke har meldt seg p enda\\\"}}},\\\"nb-x-k12\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle grupper\\\",\\\"all_users\\\":\\\"Alle brukere\\\",\\\"message_groups\\\":\\\"Gi beskjed til grupper\\\",\\\"message_label\\\":\\\"Beskjed:\\\",\\\"message_students\\\":\\\"Gi melding til elevene\\\",\\\"registered_groups\\\":\\\"Grupper som allerede har meldt seg p\\\",\\\"registered_users\\\":\\\"Brukere som allerede har meldt seg p\\\",\\\"send_message_to\\\":\\\"Send en melding til...\\\",\\\"unregistered_groups\\\":\\\"Grupper som ikke har meldt seg p enda\\\",\\\"unregistered_users\\\":\\\"Brukere som ikke har meldt seg p enda\\\"}}},\\\"nl\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle Groepen\\\",\\\"all_users\\\":\\\"Alle gebruikers\\\",\\\"message_groups\\\":\\\"Bericht naar groepen\\\",\\\"message_label\\\":\\\"Bericht:\\\",\\\"message_students\\\":\\\"Bericht naar cursisten\\\",\\\"registered_groups\\\":\\\"Groepen die zich al hebben ingeschreven\\\",\\\"registered_users\\\":\\\"Gebruikers die zich al hebben ingeschreven\\\",\\\"send_message_to\\\":\\\"Een melding sturen naar\\\",\\\"unregistered_groups\\\":\\\"Groepen die zich nog niet hebben ingeschreven\\\",\\\"unregistered_users\\\":\\\"Gebruikers die zich nog niet hebben ingeschreven\\\"}}},\\\"nn\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alle grupper\\\",\\\"all_users\\\":\\\"Alle brukarar\\\",\\\"message_groups\\\":\\\"Send melding til gruppene\\\",\\\"message_label\\\":\\\"Melding:\\\",\\\"message_students\\\":\\\"Send melding til studentane\\\",\\\"registered_groups\\\":\\\"Grupper som allereie har meldt seg p\\\",\\\"registered_users\\\":\\\"Brukarar som allereie har meldt seg p\\\",\\\"send_message_to\\\":\\\"Send ei melding til...\\\",\\\"unregistered_groups\\\":\\\"Grupper som ikkje har meldt seg p enno\\\",\\\"unregistered_users\\\":\\\"Brukarar som ikkje har meldt seg p enno\\\"}}},\\\"pl\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Wszytskie grupy\\\",\\\"all_users\\\":\\\"Wszyscy uytkownicy\\\",\\\"message_groups\\\":\\\"Wylij wiadomo do grup\\\",\\\"message_label\\\":\\\"Wiadomo:\\\",\\\"message_students\\\":\\\"Wiadomo dla uczestnikw\\\",\\\"registered_groups\\\":\\\"Grupy ju zapisane\\\",\\\"registered_users\\\":\\\"Uytkownicy ju zapisani\\\",\\\"send_message_to\\\":\\\"Wylij wiadomo do...\\\",\\\"unregistered_groups\\\":\\\"Grupy jeszcze nie zapisane\\\",\\\"unregistered_users\\\":\\\"Uytkownicy jeszcze nie zapisani\\\"}}},\\\"pt\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Todos os grupos\\\",\\\"all_users\\\":\\\"Todos os utilizadores\\\",\\\"message_groups\\\":\\\"Contactar grupos\\\",\\\"message_label\\\":\\\"Mensagem:\\\",\\\"message_students\\\":\\\"Contactar alunos\\\",\\\"registered_groups\\\":\\\"Grupos que j se inscreveram\\\",\\\"registered_users\\\":\\\"Utilizadores que j se inscreveram\\\",\\\"send_message_to\\\":\\\"Enviar mensagem para...\\\",\\\"unregistered_groups\\\":\\\"Grupos que ainda no se inscreveram\\\",\\\"unregistered_users\\\":\\\"Utilizadores que ainda no se inscreveram\\\"}}},\\\"pt-BR\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Todos os grupos\\\",\\\"all_users\\\":\\\"Todos os usurios\\\",\\\"message_groups\\\":\\\"Grupos de mensagem\\\",\\\"message_label\\\":\\\"Mensagem:\\\",\\\"message_students\\\":\\\"Enviar mensagem aos alunos\\\",\\\"registered_groups\\\":\\\"Grupos que j se inscreveram\\\",\\\"registered_users\\\":\\\"Usurios que j se inscreveram\\\",\\\"send_message_to\\\":\\\"Enviar uma mensagem para...\\\",\\\"unregistered_groups\\\":\\\"Grupos que ainda no se inscreveram\\\",\\\"unregistered_users\\\":\\\"Usurios que ainda no se inscreveram\\\"}}},\\\"ru\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\" \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"  \\\",\\\"registered_groups\\\":\\\",   \\\",\\\"registered_users\\\":\\\",   \\\",\\\"send_message_to\\\":\\\" ...\\\",\\\"unregistered_groups\\\":\\\",    \\\",\\\"unregistered_users\\\":\\\",    \\\"}}},\\\"sl\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Vse skupine\\\",\\\"all_users\\\":\\\"Vsi uporabniki\\\",\\\"message_groups\\\":\\\"Sporoi skupinam\\\",\\\"message_label\\\":\\\"Sporoilo:\\\",\\\"message_students\\\":\\\"Sporoi tudentom\\\",\\\"registered_groups\\\":\\\"Skupine, ki so se e prijavile\\\",\\\"registered_users\\\":\\\"Uporabniki, ki so se e prijavili\\\",\\\"send_message_to\\\":\\\"Polji sporoilo naslovniku ...\\\",\\\"unregistered_groups\\\":\\\"Skupine, ki se e niso prijavile\\\",\\\"unregistered_users\\\":\\\"Uporabniki, ki se e niso prijavili\\\"}}},\\\"sv\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alla grupper\\\",\\\"all_users\\\":\\\"Alla anvndare\\\",\\\"message_groups\\\":\\\"Meddela grupper\\\",\\\"message_label\\\":\\\"Meddelande:\\\",\\\"message_students\\\":\\\"Meddela studenter\\\",\\\"registered_groups\\\":\\\"Grupper som redan bokat in sig\\\",\\\"registered_users\\\":\\\"Anvndare som redan bokat in sig\\\",\\\"send_message_to\\\":\\\"Skicka meddelande till ...\\\",\\\"unregistered_groups\\\":\\\"Grupper som nnu inte har bokat in sig\\\",\\\"unregistered_users\\\":\\\"Anvndare som nnu inte har bokat in sig\\\"}}},\\\"sv-x-k12\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Alla grupper\\\",\\\"all_users\\\":\\\"Alla anvndare\\\",\\\"message_groups\\\":\\\"Meddela grupper\\\",\\\"message_label\\\":\\\"Meddelande:\\\",\\\"message_students\\\":\\\"Meddela elever\\\",\\\"registered_groups\\\":\\\"Grupper som redan bokat in sig\\\",\\\"registered_users\\\":\\\"Anvndare som redan bokat in sig\\\",\\\"send_message_to\\\":\\\"Skicka meddelande till ...\\\",\\\"unregistered_groups\\\":\\\"Grupper som nnu inte har bokat in sig\\\",\\\"unregistered_users\\\":\\\"Anvndare som nnu inte har bokat in sig\\\"}}},\\\"tr\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"Tm gruplar\\\",\\\"all_users\\\":\\\"Tm kullanclar\\\",\\\"message_groups\\\":\\\"Gruplara Mesaj Gnder\\\",\\\"message_label\\\":\\\"Mesaj:\\\",\\\"message_students\\\":\\\"rencilere Mesaj Gnder\\\",\\\"registered_groups\\\":\\\"nceden Kaydolmu Gruplar\\\",\\\"registered_users\\\":\\\"nceden Kaydolmu Kullanclar\\\",\\\"send_message_to\\\":\\\"una mesaj gnder...\\\",\\\"unregistered_groups\\\":\\\"Henz kayt olma gruplar\\\",\\\"unregistered_users\\\":\\\"Henz kayt olmam kullanclar\\\"}}},\\\"uk\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\" \\\",\\\"all_users\\\":\\\" \\\",\\\"message_groups\\\":\\\" \\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\" \\\",\\\"registered_groups\\\":\\\",   \\\",\\\"registered_users\\\":\\\",   \\\",\\\"send_message_to\\\":\\\"   ...\\\",\\\"unregistered_groups\\\":\\\",    \\\",\\\"unregistered_users\\\":\\\",    \\\"}}},\\\"zh-Hans\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"\\\",\\\"all_users\\\":\\\"\\\",\\\"message_groups\\\":\\\"\\\",\\\"message_label\\\":\\\":\\\",\\\"message_students\\\":\\\"\\\",\\\"registered_groups\\\":\\\"\\\",\\\"registered_users\\\":\\\"\\\",\\\"send_message_to\\\":\\\"...\\\",\\\"unregistered_groups\\\":\\\"\\\",\\\"unregistered_users\\\":\\\"\\\"}}},\\\"zh-Hant\\\":{\\\"calendar\\\":{\\\"message_participants\\\":{\\\"all_groups\\\":\\\"\\\",\\\"all_users\\\":\\\"\\\",\\\"message_groups\\\":\\\"\\\",\\\"message_label\\\":\\\"\\\",\\\"message_students\\\":\\\"\\\",\\\"registered_groups\\\":\\\"\\\",\\\"registered_users\\\":\\\"\\\",\\\"send_message_to\\\":\\\"\\\",\\\"unregistered_groups\\\":\\\"\\\",\\\"unregistered_users\\\":\\\"\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/calendar.message_participants';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('calendar.message_participants');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!calendar.message_participants\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'calendar/messageParticipants';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"message_groups\", \"Message Groups\", options) : helperMissing.call(depth0, \"t\", \"message_groups\", \"Message Groups\", options)))\n    + \"\\n\";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n  \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"message_students\", \"Message Students\", options) : helperMissing.call(depth0, \"t\", \"message_students\", \"Message Students\", options)))\n    + \"\\n\";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <option value=\\\"all\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"all_groups\", \"All groups\", options) : helperMissing.call(depth0, \"t\", \"all_groups\", \"All groups\", options)))\n    + \"</option>\\n      <option value=\\\"unregistered\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"unregistered_groups\", \"Groups who haven't signed up yet\", options) : helperMissing.call(depth0, \"t\", \"unregistered_groups\", \"Groups who haven't signed up yet\", options)))\n    + \"</option>\\n      <option value=\\\"registered\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"registered_groups\", \"Groups who have already signed up\", options) : helperMissing.call(depth0, \"t\", \"registered_groups\", \"Groups who have already signed up\", options)))\n    + \"</option>\\n      \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n      <option value=\\\"all\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"all_users\", \"All users\", options) : helperMissing.call(depth0, \"t\", \"all_users\", \"All users\", options)))\n    + \"</option>\\n      <option value=\\\"unregistered\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"unregistered_users\", \"Users who haven't signed up yet\", options) : helperMissing.call(depth0, \"t\", \"unregistered_users\", \"Users who haven't signed up yet\", options)))\n    + \"</option>\\n      <option value=\\\"registered\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"registered_users\", \"Users who have already signed up\", options) : helperMissing.call(depth0, \"t\", \"registered_users\", \"Users who have already signed up\", options)))\n    + \"</option>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<form title=\\\"\";\n  stack1 = (helper = helpers.ifEqual || (depth0 && depth0.ifEqual),options={hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.participant_type), \"Group\", options) : helperMissing.call(depth0, \"ifEqual\", (depth0 && depth0.participant_type), \"Group\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" action='#' id='message_participants_form'>\\n  <h2>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"send_message_to\", \"Send a message to...\", options) : helperMissing.call(depth0, \"t\", \"send_message_to\", \"Send a message to...\", options)))\n    + \"</h2>\\n  <div>\\n    <select class=\\\"message_groups\\\">\\n      \";\n  stack1 = (helper = helpers.ifEqual || (depth0 && depth0.ifEqual),options={hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.participant_type), \"Group\", options) : helperMissing.call(depth0, \"ifEqual\", (depth0 && depth0.participant_type), \"Group\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </select>\\n  </div>\\n  <ul class=\\\"participant_list\\\"></ul>\\n  <div class=\\\"clear\\\"></div>\\n  <div>\\n    <label for=\\\"body\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"calendar.message_participants\")\n  },data:data},helper ? helper.call(depth0, \"message_label\", \"Message:\", options) : helperMissing.call(depth0, \"t\", \"message_label\", \"Message:\", options)))\n    + \"</label><br />\\n    <textarea class=\\\"ic-Input\\\" id=\\\"body\\\" name=\\\"body\\\"></textarea>\\n  </div>\\n  <div class=\\\"error\\\"></div>\\n</form>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'calendar/recipientList';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.recipients), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li>\\n      <span>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n      <input name=\\\"recipients[]\\\" type=\\\"hidden\\\" value=\\\"group_\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n    </li>\\n  \";\n  return buffer;\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.recipients), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li class=\\\"student-recipient\\\">\\n      <span>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n      <input name=\\\"recipients[]\\\" type=\\\"hidden\\\" value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n    </li>\\n  \";\n  return buffer;\n  }\n\n  stack1 = (helper = helpers.ifEqual || (depth0 && depth0.ifEqual),options={hash:{},inverse:self.program(4, program4, data),fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.recipientType), \"Group\", options) : helperMissing.call(depth0, \"ifEqual\", (depth0 && depth0.recipientType), \"Group\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport I18n from 'i18n!calendar'\nimport messageParticipantsTemplate from 'jst/calendar/messageParticipants'\nimport recipientListTemplate from 'jst/calendar/recipientList'\n\nexport default class MessageParticipantsDialog {\n  constructor(opts) {\n    let participantType\n    this.opts = opts\n    if (this.opts.timeslot) {\n      this.recipients = this.opts.timeslot.child_events.map(e => e.user || e.group)\n      participantType = this.recipients[0].short_name === undefined ? 'Group' : 'User'\n\n      this.$form = $(messageParticipantsTemplate({participant_type: participantType}))\n      this.$form.find('select.message_groups').remove()\n    } else {\n      this.group = this.opts.group\n      this.$form = $(messageParticipantsTemplate({participant_type: this.group.participant_type}))\n      this.dataSource = this.opts.dataSource\n\n      this.$select = this.$form\n        .find('select.message_groups')\n        .change(this.loadParticipants)\n        .val('unregistered')\n    }\n\n    this.$form.submit(this.sendMessage)\n\n    this.$participantList = this.$form.find('ul')\n\n    if (this.recipients) {\n      this.$participantList.html(\n        recipientListTemplate({recipientType: participantType, recipients: this.recipients})\n      )\n    }\n  }\n\n  show() {\n    this.$form.dialog({\n      width: 400,\n      resizable: false,\n      buttons: [\n        {\n          text: I18n.t('buttons.cancel', 'Cancel'),\n          click() {\n            $(this).dialog('close')\n          }\n        },\n        {\n          text: I18n.t('buttons.send_message', 'Send'),\n          'data-text-while-loading': I18n.t('buttons.sending_message', 'Sending...'),\n          class: 'btn-primary',\n          click() {\n            $(this).submit()\n          }\n        }\n      ],\n      close() {\n        $(this).remove()\n      }\n    })\n    return this.loadParticipants()\n  }\n\n  participantStatus(text = null) {\n    const $status = $('<li class=\"status\" />')\n    this.$participantList.html($status)\n    if (text) {\n      $status.text(text)\n    } else {\n      $status.spin()\n    }\n  }\n\n  loadParticipants = () => {\n    if (this.recipients) return\n\n    const registrationStatus = this.$select.val()\n    this.loading = true\n    this.participantStatus()\n\n    return this.dataSource.getParticipants(this.group, registrationStatus, data => {\n      delete this.loading\n      if (data.length) {\n        this.$participantList.html(\n          recipientListTemplate({\n            recipientType: this.group.participant_type,\n            recipients: data\n          })\n        )\n      } else {\n        const text =\n          this.group.participant_type === 'Group'\n            ? I18n.t('no_groups', 'No groups found')\n            : I18n.t('no_users', 'No users found')\n        this.participantStatus(text)\n      }\n    })\n  }\n\n  sendMessage = jsEvent => {\n    jsEvent.preventDefault()\n\n    if (this.loading) return\n\n    const data = this.$form.getFormData()\n    if (!data['recipients[]'] || !data.body) return\n\n    if (data['recipients[]'].length > ENV.CALENDAR.MAX_GROUP_CONVERSATION_SIZE) {\n      data.group_conversation = true\n      data.bulk_message = true\n    }\n\n    if (this.group) {\n      data.tags = this.group.context_codes\n    } else if (this.opts.timeslot) {\n      data.tags = this.opts.timeslot.all_context_codes.split(',')\n    }\n\n    const deferred = $.ajaxJSON(\n      '/conversations',\n      'POST',\n      data,\n      this.messageSent,\n      this.messageFailed\n    )\n    return this.$form.disableWhileLoading(deferred, {\n      buttons: ['[data-text-while-loading] .ui-button-text']\n    })\n  }\n\n  messageSent = () => {\n    this.$form.dialog('close')\n    $.flashMessage(I18n.t('messages_sent', 'Messages Sent'))\n  }\n\n  messageFailed = () => {\n    this.$form\n      .find('.error')\n      .text(\n        I18n.t(\n          'errors.send_message_failed',\n          'There was an error sending your message, please try again'\n        )\n      )\n  }\n}\n","/*!\n * FullCalendar v2.4.0\n * Docs & License: http://fullcalendar.io/\n * (c) 2015 Adam Shaw\n */\n\n(function(factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([ 'jquery', 'moment' ], factory);\n\t}\n\telse if (typeof exports === 'object') { // Node/CommonJS\n\t\tmodule.exports = factory(require('jquery'), require('moment'));\n\t}\n\telse {\n\t\tfactory(jQuery, moment);\n\t}\n})(function($, moment) {\n\n;;\n\nvar fc = $.fullCalendar = { version: \"2.4.0\" };\nvar fcViews = fc.views = {};\n\n\n$.fn.fullCalendar = function(options) {\n\tvar args = Array.prototype.slice.call(arguments, 1); // for a possible method call\n\tvar res = this; // what this function will return (this jQuery object by default)\n\n\tthis.each(function(i, _element) { // loop each DOM element involved\n\t\tvar element = $(_element);\n\t\tvar calendar = element.data('fullCalendar'); // get the existing calendar object (if any)\n\t\tvar singleRes; // the returned value of this single method call\n\n\t\t// a method call\n\t\tif (typeof options === 'string') {\n\t\t\tif (calendar && $.isFunction(calendar[options])) {\n\t\t\t\tsingleRes = calendar[options].apply(calendar, args);\n\t\t\t\tif (!i) {\n\t\t\t\t\tres = singleRes; // record the first method call result\n\t\t\t\t}\n\t\t\t\tif (options === 'destroy') { // for the destroy method, must remove Calendar object data\n\t\t\t\t\telement.removeData('fullCalendar');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// a new calendar initialization\n\t\telse if (!calendar) { // don't initialize twice\n\t\t\tcalendar = new Calendar(element, options);\n\t\t\telement.data('fullCalendar', calendar);\n\t\t\tcalendar.render();\n\t\t}\n\t});\n\t\n\treturn res;\n};\n\n\nvar complexOptions = [ // names of options that are objects whose properties should be combined\n\t'header',\n\t'buttonText',\n\t'buttonIcons',\n\t'themeButtonIcons'\n];\n\n\n// Merges an array of option objects into a single object\nfunction mergeOptions(optionObjs) {\n\treturn mergeProps(optionObjs, complexOptions);\n}\n\n\n// Given options specified for the calendar's constructor, massages any legacy options into a non-legacy form.\n// Converts View-Option-Hashes into the View-Specific-Options format.\nfunction massageOverrides(input) {\n\tvar overrides = { views: input.views || {} }; // the output. ensure a `views` hash\n\tvar subObj;\n\n\t// iterate through all option override properties (except `views`)\n\t$.each(input, function(name, val) {\n\t\tif (name != 'views') {\n\n\t\t\t// could the value be a legacy View-Option-Hash?\n\t\t\tif (\n\t\t\t\t$.isPlainObject(val) &&\n\t\t\t\t!/(time|duration|interval)$/i.test(name) && // exclude duration options. might be given as objects\n\t\t\t\t$.inArray(name, complexOptions) == -1 // complex options aren't allowed to be View-Option-Hashes\n\t\t\t) {\n\t\t\t\tsubObj = null;\n\n\t\t\t\t// iterate through the properties of this possible View-Option-Hash value\n\t\t\t\t$.each(val, function(subName, subVal) {\n\n\t\t\t\t\t// is the property targeting a view?\n\t\t\t\t\tif (/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(subName)) {\n\t\t\t\t\t\tif (!overrides.views[subName]) { // ensure the view-target entry exists\n\t\t\t\t\t\t\toverrides.views[subName] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\toverrides.views[subName][name] = subVal; // record the value in the `views` object\n\t\t\t\t\t}\n\t\t\t\t\telse { // a non-View-Option-Hash property\n\t\t\t\t\t\tif (!subObj) {\n\t\t\t\t\t\t\tsubObj = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsubObj[subName] = subVal; // accumulate these unrelated values for later\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (subObj) { // non-View-Option-Hash properties? transfer them as-is\n\t\t\t\t\toverrides[name] = subObj;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\toverrides[name] = val; // transfer normal options as-is\n\t\t\t}\n\t\t}\n\t});\n\n\treturn overrides;\n}\n\n;;\n\n// exports\nfc.intersectionToSeg = intersectionToSeg;\nfc.applyAll = applyAll;\nfc.debounce = debounce;\nfc.isInt = isInt;\nfc.htmlEscape = htmlEscape;\nfc.cssToStr = cssToStr;\nfc.proxy = proxy;\nfc.capitaliseFirstLetter = capitaliseFirstLetter;\n\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nfunction compensateScroll(rowEls, scrollbarWidths) {\n\tif (scrollbarWidths.left) {\n\t\trowEls.css({\n\t\t\t'border-left-width': 1,\n\t\t\t'margin-left': scrollbarWidths.left - 1\n\t\t});\n\t}\n\tif (scrollbarWidths.right) {\n\t\trowEls.css({\n\t\t\t'border-right-width': 1,\n\t\t\t'margin-right': scrollbarWidths.right - 1\n\t\t});\n\t}\n}\n\n\n// Undoes compensateScroll and restores all borders/margins\nfunction uncompensateScroll(rowEls) {\n\trowEls.css({\n\t\t'margin-left': '',\n\t\t'margin-right': '',\n\t\t'border-left-width': '',\n\t\t'border-right-width': ''\n\t});\n}\n\n\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n\t$('body').addClass('fc-not-allowed');\n}\n\n\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n\t$('body').removeClass('fc-not-allowed');\n}\n\n\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and \n// reduces the available height.\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n\n\t// *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n\t// and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n\n\tvar minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n\tvar minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n\tvar flexEls = []; // elements that are allowed to expand. array of DOM nodes\n\tvar flexOffsets = []; // amount of vertical space it takes up\n\tvar flexHeights = []; // actual css height\n\tvar usedHeight = 0;\n\n\tundistributeHeight(els); // give all elements their natural height\n\n\t// find elements that are below the recommended height (expandable).\n\t// important to query for heights in a single first pass (to avoid reflow oscillation).\n\tels.each(function(i, el) {\n\t\tvar minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n\t\tvar naturalOffset = $(el).outerHeight(true);\n\n\t\tif (naturalOffset < minOffset) {\n\t\t\tflexEls.push(el);\n\t\t\tflexOffsets.push(naturalOffset);\n\t\t\tflexHeights.push($(el).height());\n\t\t}\n\t\telse {\n\t\t\t// this element stretches past recommended height (non-expandable). mark the space as occupied.\n\t\t\tusedHeight += naturalOffset;\n\t\t}\n\t});\n\n\t// readjust the recommended height to only consider the height available to non-maxed-out rows.\n\tif (shouldRedistribute) {\n\t\tavailableHeight -= usedHeight;\n\t\tminOffset1 = Math.floor(availableHeight / flexEls.length);\n\t\tminOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n\t}\n\n\t// assign heights to all expandable elements\n\t$(flexEls).each(function(i, el) {\n\t\tvar minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n\t\tvar naturalOffset = flexOffsets[i];\n\t\tvar naturalHeight = flexHeights[i];\n\t\tvar newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n\n\t\tif (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n\t\t\t$(el).height(newHeight);\n\t\t}\n\t});\n}\n\n\n// Undoes distrubuteHeight, restoring all els to their natural height\nfunction undistributeHeight(els) {\n\tels.height('');\n}\n\n\n// Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nfunction matchCellWidths(els) {\n\tvar maxInnerWidth = 0;\n\n\tels.find('> *').each(function(i, innerEl) {\n\t\tvar innerWidth = $(innerEl).outerWidth();\n\t\tif (innerWidth > maxInnerWidth) {\n\t\t\tmaxInnerWidth = innerWidth;\n\t\t}\n\t});\n\n\tmaxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n\n\tels.width(maxInnerWidth);\n\n\treturn maxInnerWidth;\n}\n\n\n// Turns a container element into a scroller if its contents is taller than the allotted height.\n// Returns true if the element is now a scroller, false otherwise.\n// NOTE: this method is best because it takes weird zooming dimensions into account\nfunction setPotentialScroller(containerEl, height) {\n\tcontainerEl.height(height).addClass('fc-scroller');\n\n\t// are scrollbars needed?\n\tif (containerEl[0].scrollHeight - 1 > containerEl[0].clientHeight) { // !!! -1 because IE is often off-by-one :(\n\t\treturn true;\n\t}\n\n\tunsetScroller(containerEl); // undo\n\treturn false;\n}\n\n\n// Takes an element that might have been a scroller, and turns it back into a normal element.\nfunction unsetScroller(containerEl) {\n\tcontainerEl.height('').removeClass('fc-scroller');\n}\n\n\n/* General DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.getClientRect = getClientRect;\nfc.getContentRect = getContentRect;\nfc.getScrollbarWidths = getScrollbarWidths;\n\n\n// borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\nfunction getScrollParent(el) {\n\tvar position = el.css('position'),\n\t\tscrollParent = el.parents().filter(function() {\n\t\t\tvar parent = $(this);\n\t\t\treturn (/(auto|scroll)/).test(\n\t\t\t\tparent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x')\n\t\t\t);\n\t\t}).eq(0);\n\n\treturn position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;\n}\n\n\n// Queries the outer bounding area of a jQuery element.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\nfunction getOuterRect(el) {\n\tvar offset = el.offset();\n\n\treturn {\n\t\tleft: offset.left,\n\t\tright: offset.left + el.outerWidth(),\n\t\ttop: offset.top,\n\t\tbottom: offset.top + el.outerHeight()\n\t};\n}\n\n\n// Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nfunction getClientRect(el) {\n\tvar offset = el.offset();\n\tvar scrollbarWidths = getScrollbarWidths(el);\n\tvar left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left;\n\tvar top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top;\n\n\treturn {\n\t\tleft: left,\n\t\tright: left + el[0].clientWidth, // clientWidth includes padding but NOT scrollbars\n\t\ttop: top,\n\t\tbottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\n\t};\n}\n\n\n// Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\nfunction getContentRect(el) {\n\tvar offset = el.offset(); // just outside of border, margin not included\n\tvar left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left');\n\tvar top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top');\n\n\treturn {\n\t\tleft: left,\n\t\tright: left + el.width(),\n\t\ttop: top,\n\t\tbottom: top + el.height()\n\t};\n}\n\n\n// Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nfunction getScrollbarWidths(el) {\n\tvar leftRightWidth = el.innerWidth() - el[0].clientWidth; // the paddings cancel out, leaving the scrollbars\n\tvar widths = {\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0,\n\t\tbottom: el.innerHeight() - el[0].clientHeight // the paddings cancel out, leaving the bottom scrollbar\n\t};\n\n\tif (getIsLeftRtlScrollbars() && el.css('direction') == 'rtl') { // is the scrollbar on the left side?\n\t\twidths.left = leftRightWidth;\n\t}\n\telse {\n\t\twidths.right = leftRightWidth;\n\t}\n\n\treturn widths;\n}\n\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\n\nvar _isLeftRtlScrollbars = null;\n\nfunction getIsLeftRtlScrollbars() { // responsible for caching the computation\n\tif (_isLeftRtlScrollbars === null) {\n\t\t_isLeftRtlScrollbars = computeIsLeftRtlScrollbars();\n\t}\n\treturn _isLeftRtlScrollbars;\n}\n\nfunction computeIsLeftRtlScrollbars() { // creates an offscreen test element, then removes it\n\tvar el = $('<div><div/></div>')\n\t\t.css({\n\t\t\tposition: 'absolute',\n\t\t\ttop: -1000,\n\t\t\tleft: 0,\n\t\t\tborder: 0,\n\t\t\tpadding: 0,\n\t\t\toverflow: 'scroll',\n\t\t\tdirection: 'rtl'\n\t\t})\n\t\t.appendTo('body');\n\tvar innerEl = el.children();\n\tvar res = innerEl.offset().left > el.offset().left; // is the inner div shifted to accommodate a left scrollbar?\n\tel.remove();\n\treturn res;\n}\n\n\n// Retrieves a jQuery element's computed CSS value as a floating-point number.\n// If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\nfunction getCssFloat(el, prop) {\n\treturn parseFloat(el.css(prop)) || 0;\n}\n\n\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n\treturn ev.which == 1 && !ev.ctrlKey;\n}\n\n\n/* Geometry\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.intersectRects = intersectRects;\n\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n\tvar res = {\n\t\tleft: Math.max(rect1.left, rect2.left),\n\t\tright: Math.min(rect1.right, rect2.right),\n\t\ttop: Math.max(rect1.top, rect2.top),\n\t\tbottom: Math.min(rect1.bottom, rect2.bottom)\n\t};\n\n\tif (res.left < res.right && res.top < res.bottom) {\n\t\treturn res;\n\t}\n\treturn false;\n}\n\n\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n\treturn {\n\t\tleft: Math.min(Math.max(point.left, rect.left), rect.right),\n\t\ttop: Math.min(Math.max(point.top, rect.top), rect.bottom)\n\t};\n}\n\n\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n\treturn {\n\t\tleft: (rect.left + rect.right) / 2,\n\t\ttop: (rect.top + rect.bottom) / 2\n\t};\n}\n\n\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n\treturn {\n\t\tleft: point1.left - point2.left,\n\t\ttop: point1.top - point2.top\n\t};\n}\n\n\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.parseFieldSpecs = parseFieldSpecs;\nfc.compareByFieldSpecs = compareByFieldSpecs;\nfc.compareByFieldSpec = compareByFieldSpec;\nfc.flexibleCompare = flexibleCompare;\n\n\nfunction parseFieldSpecs(input) {\n\tvar specs = [];\n\tvar tokens = [];\n\tvar i, token;\n\n\tif (typeof input === 'string') {\n\t\ttokens = input.split(/\\s*,\\s*/);\n\t}\n\telse if (typeof input === 'function') {\n\t\ttokens = [ input ];\n\t}\n\telse if ($.isArray(input)) {\n\t\ttokens = input;\n\t}\n\n\tfor (i = 0; i < tokens.length; i++) {\n\t\ttoken = tokens[i];\n\n\t\tif (typeof token === 'string') {\n\t\t\tspecs.push(\n\t\t\t\ttoken.charAt(0) == '-' ?\n\t\t\t\t\t{ field: token.substring(1), order: -1 } :\n\t\t\t\t\t{ field: token, order: 1 }\n\t\t\t);\n\t\t}\n\t\telse if (typeof token === 'function') {\n\t\t\tspecs.push({ func: token });\n\t\t}\n\t}\n\n\treturn specs;\n}\n\n\nfunction compareByFieldSpecs(obj1, obj2, fieldSpecs) {\n\tvar i;\n\tvar cmp;\n\n\tfor (i = 0; i < fieldSpecs.length; i++) {\n\t\tcmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i]);\n\t\tif (cmp) {\n\t\t\treturn cmp;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n\nfunction compareByFieldSpec(obj1, obj2, fieldSpec) {\n\tif (fieldSpec.func) {\n\t\treturn fieldSpec.func(obj1, obj2);\n\t}\n\treturn flexibleCompare(obj1[fieldSpec.field], obj2[fieldSpec.field]) *\n\t\t(fieldSpec.order || 1);\n}\n\n\nfunction flexibleCompare(a, b) {\n\tif (!a && !b) {\n\t\treturn 0;\n\t}\n\tif (b == null) {\n\t\treturn -1;\n\t}\n\tif (a == null) {\n\t\treturn 1;\n\t}\n\tif ($.type(a) === 'string' || $.type(b) === 'string') {\n\t\treturn String(a).localeCompare(String(b));\n\t}\n\treturn a - b;\n}\n\n\n/* FullCalendar-specific Misc Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Creates a basic segment with the intersection of the two ranges. Returns undefined if no intersection.\n// Expects all dates to be normalized to the same timezone beforehand.\n// TODO: move to date section?\nfunction intersectionToSeg(subjectRange, constraintRange) {\n\tvar subjectStart = subjectRange.start;\n\tvar subjectEnd = subjectRange.end;\n\tvar constraintStart = constraintRange.start;\n\tvar constraintEnd = constraintRange.end;\n\tvar segStart, segEnd;\n\tvar isStart, isEnd;\n\n\tif (subjectEnd > constraintStart && subjectStart < constraintEnd) { // in bounds at all?\n\n\t\tif (subjectStart >= constraintStart) {\n\t\t\tsegStart = subjectStart.clone();\n\t\t\tisStart = true;\n\t\t}\n\t\telse {\n\t\t\tsegStart = constraintStart.clone();\n\t\t\tisStart =  false;\n\t\t}\n\n\t\tif (subjectEnd <= constraintEnd) {\n\t\t\tsegEnd = subjectEnd.clone();\n\t\t\tisEnd = true;\n\t\t}\n\t\telse {\n\t\t\tsegEnd = constraintEnd.clone();\n\t\t\tisEnd = false;\n\t\t}\n\n\t\treturn {\n\t\t\tstart: segStart,\n\t\t\tend: segEnd,\n\t\t\tisStart: isStart,\n\t\t\tisEnd: isEnd\n\t\t};\n\t}\n}\n\n\n/* Date Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.computeIntervalUnit = computeIntervalUnit;\nfc.divideRangeByDuration = divideRangeByDuration;\nfc.divideDurationByDuration = divideDurationByDuration;\nfc.multiplyDuration = multiplyDuration;\nfc.durationHasTime = durationHasTime;\n\nvar dayIDs = [ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ];\nvar intervalUnits = [ 'year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond' ];\n\n\n// Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\n// Moments will have their timezones normalized.\nfunction diffDayTime(a, b) {\n\treturn moment.duration({\n\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\n\t\tms: a.time() - b.time() // time-of-day from day start. disregards timezone\n\t});\n}\n\n\n// Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\nfunction diffDay(a, b) {\n\treturn moment.duration({\n\t\tdays: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\n\t});\n}\n\n\n// Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\nfunction diffByUnit(a, b, unit) {\n\treturn moment.duration(\n\t\tMath.round(a.diff(b, unit, true)), // returnFloat=true\n\t\tunit\n\t);\n}\n\n\n// Computes the unit name of the largest whole-unit period of time.\n// For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\n// Accepts start/end, a range object, or an original duration object.\nfunction computeIntervalUnit(start, end) {\n\tvar i, unit;\n\tvar val;\n\n\tfor (i = 0; i < intervalUnits.length; i++) {\n\t\tunit = intervalUnits[i];\n\t\tval = computeRangeAs(unit, start, end);\n\n\t\tif (val >= 1 && isInt(val)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn unit; // will be \"milliseconds\" if nothing else matches\n}\n\n\n// Computes the number of units (like \"hours\") in the given range.\n// Range can be a {start,end} object, separate start/end args, or a Duration.\n// Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\n// of month-diffing logic (which tends to vary from version to version).\nfunction computeRangeAs(unit, start, end) {\n\n\tif (end != null) { // given start, end\n\t\treturn end.diff(start, unit, true);\n\t}\n\telse if (moment.isDuration(start)) { // given duration\n\t\treturn start.as(unit);\n\t}\n\telse { // given { start, end } range object\n\t\treturn start.end.diff(start.start, unit, true);\n\t}\n}\n\n\n// Intelligently divides a range (specified by a start/end params) by a duration\nfunction divideRangeByDuration(start, end, dur) {\n\tvar months;\n\n\tif (durationHasTime(dur)) {\n\t\treturn (end - start) / dur;\n\t}\n\tmonths = dur.asMonths();\n\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\treturn end.diff(start, 'months', true) / months;\n\t}\n\treturn end.diff(start, 'days', true) / dur.asDays();\n}\n\n\n// Intelligently divides one duration by another\nfunction divideDurationByDuration(dur1, dur2) {\n\tvar months1, months2;\n\n\tif (durationHasTime(dur1) || durationHasTime(dur2)) {\n\t\treturn dur1 / dur2;\n\t}\n\tmonths1 = dur1.asMonths();\n\tmonths2 = dur2.asMonths();\n\tif (\n\t\tMath.abs(months1) >= 1 && isInt(months1) &&\n\t\tMath.abs(months2) >= 1 && isInt(months2)\n\t) {\n\t\treturn months1 / months2;\n\t}\n\treturn dur1.asDays() / dur2.asDays();\n}\n\n\n// Intelligently multiplies a duration by a number\nfunction multiplyDuration(dur, n) {\n\tvar months;\n\n\tif (durationHasTime(dur)) {\n\t\treturn moment.duration(dur * n);\n\t}\n\tmonths = dur.asMonths();\n\tif (Math.abs(months) >= 1 && isInt(months)) {\n\t\treturn moment.duration({ months: months * n });\n\t}\n\treturn moment.duration({ days: dur.asDays() * n });\n}\n\n\n// Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\nfunction durationHasTime(dur) {\n\treturn Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds());\n}\n\n\nfunction isNativeDate(input) {\n\treturn  Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n}\n\n\n// Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\nfunction isTimeString(str) {\n\treturn /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str);\n}\n\n\n/* Logging and Debug\n----------------------------------------------------------------------------------------------------------------------*/\n\nfc.log = function() {\n\tvar console = window.console;\n\n\tif (console && console.log) {\n\t\treturn console.log.apply(console, arguments);\n\t}\n};\n\nfc.warn = function() {\n\tvar console = window.console;\n\n\tif (console && console.warn) {\n\t\treturn console.warn.apply(console, arguments);\n\t}\n\telse {\n\t\treturn fc.log.apply(fc, arguments);\n\t}\n};\n\n\n/* General Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar hasOwnPropMethod = {}.hasOwnProperty;\n\n\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexProps) {\n\tvar dest = {};\n\tvar i, name;\n\tvar complexObjs;\n\tvar j, val;\n\tvar props;\n\n\tif (complexProps) {\n\t\tfor (i = 0; i < complexProps.length; i++) {\n\t\t\tname = complexProps[i];\n\t\t\tcomplexObjs = [];\n\n\t\t\t// collect the trailing object values, stopping when a non-object is discovered\n\t\t\tfor (j = propObjs.length - 1; j >= 0; j--) {\n\t\t\t\tval = propObjs[j][name];\n\n\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\tcomplexObjs.unshift(val);\n\t\t\t\t}\n\t\t\t\telse if (val !== undefined) {\n\t\t\t\t\tdest[name] = val; // if there were no objects, this value will be used\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if the trailing values were objects, use the merged value\n\t\t\tif (complexObjs.length) {\n\t\t\t\tdest[name] = mergeProps(complexObjs);\n\t\t\t}\n\t\t}\n\t}\n\n\t// copy values into the destination, going from last to first\n\tfor (i = propObjs.length - 1; i >= 0; i--) {\n\t\tprops = propObjs[i];\n\n\t\tfor (name in props) {\n\t\t\tif (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n\t\t\t\tdest[name] = props[name];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dest;\n}\n\n\n// Create an object that has the given prototype. Just like Object.create\nfunction createObject(proto) {\n\tvar f = function() {};\n\tf.prototype = proto;\n\treturn new f();\n}\n\n\nfunction copyOwnProps(src, dest) {\n\tfor (var name in src) {\n\t\tif (hasOwnProp(src, name)) {\n\t\t\tdest[name] = src[name];\n\t\t}\n\t}\n}\n\n\n// Copies over certain methods with the same names as Object.prototype methods. Overcomes an IE<=8 bug:\n// https://developer.mozilla.org/en-US/docs/ECMAScript_DontEnum_attribute#JScript_DontEnum_Bug\nfunction copyNativeMethods(src, dest) {\n\tvar names = [ 'constructor', 'toString', 'valueOf' ];\n\tvar i, name;\n\n\tfor (i = 0; i < names.length; i++) {\n\t\tname = names[i];\n\n\t\tif (src[name] !== Object.prototype[name]) {\n\t\t\tdest[name] = src[name];\n\t\t}\n\t}\n}\n\n\nfunction hasOwnProp(obj, name) {\n\treturn hasOwnPropMethod.call(obj, name);\n}\n\n\n// Is the given value a non-object non-function value?\nfunction isAtomic(val) {\n\treturn /undefined|null|boolean|number|string/.test($.type(val));\n}\n\n\nfunction applyAll(functions, thisObj, args) {\n\tif ($.isFunction(functions)) {\n\t\tfunctions = [ functions ];\n\t}\n\tif (functions) {\n\t\tvar i;\n\t\tvar ret;\n\t\tfor (i=0; i<functions.length; i++) {\n\t\t\tret = functions[i].apply(thisObj, args) || ret;\n\t\t}\n\t\treturn ret;\n\t}\n}\n\n\nfunction firstDefined() {\n\tfor (var i=0; i<arguments.length; i++) {\n\t\tif (arguments[i] !== undefined) {\n\t\t\treturn arguments[i];\n\t\t}\n\t}\n}\n\n\nfunction htmlEscape(s) {\n\treturn (s + '').replace(/&/g, '&amp;')\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/'/g, '&#039;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/\\n/g, '<br />');\n}\n\n\nfunction stripHtmlEntities(text) {\n\treturn text.replace(/&.*?;/g, '');\n}\n\n\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nfunction cssToStr(cssProps) {\n\tvar statements = [];\n\n\t$.each(cssProps, function(name, val) {\n\t\tif (val != null) {\n\t\t\tstatements.push(name + ':' + val);\n\t\t}\n\t});\n\n\treturn statements.join(';');\n}\n\n\nfunction capitaliseFirstLetter(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nfunction compareNumbers(a, b) { // for .sort()\n\treturn a - b;\n}\n\n\nfunction isInt(n) {\n\treturn n % 1 === 0;\n}\n\n\n// Returns a method bound to the given object context.\n// Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\n// different contexts as identical when binding/unbinding events.\nfunction proxy(obj, methodName) {\n\tvar method = obj[methodName];\n\n\treturn function() {\n\t\treturn method.apply(obj, arguments);\n\t};\n}\n\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nfunction debounce(func, wait) {\n\tvar timeoutId;\n\tvar args;\n\tvar context;\n\tvar timestamp; // of most recent call\n\tvar later = function() {\n\t\tvar last = +new Date() - timestamp;\n\t\tif (last < wait && last > 0) {\n\t\t\ttimeoutId = setTimeout(later, wait - last);\n\t\t}\n\t\telse {\n\t\t\ttimeoutId = null;\n\t\t\tfunc.apply(context, args);\n\t\t\tif (!timeoutId) {\n\t\t\t\tcontext = args = null;\n\t\t\t}\n\t\t}\n\t};\n\n\treturn function() {\n\t\tcontext = this;\n\t\targs = arguments;\n\t\ttimestamp = +new Date();\n\t\tif (!timeoutId) {\n\t\t\ttimeoutId = setTimeout(later, wait);\n\t\t}\n\t};\n}\n\n;;\n\nvar ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/;\nvar ambigTimeOrZoneRegex =\n\t/^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/;\nvar newMomentProto = moment.fn; // where we will attach our new methods\nvar oldMomentProto = $.extend({}, newMomentProto); // copy of original moment methods\nvar allowValueOptimization;\nvar setUTCValues; // function defined below\nvar setLocalValues; // function defined below\n\n\n// Creating\n// -------------------------------------------------------------------------------------------------\n\n// Creates a new moment, similar to the vanilla moment(...) constructor, but with\n// extra features (ambiguous time, enhanced formatting). When given an existing moment,\n// it will function as a clone (and retain the zone of the moment). Anything else will\n// result in a moment in the local zone.\nfc.moment = function() {\n\treturn makeMoment(arguments);\n};\n\n// Sames as fc.moment, but forces the resulting moment to be in the UTC timezone.\nfc.moment.utc = function() {\n\tvar mom = makeMoment(arguments, true);\n\n\t// Force it into UTC because makeMoment doesn't guarantee it\n\t// (if given a pre-existing moment for example)\n\tif (mom.hasTime()) { // don't give ambiguously-timed moments a UTC zone\n\t\tmom.utc();\n\t}\n\n\treturn mom;\n};\n\n// Same as fc.moment, but when given an ISO8601 string, the timezone offset is preserved.\n// ISO8601 strings with no timezone offset will become ambiguously zoned.\nfc.moment.parseZone = function() {\n\treturn makeMoment(arguments, true, true);\n};\n\n// Builds an enhanced moment from args. When given an existing moment, it clones. When given a\n// native Date, or called with no arguments (the current time), the resulting moment will be local.\n// Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\n//    parseAsUTC - if there is no zone information, should we parse the input in UTC?\n//    parseZone - if there is zone information, should we force the zone of the moment?\nfunction makeMoment(args, parseAsUTC, parseZone) {\n\tvar input = args[0];\n\tvar isSingleString = args.length == 1 && typeof input === 'string';\n\tvar isAmbigTime;\n\tvar isAmbigZone;\n\tvar ambigMatch;\n\tvar mom;\n\n\tif (moment.isMoment(input)) {\n\t\tmom = moment.apply(null, args); // clone it\n\t\ttransferAmbigs(input, mom); // the ambig flags weren't transfered with the clone\n\t}\n\telse if (isNativeDate(input) || input === undefined) {\n\t\tmom = moment.apply(null, args); // will be local\n\t}\n\telse { // \"parsing\" is required\n\t\tisAmbigTime = false;\n\t\tisAmbigZone = false;\n\n\t\tif (isSingleString) {\n\t\t\tif (ambigDateOfMonthRegex.test(input)) {\n\t\t\t\t// accept strings like '2014-05', but convert to the first of the month\n\t\t\t\tinput += '-01';\n\t\t\t\targs = [ input ]; // for when we pass it on to moment's constructor\n\t\t\t\tisAmbigTime = true;\n\t\t\t\tisAmbigZone = true;\n\t\t\t}\n\t\t\telse if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {\n\t\t\t\tisAmbigTime = !ambigMatch[5]; // no time part?\n\t\t\t\tisAmbigZone = true;\n\t\t\t}\n\t\t}\n\t\telse if ($.isArray(input)) {\n\t\t\t// arrays have no timezone information, so assume ambiguous zone\n\t\t\tisAmbigZone = true;\n\t\t}\n\t\t// otherwise, probably a string with a format\n\n\t\tif (parseAsUTC || isAmbigTime) {\n\t\t\tmom = moment.utc.apply(moment, args);\n\t\t}\n\t\telse {\n\t\t\tmom = moment.apply(null, args);\n\t\t}\n\n\t\tif (isAmbigTime) {\n\t\t\tmom._ambigTime = true;\n\t\t\tmom._ambigZone = true; // ambiguous time always means ambiguous zone\n\t\t}\n\t\telse if (parseZone) { // let's record the inputted zone somehow\n\t\t\tif (isAmbigZone) {\n\t\t\t\tmom._ambigZone = true;\n\t\t\t}\n\t\t\telse if (isSingleString) {\n\t\t\t\tif (mom.utcOffset) {\n\t\t\t\t\tmom.utcOffset(input); // if not a valid zone, will assign UTC\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmom.zone(input); // for moment-pre-2.9\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmom._fullCalendar = true; // flag for extended functionality\n\n\treturn mom;\n}\n\n\n// A clone method that works with the flags related to our enhanced functionality.\n// In the future, use moment.momentProperties\nnewMomentProto.clone = function() {\n\tvar mom = oldMomentProto.clone.apply(this, arguments);\n\n\t// these flags weren't transfered with the clone\n\ttransferAmbigs(this, mom);\n\tif (this._fullCalendar) {\n\t\tmom._fullCalendar = true;\n\t}\n\n\treturn mom;\n};\n\n\n// Week Number\n// -------------------------------------------------------------------------------------------------\n\n\n// Returns the week number, considering the locale's custom week number calcuation\n// `weeks` is an alias for `week`\nnewMomentProto.week = newMomentProto.weeks = function(input) {\n\tvar weekCalc = (this._locale || this._lang) // works pre-moment-2.8\n\t\t._fullCalendar_weekCalc;\n\n\tif (input == null && typeof weekCalc === 'function') { // custom function only works for getter\n\t\treturn weekCalc(this);\n\t}\n\telse if (weekCalc === 'ISO') {\n\t\treturn oldMomentProto.isoWeek.apply(this, arguments); // ISO getter/setter\n\t}\n\n\treturn oldMomentProto.week.apply(this, arguments); // local getter/setter\n};\n\n\n// Time-of-day\n// -------------------------------------------------------------------------------------------------\n\n// GETTER\n// Returns a Duration with the hours/minutes/seconds/ms values of the moment.\n// If the moment has an ambiguous time, a duration of 00:00 will be returned.\n//\n// SETTER\n// You can supply a Duration, a Moment, or a Duration-like argument.\n// When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\nnewMomentProto.time = function(time) {\n\n\t// Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\n\t// `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\n\tif (!this._fullCalendar) {\n\t\treturn oldMomentProto.time.apply(this, arguments);\n\t}\n\n\tif (time == null) { // getter\n\t\treturn moment.duration({\n\t\t\thours: this.hours(),\n\t\t\tminutes: this.minutes(),\n\t\t\tseconds: this.seconds(),\n\t\t\tmilliseconds: this.milliseconds()\n\t\t});\n\t}\n\telse { // setter\n\n\t\tthis._ambigTime = false; // mark that the moment now has a time\n\n\t\tif (!moment.isDuration(time) && !moment.isMoment(time)) {\n\t\t\ttime = moment.duration(time);\n\t\t}\n\n\t\t// The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\n\t\t// Only for Duration times, not Moment times.\n\t\tvar dayHours = 0;\n\t\tif (moment.isDuration(time)) {\n\t\t\tdayHours = Math.floor(time.asDays()) * 24;\n\t\t}\n\n\t\t// We need to set the individual fields.\n\t\t// Can't use startOf('day') then add duration. In case of DST at start of day.\n\t\treturn this.hours(dayHours + time.hours())\n\t\t\t.minutes(time.minutes())\n\t\t\t.seconds(time.seconds())\n\t\t\t.milliseconds(time.milliseconds());\n\t}\n};\n\n// Converts the moment to UTC, stripping out its time-of-day and timezone offset,\n// but preserving its YMD. A moment with a stripped time will display no time\n// nor timezone offset when .format() is called.\nnewMomentProto.stripTime = function() {\n\tvar a;\n\n\tif (!this._ambigTime) {\n\n\t\t// get the values before any conversion happens\n\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\n\t\t// TODO: use keepLocalTime in the future\n\t\tthis.utc(); // set the internal UTC flag (will clear the ambig flags)\n\t\tsetUTCValues(this, a.slice(0, 3)); // set the year/month/date. time will be zero\n\n\t\t// Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t// which clears all ambig flags. Same with setUTCValues with moment-timezone.\n\t\tthis._ambigTime = true;\n\t\tthis._ambigZone = true; // if ambiguous time, also ambiguous timezone offset\n\t}\n\n\treturn this; // for chaining\n};\n\n// Returns if the moment has a non-ambiguous time (boolean)\nnewMomentProto.hasTime = function() {\n\treturn !this._ambigTime;\n};\n\n\n// Timezone\n// -------------------------------------------------------------------------------------------------\n\n// Converts the moment to UTC, stripping out its timezone offset, but preserving its\n// YMD and time-of-day. A moment with a stripped timezone offset will display no\n// timezone offset when .format() is called.\n// TODO: look into Moment's keepLocalTime functionality\nnewMomentProto.stripZone = function() {\n\tvar a, wasAmbigTime;\n\n\tif (!this._ambigZone) {\n\n\t\t// get the values before any conversion happens\n\t\ta = this.toArray(); // array of y/m/d/h/m/s/ms\n\t\twasAmbigTime = this._ambigTime;\n\n\t\tthis.utc(); // set the internal UTC flag (might clear the ambig flags, depending on Moment internals)\n\t\tsetUTCValues(this, a); // will set the year/month/date/hours/minutes/seconds/ms\n\n\t\t// the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\n\t\tthis._ambigTime = wasAmbigTime || false;\n\n\t\t// Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n\t\t// which clears the ambig flags. Same with setUTCValues with moment-timezone.\n\t\tthis._ambigZone = true;\n\t}\n\n\treturn this; // for chaining\n};\n\n// Returns of the moment has a non-ambiguous timezone offset (boolean)\nnewMomentProto.hasZone = function() {\n\treturn !this._ambigZone;\n};\n\n\n// this method implicitly marks a zone\nnewMomentProto.local = function() {\n\tvar a = this.toArray(); // year,month,date,hours,minutes,seconds,ms as an array\n\tvar wasAmbigZone = this._ambigZone;\n\n\toldMomentProto.local.apply(this, arguments);\n\n\t// ensure non-ambiguous\n\t// this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\n\tthis._ambigTime = false;\n\tthis._ambigZone = false;\n\n\tif (wasAmbigZone) {\n\t\t// If the moment was ambiguously zoned, the date fields were stored as UTC.\n\t\t// We want to preserve these, but in local time.\n\t\t// TODO: look into Moment's keepLocalTime functionality\n\t\tsetLocalValues(this, a);\n\t}\n\n\treturn this; // for chaining\n};\n\n\n// implicitly marks a zone\nnewMomentProto.utc = function() {\n\toldMomentProto.utc.apply(this, arguments);\n\n\t// ensure non-ambiguous\n\t// this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\n\tthis._ambigTime = false;\n\tthis._ambigZone = false;\n\n\treturn this;\n};\n\n\n// methods for arbitrarily manipulating timezone offset.\n// should clear time/zone ambiguity when called.\n$.each([\n\t'zone', // only in moment-pre-2.9. deprecated afterwards\n\t'utcOffset'\n], function(i, name) {\n\tif (oldMomentProto[name]) { // original method exists?\n\n\t\t// this method implicitly marks a zone (will probably get called upon .utc() and .local())\n\t\tnewMomentProto[name] = function(tzo) {\n\n\t\t\tif (tzo != null) { // setter\n\t\t\t\t// these assignments needs to happen before the original zone method is called.\n\t\t\t\t// I forget why, something to do with a browser crash.\n\t\t\t\tthis._ambigTime = false;\n\t\t\t\tthis._ambigZone = false;\n\t\t\t}\n\n\t\t\treturn oldMomentProto[name].apply(this, arguments);\n\t\t};\n\t}\n});\n\n\n// Formatting\n// -------------------------------------------------------------------------------------------------\n\nnewMomentProto.format = function() {\n\tif (this._fullCalendar && arguments[0]) { // an enhanced moment? and a format string provided?\n\t\treturn formatDate(this, arguments[0]); // our extended formatting\n\t}\n\tif (this._ambigTime) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t}\n\tif (this._ambigZone) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t}\n\treturn oldMomentProto.format.apply(this, arguments);\n};\n\nnewMomentProto.toISOString = function() {\n\tif (this._ambigTime) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD');\n\t}\n\tif (this._ambigZone) {\n\t\treturn oldMomentFormat(this, 'YYYY-MM-DD[T]HH:mm:ss');\n\t}\n\treturn oldMomentProto.toISOString.apply(this, arguments);\n};\n\n\n// Querying\n// -------------------------------------------------------------------------------------------------\n\n// Is the moment within the specified range? `end` is exclusive.\n// FYI, this method is not a standard Moment method, so always do our enhanced logic.\nnewMomentProto.isWithin = function(start, end) {\n\tvar a = commonlyAmbiguate([ this, start, end ]);\n\treturn a[0] >= a[1] && a[0] < a[2];\n};\n\n// When isSame is called with units, timezone ambiguity is normalized before the comparison happens.\n// If no units specified, the two moments must be identically the same, with matching ambig flags.\nnewMomentProto.isSame = function(input, units) {\n\tvar a;\n\n\t// only do custom logic if this is an enhanced moment\n\tif (!this._fullCalendar) {\n\t\treturn oldMomentProto.isSame.apply(this, arguments);\n\t}\n\n\tif (units) {\n\t\ta = commonlyAmbiguate([ this, input ], true); // normalize timezones but don't erase times\n\t\treturn oldMomentProto.isSame.call(a[0], a[1], units);\n\t}\n\telse {\n\t\tinput = fc.moment.parseZone(input); // normalize input\n\t\treturn oldMomentProto.isSame.call(this, input) &&\n\t\t\tBoolean(this._ambigTime) === Boolean(input._ambigTime) &&\n\t\t\tBoolean(this._ambigZone) === Boolean(input._ambigZone);\n\t}\n};\n\n// Make these query methods work with ambiguous moments\n$.each([\n\t'isBefore',\n\t'isAfter'\n], function(i, methodName) {\n\tnewMomentProto[methodName] = function(input, units) {\n\t\tvar a;\n\n\t\t// only do custom logic if this is an enhanced moment\n\t\tif (!this._fullCalendar) {\n\t\t\treturn oldMomentProto[methodName].apply(this, arguments);\n\t\t}\n\n\t\ta = commonlyAmbiguate([ this, input ]);\n\t\treturn oldMomentProto[methodName].call(a[0], a[1], units);\n\t};\n});\n\n\n// Misc Internals\n// -------------------------------------------------------------------------------------------------\n\n// given an array of moment-like inputs, return a parallel array w/ moments similarly ambiguated.\n// for example, of one moment has ambig time, but not others, all moments will have their time stripped.\n// set `preserveTime` to `true` to keep times, but only normalize zone ambiguity.\n// returns the original moments if no modifications are necessary.\nfunction commonlyAmbiguate(inputs, preserveTime) {\n\tvar anyAmbigTime = false;\n\tvar anyAmbigZone = false;\n\tvar len = inputs.length;\n\tvar moms = [];\n\tvar i, mom;\n\n\t// parse inputs into real moments and query their ambig flags\n\tfor (i = 0; i < len; i++) {\n\t\tmom = inputs[i];\n\t\tif (!moment.isMoment(mom)) {\n\t\t\tmom = fc.moment.parseZone(mom);\n\t\t}\n\t\tanyAmbigTime = anyAmbigTime || mom._ambigTime;\n\t\tanyAmbigZone = anyAmbigZone || mom._ambigZone;\n\t\tmoms.push(mom);\n\t}\n\n\t// strip each moment down to lowest common ambiguity\n\t// use clones to avoid modifying the original moments\n\tfor (i = 0; i < len; i++) {\n\t\tmom = moms[i];\n\t\tif (!preserveTime && anyAmbigTime && !mom._ambigTime) {\n\t\t\tmoms[i] = mom.clone().stripTime();\n\t\t}\n\t\telse if (anyAmbigZone && !mom._ambigZone) {\n\t\t\tmoms[i] = mom.clone().stripZone();\n\t\t}\n\t}\n\n\treturn moms;\n}\n\n// Transfers all the flags related to ambiguous time/zone from the `src` moment to the `dest` moment\n// TODO: look into moment.momentProperties for this.\nfunction transferAmbigs(src, dest) {\n\tif (src._ambigTime) {\n\t\tdest._ambigTime = true;\n\t}\n\telse if (dest._ambigTime) {\n\t\tdest._ambigTime = false;\n\t}\n\n\tif (src._ambigZone) {\n\t\tdest._ambigZone = true;\n\t}\n\telse if (dest._ambigZone) {\n\t\tdest._ambigZone = false;\n\t}\n}\n\n\n// Sets the year/month/date/etc values of the moment from the given array.\n// Inefficient because it calls each individual setter.\nfunction setMomentValues(mom, a) {\n\tmom.year(a[0] || 0)\n\t\t.month(a[1] || 0)\n\t\t.date(a[2] || 0)\n\t\t.hours(a[3] || 0)\n\t\t.minutes(a[4] || 0)\n\t\t.seconds(a[5] || 0)\n\t\t.milliseconds(a[6] || 0);\n}\n\n// Can we set the moment's internal date directly?\nallowValueOptimization = '_d' in moment() && 'updateOffset' in moment;\n\n// Utility function. Accepts a moment and an array of the UTC year/month/date/etc values to set.\n// Assumes the given moment is already in UTC mode.\nsetUTCValues = allowValueOptimization ? function(mom, a) {\n\t// simlate what moment's accessors do\n\tmom._d.setTime(Date.UTC.apply(Date, a));\n\tmoment.updateOffset(mom, false); // keepTime=false\n} : setMomentValues;\n\n// Utility function. Accepts a moment and an array of the local year/month/date/etc values to set.\n// Assumes the given moment is already in local mode.\nsetLocalValues = allowValueOptimization ? function(mom, a) {\n\t// simlate what moment's accessors do\n\tmom._d.setTime(+new Date( // FYI, there is now way to apply an array of args to a constructor\n\t\ta[0] || 0,\n\t\ta[1] || 0,\n\t\ta[2] || 0,\n\t\ta[3] || 0,\n\t\ta[4] || 0,\n\t\ta[5] || 0,\n\t\ta[6] || 0\n\t));\n\tmoment.updateOffset(mom, false); // keepTime=false\n} : setMomentValues;\n\n;;\n\n// Single Date Formatting\n// -------------------------------------------------------------------------------------------------\n\n\n// call this if you want Moment's original format method to be used\nfunction oldMomentFormat(mom, formatStr) {\n\treturn oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js\n}\n\n\n// Formats `date` with a Moment formatting string, but allow our non-zero areas and\n// additional token.\nfunction formatDate(date, formatStr) {\n\treturn formatDateWithChunks(date, getFormatStringChunks(formatStr));\n}\n\n\nfunction formatDateWithChunks(date, chunks) {\n\tvar s = '';\n\tvar i;\n\n\tfor (i=0; i<chunks.length; i++) {\n\t\ts += formatDateWithChunk(date, chunks[i]);\n\t}\n\n\treturn s;\n}\n\n\n// addition formatting tokens we want recognized\nvar tokenOverrides = {\n\tt: function(date) { // \"a\" or \"p\"\n\t\treturn oldMomentFormat(date, 'a').charAt(0);\n\t},\n\tT: function(date) { // \"A\" or \"P\"\n\t\treturn oldMomentFormat(date, 'A').charAt(0);\n\t}\n};\n\n\nfunction formatDateWithChunk(date, chunk) {\n\tvar token;\n\tvar maybeStr;\n\n\tif (typeof chunk === 'string') { // a literal string\n\t\treturn chunk;\n\t}\n\telse if ((token = chunk.token)) { // a token, like \"YYYY\"\n\t\tif (tokenOverrides[token]) {\n\t\t\treturn tokenOverrides[token](date); // use our custom token\n\t\t}\n\t\treturn oldMomentFormat(date, token);\n\t}\n\telse if (chunk.maybe) { // a grouping of other chunks that must be non-zero\n\t\tmaybeStr = formatDateWithChunks(date, chunk.maybe);\n\t\tif (maybeStr.match(/[1-9]/)) {\n\t\t\treturn maybeStr;\n\t\t}\n\t}\n\n\treturn '';\n}\n\n\n// Date Range Formatting\n// -------------------------------------------------------------------------------------------------\n// TODO: make it work with timezone offset\n\n// Using a formatting string meant for a single date, generate a range string, like\n// \"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\n// If the dates are the same as far as the format string is concerned, just return a single\n// rendering of one date, without any separator.\nfunction formatRange(date1, date2, formatStr, separator, isRTL) {\n\tvar localeData;\n\n\tdate1 = fc.moment.parseZone(date1);\n\tdate2 = fc.moment.parseZone(date2);\n\n\tlocaleData = (date1.localeData || date1.lang).call(date1); // works with moment-pre-2.8\n\n\t// Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\"\n\tformatStr = localeData.longDateFormat(formatStr) || formatStr;\n\t// BTW, this is not important for `formatDate` because it is impossible to put custom tokens\n\t// or non-zero areas in Moment's localized format strings.\n\n\tseparator = separator || ' - ';\n\n\treturn formatRangeWithChunks(\n\t\tdate1,\n\t\tdate2,\n\t\tgetFormatStringChunks(formatStr),\n\t\tseparator,\n\t\tisRTL\n\t);\n}\nfc.formatRange = formatRange; // expose\n\n\nfunction formatRangeWithChunks(date1, date2, chunks, separator, isRTL) {\n\tvar chunkStr; // the rendering of the chunk\n\tvar leftI;\n\tvar leftStr = '';\n\tvar rightI;\n\tvar rightStr = '';\n\tvar middleI;\n\tvar middleStr1 = '';\n\tvar middleStr2 = '';\n\tvar middleStr = '';\n\n\t// Start at the leftmost side of the formatting string and continue until you hit a token\n\t// that is not the same between dates.\n\tfor (leftI=0; leftI<chunks.length; leftI++) {\n\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[leftI]);\n\t\tif (chunkStr === false) {\n\t\t\tbreak;\n\t\t}\n\t\tleftStr += chunkStr;\n\t}\n\n\t// Similarly, start at the rightmost side of the formatting string and move left\n\tfor (rightI=chunks.length-1; rightI>leftI; rightI--) {\n\t\tchunkStr = formatSimilarChunk(date1, date2, chunks[rightI]);\n\t\tif (chunkStr === false) {\n\t\t\tbreak;\n\t\t}\n\t\trightStr = chunkStr + rightStr;\n\t}\n\n\t// The area in the middle is different for both of the dates.\n\t// Collect them distinctly so we can jam them together later.\n\tfor (middleI=leftI; middleI<=rightI; middleI++) {\n\t\tmiddleStr1 += formatDateWithChunk(date1, chunks[middleI]);\n\t\tmiddleStr2 += formatDateWithChunk(date2, chunks[middleI]);\n\t}\n\n\tif (middleStr1 || middleStr2) {\n\t\tif (isRTL) {\n\t\t\tmiddleStr = middleStr2 + separator + middleStr1;\n\t\t}\n\t\telse {\n\t\t\tmiddleStr = middleStr1 + separator + middleStr2;\n\t\t}\n\t}\n\n\treturn leftStr + middleStr + rightStr;\n}\n\n\nvar similarUnitMap = {\n\tY: 'year',\n\tM: 'month',\n\tD: 'day', // day of month\n\td: 'day', // day of week\n\t// prevents a separator between anything time-related...\n\tA: 'second', // AM/PM\n\ta: 'second', // am/pm\n\tT: 'second', // A/P\n\tt: 'second', // a/p\n\tH: 'second', // hour (24)\n\th: 'second', // hour (12)\n\tm: 'second', // minute\n\ts: 'second' // second\n};\n// TODO: week maybe?\n\n\n// Given a formatting chunk, and given that both dates are similar in the regard the\n// formatting chunk is concerned, format date1 against `chunk`. Otherwise, return `false`.\nfunction formatSimilarChunk(date1, date2, chunk) {\n\tvar token;\n\tvar unit;\n\n\tif (typeof chunk === 'string') { // a literal string\n\t\treturn chunk;\n\t}\n\telse if ((token = chunk.token)) {\n\t\tunit = similarUnitMap[token.charAt(0)];\n\t\t// are the dates the same for this unit of measurement?\n\t\tif (unit && date1.isSame(date2, unit)) {\n\t\t\treturn oldMomentFormat(date1, token); // would be the same if we used `date2`\n\t\t\t// BTW, don't support custom tokens\n\t\t}\n\t}\n\n\treturn false; // the chunk is NOT the same for the two dates\n\t// BTW, don't support splitting on non-zero areas\n}\n\n\n// Chunking Utils\n// -------------------------------------------------------------------------------------------------\n\n\nvar formatStringChunkCache = {};\n\n\nfunction getFormatStringChunks(formatStr) {\n\tif (formatStr in formatStringChunkCache) {\n\t\treturn formatStringChunkCache[formatStr];\n\t}\n\treturn (formatStringChunkCache[formatStr] = chunkFormatString(formatStr));\n}\n\n\n// Break the formatting string into an array of chunks\nfunction chunkFormatString(formatStr) {\n\tvar chunks = [];\n\tvar chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g; // TODO: more descrimination\n\tvar match;\n\n\twhile ((match = chunker.exec(formatStr))) {\n\t\tif (match[1]) { // a literal string inside [ ... ]\n\t\t\tchunks.push(match[1]);\n\t\t}\n\t\telse if (match[2]) { // non-zero formatting inside ( ... )\n\t\t\tchunks.push({ maybe: chunkFormatString(match[2]) });\n\t\t}\n\t\telse if (match[3]) { // a formatting token\n\t\t\tchunks.push({ token: match[3] });\n\t\t}\n\t\telse if (match[5]) { // an unenclosed literal string\n\t\t\tchunks.push(match[5]);\n\t\t}\n\t}\n\n\treturn chunks;\n}\n\n;;\n\nfc.Class = Class; // export\n\n// class that all other classes will inherit from\nfunction Class() { }\n\n// called upon a class to create a subclass\nClass.extend = function(members) {\n\tvar superClass = this;\n\tvar subClass;\n\n\tmembers = members || {};\n\n\t// ensure a constructor for the subclass, forwarding all arguments to the super-constructor if it doesn't exist\n\tif (hasOwnProp(members, 'constructor')) {\n\t\tsubClass = members.constructor;\n\t}\n\tif (typeof subClass !== 'function') {\n\t\tsubClass = members.constructor = function() {\n\t\t\tsuperClass.apply(this, arguments);\n\t\t};\n\t}\n\n\t// build the base prototype for the subclass, which is an new object chained to the superclass's prototype\n\tsubClass.prototype = createObject(superClass.prototype);\n\n\t// copy each member variable/method onto the the subclass's prototype\n\tcopyOwnProps(members, subClass.prototype);\n\tcopyNativeMethods(members, subClass.prototype); // hack for IE8\n\n\t// copy over all class variables/methods to the subclass, such as `extend` and `mixin`\n\tcopyOwnProps(superClass, subClass);\n\n\treturn subClass;\n};\n\n// adds new member variables/methods to the class's prototype.\n// can be called with another class, or a plain object hash containing new members.\nClass.mixin = function(members) {\n\tcopyOwnProps(members.prototype || members, this.prototype); // TODO: copyNativeMethods?\n};\n;;\n\nvar Emitter = fc.Emitter = Class.extend({\n\n\tcallbackHash: null,\n\n\n\ton: function(name, callback) {\n\t\tthis.getCallbacks(name).add(callback);\n\t\treturn this; // for chaining\n\t},\n\n\n\toff: function(name, callback) {\n\t\tthis.getCallbacks(name).remove(callback);\n\t\treturn this; // for chaining\n\t},\n\n\n\ttrigger: function(name) { // args...\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\tthis.triggerWith(name, this, args);\n\n\t\treturn this; // for chaining\n\t},\n\n\n\ttriggerWith: function(name, context, args) {\n\t\tvar callbacks = this.getCallbacks(name);\n\n\t\tcallbacks.fireWith(context, args);\n\n\t\treturn this; // for chaining\n\t},\n\n\n\tgetCallbacks: function(name) {\n\t\tvar callbacks;\n\n\t\tif (!this.callbackHash) {\n\t\t\tthis.callbackHash = {};\n\t\t}\n\n\t\tcallbacks = this.callbackHash[name];\n\t\tif (!callbacks) {\n\t\t\tcallbacks = this.callbackHash[name] = $.Callbacks();\n\t\t}\n\n\t\treturn callbacks;\n\t}\n\n});\n;;\n\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n\t- className (string)\n\t- content (HTML string or jQuery element set)\n\t- parentEl\n\t- top\n\t- left\n\t- right (the x coord of where the right edge should be. not a \"CSS\" right)\n\t- autoHide (boolean)\n\t- show (callback)\n\t- hide (callback)\n*/\n\nvar Popover = Class.extend({\n\n\tisHidden: true,\n\toptions: null,\n\tel: null, // the container element for the popover. generated by this object\n\tdocumentMousedownProxy: null, // document mousedown handler bound to `this`\n\tmargin: 10, // the space required between the popover and the edges of the scroll container\n\n\n\tconstructor: function(options) {\n\t\tthis.options = options || {};\n\t},\n\n\n\t// Shows the popover on the specified position. Renders it if not already\n\tshow: function() {\n\t\tif (this.isHidden) {\n\t\t\tif (!this.el) {\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.el.show();\n\t\t\tthis.position();\n\t\t\tthis.isHidden = false;\n\t\t\tthis.trigger('show');\n\t\t}\n\t},\n\n\n\t// Hides the popover, through CSS, but does not remove it from the DOM\n\thide: function() {\n\t\tif (!this.isHidden) {\n\t\t\tthis.el.hide();\n\t\t\tthis.isHidden = true;\n\t\t\tthis.trigger('hide');\n\t\t}\n\t},\n\n\n\t// Creates `this.el` and renders content inside of it\n\trender: function() {\n\t\tvar _this = this;\n\t\tvar options = this.options;\n\n\t\tthis.el = $('<div class=\"fc-popover\"/>')\n\t\t\t.addClass(options.className || '')\n\t\t\t.css({\n\t\t\t\t// position initially to the top left to avoid creating scrollbars\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t})\n\t\t\t.append(options.content)\n\t\t\t.appendTo(options.parentEl);\n\n\t\t// when a click happens on anything inside with a 'fc-close' className, hide the popover\n\t\tthis.el.on('click', '.fc-close', function() {\n\t\t\t_this.hide();\n\t\t});\n\n\t\tif (options.autoHide) {\n\t\t\t$(document).on('mousedown', this.documentMousedownProxy = proxy(this, 'documentMousedown'));\n\t\t}\n\t},\n\n\n\t// Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n\tdocumentMousedown: function(ev) {\n\t\t// only hide the popover if the click happened outside the popover\n\t\tif (this.el && !$(ev.target).closest(this.el).length) {\n\t\t\tthis.hide();\n\t\t}\n\t},\n\n\n\t// Hides and unregisters any handlers\n\tremoveElement: function() {\n\t\tthis.hide();\n\n\t\tif (this.el) {\n\t\t\tthis.el.remove();\n\t\t\tthis.el = null;\n\t\t}\n\n\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Positions the popover optimally, using the top/left/right options\n\tposition: function() {\n\t\tvar options = this.options;\n\t\tvar origin = this.el.offsetParent().offset();\n\t\tvar width = this.el.outerWidth();\n\t\tvar height = this.el.outerHeight();\n\t\tvar windowEl = $(window);\n\t\tvar viewportEl = getScrollParent(this.el);\n\t\tvar viewportTop;\n\t\tvar viewportLeft;\n\t\tvar viewportOffset;\n\t\tvar top; // the \"position\" (not \"offset\") values for the popover\n\t\tvar left; //\n\n\t\t// compute top and left\n\t\ttop = options.top || 0;\n\t\tif (options.left !== undefined) {\n\t\t\tleft = options.left;\n\t\t}\n\t\telse if (options.right !== undefined) {\n\t\t\tleft = options.right - width; // derive the left value from the right value\n\t\t}\n\t\telse {\n\t\t\tleft = 0;\n\t\t}\n\n\t\tif (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent's result\n\t\t\tviewportEl = windowEl;\n\t\t\tviewportTop = 0; // the window is always at the top left\n\t\t\tviewportLeft = 0; // (and .offset() won't work if called here)\n\t\t}\n\t\telse {\n\t\t\tviewportOffset = viewportEl.offset();\n\t\t\tviewportTop = viewportOffset.top;\n\t\t\tviewportLeft = viewportOffset.left;\n\t\t}\n\n\t\t// if the window is scrolled, it causes the visible area to be further down\n\t\tviewportTop += windowEl.scrollTop();\n\t\tviewportLeft += windowEl.scrollLeft();\n\n\t\t// constrain to the view port. if constrained by two edges, give precedence to top/left\n\t\tif (options.viewportConstrain !== false) {\n\t\t\ttop = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);\n\t\t\ttop = Math.max(top, viewportTop + this.margin);\n\t\t\tleft = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);\n\t\t\tleft = Math.max(left, viewportLeft + this.margin);\n\t\t}\n\n\t\tthis.el.css({\n\t\t\ttop: top - origin.top,\n\t\t\tleft: left - origin.left\n\t\t});\n\t},\n\n\n\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t// Arguments beyond the first `name` are forwarded on.\n\t// TODO: better code reuse for this. Repeat code\n\ttrigger: function(name) {\n\t\tif (this.options[name]) {\n\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\t}\n\n});\n\n;;\n\n/* A \"coordinate map\" converts pixel coordinates into an associated cell, which has an associated date\n------------------------------------------------------------------------------------------------------------------------\nCommon interface:\n\n\tCoordMap.prototype = {\n\t\tbuild: function() {},\n\t\tgetCell: function(x, y) {}\n\t};\n\n*/\n\n/* Coordinate map for a grid component\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar GridCoordMap = Class.extend({\n\n\tgrid: null, // reference to the Grid\n\trowCoords: null, // array of {top,bottom} objects\n\tcolCoords: null, // array of {left,right} objects\n\n\tcontainerEl: null, // container element that all coordinates are constrained to. optionally assigned\n\tbounds: null,\n\n\n\tconstructor: function(grid) {\n\t\tthis.grid = grid;\n\t},\n\n\n\t// Queries the grid for the coordinates of all the cells\n\tbuild: function() {\n\t\tthis.grid.build();\n\t\tthis.rowCoords = this.grid.computeRowCoords();\n\t\tthis.colCoords = this.grid.computeColCoords();\n\t\tthis.computeBounds();\n\t},\n\n\n\t// Clears the coordinates data to free up memory\n\tclear: function() {\n\t\tthis.grid.clear();\n\t\tthis.rowCoords = null;\n\t\tthis.colCoords = null;\n\t},\n\n\n\t// Given a coordinate of the document, gets the associated cell. If no cell is underneath, returns null\n\tgetCell: function(x, y) {\n\t\tvar rowCoords = this.rowCoords;\n\t\tvar rowCnt = rowCoords.length;\n\t\tvar colCoords = this.colCoords;\n\t\tvar colCnt = colCoords.length;\n\t\tvar hitRow = null;\n\t\tvar hitCol = null;\n\t\tvar i, coords;\n\t\tvar cell;\n\n\t\tif (this.inBounds(x, y)) {\n\n\t\t\tfor (i = 0; i < rowCnt; i++) {\n\t\t\t\tcoords = rowCoords[i];\n\t\t\t\tif (y >= coords.top && y < coords.bottom) {\n\t\t\t\t\thitRow = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < colCnt; i++) {\n\t\t\t\tcoords = colCoords[i];\n\t\t\t\tif (x >= coords.left && x < coords.right) {\n\t\t\t\t\thitCol = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hitRow !== null && hitCol !== null) {\n\n\t\t\t\tcell = this.grid.getCell(hitRow, hitCol); // expected to return a fresh object we can modify\n\t\t\t\tcell.grid = this.grid; // for CellDragListener's isCellsEqual. dragging between grids\n\n\t\t\t\t// make the coordinates available on the cell object\n\t\t\t\t$.extend(cell, rowCoords[hitRow], colCoords[hitCol]);\n\n\t\t\t\treturn cell;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\n\t// If there is a containerEl, compute the bounds into min/max values\n\tcomputeBounds: function() {\n\t\tthis.bounds = this.containerEl ?\n\t\t\tgetClientRect(this.containerEl) : // area within scrollbars\n\t\t\tnull;\n\t},\n\n\n\t// Determines if the given coordinates are in bounds. If no `containerEl`, always true\n\tinBounds: function(x, y) {\n\t\tvar bounds = this.bounds;\n\n\t\tif (bounds) {\n\t\t\treturn x >= bounds.left && x < bounds.right && y >= bounds.top && y < bounds.bottom;\n\t\t}\n\n\t\treturn true;\n\t}\n\n});\n\n\n/* Coordinate map that is a combination of multiple other coordinate maps\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar ComboCoordMap = Class.extend({\n\n\tcoordMaps: null, // an array of CoordMaps\n\n\n\tconstructor: function(coordMaps) {\n\t\tthis.coordMaps = coordMaps;\n\t},\n\n\n\t// Builds all coordMaps\n\tbuild: function() {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\tcoordMaps[i].build();\n\t\t}\n\t},\n\n\n\t// Queries all coordMaps for the cell underneath the given coordinates, returning the first result\n\tgetCell: function(x, y) {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar cell = null;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length && !cell; i++) {\n\t\t\tcell = coordMaps[i].getCell(x, y);\n\t\t}\n\n\t\treturn cell;\n\t},\n\n\n\t// Clears all coordMaps\n\tclear: function() {\n\t\tvar coordMaps = this.coordMaps;\n\t\tvar i;\n\n\t\tfor (i = 0; i < coordMaps.length; i++) {\n\t\t\tcoordMaps[i].clear();\n\t\t}\n\t}\n\n});\n\n;;\n\n/* Tracks a drag's mouse movement, firing various handlers\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar DragListener = fc.DragListener = Class.extend({\n\n\toptions: null,\n\n\tisListening: false,\n\tisDragging: false,\n\n\t// coordinates of the initial mousedown\n\toriginX: null,\n\toriginY: null,\n\n\t// handler attached to the document, bound to the DragListener's `this`\n\tmousemoveProxy: null,\n\tmouseupProxy: null,\n\n\t// for IE8 bug-fighting behavior, for now\n\tsubjectEl: null, // the element being draged. optional\n\tsubjectHref: null,\n\n\tscrollEl: null,\n\tscrollBounds: null, // { top, bottom, left, right }\n\tscrollTopVel: null, // pixels per second\n\tscrollLeftVel: null, // pixels per second\n\tscrollIntervalId: null, // ID of setTimeout for scrolling animation loop\n\tscrollHandlerProxy: null, // this-scoped function for handling when scrollEl is scrolled\n\n\tscrollSensitivity: 30, // pixels from edge for scrolling to start\n\tscrollSpeed: 200, // pixels per second, at maximum speed\n\tscrollIntervalMs: 50, // millisecond wait between scroll increment\n\n\n\tconstructor: function(options) {\n\t\toptions = options || {};\n\t\tthis.options = options;\n\t\tthis.subjectEl = options.subjectEl;\n\t},\n\n\n\t// Call this when the user does a mousedown. Will probably lead to startListening\n\tmousedown: function(ev) {\n\t\tif (isPrimaryMouseButton(ev)) {\n\n\t\t\tev.preventDefault(); // prevents native selection in most browsers\n\n\t\t\tthis.startListening(ev);\n\n\t\t\t// start the drag immediately if there is no minimum distance for a drag start\n\t\t\tif (!this.options.distance) {\n\t\t\t\tthis.startDrag(ev);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Call this to start tracking mouse movements\n\tstartListening: function(ev) {\n\t\tvar scrollParent;\n\n\t\tif (!this.isListening) {\n\n\t\t\t// grab scroll container and attach handler\n\t\t\tif (ev && this.options.scroll) {\n\t\t\t\tscrollParent = getScrollParent($(ev.target));\n\t\t\t\tif (!scrollParent.is(window) && !scrollParent.is(document)) {\n\t\t\t\t\tthis.scrollEl = scrollParent;\n\n\t\t\t\t\t// scope to `this`, and use `debounce` to make sure rapid calls don't happen\n\t\t\t\t\tthis.scrollHandlerProxy = debounce(proxy(this, 'scrollHandler'), 100);\n\t\t\t\t\tthis.scrollEl.on('scroll', this.scrollHandlerProxy);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(document)\n\t\t\t\t.on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'))\n\t\t\t\t.on('mouseup', this.mouseupProxy = proxy(this, 'mouseup'))\n\t\t\t\t.on('selectstart', this.preventDefault); // prevents native selection in IE<=8\n\n\t\t\tif (ev) {\n\t\t\t\tthis.originX = ev.pageX;\n\t\t\t\tthis.originY = ev.pageY;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// if no starting information was given, origin will be the topleft corner of the screen.\n\t\t\t\t// if so, dx/dy in the future will be the absolute coordinates.\n\t\t\t\tthis.originX = 0;\n\t\t\t\tthis.originY = 0;\n\t\t\t}\n\n\t\t\tthis.isListening = true;\n\t\t\tthis.listenStart(ev);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has started (but a real drag has not necessarily began)\n\tlistenStart: function(ev) {\n\t\tthis.trigger('listenStart', ev);\n\t},\n\n\n\t// Called when the user moves the mouse\n\tmousemove: function(ev) {\n\t\tvar dx = ev.pageX - this.originX;\n\t\tvar dy = ev.pageY - this.originY;\n\t\tvar minDistance;\n\t\tvar distanceSq; // current distance from the origin, squared\n\n\t\tif (!this.isDragging) { // if not already dragging...\n\t\t\t// then start the drag if the minimum distance criteria is met\n\t\t\tminDistance = this.options.distance || 1;\n\t\t\tdistanceSq = dx * dx + dy * dy;\n\t\t\tif (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n\t\t\t\tthis.startDrag(ev);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDragging) {\n\t\t\tthis.drag(dx, dy, ev); // report a drag, even if this mousemove initiated the drag\n\t\t}\n\t},\n\n\n\t// Call this to initiate a legitimate drag.\n\t// This function is called internally from this class, but can also be called explicitly from outside\n\tstartDrag: function(ev) {\n\n\t\tif (!this.isListening) { // startDrag must have manually initiated\n\t\t\tthis.startListening();\n\t\t}\n\n\t\tif (!this.isDragging) {\n\t\t\tthis.isDragging = true;\n\t\t\tthis.dragStart(ev);\n\t\t}\n\t},\n\n\n\t// Called when the actual drag has started (went beyond minDistance)\n\tdragStart: function(ev) {\n\t\tvar subjectEl = this.subjectEl;\n\n\t\tthis.trigger('dragStart', ev);\n\n\t\t// remove a mousedown'd <a>'s href so it is not visited (IE8 bug)\n\t\tif ((this.subjectHref = subjectEl ? subjectEl.attr('href') : null)) {\n\t\t\tsubjectEl.removeAttr('href');\n\t\t}\n\t},\n\n\n\t// Called while the mouse is being moved and when we know a legitimate drag is taking place\n\tdrag: function(dx, dy, ev) {\n\t\tthis.trigger('drag', dx, dy, ev);\n\t\tthis.updateScroll(ev); // will possibly cause scrolling\n\t},\n\n\n\t// Called when the user does a mouseup\n\tmouseup: function(ev) {\n\t\tthis.stopListening(ev);\n\t},\n\n\n\t// Called when the drag is over. Will not cause listening to stop however.\n\t// A concluding 'cellOut' event will NOT be triggered.\n\tstopDrag: function(ev) {\n\t\tif (this.isDragging) {\n\t\t\tthis.stopScrolling();\n\t\t\tthis.dragStop(ev);\n\t\t\tthis.isDragging = false;\n\t\t}\n\t},\n\n\n\t// Called when dragging has been stopped\n\tdragStop: function(ev) {\n\t\tvar _this = this;\n\n\t\tthis.trigger('dragStop', ev);\n\n\t\t// restore a mousedown'd <a>'s href (for IE8 bug)\n\t\tsetTimeout(function() { // must be outside of the click's execution\n\t\t\tif (_this.subjectHref) {\n\t\t\t\t_this.subjectEl.attr('href', _this.subjectHref);\n\t\t\t}\n\t\t}, 0);\n\t},\n\n\n\t// Call this to stop listening to the user's mouse events\n\tstopListening: function(ev) {\n\t\tthis.stopDrag(ev); // if there's a current drag, kill it\n\n\t\tif (this.isListening) {\n\n\t\t\t// remove the scroll handler if there is a scrollEl\n\t\t\tif (this.scrollEl) {\n\t\t\t\tthis.scrollEl.off('scroll', this.scrollHandlerProxy);\n\t\t\t\tthis.scrollHandlerProxy = null;\n\t\t\t}\n\n\t\t\t$(document)\n\t\t\t\t.off('mousemove', this.mousemoveProxy)\n\t\t\t\t.off('mouseup', this.mouseupProxy)\n\t\t\t\t.off('selectstart', this.preventDefault);\n\n\t\t\tthis.mousemoveProxy = null;\n\t\t\tthis.mouseupProxy = null;\n\n\t\t\tthis.isListening = false;\n\t\t\tthis.listenStop(ev);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has stopped\n\tlistenStop: function(ev) {\n\t\tthis.trigger('listenStop', ev);\n\t},\n\n\n\t// Triggers a callback. Calls a function in the option hash of the same name.\n\t// Arguments beyond the first `name` are forwarded on.\n\ttrigger: function(name) {\n\t\tif (this.options[name]) {\n\t\t\tthis.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\t},\n\n\n\t// Stops a given mouse event from doing it's native browser action. In our case, text selection.\n\tpreventDefault: function(ev) {\n\t\tev.preventDefault();\n\t},\n\n\n\t/* Scrolling\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes and stores the bounding rectangle of scrollEl\n\tcomputeScrollBounds: function() {\n\t\tvar el = this.scrollEl;\n\n\t\tthis.scrollBounds = el ? getOuterRect(el) : null;\n\t\t\t// TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\n\t},\n\n\n\t// Called when the dragging is in progress and scrolling should be updated\n\tupdateScroll: function(ev) {\n\t\tvar sensitivity = this.scrollSensitivity;\n\t\tvar bounds = this.scrollBounds;\n\t\tvar topCloseness, bottomCloseness;\n\t\tvar leftCloseness, rightCloseness;\n\t\tvar topVel = 0;\n\t\tvar leftVel = 0;\n\n\t\tif (bounds) { // only scroll if scrollEl exists\n\n\t\t\t// compute closeness to edges. valid range is from 0.0 - 1.0\n\t\t\ttopCloseness = (sensitivity - (ev.pageY - bounds.top)) / sensitivity;\n\t\t\tbottomCloseness = (sensitivity - (bounds.bottom - ev.pageY)) / sensitivity;\n\t\t\tleftCloseness = (sensitivity - (ev.pageX - bounds.left)) / sensitivity;\n\t\t\trightCloseness = (sensitivity - (bounds.right - ev.pageX)) / sensitivity;\n\n\t\t\t// translate vertical closeness into velocity.\n\t\t\t// mouse must be completely in bounds for velocity to happen.\n\t\t\tif (topCloseness >= 0 && topCloseness <= 1) {\n\t\t\t\ttopVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up\n\t\t\t}\n\t\t\telse if (bottomCloseness >= 0 && bottomCloseness <= 1) {\n\t\t\t\ttopVel = bottomCloseness * this.scrollSpeed;\n\t\t\t}\n\n\t\t\t// translate horizontal closeness into velocity\n\t\t\tif (leftCloseness >= 0 && leftCloseness <= 1) {\n\t\t\t\tleftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left\n\t\t\t}\n\t\t\telse if (rightCloseness >= 0 && rightCloseness <= 1) {\n\t\t\t\tleftVel = rightCloseness * this.scrollSpeed;\n\t\t\t}\n\t\t}\n\n\t\tthis.setScrollVel(topVel, leftVel);\n\t},\n\n\n\t// Sets the speed-of-scrolling for the scrollEl\n\tsetScrollVel: function(topVel, leftVel) {\n\n\t\tthis.scrollTopVel = topVel;\n\t\tthis.scrollLeftVel = leftVel;\n\n\t\tthis.constrainScrollVel(); // massages into realistic values\n\n\t\t// if there is non-zero velocity, and an animation loop hasn't already started, then START\n\t\tif ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\n\t\t\tthis.scrollIntervalId = setInterval(\n\t\t\t\tproxy(this, 'scrollIntervalFunc'), // scope to `this`\n\t\t\t\tthis.scrollIntervalMs\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\n\tconstrainScrollVel: function() {\n\t\tvar el = this.scrollEl;\n\n\t\tif (this.scrollTopVel < 0) { // scrolling up?\n\t\t\tif (el.scrollTop() <= 0) { // already scrolled all the way up?\n\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t}\n\t\t}\n\t\telse if (this.scrollTopVel > 0) { // scrolling down?\n\t\t\tif (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) { // already scrolled all the way down?\n\t\t\t\tthis.scrollTopVel = 0;\n\t\t\t}\n\t\t}\n\n\t\tif (this.scrollLeftVel < 0) { // scrolling left?\n\t\t\tif (el.scrollLeft() <= 0) { // already scrolled all the left?\n\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t}\n\t\t}\n\t\telse if (this.scrollLeftVel > 0) { // scrolling right?\n\t\t\tif (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) { // already scrolled all the way right?\n\t\t\t\tthis.scrollLeftVel = 0;\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// This function gets called during every iteration of the scrolling animation loop\n\tscrollIntervalFunc: function() {\n\t\tvar el = this.scrollEl;\n\t\tvar frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult'd by\n\n\t\t// change the value of scrollEl's scroll\n\t\tif (this.scrollTopVel) {\n\t\t\tel.scrollTop(el.scrollTop() + this.scrollTopVel * frac);\n\t\t}\n\t\tif (this.scrollLeftVel) {\n\t\t\tel.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);\n\t\t}\n\n\t\tthis.constrainScrollVel(); // since the scroll values changed, recompute the velocities\n\n\t\t// if scrolled all the way, which causes the vels to be zero, stop the animation loop\n\t\tif (!this.scrollTopVel && !this.scrollLeftVel) {\n\t\t\tthis.stopScrolling();\n\t\t}\n\t},\n\n\n\t// Kills any existing scrolling animation loop\n\tstopScrolling: function() {\n\t\tif (this.scrollIntervalId) {\n\t\t\tclearInterval(this.scrollIntervalId);\n\t\t\tthis.scrollIntervalId = null;\n\n\t\t\t// when all done with scrolling, recompute positions since they probably changed\n\t\t\tthis.scrollStop();\n\t\t}\n\t},\n\n\n\t// Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\n\tscrollHandler: function() {\n\t\t// recompute all coordinates, but *only* if this is *not* part of our scrolling animation\n\t\tif (!this.scrollIntervalId) {\n\t\t\tthis.scrollStop();\n\t\t}\n\t},\n\n\n\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\tscrollStop: function() {\n\t}\n\n});\n\n;;\n\n/* Tracks mouse movements over a CoordMap and raises events about which cell the mouse is over.\n------------------------------------------------------------------------------------------------------------------------\noptions:\n- subjectEl\n- subjectCenter\n*/\n\nvar CellDragListener = DragListener.extend({\n\n\tcoordMap: null, // converts coordinates to date cells\n\torigCell: null, // the cell the mouse was over when listening started\n\tcell: null, // the cell the mouse is over\n\tcoordAdjust: null, // delta that will be added to the mouse coordinates when computing collisions\n\n\n\tconstructor: function(coordMap, options) {\n\t\tDragListener.prototype.constructor.call(this, options); // call the super-constructor\n\n\t\tthis.coordMap = coordMap;\n\t},\n\n\n\t// Called when drag listening starts (but a real drag has not necessarily began).\n\t// ev might be undefined if dragging was started manually.\n\tlistenStart: function(ev) {\n\t\tvar subjectEl = this.subjectEl;\n\t\tvar subjectRect;\n\t\tvar origPoint;\n\t\tvar point;\n\n\t\tDragListener.prototype.listenStart.apply(this, arguments); // call the super-method\n\n\t\tthis.computeCoords();\n\n\t\tif (ev) {\n\t\t\torigPoint = { left: ev.pageX, top: ev.pageY };\n\t\t\tpoint = origPoint;\n\n\t\t\t// constrain the point to bounds of the element being dragged\n\t\t\tif (subjectEl) {\n\t\t\t\tsubjectRect = getOuterRect(subjectEl); // used for centering as well\n\t\t\t\tpoint = constrainPoint(point, subjectRect);\n\t\t\t}\n\n\t\t\tthis.origCell = this.getCell(point.left, point.top);\n\n\t\t\t// treat the center of the subject as the collision point?\n\t\t\tif (subjectEl && this.options.subjectCenter) {\n\n\t\t\t\t// only consider the area the subject overlaps the cell. best for large subjects\n\t\t\t\tif (this.origCell) {\n\t\t\t\t\tsubjectRect = intersectRects(this.origCell, subjectRect) ||\n\t\t\t\t\t\tsubjectRect; // in case there is no intersection\n\t\t\t\t}\n\n\t\t\t\tpoint = getRectCenter(subjectRect);\n\t\t\t}\n\n\t\t\tthis.coordAdjust = diffPoints(point, origPoint); // point - origPoint\n\t\t}\n\t\telse {\n\t\t\tthis.origCell = null;\n\t\t\tthis.coordAdjust = null;\n\t\t}\n\t},\n\n\n\t// Recomputes the drag-critical positions of elements\n\tcomputeCoords: function() {\n\t\tthis.coordMap.build();\n\t\tthis.computeScrollBounds();\n\t},\n\n\n\t// Called when the actual drag has started\n\tdragStart: function(ev) {\n\t\tvar cell;\n\n\t\tDragListener.prototype.dragStart.apply(this, arguments); // call the super-method\n\n\t\tcell = this.getCell(ev.pageX, ev.pageY); // might be different from this.origCell if the min-distance is large\n\n\t\t// report the initial cell the mouse is over\n\t\t// especially important if no min-distance and drag starts immediately\n\t\tif (cell) {\n\t\t\tthis.cellOver(cell);\n\t\t}\n\t},\n\n\n\t// Called when the drag moves\n\tdrag: function(dx, dy, ev) {\n\t\tvar cell;\n\n\t\tDragListener.prototype.drag.apply(this, arguments); // call the super-method\n\n\t\tcell = this.getCell(ev.pageX, ev.pageY);\n\n\t\tif (!isCellsEqual(cell, this.cell)) { // a different cell than before?\n\t\t\tif (this.cell) {\n\t\t\t\tthis.cellOut();\n\t\t\t}\n\t\t\tif (cell) {\n\t\t\t\tthis.cellOver(cell);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Called when dragging has been stopped\n\tdragStop: function() {\n\t\tthis.cellDone();\n\t\tDragListener.prototype.dragStop.apply(this, arguments); // call the super-method\n\t},\n\n\n\t// Called when a the mouse has just moved over a new cell\n\tcellOver: function(cell) {\n\t\tthis.cell = cell;\n\t\tthis.trigger('cellOver', cell, isCellsEqual(cell, this.origCell), this.origCell);\n\t},\n\n\n\t// Called when the mouse has just moved out of a cell\n\tcellOut: function() {\n\t\tif (this.cell) {\n\t\t\tthis.trigger('cellOut', this.cell);\n\t\t\tthis.cellDone();\n\t\t\tthis.cell = null;\n\t\t}\n\t},\n\n\n\t// Called after a cellOut. Also called before a dragStop\n\tcellDone: function() {\n\t\tif (this.cell) {\n\t\t\tthis.trigger('cellDone', this.cell);\n\t\t}\n\t},\n\n\n\t// Called when drag listening has stopped\n\tlistenStop: function() {\n\t\tDragListener.prototype.listenStop.apply(this, arguments); // call the super-method\n\n\t\tthis.origCell = this.cell = null;\n\t\tthis.coordMap.clear();\n\t},\n\n\n\t// Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n\tscrollStop: function() {\n\t\tDragListener.prototype.scrollStop.apply(this, arguments); // call the super-method\n\n\t\tthis.computeCoords(); // cells' absolute positions will be in new places. recompute\n\t},\n\n\n\t// Gets the cell underneath the coordinates for the given mouse event\n\tgetCell: function(left, top) {\n\n\t\tif (this.coordAdjust) {\n\t\t\tleft += this.coordAdjust.left;\n\t\t\ttop += this.coordAdjust.top;\n\t\t}\n\n\t\treturn this.coordMap.getCell(left, top);\n\t}\n\n});\n\n\n// Returns `true` if the cells are identically equal. `false` otherwise.\n// They must have the same row, col, and be from the same grid.\n// Two null values will be considered equal, as two \"out of the grid\" states are the same.\nfunction isCellsEqual(cell1, cell2) {\n\n\tif (!cell1 && !cell2) {\n\t\treturn true;\n\t}\n\n\tif (cell1 && cell2) {\n\t\treturn cell1.grid === cell2.grid &&\n\t\t\tcell1.row === cell2.row &&\n\t\t\tcell1.col === cell2.col;\n\t}\n\n\treturn false;\n}\n\n;;\n\n/* Creates a clone of an element and lets it track the mouse as it moves\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar MouseFollower = Class.extend({\n\n\toptions: null,\n\n\tsourceEl: null, // the element that will be cloned and made to look like it is dragging\n\tel: null, // the clone of `sourceEl` that will track the mouse\n\tparentEl: null, // the element that `el` (the clone) will be attached to\n\n\t// the initial position of el, relative to the offset parent. made to match the initial offset of sourceEl\n\ttop0: null,\n\tleft0: null,\n\n\t// the initial position of the mouse\n\tmouseY0: null,\n\tmouseX0: null,\n\n\t// the number of pixels the mouse has moved from its initial position\n\ttopDelta: null,\n\tleftDelta: null,\n\n\tmousemoveProxy: null, // document mousemove handler, bound to the MouseFollower's `this`\n\n\tisFollowing: false,\n\tisHidden: false,\n\tisAnimating: false, // doing the revert animation?\n\n\tconstructor: function(sourceEl, options) {\n\t\tthis.options = options = options || {};\n\t\tthis.sourceEl = sourceEl;\n\t\tthis.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl's parent\n\t},\n\n\n\t// Causes the element to start following the mouse\n\tstart: function(ev) {\n\t\tif (!this.isFollowing) {\n\t\t\tthis.isFollowing = true;\n\n\t\t\tthis.mouseY0 = ev.pageY;\n\t\t\tthis.mouseX0 = ev.pageX;\n\t\t\tthis.topDelta = 0;\n\t\t\tthis.leftDelta = 0;\n\n\t\t\tif (!this.isHidden) {\n\t\t\t\tthis.updatePosition();\n\t\t\t}\n\n\t\t\t$(document).on('mousemove', this.mousemoveProxy = proxy(this, 'mousemove'));\n\t\t}\n\t},\n\n\n\t// Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\n\t// `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\n\tstop: function(shouldRevert, callback) {\n\t\tvar _this = this;\n\t\tvar revertDuration = this.options.revertDuration;\n\n\t\tfunction complete() {\n\t\t\tthis.isAnimating = false;\n\t\t\t_this.removeElement();\n\n\t\t\tthis.top0 = this.left0 = null; // reset state for future updatePosition calls\n\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\n\t\tif (this.isFollowing && !this.isAnimating) { // disallow more than one stop animation at a time\n\t\t\tthis.isFollowing = false;\n\n\t\t\t$(document).off('mousemove', this.mousemoveProxy);\n\n\t\t\tif (shouldRevert && revertDuration && !this.isHidden) { // do a revert animation?\n\t\t\t\tthis.isAnimating = true;\n\t\t\t\tthis.el.animate({\n\t\t\t\t\ttop: this.top0,\n\t\t\t\t\tleft: this.left0\n\t\t\t\t}, {\n\t\t\t\t\tduration: revertDuration,\n\t\t\t\t\tcomplete: complete\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Gets the tracking element. Create it if necessary\n\tgetEl: function() {\n\t\tvar el = this.el;\n\n\t\tif (!el) {\n\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\tel = this.el = this.sourceEl.clone()\n\t\t\t\t.css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tvisibility: '', // in case original element was hidden (commonly through hideEvents())\n\t\t\t\t\tdisplay: this.isHidden ? 'none' : '', // for when initially hidden\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tright: 'auto', // erase and set width instead\n\t\t\t\t\tbottom: 'auto', // erase and set height instead\n\t\t\t\t\twidth: this.sourceEl.width(), // explicit height in case there was a 'right' value\n\t\t\t\t\theight: this.sourceEl.height(), // explicit width in case there was a 'bottom' value\n\t\t\t\t\topacity: this.options.opacity || '',\n\t\t\t\t\tzIndex: this.options.zIndex\n\t\t\t\t})\n\t\t\t\t.appendTo(this.parentEl);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\n\t// Removes the tracking element if it has already been created\n\tremoveElement: function() {\n\t\tif (this.el) {\n\t\t\tthis.el.remove();\n\t\t\tthis.el = null;\n\t\t}\n\t},\n\n\n\t// Update the CSS position of the tracking element\n\tupdatePosition: function() {\n\t\tvar sourceOffset;\n\t\tvar origin;\n\n\t\tthis.getEl(); // ensure this.el\n\n\t\t// make sure origin info was computed\n\t\tif (this.top0 === null) {\n\t\t\tthis.sourceEl.width(); // hack to force IE8 to compute correct bounding box\n\t\t\tsourceOffset = this.sourceEl.offset();\n\t\t\torigin = this.el.offsetParent().offset();\n\t\t\tthis.top0 = sourceOffset.top - origin.top;\n\t\t\tthis.left0 = sourceOffset.left - origin.left;\n\t\t}\n\n\t\tthis.el.css({\n\t\t\ttop: this.top0 + this.topDelta,\n\t\t\tleft: this.left0 + this.leftDelta\n\t\t});\n\t},\n\n\n\t// Gets called when the user moves the mouse\n\tmousemove: function(ev) {\n\t\tthis.topDelta = ev.pageY - this.mouseY0;\n\t\tthis.leftDelta = ev.pageX - this.mouseX0;\n\n\t\tif (!this.isHidden) {\n\t\t\tthis.updatePosition();\n\t\t}\n\t},\n\n\n\t// Temporarily makes the tracking element invisible. Can be called before following starts\n\thide: function() {\n\t\tif (!this.isHidden) {\n\t\t\tthis.isHidden = true;\n\t\t\tif (this.el) {\n\t\t\t\tthis.el.hide();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Show the tracking element after it has been temporarily hidden\n\tshow: function() {\n\t\tif (this.isHidden) {\n\t\t\tthis.isHidden = false;\n\t\t\tthis.updatePosition();\n\t\t\tthis.getEl().show();\n\t\t}\n\t}\n\n});\n\n;;\n\n/* A utility class for rendering <tr> rows.\n----------------------------------------------------------------------------------------------------------------------*/\n// It leverages methods of the subclass and the View to determine custom rendering behavior for each row \"type\"\n// (such as highlight rows, day rows, helper rows, etc).\n\nvar RowRenderer = Class.extend({\n\n\tview: null, // a View object\n\tisRTL: null, // shortcut to the view's isRTL option\n\tcellHtml: '<td/>', // plain default HTML used for a cell when no other is available\n\n\n\tconstructor: function(view) {\n\t\tthis.view = view;\n\t\tthis.isRTL = view.opt('isRTL');\n\t},\n\n\n\t// Renders the HTML for a row, leveraging custom cell-HTML-renderers based on the `rowType`.\n\t// Also applies the \"intro\" and \"outro\" cells, which are specified by the subclass and views.\n\t// `row` is an optional row number.\n\trowHtml: function(rowType, row) {\n\t\tvar renderCell = this.getHtmlRenderer('cell', rowType);\n\t\tvar rowCellHtml = '';\n\t\tvar col;\n\t\tvar cell;\n\n\t\trow = row || 0;\n\n\t\tfor (col = 0; col < this.colCnt; col++) {\n\t\t\tcell = this.getCell(row, col);\n\t\t\trowCellHtml += renderCell(cell);\n\t\t}\n\n\t\trowCellHtml = this.bookendCells(rowCellHtml, rowType, row); // apply intro and outro\n\n\t\treturn '<tr>' + rowCellHtml + '</tr>';\n\t},\n\n\n\t// Applies the \"intro\" and \"outro\" HTML to the given cells.\n\t// Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\n\t// `cells` can be an HTML string of <td>'s or a jQuery <tr> element\n\t// `row` is an optional row number.\n\tbookendCells: function(cells, rowType, row) {\n\t\tvar intro = this.getHtmlRenderer('intro', rowType)(row || 0);\n\t\tvar outro = this.getHtmlRenderer('outro', rowType)(row || 0);\n\t\tvar prependHtml = this.isRTL ? outro : intro;\n\t\tvar appendHtml = this.isRTL ? intro : outro;\n\n\t\tif (typeof cells === 'string') {\n\t\t\treturn prependHtml + cells + appendHtml;\n\t\t}\n\t\telse { // a jQuery <tr> element\n\t\t\treturn cells.prepend(prependHtml).append(appendHtml);\n\t\t}\n\t},\n\n\n\t// Returns an HTML-rendering function given a specific `rendererName` (like cell, intro, or outro) and a specific\n\t// `rowType` (like day, eventSkeleton, helperSkeleton), which is optional.\n\t// If a renderer for the specific rowType doesn't exist, it will fall back to a generic renderer.\n\t// We will query the View object first for any custom rendering functions, then the methods of the subclass.\n\tgetHtmlRenderer: function(rendererName, rowType) {\n\t\tvar view = this.view;\n\t\tvar generalName; // like \"cellHtml\"\n\t\tvar specificName; // like \"dayCellHtml\". based on rowType\n\t\tvar provider; // either the View or the RowRenderer subclass, whichever provided the method\n\t\tvar renderer;\n\n\t\tgeneralName = rendererName + 'Html';\n\t\tif (rowType) {\n\t\t\tspecificName = rowType + capitaliseFirstLetter(rendererName) + 'Html';\n\t\t}\n\n\t\tif (specificName && (renderer = view[specificName])) {\n\t\t\tprovider = view;\n\t\t}\n\t\telse if (specificName && (renderer = this[specificName])) {\n\t\t\tprovider = this;\n\t\t}\n\t\telse if ((renderer = view[generalName])) {\n\t\t\tprovider = view;\n\t\t}\n\t\telse if ((renderer = this[generalName])) {\n\t\t\tprovider = this;\n\t\t}\n\n\t\tif (typeof renderer === 'function') {\n\t\t\treturn function() {\n\t\t\t\treturn renderer.apply(provider, arguments) || ''; // use correct `this` and always return a string\n\t\t\t};\n\t\t}\n\n\t\t// the rendered can be a plain string as well. if not specified, always an empty string.\n\t\treturn function() {\n\t\t\treturn renderer || '';\n\t\t};\n\t}\n\n});\n\n;;\n\n/* An abstract class comprised of a \"grid\" of cells that each represent a specific datetime\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar Grid = fc.Grid = RowRenderer.extend({\n\n\tstart: null, // the date of the first cell\n\tend: null, // the date after the last cell\n\n\trowCnt: 0, // number of rows\n\tcolCnt: 0, // number of cols\n\n\tel: null, // the containing element\n\tcoordMap: null, // a GridCoordMap that converts pixel values to datetimes\n\telsByFill: null, // a hash of jQuery element sets used for rendering each fill. Keyed by fill name.\n\n\texternalDragStartProxy: null, // binds the Grid's scope to externalDragStart (in DayGrid.events)\n\n\t// derived from options\n\tcolHeadFormat: null, // TODO: move to another class. not applicable to all Grids\n\teventTimeFormat: null,\n\tdisplayEventTime: null,\n\tdisplayEventEnd: null,\n\n\t// if all cells are the same length of time, the duration they all share. optional.\n\t// when defined, allows the computeCellRange shortcut, as well as improved resizing behavior.\n\tcellDuration: null,\n\n\t// if defined, holds the unit identified (ex: \"year\" or \"month\") that determines the level of granularity\n\t// of the date cells. if not defined, assumes to be day and time granularity.\n\tlargeUnit: null,\n\n\n\tconstructor: function() {\n\t\tRowRenderer.apply(this, arguments); // call the super-constructor\n\n\t\tthis.coordMap = new GridCoordMap(this);\n\t\tthis.elsByFill = {};\n\t\tthis.externalDragStartProxy = proxy(this, 'externalDragStart');\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Generates the format string used for the text in column headers, if not explicitly defined by 'columnFormat'\n\t// TODO: move to another class. not applicable to all Grids\n\tcomputeColHeadFormat: function() {\n\t\t// subclasses must implement if they want to use headHtml()\n\t},\n\n\n\t// Generates the format string used for event time text, if not explicitly defined by 'timeFormat'\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('smallTimeFormat');\n\t},\n\n\n\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventTime'.\n\t// Only applies to non-all-day events.\n\tcomputeDisplayEventTime: function() {\n\t\treturn true;\n\t},\n\n\n\t// Determines whether events should have their end times displayed, if not explicitly defined by 'displayEventEnd'\n\tcomputeDisplayEventEnd: function() {\n\t\treturn true;\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Tells the grid about what period of time to display.\n\t// Any date-related cell system internal data should be generated.\n\tsetRange: function(range) {\n\t\tthis.start = range.start.clone();\n\t\tthis.end = range.end.clone();\n\n\t\tthis.rangeUpdated();\n\t\tthis.processRangeOptions();\n\t},\n\n\n\t// Called when internal variables that rely on the range should be updated\n\trangeUpdated: function() {\n\t},\n\n\n\t// Updates values that rely on options and also relate to range\n\tprocessRangeOptions: function() {\n\t\tvar view = this.view;\n\t\tvar displayEventTime;\n\t\tvar displayEventEnd;\n\n\t\t// Populate option-derived settings. Look for override first, then compute if necessary.\n\t\tthis.colHeadFormat = view.opt('columnFormat') || this.computeColHeadFormat();\n\n\t\tthis.eventTimeFormat =\n\t\t\tview.opt('eventTimeFormat') ||\n\t\t\tview.opt('timeFormat') || // deprecated\n\t\t\tthis.computeEventTimeFormat();\n\n\t\tdisplayEventTime = view.opt('displayEventTime');\n\t\tif (displayEventTime == null) {\n\t\t\tdisplayEventTime = this.computeDisplayEventTime(); // might be based off of range\n\t\t}\n\n\t\tdisplayEventEnd = view.opt('displayEventEnd');\n\t\tif (displayEventEnd == null) {\n\t\t\tdisplayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n\t\t}\n\n\t\tthis.displayEventTime = displayEventTime;\n\t\tthis.displayEventEnd = displayEventEnd;\n\t},\n\n\n\t// Called before the grid's coordinates will need to be queried for cells.\n\t// Any non-date-related cell system internal data should be built.\n\tbuild: function() {\n\t},\n\n\n\t// Called after the grid's coordinates are done being relied upon.\n\t// Any non-date-related cell system internal data should be cleared.\n\tclear: function() {\n\t},\n\n\n\t// Converts a range with an inclusive `start` and an exclusive `end` into an array of segment objects\n\trangeToSegs: function(range) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Diffs the two dates, returning a duration, based on granularity of the grid\n\tdiffDates: function(a, b) {\n\t\tif (this.largeUnit) {\n\t\t\treturn diffByUnit(a, b, this.largeUnit);\n\t\t}\n\t\telse {\n\t\t\treturn diffDayTime(a, b);\n\t\t}\n\t},\n\n\n\t/* Cells\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// NOTE: columns are ordered left-to-right\n\n\n\t// Gets an object containing row/col number, misc data, and range information about the cell.\n\t// Accepts row/col values, an object with row/col properties, or a single-number offset from the first cell.\n\tgetCell: function(row, col) {\n\t\tvar cell;\n\n\t\tif (col == null) {\n\t\t\tif (typeof row === 'number') { // a single-number offset\n\t\t\t\tcol = row % this.colCnt;\n\t\t\t\trow = Math.floor(row / this.colCnt);\n\t\t\t}\n\t\t\telse { // an object with row/col properties\n\t\t\t\tcol = row.col;\n\t\t\t\trow = row.row;\n\t\t\t}\n\t\t}\n\n\t\tcell = { row: row, col: col };\n\n\t\t$.extend(cell, this.getRowData(row), this.getColData(col));\n\t\t$.extend(cell, this.computeCellRange(cell));\n\n\t\treturn cell;\n\t},\n\n\n\t// Given a cell object with index and misc data, generates a range object\n\t// If the grid is leveraging cellDuration, this doesn't need to be defined. Only computeCellDate does.\n\t// If being overridden, should return a range with reference-free date copies.\n\tcomputeCellRange: function(cell) {\n\t\tvar date = this.computeCellDate(cell);\n\n\t\treturn {\n\t\t\tstart: date,\n\t\t\tend: date.clone().add(this.cellDuration)\n\t\t};\n\t},\n\n\n\t// Given a cell, returns its start date. Should return a reference-free date copy.\n\tcomputeCellDate: function(cell) {\n\t\t// subclasses can implement\n\t},\n\n\n\t// Retrieves misc data about the given row\n\tgetRowData: function(row) {\n\t\treturn {};\n\t},\n\n\n\t// Retrieves misc data baout the given column\n\tgetColData: function(col) {\n\t\treturn {};\n\t},\n\n\n\t// Retrieves the element representing the given row\n\tgetRowEl: function(row) {\n\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeRowCoords()\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\t// subclasses should implement if leveraging the default getCellDayEl() or computeColCoords()\n\t},\n\n\n\t// Given a cell object, returns the element that represents the cell's whole-day\n\tgetCellDayEl: function(cell) {\n\t\treturn this.getColEl(cell.col) || this.getRowEl(cell.row);\n\t},\n\n\n\t/* Cell Coordinates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes the top/bottom coordinates of all rows.\n\t// By default, queries the dimensions of the element provided by getRowEl().\n\tcomputeRowCoords: function() {\n\t\tvar items = [];\n\t\tvar i, el;\n\t\tvar top;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\tel = this.getRowEl(i);\n\t\t\ttop = el.offset().top;\n\t\t\titems.push({\n\t\t\t\ttop: top,\n\t\t\t\tbottom: top + el.outerHeight()\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t},\n\n\n\t// Computes the left/right coordinates of all rows.\n\t// By default, queries the dimensions of the element provided by getColEl(). Columns can be LTR or RTL.\n\tcomputeColCoords: function() {\n\t\tvar items = [];\n\t\tvar i, el;\n\t\tvar left;\n\n\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\tel = this.getColEl(i);\n\t\t\tleft = el.offset().left;\n\t\t\titems.push({\n\t\t\t\tleft: left,\n\t\t\t\tright: left + el.outerWidth()\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the container element that the grid should render inside of.\n\t// Does other DOM-related initializations.\n\tsetElement: function(el) {\n\t\tvar _this = this;\n\n\t\tthis.el = el;\n\n\t\t// attach a handler to the grid's root element.\n\t\t// jQuery will take care of unregistering them when removeElement gets called.\n\t\tel.on('mousedown', function(ev) {\n\t\t\tif (\n\t\t\t\t!$(ev.target).is('.fc-event-container *, .fc-more') && // not an an event element, or \"more..\" link\n\t\t\t\t!$(ev.target).closest('.fc-popover').length // not on a popover (like the \"more..\" events one)\n\t\t\t) {\n\t\t\t\t_this.dayMousedown(ev);\n\t\t\t}\n\t\t});\n\n\t\t// attach event-element-related handlers. in Grid.events\n\t\t// same garbage collection note as above.\n\t\tthis.bindSegHandlers();\n\n\t\tthis.bindGlobalHandlers();\n\t},\n\n\n\t// Removes the grid's container element from the DOM. Undoes any other DOM-related attachments.\n\t// DOES NOT remove any content beforehand (doesn't clear events or call unrenderDates), unlike View\n\tremoveElement: function() {\n\t\tthis.unbindGlobalHandlers();\n\n\t\tthis.el.remove();\n\n\t\t// NOTE: we don't null-out this.el for the same reasons we don't do it within View::removeElement\n\t},\n\n\n\t// Renders the basic structure of grid view before any content is rendered\n\trenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Renders the grid's date-related content (like cells that represent days/times).\n\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\trenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the grid's date-related content\n\tunrenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Handlers\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Binds DOM handlers to elements that reside outside the grid, such as the document\n\tbindGlobalHandlers: function() {\n\t\t$(document).on('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t},\n\n\n\t// Unbinds DOM handlers from elements that reside outside the grid\n\tunbindGlobalHandlers: function() {\n\t\t$(document).off('dragstart sortstart', this.externalDragStartProxy); // jqui\n\t},\n\n\n\t// Process a mousedown on an element that represents a day. For day clicking and selecting.\n\tdayMousedown: function(ev) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar isSelectable = view.opt('selectable');\n\t\tvar dayClickCell; // null if invalid dayClick\n\t\tvar selectionRange; // null if invalid selection\n\n\t\t// this listener tracks a mousedown on a day element, and a subsequent drag.\n\t\t// if the drag ends on the same day, it is a 'dayClick'.\n\t\t// if 'selectable' is enabled, this listener also detects selections.\n\t\tvar dragListener = new CellDragListener(this.coordMap, {\n\t\t\t//distance: 5, // needs more work if we want dayClick to fire correctly\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tdragStart: function() {\n\t\t\t\tview.unselect(); // since we could be rendering a new selection, we want to clear any old one\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\tif (origCell) { // click needs to have started on a cell\n\t\t\t\t\tdayClickCell = isOrig ? cell : null; // single-cell selection is a day click\n\t\t\t\t\tif (isSelectable) {\n\t\t\t\t\t\tselectionRange = _this.computeSelection(origCell, cell);\n\t\t\t\t\t\tif (selectionRange) {\n\t\t\t\t\t\t\t_this.renderSelection(selectionRange);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function(cell) {\n\t\t\t\tdayClickCell = null;\n\t\t\t\tselectionRange = null;\n\t\t\t\t_this.unrenderSelection();\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tlistenStop: function(ev) {\n\t\t\t\tif (dayClickCell) {\n\t\t\t\t\tview.triggerDayClick(dayClickCell, _this.getCellDayEl(dayClickCell), ev);\n\t\t\t\t}\n\t\t\t\tif (selectionRange) {\n\t\t\t\t\t// the selection will already have been rendered. just report it\n\t\t\t\t\tview.reportSelection(selectionRange, ev);\n\t\t\t\t}\n\t\t\t\tenableCursor();\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually initiate a dragStart\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// TODO: should probably move this to Grid.events, like we did event dragging / resizing\n\n\n\t// Renders a mock event over the given range\n\trenderRangeHelper: function(range, sourceSeg) {\n\t\tvar fakeEvent = this.fabricateHelperEvent(range, sourceSeg);\n\n\t\tthis.renderHelper(fakeEvent, sourceSeg); // do the actual rendering\n\t},\n\n\n\t// Builds a fake event given a date range it should cover, and a segment is should be inspired from.\n\t// The range's end can be null, in which case the mock event that is rendered will have a null end time.\n\t// `sourceSeg` is the internal segment object involved in the drag. If null, something external is dragging.\n\tfabricateHelperEvent: function(range, sourceSeg) {\n\t\tvar fakeEvent = sourceSeg ? createObject(sourceSeg.event) : {}; // mask the original event object if possible\n\n\t\tfakeEvent.start = range.start.clone();\n\t\tfakeEvent.end = range.end ? range.end.clone() : null;\n\t\tfakeEvent.allDay = null; // force it to be freshly computed by normalizeEventRange\n\t\tthis.view.calendar.normalizeEventRange(fakeEvent);\n\n\t\t// this extra className will be useful for differentiating real events from mock events in CSS\n\t\tfakeEvent.className = (fakeEvent.className || []).concat('fc-helper');\n\n\t\t// if something external is being dragged in, don't render a resizer\n\t\tif (!sourceSeg) {\n\t\t\tfakeEvent.editable = false;\n\t\t}\n\n\t\treturn fakeEvent;\n\t},\n\n\n\t// Renders a mock event\n\trenderHelper: function(event, sourceSeg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a mock event\n\tunrenderHelper: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection. Will highlight by default but can be overridden by subclasses.\n\trenderSelection: function(range) {\n\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t},\n\n\n\t// Unrenders any visual indications of a selection. Will unrender a highlight by default.\n\tunrenderSelection: function() {\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t// Given the first and last cells of a selection, returns a range object.\n\t// Will return something falsy if the selection is invalid (when outside of selectionConstraint for example).\n\t// Subclasses can override and provide additional data in the range object. Will be passed to renderSelection().\n\tcomputeSelection: function(firstCell, lastCell) {\n\t\tvar dates = [\n\t\t\tfirstCell.start,\n\t\t\tfirstCell.end,\n\t\t\tlastCell.start,\n\t\t\tlastCell.end\n\t\t];\n\t\tvar range;\n\n\t\tdates.sort(compareNumbers); // sorts chronologically. works with Moments\n\n\t\trange = {\n\t\t\tstart: dates[0].clone(),\n\t\t\tend: dates[3].clone()\n\t\t};\n\n\t\tif (!this.view.calendar.isSelectionRangeAllowed(range)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\tselectionRangeToSegs: function(range) {\n\t\treturn this.rangeToSegs(range);\n\t},\n\n\n\t/* Highlight\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders an emphasis on the given date range. Given an array of segments.\n\trenderHighlight: function(segs) {\n\t\tthis.renderFill('highlight', segs);\n\t},\n\n\n\t// Unrenders the emphasis on a date range\n\tunrenderHighlight: function() {\n\t\tthis.unrenderFill('highlight');\n\t},\n\n\n\t// Generates an array of classNames for rendering the highlight. Used by the fill system.\n\thighlightSegClasses: function() {\n\t\treturn [ 'fc-highlight' ];\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a set of rectangles over the given segments of time.\n\t// MUST RETURN a subset of segs, the segs that were actually rendered.\n\t// Responsible for populating this.elsByFill. TODO: better API for expressing this requirement\n\trenderFill: function(type, segs) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a specific type of fill that is currently rendered on the grid\n\tunrenderFill: function(type) {\n\t\tvar el = this.elsByFill[type];\n\n\t\tif (el) {\n\t\t\tel.remove();\n\t\t\tdelete this.elsByFill[type];\n\t\t}\n\t},\n\n\n\t// Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n\t// Only returns segments that successfully rendered.\n\t// To be harnessed by renderFill (implemented by subclasses).\n\t// Analagous to renderFgSegEls.\n\trenderFillSegEls: function(type, segs) {\n\t\tvar _this = this;\n\t\tvar segElMethod = this[type + 'SegEl'];\n\t\tvar html = '';\n\t\tvar renderedSegs = [];\n\t\tvar i;\n\n\t\tif (segs.length) {\n\n\t\t\t// build a large concatenation of segment HTML\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\thtml += this.fillSegHtml(type, segs[i]);\n\t\t\t}\n\n\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t// Then, compute the 'el' for each segment.\n\t\t\t$(html).each(function(i, node) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tvar el = $(node);\n\n\t\t\t\t// allow custom filter methods per-type\n\t\t\t\tif (segElMethod) {\n\t\t\t\t\tel = segElMethod.call(_this, seg, el);\n\t\t\t\t}\n\n\t\t\t\tif (el) { // custom filters did not cancel the render\n\t\t\t\t\tel = $(el); // allow custom filter to return raw DOM node\n\n\t\t\t\t\t// correct element type? (would be bad if a non-TD were inserted into a table for example)\n\t\t\t\t\tif (el.is(_this.fillSegTag)) {\n\t\t\t\t\t\tseg.el = el;\n\t\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn renderedSegs;\n\t},\n\n\n\tfillSegTag: 'div', // subclasses can override\n\n\n\t// Builds the HTML needed for one fill segment. Generic enought o work with different types.\n\tfillSegHtml: function(type, seg) {\n\n\t\t// custom hooks per-type\n\t\tvar classesMethod = this[type + 'SegClasses'];\n\t\tvar cssMethod = this[type + 'SegCss'];\n\n\t\tvar classes = classesMethod ? classesMethod.call(this, seg) : [];\n\t\tvar css = cssToStr(cssMethod ? cssMethod.call(this, seg) : {});\n\n\t\treturn '<' + this.fillSegTag +\n\t\t\t(classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') +\n\t\t\t(css ? ' style=\"' + css + '\"' : '') +\n\t\t\t' />';\n\t},\n\n\n\t/* Generic rendering utilities for subclasses\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a day-of-week header row.\n\t// TODO: move to another class. not applicable to all Grids\n\theadHtml: function() {\n\t\treturn '' +\n\t\t\t'<div class=\"fc-row ' + this.view.widgetHeaderClass + '\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\tthis.rowHtml('head') + // leverages RowRenderer\n\t\t\t\t\t'</thead>' +\n\t\t\t\t'</table>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Used by the `headHtml` method, via RowRenderer, for rendering the HTML of a day-of-week header cell\n\t// TODO: move to another class. not applicable to all Grids\n\theadCellHtml: function(cell) {\n\t\tvar view = this.view;\n\t\tvar date = cell.start;\n\n\t\treturn '' +\n\t\t\t'<th class=\"fc-day-header ' + view.widgetHeaderClass + ' fc-' + dayIDs[date.day()] + '\">' +\n\t\t\t\thtmlEscape(date.format(this.colHeadFormat)) +\n\t\t\t'</th>';\n\t},\n\n\n\t// Renders the HTML for a single-day background cell\n\tbgCellHtml: function(cell) {\n\t\tvar view = this.view;\n\t\tvar date = cell.start;\n\t\tvar classes = this.getDayClasses(date);\n\n\t\tclasses.unshift('fc-day', view.widgetContentClass);\n\n\t\treturn '<td class=\"' + classes.join(' ') + '\"' +\n\t\t\t' data-date=\"' + date.format('YYYY-MM-DD') + '\"' + // if date has a time, won't format it\n\t\t\t'></td>';\n\t},\n\n\n\t// Computes HTML classNames for a single-day cell\n\tgetDayClasses: function(date) {\n\t\tvar view = this.view;\n\t\tvar today = view.calendar.getNow().stripTime();\n\t\tvar classes = [ 'fc-' + dayIDs[date.day()] ];\n\n\t\tif (\n\t\t\tview.intervalDuration.as('months') == 1 &&\n\t\t\tdate.month() != view.intervalStart.month()\n\t\t) {\n\t\t\tclasses.push('fc-other-month');\n\t\t}\n\n\t\tif (date.isSame(today, 'day')) {\n\t\t\tclasses.push(\n\t\t\t\t'fc-today',\n\t\t\t\tview.highlightStateClass\n\t\t\t);\n\t\t}\n\t\telse if (date < today) {\n\t\t\tclasses.push('fc-past');\n\t\t}\n\t\telse {\n\t\t\tclasses.push('fc-future');\n\t\t}\n\n\t\treturn classes;\n\t}\n\n});\n\n;;\n\n/* Event-rendering and event-interaction methods for the abstract Grid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nGrid.mixin({\n\n\tmousedOverSeg: null, // the segment object the user's mouse is over. null if over nothing\n\tisDraggingSeg: false, // is a segment being dragged? boolean\n\tisResizingSeg: false, // is a segment being resized? boolean\n\tisDraggingExternal: false, // jqui-dragging an external element? boolean\n\tsegs: null, // the event segments currently rendered in the grid\n\n\n\t// Renders the given events onto the grid\n\trenderEvents: function(events) {\n\t\tvar segs = this.eventsToSegs(events);\n\t\tvar bgSegs = [];\n\t\tvar fgSegs = [];\n\t\tvar i, seg;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\n\t\t\tif (isBgEvent(seg.event)) {\n\t\t\t\tbgSegs.push(seg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfgSegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\t// Render each different type of segment.\n\t\t// Each function may return a subset of the segs, segs that were actually rendered.\n\t\tbgSegs = this.renderBgSegs(bgSegs) || bgSegs;\n\t\tfgSegs = this.renderFgSegs(fgSegs) || fgSegs;\n\n\t\tthis.segs = bgSegs.concat(fgSegs);\n\t},\n\n\n\t// Unrenders all events currently rendered on the grid\n\tunrenderEvents: function() {\n\t\tthis.triggerSegMouseout(); // trigger an eventMouseout if user's mouse is over an event\n\n\t\tthis.unrenderFgSegs();\n\t\tthis.unrenderBgSegs();\n\n\t\tthis.segs = null;\n\t},\n\n\n\t// Retrieves all rendered segment objects currently rendered on the grid\n\tgetEventSegs: function() {\n\t\treturn this.segs || [];\n\t},\n\n\n\t/* Foreground Segment Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders foreground event segments onto the grid. May return a subset of segs that were rendered.\n\trenderFgSegs: function(segs) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders all currently rendered foreground segments\n\tunrenderFgSegs: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Renders and assigns an `el` property for each foreground event segment.\n\t// Only returns segments that successfully rendered.\n\t// A utility that subclasses may use.\n\trenderFgSegEls: function(segs, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar html = '';\n\t\tvar renderedSegs = [];\n\t\tvar i;\n\n\t\tif (segs.length) { // don't build an empty html string\n\n\t\t\t// build a large concatenation of event segment HTML\n\t\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\t\thtml += this.fgSegHtml(segs[i], disableResizing);\n\t\t\t}\n\n\t\t\t// Grab individual elements from the combined HTML string. Use each as the default rendering.\n\t\t\t// Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n\t\t\t$(html).each(function(i, node) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tvar el = view.resolveEventEl(seg.event, $(node));\n\n\t\t\t\tif (el) {\n\t\t\t\t\tel.data('fc-seg', seg); // used by handlers\n\t\t\t\t\tseg.el = el;\n\t\t\t\t\trenderedSegs.push(seg);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn renderedSegs;\n\t},\n\n\n\t// Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\n\tfgSegHtml: function(seg, disableResizing) {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Background Segment Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders the given background event segments onto the grid.\n\t// Returns a subset of the segs that were actually rendered.\n\trenderBgSegs: function(segs) {\n\t\treturn this.renderFill('bgEvent', segs);\n\t},\n\n\n\t// Unrenders all the currently rendered background event segments\n\tunrenderBgSegs: function() {\n\t\tthis.unrenderFill('bgEvent');\n\t},\n\n\n\t// Renders a background event element, given the default rendering. Called by the fill system.\n\tbgEventSegEl: function(seg, el) {\n\t\treturn this.view.resolveEventEl(seg.event, el); // will filter through eventRender\n\t},\n\n\n\t// Generates an array of classNames to be used for the default rendering of a background event.\n\t// Called by the fill system.\n\tbgEventSegClasses: function(seg) {\n\t\tvar event = seg.event;\n\t\tvar source = event.source || {};\n\n\t\treturn [ 'fc-bgevent' ].concat(\n\t\t\tevent.className,\n\t\t\tsource.className || []\n\t\t);\n\t},\n\n\n\t// Generates a semicolon-separated CSS string to be used for the default rendering of a background event.\n\t// Called by the fill system.\n\t// TODO: consolidate with getEventSkinCss?\n\tbgEventSegCss: function(seg) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar source = event.source || {};\n\n\t\treturn {\n\t\t\t'background-color':\n\t\t\t\tevent.backgroundColor ||\n\t\t\t\tevent.color ||\n\t\t\t\tsource.backgroundColor ||\n\t\t\t\tsource.color ||\n\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\tview.opt('eventColor')\n\t\t};\n\t},\n\n\n\t// Generates an array of classNames to be used for the rendering business hours overlay. Called by the fill system.\n\tbusinessHoursSegClasses: function(seg) {\n\t\treturn [ 'fc-nonbusiness', 'fc-bgevent' ];\n\t},\n\n\n\t/* Handlers\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Attaches event-element-related handlers to the container element and leverage bubbling\n\tbindSegHandlers: function() {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\n\t\t$.each(\n\t\t\t{\n\t\t\t\tmouseenter: function(seg, ev) {\n\t\t\t\t\t_this.triggerSegMouseover(seg, ev);\n\t\t\t\t},\n\t\t\t\tmouseleave: function(seg, ev) {\n\t\t\t\t\t_this.triggerSegMouseout(seg, ev);\n\t\t\t\t},\n\t\t\t\tclick: function(seg, ev) {\n\t\t\t\t\treturn view.trigger('eventClick', this, seg.event, ev); // can return `false` to cancel\n\t\t\t\t},\n\t\t\t\tmousedown: function(seg, ev) {\n\t\t\t\t\tif ($(ev.target).is('.fc-resizer') && view.isEventResizable(seg.event)) {\n\t\t\t\t\t\t_this.segResizeMousedown(seg, ev, $(ev.target).is('.fc-start-resizer'));\n\t\t\t\t\t}\n\t\t\t\t\telse if (view.isEventDraggable(seg.event)) {\n\t\t\t\t\t\t_this.segDragMousedown(seg, ev);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction(name, func) {\n\t\t\t\t// attach the handler to the container element and only listen for real event elements via bubbling\n\t\t\t\t_this.el.on(name, '.fc-event-container > *', function(ev) {\n\t\t\t\t\tvar seg = $(this).data('fc-seg'); // grab segment data. put there by View::renderEvents\n\n\t\t\t\t\t// only call the handlers if there is not a drag/resize in progress\n\t\t\t\t\tif (seg && !_this.isDraggingSeg && !_this.isResizingSeg) {\n\t\t\t\t\t\treturn func.call(this, seg, ev); // `this` will be the event element\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t},\n\n\n\t// Updates internal state and triggers handlers for when an event element is moused over\n\ttriggerSegMouseover: function(seg, ev) {\n\t\tif (!this.mousedOverSeg) {\n\t\t\tthis.mousedOverSeg = seg;\n\t\t\tthis.view.trigger('eventMouseover', seg.el[0], seg.event, ev);\n\t\t}\n\t},\n\n\n\t// Updates internal state and triggers handlers for when an event element is moused out.\n\t// Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\n\ttriggerSegMouseout: function(seg, ev) {\n\t\tev = ev || {}; // if given no args, make a mock mouse event\n\n\t\tif (this.mousedOverSeg) {\n\t\t\tseg = seg || this.mousedOverSeg; // if given no args, use the currently moused-over segment\n\t\t\tthis.mousedOverSeg = null;\n\t\t\tthis.view.trigger('eventMouseout', seg.el[0], seg.event, ev);\n\t\t}\n\t},\n\n\n\t/* Event Dragging\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when the user does a mousedown on an event, which might lead to dragging.\n\t// Generic enough to work with any type of Grid.\n\tsegDragMousedown: function(seg, ev) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar calendar = view.calendar;\n\t\tvar el = seg.el;\n\t\tvar event = seg.event;\n\t\tvar dropLocation;\n\n\t\t// A clone of the original element that will move with the mouse\n\t\tvar mouseFollower = new MouseFollower(seg.el, {\n\t\t\tparentEl: view.el,\n\t\t\topacity: view.opt('dragOpacity'),\n\t\t\trevertDuration: view.opt('dragRevertDuration'),\n\t\t\tzIndex: 2 // one above the .fc-view\n\t\t});\n\n\t\t// Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\n\t\t// of the view.\n\t\tvar dragListener = new CellDragListener(view.coordMap, {\n\t\t\tdistance: 5,\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tsubjectEl: el,\n\t\t\tsubjectCenter: true,\n\t\t\tlistenStart: function(ev) {\n\t\t\t\tmouseFollower.hide(); // don't show until we know this is a real drag\n\t\t\t\tmouseFollower.start(ev);\n\t\t\t},\n\t\t\tdragStart: function(ev) {\n\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t_this.segDragStart(seg, ev);\n\t\t\t\tview.hideEvent(event); // hide all event segments. our mouseFollower will take over\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\n\t\t\t\t// starting cell could be forced (DayGrid.limit)\n\t\t\t\tif (seg.cell) {\n\t\t\t\t\torigCell = seg.cell;\n\t\t\t\t}\n\n\t\t\t\tdropLocation = _this.computeEventDrop(origCell, cell, event);\n\n\t\t\t\tif (dropLocation && !calendar.isEventRangeAllowed(dropLocation, event)) {\n\t\t\t\t\tdisableCursor();\n\t\t\t\t\tdropLocation = null;\n\t\t\t\t}\n\n\t\t\t\t// if a valid drop location, have the subclass render a visual indication\n\t\t\t\tif (dropLocation && view.renderDrag(dropLocation, seg)) {\n\t\t\t\t\tmouseFollower.hide(); // if the subclass is already using a mock event \"helper\", hide our own\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmouseFollower.show(); // otherwise, have the helper follow the mouse (no snapping)\n\t\t\t\t}\n\n\t\t\t\tif (isOrig) {\n\t\t\t\t\tdropLocation = null; // needs to have moved cells to be a valid drop\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\tview.unrenderDrag(); // unrender whatever was done in renderDrag\n\t\t\t\tmouseFollower.show(); // show in case we are moving out of all cells\n\t\t\t\tdropLocation = null;\n\t\t\t},\n\t\t\tcellDone: function() { // Called after a cellOut OR before a dragStop\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function(ev) {\n\t\t\t\t// do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\n\t\t\t\tmouseFollower.stop(!dropLocation, function() {\n\t\t\t\t\tview.unrenderDrag();\n\t\t\t\t\tview.showEvent(event);\n\t\t\t\t\t_this.segDragStop(seg, ev);\n\n\t\t\t\t\tif (dropLocation) {\n\t\t\t\t\t\tview.reportEventDrop(event, dropLocation, this.largeUnit, el, ev);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tlistenStop: function() {\n\t\t\t\tmouseFollower.stop(); // put in listenStop in case there was a mousedown but the drag never started\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t},\n\n\n\t// Called before event segment dragging starts\n\tsegDragStart: function(seg, ev) {\n\t\tthis.isDraggingSeg = true;\n\t\tthis.view.trigger('eventDragStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Called after event segment dragging stops\n\tsegDragStop: function(seg, ev) {\n\t\tthis.isDraggingSeg = false;\n\t\tthis.view.trigger('eventDragStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Given the cell an event drag began, and the cell event was dropped, calculates the new start/end/allDay\n\t// values for the event. Subclasses may override and set additional properties to be used by renderDrag.\n\t// A falsy returned value indicates an invalid drop.\n\tcomputeEventDrop: function(startCell, endCell, event) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar dragStart = startCell.start;\n\t\tvar dragEnd = endCell.start;\n\t\tvar delta;\n\t\tvar dropLocation;\n\n\t\tif (dragStart.hasTime() === dragEnd.hasTime()) {\n\t\t\tdelta = this.diffDates(dragEnd, dragStart);\n\n\t\t\t// if an all-day event was in a timed area and it was dragged to a different time,\n\t\t\t// guarantee an end and adjust start/end to have times\n\t\t\tif (event.allDay && durationHasTime(delta)) {\n\t\t\t\tdropLocation = {\n\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\tend: calendar.getEventEnd(event), // will be an ambig day\n\t\t\t\t\tallDay: false // for normalizeEventRangeTimes\n\t\t\t\t};\n\t\t\t\tcalendar.normalizeEventRangeTimes(dropLocation);\n\t\t\t}\n\t\t\t// othewise, work off existing values\n\t\t\telse {\n\t\t\t\tdropLocation = {\n\t\t\t\t\tstart: event.start.clone(),\n\t\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\t\tallDay: event.allDay // keep it the same\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdropLocation.start.add(delta);\n\t\t\tif (dropLocation.end) {\n\t\t\t\tdropLocation.end.add(delta);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// if switching from day <-> timed, start should be reset to the dropped date, and the end cleared\n\t\t\tdropLocation = {\n\t\t\t\tstart: dragEnd.clone(),\n\t\t\t\tend: null, // end should be cleared\n\t\t\t\tallDay: !dragEnd.hasTime()\n\t\t\t};\n\t\t}\n\n\t\treturn dropLocation;\n\t},\n\n\n\t// Utility for apply dragOpacity to a jQuery set\n\tapplyDragOpacity: function(els) {\n\t\tvar opacity = this.view.opt('dragOpacity');\n\n\t\tif (opacity != null) {\n\t\t\tels.each(function(i, node) {\n\t\t\t\t// Don't use jQuery (will set an IE filter), do it the old fashioned way.\n\t\t\t\t// In IE8, a helper element will disappears if there's a filter.\n\t\t\t\tnode.style.opacity = opacity;\n\t\t\t});\n\t\t}\n\t},\n\n\n\t/* External Element Dragging\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when a jQuery UI drag is initiated anywhere in the DOM\n\texternalDragStart: function(ev, ui) {\n\t\tvar view = this.view;\n\t\tvar el;\n\t\tvar accept;\n\n\t\tif (view.opt('droppable')) { // only listen if this setting is on\n\t\t\tel = $((ui ? ui.item : null) || ev.target);\n\n\t\t\t// Test that the dragged element passes the dropAccept selector or filter function.\n\t\t\t// FYI, the default is \"*\" (matches all)\n\t\t\taccept = view.opt('dropAccept');\n\t\t\tif ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\n\t\t\t\tif (!this.isDraggingExternal) { // prevent double-listening if fired twice\n\t\t\t\t\tthis.listenToExternalDrag(el, ev, ui);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Called when a jQuery UI drag starts and it needs to be monitored for cell dropping\n\tlistenToExternalDrag: function(el, ev, ui) {\n\t\tvar _this = this;\n\t\tvar meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create\n\t\tvar dragListener;\n\t\tvar dropLocation; // a null value signals an unsuccessful drag\n\n\t\t// listener that tracks mouse movement over date-associated pixel regions\n\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\tlistenStart: function() {\n\t\t\t\t_this.isDraggingExternal = true;\n\t\t\t},\n\t\t\tcellOver: function(cell) {\n\t\t\t\tdropLocation = _this.computeExternalDrop(cell, meta);\n\t\t\t\tif (dropLocation) {\n\t\t\t\t\t_this.renderDrag(dropLocation); // called without a seg parameter\n\t\t\t\t}\n\t\t\t\telse { // invalid drop cell\n\t\t\t\t\tdisableCursor();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() {\n\t\t\t\tdropLocation = null; // signal unsuccessful\n\t\t\t\t_this.unrenderDrag();\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function() {\n\t\t\t\t_this.unrenderDrag();\n\t\t\t\tenableCursor();\n\n\t\t\t\tif (dropLocation) { // element was dropped on a valid date/time cell\n\t\t\t\t\t_this.view.reportExternalDrop(meta, dropLocation, el, ev, ui);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistenStop: function() {\n\t\t\t\t_this.isDraggingExternal = false;\n\t\t\t}\n\t\t});\n\n\t\tdragListener.startDrag(ev); // start listening immediately\n\t},\n\n\n\t// Given a cell to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\n\t// returns start/end dates for the event that would result from the hypothetical drop. end might be null.\n\t// Returning a null value signals an invalid drop cell.\n\tcomputeExternalDrop: function(cell, meta) {\n\t\tvar dropLocation = {\n\t\t\tstart: cell.start.clone(),\n\t\t\tend: null\n\t\t};\n\n\t\t// if dropped on an all-day cell, and element's metadata specified a time, set it\n\t\tif (meta.startTime && !dropLocation.start.hasTime()) {\n\t\t\tdropLocation.start.time(meta.startTime);\n\t\t}\n\n\t\tif (meta.duration) {\n\t\t\tdropLocation.end = dropLocation.start.clone().add(meta.duration);\n\t\t}\n\n\t\tif (!this.view.calendar.isExternalDropRangeAllowed(dropLocation, meta.eventProps)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn dropLocation;\n\t},\n\n\n\n\t/* Drag Rendering (for both events and an external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event or external element being dragged.\n\t// `dropLocation` contains hypothetical start/end/allDay values the event would have if dropped. end can be null.\n\t// `seg` is the internal segment object that is being dragged. If dragging an external element, `seg` is null.\n\t// A truthy returned value indicates this method has rendered a helper element.\n\trenderDrag: function(dropLocation, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event or external element being dragged\n\tunrenderDrag: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Resizing\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Called when the user does a mousedown on an event's resizer, which might lead to resizing.\n\t// Generic enough to work with any type of Grid.\n\tsegResizeMousedown: function(seg, ev, isStart) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar calendar = view.calendar;\n\t\tvar el = seg.el;\n\t\tvar event = seg.event;\n\t\tvar eventEnd = calendar.getEventEnd(event);\n\t\tvar dragListener;\n\t\tvar resizeLocation; // falsy if invalid resize\n\n\t\t// Tracks mouse movement over the *grid's* coordinate map\n\t\tdragListener = new CellDragListener(this.coordMap, {\n\t\t\tdistance: 5,\n\t\t\tscroll: view.opt('dragScroll'),\n\t\t\tsubjectEl: el,\n\t\t\tdragStart: function(ev) {\n\t\t\t\t_this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported\n\t\t\t\t_this.segResizeStart(seg, ev);\n\t\t\t},\n\t\t\tcellOver: function(cell, isOrig, origCell) {\n\t\t\t\tresizeLocation = isStart ?\n\t\t\t\t\t_this.computeEventStartResize(origCell, cell, event) :\n\t\t\t\t\t_this.computeEventEndResize(origCell, cell, event);\n\n\t\t\t\tif (resizeLocation) {\n\t\t\t\t\tif (!calendar.isEventRangeAllowed(resizeLocation, event)) {\n\t\t\t\t\t\tdisableCursor();\n\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t}\n\t\t\t\t\t// no change? (TODO: how does this work with timezones?)\n\t\t\t\t\telse if (resizeLocation.start.isSame(event.start) && resizeLocation.end.isSame(eventEnd)) {\n\t\t\t\t\t\tresizeLocation = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (resizeLocation) {\n\t\t\t\t\tview.hideEvent(event);\n\t\t\t\t\t_this.renderEventResize(resizeLocation, seg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcellOut: function() { // called before mouse moves to a different cell OR moved out of all cells\n\t\t\t\tresizeLocation = null;\n\t\t\t},\n\t\t\tcellDone: function() { // resets the rendering to show the original event\n\t\t\t\t_this.unrenderEventResize();\n\t\t\t\tview.showEvent(event);\n\t\t\t\tenableCursor();\n\t\t\t},\n\t\t\tdragStop: function(ev) {\n\t\t\t\t_this.segResizeStop(seg, ev);\n\n\t\t\t\tif (resizeLocation) { // valid date to resize to?\n\t\t\t\t\tview.reportEventResize(event, resizeLocation, this.largeUnit, el, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart\n\t},\n\n\n\t// Called before event segment resizing starts\n\tsegResizeStart: function(seg, ev) {\n\t\tthis.isResizingSeg = true;\n\t\tthis.view.trigger('eventResizeStart', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Called after event segment resizing stops\n\tsegResizeStop: function(seg, ev) {\n\t\tthis.isResizingSeg = false;\n\t\tthis.view.trigger('eventResizeStop', seg.el[0], seg.event, ev, {}); // last argument is jqui dummy\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its start\n\tcomputeEventStartResize: function(startCell, endCell, event) {\n\t\treturn this.computeEventResize('start', startCell, endCell, event);\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its end\n\tcomputeEventEndResize: function(startCell, endCell, event) {\n\t\treturn this.computeEventResize('end', startCell, endCell, event);\n\t},\n\n\n\t// Returns new date-information for an event segment being resized from its start OR end\n\t// `type` is either 'start' or 'end'\n\tcomputeEventResize: function(type, startCell, endCell, event) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar delta = this.diffDates(endCell[type], startCell[type]);\n\t\tvar range;\n\t\tvar defaultDuration;\n\n\t\t// build original values to work from, guaranteeing a start and end\n\t\trange = {\n\t\t\tstart: event.start.clone(),\n\t\t\tend: calendar.getEventEnd(event),\n\t\t\tallDay: event.allDay\n\t\t};\n\n\t\t// if an all-day event was in a timed area and was resized to a time, adjust start/end to have times\n\t\tif (range.allDay && durationHasTime(delta)) {\n\t\t\trange.allDay = false;\n\t\t\tcalendar.normalizeEventRangeTimes(range);\n\t\t}\n\n\t\trange[type].add(delta); // apply delta to start or end\n\n\t\t// if the event was compressed too small, find a new reasonable duration for it\n\t\tif (!range.start.isBefore(range.end)) {\n\n\t\t\tdefaultDuration = event.allDay ?\n\t\t\t\tcalendar.defaultAllDayEventDuration :\n\t\t\t\tcalendar.defaultTimedEventDuration;\n\n\t\t\t// between the cell's duration and the event's default duration, use the smaller of the two.\n\t\t\t// example: if year-length slots, and compressed to one slot, we don't want the event to be a year long\n\t\t\tif (this.cellDuration && this.cellDuration < defaultDuration) {\n\t\t\t\tdefaultDuration = this.cellDuration;\n\t\t\t}\n\n\t\t\tif (type == 'start') { // resizing the start?\n\t\t\t\trange.start = range.end.clone().subtract(defaultDuration);\n\t\t\t}\n\t\t\telse { // resizing the end?\n\t\t\t\trange.end = range.start.clone().add(defaultDuration);\n\t\t\t}\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Renders a visual indication of an event being resized.\n\t// `range` has the updated dates of the event. `seg` is the original segment object involved in the drag.\n\trenderEventResize: function(range, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event being resized.\n\tunrenderEventResize: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Rendering Utils\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Compute the text that should be displayed on an event's element.\n\t// `range` can be the Event object itself, or something range-like, with at least a `start`.\n\t// If event times are disabled, or the event has no time, will return a blank string.\n\t// If not specified, formatStr will default to the eventTimeFormat setting,\n\t// and displayEnd will default to the displayEventEnd setting.\n\tgetEventTimeText: function(range, formatStr, displayEnd) {\n\n\t\tif (formatStr == null) {\n\t\t\tformatStr = this.eventTimeFormat;\n\t\t}\n\n\t\tif (displayEnd == null) {\n\t\t\tdisplayEnd = this.displayEventEnd;\n\t\t}\n\n\t\tif (this.displayEventTime && range.start.hasTime()) {\n\t\t\tif (displayEnd && range.end) {\n\t\t\t\treturn this.view.formatRange(range, formatStr);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn range.start.format(formatStr);\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t},\n\n\n\t// Generic utility for generating the HTML classNames for an event segment's element\n\tgetSegClasses: function(seg, isDraggable, isResizable) {\n\t\tvar event = seg.event;\n\t\tvar classes = [\n\t\t\t'fc-event',\n\t\t\tseg.isStart ? 'fc-start' : 'fc-not-start',\n\t\t\tseg.isEnd ? 'fc-end' : 'fc-not-end'\n\t\t].concat(\n\t\t\tevent.className,\n\t\t\tevent.source ? event.source.className : []\n\t\t);\n\n\t\tif (isDraggable) {\n\t\t\tclasses.push('fc-draggable');\n\t\t}\n\t\tif (isResizable) {\n\t\t\tclasses.push('fc-resizable');\n\t\t}\n\n\t\treturn classes;\n\t},\n\n\n\t// Utility for generating event skin-related CSS properties\n\tgetEventSkinCss: function(event) {\n\t\tvar view = this.view;\n\t\tvar source = event.source || {};\n\t\tvar eventColor = event.color;\n\t\tvar sourceColor = source.color;\n\t\tvar optionColor = view.opt('eventColor');\n\n\t\treturn {\n\t\t\t'background-color':\n\t\t\t\tevent.backgroundColor ||\n\t\t\t\teventColor ||\n\t\t\t\tsource.backgroundColor ||\n\t\t\t\tsourceColor ||\n\t\t\t\tview.opt('eventBackgroundColor') ||\n\t\t\t\toptionColor,\n\t\t\t'border-color':\n\t\t\t\tevent.borderColor ||\n\t\t\t\teventColor ||\n\t\t\t\tsource.borderColor ||\n\t\t\t\tsourceColor ||\n\t\t\t\tview.opt('eventBorderColor') ||\n\t\t\t\toptionColor,\n\t\t\tcolor:\n\t\t\t\tevent.textColor ||\n\t\t\t\tsource.textColor ||\n\t\t\t\tview.opt('eventTextColor')\n\t\t};\n\t},\n\n\n\t/* Converting events -> ranges -> segs\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Converts an array of event objects into an array of event segment objects.\n\t// A custom `rangeToSegsFunc` may be given for arbitrarily slicing up events.\n\t// Doesn't guarantee an order for the resulting array.\n\teventsToSegs: function(events, rangeToSegsFunc) {\n\t\tvar eventRanges = this.eventsToRanges(events);\n\t\tvar segs = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < eventRanges.length; i++) {\n\t\t\tsegs.push.apply(\n\t\t\t\tsegs,\n\t\t\t\tthis.eventRangeToSegs(eventRanges[i], rangeToSegsFunc)\n\t\t\t);\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t// Converts an array of events into an array of \"range\" objects.\n\t// A \"range\" object is a plain object with start/end properties denoting the time it covers. Also an event property.\n\t// For \"normal\" events, this will be identical to the event's start/end, but for \"inverse-background\" events,\n\t// will create an array of ranges that span the time *not* covered by the given event.\n\t// Doesn't guarantee an order for the resulting array.\n\teventsToRanges: function(events) {\n\t\tvar _this = this;\n\t\tvar eventsById = groupEventsById(events);\n\t\tvar ranges = [];\n\n\t\t// group by ID so that related inverse-background events can be rendered together\n\t\t$.each(eventsById, function(id, eventGroup) {\n\t\t\tif (eventGroup.length) {\n\t\t\t\tranges.push.apply(\n\t\t\t\t\tranges,\n\t\t\t\t\tisInverseBgEvent(eventGroup[0]) ?\n\t\t\t\t\t\t_this.eventsToInverseRanges(eventGroup) :\n\t\t\t\t\t\t_this.eventsToNormalRanges(eventGroup)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn ranges;\n\t},\n\n\n\t// Converts an array of \"normal\" events (not inverted rendering) into a parallel array of ranges\n\teventsToNormalRanges: function(events) {\n\t\tvar calendar = this.view.calendar;\n\t\tvar ranges = [];\n\t\tvar i, event;\n\t\tvar eventStart, eventEnd;\n\n\t\tfor (i = 0; i < events.length; i++) {\n\t\t\tevent = events[i];\n\n\t\t\t// make copies and normalize by stripping timezone\n\t\t\teventStart = event.start.clone().stripZone();\n\t\t\teventEnd = calendar.getEventEnd(event).stripZone();\n\n\t\t\tranges.push({\n\t\t\t\tevent: event,\n\t\t\t\tstart: eventStart,\n\t\t\t\tend: eventEnd,\n\t\t\t\teventStartMS: +eventStart,\n\t\t\t\teventDurationMS: eventEnd - eventStart\n\t\t\t});\n\t\t}\n\n\t\treturn ranges;\n\t},\n\n\n\t// Converts an array of events, with inverse-background rendering, into an array of range objects.\n\t// The range objects will cover all the time NOT covered by the events.\n\teventsToInverseRanges: function(events) {\n\t\tvar view = this.view;\n\t\tvar viewStart = view.start.clone().stripZone(); // normalize timezone\n\t\tvar viewEnd = view.end.clone().stripZone(); // normalize timezone\n\t\tvar normalRanges = this.eventsToNormalRanges(events); // will give us normalized dates we can use w/o copies\n\t\tvar inverseRanges = [];\n\t\tvar event0 = events[0]; // assign this to each range's `.event`\n\t\tvar start = viewStart; // the end of the previous range. the start of the new range\n\t\tvar i, normalRange;\n\n\t\t// ranges need to be in order. required for our date-walking algorithm\n\t\tnormalRanges.sort(compareNormalRanges);\n\n\t\tfor (i = 0; i < normalRanges.length; i++) {\n\t\t\tnormalRange = normalRanges[i];\n\n\t\t\t// add the span of time before the event (if there is any)\n\t\t\tif (normalRange.start > start) { // compare millisecond time (skip any ambig logic)\n\t\t\t\tinverseRanges.push({\n\t\t\t\t\tevent: event0,\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: normalRange.start\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tstart = normalRange.end;\n\t\t}\n\n\t\t// add the span of time after the last event (if there is any)\n\t\tif (start < viewEnd) { // compare millisecond time (skip any ambig logic)\n\t\t\tinverseRanges.push({\n\t\t\t\tevent: event0,\n\t\t\t\tstart: start,\n\t\t\t\tend: viewEnd\n\t\t\t});\n\t\t}\n\n\t\treturn inverseRanges;\n\t},\n\n\n\t// Slices the given event range into one or more segment objects.\n\t// A `rangeToSegsFunc` custom slicing function can be given.\n\teventRangeToSegs: function(eventRange, rangeToSegsFunc) {\n\t\tvar segs;\n\t\tvar i, seg;\n\n\t\teventRange = this.view.calendar.ensureVisibleEventRange(eventRange);\n\n\t\tif (rangeToSegsFunc) {\n\t\t\tsegs = rangeToSegsFunc(eventRange);\n\t\t}\n\t\telse {\n\t\t\tsegs = this.rangeToSegs(eventRange); // defined by the subclass\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tseg.event = eventRange.event;\n\t\t\tseg.eventStartMS = eventRange.eventStartMS;\n\t\t\tseg.eventDurationMS = eventRange.eventDurationMS;\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\tsortSegs: function(segs) {\n\t\tsegs.sort(proxy(this, 'compareSegs'));\n\t},\n\n\n\t// A cmp function for determining which segments should take visual priority\n\t// DOES NOT WORK ON INVERTED BACKGROUND EVENTS because they have no eventStartMS/eventDurationMS\n\tcompareSegs: function(seg1, seg2) {\n\t\treturn seg1.eventStartMS - seg2.eventStartMS || // earlier events go first\n\t\t\tseg2.eventDurationMS - seg1.eventDurationMS || // tie? longer events go first\n\t\t\tseg2.event.allDay - seg1.event.allDay || // tie? put all-day events first (booleans cast to 0/1)\n\t\t\tcompareByFieldSpecs(seg1.event, seg2.event, this.view.eventOrderSpecs);\n\t}\n\n});\n\n\n/* Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\nfunction isBgEvent(event) { // returns true if background OR inverse-background\n\tvar rendering = getEventRendering(event);\n\treturn rendering === 'background' || rendering === 'inverse-background';\n}\n\n\nfunction isInverseBgEvent(event) {\n\treturn getEventRendering(event) === 'inverse-background';\n}\n\n\nfunction getEventRendering(event) {\n\treturn firstDefined((event.source || {}).rendering, event.rendering);\n}\n\n\nfunction groupEventsById(events) {\n\tvar eventsById = {};\n\tvar i, event;\n\n\tfor (i = 0; i < events.length; i++) {\n\t\tevent = events[i];\n\t\t(eventsById[event._id] || (eventsById[event._id] = [])).push(event);\n\t}\n\n\treturn eventsById;\n}\n\n\n// A cmp function for determining which non-inverted \"ranges\" (see above) happen earlier\nfunction compareNormalRanges(range1, range2) {\n\treturn range1.eventStartMS - range2.eventStartMS; // earlier ranges go first\n}\n\n\n/* External-Dragging-Element Data\n----------------------------------------------------------------------------------------------------------------------*/\n\n// Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\n// A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\nfc.dataAttrPrefix = '';\n\n// Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\n// to be used for Event Object creation.\n// A defined `.eventProps`, even when empty, indicates that an event should be created.\nfunction getDraggedElMeta(el) {\n\tvar prefix = fc.dataAttrPrefix;\n\tvar eventProps; // properties for creating the event, not related to date/time\n\tvar startTime; // a Duration\n\tvar duration;\n\tvar stick;\n\n\tif (prefix) { prefix += '-'; }\n\teventProps = el.data(prefix + 'event') || null;\n\n\tif (eventProps) {\n\t\tif (typeof eventProps === 'object') {\n\t\t\teventProps = $.extend({}, eventProps); // make a copy\n\t\t}\n\t\telse { // something like 1 or true. still signal event creation\n\t\t\teventProps = {};\n\t\t}\n\n\t\t// pluck special-cased date/time properties\n\t\tstartTime = eventProps.start;\n\t\tif (startTime == null) { startTime = eventProps.time; } // accept 'time' as well\n\t\tduration = eventProps.duration;\n\t\tstick = eventProps.stick;\n\t\tdelete eventProps.start;\n\t\tdelete eventProps.time;\n\t\tdelete eventProps.duration;\n\t\tdelete eventProps.stick;\n\t}\n\n\t// fallback to standalone attribute values for each of the date/time properties\n\tif (startTime == null) { startTime = el.data(prefix + 'start'); }\n\tif (startTime == null) { startTime = el.data(prefix + 'time'); } // accept 'time' as well\n\tif (duration == null) { duration = el.data(prefix + 'duration'); }\n\tif (stick == null) { stick = el.data(prefix + 'stick'); }\n\n\t// massage into correct data types\n\tstartTime = startTime != null ? moment.duration(startTime) : null;\n\tduration = duration != null ? moment.duration(duration) : null;\n\tstick = Boolean(stick);\n\n\treturn { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick };\n}\n\n\n;;\n\n/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar DayGrid = Grid.extend({\n\n\tnumbersVisible: false, // should render a row for day/week numbers? set by outside view. TODO: make internal\n\tbottomCoordPadding: 0, // hack for extending the hit area for the last row of the coordinate grid\n\tbreakOnWeeks: null, // should create a new row for each week? set by outside view\n\n\tcellDates: null, // flat chronological array of each cell's dates\n\tdayToCellOffsets: null, // maps days offsets from grid's start date, to cell offsets\n\n\trowEls: null, // set of fake row elements\n\tdayEls: null, // set of whole-day elements comprising the row's background\n\thelperEls: null, // set of cell skeleton elements for rendering the mock event \"helper\"\n\n\n\tconstructor: function() {\n\t\tGrid.apply(this, arguments);\n\n\t\tthis.cellDuration = moment.duration(1, 'day'); // for Grid system\n\t},\n\n\n\t// Renders the rows and columns into the component's `this.el`, which should already be assigned.\n\t// isRigid determins whether the individual rows should ignore the contents and be a constant height.\n\t// Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n\trenderDates: function(isRigid) {\n\t\tvar view = this.view;\n\t\tvar rowCnt = this.rowCnt;\n\t\tvar colCnt = this.colCnt;\n\t\tvar cellCnt = rowCnt * colCnt;\n\t\tvar html = '';\n\t\tvar row;\n\t\tvar i, cell;\n\n\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\thtml += this.dayRowHtml(row, isRigid);\n\t\t}\n\t\tthis.el.html(html);\n\n\t\tthis.rowEls = this.el.find('.fc-row');\n\t\tthis.dayEls = this.el.find('.fc-day');\n\n\t\t// trigger dayRender with each cell's element\n\t\tfor (i = 0; i < cellCnt; i++) {\n\t\t\tcell = this.getCell(i);\n\t\t\tview.trigger('dayRender', null, cell.start, this.dayEls.eq(i));\n\t\t}\n\t},\n\n\n\tunrenderDates: function() {\n\t\tthis.removeSegPopover();\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tvar events = this.view.calendar.getBusinessHoursEvents(true); // wholeDay=true\n\t\tvar segs = this.eventsToSegs(events);\n\n\t\tthis.renderFill('businessHours', segs, 'bgevent');\n\t},\n\n\n\t// Generates the HTML for a single row. `row` is the row number.\n\tdayRowHtml: function(row, isRigid) {\n\t\tvar view = this.view;\n\t\tvar classes = [ 'fc-row', 'fc-week', view.widgetContentClass ];\n\n\t\tif (isRigid) {\n\t\t\tclasses.push('fc-rigid');\n\t\t}\n\n\t\treturn '' +\n\t\t\t'<div class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\tthis.rowHtml('day', row) + // leverages RowRenderer. calls dayCellHtml()\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-content-skeleton\">' +\n\t\t\t\t\t'<table>' +\n\t\t\t\t\t\t(this.numbersVisible ?\n\t\t\t\t\t\t\t'<thead>' +\n\t\t\t\t\t\t\t\tthis.rowHtml('number', row) + // leverages RowRenderer. View will define render method\n\t\t\t\t\t\t\t'</thead>' :\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t'</table>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Renders the HTML for a whole-day cell. Will eventually end up in the day-row's background.\n\t// We go through a 'day' row type instead of just doing a 'bg' row type so that the View can do custom rendering\n\t// specifically for whole-day rows, whereas a 'bg' might also be used for other purposes (TimeGrid bg for example).\n\tdayCellHtml: function(cell) {\n\t\treturn this.bgCellHtml(cell);\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\tcomputeColHeadFormat: function() {\n\t\tif (this.rowCnt > 1) { // more than one week row. day numbers will be in each cell\n\t\t\treturn 'ddd'; // \"Sat\"\n\t\t}\n\t\telse if (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t}\n\t\telse { // single day, so full single date string will probably be in title text\n\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t}\n\t},\n\n\n\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('extraSmallTimeFormat'); // like \"6p\" or \"6:30p\"\n\t},\n\n\n\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\tcomputeDisplayEventEnd: function() {\n\t\treturn this.colCnt == 1; // we'll likely have space if there's only one day\n\t},\n\n\n\t/* Cell System\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\trangeUpdated: function() {\n\t\tvar cellDates;\n\t\tvar firstDay;\n\t\tvar rowCnt;\n\t\tvar colCnt;\n\n\t\tthis.updateCellDates(); // populates cellDates and dayToCellOffsets\n\t\tcellDates = this.cellDates;\n\n\t\tif (this.breakOnWeeks) {\n\t\t\t// count columns until the day-of-week repeats\n\t\t\tfirstDay = cellDates[0].day();\n\t\t\tfor (colCnt = 1; colCnt < cellDates.length; colCnt++) {\n\t\t\t\tif (cellDates[colCnt].day() == firstDay) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\trowCnt = Math.ceil(cellDates.length / colCnt);\n\t\t}\n\t\telse {\n\t\t\trowCnt = 1;\n\t\t\tcolCnt = cellDates.length;\n\t\t}\n\n\t\tthis.rowCnt = rowCnt;\n\t\tthis.colCnt = colCnt;\n\t},\n\n\n\t// Populates cellDates and dayToCellOffsets\n\tupdateCellDates: function() {\n\t\tvar view = this.view;\n\t\tvar date = this.start.clone();\n\t\tvar dates = [];\n\t\tvar offset = -1;\n\t\tvar offsets = [];\n\n\t\twhile (date.isBefore(this.end)) { // loop each day from start to end\n\t\t\tif (view.isHiddenDay(date)) {\n\t\t\t\toffsets.push(offset + 0.5); // mark that it's between offsets\n\t\t\t}\n\t\t\telse {\n\t\t\t\toffset++;\n\t\t\t\toffsets.push(offset);\n\t\t\t\tdates.push(date.clone());\n\t\t\t}\n\t\t\tdate.add(1, 'days');\n\t\t}\n\n\t\tthis.cellDates = dates;\n\t\tthis.dayToCellOffsets = offsets;\n\t},\n\n\n\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\tcomputeCellDate: function(cell) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar index = cell.row * colCnt + (this.isRTL ? colCnt - cell.col - 1 : cell.col);\n\n\t\treturn this.cellDates[index].clone();\n\t},\n\n\n\t// Retrieves the element representing the given row\n\tgetRowEl: function(row) {\n\t\treturn this.rowEls.eq(row);\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\treturn this.dayEls.eq(col);\n\t},\n\n\n\t// Gets the whole-day element associated with the cell\n\tgetCellDayEl: function(cell) {\n\t\treturn this.dayEls.eq(cell.row * this.colCnt + cell.col);\n\t},\n\n\n\t// Overrides Grid's method for when row coordinates are computed\n\tcomputeRowCoords: function() {\n\t\tvar rowCoords = Grid.prototype.computeRowCoords.call(this); // call the super-method\n\n\t\t// hack for extending last row (used by AgendaView)\n\t\trowCoords[rowCoords.length - 1].bottom += this.bottomCoordPadding;\n\n\t\treturn rowCoords;\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Slices up a date range by row into an array of segments\n\trangeToSegs: function(range) {\n\t\tvar isRTL = this.isRTL;\n\t\tvar rowCnt = this.rowCnt;\n\t\tvar colCnt = this.colCnt;\n\t\tvar segs = [];\n\t\tvar first, last; // inclusive cell-offset range for given range\n\t\tvar row;\n\t\tvar rowFirst, rowLast; // inclusive cell-offset range for current row\n\t\tvar isStart, isEnd;\n\t\tvar segFirst, segLast; // inclusive cell-offset range for segment\n\t\tvar seg;\n\n\t\trange = this.view.computeDayRange(range); // make whole-day range, considering nextDayThreshold\n\t\tfirst = this.dateToCellOffset(range.start);\n\t\tlast = this.dateToCellOffset(range.end.subtract(1, 'days')); // offset of inclusive end date\n\n\t\tfor (row = 0; row < rowCnt; row++) {\n\t\t\trowFirst = row * colCnt;\n\t\t\trowLast = rowFirst + colCnt - 1;\n\n\t\t\t// intersect segment's offset range with the row's\n\t\t\tsegFirst = Math.max(rowFirst, first);\n\t\t\tsegLast = Math.min(rowLast, last);\n\n\t\t\t// deal with in-between indices\n\t\t\tsegFirst = Math.ceil(segFirst); // in-between starts round to next cell\n\t\t\tsegLast = Math.floor(segLast); // in-between ends round to prev cell\n\n\t\t\tif (segFirst <= segLast) { // was there any intersection with the current row?\n\n\t\t\t\t// must be matching integers to be the segment's start/end\n\t\t\t\tisStart = segFirst === first;\n\t\t\t\tisEnd = segLast === last;\n\n\t\t\t\t// translate offsets to be relative to start-of-row\n\t\t\t\tsegFirst -= rowFirst;\n\t\t\t\tsegLast -= rowFirst;\n\n\t\t\t\tseg = { row: row, isStart: isStart, isEnd: isEnd };\n\t\t\t\tif (isRTL) {\n\t\t\t\t\tseg.leftCol = colCnt - segLast - 1;\n\t\t\t\t\tseg.rightCol = colCnt - segFirst - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tseg.leftCol = segFirst;\n\t\t\t\t\tseg.rightCol = segLast;\n\t\t\t\t}\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t// Given a date, returns its chronolocial cell-offset from the first cell of the grid.\n\t// If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n\t// If before the first offset, returns a negative number.\n\t// If after the last offset, returns an offset past the last cell offset.\n\t// Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n\tdateToCellOffset: function(date) {\n\t\tvar offsets = this.dayToCellOffsets;\n\t\tvar day = date.diff(this.start, 'days');\n\n\t\tif (day < 0) {\n\t\t\treturn offsets[0] - 1;\n\t\t}\n\t\telse if (day >= offsets.length) {\n\t\t\treturn offsets[offsets.length - 1] + 1;\n\t\t}\n\t\telse {\n\t\t\treturn offsets[day];\n\t\t}\n\t},\n\n\n\t/* Event Drag Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\t// TODO: move to DayGrid.event, similar to what we did with Grid's drag methods\n\n\n\t// Renders a visual indication of an event or external element being dragged.\n\t// The dropLocation's end can be null. seg can be null. See Grid::renderDrag for more info.\n\trenderDrag: function(dropLocation, seg) {\n\n\t\t// always render a highlight underneath\n\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\n\t\t// if a segment from the same calendar but another component is being dragged, render a helper event\n\t\tif (seg && !seg.el.closest(this.el).length) {\n\n\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\tthis.applyDragOpacity(this.helperEls);\n\n\t\t\treturn true; // a helper has been rendered\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of a hovering event\n\tunrenderDrag: function() {\n\t\tthis.unrenderHighlight();\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Resize Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being resized\n\trenderEventResize: function(range, seg) {\n\t\tthis.renderHighlight(this.eventRangeToSegs(range));\n\t\tthis.renderRangeHelper(range, seg);\n\t},\n\n\n\t// Unrenders a visual indication of an event being resized\n\tunrenderEventResize: function() {\n\t\tthis.unrenderHighlight();\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\n\trenderHelper: function(event, sourceSeg) {\n\t\tvar helperNodes = [];\n\t\tvar segs = this.eventsToSegs([ event ]);\n\t\tvar rowStructs;\n\n\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\trowStructs = this.renderSegRows(segs);\n\n\t\t// inject each new event skeleton into each associated row\n\t\tthis.rowEls.each(function(row, rowNode) {\n\t\t\tvar rowEl = $(rowNode); // the .fc-row\n\t\t\tvar skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>'); // will be absolutely positioned\n\t\t\tvar skeletonTop;\n\n\t\t\t// If there is an original segment, match the top position. Otherwise, put it at the row's top level\n\t\t\tif (sourceSeg && sourceSeg.row === row) {\n\t\t\t\tskeletonTop = sourceSeg.el.position().top;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tskeletonTop = rowEl.find('.fc-content-skeleton tbody').position().top;\n\t\t\t}\n\n\t\t\tskeletonEl.css('top', skeletonTop)\n\t\t\t\t.find('table')\n\t\t\t\t\t.append(rowStructs[row].tbodyEl);\n\n\t\t\trowEl.append(skeletonEl);\n\t\t\thelperNodes.push(skeletonEl[0]);\n\t\t});\n\n\t\tthis.helperEls = $(helperNodes); // array -> jQuery set\n\t},\n\n\n\t// Unrenders any visual indication of a mock helper event\n\tunrenderHelper: function() {\n\t\tif (this.helperEls) {\n\t\t\tthis.helperEls.remove();\n\t\t\tthis.helperEls = null;\n\t\t}\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tfillSegTag: 'td', // override the default tag name\n\n\n\t// Renders a set of rectangles over the given segments of days.\n\t// Only returns segments that successfully rendered.\n\trenderFill: function(type, segs, className) {\n\t\tvar nodes = [];\n\t\tvar i, seg;\n\t\tvar skeletonEl;\n\n\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tskeletonEl = this.renderFillRow(type, seg, className);\n\t\t\tthis.rowEls.eq(seg.row).append(skeletonEl);\n\t\t\tnodes.push(skeletonEl[0]);\n\t\t}\n\n\t\tthis.elsByFill[type] = $(nodes);\n\n\t\treturn segs;\n\t},\n\n\n\t// Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n\trenderFillRow: function(type, seg, className) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar startCol = seg.leftCol;\n\t\tvar endCol = seg.rightCol + 1;\n\t\tvar skeletonEl;\n\t\tvar trEl;\n\n\t\tclassName = className || type.toLowerCase();\n\n\t\tskeletonEl = $(\n\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t'<table><tr/></table>' +\n\t\t\t'</div>'\n\t\t);\n\t\ttrEl = skeletonEl.find('tr');\n\n\t\tif (startCol > 0) {\n\t\t\ttrEl.append('<td colspan=\"' + startCol + '\"/>');\n\t\t}\n\n\t\ttrEl.append(\n\t\t\tseg.el.attr('colspan', endCol - startCol)\n\t\t);\n\n\t\tif (endCol < colCnt) {\n\t\t\ttrEl.append('<td colspan=\"' + (colCnt - endCol) + '\"/>');\n\t\t}\n\n\t\tthis.bookendCells(trEl, type);\n\n\t\treturn skeletonEl;\n\t}\n\n});\n\n;;\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nDayGrid.mixin({\n\n\trowStructs: null, // an array of objects, each holding information about a row's foreground event-rendering\n\n\n\t// Unrenders all events currently rendered on the grid\n\tunrenderEvents: function() {\n\t\tthis.removeSegPopover(); // removes the \"more..\" events popover\n\t\tGrid.prototype.unrenderEvents.apply(this, arguments); // calls the super-method\n\t},\n\n\n\t// Retrieves all rendered segment objects currently rendered on the grid\n\tgetEventSegs: function() {\n\t\treturn Grid.prototype.getEventSegs.call(this) // get the segments from the super-method\n\t\t\t.concat(this.popoverSegs || []); // append the segments from the \"more...\" popover\n\t},\n\n\n\t// Renders the given background event segments onto the grid\n\trenderBgSegs: function(segs) {\n\n\t\t// don't render timed background events\n\t\tvar allDaySegs = $.grep(segs, function(seg) {\n\t\t\treturn seg.event.allDay;\n\t\t});\n\n\t\treturn Grid.prototype.renderBgSegs.call(this, allDaySegs); // call the super-method\n\t},\n\n\n\t// Renders the given foreground event segments onto the grid\n\trenderFgSegs: function(segs) {\n\t\tvar rowStructs;\n\n\t\t// render an `.el` on each seg\n\t\t// returns a subset of the segs. segs that were actually rendered\n\t\tsegs = this.renderFgSegEls(segs);\n\n\t\trowStructs = this.rowStructs = this.renderSegRows(segs);\n\n\t\t// append to each row's content skeleton\n\t\tthis.rowEls.each(function(i, rowNode) {\n\t\t\t$(rowNode).find('.fc-content-skeleton > table').append(\n\t\t\t\trowStructs[i].tbodyEl\n\t\t\t);\n\t\t});\n\n\t\treturn segs; // return only the segs that were actually rendered\n\t},\n\n\n\t// Unrenders all currently rendered foreground event segments\n\tunrenderFgSegs: function() {\n\t\tvar rowStructs = this.rowStructs || [];\n\t\tvar rowStruct;\n\n\t\twhile ((rowStruct = rowStructs.pop())) {\n\t\t\trowStruct.tbodyEl.remove();\n\t\t}\n\n\t\tthis.rowStructs = null;\n\t},\n\n\n\t// Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n\t// Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n\t// PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n\trenderSegRows: function(segs) {\n\t\tvar rowStructs = [];\n\t\tvar segRows;\n\t\tvar row;\n\n\t\tsegRows = this.groupSegRows(segs); // group into nested arrays\n\n\t\t// iterate each row of segment groupings\n\t\tfor (row = 0; row < segRows.length; row++) {\n\t\t\trowStructs.push(\n\t\t\t\tthis.renderSegRow(row, segRows[row])\n\t\t\t);\n\t\t}\n\n\t\treturn rowStructs;\n\t},\n\n\n\t// Builds the HTML to be used for the default element for an individual segment\n\tfgSegHtml: function(seg, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar isDraggable = view.isEventDraggable(event);\n\t\tvar isResizableFromStart = !disableResizing && event.allDay &&\n\t\t\tseg.isStart && view.isEventResizableFromStart(event);\n\t\tvar isResizableFromEnd = !disableResizing && event.allDay &&\n\t\t\tseg.isEnd && view.isEventResizableFromEnd(event);\n\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\tvar timeHtml = '';\n\t\tvar timeText;\n\t\tvar titleHtml;\n\n\t\tclasses.unshift('fc-day-grid-event', 'fc-h-event');\n\n\t\t// Only display a timed events time if it is the starting segment\n\t\tif (seg.isStart) {\n\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\tif (timeText) {\n\t\t\t\ttimeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n\t\t\t}\n\t\t}\n\n\t\ttitleHtml =\n\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t(htmlEscape(event.title || '') || '&nbsp;') + // we always want one line of height\n\t\t\t'</span>';\n\t\t\n\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t\t(event.url ?\n\t\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t(skinCss ?\n\t\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'>' +\n\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t(this.isRTL ?\n\t\t\t\t\t\ttitleHtml + ' ' + timeHtml : // put a natural space in between\n\t\t\t\t\t\ttimeHtml + ' ' + titleHtml   //\n\t\t\t\t\t\t) +\n\t\t\t\t'</div>' +\n\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'</a>';\n\t},\n\n\n\t// Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n\t// the segments. Returns object with a bunch of internal data about how the render was calculated.\n\t// NOTE: modifies rowSegs\n\trenderSegRow: function(row, rowSegs) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n\t\tvar levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n\t\tvar tbody = $('<tbody/>');\n\t\tvar segMatrix = []; // lookup for which segments are rendered into which level+col cells\n\t\tvar cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n\t\tvar loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n\t\tvar i, levelSegs;\n\t\tvar col;\n\t\tvar tr;\n\t\tvar j, seg;\n\t\tvar td;\n\n\t\t// populates empty cells from the current column (`col`) to `endCol`\n\t\tfunction emptyCellsUntil(endCol) {\n\t\t\twhile (col < endCol) {\n\t\t\t\t// try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n\t\t\t\ttd = (loneCellMatrix[i - 1] || [])[col];\n\t\t\t\tif (td) {\n\t\t\t\t\ttd.attr(\n\t\t\t\t\t\t'rowspan',\n\t\t\t\t\t\tparseInt(td.attr('rowspan') || 1, 10) + 1\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttd = $('<td/>');\n\t\t\t\t\ttr.append(td);\n\t\t\t\t}\n\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < levelCnt; i++) { // iterate through all levels\n\t\t\tlevelSegs = segLevels[i];\n\t\t\tcol = 0;\n\t\t\ttr = $('<tr/>');\n\n\t\t\tsegMatrix.push([]);\n\t\t\tcellMatrix.push([]);\n\t\t\tloneCellMatrix.push([]);\n\n\t\t\t// levelCnt might be 1 even though there are no actual levels. protect against this.\n\t\t\t// this single empty row is useful for styling.\n\t\t\tif (levelSegs) {\n\t\t\t\tfor (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n\t\t\t\t\tseg = levelSegs[j];\n\n\t\t\t\t\temptyCellsUntil(seg.leftCol);\n\n\t\t\t\t\t// create a container that occupies or more columns. append the event element.\n\t\t\t\t\ttd = $('<td class=\"fc-event-container\"/>').append(seg.el);\n\t\t\t\t\tif (seg.leftCol != seg.rightCol) {\n\t\t\t\t\t\ttd.attr('colspan', seg.rightCol - seg.leftCol + 1);\n\t\t\t\t\t}\n\t\t\t\t\telse { // a single-column segment\n\t\t\t\t\t\tloneCellMatrix[i][col] = td;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\t\tcellMatrix[i][col] = td;\n\t\t\t\t\t\tsegMatrix[i][col] = seg;\n\t\t\t\t\t\tcol++;\n\t\t\t\t\t}\n\n\t\t\t\t\ttr.append(td);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\temptyCellsUntil(colCnt); // finish off the row\n\t\t\tthis.bookendCells(tr, 'eventSkeleton');\n\t\t\ttbody.append(tr);\n\t\t}\n\n\t\treturn { // a \"rowStruct\"\n\t\t\trow: row, // the row number\n\t\t\ttbodyEl: tbody,\n\t\t\tcellMatrix: cellMatrix,\n\t\t\tsegMatrix: segMatrix,\n\t\t\tsegLevels: segLevels,\n\t\t\tsegs: rowSegs\n\t\t};\n\t},\n\n\n\t// Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n\t// NOTE: modifies segs\n\tbuildSegLevels: function(segs) {\n\t\tvar levels = [];\n\t\tvar i, seg;\n\t\tvar j;\n\n\t\t// Give preference to elements with certain criteria, so they have\n\t\t// a chance to be closer to the top.\n\t\tthis.sortSegs(segs);\n\t\t\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\n\t\t\t// loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n\t\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\t\tif (!isDaySegCollision(seg, levels[j])) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// `j` now holds the desired subrow index\n\t\t\tseg.level = j;\n\n\t\t\t// create new level array if needed and append segment\n\t\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t\t}\n\n\t\t// order segments left-to-right. very important if calendar is RTL\n\t\tfor (j = 0; j < levels.length; j++) {\n\t\t\tlevels[j].sort(compareDaySegCols);\n\t\t}\n\n\t\treturn levels;\n\t},\n\n\n\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n\tgroupSegRows: function(segs) {\n\t\tvar segRows = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\tsegRows.push([]);\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tsegRows[segs[i].row].push(segs[i]);\n\t\t}\n\n\t\treturn segRows;\n\t}\n\n});\n\n\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg, otherSegs) {\n\tvar i, otherSeg;\n\n\tfor (i = 0; i < otherSegs.length; i++) {\n\t\totherSeg = otherSegs[i];\n\n\t\tif (\n\t\t\totherSeg.leftCol <= seg.rightCol &&\n\t\t\totherSeg.rightCol >= seg.leftCol\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\n\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a, b) {\n\treturn a.leftCol - b.leftCol;\n}\n\n;;\n\n/* Methods relate to limiting the number events for a given day on a DayGrid\n----------------------------------------------------------------------------------------------------------------------*/\n// NOTE: all the segs being passed around in here are foreground segs\n\nDayGrid.mixin({\n\n\tsegPopover: null, // the Popover that holds events that can't fit in a cell. null when not visible\n\tpopoverSegs: null, // an array of segment objects that the segPopover holds. null when not visible\n\n\n\tremoveSegPopover: function() {\n\t\tif (this.segPopover) {\n\t\t\tthis.segPopover.hide(); // in handler, will call segPopover's removeElement\n\t\t}\n\t},\n\n\n\t// Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n\t// `levelLimit` can be false (don't limit), a number, or true (should be computed).\n\tlimitRows: function(levelLimit) {\n\t\tvar rowStructs = this.rowStructs || [];\n\t\tvar row; // row #\n\t\tvar rowLevelLimit;\n\n\t\tfor (row = 0; row < rowStructs.length; row++) {\n\t\t\tthis.unlimitRow(row);\n\n\t\t\tif (!levelLimit) {\n\t\t\t\trowLevelLimit = false;\n\t\t\t}\n\t\t\telse if (typeof levelLimit === 'number') {\n\t\t\t\trowLevelLimit = levelLimit;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowLevelLimit = this.computeRowLevelLimit(row);\n\t\t\t}\n\n\t\t\tif (rowLevelLimit !== false) {\n\t\t\t\tthis.limitRow(row, rowLevelLimit);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Computes the number of levels a row will accomodate without going outside its bounds.\n\t// Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n\t// `row` is the row number.\n\tcomputeRowLevelLimit: function(row) {\n\t\tvar rowEl = this.rowEls.eq(row); // the containing \"fake\" row div\n\t\tvar rowHeight = rowEl.height(); // TODO: cache somehow?\n\t\tvar trEls = this.rowStructs[row].tbodyEl.children();\n\t\tvar i, trEl;\n\t\tvar trHeight;\n\n\t\tfunction iterInnerHeights(i, childNode) {\n\t\t\ttrHeight = Math.max(trHeight, $(childNode).outerHeight());\n\t\t}\n\n\t\t// Reveal one level <tr> at a time and stop when we find one out of bounds\n\t\tfor (i = 0; i < trEls.length; i++) {\n\t\t\ttrEl = trEls.eq(i).removeClass('fc-limited'); // reset to original state (reveal)\n\n\t\t\t// with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\n\t\t\t// so instead, find the tallest inner content element.\n\t\t\ttrHeight = 0;\n\t\t\ttrEl.find('> td > :first-child').each(iterInnerHeights);\n\n\t\t\tif (trEl.position().top + trHeight > rowHeight) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn false; // should not limit at all\n\t},\n\n\n\t// Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n\t// `row` is the row number.\n\t// `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n\tlimitRow: function(row, levelLimit) {\n\t\tvar _this = this;\n\t\tvar rowStruct = this.rowStructs[row];\n\t\tvar moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n\t\tvar col = 0; // col #, left-to-right (not chronologically)\n\t\tvar cell;\n\t\tvar levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n\t\tvar cellMatrix; // a matrix (by level, then column) of all <td> jQuery elements in the row\n\t\tvar limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n\t\tvar i, seg;\n\t\tvar segsBelow; // array of segment objects below `seg` in the current `col`\n\t\tvar totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n\t\tvar colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n\t\tvar td, rowspan;\n\t\tvar segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n\t\tvar j;\n\t\tvar moreTd, moreWrap, moreLink;\n\n\t\t// Iterates through empty level cells and places \"more\" links inside if need be\n\t\tfunction emptyCellsUntil(endCol) { // goes from current `col` to `endCol`\n\t\t\twhile (col < endCol) {\n\t\t\t\tcell = _this.getCell(row, col);\n\t\t\t\tsegsBelow = _this.getCellSegs(cell, levelLimit);\n\t\t\t\tif (segsBelow.length) {\n\t\t\t\t\ttd = cellMatrix[levelLimit - 1][col];\n\t\t\t\t\tmoreLink = _this.renderMoreLink(cell, segsBelow);\n\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\ttd.append(moreWrap);\n\t\t\t\t\tmoreNodes.push(moreWrap[0]);\n\t\t\t\t}\n\t\t\t\tcol++;\n\t\t\t}\n\t\t}\n\n\t\tif (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n\t\t\tlevelSegs = rowStruct.segLevels[levelLimit - 1];\n\t\t\tcellMatrix = rowStruct.cellMatrix;\n\n\t\t\tlimitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\n\t\t\t\t.addClass('fc-limited').get(); // hide elements and get a simple DOM-nodes array\n\n\t\t\t// iterate though segments in the last allowable level\n\t\t\tfor (i = 0; i < levelSegs.length; i++) {\n\t\t\t\tseg = levelSegs[i];\n\t\t\t\temptyCellsUntil(seg.leftCol); // process empty cells before the segment\n\n\t\t\t\t// determine *all* segments below `seg` that occupy the same columns\n\t\t\t\tcolSegsBelow = [];\n\t\t\t\ttotalSegsBelow = 0;\n\t\t\t\twhile (col <= seg.rightCol) {\n\t\t\t\t\tcell = this.getCell(row, col);\n\t\t\t\t\tsegsBelow = this.getCellSegs(cell, levelLimit);\n\t\t\t\t\tcolSegsBelow.push(segsBelow);\n\t\t\t\t\ttotalSegsBelow += segsBelow.length;\n\t\t\t\t\tcol++;\n\t\t\t\t}\n\n\t\t\t\tif (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n\t\t\t\t\ttd = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment's parent cell\n\t\t\t\t\trowspan = td.attr('rowspan') || 1;\n\t\t\t\t\tsegMoreNodes = [];\n\n\t\t\t\t\t// make a replacement <td> for each column the segment occupies. will be one for each colspan\n\t\t\t\t\tfor (j = 0; j < colSegsBelow.length; j++) {\n\t\t\t\t\t\tmoreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan);\n\t\t\t\t\t\tsegsBelow = colSegsBelow[j];\n\t\t\t\t\t\tcell = this.getCell(row, seg.leftCol + j);\n\t\t\t\t\t\tmoreLink = this.renderMoreLink(cell, [ seg ].concat(segsBelow)); // count seg as hidden too\n\t\t\t\t\t\tmoreWrap = $('<div/>').append(moreLink);\n\t\t\t\t\t\tmoreTd.append(moreWrap);\n\t\t\t\t\t\tsegMoreNodes.push(moreTd[0]);\n\t\t\t\t\t\tmoreNodes.push(moreTd[0]);\n\t\t\t\t\t}\n\n\t\t\t\t\ttd.addClass('fc-limited').after($(segMoreNodes)); // hide original <td> and inject replacements\n\t\t\t\t\tlimitedNodes.push(td[0]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\temptyCellsUntil(this.colCnt); // finish off the level\n\t\t\trowStruct.moreEls = $(moreNodes); // for easy undoing later\n\t\t\trowStruct.limitedEls = $(limitedNodes); // for easy undoing later\n\t\t}\n\t},\n\n\n\t// Reveals all levels and removes all \"more\"-related elements for a grid's row.\n\t// `row` is a row number.\n\tunlimitRow: function(row) {\n\t\tvar rowStruct = this.rowStructs[row];\n\n\t\tif (rowStruct.moreEls) {\n\t\t\trowStruct.moreEls.remove();\n\t\t\trowStruct.moreEls = null;\n\t\t}\n\n\t\tif (rowStruct.limitedEls) {\n\t\t\trowStruct.limitedEls.removeClass('fc-limited');\n\t\t\trowStruct.limitedEls = null;\n\t\t}\n\t},\n\n\n\t// Renders an <a> element that represents hidden event element for a cell.\n\t// Responsible for attaching click handler as well.\n\trenderMoreLink: function(cell, hiddenSegs) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\n\t\treturn $('<a class=\"fc-more\"/>')\n\t\t\t.text(\n\t\t\t\tthis.getMoreLinkText(hiddenSegs.length)\n\t\t\t)\n\t\t\t.on('click', function(ev) {\n\t\t\t\tvar clickOption = view.opt('eventLimitClick');\n\t\t\t\tvar date = cell.start;\n\t\t\t\tvar moreEl = $(this);\n\t\t\t\tvar dayEl = _this.getCellDayEl(cell);\n\t\t\t\tvar allSegs = _this.getCellSegs(cell);\n\n\t\t\t\t// rescope the segments to be within the cell's date\n\t\t\t\tvar reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n\t\t\t\tvar reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n\n\t\t\t\tif (typeof clickOption === 'function') {\n\t\t\t\t\t// the returned value can be an atomic option\n\t\t\t\t\tclickOption = view.trigger('eventLimitClick', null, {\n\t\t\t\t\t\tdate: date,\n\t\t\t\t\t\tdayEl: dayEl,\n\t\t\t\t\t\tmoreEl: moreEl,\n\t\t\t\t\t\tsegs: reslicedAllSegs,\n\t\t\t\t\t\thiddenSegs: reslicedHiddenSegs\n\t\t\t\t\t}, ev);\n\t\t\t\t}\n\n\t\t\t\tif (clickOption === 'popover') {\n\t\t\t\t\t_this.showSegPopover(cell, moreEl, reslicedAllSegs);\n\t\t\t\t}\n\t\t\t\telse if (typeof clickOption === 'string') { // a view name\n\t\t\t\t\tview.calendar.zoomTo(date, clickOption);\n\t\t\t\t}\n\t\t\t});\n\t},\n\n\n\t// Reveals the popover that displays all events within a cell\n\tshowSegPopover: function(cell, moreLink, segs) {\n\t\tvar _this = this;\n\t\tvar view = this.view;\n\t\tvar moreWrap = moreLink.parent(); // the <div> wrapper around the <a>\n\t\tvar topEl; // the element we want to match the top coordinate of\n\t\tvar options;\n\n\t\tif (this.rowCnt == 1) {\n\t\t\ttopEl = view.el; // will cause the popover to cover any sort of header\n\t\t}\n\t\telse {\n\t\t\ttopEl = this.rowEls.eq(cell.row); // will align with top of row\n\t\t}\n\n\t\toptions = {\n\t\t\tclassName: 'fc-more-popover',\n\t\t\tcontent: this.renderSegPopoverContent(cell, segs),\n\t\t\tparentEl: this.el,\n\t\t\ttop: topEl.offset().top,\n\t\t\tautoHide: true, // when the user clicks elsewhere, hide the popover\n\t\t\tviewportConstrain: view.opt('popoverViewportConstrain'),\n\t\t\thide: function() {\n\t\t\t\t// kill everything when the popover is hidden\n\t\t\t\t_this.segPopover.removeElement();\n\t\t\t\t_this.segPopover = null;\n\t\t\t\t_this.popoverSegs = null;\n\t\t\t}\n\t\t};\n\n\t\t// Determine horizontal coordinate.\n\t\t// We use the moreWrap instead of the <td> to avoid border confusion.\n\t\tif (this.isRTL) {\n\t\t\toptions.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border\n\t\t}\n\t\telse {\n\t\t\toptions.left = moreWrap.offset().left - 1; // -1 to be over cell border\n\t\t}\n\n\t\tthis.segPopover = new Popover(options);\n\t\tthis.segPopover.show();\n\t},\n\n\n\t// Builds the inner DOM contents of the segment popover\n\trenderSegPopoverContent: function(cell, segs) {\n\t\tvar view = this.view;\n\t\tvar isTheme = view.opt('theme');\n\t\tvar title = cell.start.format(view.opt('dayPopoverFormat'));\n\t\tvar content = $(\n\t\t\t'<div class=\"fc-header ' + view.widgetHeaderClass + '\">' +\n\t\t\t\t'<span class=\"fc-close ' +\n\t\t\t\t\t(isTheme ? 'ui-icon ui-icon-closethick' : 'fc-icon fc-icon-x') +\n\t\t\t\t'\"></span>' +\n\t\t\t\t'<span class=\"fc-title\">' +\n\t\t\t\t\thtmlEscape(title) +\n\t\t\t\t'</span>' +\n\t\t\t\t'<div class=\"fc-clear\"/>' +\n\t\t\t'</div>' +\n\t\t\t'<div class=\"fc-body ' + view.widgetContentClass + '\">' +\n\t\t\t\t'<div class=\"fc-event-container\"></div>' +\n\t\t\t'</div>'\n\t\t);\n\t\tvar segContainer = content.find('.fc-event-container');\n\t\tvar i;\n\n\t\t// render each seg's `el` and only return the visible segs\n\t\tsegs = this.renderFgSegEls(segs, true); // disableResizing=true\n\t\tthis.popoverSegs = segs;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\n\t\t\t// because segments in the popover are not part of a grid coordinate system, provide a hint to any\n\t\t\t// grids that want to do drag-n-drop about which cell it came from\n\t\t\tsegs[i].cell = cell;\n\n\t\t\tsegContainer.append(segs[i].el);\n\t\t}\n\n\t\treturn content;\n\t},\n\n\n\t// Given the events within an array of segment objects, reslice them to be in a single day\n\tresliceDaySegs: function(segs, dayDate) {\n\n\t\t// build an array of the original events\n\t\tvar events = $.map(segs, function(seg) {\n\t\t\treturn seg.event;\n\t\t});\n\n\t\tvar dayStart = dayDate.clone().stripTime();\n\t\tvar dayEnd = dayStart.clone().add(1, 'days');\n\t\tvar dayRange = { start: dayStart, end: dayEnd };\n\n\t\t// slice the events with a custom slicing function\n\t\tsegs = this.eventsToSegs(\n\t\t\tevents,\n\t\t\tfunction(range) {\n\t\t\t\tvar seg = intersectionToSeg(range, dayRange); // undefind if no intersection\n\t\t\t\treturn seg ? [ seg ] : []; // must return an array of segments\n\t\t\t}\n\t\t);\n\n\t\t// force an order because eventsToSegs doesn't guarantee one\n\t\tthis.sortSegs(segs);\n\n\t\treturn segs;\n\t},\n\n\n\t// Generates the text that should be inside a \"more\" link, given the number of events it represents\n\tgetMoreLinkText: function(num) {\n\t\tvar opt = this.view.opt('eventLimitText');\n\n\t\tif (typeof opt === 'function') {\n\t\t\treturn opt(num);\n\t\t}\n\t\telse {\n\t\t\treturn '+' + num + ' ' + opt;\n\t\t}\n\t},\n\n\n\t// Returns segments within a given cell.\n\t// If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n\tgetCellSegs: function(cell, startLevel) {\n\t\tvar segMatrix = this.rowStructs[cell.row].segMatrix;\n\t\tvar level = startLevel || 0;\n\t\tvar segs = [];\n\t\tvar seg;\n\n\t\twhile (level < segMatrix.length) {\n\t\t\tseg = segMatrix[level][cell.col];\n\t\t\tif (seg) {\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t\tlevel++;\n\t\t}\n\n\t\treturn segs;\n\t}\n\n});\n\n;;\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar TimeGrid = Grid.extend({\n\n\tslotDuration: null, // duration of a \"slot\", a distinct time segment on given day, visualized by lines\n\tsnapDuration: null, // granularity of time for dragging and selecting\n\tminTime: null, // Duration object that denotes the first visible time of any given day\n\tmaxTime: null, // Duration object that denotes the exclusive visible end time of any given day\n\tcolDates: null, // whole-day dates for each column. left to right\n\tlabelFormat: null, // formatting string for times running along vertical axis\n\tlabelInterval: null, // duration of how often a label should be displayed for a slot\n\n\tdayEls: null, // cells elements in the day-row background\n\tslatEls: null, // elements running horizontally across all columns\n\n\tslatTops: null, // an array of top positions, relative to the container. last item holds bottom of last slot\n\n\thelperEl: null, // cell skeleton element for rendering the mock event \"helper\"\n\n\tbusinessHourSegs: null,\n\n\n\tconstructor: function() {\n\t\tGrid.apply(this, arguments); // call the super-constructor\n\t\tthis.processOptions();\n\t},\n\n\n\t// Renders the time grid into `this.el`, which should already be assigned.\n\t// Relies on the view's colCnt. In the future, this component should probably be self-sufficient.\n\trenderDates: function() {\n\t\tthis.el.html(this.renderHtml());\n\t\tthis.dayEls = this.el.find('.fc-day');\n\t\tthis.slatEls = this.el.find('.fc-slats tr');\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tvar events = this.view.calendar.getBusinessHoursEvents();\n\t\tthis.businessHourSegs = this.renderFill('businessHours', this.eventsToSegs(events), 'bgevent');\n\t},\n\n\n\t// Renders the basic HTML skeleton for the grid\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<div class=\"fc-bg\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\tthis.rowHtml('slotBg') + // leverages RowRenderer, which will call slotBgCellHtml\n\t\t\t\t'</table>' +\n\t\t\t'</div>' +\n\t\t\t'<div class=\"fc-slats\">' +\n\t\t\t\t'<table>' +\n\t\t\t\t\tthis.slatRowHtml() +\n\t\t\t\t'</table>' +\n\t\t\t'</div>';\n\t},\n\n\n\t// Renders the HTML for a vertical background cell behind the slots.\n\t// This method is distinct from 'bg' because we wanted a new `rowType` so the View could customize the rendering.\n\tslotBgCellHtml: function(cell) {\n\t\treturn this.bgCellHtml(cell);\n\t},\n\n\n\t// Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n\tslatRowHtml: function() {\n\t\tvar view = this.view;\n\t\tvar isRTL = this.isRTL;\n\t\tvar html = '';\n\t\tvar slotTime = moment.duration(+this.minTime); // wish there was .clone() for durations\n\t\tvar slotDate; // will be on the view's first day, but we only care about its time\n\t\tvar isLabeled;\n\t\tvar axisHtml;\n\n\t\t// Calculate the time for each slot\n\t\twhile (slotTime < this.maxTime) {\n\t\t\tslotDate = this.start.clone().time(slotTime); // after .time() will be in UTC. but that's good, avoids DST issues\n\t\t\tisLabeled = isInt(divideDurationByDuration(slotTime, this.labelInterval));\n\n\t\t\taxisHtml =\n\t\t\t\t'<td class=\"fc-axis fc-time ' + view.widgetContentClass + '\" ' + view.axisStyleAttr() + '>' +\n\t\t\t\t\t(isLabeled ?\n\t\t\t\t\t\t'<span>' + // for matchCellWidths\n\t\t\t\t\t\t\thtmlEscape(slotDate.format(this.labelFormat)) +\n\t\t\t\t\t\t'</span>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</td>';\n\n\t\t\thtml +=\n\t\t\t\t'<tr ' + (isLabeled ? '' : 'class=\"fc-minor\"') + '>' +\n\t\t\t\t\t(!isRTL ? axisHtml : '') +\n\t\t\t\t\t'<td class=\"' + view.widgetContentClass + '\"/>' +\n\t\t\t\t\t(isRTL ? axisHtml : '') +\n\t\t\t\t\"</tr>\";\n\n\t\t\tslotTime.add(this.slotDuration);\n\t\t}\n\n\t\treturn html;\n\t},\n\n\n\t/* Options\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Parses various options into properties of this object\n\tprocessOptions: function() {\n\t\tvar view = this.view;\n\t\tvar slotDuration = view.opt('slotDuration');\n\t\tvar snapDuration = view.opt('snapDuration');\n\t\tvar input;\n\n\t\tslotDuration = moment.duration(slotDuration);\n\t\tsnapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;\n\n\t\tthis.slotDuration = slotDuration;\n\t\tthis.snapDuration = snapDuration;\n\t\tthis.cellDuration = snapDuration; // for Grid system\n\n\t\tthis.minTime = moment.duration(view.opt('minTime'));\n\t\tthis.maxTime = moment.duration(view.opt('maxTime'));\n\n\t\t// might be an array value (for TimelineView).\n\t\t// if so, getting the most granular entry (the last one probably).\n\t\tinput = view.opt('slotLabelFormat');\n\t\tif ($.isArray(input)) {\n\t\t\tinput = input[input.length - 1];\n\t\t}\n\n\t\tthis.labelFormat =\n\t\t\tinput ||\n\t\t\tview.opt('axisFormat') || // deprecated\n\t\t\tview.opt('smallTimeFormat'); // the computed default\n\n\t\tinput = view.opt('slotLabelInterval');\n\t\tthis.labelInterval = input ?\n\t\t\tmoment.duration(input) :\n\t\t\tthis.computeLabelInterval(slotDuration);\n\t},\n\n\n\t// Computes an automatic value for slotLabelInterval\n\tcomputeLabelInterval: function(slotDuration) {\n\t\tvar i;\n\t\tvar labelInterval;\n\t\tvar slotsPerLabel;\n\n\t\t// find the smallest stock label interval that results in more than one slots-per-label\n\t\tfor (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n\t\t\tlabelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i]);\n\t\t\tslotsPerLabel = divideDurationByDuration(labelInterval, slotDuration);\n\t\t\tif (isInt(slotsPerLabel) && slotsPerLabel > 1) {\n\t\t\t\treturn labelInterval;\n\t\t\t}\n\t\t}\n\n\t\treturn moment.duration(slotDuration); // fall back. clone\n\t},\n\n\n\t// Computes a default column header formatting string if `colFormat` is not explicitly defined\n\tcomputeColHeadFormat: function() {\n\t\tif (this.colCnt > 1) { // multiple days, so full single date string WON'T be in title text\n\t\t\treturn this.view.opt('dayOfMonthFormat'); // \"Sat 12/10\"\n\t\t}\n\t\telse { // single day, so full single date string will probably be in title text\n\t\t\treturn 'dddd'; // \"Saturday\"\n\t\t}\n\t},\n\n\n\t// Computes a default event time formatting string if `timeFormat` is not explicitly defined\n\tcomputeEventTimeFormat: function() {\n\t\treturn this.view.opt('noMeridiemTimeFormat'); // like \"6:30\" (no AM/PM)\n\t},\n\n\n\t// Computes a default `displayEventEnd` value if one is not expliclty defined\n\tcomputeDisplayEventEnd: function() {\n\t\treturn true;\n\t},\n\n\n\t/* Cell System\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\trangeUpdated: function() {\n\t\tvar view = this.view;\n\t\tvar colDates = [];\n\t\tvar date;\n\n\t\tdate = this.start.clone();\n\t\twhile (date.isBefore(this.end)) {\n\t\t\tcolDates.push(date.clone());\n\t\t\tdate.add(1, 'day');\n\t\t\tdate = view.skipHiddenDays(date);\n\t\t}\n\n\t\tif (this.isRTL) {\n\t\t\tcolDates.reverse();\n\t\t}\n\n\t\tthis.colDates = colDates;\n\t\tthis.colCnt = colDates.length;\n\t\tthis.rowCnt = Math.ceil((this.maxTime - this.minTime) / this.snapDuration); // # of vertical snaps\n\t},\n\n\n\t// Given a cell object, generates its start date. Returns a reference-free copy.\n\tcomputeCellDate: function(cell) {\n\t\tvar date = this.colDates[cell.col];\n\t\tvar time = this.computeSnapTime(cell.row);\n\n\t\tdate = this.view.calendar.rezoneDate(date); // give it a 00:00 time\n\t\tdate.time(time);\n\n\t\treturn date;\n\t},\n\n\n\t// Retrieves the element representing the given column\n\tgetColEl: function(col) {\n\t\treturn this.dayEls.eq(col);\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\n\tcomputeSnapTime: function(row) {\n\t\treturn moment.duration(this.minTime + this.snapDuration * row);\n\t},\n\n\n\t// Slices up a date range by column into an array of segments\n\trangeToSegs: function(range) {\n\t\tvar colCnt = this.colCnt;\n\t\tvar segs = [];\n\t\tvar seg;\n\t\tvar col;\n\t\tvar colDate;\n\t\tvar colRange;\n\n\t\t// normalize :(\n\t\trange = {\n\t\t\tstart: range.start.clone().stripZone(),\n\t\t\tend: range.end.clone().stripZone()\n\t\t};\n\n\t\tfor (col = 0; col < colCnt; col++) {\n\t\t\tcolDate = this.colDates[col]; // will be ambig time/timezone\n\t\t\tcolRange = {\n\t\t\t\tstart: colDate.clone().time(this.minTime),\n\t\t\t\tend: colDate.clone().time(this.maxTime)\n\t\t\t};\n\t\t\tseg = intersectionToSeg(range, colRange); // both will be ambig timezone\n\t\t\tif (seg) {\n\t\t\t\tseg.col = col;\n\t\t\t\tsegs.push(seg);\n\t\t\t}\n\t\t}\n\n\t\treturn segs;\n\t},\n\n\n\t/* Coordinates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tupdateSize: function(isResize) { // NOT a standard Grid method\n\t\tthis.computeSlatTops();\n\n\t\tif (isResize) {\n\t\t\tthis.updateSegVerticals();\n\t\t}\n\t},\n\n\n\t// Computes the top/bottom coordinates of each \"snap\" rows\n\tcomputeRowCoords: function() {\n\t\tvar originTop = this.el.offset().top;\n\t\tvar items = [];\n\t\tvar i;\n\t\tvar item;\n\n\t\tfor (i = 0; i < this.rowCnt; i++) {\n\t\t\titem = {\n\t\t\t\ttop: originTop + this.computeTimeTop(this.computeSnapTime(i))\n\t\t\t};\n\t\t\tif (i > 0) {\n\t\t\t\titems[i - 1].bottom = item.top;\n\t\t\t}\n\t\t\titems.push(item);\n\t\t}\n\t\titem.bottom = item.top + this.computeTimeTop(this.computeSnapTime(i));\n\n\t\treturn items;\n\t},\n\n\n\t// Computes the top coordinate, relative to the bounds of the grid, of the given date.\n\t// A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n\tcomputeDateTop: function(date, startOfDayDate) {\n\t\treturn this.computeTimeTop(\n\t\t\tmoment.duration(\n\t\t\t\tdate.clone().stripZone() - startOfDayDate.clone().stripTime()\n\t\t\t)\n\t\t);\n\t},\n\n\n\t// Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n\tcomputeTimeTop: function(time) {\n\t\tvar slatCoverage = (time - this.minTime) / this.slotDuration; // floating-point value of # of slots covered\n\t\tvar slatIndex;\n\t\tvar slatRemainder;\n\t\tvar slatTop;\n\t\tvar slatBottom;\n\n\t\t// constrain. because minTime/maxTime might be customized\n\t\tslatCoverage = Math.max(0, slatCoverage);\n\t\tslatCoverage = Math.min(this.slatEls.length, slatCoverage);\n\n\t\tslatIndex = Math.floor(slatCoverage); // an integer index of the furthest whole slot\n\t\tslatRemainder = slatCoverage - slatIndex;\n\t\tslatTop = this.slatTops[slatIndex]; // the top position of the furthest whole slot\n\n\t\tif (slatRemainder) { // time spans part-way into the slot\n\t\t\tslatBottom = this.slatTops[slatIndex + 1];\n\t\t\treturn slatTop + (slatBottom - slatTop) * slatRemainder; // part-way between slots\n\t\t}\n\t\telse {\n\t\t\treturn slatTop;\n\t\t}\n\t},\n\n\n\t// Queries each `slatEl` for its position relative to the grid's container and stores it in `slatTops`.\n\t// Includes the the bottom of the last slat as the last item in the array.\n\tcomputeSlatTops: function() {\n\t\tvar tops = [];\n\t\tvar top;\n\n\t\tthis.slatEls.each(function(i, node) {\n\t\t\ttop = $(node).position().top;\n\t\t\ttops.push(top);\n\t\t});\n\n\t\ttops.push(top + this.slatEls.last().outerHeight()); // bottom of the last slat\n\n\t\tthis.slatTops = tops;\n\t},\n\n\n\t/* Event Drag Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being dragged over the specified date(s).\n\t// dropLocation's end might be null, as well as `seg`. See Grid::renderDrag for more info.\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\n\t\tif (seg) { // if there is event information for this drag, render a helper event\n\t\t\tthis.renderRangeHelper(dropLocation, seg);\n\t\t\tthis.applyDragOpacity(this.helperEl);\n\n\t\t\treturn true; // signal that a helper has been rendered\n\t\t}\n\t\telse {\n\t\t\t// otherwise, just render a highlight\n\t\t\tthis.renderHighlight(this.eventRangeToSegs(dropLocation));\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of an event being dragged\n\tunrenderDrag: function() {\n\t\tthis.unrenderHelper();\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t/* Event Resize Visualization\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of an event being resized\n\trenderEventResize: function(range, seg) {\n\t\tthis.renderRangeHelper(range, seg);\n\t},\n\n\n\t// Unrenders any visual indication of an event being resized\n\tunrenderEventResize: function() {\n\t\tthis.unrenderHelper();\n\t},\n\n\n\t/* Event Helper\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a mock \"helper\" event. `sourceSeg` is the original segment object and might be null (an external drag)\n\trenderHelper: function(event, sourceSeg) {\n\t\tvar segs = this.eventsToSegs([ event ]);\n\t\tvar tableEl;\n\t\tvar i, seg;\n\t\tvar sourceEl;\n\n\t\tsegs = this.renderFgSegEls(segs); // assigns each seg's el and returns a subset of segs that were rendered\n\t\ttableEl = this.renderSegTable(segs);\n\n\t\t// Try to make the segment that is in the same row as sourceSeg look the same\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tif (sourceSeg && sourceSeg.col === seg.col) {\n\t\t\t\tsourceEl = sourceSeg.el;\n\t\t\t\tseg.el.css({\n\t\t\t\t\tleft: sourceEl.css('left'),\n\t\t\t\t\tright: sourceEl.css('right'),\n\t\t\t\t\t'margin-left': sourceEl.css('margin-left'),\n\t\t\t\t\t'margin-right': sourceEl.css('margin-right')\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.helperEl = $('<div class=\"fc-helper-skeleton\"/>')\n\t\t\t.append(tableEl)\n\t\t\t\t.appendTo(this.el);\n\t},\n\n\n\t// Unrenders any mock helper event\n\tunrenderHelper: function() {\n\t\tif (this.helperEl) {\n\t\t\tthis.helperEl.remove();\n\t\t\tthis.helperEl = null;\n\t\t}\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\n\trenderSelection: function(range) {\n\t\tif (this.view.opt('selectHelper')) { // this setting signals that a mock helper event should be rendered\n\t\t\tthis.renderRangeHelper(range);\n\t\t}\n\t\telse {\n\t\t\tthis.renderHighlight(this.selectionRangeToSegs(range));\n\t\t}\n\t},\n\n\n\t// Unrenders any visual indication of a selection\n\tunrenderSelection: function() {\n\t\tthis.unrenderHelper();\n\t\tthis.unrenderHighlight();\n\t},\n\n\n\t/* Fill System (highlight, background events, business hours)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a set of rectangles over the given time segments.\n\t// Only returns segments that successfully rendered.\n\trenderFill: function(type, segs, className) {\n\t\tvar segCols;\n\t\tvar skeletonEl;\n\t\tvar trEl;\n\t\tvar col, colSegs;\n\t\tvar tdEl;\n\t\tvar containerEl;\n\t\tvar dayDate;\n\t\tvar i, seg;\n\n\t\tif (segs.length) {\n\n\t\t\tsegs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n\t\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\n\t\t\tclassName = className || type.toLowerCase();\n\t\t\tskeletonEl = $(\n\t\t\t\t'<div class=\"fc-' + className + '-skeleton\">' +\n\t\t\t\t\t'<table><tr/></table>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t\ttrEl = skeletonEl.find('tr');\n\n\t\t\tfor (col = 0; col < segCols.length; col++) {\n\t\t\t\tcolSegs = segCols[col];\n\t\t\t\ttdEl = $('<td/>').appendTo(trEl);\n\n\t\t\t\tif (colSegs.length) {\n\t\t\t\t\tcontainerEl = $('<div class=\"fc-' + className + '-container\"/>').appendTo(tdEl);\n\t\t\t\t\tdayDate = this.colDates[col];\n\n\t\t\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\t\t\tseg = colSegs[i];\n\t\t\t\t\t\tcontainerEl.append(\n\t\t\t\t\t\t\tseg.el.css({\n\t\t\t\t\t\t\t\ttop: this.computeDateTop(seg.start, dayDate),\n\t\t\t\t\t\t\t\tbottom: -this.computeDateTop(seg.end, dayDate) // the y position of the bottom edge\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.bookendCells(trEl, type);\n\n\t\t\tthis.el.append(skeletonEl);\n\t\t\tthis.elsByFill[type] = skeletonEl;\n\t\t}\n\n\t\treturn segs;\n\t}\n\n});\n\n;;\n\n/* Event-rendering methods for the TimeGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nTimeGrid.mixin({\n\n\teventSkeletonEl: null, // has cells with event-containers, which contain absolutely positioned event elements\n\n\n\t// Renders the given foreground event segments onto the grid\n\trenderFgSegs: function(segs) {\n\t\tsegs = this.renderFgSegEls(segs); // returns a subset of the segs. segs that were actually rendered\n\n\t\tthis.el.append(\n\t\t\tthis.eventSkeletonEl = $('<div class=\"fc-content-skeleton\"/>')\n\t\t\t\t.append(this.renderSegTable(segs))\n\t\t);\n\n\t\treturn segs; // return only the segs that were actually rendered\n\t},\n\n\n\t// Unrenders all currently rendered foreground event segments\n\tunrenderFgSegs: function(segs) {\n\t\tif (this.eventSkeletonEl) {\n\t\t\tthis.eventSkeletonEl.remove();\n\t\t\tthis.eventSkeletonEl = null;\n\t\t}\n\t},\n\n\n\t// Renders and returns the <table> portion of the event-skeleton.\n\t// Returns an object with properties 'tbodyEl' and 'segs'.\n\trenderSegTable: function(segs) {\n\t\tvar tableEl = $('<table><tr/></table>');\n\t\tvar trEl = tableEl.find('tr');\n\t\tvar segCols;\n\t\tvar i, seg;\n\t\tvar col, colSegs;\n\t\tvar containerEl;\n\n\t\tsegCols = this.groupSegCols(segs); // group into sub-arrays, and assigns 'col' to each seg\n\n\t\tthis.computeSegVerticals(segs); // compute and assign top/bottom\n\n\t\tfor (col = 0; col < segCols.length; col++) { // iterate each column grouping\n\t\t\tcolSegs = segCols[col];\n\t\t\tthis.placeSlotSegs(colSegs); // compute horizontal coordinates, z-index's, and reorder the array\n\n\t\t\tcontainerEl = $('<div class=\"fc-event-container\"/>');\n\n\t\t\t// assign positioning CSS and insert into container\n\t\t\tfor (i = 0; i < colSegs.length; i++) {\n\t\t\t\tseg = colSegs[i];\n\t\t\t\tseg.el.css(this.generateSegPositionCss(seg));\n\n\t\t\t\t// if the height is short, add a className for alternate styling\n\t\t\t\tif (seg.bottom - seg.top < 50) {\n\t\t\t\t\tseg.el.addClass('fc-short');\n\t\t\t\t}\n\n\t\t\t\tcontainerEl.append(seg.el);\n\t\t\t}\n\n\t\t\ttrEl.append($('<td/>').append(containerEl));\n\t\t}\n\n\t\tthis.bookendCells(trEl, 'eventSkeleton');\n\n\t\treturn tableEl;\n\t},\n\n\n\t// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n\t// NOTE: Also reorders the given array by date!\n\tplaceSlotSegs: function(segs) {\n\t\tvar levels;\n\t\tvar level0;\n\t\tvar i;\n\n\t\tthis.sortSegs(segs); // order by date\n\t\tlevels = buildSlotSegLevels(segs);\n\t\tcomputeForwardSlotSegs(levels);\n\n\t\tif ((level0 = levels[0])) {\n\n\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\tcomputeSlotSegPressures(level0[i]);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < level0.length; i++) {\n\t\t\t\tthis.computeSlotSegCoords(level0[i], 0, 0);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n\t// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n\t// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n\t//\n\t// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n\t// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n\t// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n\t// coordinate of the first segment in the series.\n\tcomputeSlotSegCoords: function(seg, seriesBackwardPressure, seriesBackwardCoord) {\n\t\tvar forwardSegs = seg.forwardSegs;\n\t\tvar i;\n\n\t\tif (seg.forwardCoord === undefined) { // not already computed\n\n\t\t\tif (!forwardSegs.length) {\n\n\t\t\t\t// if there are no forward segments, this segment should butt up against the edge\n\t\t\t\tseg.forwardCoord = 1;\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\t// sort highest pressure first\n\t\t\t\tthis.sortForwardSlotSegs(forwardSegs);\n\n\t\t\t\t// this segment's forwardCoord will be calculated from the backwardCoord of the\n\t\t\t\t// highest-pressure forward segment.\n\t\t\t\tthis.computeSlotSegCoords(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);\n\t\t\t\tseg.forwardCoord = forwardSegs[0].backwardCoord;\n\t\t\t}\n\n\t\t\t// calculate the backwardCoord from the forwardCoord. consider the series\n\t\t\tseg.backwardCoord = seg.forwardCoord -\n\t\t\t\t(seg.forwardCoord - seriesBackwardCoord) / // available width for series\n\t\t\t\t(seriesBackwardPressure + 1); // # of segments in the series\n\n\t\t\t// use this segment's coordinates to computed the coordinates of the less-pressurized\n\t\t\t// forward segments\n\t\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\t\tthis.computeSlotSegCoords(forwardSegs[i], 0, seg.forwardCoord);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Refreshes the CSS top/bottom coordinates for each segment element. Probably after a window resize/zoom.\n\t// Repositions business hours segs too, so not just for events. Maybe shouldn't be here.\n\tupdateSegVerticals: function() {\n\t\tvar allSegs = (this.segs || []).concat(this.businessHourSegs || []);\n\t\tvar i;\n\n\t\tthis.computeSegVerticals(allSegs);\n\n\t\tfor (i = 0; i < allSegs.length; i++) {\n\t\t\tallSegs[i].el.css(\n\t\t\t\tthis.generateSegVerticalCss(allSegs[i])\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// For each segment in an array, computes and assigns its top and bottom properties\n\tcomputeSegVerticals: function(segs) {\n\t\tvar i, seg;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tseg = segs[i];\n\t\t\tseg.top = this.computeDateTop(seg.start, seg.start);\n\t\t\tseg.bottom = this.computeDateTop(seg.end, seg.start);\n\t\t}\n\t},\n\n\n\t// Renders the HTML for a single event segment's default rendering\n\tfgSegHtml: function(seg, disableResizing) {\n\t\tvar view = this.view;\n\t\tvar event = seg.event;\n\t\tvar isDraggable = view.isEventDraggable(event);\n\t\tvar isResizableFromStart = !disableResizing && seg.isStart && view.isEventResizableFromStart(event);\n\t\tvar isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventResizableFromEnd(event);\n\t\tvar classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd);\n\t\tvar skinCss = cssToStr(this.getEventSkinCss(event));\n\t\tvar timeText;\n\t\tvar fullTimeText; // more verbose time text. for the print stylesheet\n\t\tvar startTimeText; // just the start time text\n\n\t\tclasses.unshift('fc-time-grid-event', 'fc-v-event');\n\n\t\tif (view.isMultiDayEvent(event)) { // if the event appears to span more than one day...\n\t\t\t// Don't display time text on segments that run entirely through a day.\n\t\t\t// That would appear as midnight-midnight and would look dumb.\n\t\t\t// Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\n\t\t\tif (seg.isStart || seg.isEnd) {\n\t\t\t\ttimeText = this.getEventTimeText(seg);\n\t\t\t\tfullTimeText = this.getEventTimeText(seg, 'LT');\n\t\t\t\tstartTimeText = this.getEventTimeText(seg, null, false); // displayEnd=false\n\t\t\t}\n\t\t} else {\n\t\t\t// Display the normal time text for the *event's* times\n\t\t\ttimeText = this.getEventTimeText(event);\n\t\t\tfullTimeText = this.getEventTimeText(event, 'LT');\n\t\t\tstartTimeText = this.getEventTimeText(event, null, false); // displayEnd=false\n\t\t}\n\n\t\treturn '<a class=\"' + classes.join(' ') + '\"' +\n\t\t\t(event.url ?\n\t\t\t\t' href=\"' + htmlEscape(event.url) + '\"' :\n\t\t\t\t''\n\t\t\t\t) +\n\t\t\t(skinCss ?\n\t\t\t\t' style=\"' + skinCss + '\"' :\n\t\t\t\t''\n\t\t\t\t) +\n\t\t\t'>' +\n\t\t\t\t'<div class=\"fc-content\">' +\n\t\t\t\t\t(timeText ?\n\t\t\t\t\t\t'<div class=\"fc-time\"' +\n\t\t\t\t\t\t' data-start=\"' + htmlEscape(startTimeText) + '\"' +\n\t\t\t\t\t\t' data-full=\"' + htmlEscape(fullTimeText) + '\"' +\n\t\t\t\t\t\t'>' +\n\t\t\t\t\t\t\t'<span>' + htmlEscape(timeText) + '</span>' +\n\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t\t(event.title ?\n\t\t\t\t\t\t'<div class=\"fc-title\">' +\n\t\t\t\t\t\t\thtmlEscape(event.title) +\n\t\t\t\t\t\t'</div>' :\n\t\t\t\t\t\t''\n\t\t\t\t\t\t) +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"fc-bg\"/>' +\n\t\t\t\t/* TODO: write CSS for this\n\t\t\t\t(isResizableFromStart ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-start-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t\t*/\n\t\t\t\t(isResizableFromEnd ?\n\t\t\t\t\t'<div class=\"fc-resizer fc-end-resizer\" />' :\n\t\t\t\t\t''\n\t\t\t\t\t) +\n\t\t\t'</a>';\n\t},\n\n\n\t// Generates an object with CSS properties/values that should be applied to an event segment element.\n\t// Contains important positioning-related properties that should be applied to any event element, customized or not.\n\tgenerateSegPositionCss: function(seg) {\n\t\tvar shouldOverlap = this.view.opt('slotEventOverlap');\n\t\tvar backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n\t\tvar forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n\t\tvar props = this.generateSegVerticalCss(seg); // get top/bottom first\n\t\tvar left; // amount of space from left edge, a fraction of the total width\n\t\tvar right; // amount of space from right edge, a fraction of the total width\n\n\t\tif (shouldOverlap) {\n\t\t\t// double the width, but don't go beyond the maximum forward coordinate (1.0)\n\t\t\tforwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n\t\t}\n\n\t\tif (this.isRTL) {\n\t\t\tleft = 1 - forwardCoord;\n\t\t\tright = backwardCoord;\n\t\t}\n\t\telse {\n\t\t\tleft = backwardCoord;\n\t\t\tright = 1 - forwardCoord;\n\t\t}\n\n\t\tprops.zIndex = seg.level + 1; // convert from 0-base to 1-based\n\t\tprops.left = left * 100 + '%';\n\t\tprops.right = right * 100 + '%';\n\n\t\tif (shouldOverlap && seg.forwardPressure) {\n\t\t\t// add padding to the edge so that forward stacked events don't cover the resizer's icon\n\t\t\tprops[this.isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n\t\t}\n\n\t\treturn props;\n\t},\n\n\n\t// Generates an object with CSS properties for the top/bottom coordinates of a segment element\n\tgenerateSegVerticalCss: function(seg) {\n\t\treturn {\n\t\t\ttop: seg.top,\n\t\t\tbottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\n\t\t};\n\t},\n\n\n\t// Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\n\tgroupSegCols: function(segs) {\n\t\tvar segCols = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < this.colCnt; i++) {\n\t\t\tsegCols.push([]);\n\t\t}\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tsegCols[segs[i].col].push(segs[i]);\n\t\t}\n\n\t\treturn segCols;\n\t},\n\n\n\tsortForwardSlotSegs: function(forwardSegs) {\n\t\tforwardSegs.sort(proxy(this, 'compareForwardSlotSegs'));\n\t},\n\n\n\t// A cmp function for determining which forward segment to rely on more when computing coordinates.\n\tcompareForwardSlotSegs: function(seg1, seg2) {\n\t\t// put higher-pressure first\n\t\treturn seg2.forwardPressure - seg1.forwardPressure ||\n\t\t\t// put segments that are closer to initial edge first (and favor ones with no coords yet)\n\t\t\t(seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||\n\t\t\t// do normal sorting...\n\t\t\tthis.compareSegs(seg1, seg2);\n\t}\n\n});\n\n\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n\tvar levels = [];\n\tvar i, seg;\n\tvar j;\n\n\tfor (i=0; i<segs.length; i++) {\n\t\tseg = segs[i];\n\n\t\t// go through all the levels and stop on the first level where there are no collisions\n\t\tfor (j=0; j<levels.length; j++) {\n\t\t\tif (!computeSlotSegCollisions(seg, levels[j]).length) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tseg.level = j;\n\n\t\t(levels[j] || (levels[j] = [])).push(seg);\n\t}\n\n\treturn levels;\n}\n\n\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n\tvar i, level;\n\tvar j, seg;\n\tvar k;\n\n\tfor (i=0; i<levels.length; i++) {\n\t\tlevel = levels[i];\n\n\t\tfor (j=0; j<level.length; j++) {\n\t\t\tseg = level[j];\n\n\t\t\tseg.forwardSegs = [];\n\t\t\tfor (k=i+1; k<levels.length; k++) {\n\t\t\t\tcomputeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n\tvar forwardSegs = seg.forwardSegs;\n\tvar forwardPressure = 0;\n\tvar i, forwardSeg;\n\n\tif (seg.forwardPressure === undefined) { // not already computed\n\n\t\tfor (i=0; i<forwardSegs.length; i++) {\n\t\t\tforwardSeg = forwardSegs[i];\n\n\t\t\t// figure out the child's maximum forward path\n\t\t\tcomputeSlotSegPressures(forwardSeg);\n\n\t\t\t// either use the existing maximum, or use the child's forward pressure\n\t\t\t// plus one (for the forwardSeg itself)\n\t\t\tforwardPressure = Math.max(\n\t\t\t\tforwardPressure,\n\t\t\t\t1 + forwardSeg.forwardPressure\n\t\t\t);\n\t\t}\n\n\t\tseg.forwardPressure = forwardPressure;\n\t}\n}\n\n\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\n\tresults = results || [];\n\n\tfor (var i=0; i<otherSegs.length; i++) {\n\t\tif (isSlotSegCollision(seg, otherSegs[i])) {\n\t\t\tresults.push(otherSegs[i]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\n\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n\treturn seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n}\n\n;;\n\n/* An abstract class from which other views inherit from\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar View = fc.View = Class.extend({\n\n\ttype: null, // subclass' view name (string)\n\tname: null, // deprecated. use `type` instead\n\ttitle: null, // the text that will be displayed in the header's title\n\n\tcalendar: null, // owner Calendar object\n\toptions: null, // hash containing all options. already merged with view-specific-options\n\tcoordMap: null, // a CoordMap object for converting pixel regions to dates\n\tel: null, // the view's containing element. set by Calendar\n\n\tdisplaying: null, // a promise representing the state of rendering. null if no render requested\n\tisSkeletonRendered: false,\n\tisEventsRendered: false,\n\n\t// range the view is actually displaying (moments)\n\tstart: null,\n\tend: null, // exclusive\n\n\t// range the view is formally responsible for (moments)\n\t// may be different from start/end. for example, a month view might have 1st-31st, excluding padded dates\n\tintervalStart: null,\n\tintervalEnd: null, // exclusive\n\tintervalDuration: null,\n\tintervalUnit: null, // name of largest unit being displayed, like \"month\" or \"week\"\n\n\tisRTL: false,\n\tisSelected: false, // boolean whether a range of time is user-selected or not\n\n\teventOrderSpecs: null, // criteria for ordering events when they have same date/time\n\n\t// subclasses can optionally use a scroll container\n\tscrollerEl: null, // the element that will most likely scroll when content is too tall\n\tscrollTop: null, // cached vertical scroll value\n\n\t// classNames styled by jqui themes\n\twidgetHeaderClass: null,\n\twidgetContentClass: null,\n\thighlightStateClass: null,\n\n\t// for date utils, computed from options\n\tnextDayThreshold: null,\n\tisHiddenDayHash: null,\n\n\t// document handlers, bound to `this` object\n\tdocumentMousedownProxy: null, // TODO: doesn't work with touch\n\n\n\tconstructor: function(calendar, type, options, intervalDuration) {\n\n\t\tthis.calendar = calendar;\n\t\tthis.type = this.name = type; // .name is deprecated\n\t\tthis.options = options;\n\t\tthis.intervalDuration = intervalDuration || moment.duration(1, 'day');\n\n\t\tthis.nextDayThreshold = moment.duration(this.opt('nextDayThreshold'));\n\t\tthis.initThemingProps();\n\t\tthis.initHiddenDays();\n\t\tthis.isRTL = this.opt('isRTL');\n\n\t\tthis.eventOrderSpecs = parseFieldSpecs(this.opt('eventOrder'));\n\n\t\tthis.documentMousedownProxy = proxy(this, 'documentMousedown');\n\n\t\tthis.initialize();\n\t},\n\n\n\t// A good place for subclasses to initialize member variables\n\tinitialize: function() {\n\t\t// subclasses can implement\n\t},\n\n\n\t// Retrieves an option with the given name\n\topt: function(name) {\n\t\treturn this.options[name];\n\t},\n\n\n\t// Triggers handlers that are view-related. Modifies args before passing to calendar.\n\ttrigger: function(name, thisObj) { // arguments beyond thisObj are passed along\n\t\tvar calendar = this.calendar;\n\n\t\treturn calendar.trigger.apply(\n\t\t\tcalendar,\n\t\t\t[name, thisObj || this].concat(\n\t\t\t\tArray.prototype.slice.call(arguments, 2), // arguments beyond thisObj\n\t\t\t\t[ this ] // always make the last argument a reference to the view. TODO: deprecate\n\t\t\t)\n\t\t);\n\t},\n\n\n\t/* Dates\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Updates all internal dates to center around the given current date\n\tsetDate: function(date) {\n\t\tthis.setRange(this.computeRange(date));\n\t},\n\n\n\t// Updates all internal dates for displaying the given range.\n\t// Expects all values to be normalized (like what computeRange does).\n\tsetRange: function(range) {\n\t\t$.extend(this, range);\n\t\tthis.updateTitle();\n\t},\n\n\n\t// Given a single current date, produce information about what range to display.\n\t// Subclasses can override. Must return all properties.\n\tcomputeRange: function(date) {\n\t\tvar intervalUnit = computeIntervalUnit(this.intervalDuration);\n\t\tvar intervalStart = date.clone().startOf(intervalUnit);\n\t\tvar intervalEnd = intervalStart.clone().add(this.intervalDuration);\n\t\tvar start, end;\n\n\t\t// normalize the range's time-ambiguity\n\t\tif (/year|month|week|day/.test(intervalUnit)) { // whole-days?\n\t\t\tintervalStart.stripTime();\n\t\t\tintervalEnd.stripTime();\n\t\t}\n\t\telse { // needs to have a time?\n\t\t\tif (!intervalStart.hasTime()) {\n\t\t\t\tintervalStart = this.calendar.rezoneDate(intervalStart); // convert to current timezone, with 00:00\n\t\t\t}\n\t\t\tif (!intervalEnd.hasTime()) {\n\t\t\t\tintervalEnd = this.calendar.rezoneDate(intervalEnd); // convert to current timezone, with 00:00\n\t\t\t}\n\t\t}\n\n\t\tstart = intervalStart.clone();\n\t\tstart = this.skipHiddenDays(start);\n\t\tend = intervalEnd.clone();\n\t\tend = this.skipHiddenDays(end, -1, true); // exclusively move backwards\n\n\t\treturn {\n\t\t\tintervalUnit: intervalUnit,\n\t\t\tintervalStart: intervalStart,\n\t\t\tintervalEnd: intervalEnd,\n\t\t\tstart: start,\n\t\t\tend: end\n\t\t};\n\t},\n\n\n\t// Computes the new date when the user hits the prev button, given the current date\n\tcomputePrevDate: function(date) {\n\t\treturn this.massageCurrentDate(\n\t\t\tdate.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1\n\t\t);\n\t},\n\n\n\t// Computes the new date when the user hits the next button, given the current date\n\tcomputeNextDate: function(date) {\n\t\treturn this.massageCurrentDate(\n\t\t\tdate.clone().startOf(this.intervalUnit).add(this.intervalDuration)\n\t\t);\n\t},\n\n\n\t// Given an arbitrarily calculated current date of the calendar, returns a date that is ensured to be completely\n\t// visible. `direction` is optional and indicates which direction the current date was being\n\t// incremented or decremented (1 or -1).\n\tmassageCurrentDate: function(date, direction) {\n\t\tif (this.intervalDuration.as('days') <= 1) { // if the view displays a single day or smaller\n\t\t\tif (this.isHiddenDay(date)) {\n\t\t\t\tdate = this.skipHiddenDays(date, direction);\n\t\t\t\tdate.startOf('day');\n\t\t\t}\n\t\t}\n\n\t\treturn date;\n\t},\n\n\n\t/* Title and Date Formatting\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the view's title property to the most updated computed value\n\tupdateTitle: function() {\n\t\tthis.title = this.computeTitle();\n\t},\n\n\n\t// Computes what the title at the top of the calendar should be for this view\n\tcomputeTitle: function() {\n\t\treturn this.formatRange(\n\t\t\t{ start: this.intervalStart, end: this.intervalEnd },\n\t\t\tthis.opt('titleFormat') || this.computeTitleFormat(),\n\t\t\tthis.opt('titleRangeSeparator')\n\t\t);\n\t},\n\n\n\t// Generates the format string that should be used to generate the title for the current date range.\n\t// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n\tcomputeTitleFormat: function() {\n\t\tif (this.intervalUnit == 'year') {\n\t\t\treturn 'YYYY';\n\t\t}\n\t\telse if (this.intervalUnit == 'month') {\n\t\t\treturn this.opt('monthYearFormat'); // like \"September 2014\"\n\t\t}\n\t\telse if (this.intervalDuration.as('days') > 1) {\n\t\t\treturn 'll'; // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n\t\t}\n\t\telse {\n\t\t\treturn 'LL'; // one day. longer, like \"September 9 2014\"\n\t\t}\n\t},\n\n\n\t// Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\n\t// Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\n\tformatRange: function(range, formatStr, separator) {\n\t\tvar end = range.end;\n\n\t\tif (!end.hasTime()) { // all-day?\n\t\t\tend = end.clone().subtract(1); // convert to inclusive. last ms of previous day\n\t\t}\n\n\t\treturn formatRange(range.start, end, formatStr, separator, this.opt('isRTL'));\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the container element that the view should render inside of.\n\t// Does other DOM-related initializations.\n\tsetElement: function(el) {\n\t\tthis.el = el;\n\t\tthis.bindGlobalHandlers();\n\t},\n\n\n\t// Removes the view's container element from the DOM, clearing any content beforehand.\n\t// Undoes any other DOM-related attachments.\n\tremoveElement: function() {\n\t\tthis.clear(); // clears all content\n\n\t\t// clean up the skeleton\n\t\tif (this.isSkeletonRendered) {\n\t\t\tthis.unrenderSkeleton();\n\t\t\tthis.isSkeletonRendered = false;\n\t\t}\n\n\t\tthis.unbindGlobalHandlers();\n\n\t\tthis.el.remove();\n\n\t\t// NOTE: don't null-out this.el in case the View was destroyed within an API callback.\n\t\t// We don't null-out the View's other jQuery element references upon destroy,\n\t\t//  so we shouldn't kill this.el either.\n\t},\n\n\n\t// Does everything necessary to display the view centered around the given date.\n\t// Does every type of rendering EXCEPT rendering events.\n\t// Is asychronous and returns a promise.\n\tdisplay: function(date) {\n\t\tvar _this = this;\n\t\tvar scrollState = null;\n\n\t\tif (this.displaying) {\n\t\t\tscrollState = this.queryScroll();\n\t\t}\n\n\t\treturn this.clear().then(function() { // clear the content first (async)\n\t\t\treturn (\n\t\t\t\t_this.displaying =\n\t\t\t\t\t$.when(_this.displayView(date)) // displayView might return a promise\n\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\t_this.forceScroll(_this.computeInitialScroll(scrollState));\n\t\t\t\t\t\t\t_this.triggerRender();\n\t\t\t\t\t\t})\n\t\t\t);\n\t\t});\n\t},\n\n\n\t// Does everything necessary to clear the content of the view.\n\t// Clears dates and events. Does not clear the skeleton.\n\t// Is asychronous and returns a promise.\n\tclear: function() {\n\t\tvar _this = this;\n\t\tvar displaying = this.displaying;\n\n\t\tif (displaying) { // previously displayed, or in the process of being displayed?\n\t\t\treturn displaying.then(function() { // wait for the display to finish\n\t\t\t\t_this.displaying = null;\n\t\t\t\t_this.clearEvents();\n\t\t\t\treturn _this.clearView(); // might return a promise. chain it\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn $.when(); // an immediately-resolved promise\n\t\t}\n\t},\n\n\n\t// Displays the view's non-event content, such as date-related content or anything required by events.\n\t// Renders the view's non-content skeleton if necessary.\n\t// Can be asynchronous and return a promise.\n\tdisplayView: function(date) {\n\t\tif (!this.isSkeletonRendered) {\n\t\t\tthis.renderSkeleton();\n\t\t\tthis.isSkeletonRendered = true;\n\t\t}\n\t\tthis.setDate(date);\n\t\tif (this.render) {\n\t\t\tthis.render(); // TODO: deprecate\n\t\t}\n\t\tthis.renderDates();\n\t\tthis.updateSize();\n\t\tthis.renderBusinessHours(); // might need coordinates, so should go after updateSize()\n\t},\n\n\n\t// Unrenders the view content that was rendered in displayView.\n\t// Can be asynchronous and return a promise.\n\tclearView: function() {\n\t\tthis.unselect();\n\t\tthis.triggerUnrender();\n\t\tthis.unrenderBusinessHours();\n\t\tthis.unrenderDates();\n\t\tif (this.destroy) {\n\t\t\tthis.destroy(); // TODO: deprecate\n\t\t}\n\t},\n\n\n\t// Renders the basic structure of the view before any content is rendered\n\trenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the basic structure of the view\n\tunrenderSkeleton: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Renders the view's date-related content (like cells that represent days/times).\n\t// Assumes setRange has already been called and the skeleton has already been rendered.\n\trenderDates: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders the view's date-related content\n\tunrenderDates: function() {\n\t\t// subclasses should override\n\t},\n\n\n\t// Renders business-hours onto the view. Assumes updateSize has already been called.\n\trenderBusinessHours: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Unrenders previously-rendered business-hours\n\tunrenderBusinessHours: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Signals that the view's content has been rendered\n\ttriggerRender: function() {\n\t\tthis.trigger('viewRender', this, this, this.el);\n\t},\n\n\n\t// Signals that the view's content is about to be unrendered\n\ttriggerUnrender: function() {\n\t\tthis.trigger('viewDestroy', this, this, this.el);\n\t},\n\n\n\t// Binds DOM handlers to elements that reside outside the view container, such as the document\n\tbindGlobalHandlers: function() {\n\t\t$(document).on('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Unbinds DOM handlers from elements that reside outside the view container\n\tunbindGlobalHandlers: function() {\n\t\t$(document).off('mousedown', this.documentMousedownProxy);\n\t},\n\n\n\t// Initializes internal variables related to theming\n\tinitThemingProps: function() {\n\t\tvar tm = this.opt('theme') ? 'ui' : 'fc';\n\n\t\tthis.widgetHeaderClass = tm + '-widget-header';\n\t\tthis.widgetContentClass = tm + '-widget-content';\n\t\tthis.highlightStateClass = tm + '-state-highlight';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Refreshes anything dependant upon sizing of the container element of the grid\n\tupdateSize: function(isResize) {\n\t\tvar scrollState;\n\n\t\tif (isResize) {\n\t\t\tscrollState = this.queryScroll();\n\t\t}\n\n\t\tthis.updateHeight(isResize);\n\t\tthis.updateWidth(isResize);\n\n\t\tif (isResize) {\n\t\t\tthis.setScroll(scrollState);\n\t\t}\n\t},\n\n\n\t// Refreshes the horizontal dimensions of the calendar\n\tupdateWidth: function(isResize) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Refreshes the vertical dimensions of the calendar\n\tupdateHeight: function(isResize) {\n\t\tvar calendar = this.calendar; // we poll the calendar for height information\n\n\t\tthis.setHeight(\n\t\t\tcalendar.getSuggestedViewHeight(),\n\t\t\tcalendar.isHeightAuto()\n\t\t);\n\t},\n\n\n\t// Updates the vertical dimensions of the calendar to the specified height.\n\t// if `isAuto` is set to true, height becomes merely a suggestion and the view should use its \"natural\" height.\n\tsetHeight: function(height, isAuto) {\n\t\t// subclasses should implement\n\t},\n\n\n\t/* Scroller\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Given the total height of the view, return the number of pixels that should be used for the scroller.\n\t// Utility for subclasses.\n\tcomputeScrollerHeight: function(totalHeight) {\n\t\tvar scrollerEl = this.scrollerEl;\n\t\tvar both;\n\t\tvar otherHeight; // cumulative height of everything that is not the scrollerEl in the view (header+borders)\n\n\t\tboth = this.el.add(scrollerEl);\n\n\t\t// fuckin IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n\t\tboth.css({\n\t\t\tposition: 'relative', // cause a reflow, which will force fresh dimension recalculation\n\t\t\tleft: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n\t\t});\n\t\totherHeight = this.el.outerHeight() - scrollerEl.height(); // grab the dimensions\n\t\tboth.css({ position: '', left: '' }); // undo hack\n\n\t\treturn totalHeight - otherHeight;\n\t},\n\n\n\t// Computes the initial pre-configured scroll state prior to allowing the user to change it.\n\t// Given the scroll state from the previous rendering. If first time rendering, given null.\n\tcomputeInitialScroll: function(previousScrollState) {\n\t\treturn 0;\n\t},\n\n\n\t// Retrieves the view's current natural scroll state. Can return an arbitrary format.\n\tqueryScroll: function() {\n\t\tif (this.scrollerEl) {\n\t\t\treturn this.scrollerEl.scrollTop(); // operates on scrollerEl by default\n\t\t}\n\t},\n\n\n\t// Sets the view's scroll state. Will accept the same format computeInitialScroll and queryScroll produce.\n\tsetScroll: function(scrollState) {\n\t\tif (this.scrollerEl) {\n\t\t\treturn this.scrollerEl.scrollTop(scrollState); // operates on scrollerEl by default\n\t\t}\n\t},\n\n\n\t// Sets the scroll state, making sure to overcome any predefined scroll value the browser has in mind\n\tforceScroll: function(scrollState) {\n\t\tvar _this = this;\n\n\t\tthis.setScroll(scrollState);\n\t\tsetTimeout(function() {\n\t\t\t_this.setScroll(scrollState);\n\t\t}, 0);\n\t},\n\n\n\t/* Event Elements / Segments\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Does everything necessary to display the given events onto the current view\n\tdisplayEvents: function(events) {\n\t\tvar scrollState = this.queryScroll();\n\n\t\tthis.clearEvents();\n\t\tthis.renderEvents(events);\n\t\tthis.isEventsRendered = true;\n\t\tthis.setScroll(scrollState);\n\t\tthis.triggerEventRender();\n\t},\n\n\n\t// Does everything necessary to clear the view's currently-rendered events\n\tclearEvents: function() {\n\t\tif (this.isEventsRendered) {\n\t\t\tthis.triggerEventUnrender();\n\t\t\tif (this.destroyEvents) {\n\t\t\t\tthis.destroyEvents(); // TODO: deprecate\n\t\t\t}\n\t\t\tthis.unrenderEvents();\n\t\t\tthis.isEventsRendered = false;\n\t\t}\n\t},\n\n\n\t// Renders the events onto the view.\n\trenderEvents: function(events) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Removes event elements from the view.\n\tunrenderEvents: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Signals that all events have been rendered\n\ttriggerEventRender: function() {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tthis.trigger('eventAfterRender', seg.event, seg.event, seg.el);\n\t\t});\n\t\tthis.trigger('eventAfterAllRender');\n\t},\n\n\n\t// Signals that all event elements are about to be removed\n\ttriggerEventUnrender: function() {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tthis.trigger('eventDestroy', seg.event, seg.event, seg.el);\n\t\t});\n\t},\n\n\n\t// Given an event and the default element used for rendering, returns the element that should actually be used.\n\t// Basically runs events and elements through the eventRender hook.\n\tresolveEventEl: function(event, el) {\n\t\tvar custom = this.trigger('eventRender', event, event, el);\n\n\t\tif (custom === false) { // means don't render at all\n\t\t\tel = null;\n\t\t}\n\t\telse if (custom && custom !== true) {\n\t\t\tel = $(custom);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\n\t// Hides all rendered event segments linked to the given event\n\tshowEvent: function(event) {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tseg.el.css('visibility', '');\n\t\t}, event);\n\t},\n\n\n\t// Shows all rendered event segments linked to the given event\n\thideEvent: function(event) {\n\t\tthis.renderedEventSegEach(function(seg) {\n\t\t\tseg.el.css('visibility', 'hidden');\n\t\t}, event);\n\t},\n\n\n\t// Iterates through event segments that have been rendered (have an el). Goes through all by default.\n\t// If the optional `event` argument is specified, only iterates through segments linked to that event.\n\t// The `this` value of the callback function will be the view.\n\trenderedEventSegEach: function(func, event) {\n\t\tvar segs = this.getEventSegs();\n\t\tvar i;\n\n\t\tfor (i = 0; i < segs.length; i++) {\n\t\t\tif (!event || segs[i].event._id === event._id) {\n\t\t\t\tif (segs[i].el) {\n\t\t\t\t\tfunc.call(this, segs[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Retrieves all the rendered segment objects for the view\n\tgetEventSegs: function() {\n\t\t// subclasses must implement\n\t\treturn [];\n\t},\n\n\n\t/* Event Drag-n-Drop\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes if the given event is allowed to be dragged by the user\n\tisEventDraggable: function(event) {\n\t\tvar source = event.source || {};\n\n\t\treturn firstDefined(\n\t\t\tevent.startEditable,\n\t\t\tsource.startEditable,\n\t\t\tthis.opt('eventStartEditable'),\n\t\t\tevent.editable,\n\t\t\tsource.editable,\n\t\t\tthis.opt('editable')\n\t\t);\n\t},\n\n\n\t// Must be called when an event in the view is dropped onto new location.\n\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\treportEventDrop: function(event, dropLocation, largeUnit, el, ev) {\n\t\tvar calendar = this.calendar;\n\t\tvar mutateResult = calendar.mutateEvent(event, dropLocation, largeUnit);\n\t\tvar undoFunc = function() {\n\t\t\tmutateResult.undo();\n\t\t\tcalendar.reportEventChange();\n\t\t};\n\n\t\tthis.triggerEventDrop(event, mutateResult.dateDelta, undoFunc, el, ev);\n\t\tcalendar.reportEventChange(); // will rerender events\n\t},\n\n\n\t// Triggers event-drop handlers that have subscribed via the API\n\ttriggerEventDrop: function(event, dateDelta, undoFunc, el, ev) {\n\t\tthis.trigger('eventDrop', el[0], event, dateDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t},\n\n\n\t/* External Element Drag-n-Drop\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\n\t// `meta` is the parsed data that has been embedded into the dragging event.\n\t// `dropLocation` is an object that contains the new start/end/allDay values for the event.\n\treportExternalDrop: function(meta, dropLocation, el, ev, ui) {\n\t\tvar eventProps = meta.eventProps;\n\t\tvar eventInput;\n\t\tvar event;\n\n\t\t// Try to build an event object and render it. TODO: decouple the two\n\t\tif (eventProps) {\n\t\t\teventInput = $.extend({}, eventProps, dropLocation);\n\t\t\tevent = this.calendar.renderEvent(eventInput, meta.stick)[0]; // renderEvent returns an array\n\t\t}\n\n\t\tthis.triggerExternalDrop(event, dropLocation, el, ev, ui);\n\t},\n\n\n\t// Triggers external-drop handlers that have subscribed via the API\n\ttriggerExternalDrop: function(event, dropLocation, el, ev, ui) {\n\n\t\t// trigger 'drop' regardless of whether element represents an event\n\t\tthis.trigger('drop', el[0], dropLocation.start, ev, ui);\n\n\t\tif (event) {\n\t\t\tthis.trigger('eventReceive', null, event); // signal an external event landed\n\t\t}\n\t},\n\n\n\t/* Drag-n-Drop Rendering (for both events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a event or external-element drag over the given drop zone.\n\t// If an external-element, seg will be `null`\n\trenderDrag: function(dropLocation, seg) {\n\t\t// subclasses must implement\n\t},\n\n\n\t// Unrenders a visual indication of an event or external-element being dragged.\n\tunrenderDrag: function() {\n\t\t// subclasses must implement\n\t},\n\n\n\t/* Event Resizing\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Computes if the given event is allowed to be resized from its starting edge\n\tisEventResizableFromStart: function(event) {\n\t\treturn this.opt('eventResizableFromStart') && this.isEventResizable(event);\n\t},\n\n\n\t// Computes if the given event is allowed to be resized from its ending edge\n\tisEventResizableFromEnd: function(event) {\n\t\treturn this.isEventResizable(event);\n\t},\n\n\n\t// Computes if the given event is allowed to be resized by the user at all\n\tisEventResizable: function(event) {\n\t\tvar source = event.source || {};\n\n\t\treturn firstDefined(\n\t\t\tevent.durationEditable,\n\t\t\tsource.durationEditable,\n\t\t\tthis.opt('eventDurationEditable'),\n\t\t\tevent.editable,\n\t\t\tsource.editable,\n\t\t\tthis.opt('editable')\n\t\t);\n\t},\n\n\n\t// Must be called when an event in the view has been resized to a new length\n\treportEventResize: function(event, resizeLocation, largeUnit, el, ev) {\n\t\tvar calendar = this.calendar;\n\t\tvar mutateResult = calendar.mutateEvent(event, resizeLocation, largeUnit);\n\t\tvar undoFunc = function() {\n\t\t\tmutateResult.undo();\n\t\t\tcalendar.reportEventChange();\n\t\t};\n\n\t\tthis.triggerEventResize(event, mutateResult.durationDelta, undoFunc, el, ev);\n\t\tcalendar.reportEventChange(); // will rerender events\n\t},\n\n\n\t// Triggers event-resize handlers that have subscribed via the API\n\ttriggerEventResize: function(event, durationDelta, undoFunc, el, ev) {\n\t\tthis.trigger('eventResize', el[0], event, durationDelta, undoFunc, ev, {}); // {} = jqui dummy\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Selects a date range on the view. `start` and `end` are both Moments.\n\t// `ev` is the native mouse event that begin the interaction.\n\tselect: function(range, ev) {\n\t\tthis.unselect(ev);\n\t\tthis.renderSelection(range);\n\t\tthis.reportSelection(range, ev);\n\t},\n\n\n\t// Renders a visual indication of the selection\n\trenderSelection: function(range) {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Called when a new selection is made. Updates internal state and triggers handlers.\n\treportSelection: function(range, ev) {\n\t\tthis.isSelected = true;\n\t\tthis.triggerSelect(range, ev);\n\t},\n\n\n\t// Triggers handlers to 'select'\n\ttriggerSelect: function(range, ev) {\n\t\tthis.trigger('select', null, range.start, range.end, ev);\n\t},\n\n\n\t// Undoes a selection. updates in the internal state and triggers handlers.\n\t// `ev` is the native mouse event that began the interaction.\n\tunselect: function(ev) {\n\t\tif (this.isSelected) {\n\t\t\tthis.isSelected = false;\n\t\t\tif (this.destroySelection) {\n\t\t\t\tthis.destroySelection(); // TODO: deprecate\n\t\t\t}\n\t\t\tthis.unrenderSelection();\n\t\t\tthis.trigger('unselect', null, ev);\n\t\t}\n\t},\n\n\n\t// Unrenders a visual indication of selection\n\tunrenderSelection: function() {\n\t\t// subclasses should implement\n\t},\n\n\n\t// Handler for unselecting when the user clicks something and the 'unselectAuto' setting is on\n\tdocumentMousedown: function(ev) {\n\t\tvar ignore;\n\n\t\t// is there a selection, and has the user made a proper left click?\n\t\tif (this.isSelected && this.opt('unselectAuto') && isPrimaryMouseButton(ev)) {\n\n\t\t\t// only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\n\t\t\tignore = this.opt('unselectCancel');\n\t\t\tif (!ignore || !$(ev.target).closest(ignore).length) {\n\t\t\t\tthis.unselect(ev);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/* Day Click\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Triggers handlers to 'dayClick'\n\ttriggerDayClick: function(cell, dayEl, ev) {\n\t\tthis.trigger('dayClick', dayEl, cell.start, ev);\n\t},\n\n\n\t/* Date Utils\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Initializes internal variables related to calculating hidden days-of-week\n\tinitHiddenDays: function() {\n\t\tvar hiddenDays = this.opt('hiddenDays') || []; // array of day-of-week indices that are hidden\n\t\tvar isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n\t\tvar dayCnt = 0;\n\t\tvar i;\n\n\t\tif (this.opt('weekends') === false) {\n\t\t\thiddenDays.push(0, 6); // 0=sunday, 6=saturday\n\t\t}\n\n\t\tfor (i = 0; i < 7; i++) {\n\t\t\tif (\n\t\t\t\t!(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)\n\t\t\t) {\n\t\t\t\tdayCnt++;\n\t\t\t}\n\t\t}\n\n\t\tif (!dayCnt) {\n\t\t\tthrow 'invalid hiddenDays'; // all days were hidden? bad.\n\t\t}\n\n\t\tthis.isHiddenDayHash = isHiddenDayHash;\n\t},\n\n\n\t// Is the current day hidden?\n\t// `day` is a day-of-week index (0-6), or a Moment\n\tisHiddenDay: function(day) {\n\t\tif (moment.isMoment(day)) {\n\t\t\tday = day.day();\n\t\t}\n\t\treturn this.isHiddenDayHash[day];\n\t},\n\n\n\t// Incrementing the current day until it is no longer a hidden day, returning a copy.\n\t// If the initial value of `date` is not a hidden day, don't do anything.\n\t// Pass `isExclusive` as `true` if you are dealing with an end date.\n\t// `inc` defaults to `1` (increment one day forward each time)\n\tskipHiddenDays: function(date, inc, isExclusive) {\n\t\tvar out = date.clone();\n\t\tinc = inc || 1;\n\t\twhile (\n\t\t\tthis.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]\n\t\t) {\n\t\t\tout.add(inc, 'days');\n\t\t}\n\t\treturn out;\n\t},\n\n\n\t// Returns the date range of the full days the given range visually appears to occupy.\n\t// Returns a new range object.\n\tcomputeDayRange: function(range) {\n\t\tvar startDay = range.start.clone().stripTime(); // the beginning of the day the range starts\n\t\tvar end = range.end;\n\t\tvar endDay = null;\n\t\tvar endTimeMS;\n\n\t\tif (end) {\n\t\t\tendDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends\n\t\t\tendTimeMS = +end.time(); // # of milliseconds into `endDay`\n\n\t\t\t// If the end time is actually inclusively part of the next day and is equal to or\n\t\t\t// beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n\t\t\t// Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n\t\t\tif (endTimeMS && endTimeMS >= this.nextDayThreshold) {\n\t\t\t\tendDay.add(1, 'days');\n\t\t\t}\n\t\t}\n\n\t\t// If no end was specified, or if it is within `startDay` but not past nextDayThreshold,\n\t\t// assign the default duration of one day.\n\t\tif (!end || endDay <= startDay) {\n\t\t\tendDay = startDay.clone().add(1, 'days');\n\t\t}\n\n\t\treturn { start: startDay, end: endDay };\n\t},\n\n\n\t// Does the given event visually appear to occupy more than one day?\n\tisMultiDayEvent: function(event) {\n\t\tvar range = this.computeDayRange(event); // event is range-ish\n\n\t\treturn range.end.diff(range.start, 'days') > 1;\n\t}\n\n});\n\n;;\n\nvar Calendar = fc.Calendar = Class.extend({\n\n\tdirDefaults: null, // option defaults related to LTR or RTL\n\tlangDefaults: null, // option defaults related to current locale\n\toverrides: null, // option overrides given to the fullCalendar constructor\n\toptions: null, // all defaults combined with overrides\n\tviewSpecCache: null, // cache of view definitions\n\tview: null, // current View object\n\theader: null,\n\tloadingLevel: 0, // number of simultaneous loading tasks\n\n\n\t// a lot of this class' OOP logic is scoped within this constructor function,\n\t// but in the future, write individual methods on the prototype.\n\tconstructor: Calendar_constructor,\n\n\n\t// Subclasses can override this for initialization logic after the constructor has been called\n\tinitialize: function() {\n\t},\n\n\n\t// Initializes `this.options` and other important options-related objects\n\tinitOptions: function(overrides) {\n\t\tvar lang, langDefaults;\n\t\tvar isRTL, dirDefaults;\n\n\t\t// converts legacy options into non-legacy ones.\n\t\t// in the future, when this is removed, don't use `overrides` reference. make a copy.\n\t\toverrides = massageOverrides(overrides);\n\n\t\tlang = overrides.lang;\n\t\tlangDefaults = langOptionHash[lang];\n\t\tif (!langDefaults) {\n\t\t\tlang = Calendar.defaults.lang;\n\t\t\tlangDefaults = langOptionHash[lang] || {};\n\t\t}\n\n\t\tisRTL = firstDefined(\n\t\t\toverrides.isRTL,\n\t\t\tlangDefaults.isRTL,\n\t\t\tCalendar.defaults.isRTL\n\t\t);\n\t\tdirDefaults = isRTL ? Calendar.rtlDefaults : {};\n\n\t\tthis.dirDefaults = dirDefaults;\n\t\tthis.langDefaults = langDefaults;\n\t\tthis.overrides = overrides;\n\t\tthis.options = mergeOptions([ // merge defaults and overrides. lowest to highest precedence\n\t\t\tCalendar.defaults, // global defaults\n\t\t\tdirDefaults,\n\t\t\tlangDefaults,\n\t\t\toverrides\n\t\t]);\n\t\tpopulateInstanceComputableOptions(this.options);\n\n\t\tthis.viewSpecCache = {}; // somewhat unrelated\n\t},\n\n\n\t// Gets information about how to create a view. Will use a cache.\n\tgetViewSpec: function(viewType) {\n\t\tvar cache = this.viewSpecCache;\n\n\t\treturn cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType));\n\t},\n\n\n\t// Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n\t// Preference is given to views that have corresponding buttons.\n\tgetUnitViewSpec: function(unit) {\n\t\tvar viewTypes;\n\t\tvar i;\n\t\tvar spec;\n\n\t\tif ($.inArray(unit, intervalUnits) != -1) {\n\n\t\t\t// put views that have buttons first. there will be duplicates, but oh well\n\t\t\tviewTypes = this.header.getViewsWithButtons();\n\t\t\t$.each(fc.views, function(viewType) { // all views\n\t\t\t\tviewTypes.push(viewType);\n\t\t\t});\n\n\t\t\tfor (i = 0; i < viewTypes.length; i++) {\n\t\t\t\tspec = this.getViewSpec(viewTypes[i]);\n\t\t\t\tif (spec) {\n\t\t\t\t\tif (spec.singleUnit == unit) {\n\t\t\t\t\t\treturn spec;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Builds an object with information on how to create a given view\n\tbuildViewSpec: function(requestedViewType) {\n\t\tvar viewOverrides = this.overrides.views || {};\n\t\tvar specChain = []; // for the view. lowest to highest priority\n\t\tvar defaultsChain = []; // for the view. lowest to highest priority\n\t\tvar overridesChain = []; // for the view. lowest to highest priority\n\t\tvar viewType = requestedViewType;\n\t\tvar spec; // for the view\n\t\tvar overrides; // for the view\n\t\tvar duration;\n\t\tvar unit;\n\n\t\t// iterate from the specific view definition to a more general one until we hit an actual View class\n\t\twhile (viewType) {\n\t\t\tspec = fcViews[viewType];\n\t\t\toverrides = viewOverrides[viewType];\n\t\t\tviewType = null; // clear. might repopulate for another iteration\n\n\t\t\tif (typeof spec === 'function') { // TODO: deprecate\n\t\t\t\tspec = { 'class': spec };\n\t\t\t}\n\n\t\t\tif (spec) {\n\t\t\t\tspecChain.unshift(spec);\n\t\t\t\tdefaultsChain.unshift(spec.defaults || {});\n\t\t\t\tduration = duration || spec.duration;\n\t\t\t\tviewType = viewType || spec.type;\n\t\t\t}\n\n\t\t\tif (overrides) {\n\t\t\t\toverridesChain.unshift(overrides); // view-specific option hashes have options at zero-level\n\t\t\t\tduration = duration || overrides.duration;\n\t\t\t\tviewType = viewType || overrides.type;\n\t\t\t}\n\t\t}\n\n\t\tspec = mergeProps(specChain);\n\t\tspec.type = requestedViewType;\n\t\tif (!spec['class']) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tduration = moment.duration(duration);\n\t\t\tif (duration.valueOf()) { // valid?\n\t\t\t\tspec.duration = duration;\n\t\t\t\tunit = computeIntervalUnit(duration);\n\n\t\t\t\t// view is a single-unit duration, like \"week\" or \"day\"\n\t\t\t\t// incorporate options for this. lowest priority\n\t\t\t\tif (duration.as(unit) === 1) {\n\t\t\t\t\tspec.singleUnit = unit;\n\t\t\t\t\toverridesChain.unshift(viewOverrides[unit] || {});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tspec.defaults = mergeOptions(defaultsChain);\n\t\tspec.overrides = mergeOptions(overridesChain);\n\n\t\tthis.buildViewSpecOptions(spec);\n\t\tthis.buildViewSpecButtonText(spec, requestedViewType);\n\n\t\treturn spec;\n\t},\n\n\n\t// Builds and assigns a view spec's options object from its already-assigned defaults and overrides\n\tbuildViewSpecOptions: function(spec) {\n\t\tspec.options = mergeOptions([ // lowest to highest priority\n\t\t\tCalendar.defaults, // global defaults\n\t\t\tspec.defaults, // view's defaults (from ViewSubclass.defaults)\n\t\t\tthis.dirDefaults,\n\t\t\tthis.langDefaults, // locale and dir take precedence over view's defaults!\n\t\t\tthis.overrides, // calendar's overrides (options given to constructor)\n\t\t\tspec.overrides // view's overrides (view-specific options)\n\t\t]);\n\t\tpopulateInstanceComputableOptions(spec.options);\n\t},\n\n\n\t// Computes and assigns a view spec's buttonText-related options\n\tbuildViewSpecButtonText: function(spec, requestedViewType) {\n\n\t\t// given an options object with a possible `buttonText` hash, lookup the buttonText for the\n\t\t// requested view, falling back to a generic unit entry like \"week\" or \"day\"\n\t\tfunction queryButtonText(options) {\n\t\t\tvar buttonText = options.buttonText || {};\n\t\t\treturn buttonText[requestedViewType] ||\n\t\t\t\t(spec.singleUnit ? buttonText[spec.singleUnit] : null);\n\t\t}\n\n\t\t// highest to lowest priority\n\t\tspec.buttonTextOverride =\n\t\t\tqueryButtonText(this.overrides) || // constructor-specified buttonText lookup hash takes precedence\n\t\t\tspec.overrides.buttonText; // `buttonText` for view-specific options is a string\n\n\t\t// highest to lowest priority. mirrors buildViewSpecOptions\n\t\tspec.buttonTextDefault =\n\t\t\tqueryButtonText(this.langDefaults) ||\n\t\t\tqueryButtonText(this.dirDefaults) ||\n\t\t\tspec.defaults.buttonText || // a single string. from ViewSubclass.defaults\n\t\t\tqueryButtonText(Calendar.defaults) ||\n\t\t\t(spec.duration ? this.humanizeDuration(spec.duration) : null) || // like \"3 days\"\n\t\t\trequestedViewType; // fall back to given view name\n\t},\n\n\n\t// Given a view name for a custom view or a standard view, creates a ready-to-go View object\n\tinstantiateView: function(viewType) {\n\t\tvar spec = this.getViewSpec(viewType);\n\n\t\treturn new spec['class'](this, viewType, spec.options, spec.duration);\n\t},\n\n\n\t// Returns a boolean about whether the view is okay to instantiate at some point\n\tisValidViewType: function(viewType) {\n\t\treturn Boolean(this.getViewSpec(viewType));\n\t},\n\n\n\t// Should be called when any type of async data fetching begins\n\tpushLoading: function() {\n\t\tif (!(this.loadingLevel++)) {\n\t\t\tthis.trigger('loading', null, true, this.view);\n\t\t}\n\t},\n\n\n\t// Should be called when any type of async data fetching completes\n\tpopLoading: function() {\n\t\tif (!(--this.loadingLevel)) {\n\t\t\tthis.trigger('loading', null, false, this.view);\n\t\t}\n\t},\n\n\n\t// Given arguments to the select method in the API, returns a range\n\tbuildSelectRange: function(start, end) {\n\n\t\tstart = this.moment(start);\n\t\tif (end) {\n\t\t\tend = this.moment(end);\n\t\t}\n\t\telse if (start.hasTime()) {\n\t\t\tend = start.clone().add(this.defaultTimedEventDuration);\n\t\t}\n\t\telse {\n\t\t\tend = start.clone().add(this.defaultAllDayEventDuration);\n\t\t}\n\n\t\treturn { start: start, end: end };\n\t}\n\n});\n\n\nCalendar.mixin(Emitter);\n\n\nfunction Calendar_constructor(element, overrides) {\n\tvar t = this;\n\n\n\tt.initOptions(overrides || {});\n\tvar options = this.options;\n\n\t\n\t// Exports\n\t// -----------------------------------------------------------------------------------\n\n\tt.render = render;\n\tt.destroy = destroy;\n\tt.refetchEvents = refetchEvents;\n\tt.reportEvents = reportEvents;\n\tt.reportEventChange = reportEventChange;\n\tt.rerenderEvents = renderEvents; // `renderEvents` serves as a rerender. an API method\n\tt.changeView = renderView; // `renderView` will switch to another view\n\tt.select = select;\n\tt.unselect = unselect;\n\tt.prev = prev;\n\tt.next = next;\n\tt.prevYear = prevYear;\n\tt.nextYear = nextYear;\n\tt.today = today;\n\tt.gotoDate = gotoDate;\n\tt.incrementDate = incrementDate;\n\tt.zoomTo = zoomTo;\n\tt.getDate = getDate;\n\tt.getCalendar = getCalendar;\n\tt.getView = getView;\n\tt.option = option;\n\tt.trigger = trigger;\n\n\n\n\t// Language-data Internals\n\t// -----------------------------------------------------------------------------------\n\t// Apply overrides to the current language's data\n\n\n\tvar localeData = createObject( // make a cheap copy\n\t\tgetMomentLocaleData(options.lang) // will fall back to en\n\t);\n\n\tif (options.monthNames) {\n\t\tlocaleData._months = options.monthNames;\n\t}\n\tif (options.monthNamesShort) {\n\t\tlocaleData._monthsShort = options.monthNamesShort;\n\t}\n\tif (options.dayNames) {\n\t\tlocaleData._weekdays = options.dayNames;\n\t}\n\tif (options.dayNamesShort) {\n\t\tlocaleData._weekdaysShort = options.dayNamesShort;\n\t}\n\tif (options.firstDay != null) {\n\t\tvar _week = createObject(localeData._week); // _week: { dow: # }\n\t\t_week.dow = options.firstDay;\n\t\tlocaleData._week = _week;\n\t}\n\n\t// assign a normalized value, to be used by our .week() moment extension\n\tlocaleData._fullCalendar_weekCalc = (function(weekCalc) {\n\t\tif (typeof weekCalc === 'function') {\n\t\t\treturn weekCalc;\n\t\t}\n\t\telse if (weekCalc === 'local') {\n\t\t\treturn weekCalc;\n\t\t}\n\t\telse if (weekCalc === 'iso' || weekCalc === 'ISO') {\n\t\t\treturn 'ISO';\n\t\t}\n\t})(options.weekNumberCalculation);\n\n\n\n\t// Calendar-specific Date Utilities\n\t// -----------------------------------------------------------------------------------\n\n\n\tt.defaultAllDayEventDuration = moment.duration(options.defaultAllDayEventDuration);\n\tt.defaultTimedEventDuration = moment.duration(options.defaultTimedEventDuration);\n\n\n\t// Builds a moment using the settings of the current calendar: timezone and language.\n\t// Accepts anything the vanilla moment() constructor accepts.\n\tt.moment = function() {\n\t\tvar mom;\n\n\t\tif (options.timezone === 'local') {\n\t\t\tmom = fc.moment.apply(null, arguments);\n\n\t\t\t// Force the moment to be local, because fc.moment doesn't guarantee it.\n\t\t\tif (mom.hasTime()) { // don't give ambiguously-timed moments a local zone\n\t\t\t\tmom.local();\n\t\t\t}\n\t\t}\n\t\telse if (options.timezone === 'UTC') {\n\t\t\tmom = fc.moment.utc.apply(null, arguments); // process as UTC\n\t\t}\n\t\telse {\n\t\t\tmom = fc.moment.parseZone.apply(null, arguments); // let the input decide the zone\n\t\t}\n\n\t\tif ('_locale' in mom) { // moment 2.8 and above\n\t\t\tmom._locale = localeData;\n\t\t}\n\t\telse { // pre-moment-2.8\n\t\t\tmom._lang = localeData;\n\t\t}\n\n\t\treturn mom;\n\t};\n\n\n\t// Returns a boolean about whether or not the calendar knows how to calculate\n\t// the timezone offset of arbitrary dates in the current timezone.\n\tt.getIsAmbigTimezone = function() {\n\t\treturn options.timezone !== 'local' && options.timezone !== 'UTC';\n\t};\n\n\n\t// Returns a copy of the given date in the current timezone of it is ambiguously zoned.\n\t// This will also give the date an unambiguous time.\n\tt.rezoneDate = function(date) {\n\t\treturn t.moment(date.toArray());\n\t};\n\n\n\t// Returns a moment for the current date, as defined by the client's computer,\n\t// or overridden by the `now` option.\n\tt.getNow = function() {\n\t\tvar now = options.now;\n\t\tif (typeof now === 'function') {\n\t\t\tnow = now();\n\t\t}\n\t\treturn t.moment(now);\n\t};\n\n\n\t// Get an event's normalized end date. If not present, calculate it from the defaults.\n\tt.getEventEnd = function(event) {\n\t\tif (event.end) {\n\t\t\treturn event.end.clone();\n\t\t}\n\t\telse {\n\t\t\treturn t.getDefaultEventEnd(event.allDay, event.start);\n\t\t}\n\t};\n\n\n\t// Given an event's allDay status and start date, return swhat its fallback end date should be.\n\tt.getDefaultEventEnd = function(allDay, start) { // TODO: rename to computeDefaultEventEnd\n\t\tvar end = start.clone();\n\n\t\tif (allDay) {\n\t\t\tend.stripTime().add(t.defaultAllDayEventDuration);\n\t\t}\n\t\telse {\n\t\t\tend.add(t.defaultTimedEventDuration);\n\t\t}\n\n\t\tif (t.getIsAmbigTimezone()) {\n\t\t\tend.stripZone(); // we don't know what the tzo should be\n\t\t}\n\n\t\treturn end;\n\t};\n\n\n\t// Produces a human-readable string for the given duration.\n\t// Side-effect: changes the locale of the given duration.\n\tt.humanizeDuration = function(duration) {\n\t\treturn (duration.locale || duration.lang).call(duration, options.lang) // works moment-pre-2.8\n\t\t\t.humanize();\n\t};\n\n\n\t\n\t// Imports\n\t// -----------------------------------------------------------------------------------\n\n\n\tEventManager.call(t, options);\n\tvar isFetchNeeded = t.isFetchNeeded;\n\tvar fetchEvents = t.fetchEvents;\n\n\n\n\t// Locals\n\t// -----------------------------------------------------------------------------------\n\n\n\tvar _element = element[0];\n\tvar header;\n\tvar headerElement;\n\tvar content;\n\tvar tm; // for making theme classes\n\tvar currentView; // NOTE: keep this in sync with this.view\n\tvar viewsByType = {}; // holds all instantiated view instances, current or not\n\tvar suggestedViewHeight;\n\tvar windowResizeProxy; // wraps the windowResize function\n\tvar ignoreWindowResize = 0;\n\tvar date;\n\tvar events = [];\n\t\n\t\n\t\n\t// Main Rendering\n\t// -----------------------------------------------------------------------------------\n\n\n\tif (options.defaultDate != null) {\n\t\tdate = t.moment(options.defaultDate);\n\t}\n\telse {\n\t\tdate = t.getNow();\n\t}\n\t\n\t\n\tfunction render() {\n\t\tif (!content) {\n\t\t\tinitialRender();\n\t\t}\n\t\telse if (elementVisible()) {\n\t\t\t// mainly for the public API\n\t\t\tcalcSize();\n\t\t\trenderView();\n\t\t}\n\t}\n\t\n\t\n\tfunction initialRender() {\n\t\ttm = options.theme ? 'ui' : 'fc';\n\t\telement.addClass('fc');\n\n\t\tif (options.isRTL) {\n\t\t\telement.addClass('fc-rtl');\n\t\t}\n\t\telse {\n\t\t\telement.addClass('fc-ltr');\n\t\t}\n\n\t\tif (options.theme) {\n\t\t\telement.addClass('ui-widget');\n\t\t}\n\t\telse {\n\t\t\telement.addClass('fc-unthemed');\n\t\t}\n\n\t\tcontent = $(\"<div class='fc-view-container'/>\").prependTo(element);\n\n\t\theader = t.header = new Header(t, options);\n\t\theaderElement = header.render();\n\t\tif (headerElement) {\n\t\t\telement.prepend(headerElement);\n\t\t}\n\n\t\trenderView(options.defaultView);\n\n\t\tif (options.handleWindowResize) {\n\t\t\twindowResizeProxy = debounce(windowResize, options.windowResizeDelay); // prevents rapid calls\n\t\t\t$(window).resize(windowResizeProxy);\n\t\t}\n\t}\n\t\n\t\n\tfunction destroy() {\n\n\t\tif (currentView) {\n\t\t\tcurrentView.removeElement();\n\n\t\t\t// NOTE: don't null-out currentView/t.view in case API methods are called after destroy.\n\t\t\t// It is still the \"current\" view, just not rendered.\n\t\t}\n\n\t\theader.removeElement();\n\t\tcontent.remove();\n\t\telement.removeClass('fc fc-ltr fc-rtl fc-unthemed ui-widget');\n\n\t\tif (windowResizeProxy) {\n\t\t\t$(window).unbind('resize', windowResizeProxy);\n\t\t}\n\t}\n\t\n\t\n\tfunction elementVisible() {\n\t\treturn element.is(':visible');\n\t}\n\t\n\t\n\n\t// View Rendering\n\t// -----------------------------------------------------------------------------------\n\n\n\t// Renders a view because of a date change, view-type change, or for the first time.\n\t// If not given a viewType, keep the current view but render different dates.\n\tfunction renderView(viewType) {\n\t\tignoreWindowResize++;\n\n\t\t// if viewType is changing, remove the old view's rendering\n\t\tif (currentView && viewType && currentView.type !== viewType) {\n\t\t\theader.deactivateButton(currentView.type);\n\t\t\tfreezeContentHeight(); // prevent a scroll jump when view element is removed\n\t\t\tcurrentView.removeElement();\n\t\t\tcurrentView = t.view = null;\n\t\t}\n\n\t\t// if viewType changed, or the view was never created, create a fresh view\n\t\tif (!currentView && viewType) {\n\t\t\tcurrentView = t.view =\n\t\t\t\tviewsByType[viewType] ||\n\t\t\t\t(viewsByType[viewType] = t.instantiateView(viewType));\n\n\t\t\tcurrentView.setElement(\n\t\t\t\t$(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(content)\n\t\t\t);\n\t\t\theader.activateButton(viewType);\n\t\t}\n\n\t\tif (currentView) {\n\n\t\t\t// in case the view should render a period of time that is completely hidden\n\t\t\tdate = currentView.massageCurrentDate(date);\n\n\t\t\t// render or rerender the view\n\t\t\tif (\n\t\t\t\t!currentView.displaying ||\n\t\t\t\t!date.isWithin(currentView.intervalStart, currentView.intervalEnd) // implicit date window change\n\t\t\t) {\n\t\t\t\tif (elementVisible()) {\n\n\t\t\t\t\tfreezeContentHeight();\n\t\t\t\t\tcurrentView.display(date);\n\t\t\t\t\tunfreezeContentHeight(); // immediately unfreeze regardless of whether display is async\n\n\t\t\t\t\t// need to do this after View::render, so dates are calculated\n\t\t\t\t\tupdateHeaderTitle();\n\t\t\t\t\tupdateTodayButton();\n\n\t\t\t\t\tgetAndRenderEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tunfreezeContentHeight(); // undo any lone freezeContentHeight calls\n\t\tignoreWindowResize--;\n\t}\n\n\t\n\n\t// Resizing\n\t// -----------------------------------------------------------------------------------\n\n\n\tt.getSuggestedViewHeight = function() {\n\t\tif (suggestedViewHeight === undefined) {\n\t\t\tcalcSize();\n\t\t}\n\t\treturn suggestedViewHeight;\n\t};\n\n\n\tt.isHeightAuto = function() {\n\t\treturn options.contentHeight === 'auto' || options.height === 'auto';\n\t};\n\t\n\t\n\tfunction updateSize(shouldRecalc) {\n\t\tif (elementVisible()) {\n\n\t\t\tif (shouldRecalc) {\n\t\t\t\t_calcSize();\n\t\t\t}\n\n\t\t\tignoreWindowResize++;\n\t\t\tcurrentView.updateSize(true); // isResize=true. will poll getSuggestedViewHeight() and isHeightAuto()\n\t\t\tignoreWindowResize--;\n\n\t\t\treturn true; // signal success\n\t\t}\n\t}\n\n\n\tfunction calcSize() {\n\t\tif (elementVisible()) {\n\t\t\t_calcSize();\n\t\t}\n\t}\n\t\n\t\n\tfunction _calcSize() { // assumes elementVisible\n\t\tif (typeof options.contentHeight === 'number') { // exists and not 'auto'\n\t\t\tsuggestedViewHeight = options.contentHeight;\n\t\t}\n\t\telse if (typeof options.height === 'number') { // exists and not 'auto'\n\t\t\tsuggestedViewHeight = options.height - (headerElement ? headerElement.outerHeight(true) : 0);\n\t\t}\n\t\telse {\n\t\t\tsuggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));\n\t\t}\n\t}\n\t\n\t\n\tfunction windowResize(ev) {\n\t\tif (\n\t\t\t!ignoreWindowResize &&\n\t\t\tev.target === window && // so we don't process jqui \"resize\" events that have bubbled up\n\t\t\tcurrentView.start // view has already been rendered\n\t\t) {\n\t\t\tif (updateSize(true)) {\n\t\t\t\tcurrentView.trigger('windowResize', _element);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Event Fetching/Rendering\n\t-----------------------------------------------------------------------------*/\n\t// TODO: going forward, most of this stuff should be directly handled by the view\n\n\n\tfunction refetchEvents() { // can be called as an API method\n\t\tdestroyEvents(); // so that events are cleared before user starts waiting for AJAX\n\t\tfetchAndRenderEvents();\n\t}\n\n\n\tfunction renderEvents() { // destroys old events if previously rendered\n\t\tif (elementVisible()) {\n\t\t\tfreezeContentHeight();\n\t\t\tcurrentView.displayEvents(events);\n\t\t\tunfreezeContentHeight();\n\t\t}\n\t}\n\n\n\tfunction destroyEvents() {\n\t\tfreezeContentHeight();\n\t\tcurrentView.clearEvents();\n\t\tunfreezeContentHeight();\n\t}\n\t\n\n\tfunction getAndRenderEvents() {\n\t\tif (!options.lazyFetching || isFetchNeeded(currentView.start, currentView.end)) {\n\t\t\tfetchAndRenderEvents();\n\t\t}\n\t\telse {\n\t\t\trenderEvents();\n\t\t}\n\t}\n\n\n\tfunction fetchAndRenderEvents() {\n\t\tfetchEvents(currentView.start, currentView.end);\n\t\t\t// ... will call reportEvents\n\t\t\t// ... which will call renderEvents\n\t}\n\n\t\n\t// called when event data arrives\n\tfunction reportEvents(_events) {\n\t\tevents = _events;\n\t\trenderEvents();\n\t}\n\n\n\t// called when a single event's data has been changed\n\tfunction reportEventChange() {\n\t\trenderEvents();\n\t}\n\n\n\n\t/* Header Updating\n\t-----------------------------------------------------------------------------*/\n\n\n\tfunction updateHeaderTitle() {\n\t\theader.updateTitle(currentView.title);\n\t}\n\n\n\tfunction updateTodayButton() {\n\t\tvar now = t.getNow();\n\t\tif (now.isWithin(currentView.intervalStart, currentView.intervalEnd)) {\n\t\t\theader.disableButton('today');\n\t\t}\n\t\telse {\n\t\t\theader.enableButton('today');\n\t\t}\n\t}\n\t\n\n\n\t/* Selection\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction select(start, end) {\n\t\tcurrentView.select(\n\t\t\tt.buildSelectRange.apply(t, arguments)\n\t\t);\n\t}\n\t\n\n\tfunction unselect() { // safe to be called before renderView\n\t\tif (currentView) {\n\t\t\tcurrentView.unselect();\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Date\n\t-----------------------------------------------------------------------------*/\n\t\n\t\n\tfunction prev() {\n\t\tdate = currentView.computePrevDate(date);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction next() {\n\t\tdate = currentView.computeNextDate(date);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction prevYear() {\n\t\tdate.add(-1, 'years');\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction nextYear() {\n\t\tdate.add(1, 'years');\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction today() {\n\t\tdate = t.getNow();\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction gotoDate(dateInput) {\n\t\tdate = t.moment(dateInput);\n\t\trenderView();\n\t}\n\t\n\t\n\tfunction incrementDate(delta) {\n\t\tdate.add(moment.duration(delta));\n\t\trenderView();\n\t}\n\n\n\t// Forces navigation to a view for the given date.\n\t// `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n\tfunction zoomTo(newDate, viewType) {\n\t\tvar spec;\n\n\t\tviewType = viewType || 'day'; // day is default zoom\n\t\tspec = t.getViewSpec(viewType) || t.getUnitViewSpec(viewType);\n\n\t\tdate = newDate;\n\t\trenderView(spec ? spec.type : null);\n\t}\n\t\n\t\n\tfunction getDate() {\n\t\treturn date.clone();\n\t}\n\n\n\n\t/* Height \"Freezing\"\n\t-----------------------------------------------------------------------------*/\n\t// TODO: move this into the view\n\n\n\tfunction freezeContentHeight() {\n\t\tcontent.css({\n\t\t\twidth: '100%',\n\t\t\theight: content.height(),\n\t\t\toverflow: 'hidden'\n\t\t});\n\t}\n\n\n\tfunction unfreezeContentHeight() {\n\t\tcontent.css({\n\t\t\twidth: '',\n\t\t\theight: '',\n\t\t\toverflow: ''\n\t\t});\n\t}\n\t\n\t\n\t\n\t/* Misc\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction getCalendar() {\n\t\treturn t;\n\t}\n\n\t\n\tfunction getView() {\n\t\treturn currentView;\n\t}\n\t\n\t\n\tfunction option(name, value) {\n\t\tif (value === undefined) {\n\t\t\treturn options[name];\n\t\t}\n\t\tif (name == 'height' || name == 'contentHeight' || name == 'aspectRatio') {\n\t\t\toptions[name] = value;\n\t\t\tupdateSize(true); // true = allow recalculation of height\n\t\t}\n\t}\n\t\n\t\n\tfunction trigger(name, thisObj) { // overrides the Emitter's trigger method :(\n\t\tvar args = Array.prototype.slice.call(arguments, 2);\n\n\t\tthisObj = thisObj || _element;\n\t\tthis.triggerWith(name, thisObj, args); // Emitter's method\n\n\t\tif (options[name]) {\n\t\t\treturn options[name].apply(thisObj, args);\n\t\t}\n\t}\n\n\tt.initialize();\n}\n\n;;\n\nCalendar.defaults = {\n\n\ttitleRangeSeparator: ' \\u2014 ', // emphasized dash\n\tmonthYearFormat: 'MMMM YYYY', // required for en. other languages rely on datepicker computable option\n\n\tdefaultTimedEventDuration: '02:00:00',\n\tdefaultAllDayEventDuration: { days: 1 },\n\tforceEventDuration: false,\n\tnextDayThreshold: '09:00:00', // 9am\n\n\t// display\n\tdefaultView: 'month',\n\taspectRatio: 1.35,\n\theader: {\n\t\tleft: 'title',\n\t\tcenter: '',\n\t\tright: 'today prev,next'\n\t},\n\tweekends: true,\n\tweekNumbers: false,\n\n\tweekNumberTitle: 'W',\n\tweekNumberCalculation: 'local',\n\t\n\t//editable: false,\n\n\tscrollTime: '06:00:00',\n\t\n\t// event ajax\n\tlazyFetching: true,\n\tstartParam: 'start',\n\tendParam: 'end',\n\ttimezoneParam: 'timezone',\n\n\ttimezone: false,\n\n\t//allDayDefault: undefined,\n\n\t// locale\n\tisRTL: false,\n\tbuttonText: {\n\t\tprev: \"prev\",\n\t\tnext: \"next\",\n\t\tprevYear: \"prev year\",\n\t\tnextYear: \"next year\",\n\t\tyear: 'year', // TODO: locale files need to specify this\n\t\ttoday: 'today',\n\t\tmonth: 'month',\n\t\tweek: 'week',\n\t\tday: 'day'\n\t},\n\n\tbuttonIcons: {\n\t\tprev: 'left-single-arrow',\n\t\tnext: 'right-single-arrow',\n\t\tprevYear: 'left-double-arrow',\n\t\tnextYear: 'right-double-arrow'\n\t},\n\t\n\t// jquery-ui theming\n\ttheme: false,\n\tthemeButtonIcons: {\n\t\tprev: 'circle-triangle-w',\n\t\tnext: 'circle-triangle-e',\n\t\tprevYear: 'seek-prev',\n\t\tnextYear: 'seek-next'\n\t},\n\n\t//eventResizableFromStart: false,\n\tdragOpacity: .75,\n\tdragRevertDuration: 500,\n\tdragScroll: true,\n\t\n\t//selectable: false,\n\tunselectAuto: true,\n\t\n\tdropAccept: '*',\n\n\teventOrder: 'title',\n\n\teventLimit: false,\n\teventLimitText: 'more',\n\teventLimitClick: 'popover',\n\tdayPopoverFormat: 'LL',\n\t\n\thandleWindowResize: true,\n\twindowResizeDelay: 200 // milliseconds before an updateSize happens\n\t\n};\n\n\nCalendar.englishDefaults = { // used by lang.js\n\tdayPopoverFormat: 'dddd, MMMM D'\n};\n\n\nCalendar.rtlDefaults = { // right-to-left defaults\n\theader: { // TODO: smarter solution (first/center/last ?)\n\t\tleft: 'next,prev today',\n\t\tcenter: '',\n\t\tright: 'title'\n\t},\n\tbuttonIcons: {\n\t\tprev: 'right-single-arrow',\n\t\tnext: 'left-single-arrow',\n\t\tprevYear: 'right-double-arrow',\n\t\tnextYear: 'left-double-arrow'\n\t},\n\tthemeButtonIcons: {\n\t\tprev: 'circle-triangle-e',\n\t\tnext: 'circle-triangle-w',\n\t\tnextYear: 'seek-prev',\n\t\tprevYear: 'seek-next'\n\t}\n};\n\n;;\n\nvar langOptionHash = fc.langs = {}; // initialize and expose\n\n\n// TODO: document the structure and ordering of a FullCalendar lang file\n// TODO: rename everything \"lang\" to \"locale\", like what the moment project did\n\n\n// Initialize jQuery UI datepicker translations while using some of the translations\n// Will set this as the default language for datepicker.\nfc.datepickerLang = function(langCode, dpLangCode, dpOptions) {\n\n\t// get the FullCalendar internal option hash for this language. create if necessary\n\tvar fcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\n\t// transfer some simple options from datepicker to fc\n\tfcOptions.isRTL = dpOptions.isRTL;\n\tfcOptions.weekNumberTitle = dpOptions.weekHeader;\n\n\t// compute some more complex options from datepicker\n\t$.each(dpComputableOptions, function(name, func) {\n\t\tfcOptions[name] = func(dpOptions);\n\t});\n\n\t// is jQuery UI Datepicker is on the page?\n\tif ($.datepicker) {\n\n\t\t// Register the language data.\n\t\t// FullCalendar and MomentJS use language codes like \"pt-br\" but Datepicker\n\t\t// does it like \"pt-BR\" or if it doesn't have the language, maybe just \"pt\".\n\t\t// Make an alias so the language can be referenced either way.\n\t\t$.datepicker.regional[dpLangCode] =\n\t\t\t$.datepicker.regional[langCode] = // alias\n\t\t\t\tdpOptions;\n\n\t\t// Alias 'en' to the default language data. Do this every time.\n\t\t$.datepicker.regional.en = $.datepicker.regional[''];\n\n\t\t// Set as Datepicker's global defaults.\n\t\t$.datepicker.setDefaults(dpOptions);\n\t}\n};\n\n\n// Sets FullCalendar-specific translations. Will set the language as the global default.\nfc.lang = function(langCode, newFcOptions) {\n\tvar fcOptions;\n\tvar momOptions;\n\n\t// get the FullCalendar internal option hash for this language. create if necessary\n\tfcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});\n\n\t// provided new options for this language? merge them in\n\tif (newFcOptions) {\n\t\tfcOptions = langOptionHash[langCode] = mergeOptions([ fcOptions, newFcOptions ]);\n\t}\n\n\t// compute language options that weren't defined.\n\t// always do this. newFcOptions can be undefined when initializing from i18n file,\n\t// so no way to tell if this is an initialization or a default-setting.\n\tmomOptions = getMomentLocaleData(langCode); // will fall back to en\n\t$.each(momComputableOptions, function(name, func) {\n\t\tif (fcOptions[name] == null) {\n\t\t\tfcOptions[name] = func(momOptions, fcOptions);\n\t\t}\n\t});\n\n\t// set it as the default language for FullCalendar\n\tCalendar.defaults.lang = langCode;\n};\n\n\n// NOTE: can't guarantee any of these computations will run because not every language has datepicker\n// configs, so make sure there are English fallbacks for these in the defaults file.\nvar dpComputableOptions = {\n\n\tbuttonText: function(dpOptions) {\n\t\treturn {\n\t\t\t// the translations sometimes wrongly contain HTML entities\n\t\t\tprev: stripHtmlEntities(dpOptions.prevText),\n\t\t\tnext: stripHtmlEntities(dpOptions.nextText),\n\t\t\ttoday: stripHtmlEntities(dpOptions.currentText)\n\t\t};\n\t},\n\n\t// Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\n\tmonthYearFormat: function(dpOptions) {\n\t\treturn dpOptions.showMonthAfterYear ?\n\t\t\t'YYYY[' + dpOptions.yearSuffix + '] MMMM' :\n\t\t\t'MMMM YYYY[' + dpOptions.yearSuffix + ']';\n\t}\n\n};\n\nvar momComputableOptions = {\n\n\t// Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\n\tdayOfMonthFormat: function(momOptions, fcOptions) {\n\t\tvar format = momOptions.longDateFormat('l'); // for the format like \"M/D/YYYY\"\n\n\t\t// strip the year off the edge, as well as other misc non-whitespace chars\n\t\tformat = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '');\n\n\t\tif (fcOptions.isRTL) {\n\t\t\tformat += ' ddd'; // for RTL, add day-of-week to end\n\t\t}\n\t\telse {\n\t\t\tformat = 'ddd ' + format; // for LTR, add day-of-week to beginning\n\t\t}\n\t\treturn format;\n\t},\n\n\t// Produces format strings like \"h:mma\" -> \"6:00pm\"\n\tmediumTimeFormat: function(momOptions) { // can't be called `timeFormat` because collides with option\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\n\tsmallTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '(:mm)')\n\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\n\textraSmallTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '(:mm)')\n\t\t\t.replace(/(\\Wmm)$/, '($1)') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 't'); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\n\thourFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(':mm', '')\n\t\t\t.replace(/(\\Wmm)$/, '') // like above, but for foreign langs\n\t\t\t.replace(/\\s*a$/i, 'a'); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n\t},\n\n\t// Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\n\tnoMeridiemTimeFormat: function(momOptions) {\n\t\treturn momOptions.longDateFormat('LT')\n\t\t\t.replace(/\\s*a$/i, ''); // remove trailing AM/PM\n\t}\n\n};\n\n\n// options that should be computed off live calendar options (considers override options)\nvar instanceComputableOptions = { // TODO: best place for this? related to lang?\n\n\t// Produces format strings for results like \"Mo 16\"\n\tsmallDayDateFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'D dd' :\n\t\t\t'dd D';\n\t},\n\n\t// Produces format strings for results like \"Wk 5\"\n\tweekFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'w[ ' + options.weekNumberTitle + ']' :\n\t\t\t'[' + options.weekNumberTitle + ' ]w';\n\t},\n\n\t// Produces format strings for results like \"Wk5\"\n\tsmallWeekFormat: function(options) {\n\t\treturn options.isRTL ?\n\t\t\t'w[' + options.weekNumberTitle + ']' :\n\t\t\t'[' + options.weekNumberTitle + ']w';\n\t}\n\n};\n\nfunction populateInstanceComputableOptions(options) {\n\t$.each(instanceComputableOptions, function(name, func) {\n\t\tif (options[name] == null) {\n\t\t\toptions[name] = func(options);\n\t\t}\n\t});\n}\n\n\n// Returns moment's internal locale data. If doesn't exist, returns English.\n// Works with moment-pre-2.8\nfunction getMomentLocaleData(langCode) {\n\tvar func = moment.localeData || moment.langData;\n\treturn func.call(moment, langCode) ||\n\t\tfunc.call(moment, 'en'); // the newer localData could return null, so fall back to en\n}\n\n\n// Initialize English by forcing computation of moment-derived options.\n// Also, sets it as the default.\nfc.lang('en', Calendar.englishDefaults);\n\n;;\n\n/* Top toolbar area with buttons and title\n----------------------------------------------------------------------------------------------------------------------*/\n// TODO: rename all header-related things to \"toolbar\"\n\nfunction Header(calendar, options) {\n\tvar t = this;\n\t\n\t// exports\n\tt.render = render;\n\tt.removeElement = removeElement;\n\tt.updateTitle = updateTitle;\n\tt.activateButton = activateButton;\n\tt.deactivateButton = deactivateButton;\n\tt.disableButton = disableButton;\n\tt.enableButton = enableButton;\n\tt.getViewsWithButtons = getViewsWithButtons;\n\t\n\t// locals\n\tvar el = $();\n\tvar viewsWithButtons = [];\n\tvar tm;\n\n\n\tfunction render() {\n\t\tvar sections = options.header;\n\n\t\ttm = options.theme ? 'ui' : 'fc';\n\n\t\tif (sections) {\n\t\t\tel = $(\"<div class='fc-toolbar'/>\")\n\t\t\t\t.append(renderSection('left'))\n\t\t\t\t.append(renderSection('right'))\n\t\t\t\t.append(renderSection('center'))\n\t\t\t\t.append('<div class=\"fc-clear\"/>');\n\n\t\t\treturn el;\n\t\t}\n\t}\n\t\n\t\n\tfunction removeElement() {\n\t\tel.remove();\n\t\tel = $();\n\t}\n\t\n\t\n\tfunction renderSection(position) {\n\t\tvar sectionEl = $('<div class=\"fc-' + position + '\"/>');\n\t\tvar buttonStr = options.header[position];\n\n\t\tif (buttonStr) {\n\t\t\t$.each(buttonStr.split(' '), function(i) {\n\t\t\t\tvar groupChildren = $();\n\t\t\t\tvar isOnlyButtons = true;\n\t\t\t\tvar groupEl;\n\n\t\t\t\t$.each(this.split(','), function(j, buttonName) {\n\t\t\t\t\tvar customButtonProps;\n\t\t\t\t\tvar viewSpec;\n\t\t\t\t\tvar buttonClick;\n\t\t\t\t\tvar overrideText; // text explicitly set by calendar's constructor options. overcomes icons\n\t\t\t\t\tvar defaultText;\n\t\t\t\t\tvar themeIcon;\n\t\t\t\t\tvar normalIcon;\n\t\t\t\t\tvar innerHtml;\n\t\t\t\t\tvar classes;\n\t\t\t\t\tvar button; // the element\n\n\t\t\t\t\tif (buttonName == 'title') {\n\t\t\t\t\t\tgroupChildren = groupChildren.add($('<h2>&nbsp;</h2>')); // we always want it to take up height\n\t\t\t\t\t\tisOnlyButtons = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ((customButtonProps = (calendar.options.customButtons || {})[buttonName])) {\n\t\t\t\t\t\t\tbuttonClick = function(ev) {\n\t\t\t\t\t\t\t\tif (customButtonProps.click) {\n\t\t\t\t\t\t\t\t\tcustomButtonProps.click.call(button[0], ev);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverrideText = ''; // icons will override text\n\t\t\t\t\t\t\tdefaultText = customButtonProps.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((viewSpec = calendar.getViewSpec(buttonName))) {\n\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\tcalendar.changeView(buttonName);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tviewsWithButtons.push(buttonName);\n\t\t\t\t\t\t\toverrideText = viewSpec.buttonTextOverride;\n\t\t\t\t\t\t\tdefaultText = viewSpec.buttonTextDefault;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (calendar[buttonName]) { // a calendar method\n\t\t\t\t\t\t\tbuttonClick = function() {\n\t\t\t\t\t\t\t\tcalendar[buttonName]();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\toverrideText = (calendar.overrides.buttonText || {})[buttonName];\n\t\t\t\t\t\t\tdefaultText = options.buttonText[buttonName]; // everything else is considered default\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (buttonClick) {\n\n\t\t\t\t\t\t\tthemeIcon =\n\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\tcustomButtonProps.themeIcon :\n\t\t\t\t\t\t\t\t\toptions.themeButtonIcons[buttonName];\n\n\t\t\t\t\t\t\tnormalIcon =\n\t\t\t\t\t\t\t\tcustomButtonProps ?\n\t\t\t\t\t\t\t\t\tcustomButtonProps.icon :\n\t\t\t\t\t\t\t\t\toptions.buttonIcons[buttonName];\n\n\t\t\t\t\t\t\tif (overrideText) {\n\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(overrideText);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (themeIcon && options.theme) {\n\t\t\t\t\t\t\t\tinnerHtml = \"<span aria-hidden='true' class='ui-icon ui-icon-\" + themeIcon + \"'></span>\";\n\t\t\t\t\t\t\t\tif (options.buttonSRText[buttonName]) {\n\t\t\t\t\t\t\t\t\tinnerHtml += \"<span class='screenreader-only'>\" + htmlEscape(options.buttonSRText[buttonName]) + \"</span>\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (normalIcon && !options.theme) {\n\t\t\t\t\t\t\t\tinnerHtml = \"<span aria-hidden='true' class='fc-icon fc-icon-\" + normalIcon + \"'></span>\";\n\t\t\t\t\t\t\t\tif (options.buttonSRText[buttonName]) {\n\t\t\t\t\t\t\t\t\tinnerHtml += \"<span class='screenreader-only'>\" + htmlEscape(options.buttonSRText[buttonName]) + \"</span>\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tinnerHtml = htmlEscape(defaultText);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tclasses = [\n\t\t\t\t\t\t\t\t'fc-' + buttonName + '-button',\n\t\t\t\t\t\t\t\ttm + '-button',\n\t\t\t\t\t\t\t\ttm + '-state-default'\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\tbutton = $( // type=\"button\" so that it doesn't submit a form\n\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"' + classes.join(' ') + '\">' +\n\t\t\t\t\t\t\t\t\tinnerHtml +\n\t\t\t\t\t\t\t\t'</button>'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.click(function(ev) {\n\t\t\t\t\t\t\t\t\t// don't process clicks for disabled buttons\n\t\t\t\t\t\t\t\t\tif (!button.hasClass(tm + '-state-disabled')) {\n\n\t\t\t\t\t\t\t\t\t\tbuttonClick(ev);\n\n\t\t\t\t\t\t\t\t\t\t// after the click action, if the button becomes the \"active\" tab, or disabled,\n\t\t\t\t\t\t\t\t\t\t// it should never have a hover class, so remove it now.\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-active') ||\n\t\t\t\t\t\t\t\t\t\t\tbutton.hasClass(tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.mousedown(function() {\n\t\t\t\t\t\t\t\t\t// the *down* effect (mouse pressed in).\n\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.mouseup(function() {\n\t\t\t\t\t\t\t\t\t// undo the *down* effect\n\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-down');\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.hover(\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t// the *hover* effect.\n\t\t\t\t\t\t\t\t\t\t// only on buttons that are not the \"active\" tab, or disabled\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')\n\t\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-hover');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t// undo the *hover* effect\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-hover')\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-down'); // if mouseleave happens before mouseup\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tgroupChildren = groupChildren.add(button);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\tgroupChildren\n\t\t\t\t\t\t.first().addClass(tm + '-corner-left').end()\n\t\t\t\t\t\t.last().addClass(tm + '-corner-right').end();\n\t\t\t\t}\n\n\t\t\t\tif (groupChildren.length > 1) {\n\t\t\t\t\tgroupEl = $('<div/>');\n\t\t\t\t\tif (isOnlyButtons) {\n\t\t\t\t\t\tgroupEl.addClass('fc-button-group');\n\t\t\t\t\t}\n\t\t\t\t\tgroupEl.append(groupChildren);\n\t\t\t\t\tsectionEl.append(groupEl);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsectionEl.append(groupChildren); // 1 or 0 children\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn sectionEl;\n\t}\n\t\n\t\n\tfunction updateTitle(text) {\n\t\tel.find('h2').text(text);\n\t}\n\t\n\t\n\tfunction activateButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.addClass(tm + '-state-active');\n\t}\n\t\n\t\n\tfunction deactivateButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.removeClass(tm + '-state-active');\n\t}\n\t\n\t\n\tfunction disableButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.attr('disabled', 'disabled')\n\t\t\t.addClass(tm + '-state-disabled');\n\t}\n\t\n\t\n\tfunction enableButton(buttonName) {\n\t\tel.find('.fc-' + buttonName + '-button')\n\t\t\t.removeAttr('disabled')\n\t\t\t.removeClass(tm + '-state-disabled');\n\t}\n\n\n\tfunction getViewsWithButtons() {\n\t\treturn viewsWithButtons;\n\t}\n\n}\n\n;;\n\nfc.sourceNormalizers = [];\nfc.sourceFetchers = [];\n\nvar ajaxDefaults = {\n\tdataType: 'json',\n\tcache: false\n};\n\nvar eventGUID = 1;\n\n\nfunction EventManager(options) { // assumed to be a calendar\n\tvar t = this;\n\t\n\t\n\t// exports\n\tt.isFetchNeeded = isFetchNeeded;\n\tt.fetchEvents = fetchEvents;\n\tt.addEventSource = addEventSource;\n\tt.removeEventSource = removeEventSource;\n\tt.updateEvent = updateEvent;\n\tt.renderEvent = renderEvent;\n\tt.removeEvents = removeEvents;\n\tt.clientEvents = clientEvents;\n\tt.mutateEvent = mutateEvent;\n\tt.normalizeEventRange = normalizeEventRange;\n\tt.normalizeEventRangeTimes = normalizeEventRangeTimes;\n\tt.ensureVisibleEventRange = ensureVisibleEventRange;\n\t\n\t\n\t// imports\n\tvar reportEvents = t.reportEvents;\n\t\n\t\n\t// locals\n\tvar stickySource = { events: [] };\n\tvar sources = [ stickySource ];\n\tvar rangeStart, rangeEnd;\n\tvar currentFetchID = 0;\n\tvar pendingSourceCnt = 0;\n\tvar cache = []; // holds events that have already been expanded\n\n\n\t$.each(\n\t\t(options.events ? [ options.events ] : []).concat(options.eventSources || []),\n\t\tfunction(i, sourceInput) {\n\t\t\tvar source = buildEventSource(sourceInput);\n\t\t\tif (source) {\n\t\t\t\tsources.push(source);\n\t\t\t}\n\t\t}\n\t);\n\t\n\t\n\t\n\t/* Fetching\n\t-----------------------------------------------------------------------------*/\n\t\n\t\n\tfunction isFetchNeeded(start, end) {\n\t\treturn !rangeStart || // nothing has been fetched yet?\n\t\t\t// or, a part of the new range is outside of the old range? (after normalizing)\n\t\t\tstart.clone().stripZone() < rangeStart.clone().stripZone() ||\n\t\t\tend.clone().stripZone() > rangeEnd.clone().stripZone();\n\t}\n\t\n\t\n\tfunction fetchEvents(start, end) {\n\t\trangeStart = start;\n\t\trangeEnd = end;\n\t\tcache = [];\n\t\tvar fetchID = ++currentFetchID;\n\t\tvar len = sources.length;\n\t\tpendingSourceCnt = len;\n\t\tfor (var i=0; i<len; i++) {\n\t\t\tfetchEventSource(sources[i], fetchID);\n\t\t}\n\t}\n\t\n\t\n\tfunction fetchEventSource(source, fetchID) {\n\t\t_fetchEventSource(source, function(eventInputs) {\n\t\t\tvar isArraySource = $.isArray(source.events);\n\t\t\tvar i, eventInput;\n\t\t\tvar abstractEvent;\n\n\t\t\tif (fetchID == currentFetchID) {\n\n\t\t\t\tif (eventInputs) {\n\t\t\t\t\tfor (i = 0; i < eventInputs.length; i++) {\n\t\t\t\t\t\teventInput = eventInputs[i];\n\n\t\t\t\t\t\tif (isArraySource) { // array sources have already been convert to Event Objects\n\t\t\t\t\t\t\tabstractEvent = eventInput;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tabstractEvent = buildEventFromInput(eventInput, source);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (abstractEvent) { // not false (an invalid event)\n\t\t\t\t\t\t\tcache.push.apply(\n\t\t\t\t\t\t\t\tcache,\n\t\t\t\t\t\t\t\texpandEvent(abstractEvent) // add individual expanded events to the cache\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpendingSourceCnt--;\n\t\t\t\tif (!pendingSourceCnt) {\n\t\t\t\t\treportEvents(cache);\n\t\t\t\t}\n\t\t\t}\n\t\t}, function(eventInputs) {\n\t\t\tif (fetchID == currentFetchID) {\n\t\t\t\tfor (i = 0; i < eventInputs.length; i++) {\n\t\t\t\t\tcacheEvent(eventInputs[i]);\n\t\t\t\t}\n\t\t\t\treportEvents(cache);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tfunction _fetchEventSource(source, callback, dataCallback) {\n\t\tvar i;\n\t\tvar fetchers = fc.sourceFetchers;\n\t\tvar res;\n\n\t\tfor (i=0; i<fetchers.length; i++) {\n\t\t\tres = fetchers[i].call(\n\t\t\t\tt, // this, the Calendar object\n\t\t\t\tsource,\n\t\t\t\trangeStart.clone(),\n\t\t\t\trangeEnd.clone(),\n\t\t\t\toptions.timezone,\n\t\t\t\tcallback\n\t\t\t);\n\n\t\t\tif (res === true) {\n\t\t\t\t// the fetcher is in charge. made its own async request\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof res == 'object') {\n\t\t\t\t// the fetcher returned a new source. process it\n\t\t\t\t_fetchEventSource(res, callback);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar events = source.events;\n\t\tif (events) {\n\t\t\tif ($.isFunction(events)) {\n\t\t\t\tt.pushLoading();\n\t\t\t\tevents.call(\n\t\t\t\t\tt, // this, the Calendar object\n\t\t\t\t\trangeStart.clone(),\n\t\t\t\t\trangeEnd.clone(),\n\t\t\t\t\toptions.timezone,\n\t\t\t\t\tfunction(events) {\n\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t},\n\t\t\t\t\tdataCallback\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if ($.isArray(events)) {\n\t\t\t\tcallback(events);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}else{\n\t\t\tvar url = source.url;\n\t\t\tif (url) {\n\t\t\t\tvar success = source.success;\n\t\t\t\tvar error = source.error;\n\t\t\t\tvar complete = source.complete;\n\n\t\t\t\t// retrieve any outbound GET/POST $.ajax data from the options\n\t\t\t\tvar customData;\n\t\t\t\tif ($.isFunction(source.data)) {\n\t\t\t\t\t// supplied as a function that returns a key/value object\n\t\t\t\t\tcustomData = source.data();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// supplied as a straight key/value object\n\t\t\t\t\tcustomData = source.data;\n\t\t\t\t}\n\n\t\t\t\t// use a copy of the custom data so we can modify the parameters\n\t\t\t\t// and not affect the passed-in object.\n\t\t\t\tvar data = $.extend({}, customData || {});\n\n\t\t\t\tvar startParam = firstDefined(source.startParam, options.startParam);\n\t\t\t\tvar endParam = firstDefined(source.endParam, options.endParam);\n\t\t\t\tvar timezoneParam = firstDefined(source.timezoneParam, options.timezoneParam);\n\n\t\t\t\tif (startParam) {\n\t\t\t\t\tdata[startParam] = rangeStart.format();\n\t\t\t\t}\n\t\t\t\tif (endParam) {\n\t\t\t\t\tdata[endParam] = rangeEnd.format();\n\t\t\t\t}\n\t\t\t\tif (options.timezone && options.timezone != 'local') {\n\t\t\t\t\tdata[timezoneParam] = options.timezone;\n\t\t\t\t}\n\n\t\t\t\tt.pushLoading();\n\t\t\t\t$.ajax($.extend({}, ajaxDefaults, source, {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tsuccess: function(events) {\n\t\t\t\t\t\tevents = events || [];\n\t\t\t\t\t\tvar res = applyAll(success, this, arguments);\n\t\t\t\t\t\tif ($.isArray(res)) {\n\t\t\t\t\t\t\tevents = res;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback(events);\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tapplyAll(error, this, arguments);\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\tapplyAll(complete, this, arguments);\n\t\t\t\t\t\tt.popLoading();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}else{\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t\n\t/* Sources\n\t-----------------------------------------------------------------------------*/\n\t\n\n\tfunction addEventSource(sourceInput) {\n\t\tvar source = buildEventSource(sourceInput);\n\t\tif (source) {\n\t\t\tsources.push(source);\n\t\t\tpendingSourceCnt++;\n\t\t\tfetchEventSource(source, currentFetchID); // will eventually call reportEvents\n\t\t}\n\t}\n\n\n\tfunction buildEventSource(sourceInput) { // will return undefined if invalid source\n\t\tvar normalizers = fc.sourceNormalizers;\n\t\tvar source;\n\t\tvar i;\n\n\t\tif ($.isFunction(sourceInput) || $.isArray(sourceInput)) {\n\t\t\tsource = { events: sourceInput };\n\t\t}\n\t\telse if (typeof sourceInput === 'string') {\n\t\t\tsource = { url: sourceInput };\n\t\t}\n\t\telse if (typeof sourceInput === 'object') {\n\t\t\tsource = $.extend({}, sourceInput); // shallow copy\n\t\t}\n\n\t\tif (source) {\n\n\t\t\t// TODO: repeat code, same code for event classNames\n\t\t\tif (source.className) {\n\t\t\t\tif (typeof source.className === 'string') {\n\t\t\t\t\tsource.className = source.className.split(/\\s+/);\n\t\t\t\t}\n\t\t\t\t// otherwise, assumed to be an array\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsource.className = [];\n\t\t\t}\n\n\t\t\t// for array sources, we convert to standard Event Objects up front\n\t\t\tif ($.isArray(source.events)) {\n\t\t\t\tsource.origArray = source.events; // for removeEventSource\n\t\t\t\tsource.events = $.map(source.events, function(eventInput) {\n\t\t\t\t\treturn buildEventFromInput(eventInput, source);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (i=0; i<normalizers.length; i++) {\n\t\t\t\tnormalizers[i].call(t, source);\n\t\t\t}\n\n\t\t\treturn source;\n\t\t}\n\t}\n\n\n\tfunction removeEventSource(source) {\n\t\tsources = $.grep(sources, function(src) {\n\t\t\treturn !isSourcesEqual(src, source);\n\t\t});\n\t\t// remove all client events from that source\n\t\tcache = $.grep(cache, function(e) {\n\t\t\treturn !isSourcesEqual(e.source, source);\n\t\t});\n\t\treportEvents(cache);\n\t}\n\n\n\tfunction isSourcesEqual(source1, source2) {\n\t\treturn source1 && source2 && getSourcePrimitive(source1) == getSourcePrimitive(source2);\n\t}\n\n\n\tfunction getSourcePrimitive(source) {\n\t\treturn (\n\t\t\t(typeof source === 'object') ? // a normalized event source?\n\t\t\t\t(source.origArray || source.googleCalendarId || source.url || source.events) : // get the primitive\n\t\t\t\tnull\n\t\t) ||\n\t\tsource; // the given argument *is* the primitive\n\t}\n\t\n\t\n\t\n\t/* Manipulation\n\t-----------------------------------------------------------------------------*/\n\n\n\t// Only ever called from the externally-facing API\n\tfunction updateEvent(event) {\n\n\t\t// massage start/end values, even if date string values\n\t\tevent.start = t.moment(event.start);\n\t\tif (event.end) {\n\t\t\tevent.end = t.moment(event.end);\n\t\t}\n\t\telse {\n\t\t\tevent.end = null;\n\t\t}\n\n\t\tmutateEvent(event, getMiscEventProps(event)); // will handle start/end/allDay normalization\n\t\treportEvents(cache); // reports event modifications (so we can redraw)\n\t}\n\n\n\t// Returns a hash of misc event properties that should be copied over to related events.\n\tfunction getMiscEventProps(event) {\n\t\tvar props = {};\n\n\t\t$.each(event, function(name, val) {\n\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\tif (val !== undefined && isAtomic(val)) { // a defined non-object\n\t\t\t\t\tprops[name] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn props;\n\t}\n\n\t// non-date-related, non-id-related, non-secret\n\tfunction isMiscEventPropName(name) {\n\t\treturn !/^_|^(id|allDay|start|end)$/.test(name);\n\t}\n\n\t// returns the expanded events that were created\n\t// identical to renderEvent, but without the reportEvents(cache) at the end\n\tfunction cacheEvent(eventInput, stick) {\n\t\tvar abstractEvent = buildEventFromInput(eventInput);\n\t\tvar events;\n\t\tvar i, event;\n\n\t\tif (abstractEvent) { // not false (a valid input)\n\t\t\tevents = expandEvent(abstractEvent);\n\n\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\tevent = events[i];\n\n\t\t\t\tif (!event.source) {\n\t\t\t\t\tif (stick) {\n\t\t\t\t\t\tstickySource.events.push(event);\n\t\t\t\t\t\tevent.source = stickySource;\n\t\t\t\t\t}\n\t\t\t\t\tcache.push(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\t// returns the expanded events that were created\n\tfunction renderEvent(eventInput, stick) {\n\t\tvar abstractEvent = buildEventFromInput(eventInput);\n\t\tvar events;\n\t\tvar i, event;\n\n\t\tif (abstractEvent) { // not false (a valid input)\n\t\t\tevents = expandEvent(abstractEvent);\n\n\t\t\tfor (i = 0; i < events.length; i++) {\n\t\t\t\tevent = events[i];\n\n\t\t\t\tif (!event.source) {\n\t\t\t\t\tif (stick) {\n\t\t\t\t\t\tstickySource.events.push(event);\n\t\t\t\t\t\tevent.source = stickySource;\n\t\t\t\t\t}\n\t\t\t\t\tcache.push(event);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treportEvents(cache);\n\n\t\t\treturn events;\n\t\t}\n\n\t\treturn [];\n\t}\n\t\n\t\n\tfunction removeEvents(filter) {\n\t\tvar eventID;\n\t\tvar i;\n\n\t\tif (filter == null) { // null or undefined. remove all events\n\t\t\tfilter = function() { return true; }; // will always match\n\t\t}\n\t\telse if (!$.isFunction(filter)) { // an event ID\n\t\t\teventID = filter + '';\n\t\t\tfilter = function(event) {\n\t\t\t\treturn event._id == eventID;\n\t\t\t};\n\t\t}\n\n\t\t// Purge event(s) from our local cache\n\t\tcache = $.grep(cache, filter, true); // inverse=true\n\n\t\t// Remove events from array sources.\n\t\t// This works because they have been converted to official Event Objects up front.\n\t\t// (and as a result, event._id has been calculated).\n\t\tfor (i=0; i<sources.length; i++) {\n\t\t\tif ($.isArray(sources[i].events)) {\n\t\t\t\tsources[i].events = $.grep(sources[i].events, filter, true);\n\t\t\t}\n\t\t}\n\n\t\treportEvents(cache);\n\t}\n\t\n\t\n\tfunction clientEvents(filter) {\n\t\tif ($.isFunction(filter)) {\n\t\t\treturn $.grep(cache, filter);\n\t\t}\n\t\telse if (filter != null) { // not null, not undefined. an event ID\n\t\t\tfilter += '';\n\t\t\treturn $.grep(cache, function(e) {\n\t\t\t\treturn e._id == filter;\n\t\t\t});\n\t\t}\n\t\treturn cache; // else, return all\n\t}\n\t\n\t\n\t\n\t/* Event Normalization\n\t-----------------------------------------------------------------------------*/\n\n\n\t// Given a raw object with key/value properties, returns an \"abstract\" Event object.\n\t// An \"abstract\" event is an event that, if recurring, will not have been expanded yet.\n\t// Will return `false` when input is invalid.\n\t// `source` is optional\n\tfunction buildEventFromInput(input, source) {\n\t\tvar out = {};\n\t\tvar start, end;\n\t\tvar allDay;\n\n\t\tif (options.eventDataTransform) {\n\t\t\tinput = options.eventDataTransform(input);\n\t\t}\n\t\tif (source && source.eventDataTransform) {\n\t\t\tinput = source.eventDataTransform(input);\n\t\t}\n\n\t\t// Copy all properties over to the resulting object.\n\t\t// The special-case properties will be copied over afterwards.\n\t\t$.extend(out, input);\n\n\t\tif (source) {\n\t\t\tout.source = source;\n\t\t}\n\n\t\tout._id = input._id || (input.id === undefined ? '_fc' + eventGUID++ : input.id + '');\n\n\t\tif (input.className) {\n\t\t\tif (typeof input.className == 'string') {\n\t\t\t\tout.className = input.className.split(/\\s+/);\n\t\t\t}\n\t\t\telse { // assumed to be an array\n\t\t\t\tout.className = input.className;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tout.className = [];\n\t\t}\n\n\t\tstart = input.start || input.date; // \"date\" is an alias for \"start\"\n\t\tend = input.end;\n\n\t\t// parse as a time (Duration) if applicable\n\t\tif (isTimeString(start)) {\n\t\t\tstart = moment.duration(start);\n\t\t}\n\t\tif (isTimeString(end)) {\n\t\t\tend = moment.duration(end);\n\t\t}\n\n\t\tif (input.dow || moment.isDuration(start) || moment.isDuration(end)) {\n\n\t\t\t// the event is \"abstract\" (recurring) so don't calculate exact start/end dates just yet\n\t\t\tout.start = start ? moment.duration(start) : null; // will be a Duration or null\n\t\t\tout.end = end ? moment.duration(end) : null; // will be a Duration or null\n\t\t\tout._recurring = true; // our internal marker\n\t\t}\n\t\telse {\n\n\t\t\tif (start) {\n\t\t\t\tstart = t.moment(start);\n\t\t\t\tif (!start.isValid()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (end) {\n\t\t\t\tend = t.moment(end);\n\t\t\t\tif (!end.isValid()) {\n\t\t\t\t\tend = null; // let defaults take over\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tallDay = input.allDay;\n\t\t\tif (allDay === undefined) { // still undefined? fallback to default\n\t\t\t\tallDay = firstDefined(\n\t\t\t\t\tsource ? source.allDayDefault : undefined,\n\t\t\t\t\toptions.allDayDefault\n\t\t\t\t);\n\t\t\t\t// still undefined? normalizeEventRange will calculate it\n\t\t\t}\n\n\t\t\tassignDatesToEvent(start, end, allDay, out);\n\t\t}\n\n\t\treturn out;\n\t}\n\n\n\t// Normalizes and assigns the given dates to the given partially-formed event object.\n\t// NOTE: mutates the given start/end moments. does not make a copy.\n\tfunction assignDatesToEvent(start, end, allDay, event) {\n\t\tevent.start = start;\n\t\tevent.end = end;\n\t\tevent.allDay = allDay;\n\t\tnormalizeEventRange(event);\n\t\tbackupEventDates(event);\n\t}\n\n\n\t// Ensures proper values for allDay/start/end. Accepts an Event object, or a plain object with event-ish properties.\n\t// NOTE: Will modify the given object.\n\tfunction normalizeEventRange(props) {\n\n\t\tnormalizeEventRangeTimes(props);\n\n\t\tif (props.end && !props.end.isAfter(props.start)) {\n\t\t\tprops.end = null;\n\t\t}\n\n\t\tif (!props.end) {\n\t\t\tif (options.forceEventDuration) {\n\t\t\t\tprops.end = t.getDefaultEventEnd(props.allDay, props.start);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops.end = null;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// Ensures the allDay property exists and the timeliness of the start/end dates are consistent\n\tfunction normalizeEventRangeTimes(range) {\n\t\tif (range.allDay == null) {\n\t\t\trange.allDay = !(range.start.hasTime() || (range.end && range.end.hasTime()));\n\t\t}\n\n\t\tif (range.allDay) {\n\t\t\trange.start.stripTime();\n\t\t\tif (range.end) {\n\t\t\t\t// TODO: consider nextDayThreshold here? If so, will require a lot of testing and adjustment\n\t\t\t\trange.end.stripTime();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!range.start.hasTime()) {\n\t\t\t\trange.start = t.rezoneDate(range.start); // will assign a 00:00 time\n\t\t\t}\n\t\t\tif (range.end && !range.end.hasTime()) {\n\t\t\t\trange.end = t.rezoneDate(range.end); // will assign a 00:00 time\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// If `range` is a proper range with a start and end, returns the original object.\n\t// If missing an end, computes a new range with an end, computing it as if it were an event.\n\t// TODO: make this a part of the event -> eventRange system\n\tfunction ensureVisibleEventRange(range) {\n\t\tvar allDay;\n\n\t\tif (!range.end) {\n\n\t\t\tallDay = range.allDay; // range might be more event-ish than we think\n\t\t\tif (allDay == null) {\n\t\t\t\tallDay = !range.start.hasTime();\n\t\t\t}\n\n\t\t\trange = $.extend({}, range); // make a copy, copying over other misc properties\n\t\t\trange.end = t.getDefaultEventEnd(allDay, range.start);\n\t\t}\n\t\treturn range;\n\t}\n\n\n\t// If the given event is a recurring event, break it down into an array of individual instances.\n\t// If not a recurring event, return an array with the single original event.\n\t// If given a falsy input (probably because of a failed buildEventFromInput call), returns an empty array.\n\t// HACK: can override the recurring window by providing custom rangeStart/rangeEnd (for businessHours).\n\tfunction expandEvent(abstractEvent, _rangeStart, _rangeEnd) {\n\t\tvar events = [];\n\t\tvar dowHash;\n\t\tvar dow;\n\t\tvar i;\n\t\tvar date;\n\t\tvar startTime, endTime;\n\t\tvar start, end;\n\t\tvar event;\n\n\t\t_rangeStart = _rangeStart || rangeStart;\n\t\t_rangeEnd = _rangeEnd || rangeEnd;\n\n\t\tif (abstractEvent) {\n\t\t\tif (abstractEvent._recurring) {\n\n\t\t\t\t// make a boolean hash as to whether the event occurs on each day-of-week\n\t\t\t\tif ((dow = abstractEvent.dow)) {\n\t\t\t\t\tdowHash = {};\n\t\t\t\t\tfor (i = 0; i < dow.length; i++) {\n\t\t\t\t\t\tdowHash[dow[i]] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// iterate through every day in the current range\n\t\t\t\tdate = _rangeStart.clone().stripTime(); // holds the date of the current day\n\t\t\t\twhile (date.isBefore(_rangeEnd)) {\n\n\t\t\t\t\tif (!dowHash || dowHash[date.day()]) { // if everyday, or this particular day-of-week\n\n\t\t\t\t\t\tstartTime = abstractEvent.start; // the stored start and end properties are times (Durations)\n\t\t\t\t\t\tendTime = abstractEvent.end; // \"\n\t\t\t\t\t\tstart = date.clone();\n\t\t\t\t\t\tend = null;\n\n\t\t\t\t\t\tif (startTime) {\n\t\t\t\t\t\t\tstart = start.time(startTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (endTime) {\n\t\t\t\t\t\t\tend = date.clone().time(endTime);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent = $.extend({}, abstractEvent); // make a copy of the original\n\t\t\t\t\t\tassignDatesToEvent(\n\t\t\t\t\t\t\tstart, end,\n\t\t\t\t\t\t\t!startTime && !endTime, // allDay?\n\t\t\t\t\t\t\tevent\n\t\t\t\t\t\t);\n\t\t\t\t\t\tevents.push(event);\n\t\t\t\t\t}\n\n\t\t\t\t\tdate.add(1, 'days');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tevents.push(abstractEvent); // return the original event. will be a one-item array\n\t\t\t}\n\t\t}\n\n\t\treturn events;\n\t}\n\n\n\n\t/* Event Modification Math\n\t-----------------------------------------------------------------------------------------*/\n\n\n\t// Modifies an event and all related events by applying the given properties.\n\t// Special date-diffing logic is used for manipulation of dates.\n\t// If `props` does not contain start/end dates, the updated values are assumed to be the event's current start/end.\n\t// All date comparisons are done against the event's pristine _start and _end dates.\n\t// Returns an object with delta information and a function to undo all operations.\n\t// For making computations in a granularity greater than day/time, specify largeUnit.\n\t// NOTE: The given `newProps` might be mutated for normalization purposes.\n\tfunction mutateEvent(event, newProps, largeUnit) {\n\t\tvar miscProps = {};\n\t\tvar oldProps;\n\t\tvar clearEnd;\n\t\tvar startDelta;\n\t\tvar endDelta;\n\t\tvar durationDelta;\n\t\tvar undoFunc;\n\n\t\t// diffs the dates in the appropriate way, returning a duration\n\t\tfunction diffDates(date1, date0) { // date1 - date0\n\t\t\tif (largeUnit) {\n\t\t\t\treturn diffByUnit(date1, date0, largeUnit);\n\t\t\t}\n\t\t\telse if (newProps.allDay) {\n\t\t\t\treturn diffDay(date1, date0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn diffDayTime(date1, date0);\n\t\t\t}\n\t\t}\n\n\t\tnewProps = newProps || {};\n\n\t\t// normalize new date-related properties\n\t\tif (!newProps.start) {\n\t\t\tnewProps.start = event.start.clone();\n\t\t}\n\t\tif (newProps.end === undefined) {\n\t\t\tnewProps.end = event.end ? event.end.clone() : null;\n\t\t}\n\t\tif (newProps.allDay == null) { // is null or undefined?\n\t\t\tnewProps.allDay = event.allDay;\n\t\t}\n\t\tnormalizeEventRange(newProps);\n\n\t\t// create normalized versions of the original props to compare against\n\t\t// need a real end value, for diffing\n\t\toldProps = {\n\t\t\tstart: event._start.clone(),\n\t\t\tend: event._end ? event._end.clone() : t.getDefaultEventEnd(event._allDay, event._start),\n\t\t\tallDay: newProps.allDay // normalize the dates in the same regard as the new properties\n\t\t};\n\t\tnormalizeEventRange(oldProps);\n\n\t\t// need to clear the end date if explicitly changed to null\n\t\tclearEnd = event._end !== null && newProps.end === null;\n\n\t\t// compute the delta for moving the start date\n\t\tstartDelta = diffDates(newProps.start, oldProps.start);\n\n\t\t// compute the delta for moving the end date\n\t\tif (newProps.end) {\n\t\t\tendDelta = diffDates(newProps.end, oldProps.end);\n\t\t\tdurationDelta = endDelta.subtract(startDelta);\n\t\t}\n\t\telse {\n\t\t\tdurationDelta = null;\n\t\t}\n\n\t\t// gather all non-date-related properties\n\t\t$.each(newProps, function(name, val) {\n\t\t\tif (isMiscEventPropName(name)) {\n\t\t\t\tif (val !== undefined) {\n\t\t\t\t\tmiscProps[name] = val;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// apply the operations to the event and all related events\n\t\tundoFunc = mutateEvents(\n\t\t\tclientEvents(event._id), // get events with this ID\n\t\t\tclearEnd,\n\t\t\tnewProps.allDay,\n\t\t\tstartDelta,\n\t\t\tdurationDelta,\n\t\t\tmiscProps\n\t\t);\n\n\t\treturn {\n\t\t\tdateDelta: startDelta,\n\t\t\tdurationDelta: durationDelta,\n\t\t\tundo: undoFunc\n\t\t};\n\t}\n\n\n\t// Modifies an array of events in the following ways (operations are in order):\n\t// - clear the event's `end`\n\t// - convert the event to allDay\n\t// - add `dateDelta` to the start and end\n\t// - add `durationDelta` to the event's duration\n\t// - assign `miscProps` to the event\n\t//\n\t// Returns a function that can be called to undo all the operations.\n\t//\n\t// TODO: don't use so many closures. possible memory issues when lots of events with same ID.\n\t//\n\tfunction mutateEvents(events, clearEnd, allDay, dateDelta, durationDelta, miscProps) {\n\t\tvar isAmbigTimezone = t.getIsAmbigTimezone();\n\t\tvar undoFunctions = [];\n\n\t\t// normalize zero-length deltas to be null\n\t\tif (dateDelta && !dateDelta.valueOf()) { dateDelta = null; }\n\t\tif (durationDelta && !durationDelta.valueOf()) { durationDelta = null; }\n\n\t\t$.each(events, function(i, event) {\n\t\t\tvar oldProps;\n\t\t\tvar newProps;\n\n\t\t\t// build an object holding all the old values, both date-related and misc.\n\t\t\t// for the undo function.\n\t\t\toldProps = {\n\t\t\t\tstart: event.start.clone(),\n\t\t\t\tend: event.end ? event.end.clone() : null,\n\t\t\t\tallDay: event.allDay\n\t\t\t};\n\t\t\t$.each(miscProps, function(name) {\n\t\t\t\toldProps[name] = event[name];\n\t\t\t});\n\n\t\t\t// new date-related properties. work off the original date snapshot.\n\t\t\t// ok to use references because they will be thrown away when backupEventDates is called.\n\t\t\tnewProps = {\n\t\t\t\tstart: event._start,\n\t\t\t\tend: event._end,\n\t\t\t\tallDay: allDay // normalize the dates in the same regard as the new properties\n\t\t\t};\n\t\t\tnormalizeEventRange(newProps); // massages start/end/allDay\n\n\t\t\t// strip or ensure the end date\n\t\t\tif (clearEnd) {\n\t\t\t\tnewProps.end = null;\n\t\t\t}\n\t\t\telse if (durationDelta && !newProps.end) { // the duration translation requires an end date\n\t\t\t\tnewProps.end = t.getDefaultEventEnd(newProps.allDay, newProps.start);\n\t\t\t}\n\n\t\t\tif (dateDelta) {\n\t\t\t\tnewProps.start.add(dateDelta);\n\t\t\t\tif (newProps.end) {\n\t\t\t\t\tnewProps.end.add(dateDelta);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (durationDelta) {\n\t\t\t\tnewProps.end.add(durationDelta); // end already ensured above\n\t\t\t}\n\n\t\t\t// if the dates have changed, and we know it is impossible to recompute the\n\t\t\t// timezone offsets, strip the zone.\n\t\t\tif (\n\t\t\t\tisAmbigTimezone &&\n\t\t\t\t!newProps.allDay &&\n\t\t\t\t(dateDelta || durationDelta)\n\t\t\t) {\n\t\t\t\tnewProps.start.stripZone();\n\t\t\t\tif (newProps.end) {\n\t\t\t\t\tnewProps.end.stripZone();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.extend(event, miscProps, newProps); // copy over misc props, then date-related props\n\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\n\t\t\tundoFunctions.push(function() {\n\t\t\t\t$.extend(event, oldProps);\n\t\t\t\tbackupEventDates(event); // regenerate internal _start/_end/_allDay\n\t\t\t});\n\t\t});\n\n\t\treturn function() {\n\t\t\tfor (var i = 0; i < undoFunctions.length; i++) {\n\t\t\t\tundoFunctions[i]();\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/* Business Hours\n\t-----------------------------------------------------------------------------------------*/\n\n\tt.getBusinessHoursEvents = getBusinessHoursEvents;\n\n\n\t// Returns an array of events as to when the business hours occur in the given view.\n\t// Abuse of our event system :(\n\tfunction getBusinessHoursEvents(wholeDay) {\n\t\tvar optionVal = options.businessHours;\n\t\tvar defaultVal = {\n\t\t\tclassName: 'fc-nonbusiness',\n\t\t\tstart: '09:00',\n\t\t\tend: '17:00',\n\t\t\tdow: [ 1, 2, 3, 4, 5 ], // monday - friday\n\t\t\trendering: 'inverse-background'\n\t\t};\n\t\tvar view = t.getView();\n\t\tvar eventInput;\n\n\t\tif (optionVal) { // `true` (which means \"use the defaults\") or an override object\n\t\t\teventInput = $.extend(\n\t\t\t\t{}, // copy to a new object in either case\n\t\t\t\tdefaultVal,\n\t\t\t\ttypeof optionVal === 'object' ? optionVal : {} // override the defaults\n\t\t\t);\n\t\t}\n\n\t\tif (eventInput) {\n\n\t\t\t// if a whole-day series is requested, clear the start/end times\n\t\t\tif (wholeDay) {\n\t\t\t\teventInput.start = null;\n\t\t\t\teventInput.end = null;\n\t\t\t}\n\n\t\t\treturn expandEvent(\n\t\t\t\tbuildEventFromInput(eventInput),\n\t\t\t\tview.start,\n\t\t\t\tview.end\n\t\t\t);\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\t/* Overlapping / Constraining\n\t-----------------------------------------------------------------------------------------*/\n\n\tt.isEventRangeAllowed = isEventRangeAllowed;\n\tt.isSelectionRangeAllowed = isSelectionRangeAllowed;\n\tt.isExternalDropRangeAllowed = isExternalDropRangeAllowed;\n\n\n\tfunction isEventRangeAllowed(range, event) {\n\t\tvar source = event.source || {};\n\t\tvar constraint = firstDefined(\n\t\t\tevent.constraint,\n\t\t\tsource.constraint,\n\t\t\toptions.eventConstraint\n\t\t);\n\t\tvar overlap = firstDefined(\n\t\t\tevent.overlap,\n\t\t\tsource.overlap,\n\t\t\toptions.eventOverlap\n\t\t);\n\n\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isRangeAllowed\n\n\t\treturn isRangeAllowed(range, constraint, overlap, event);\n\t}\n\n\n\tfunction isSelectionRangeAllowed(range) {\n\t\treturn isRangeAllowed(range, options.selectConstraint, options.selectOverlap);\n\t}\n\n\n\t// when `eventProps` is defined, consider this an event.\n\t// `eventProps` can contain misc non-date-related info about the event.\n\tfunction isExternalDropRangeAllowed(range, eventProps) {\n\t\tvar eventInput;\n\t\tvar event;\n\n\t\t// note: very similar logic is in View's reportExternalDrop\n\t\tif (eventProps) {\n\t\t\teventInput = $.extend({}, eventProps, range);\n\t\t\tevent = expandEvent(buildEventFromInput(eventInput))[0];\n\t\t}\n\n\t\tif (event) {\n\t\t\treturn isEventRangeAllowed(range, event);\n\t\t}\n\t\telse { // treat it as a selection\n\n\t\t\trange = ensureVisibleEventRange(range); // ensure a proper range with an end for isSelectionRangeAllowed\n\n\t\t\treturn isSelectionRangeAllowed(range);\n\t\t}\n\t}\n\n\n\t// Returns true if the given range (caused by an event drop/resize or a selection) is allowed to exist\n\t// according to the constraint/overlap settings.\n\t// `event` is not required if checking a selection.\n\tfunction isRangeAllowed(range, constraint, overlap, event) {\n\t\tvar constraintEvents;\n\t\tvar anyContainment;\n\t\tvar peerEvents;\n\t\tvar i, peerEvent;\n\t\tvar peerOverlap;\n\n\t\t// normalize. fyi, we're normalizing in too many places :(\n\t\trange = $.extend({}, range); // copy all properties in case there are misc non-date properties\n\t\trange.start = range.start.clone().stripZone();\n\t\trange.end = range.end.clone().stripZone();\n\n\t\t// the range must be fully contained by at least one of produced constraint events\n\t\tif (constraint != null) {\n\n\t\t\t// not treated as an event! intermediate data structure\n\t\t\t// TODO: use ranges in the future\n\t\t\tconstraintEvents = constraintToEvents(constraint);\n\n\t\t\tanyContainment = false;\n\t\t\tfor (i = 0; i < constraintEvents.length; i++) {\n\t\t\t\tif (eventContainsRange(constraintEvents[i], range)) {\n\t\t\t\t\tanyContainment = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!anyContainment) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tpeerEvents = t.getPeerEvents(event, range);\n\n\t\tfor (i = 0; i < peerEvents.length; i++)  {\n\t\t\tpeerEvent = peerEvents[i];\n\n\t\t\t// there needs to be an actual intersection before disallowing anything\n\t\t\tif (eventIntersectsRange(peerEvent, range)) {\n\n\t\t\t\t// evaluate overlap for the given range and short-circuit if necessary\n\t\t\t\tif (overlap === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// if the event's overlap is a test function, pass the peer event in question as the first param\n\t\t\t\telse if (typeof overlap === 'function' && !overlap(peerEvent, event)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// if we are computing if the given range is allowable for an event, consider the other event's\n\t\t\t\t// EventObject-specific or Source-specific `overlap` property\n\t\t\t\tif (event) {\n\t\t\t\t\tpeerOverlap = firstDefined(\n\t\t\t\t\t\tpeerEvent.overlap,\n\t\t\t\t\t\t(peerEvent.source || {}).overlap\n\t\t\t\t\t\t// we already considered the global `eventOverlap`\n\t\t\t\t\t);\n\t\t\t\t\tif (peerOverlap === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// if the peer event's overlap is a test function, pass the subject event as the first param\n\t\t\t\t\tif (typeof peerOverlap === 'function' && !peerOverlap(event, peerEvent)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\n\t// Given an event input from the API, produces an array of event objects. Possible event inputs:\n\t// 'businessHours'\n\t// An event ID (number or string)\n\t// An object with specific start/end dates or a recurring event (like what businessHours accepts)\n\tfunction constraintToEvents(constraintInput) {\n\n\t\tif (constraintInput === 'businessHours') {\n\t\t\treturn getBusinessHoursEvents();\n\t\t}\n\n\t\tif (typeof constraintInput === 'object') {\n\t\t\treturn expandEvent(buildEventFromInput(constraintInput));\n\t\t}\n\n\t\treturn clientEvents(constraintInput); // probably an ID\n\t}\n\n\n\t// Does the event's date range fully contain the given range?\n\t// start/end already assumed to have stripped zones :(\n\tfunction eventContainsRange(event, range) {\n\t\tvar eventStart = event.start.clone().stripZone();\n\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\n\t\treturn range.start >= eventStart && range.end <= eventEnd;\n\t}\n\n\n\t// Does the event's date range intersect with the given range?\n\t// start/end already assumed to have stripped zones :(\n\tfunction eventIntersectsRange(event, range) {\n\t\tvar eventStart = event.start.clone().stripZone();\n\t\tvar eventEnd = t.getEventEnd(event).stripZone();\n\n\t\treturn range.start < eventEnd && range.end > eventStart;\n\t}\n\n\n\tt.getEventCache = function() {\n\t\treturn cache;\n\t};\n\n}\n\n\n// Returns a list of events that the given event should be compared against when being considered for a move to\n// the specified range. Attached to the Calendar's prototype because EventManager is a mixin for a Calendar.\nCalendar.prototype.getPeerEvents = function(event, range) {\n\tvar cache = this.getEventCache();\n\tvar peerEvents = [];\n\tvar i, otherEvent;\n\n\tfor (i = 0; i < cache.length; i++) {\n\t\totherEvent = cache[i];\n\t\tif (\n\t\t\t!event ||\n\t\t\tevent._id !== otherEvent._id // don't compare the event to itself or other related [repeating] events\n\t\t) {\n\t\t\tpeerEvents.push(otherEvent);\n\t\t}\n\t}\n\n\treturn peerEvents;\n};\n\n\n// updates the \"backup\" properties, which are preserved in order to compute diffs later on.\nfunction backupEventDates(event) {\n\tevent._allDay = event.allDay;\n\tevent._start = event.start.clone();\n\tevent._end = event.end ? event.end.clone() : null;\n}\n\n;;\n\n/* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nvar BasicView = View.extend({\n\n\tdayGrid: null, // the main subcomponent that does most of the heavy lifting\n\n\tdayNumbersVisible: false, // display day numbers on each day cell?\n\tweekNumbersVisible: false, // display week numbers along the side?\n\n\tweekNumberWidth: null, // width of all the week-number cells running down the side\n\n\theadRowEl: null, // the fake row element of the day-of-week header\n\n\n\tinitialize: function() {\n\t\tthis.dayGrid = new DayGrid(this);\n\t\tthis.coordMap = this.dayGrid.coordMap; // the view's date-to-cell mapping is identical to the subcomponent's\n\t},\n\n\n\t// Sets the display range and computes all necessary dates\n\tsetRange: function(range) {\n\t\tView.prototype.setRange.call(this, range); // call the super-method\n\n\t\tthis.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit); // do before setRange\n\t\tthis.dayGrid.setRange(range);\n\t},\n\n\n\t// Compute the value to feed into setRange. Overrides superclass.\n\tcomputeRange: function(date) {\n\t\tvar range = View.prototype.computeRange.call(this, date); // get value from the super-method\n\n\t\t// year and month views should be aligned with weeks. this is already done for week\n\t\tif (/year|month/.test(range.intervalUnit)) {\n\t\t\trange.start.startOf('week');\n\t\t\trange.start = this.skipHiddenDays(range.start);\n\n\t\t\t// make end-of-week if not already\n\t\t\tif (range.end.weekday()) {\n\t\t\t\trange.end.add(1, 'week').startOf('week');\n\t\t\t\trange.end = this.skipHiddenDays(range.end, -1, true); // exclusively move backwards\n\t\t\t}\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Renders the view into `this.el`, which should already be assigned\n\trenderDates: function() {\n\n\t\tthis.dayNumbersVisible = this.dayGrid.rowCnt > 1; // TODO: make grid responsible\n\t\tthis.weekNumbersVisible = this.opt('weekNumbers');\n\t\tthis.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible;\n\n\t\tthis.el.addClass('fc-basic-view').html(this.renderHtml());\n\n\t\tthis.headRowEl = this.el.find('thead .fc-row');\n\n\t\tthis.scrollerEl = this.el.find('.fc-day-grid-container');\n\t\tthis.dayGrid.coordMap.containerEl = this.scrollerEl; // constrain clicks/etc to the dimensions of the scroller\n\n\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\tthis.dayGrid.renderDates(this.hasRigidRows());\n\t},\n\n\n\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t// always completely kill the dayGrid's rendering.\n\tunrenderDates: function() {\n\t\tthis.dayGrid.unrenderDates();\n\t\tthis.dayGrid.removeElement();\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tthis.dayGrid.renderBusinessHours();\n\t},\n\n\n\t// Builds the HTML skeleton for the view.\n\t// The day-grid component will render inside of a container defined by this HTML.\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<table>' +\n\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\tthis.dayGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</thead>' +\n\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t'<div class=\"fc-day-grid-container\">' +\n\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</tbody>' +\n\t\t\t'</table>';\n\t},\n\n\n\t// Generates the HTML that will go before the day-of week header cells.\n\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\theadIntroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '' +\n\t\t\t\t'<th class=\"fc-week-number ' + this.widgetHeaderClass + '\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\thtmlEscape(this.opt('weekNumberTitle')) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</th>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that will go before content-skeleton cells that display the day/week numbers.\n\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\tnumberIntroHtml: function(row) {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '' +\n\t\t\t\t'<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\tthis.dayGrid.getCell(row, 0).start.format('w') +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before the day bg cells for each day-row.\n\t// Queried by the DayGrid subcomponent. Ordering depends on isRTL.\n\tdayIntroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '<td class=\"fc-week-number ' + this.widgetContentClass + '\" ' +\n\t\t\t\tthis.weekNumberStyleAttr() + '></td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before every other type of row generated by DayGrid. Ordering depends on isRTL.\n\t// Affects helper-skeleton and highlight-skeleton rows.\n\tintroHtml: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\treturn '<td class=\"fc-week-number\" ' + this.weekNumberStyleAttr() + '></td>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n\t// The number row will only exist if either day numbers or week numbers are turned on.\n\tnumberCellHtml: function(cell) {\n\t\tvar date = cell.start;\n\t\tvar classes;\n\n\t\tif (!this.dayNumbersVisible) { // if there are week numbers but not day numbers\n\t\t\treturn '<td/>'; //  will create an empty space above events :(\n\t\t}\n\n\t\tclasses = this.dayGrid.getDayClasses(date);\n\t\tclasses.unshift('fc-day-number');\n\n\t\treturn '' +\n\t\t\t'<td class=\"' + classes.join(' ') + '\" data-date=\"' + date.format() + '\">' +\n\t\t\t\tdate.date() +\n\t\t\t'</td>';\n\t},\n\n\n\t// Generates an HTML attribute string for setting the width of the week number column, if it is known\n\tweekNumberStyleAttr: function() {\n\t\tif (this.weekNumberWidth !== null) {\n\t\t\treturn 'style=\"width:' + this.weekNumberWidth + 'px\"';\n\t\t}\n\t\treturn '';\n\t},\n\n\n\t// Determines whether each row should have a constant height\n\thasRigidRows: function() {\n\t\tvar eventLimit = this.opt('eventLimit');\n\t\treturn eventLimit && typeof eventLimit !== 'number';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Refreshes the horizontal dimensions of the view\n\tupdateWidth: function() {\n\t\tif (this.weekNumbersVisible) {\n\t\t\t// Make sure all week number cells running down the side have the same width.\n\t\t\t// Record the width for cells created later.\n\t\t\tthis.weekNumberWidth = matchCellWidths(\n\t\t\t\tthis.el.find('.fc-week-number')\n\t\t\t);\n\t\t}\n\t},\n\n\n\t// Adjusts the vertical dimensions of the view to the specified values\n\tsetHeight: function(totalHeight, isAuto) {\n\t\tvar eventLimit = this.opt('eventLimit');\n\t\tvar scrollerHeight;\n\n\t\t// reset all heights to be natural\n\t\tunsetScroller(this.scrollerEl);\n\t\tuncompensateScroll(this.headRowEl);\n\n\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\n\t\t// is the event limit a constant level number?\n\t\tif (eventLimit && typeof eventLimit === 'number') {\n\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n\t\t}\n\n\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\tthis.setGridHeight(scrollerHeight, isAuto);\n\n\t\t// is the event limit dynamically calculated?\n\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\tthis.dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n\t\t}\n\n\t\tif (!isAuto && setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\n\t\t\tcompensateScroll(this.headRowEl, getScrollbarWidths(this.scrollerEl));\n\n\t\t\t// doing the scrollbar compensation might have created text overflow which created more height. redo\n\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t}\n\t},\n\n\n\t// Sets the height of just the DayGrid component in this view\n\tsetGridHeight: function(height, isAuto) {\n\t\tif (isAuto) {\n\t\t\tundistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n\t\t}\n\t\telse {\n\t\t\tdistributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n\t\t}\n\t},\n\n\n\t/* Events\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders the given events onto the view and populates the segments array\n\trenderEvents: function(events) {\n\t\tthis.dayGrid.renderEvents(events);\n\n\t\tthis.updateHeight(); // must compensate for events that overflow the row\n\t},\n\n\n\t// Retrieves all segment objects that are rendered in the view\n\tgetEventSegs: function() {\n\t\treturn this.dayGrid.getEventSegs();\n\t},\n\n\n\t// Unrenders all event elements and clears internal segment data\n\tunrenderEvents: function() {\n\t\tthis.dayGrid.unrenderEvents();\n\n\t\t// we DON'T need to call updateHeight() because:\n\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t},\n\n\n\t/* Dragging (for both events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t},\n\n\n\tunrenderDrag: function() {\n\t\tthis.dayGrid.unrenderDrag();\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection\n\trenderSelection: function(range) {\n\t\tthis.dayGrid.renderSelection(range);\n\t},\n\n\n\t// Unrenders a visual indications of a selection\n\tunrenderSelection: function() {\n\t\tthis.dayGrid.unrenderSelection();\n\t}\n\n});\n\n;;\n\n/* A month view with day cells running in rows (one-per-week) and columns\n----------------------------------------------------------------------------------------------------------------------*/\n\nvar MonthView = BasicView.extend({\n\n\t// Produces information about what range to display\n\tcomputeRange: function(date) {\n\t\tvar range = BasicView.prototype.computeRange.call(this, date); // get value from super-method\n\t\tvar rowCnt;\n\n\t\t// ensure 6 weeks\n\t\tif (this.isFixedWeeks()) {\n\t\t\trowCnt = Math.ceil(range.end.diff(range.start, 'weeks', true)); // could be partial weeks due to hiddenDays\n\t\t\trange.end.add(6 - rowCnt, 'weeks');\n\t\t}\n\n\t\treturn range;\n\t},\n\n\n\t// Overrides the default BasicView behavior to have special multi-week auto-height logic\n\tsetGridHeight: function(height, isAuto) {\n\n\t\tisAuto = isAuto || this.opt('weekMode') === 'variable'; // LEGACY: weekMode is deprecated\n\n\t\t// if auto, make the height of each row the height that it would be if there were 6 weeks\n\t\tif (isAuto) {\n\t\t\theight *= this.rowCnt / 6;\n\t\t}\n\n\t\tdistributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n\t},\n\n\n\tisFixedWeeks: function() {\n\t\tvar weekMode = this.opt('weekMode'); // LEGACY: weekMode is deprecated\n\t\tif (weekMode) {\n\t\t\treturn weekMode === 'fixed'; // if any other type of weekMode, assume NOT fixed\n\t\t}\n\n\t\treturn this.opt('fixedWeekCount');\n\t}\n\n});\n\n;;\n\nfcViews.basic = {\n\t'class': BasicView\n};\n\nfcViews.basicDay = {\n\ttype: 'basic',\n\tduration: { days: 1 }\n};\n\nfcViews.basicWeek = {\n\ttype: 'basic',\n\tduration: { weeks: 1 }\n};\n\nfcViews.month = {\n\t'class': MonthView,\n\tduration: { months: 1 }, // important for prev/next\n\tdefaults: {\n\t\tfixedWeekCount: true\n\t}\n};\n;;\n\n/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\n----------------------------------------------------------------------------------------------------------------------*/\n// Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\n// Responsible for managing width/height.\n\nvar AgendaView = View.extend({\n\n\ttimeGrid: null, // the main time-grid subcomponent of this view\n\tdayGrid: null, // the \"all-day\" subcomponent. if all-day is turned off, this will be null\n\n\taxisWidth: null, // the width of the time axis running down the side\n\n\tnoScrollRowEls: null, // set of fake row elements that must compensate when scrollerEl has scrollbars\n\n\t// when the time-grid isn't tall enough to occupy the given height, we render an <hr> underneath\n\tbottomRuleEl: null,\n\tbottomRuleHeight: null,\n\n\n\tinitialize: function() {\n\t\tthis.timeGrid = new TimeGrid(this);\n\n\t\tif (this.opt('allDaySlot')) { // should we display the \"all-day\" area?\n\t\t\tthis.dayGrid = new DayGrid(this); // the all-day subcomponent of this view\n\n\t\t\t// the coordinate grid will be a combination of both subcomponents' grids\n\t\t\tthis.coordMap = new ComboCoordMap([\n\t\t\t\tthis.dayGrid.coordMap,\n\t\t\t\tthis.timeGrid.coordMap\n\t\t\t]);\n\t\t}\n\t\telse {\n\t\t\tthis.coordMap = this.timeGrid.coordMap;\n\t\t}\n\t},\n\n\n\t/* Rendering\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Sets the display range and computes all necessary dates\n\tsetRange: function(range) {\n\t\tView.prototype.setRange.call(this, range); // call the super-method\n\n\t\tthis.timeGrid.setRange(range);\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.setRange(range);\n\t\t}\n\t},\n\n\n\t// Renders the view into `this.el`, which has already been assigned\n\trenderDates: function() {\n\n\t\tthis.el.addClass('fc-agenda-view').html(this.renderHtml());\n\n\t\t// the element that wraps the time-grid that will probably scroll\n\t\tthis.scrollerEl = this.el.find('.fc-time-grid-container');\n\t\tthis.timeGrid.coordMap.containerEl = this.scrollerEl; // don't accept clicks/etc outside of this\n\n\t\tthis.timeGrid.setElement(this.el.find('.fc-time-grid'));\n\t\tthis.timeGrid.renderDates();\n\n\t\t// the <hr> that sometimes displays under the time-grid\n\t\tthis.bottomRuleEl = $('<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>')\n\t\t\t.appendTo(this.timeGrid.el); // inject it into the time-grid\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.setElement(this.el.find('.fc-day-grid'));\n\t\t\tthis.dayGrid.renderDates();\n\n\t\t\t// have the day-grid extend it's coordinate area over the <hr> dividing the two grids\n\t\t\tthis.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight();\n\t\t}\n\n\t\tthis.noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)'); // fake rows not within the scroller\n\t},\n\n\n\t// Unrenders the content of the view. Since we haven't separated skeleton rendering from date rendering,\n\t// always completely kill each grid's rendering.\n\tunrenderDates: function() {\n\t\tthis.timeGrid.unrenderDates();\n\t\tthis.timeGrid.removeElement();\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderDates();\n\t\t\tthis.dayGrid.removeElement();\n\t\t}\n\t},\n\n\n\trenderBusinessHours: function() {\n\t\tthis.timeGrid.renderBusinessHours();\n\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.renderBusinessHours();\n\t\t}\n\t},\n\n\n\t// Builds the HTML skeleton for the view.\n\t// The day-grid and time-grid components will render inside containers defined by this HTML.\n\trenderHtml: function() {\n\t\treturn '' +\n\t\t\t'<table>' +\n\t\t\t\t'<thead class=\"fc-head\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetHeaderClass + '\">' +\n\t\t\t\t\t\t\tthis.timeGrid.headHtml() + // render the day-of-week headers\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</thead>' +\n\t\t\t\t'<tbody class=\"fc-body\">' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td class=\"' + this.widgetContentClass + '\">' +\n\t\t\t\t\t\t\t(this.dayGrid ?\n\t\t\t\t\t\t\t\t'<div class=\"fc-day-grid\"/>' +\n\t\t\t\t\t\t\t\t'<hr class=\"fc-divider ' + this.widgetHeaderClass + '\"/>' :\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t'<div class=\"fc-time-grid-container\">' +\n\t\t\t\t\t\t\t\t'<div class=\"fc-time-grid\"/>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t'</tr>' +\n\t\t\t\t'</tbody>' +\n\t\t\t'</table>';\n\t},\n\n\n\t// Generates the HTML that will go before the day-of week header cells.\n\t// Queried by the TimeGrid subcomponent when generating rows. Ordering depends on isRTL.\n\theadIntroHtml: function() {\n\t\tvar date;\n\t\tvar weekText;\n\n\t\tif (this.opt('weekNumbers')) {\n\t\t\tdate = this.timeGrid.getCell(0).start;\n\t\t\tweekText = date.format(this.opt('smallWeekFormat'));\n\n\t\t\treturn '' +\n\t\t\t\t'<th class=\"fc-axis fc-week-number ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t\thtmlEscape(weekText) +\n\t\t\t\t\t'</span>' +\n\t\t\t\t'</th>';\n\t\t}\n\t\telse {\n\t\t\treturn '<th class=\"fc-axis ' + this.widgetHeaderClass + '\" ' + this.axisStyleAttr() + '></th>';\n\t\t}\n\t},\n\n\n\t// Generates the HTML that goes before the all-day cells.\n\t// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.\n\tdayIntroHtml: function() {\n\t\treturn '' +\n\t\t\t'<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '>' +\n\t\t\t\t'<span>' + // needed for matchCellWidths\n\t\t\t\t\t(this.opt('allDayHtml') || htmlEscape(this.opt('allDayText'))) +\n\t\t\t\t'</span>' +\n\t\t\t'</td>';\n\t},\n\n\n\t// Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\n\tslotBgIntroHtml: function() {\n\t\treturn '<td class=\"fc-axis ' + this.widgetContentClass + '\" ' + this.axisStyleAttr() + '></td>';\n\t},\n\n\n\t// Generates the HTML that goes before all other types of cells.\n\t// Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n\t// Queried by the TimeGrid and DayGrid subcomponents when generating rows. Ordering depends on isRTL.\n\tintroHtml: function() {\n\t\treturn '<td class=\"fc-axis\" ' + this.axisStyleAttr() + '></td>';\n\t},\n\n\n\t// Generates an HTML attribute string for setting the width of the axis, if it is known\n\taxisStyleAttr: function() {\n\t\tif (this.axisWidth !== null) {\n\t\t\t return 'style=\"width:' + this.axisWidth + 'px\"';\n\t\t}\n\t\treturn '';\n\t},\n\n\n\t/* Dimensions\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\tupdateSize: function(isResize) {\n\t\tthis.timeGrid.updateSize(isResize);\n\n\t\tView.prototype.updateSize.call(this, isResize); // call the super-method\n\t},\n\n\n\t// Refreshes the horizontal dimensions of the view\n\tupdateWidth: function() {\n\t\t// make all axis cells line up, and record the width so newly created axis cells will have it\n\t\tthis.axisWidth = matchCellWidths(this.el.find('.fc-axis'));\n\t},\n\n\n\t// Adjusts the vertical dimensions of the view to the specified values\n\tsetHeight: function(totalHeight, isAuto) {\n\t\tvar eventLimit;\n\t\tvar scrollerHeight;\n\n\t\tif (this.bottomRuleHeight === null) {\n\t\t\t// calculate the height of the rule the very first time\n\t\t\tthis.bottomRuleHeight = this.bottomRuleEl.outerHeight();\n\t\t}\n\t\tthis.bottomRuleEl.hide(); // .show() will be called later if this <hr> is necessary\n\n\t\t// reset all dimensions back to the original state\n\t\tthis.scrollerEl.css('overflow', '');\n\t\tunsetScroller(this.scrollerEl);\n\t\tuncompensateScroll(this.noScrollRowEls);\n\n\t\t// limit number of events in the all-day area\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n\n\t\t\teventLimit = this.opt('eventLimit');\n\t\t\tif (eventLimit && typeof eventLimit !== 'number') {\n\t\t\t\teventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure \"auto\" goes to a real number\n\t\t\t}\n\t\t\tif (eventLimit) {\n\t\t\t\tthis.dayGrid.limitRows(eventLimit);\n\t\t\t}\n\t\t}\n\n\t\tif (!isAuto) { // should we force dimensions of the scroll container, or let the contents be natural height?\n\n\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\tif (setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?\n\n\t\t\t\t// make the all-day and header rows lines up\n\t\t\t\tcompensateScroll(this.noScrollRowEls, getScrollbarWidths(this.scrollerEl));\n\n\t\t\t\t// the scrollbar compensation might have changed text flow, which might affect height, so recalculate\n\t\t\t\t// and reapply the desired height to the scroller.\n\t\t\t\tscrollerHeight = this.computeScrollerHeight(totalHeight);\n\t\t\t\tthis.scrollerEl.height(scrollerHeight);\n\t\t\t}\n\t\t\telse { // no scrollbars\n\t\t\t\t// still, force a height and display the bottom rule (marks the end of day)\n\t\t\t\tthis.scrollerEl.height(scrollerHeight).css('overflow', 'hidden'); // in case <hr> goes outside\n\t\t\t\tthis.bottomRuleEl.show();\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// Computes the initial pre-configured scroll state prior to allowing the user to change it\n\tcomputeInitialScroll: function() {\n\t\tvar scrollTime = moment.duration(this.opt('scrollTime'));\n\t\tvar top = this.timeGrid.computeTimeTop(scrollTime);\n\n\t\t// zoom can give weird floating-point values. rather scroll a little bit further\n\t\ttop = Math.ceil(top);\n\n\t\tif (top) {\n\t\t\ttop++; // to overcome top border that slots beyond the first have. looks better\n\t\t}\n\n\t\treturn top;\n\t},\n\n\n\t/* Events\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders events onto the view and populates the View's segment array\n\trenderEvents: function(events) {\n\t\tvar dayEvents = [];\n\t\tvar timedEvents = [];\n\t\tvar daySegs = [];\n\t\tvar timedSegs;\n\t\tvar i;\n\n\t\t// separate the events into all-day and timed\n\t\tfor (i = 0; i < events.length; i++) {\n\t\t\tif (events[i].allDay) {\n\t\t\t\tdayEvents.push(events[i]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttimedEvents.push(events[i]);\n\t\t\t}\n\t\t}\n\n\t\t// render the events in the subcomponents\n\t\ttimedSegs = this.timeGrid.renderEvents(timedEvents);\n\t\tif (this.dayGrid) {\n\t\t\tdaySegs = this.dayGrid.renderEvents(dayEvents);\n\t\t}\n\n\t\t// the all-day area is flexible and might have a lot of events, so shift the height\n\t\tthis.updateHeight();\n\t},\n\n\n\t// Retrieves all segment objects that are rendered in the view\n\tgetEventSegs: function() {\n\t\treturn this.timeGrid.getEventSegs().concat(\n\t\t\tthis.dayGrid ? this.dayGrid.getEventSegs() : []\n\t\t);\n\t},\n\n\n\t// Unrenders all event elements and clears internal segment data\n\tunrenderEvents: function() {\n\n\t\t// unrender the events in the subcomponents\n\t\tthis.timeGrid.unrenderEvents();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderEvents();\n\t\t}\n\n\t\t// we DON'T need to call updateHeight() because:\n\t\t// A) a renderEvents() call always happens after this, which will eventually call updateHeight()\n\t\t// B) in IE8, this causes a flash whenever events are rerendered\n\t},\n\n\n\t/* Dragging (for events and external elements)\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// A returned value of `true` signals that a mock \"helper\" event has been rendered.\n\trenderDrag: function(dropLocation, seg) {\n\t\tif (dropLocation.start.hasTime()) {\n\t\t\treturn this.timeGrid.renderDrag(dropLocation, seg);\n\t\t}\n\t\telse if (this.dayGrid) {\n\t\t\treturn this.dayGrid.renderDrag(dropLocation, seg);\n\t\t}\n\t},\n\n\n\tunrenderDrag: function() {\n\t\tthis.timeGrid.unrenderDrag();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderDrag();\n\t\t}\n\t},\n\n\n\t/* Selection\n\t------------------------------------------------------------------------------------------------------------------*/\n\n\n\t// Renders a visual indication of a selection\n\trenderSelection: function(range) {\n\t\tif (range.start.hasTime() || range.end.hasTime()) {\n\t\t\tthis.timeGrid.renderSelection(range);\n\t\t}\n\t\telse if (this.dayGrid) {\n\t\t\tthis.dayGrid.renderSelection(range);\n\t\t}\n\t},\n\n\n\t// Unrenders a visual indications of a selection\n\tunrenderSelection: function() {\n\t\tthis.timeGrid.unrenderSelection();\n\t\tif (this.dayGrid) {\n\t\t\tthis.dayGrid.unrenderSelection();\n\t\t}\n\t}\n\n});\n\n;;\n\nvar AGENDA_ALL_DAY_EVENT_LIMIT = 5;\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar AGENDA_STOCK_SUB_DURATIONS = [\n\t{ hours: 1 },\n\t{ minutes: 30 },\n\t{ minutes: 15 },\n\t{ seconds: 30 },\n\t{ seconds: 15 }\n];\n\nfcViews.agenda = {\n\t'class': AgendaView,\n\tdefaults: {\n\t\tallDaySlot: true,\n\t\tallDayText: 'all-day',\n\t\tslotDuration: '00:30:00',\n\t\tminTime: '00:00:00',\n\t\tmaxTime: '24:00:00',\n\t\tslotEventOverlap: true // a bad name. confused with overlap/constraint system\n\t}\n};\n\nfcViews.agendaDay = {\n\ttype: 'agenda',\n\tduration: { days: 1 }\n};\n\nfcViews.agendaWeek = {\n\ttype: 'agenda',\n\tduration: { weeks: 1 }\n};\n;;\n\nreturn fc; // export for Node/CommonJS\n});\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport $ from 'jquery'\nimport fcUtil from '../util/fcUtil'\nimport 'jquery.ajaxJSON'\nimport 'vendor/jquery.ba-tinypubsub'\nimport splitAssetString from 'compiled/str/splitAssetString'\n\nexport default function CommonEvent(data, contextInfo, actualContextInfo) {\n  this.eventType = 'generic'\n  this.contextInfo = contextInfo\n  this.actualContextInfo = actualContextInfo\n  this.allPossibleContexts = null\n  this.className = []\n  this.object = {}\n\n  this.copyDataFromObject(data)\n}\n\nObject.assign(CommonEvent.prototype, {\n  readableTypes: {\n    assignment: I18n.t('Assignment'),\n    discussion: I18n.t('Discussion'),\n    event: I18n.t('Event'),\n    quiz: I18n.t('Quiz'),\n    note: I18n.t('To Do'),\n    wiki_page: I18n.t('Page'),\n    discussion_topic: I18n.t('Discussion')\n  },\n\n  isNewEvent() {\n    return this.eventType === 'generic' || !(this.object && this.object.id)\n  },\n\n  isAppointmentGroupFilledEvent() {\n    return this.object && this.object.child_events && this.object.child_events.length > 0\n  },\n\n  isAppointmentGroupEvent() {\n    return this.object && this.object.appointment_group_url\n  },\n\n  contextCode() {\n    return (\n      (this.object && this.object.effective_context_code) ||\n      (this.object && this.object.context_code) ||\n      (this.contextInfo && this.contextInfo.asset_string)\n    )\n  },\n\n  contextApiPrefix() {\n    const context = splitAssetString(this.contextCode())\n    return `/api/v1/${encodeURIComponent(context[0])}/${encodeURIComponent(context[1])}`\n  },\n\n  isUndated() {\n    return this.start == null\n  },\n\n  isCompleted() {\n    return false\n  },\n\n  displayTimeString() {\n    return ''\n  },\n  readableType() {\n    return ''\n  },\n\n  fullDetailsURL() {\n    return null\n  },\n\n  startDate() {\n    return this.originalStart || this.date\n  },\n  endDate() {\n    return this.startDate()\n  },\n\n  possibleContexts() {\n    return this.allPossibleContexts || [this.contextInfo]\n  },\n\n  addClass(newClass) {\n    this.className.push(newClass)\n  },\n\n  removeClass(rmClass) {\n    this.className = this.className.filter(c => c !== rmClass)\n  },\n\n  save(params, success, error) {\n    const onSuccess = data => {\n      this.copyDataFromObject(data)\n      $.publish('CommonEvent/eventSaved', this)\n      if (typeof success === 'function') return success()\n    }\n\n    const onError = data => {\n      this.copyDataFromObject(data)\n      $.publish('CommonEvent/eventSaveFailed', this)\n      if (typeof error === 'function') return error()\n    }\n\n    const [method, url] = this.methodAndURLForSave()\n\n    this.forceMinimumDuration() // so short events don't look squished while waiting for ajax\n    $.publish('CommonEvent/eventSaving', this)\n    return $.ajaxJSON(url, method, params, onSuccess, onError)\n  },\n\n  isDueAtMidnight() {\n    return (\n      this.start &&\n      (this.midnightFudged ||\n        (this.start.hours() === 23 && this.start.minutes() > 30) ||\n        (this.start.hours() === 0 && this.start.minutes() === 0))\n    )\n  },\n\n  isDueStrictlyAtMidnight() {\n    return (\n      this.start &&\n      (this.midnightFudged ||\n        (this.start.hours() === 23 && this.start.minutes() > 59) ||\n        (this.start.hours() === 0 && this.start.minutes() === 0))\n    )\n  },\n\n  isPast() {\n    return this.start && this.start < fcUtil.now()\n  },\n\n  copyDataFromObject(data) {\n    this.originalStart = this.start && fcUtil.clone(this.start)\n    this.midnightFudged = false // clear out cached value because now we have new data\n    if (this.isDueAtMidnight()) {\n      this.midnightFudged = true\n      this.start.minutes(30)\n      this.start.seconds(0)\n      if (!this.end) {\n        this.end = fcUtil.clone(this.start)\n      }\n    } else {\n      // minimum duration should only be enforced if not due at midnight\n      this.forceMinimumDuration()\n    }\n    return this.preventWrappingAcrossDates()\n  },\n\n  formatTime(datetime, allDay = false) {\n    let formattedHtml\n    if (!datetime) {\n      return null\n    }\n    datetime = fcUtil.unwrap(datetime)\n    if (allDay) {\n      formattedHtml = $.dateString(datetime)\n    } else {\n      formattedHtml = $.datetimeString(datetime)\n    }\n    return `<time datetime='${datetime.toISOString()}'>${formattedHtml}</time>`\n  },\n\n  forceMinimumDuration() {\n    if (this.start && this.end) {\n      const minimumEnd = fcUtil.clone(this.start).add(30, 'minutes')\n      if (minimumEnd > this.end) {\n        return (this.end = minimumEnd)\n      }\n    }\n  },\n\n  preventWrappingAcrossDates() {\n    if (\n      this.start &&\n      this.start.hours() === 23 &&\n      this.start.minutes() > 0 &&\n      (!this.end || this.start.isSame(this.end))\n    ) {\n      return (this.end = fcUtil.clone(this.start).add(60 - this.start.minutes(), 'minutes'))\n    }\n  },\n\n  assignmentType() {\n    if (!this.assignment) return\n    if (this.assignment.submission_types && this.assignment.submission_types.length) {\n      const type = this.assignment.submission_types[0]\n      if (type === 'online_quiz') return 'quiz'\n      if (type === 'discussion_topic') return 'discussion'\n    }\n    return 'assignment'\n  },\n\n  plannerObjectType() {\n    switch (this.object.plannable_type) {\n      case 'discussion_topic':\n        return 'discussion'\n      case 'wiki_page':\n        return 'document'\n      default:\n        return null\n    }\n  },\n\n  iconType() {\n    let type\n    if ((type = this.assignmentType())) {\n      return type\n    } else if ((type = this.plannerObjectType())) {\n      return type\n    } else if (this.eventType === 'planner_note') {\n      return 'note-light'\n    } else if (ENV.CALENDAR.BETTER_SCHEDULER) {\n      if (\n        this.isAppointmentGroupEvent() &&\n        (this.isAppointmentGroupFilledEvent() || this.appointmentGroupEventStatus === 'Reserved')\n      ) {\n        return 'calendar-reserved'\n      } else if (this.isAppointmentGroupEvent()) {\n        return 'calendar-add'\n      } else {\n        return 'calendar-month'\n      }\n    } else {\n      return 'calendar-month'\n    }\n  },\n\n  isOnCalendar(context_code) {\n    return this.calendarEvent.all_context_codes.match(new RegExp(`\\\\b${context_code}\\\\b`))\n  }\n})\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport $ from 'jquery'\nimport CommonEvent from './CommonEvent'\nimport fcUtil from '../util/fcUtil'\nimport {extend} from '../legacyCoffeesScriptHelpers'\nimport {publish} from 'vendor/jquery.ba-tinypubsub'\nimport 'jquery.instructure_date_and_time'\nimport 'jquery.instructure_misc_helpers'\n\nconst deleteConfirmation = I18n.t(\n  'prompts.delete_assignment',\n  'Are you sure you want to delete this assignment?'\n)\n\nextend(Assignment, CommonEvent)\nexport default function Assignment(data, contextInfo) {\n  Assignment.__super__.constructor.apply(this, arguments)\n  this.eventType = 'assignment'\n  this.deleteConfirmation = deleteConfirmation\n  this.deleteURL = contextInfo.assignment_url\n  this.addClass('assignment')\n}\n\nObject.assign(Assignment.prototype, {\n  copyDataFromObject(data) {\n    if (data.assignment) data = data.assignment\n    this.object = this.assignment = data\n    if (data.id) this.id = `assignment_${data.id}`\n    this.title = data.title || data.name || 'Untitled' // due to a discrepancy between the legacy ajax API and the v1 API\n    this.lock_explanation = this.object.lock_explanation\n    this.addClass(`group_${this.contextCode()}`)\n    this.description = data.description\n    this.start = this.parseStartDate()\n    this.end = null // in case it got set by midnight fudging\n\n    return Assignment.__super__.copyDataFromObject.apply(this, arguments)\n  },\n\n  fullDetailsURL() {\n    return this.assignment.html_url\n  },\n\n  parseStartDate() {\n    if (this.assignment.due_at) {\n      return fcUtil.wrap(this.assignment.due_at)\n    }\n  },\n\n  displayTimeString() {\n    const datetime = this.originalStart\n    if (datetime) {\n      return I18n.t('Due: %{dueAt}', {dueAt: this.formatTime(datetime)})\n    } else {\n      return I18n.t('No Date')\n    }\n  },\n\n  readableType() {\n    return this.readableTypes[this.assignmentType()]\n  },\n\n  saveDates(success, error) {\n    return this.save(\n      {'assignment[due_at]': this.start ? fcUtil.unwrap(this.start).toISOString() : ''},\n      success,\n      error\n    )\n  },\n\n  save(params, success, error) {\n    publish('CommonEvent/assignmentSaved', this)\n    return Assignment.__super__.save.apply(this, arguments)\n  },\n\n  methodAndURLForSave() {\n    let method, url\n    if (this.isNewEvent()) {\n      method = 'POST'\n      url = this.contextInfo.create_assignment_url\n    } else {\n      method = 'PUT'\n      url = $.replaceTags(this.contextInfo.assignment_url, 'id', this.assignment.id)\n    }\n    return [method, url]\n  },\n\n  isCompleted() {\n    return (\n      this.assignment.user_submitted || (this.isPast() && this.assignment.needs_grading_count === 0)\n    )\n  }\n})\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport $ from 'jquery'\nimport CommonEvent from './CommonEvent'\nimport fcUtil from '../util/fcUtil'\nimport {extend} from '../legacyCoffeesScriptHelpers'\nimport 'jquery.instructure_date_and_time'\nimport 'jquery.instructure_misc_helpers'\n\nconst deleteConfirmation = I18n.t(\n  'prompts.delete_override',\n  'Are you sure you want to delete this assignment override?'\n)\n\nextend(AssignmentOverride, CommonEvent)\nexport default function AssignmentOverride(data, contextInfo) {\n  AssignmentOverride.__super__.constructor.apply(this, arguments)\n  this.eventType = 'assignment_override'\n  this.deleteConfirmation = deleteConfirmation\n  this.deleteUrl = contextInfo.assignment_url\n  this.addClass('assignment_override')\n}\n\nObject.assign(AssignmentOverride.prototype, {\n  copyDataFromObject(data) {\n    if (data.assignment != null) {\n      this.copyDataFromAssignment(data.assignment)\n      this.copyDataFromOverride(data.assignment_override)\n    } else {\n      this.copyDataFromOverride(data)\n    }\n\n    this.title = `${this.assignment.name} (${this.override.title})`\n    this.object = this.override\n    this.addClass(`group_${this.contextCode()}`)\n    return AssignmentOverride.__super__.copyDataFromObject.apply(this, arguments)\n  },\n\n  copyDataFromAssignment(assignment) {\n    this.assignment = assignment\n    this.lock_explanation = this.assignment.lock_explanation\n    this.description = this.assignment.description\n    this.start = this.parseStartDate()\n    this.end = null // in case it got set by midnight fudging\n  },\n\n  copyDataFromOverride(override) {\n    this.override = override\n    this.id = `override_${this.override.id}`\n    this.assignment.due_at = this.override.due_at\n  },\n\n  fullDetailsURL() {\n    return this.assignment.html_url\n  },\n\n  parseStartDate() {\n    if (this.assignment.due_at) {\n      return fcUtil.wrap(this.assignment.due_at)\n    }\n  },\n\n  displayTimeString() {\n    const datetime = this.originalStart\n    if (datetime) {\n      return I18n.t('Due: %{dueAt}', {dueAt: this.formatTime(datetime)})\n    } else {\n      return I18n.t('No Date')\n    }\n  },\n\n  readableType() {\n    return this.readableTypes[this.assignmentType()]\n  },\n\n  updateAssignmentTitle(title) {\n    this.assignment.title = title\n    const titleContext = this.title.match(/\\(.+\\)$/)[0]\n    this.title = `${title} ${titleContext}`\n  },\n\n  saveDates(success, error) {\n    return this.save(\n      {'assignment_override[due_at]': this.start ? fcUtil.unwrap(this.start).toISOString() : ''},\n      success,\n      error\n    )\n  },\n\n  methodAndURLForSave() {\n    const url = $.replaceTags(this.contextInfo.assignment_override_url, {\n      assignment_id: this.assignment.id,\n      id: this.override.id\n    })\n    return ['PUT', url]\n  },\n\n  isCompleted() {\n    return (\n      this.assignment.user_submitted || (this.isPast() && this.assignment.needs_grading_count === 0)\n    )\n  }\n})\n","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport $ from 'jquery'\nimport fcUtil from '../util/fcUtil'\nimport semanticDateRange from '../util/semanticDateRange'\nimport CommonEvent from './CommonEvent'\nimport natcompare from '../util/natcompare'\nimport {extend} from '../legacyCoffeesScriptHelpers'\nimport 'jquery.instructure_date_and_time'\nimport 'jquery.instructure_misc_helpers'\n\nextend(CalendarEvent, CommonEvent)\nexport default function CalendarEvent(data, contextInfo, actualContextInfo) {\n  CalendarEvent.__super__.constructor.call(this, data, contextInfo, actualContextInfo)\n  this.eventType = 'calendar_event'\n  this.appointmentGroupEventStatus = this.calculateAppointmentGroupEventStatus()\n  this.reservedUsers = this.getListOfReservedPeople(5).join('; ')\n  this.deleteConfirmation = I18n.t('Are you sure you want to delete this event?')\n  this.deleteURL = contextInfo.calendar_event_url\n}\n\nObject.assign(CalendarEvent.prototype, {\n  copyDataFromObject(data) {\n    if (data.calendar_event) {\n      data = data.calendar_event\n    }\n    this.object = this.calendarEvent = data\n    if (data.id) this.id = `calendar_event_${data.id}`\n    this.title = data.title || 'Untitled'\n    this.comments = data.comments\n    this.location_name = data.location_name\n    this.location_address = data.location_address\n    this.start = this.parseStartDate()\n    this.end = this.parseEndDate()\n    // see originalStart in super's copyDataFromObject\n    if (this.end) this.originalEndDate = fcUtil.clone(this.end)\n    this.allDay = data.all_day\n    this.editable = true\n    this.lockedTitle = this.object.parent_event_id != null\n    this.description = data.description\n    this.addClass(`group_${this.contextCode()}`)\n    if (this.isAppointmentGroupEvent()) {\n      this.addClass('scheduler-event')\n      if (this.object.reserved) {\n        this.addClass('scheduler-reserved')\n      }\n      if (this.object.available_slots === 0) {\n        this.addClass('scheduler-full')\n      }\n      if (this.object.available_slots === undefined || this.object.available_slots > 0) {\n        this.addClass('scheduler-available')\n      }\n      this.editable = false\n    }\n    return CalendarEvent.__super__.copyDataFromObject.apply(this, arguments)\n  },\n\n  endDate() {\n    return this.originalEndDate\n  },\n\n  parseStartDate() {\n    if (this.calendarEvent.start_at) {\n      return fcUtil.wrap(this.calendarEvent.start_at)\n    }\n  },\n\n  parseEndDate() {\n    if (this.calendarEvent.end_at) {\n      return fcUtil.wrap(this.calendarEvent.end_at)\n    }\n  },\n\n  fullDetailsURL() {\n    if (this.isAppointmentGroupEvent()) {\n      return `/appointment_groups/${this.object.appointment_group_id}`\n    } else {\n      return $.replaceTags(\n        this.contextInfo.calendar_event_url,\n        'id',\n        this.calendarEvent.parent_event_id || this.calendarEvent.id\n      )\n    }\n  },\n\n  editGroupURL() {\n    if (this.isAppointmentGroupEvent()) {\n      return `/appointment_groups/${this.object.appointment_group_id}/edit`\n    } else {\n      return '#'\n    }\n  },\n\n  displayTimeString() {\n    if (this.calendarEvent.all_day && this.calendarEvent.start_at === this.calendarEvent.end_at) {\n      return this.formatTime(this.startDate(), true)\n    } else {\n      return semanticDateRange(this.calendarEvent.start_at, this.calendarEvent.end_at)\n    }\n  },\n\n  readableType() {\n    return this.readableTypes.event\n  },\n\n  saveDates(success, error) {\n    return this.save(\n      {\n        'calendar_event[start_at]': this.start ? fcUtil.unwrap(this.start).toISOString() : '',\n        'calendar_event[end_at]': this.end ? fcUtil.unwrap(this.end).toISOString() : '',\n        'calendar_event[all_day]': this.allDay\n      },\n      success,\n      error\n    )\n  },\n\n  methodAndURLForSave() {\n    let method, url\n    if (this.isNewEvent()) {\n      method = 'POST'\n      url = '/api/v1/calendar_events'\n    } else {\n      method = 'PUT'\n      url = this.calendarEvent.url\n    }\n    return [method, url]\n  },\n\n  calculateAppointmentGroupEventStatus() {\n    let status = I18n.t('Available')\n    if (this.calendarEvent.available_slots > 0) {\n      status = I18n.t('%{availableSlots} Available', {\n        availableSlots: I18n.n(this.calendarEvent.available_slots)\n      })\n    }\n    if (\n      this.calendarEvent.available_slots > 0 &&\n      (this.calendarEvent.child_events && this.calendarEvent.child_events.length)\n    ) {\n      status = I18n.t('%{availableSlots} more available', {\n        availableSlots: I18n.n(this.calendarEvent.available_slots)\n      })\n    }\n    if (this.calendarEvent.available_slots === 0) {\n      status = I18n.t('Filled')\n    }\n    if (this.consideredReserved()) {\n      status = I18n.t('Reserved')\n    }\n\n    return status\n  },\n\n  // Returns an array of sortable user names that have reserved this slot optionally\n  // limited to a certain number.  The list is returned sorted naturally.  If there\n  // are more than the limit 'and more...' will be appended.\n\n  getListOfReservedPeople(limit) {\n    if (\n      !(\n        this.calendarEvent &&\n        this.calendarEvent.child_events &&\n        this.calendarEvent.child_events.length\n      )\n    ) {\n      return []\n    }\n\n    const names = ((this.calendarEvent && this.calendarEvent.child_events) || []).map(\n      child_event => child_event.user && child_event.user.sortable_name\n    )\n    let sorted = names.sort((a, b) => natcompare.strings(a, b))\n\n    if (limit) {\n      sorted = sorted.slice(0, limit)\n      if (\n        (this.calendarEvent &&\n          this.calendarEvent.child_events &&\n          this.calendarEvent.child_events.length) > limit\n      ) {\n        sorted.push(I18n.t('and more...'))\n      }\n    }\n    return sorted\n  },\n\n  // True if the slot should be considered reserved\n  consideredReserved() {\n    return (\n      this.calendarEvent.reserved === true ||\n      (this.calendarEvent.appointment_group_url && this.calendarEvent.parent_event_id)\n    )\n  }\n})\n","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport fcUtil from '../util/fcUtil'\nimport CommonEvent from './CommonEvent'\nimport {extend} from '../legacyCoffeesScriptHelpers'\nimport 'jquery.instructure_date_and_time'\nimport 'jquery.instructure_misc_helpers'\n\nconst deleteConfirmation = I18n.t('Are you sure you want to delete this To Do item?')\nconst plannerNotesAPI = '/api/v1/planner_notes'\n\nextend(PlannerNote, CommonEvent)\n\nexport default function PlannerNote(data, contextInfo, actualContextInfo) {\n  PlannerNote.__super__.constructor.call(this, data, contextInfo, actualContextInfo)\n  this.eventType = 'planner_note'\n  this.deleteConfirmation = deleteConfirmation\n  this.deleteURL = encodeURI(`${plannerNotesAPI}/{{ id }}`)\n}\n\nObject.assign(PlannerNote.prototype, {\n  // beware: copyDateFromObj is called before our constructor\n  // because it's call from super's constructor comes here\n  // copyDataFromObject makes the incoming planner_note look like a calendar event\n  // if we get here via a request for the list of notes (see EventDataSource), some of the\n  // fields are already filled in, but if we get here because we just edited a planner_note\n  // they are not.\n  copyDataFromObject(data) {\n    data.type = 'planner_note'\n    data.description = data.details\n    data.planner_note_id = data.id\n    data.start_at = data.todo_date\n    data.end_at = null\n    data.all_day = false\n    data.url = `${window.location.origin}${plannerNotesAPI}/${data.planner_note_id}`\n    data.context_code = data.course_id ? `course_${data.course_id}` : `user_${data.user_id}`\n    data.all_context_codes = data.context_code\n\n    if (data.calendar_event) data = data.calendar_event\n    this.object = this.calendarEvent = data\n    if (data.id) this.id = `planner_note_${data.id}`\n    this.title = data.title || 'Untitled'\n    this.start = this.parseStartDate()\n    this.end = undefined\n    this.allDay = data.all_day\n    // see originalStart in super's copyDataFromObject\n    if (this.end) this.originalEndDate = fcUtil.clone(this.end)\n    this.editable = true\n    this.lockedTitle = this.object.parent_event_id != null\n    this.description = data.description\n    this.addClass(`group_${this.contextCode()}`)\n\n    return PlannerNote.__super__.copyDataFromObject.apply(this, arguments)\n  },\n\n  endDate() {\n    return this.originalEndDate\n  },\n\n  parseStartDate() {\n    if (this.calendarEvent.start_at) {\n      return fcUtil.wrap(this.calendarEvent.start_at)\n    }\n  },\n\n  displayTimeString() {\n    return this.formatTime(this.startDate())\n  },\n\n  readableType() {\n    return this.readableTypes[this.event_type]\n  },\n\n  // called at the end of a drag and drop operation\n  saveDates(success, error) {\n    return this.save(\n      {\n        title: this.title,\n        details: this.description,\n        todo_date: fcUtil.unwrap(this.start).toISOString(),\n        id: this.object.id,\n        type: 'planner_note'\n      },\n      success,\n      error\n    )\n  },\n\n  methodAndURLForSave() {\n    let method, url\n    if (this.isNewEvent()) {\n      method = 'POST'\n      url = plannerNotesAPI\n    } else {\n      method = 'PUT'\n      url = `${plannerNotesAPI}/${this.object.id}`\n    }\n    return [method, url]\n  }\n})\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!calendar'\nimport fcUtil from '../util/fcUtil'\nimport CommonEvent from './CommonEvent'\nimport {extend} from '../legacyCoffeesScriptHelpers'\nimport 'jquery.instructure_date_and_time'\nimport 'jquery.instructure_misc_helpers'\n\nextend(ToDoItem, CommonEvent)\n\nexport default function ToDoItem(data, contextInfo, actualContextInfo) {\n  ToDoItem.__super__.constructor.call(this, data, contextInfo, actualContextInfo)\n  this.eventType = 'todo_item'\n  switch (this.object.plannable_type) {\n    case 'wiki_page':\n      this.deleteConfirmation = I18n.t('Are you sure you want to delete this page?')\n      break\n    case 'discussion_topic':\n      this.deleteConfirmation = I18n.t('Are you sure you want to delete this discussion?')\n      break\n    default:\n      this.deleteConfirmation = I18n.t('Are you sure you want to delete this To Do item?')\n  }\n}\n\nObject.assign(ToDoItem.prototype, {\n  copyDataFromObject(data) {\n    // on original load, data comes from the planner items API\n    // but after editing an item, we get the wiki pages / discussion topics API update result\n    if (!data.hasOwnProperty('plannable')) {\n      data = this.mergeEditResult(data)\n    }\n\n    data.start_at = data.plannable.todo_date\n    data.end_at = data.plannable.todo_date\n    data.all_day = false\n    data.title = data.plannable.title\n    data.url = data.html_url\n\n    this.object = this.calendarEvent = data\n    this.object.id = this.id = `${data.plannable_type}_${data.plannable_id}`\n    this.title = data.title || 'Untitled'\n    this.start = this.parseStartDate()\n    this.end = undefined\n    this.allDay = data.all_day\n    // see originalStart in super's copyDataFromObject\n    if (this.end) this.originalEndDate = fcUtil.clone(this.end)\n    this.lockedTitle = this.object.parent_event_id != null\n    this.description = data.description\n    this.addClass(`group_${this.contextCode()}`)\n    this.deleteObjectURL = this.apiUrl()\n    this.editUrl = `${data.url}/edit`\n\n    return ToDoItem.__super__.copyDataFromObject.apply(this, arguments)\n  },\n\n  endDate() {\n    return this.originalEndDate\n  },\n\n  parseStartDate() {\n    if (this.calendarEvent.start_at) {\n      return fcUtil.wrap(this.calendarEvent.start_at)\n    }\n    return null\n  },\n\n  displayTimeString() {\n    return this.formatTime(this.startDate())\n  },\n\n  readableType() {\n    return this.readableTypes[this.object.plannable_type]\n  },\n\n  fullDetailsURL() {\n    return this.object.html_url\n  },\n\n  saveParams(todo_date, title) {\n    const date_param = fcUtil.unwrap(todo_date).toISOString()\n    const params = {}\n    if (this.object.plannable_type === 'wiki_page') {\n      params['wiki_page[student_planner_checkbox]'] = true\n      params['wiki_page[student_todo_at]'] = date_param\n      if (title) {\n        params['wiki_page[title]'] = title\n      }\n    } else {\n      params.todo_date = date_param\n      if (title) {\n        params.title = title\n      }\n    }\n    return params\n  },\n\n  // called at the end of a drag and drop operation\n  saveDates(success, error) {\n    return this.save(this.saveParams(this.start), success, error)\n  },\n\n  methodAndURLForSave() {\n    return ['PUT', this.apiUrl()]\n  },\n\n  urlFragment() {\n    switch (this.object.plannable_type) {\n      case 'wiki_page':\n        return `pages/${encodeURIComponent(this.object.plannable.url)}`\n      default:\n        return `${encodeURIComponent(this.object.plannable_type)}s/${encodeURIComponent(\n          this.object.plannable_id\n        )}`\n    }\n  },\n\n  apiUrl() {\n    return `${this.contextApiPrefix()}/${this.urlFragment()}`\n  },\n\n  mergeEditResult(data) {\n    // here we need to preserve the necessary fields that the planner api returns outside of plannable\n    // (additionally we need to preserve the transformed ones from EventDataSource)\n    const {\n      type,\n      context_code,\n      all_context_codes,\n      plannable_type,\n      plannable_id,\n      planner_override,\n      new_activity,\n      submissions,\n      html_url\n    } = this.object\n\n    return {\n      type,\n      context_code,\n      all_context_codes,\n      plannable_type,\n      plannable_id,\n      planner_override,\n      new_activity,\n      submissions,\n      html_url,\n      plannable_date: data.todo_date,\n      plannable: data // replace the plannable with the wiki page / discussion topic API update result\n    }\n  }\n})\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport CommonEvent from './CommonEvent'\nimport Assignment from './CommonEvent.Assignment'\nimport AssignmentOverride from './CommonEvent.AssignmentOverride'\nimport CalendarEvent from './CommonEvent.CalendarEvent'\nimport PlannerNote from './CommonEvent.PlannerNote'\nimport ToDoItem from './CommonEvent.ToDoItem'\nimport splitAssetString from '../str/splitAssetString'\n\nexport default function commonEventFactory(data, contexts) {\n  let items, obj, parts\n  if (data == null) {\n    obj = new CommonEvent()\n    obj.allPossibleContexts = contexts\n    obj.can_change_context = true\n    return obj\n  }\n\n  let actualContextCode = data.context_code\n  let contextCode = data.effective_context_code || actualContextCode\n\n  const type = data.assignment_overrides\n    ? 'assignment_override'\n    : data.assignment || data.assignment_group_id\n    ? 'assignment'\n    : data.type === 'planner_note'\n    ? 'planner_note'\n    : data.plannable\n    ? 'todo_item'\n    : 'calendar_event'\n\n  data = data.assignment_overrides\n    ? {assignment: data.assignment, assignment_override: data.assignment_overrides[0]}\n    : data.assignment || data.calendar_event || data\n  if (data.hidden) {\n    return null\n  } // e.g. parent event of section-level events\n  if (actualContextCode == null) {\n    actualContextCode = data.context_code\n  }\n  if (contextCode == null) {\n    contextCode = data.effective_context_code || data.context_code\n  }\n\n  let contextInfo = contexts.find(context => context.asset_string === contextCode)\n\n  // match one of a multi-context event\n  if (contextInfo == null && contextCode && contextCode.indexOf(',') >= 0) {\n    const contextCodes = contextCode.split(',')\n    contextInfo = contexts.find(context => contextCodes.includes(context.asset_string))\n  }\n\n  // If we can't find the context, then we're not sure\n  // how to handle or display this, so we ditch it.\n  if (contextInfo == null) return null\n\n  if (actualContextCode !== contextCode) {\n    parts = splitAssetString(actualContextCode)\n  }\n  const actualContextInfo =\n    parts && (items = contextInfo[parts[0]]) && items.filter(item => item.id === parts[1])[0]\n\n  if (type === 'assignment') {\n    obj = new Assignment(data, contextInfo)\n  } else if (type === 'assignment_override') {\n    obj = new AssignmentOverride(data, contextInfo)\n  } else if (type === 'planner_note') {\n    obj = new PlannerNote(data, contextInfo, actualContextInfo)\n  } else if (type === 'todo_item') {\n    obj = new ToDoItem(data, contextInfo, actualContextInfo)\n  } else {\n    obj = new CalendarEvent(data, contextInfo, actualContextInfo)\n  }\n\n  // TODO: Improve permissions handling\n  // The API is not currently telling us what permissions a user\n  // has on each object it returns. So, we're going to guess by\n  // the following assumptions:\n  obj.can_edit = false\n  obj.can_delete = false\n  obj.can_change_context = false\n\n  if (obj.object.appointment_group_id) {\n    // for events linked to appointment groups, use appointment group permissions\n    // because e.g. students can create group calendar events but cannot edit group AGs\n    if (obj.object.can_manage_appointment_group) {\n      obj.can_edit = true\n      obj.can_delete = true\n    }\n  } else {\n    // If the user can create an event in a context, they can also edit/delete\n    // any events in that context.\n    if (contextInfo.can_create_calendar_events) {\n      obj.can_edit = true\n      obj.can_delete = true\n    }\n    // If the event has a state \"locked\" - in which case, it can't be\n    // edited (but it could be deleted)\n    if (obj.object.workflow_state === 'locked') {\n      obj.can_edit = false\n    }\n  }\n\n  // frozen assignments can't be deleted\n  if (obj.assignment && obj.assignment.frozen) {\n    obj.can_delete = false\n  }\n\n  // events can be moved to a different calendar in limited circumstances\n  if (type === 'calendar_event') {\n    if (\n      !obj.object.appointment_group_id &&\n      !obj.object.parent_event_id &&\n      !obj.object.child_events_count &&\n      !obj.object.effective_context_code\n    ) {\n      obj.can_change_context = true\n    }\n  }\n\n  if (type === 'planner_note') {\n    // planner_notes can only be created by the user for herself,\n    // so she can always edit them\n    obj.can_change_context = true // TODO: will change to false when note is linked to an asset\n    obj.can_edit = true\n    obj.can_delete = true\n  }\n\n  if (type === 'todo_item') {\n    const can_update_object = contextInfo[`can_update_${obj.object.plannable_type}`]\n    const can_manage_todo = contextInfo.can_update_todo_date\n    obj.can_edit = can_update_object && can_manage_todo\n    obj.can_delete = can_update_object\n  }\n\n  // disable fullcalendar.js dragging unless the user has permissions\n  if (!obj.can_edit) obj.editable = false\n\n  return obj\n}\n","#\n# Copyright (C) 2015 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport tz from 'timezone'\nimport 'fullcalendar'\nimport 'jquery.instructure_date_and_time'\n\n# expects a date (unfudged), and returns a fullcalendar moment\n# (fudged) appropriate for passing to fullcalendar methods\nwrap = (date) ->\n  return null unless date\n  $.fullCalendar.moment($.fudgeDateForProfileTimezone(date))\n\n# expects a fullcalendar moment (fudged) from a fullcalendar\n# callback or as intended for a fullcalendar method, and returns\n# the actual date (unfudged)\nunwrap = (date) ->\n  return null unless date\n  # sometimes date will have zone information, but sometimes it doesn't.\n  # if it does, we can just use .toDate() to get the Date object in the\n  # fudged timezone that the fullcalendar was working in, then unfudge it.\n  # but if not, the .format() will return it in ISO8601 but without zone\n  # information, and we assume its representing a time in the fudged zone.\n  # so just parsing it from there is the same as unfudging it. we can't\n  # use toDate() in that case as it would act as a UTC time there.\n  if date.hasZone()\n    $.unfudgeDateForProfileTimezone(date.toDate())\n  else\n    tz.parse(date.format())\n\n# returns a fullcalendar moment (fudged) representing now\nnow = -> wrap(new Date)\n\n# returns a new moment with same values as the last\nclone = (moment) ->\n  $.fullCalendar.moment(moment)\n\n# compensates for intervals spanning DST changes\naddMinuteDelta = (moment, minuteDelta) ->\n  dayDelta = (minuteDelta / 1440) | 0\n  minuteDelta = minuteDelta % 1440\n  date = unwrap(moment)\n  date = tz.shift(date, (if dayDelta < 0 then '' else '+') + dayDelta + ' days')\n  date = tz.shift(date, (if minuteDelta < 0 then '' else '+') + minuteDelta + ' minutes')\n  wrap(date)\n\nexport default fcUtil = {wrap, unwrap, now, clone, addMinuteDelta}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"and_more_1c35b232\\\":\\\"...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"        %{name}\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"     \\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"      \\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"     \\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"         \\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"        \\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"   .         .\\\",\\\"assignment_title_82b4422e\\\":\\\" :\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots}  \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"   %{start}   %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"         \\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\" ...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"      \\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"       \\\",\\\"ends_in_past_error\\\":\\\"        \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"       \\\"},\\\"event_on_this_day\\\":\\\"    \\\",\\\"loading_more_items\\\":\\\"   .\\\",\\\"loading_undated_events\\\":\\\"   \\\",\\\"messages_sent\\\":\\\"  \\\",\\\"name_is_required\\\":\\\" !\\\",\\\"no_dates_error\\\":\\\"     \\\",\\\"no_groups\\\":\\\"    \\\",\\\"no_users\\\":\\\"    \\\",\\\"open_appointment_on_this_day\\\":\\\"     \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"      \\\",\\\"delete_override\\\":\\\"        \\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\" \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"     \\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\" \\\",\\\"confirm_removal_a9bb889\\\":\\\" \\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"  \\\",\\\"date_is_required_9c6f5e83\\\":\\\" !\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"  \\\",\\\"due_date_is_required_cdb75f25\\\":\\\"  !\\\",\\\"due_dueat_ef67f6f4\\\":\\\" : %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\" \\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"        %{length} \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\" \\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\" \\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\" \\\",\\\"reserved_by_d563e7d2\\\":\\\" : \\\",\\\"reserved_by_you_cd03b62d\\\":\\\" \\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"  \\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"       *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"       .\\\",\\\"title_is_required_8bb13295\\\":\\\" !\\\",\\\"to_do_1d554f36\\\":\\\" \\\",\\\"to_do_5526f10a\\\":\\\" :\\\",\\\"to_do_item_d76ecb78\\\":\\\"  \\\",\\\"unreserved_e86b7425\\\":\\\" \\\"},\\\"cy\\\":{\\\"and_more_1c35b232\\\":\\\"a mwy...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Ydych chin sir eich bod am gansloch apwyntiad gyda %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Ydych chin sir eich bod am ddileur drafodaeth hon?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Ydych chin sir eich bod am ddileur digwyddiad hwn?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Ydych chin sir eich bod am ddileur dudalen hon?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Ydych chin sir eich bod am ddileur eitem hon ar y rhestr tasgau iw gwneud?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Ydych chin sir eich bod am ddileuch lle ar gyfer y digwyddiad hwn?\\\",\\\"assignment_976578a8\\\":\\\"Aseiniad\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Mae gan yr aseiniad ddyddiad sydd wedii gloi. Does dim modd gosod dyddiad erbyn sydd y tu hwnt ir ystod o dyddiadau cloi.\\\",\\\"assignment_title_82b4422e\\\":\\\"Teitl yr Aseiniad:\\\",\\\"available_8606e40c\\\":\\\"Ar gael\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Ar gael\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} - mwy ar gael\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Yn dangos or %{start} ir %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Wrth ddileu hyn, bydd unrhyw apwyntiadau y mae myfyrwyr wedi cofrestru ar eu cyfer hefyd yn cael eu dileu.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"send_message\\\":\\\"Anfon\\\",\\\"sending_message\\\":\\\"Wrthin anfon...\\\"},\\\"calendar_title\\\":\\\"Calendr:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Ydych chin sir eich bod am ddileur grp hwn o apwyntiadau?\\\",\\\"confirm_deletion\\\":\\\"Cadarnhaur Dileu\\\",\\\"end_before_start_error\\\":\\\"Maen rhaid ir amser dechrau fod cyn yr amser gorffen\\\",\\\"ends_in_past_error\\\":\\\"Does dim modd i chi greu slot apwyntiad syn dod i ben yn y gorffennol\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Gwall wrth anfon eich neges, rhowch gynnig arall arni\\\"},\\\"event_on_this_day\\\":\\\"Mae digwyddiad ar y diwrnod hwn\\\",\\\"loading_more_items\\\":\\\"Llwytho mwy o eitemau.\\\",\\\"loading_undated_events\\\":\\\"Llwytho digwyddiadau heb ddyddiad\\\",\\\"messages_sent\\\":\\\"Negeseuon wediu Hanfon\\\",\\\"name_is_required\\\":\\\"Maen rhaid rhoi enw!\\\",\\\"no_dates_error\\\":\\\"Maen rhaid i chi roi o leiaf un dyddiad ac amser\\\",\\\"no_groups\\\":\\\"Heb ddod o hyd i grwpiau\\\",\\\"no_users\\\":\\\"Heb ddod o hyd i ddefnyddwyr\\\",\\\"open_appointment_on_this_day\\\":\\\"Mae apwyntiad ar gael ar y diwrnod hwn\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Ydych chin sir eich bod am ddileur aseiniad hwn?\\\",\\\"delete_override\\\":\\\"Ydych chin sir eich bod am ddileur broses hon o ddiystyrur aseiniad?\\\"},\\\"save\\\":\\\"Cadw\\\",\\\"save_and_publish\\\":\\\"Cadw a Chyhoeddi\\\",\\\"save_changes\\\":\\\"Cadw Newidiadau\\\",\\\"time_block_errors\\\":\\\"Mae gwallau yn y blociau amser rydych wediu dewis.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Golygu Grp Apwyntiadau\\\",\\\"edit_event\\\":\\\"Golygu Digwyddiad\\\"},\\\"today\\\":\\\"Heddiw\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendr:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Cadarnhaur Dileu\\\",\\\"confirm_removal_a9bb889\\\":\\\"Cadarnhaur Tynnu\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Cadarnhau Tynnur Lle sydd wedii Drefnu\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Maen rhaid rhoi dyddiad!\\\",\\\"discussion_6719c51d\\\":\\\"Trafodaeth\\\",\\\"do_nothing_9672b478\\\":\\\"Gwneud dim byd\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Maen rhaid rhoi dyddiad erbyn!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Erbyn: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Digwyddiad\\\",\\\"event_title_57a50568\\\":\\\"Teitl y Digwyddiad:\\\",\\\"filled_5d8c39e\\\":\\\"Wedi llenwi\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Mae'r enw yn rhy hir, rhaid iddo fod yn llai na %{length} nod\\\",\\\"next_month_b55a387c\\\":\\\"Mis nesaf\\\",\\\"no_date_bfeb2df7\\\":\\\"Dim Dyddiad\\\",\\\"ok_c47544a2\\\":\\\"Iawn\\\",\\\"page_50c4823d\\\":\\\"Tudalen\\\",\\\"previous_month_7adf1380\\\":\\\"Mis blaenorol\\\",\\\"quiz_e0dcce8f\\\":\\\"Cwis\\\",\\\"reschedule_9f780bb8\\\":\\\"Ail-drefnu\\\",\\\"reserved_by_d563e7d2\\\":\\\"Lle wedi'i drefnu gan: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Lle wedi'i drefnu gennych chi\\\",\\\"reserved_f247b60b\\\":\\\"Lle wedii drefnu\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Trefnydd i'w weld\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Mae apwyntiad nesaf y cwrs hwn ar gael ar *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Does dim llefydd ar gael ar gyfer y cwrs hwn.\\\",\\\"title_is_required_8bb13295\\\":\\\"Maen rhaid rhoi teitl!\\\",\\\"to_do_1d554f36\\\":\\\"Tasgau iw Gwneud\\\",\\\"to_do_5526f10a\\\":\\\"Tasgau iw Gwneud:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Eitem iw wneud\\\",\\\"unreserved_e86b7425\\\":\\\"Wedi dad-drefnu\\\"},\\\"da\\\":{\\\"and_more_1c35b232\\\":\\\"og mere ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Er du sikker p, du vil annullere din aftale med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Er du sikker p, at du vil slette denne diskussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Er du sikker p, du vil slette denne begivenhed?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Er du sikker p, at du nsker at slette denne side?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Er du sikker p, du vil slette denne Opgaveliste?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Er du sikker p, at du vil slette din reservation til denne begivenhed?\\\",\\\"assignment_976578a8\\\":\\\"Opgave\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Opgaven har en lst dato. Afleveringsdato kan ikke indstilles uden for lst datointerval.\\\",\\\"assignment_title_82b4422e\\\":\\\"Opgavetitel:\\\",\\\"available_8606e40c\\\":\\\"Tilgngelig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} tilgngelige\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mere tilgngelig\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Viser nu %{start} til og med %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sletning af den sletter ogs eventuelle aftaler, som de studerende har meldt sig til.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sender ...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Er du sikker p, du vil slette denne aftalegruppe?\\\",\\\"confirm_deletion\\\":\\\"Bekrft sletning\\\",\\\"end_before_start_error\\\":\\\"Starttidspunkt skal vre fr sluttidspunkt\\\",\\\"ends_in_past_error\\\":\\\"Du kan ikke oprette et tidsrum til aftaler, som slutter i fortiden\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Der opstod en fejl ved afsendelse af din besked, prv igen\\\"},\\\"event_on_this_day\\\":\\\"Der findes en begivenhed p den pgldende dag\\\",\\\"loading_more_items\\\":\\\"Indlser flere elementer.\\\",\\\"loading_undated_events\\\":\\\"Indlser udaterede begivenheder\\\",\\\"messages_sent\\\":\\\"Beskeder sendt\\\",\\\"name_is_required\\\":\\\"Navn pkrvet!\\\",\\\"no_dates_error\\\":\\\"Du skal specificere mindst en dato og tidspunkt\\\",\\\"no_groups\\\":\\\"Ikke fundet nogen grupper\\\",\\\"no_users\\\":\\\"Ikke fundet nogen brugere\\\",\\\"open_appointment_on_this_day\\\":\\\"Der findes en ben aftale p den dag\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Er du sikker p, du vil slette denne opgave?\\\",\\\"delete_override\\\":\\\"Er du sikker p, at du vil slette denne tilsidesttelse af opgaven?\\\"},\\\"save\\\":\\\"Gem\\\",\\\"save_and_publish\\\":\\\"Gem og offentliggr\\\",\\\"save_changes\\\":\\\"Gem ndringer\\\",\\\"time_block_errors\\\":\\\"Der findes fejl i dine markerede tidsblokke.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Rediger aftalegruppe\\\",\\\"edit_event\\\":\\\"Rediger begivenhed\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekrft sletning\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekrft fjernelse\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekrft fjernelse af reservation\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dato er pkrvet!\\\",\\\"discussion_6719c51d\\\":\\\"Diskussion\\\",\\\"do_nothing_9672b478\\\":\\\"Gr intet\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Afleveringsdato er pkrvet!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Forfalder: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Begivenhed\\\",\\\"event_title_57a50568\\\":\\\"Begivenhedstitel:\\\",\\\"filled_5d8c39e\\\":\\\"Udfyldt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Navn er for lang, skal vre under %{length} tegn\\\",\\\"next_month_b55a387c\\\":\\\"Nste mned\\\",\\\"no_date_bfeb2df7\\\":\\\"Ingen dato\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Side\\\",\\\"previous_month_7adf1380\\\":\\\"Forrige mned\\\",\\\"quiz_e0dcce8f\\\":\\\"Test\\\",\\\"reschedule_9f780bb8\\\":\\\"Flyt\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserveret af: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reserveret af dig\\\",\\\"reserved_f247b60b\\\":\\\"Reserveret\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planlgningsvrktj vises\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Den nste tilgngelige aftale i dette fag er d. *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Der er ingen ledige tilmeldinger til dette fag.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel er pkrvet!\\\",\\\"to_do_1d554f36\\\":\\\"Opgaveliste\\\",\\\"to_do_5526f10a\\\":\\\"Opgaveliste:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Opgaveliste-element\\\",\\\"unreserved_e86b7425\\\":\\\"Ikke reserveret\\\"},\\\"da-x-k12\\\":{\\\"and_more_1c35b232\\\":\\\"og mere ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Er du sikker p, du vil annullere din aftale med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Er du sikker p, at du vil slette denne diskussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Er du sikker p, du vil slette denne begivenhed?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Er du sikker p, at du nsker at slette denne side?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Er du sikker p, du vil slette denne Opgaveliste?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Er du sikker p, at du vil slette din reservation til denne begivenhed?\\\",\\\"assignment_976578a8\\\":\\\"Opgave\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Opgaven har en lst dato. Afleveringsdato kan ikke indstilles uden for lst datointerval.\\\",\\\"assignment_title_82b4422e\\\":\\\"Opgavetitel:\\\",\\\"available_8606e40c\\\":\\\"Tilgngelig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} tilgngelige\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mere tilgngelig\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Viser nu %{start} til og med %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sletning af den sletter ogs eventuelle aftaler, som eleverne har meldt sig til.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sender ...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Er du sikker p, du vil slette denne aftalegruppe?\\\",\\\"confirm_deletion\\\":\\\"Bekrft sletning\\\",\\\"end_before_start_error\\\":\\\"Starttidspunkt skal vre fr sluttidspunkt\\\",\\\"ends_in_past_error\\\":\\\"Du kan ikke oprette et tidsrum til aftaler, som slutter i fortiden\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Der opstod en fejl ved afsendelse af din besked, prv igen\\\"},\\\"event_on_this_day\\\":\\\"Der findes en begivenhed p den pgldende dag\\\",\\\"loading_more_items\\\":\\\"Indlser flere elementer.\\\",\\\"loading_undated_events\\\":\\\"Indlser udaterede begivenheder\\\",\\\"messages_sent\\\":\\\"Beskeder sendt\\\",\\\"name_is_required\\\":\\\"Navn pkrvet!\\\",\\\"no_dates_error\\\":\\\"Du skal specificere mindst en dato og tidspunkt\\\",\\\"no_groups\\\":\\\"Ikke fundet nogen grupper\\\",\\\"no_users\\\":\\\"Ikke fundet nogen brugere\\\",\\\"open_appointment_on_this_day\\\":\\\"Der findes en ben aftale p den dag\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Er du sikker p, du vil slette denne opgave?\\\",\\\"delete_override\\\":\\\"Er du sikker p, at du vil slette denne tilsidesttelse af opgaven?\\\"},\\\"save\\\":\\\"Gem\\\",\\\"save_and_publish\\\":\\\"Gem og offentliggr\\\",\\\"save_changes\\\":\\\"Gem ndringer\\\",\\\"time_block_errors\\\":\\\"Der findes fejl i dine markerede tidsblokke.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Rediger aftalegruppe\\\",\\\"edit_event\\\":\\\"Rediger begivenhed\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekrft sletning\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekrft fjernelse\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekrft fjernelse af reservation\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dato er pkrvet!\\\",\\\"discussion_6719c51d\\\":\\\"Diskussion\\\",\\\"do_nothing_9672b478\\\":\\\"Gr intet\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Afleveringsdato er pkrvet!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Forfalder: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Begivenhed\\\",\\\"event_title_57a50568\\\":\\\"Begivenhedstitel:\\\",\\\"filled_5d8c39e\\\":\\\"Udfyldt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Navn er for lang, skal vre under %{length} tegn\\\",\\\"next_month_b55a387c\\\":\\\"Nste mned\\\",\\\"no_date_bfeb2df7\\\":\\\"Ingen dato\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Side\\\",\\\"previous_month_7adf1380\\\":\\\"Forrige mned\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Flyt\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserveret af: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reserveret af dig\\\",\\\"reserved_f247b60b\\\":\\\"Reserveret\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planlgningsvrktj vises\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Den nste tilgngelige aftale i dette fag er d. *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Der er ingen ledige tilmeldinger til dette fag.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel er pkrvet!\\\",\\\"to_do_1d554f36\\\":\\\"Opgaveliste\\\",\\\"to_do_5526f10a\\\":\\\"Opgaveliste:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Opgaveliste-element\\\",\\\"unreserved_e86b7425\\\":\\\"Ikke reserveret\\\"},\\\"de\\\":{\\\"and_more_1c35b232\\\":\\\"und mehr ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Wollen Sie wirklich den Termin mit %{name} stornieren?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Mchten Sie diese Diskussion wirklich lschen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Mchten Sie dieses Event wirklich lschen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Mchten Sie diese Seite wirklich lschen?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Mchten Sie diese Aufgabe wirklich lschen?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Wollen Sie wirklich Ihre Reservierung fr dieses Event lschen?\\\",\\\"assignment_976578a8\\\":\\\"Aufgabe\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Aufgabe hat ein gesperrtes Datum. Das Datum kann nicht auerhalb des gesperrten Datumsbereichs festgesetzt werden.\\\",\\\"assignment_title_82b4422e\\\":\\\"Titel der Aufgabe:\\\",\\\"available_8606e40c\\\":\\\"Verfgbar\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} verfgbar\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mehr verfgbar\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Aktuelle Anzeige: %{start} bis %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Mir diesem Lschen lschen Sie auch alle Termine, fr die sich Studenten angemeldet haben.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"send_message\\\":\\\"Senden\\\",\\\"sending_message\\\":\\\"Wird gesendet ...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Wollen Sie diese Termingruppe wirklich lschen?\\\",\\\"confirm_deletion\\\":\\\"Lschen besttigen\\\",\\\"end_before_start_error\\\":\\\"Beginnzeit muss vor Endzeit liegen\\\",\\\"ends_in_past_error\\\":\\\"Sie knnen keinen Terminblock erstellen, dessen Ende in der Vergangenheit liegt\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Beim Versenden Ihrer Nachricht ist ein Fehler aufgetreten, bitte versuchen Sie es nochmal\\\"},\\\"event_on_this_day\\\":\\\"An diesem Tag findet ein Event statt\\\",\\\"loading_more_items\\\":\\\"Weitere Elemente werden geladen.\\\",\\\"loading_undated_events\\\":\\\"Undatierte Events werden geladen.\\\",\\\"messages_sent\\\":\\\"Nachricht gesendet\\\",\\\"name_is_required\\\":\\\"Name erforderlich!\\\",\\\"no_dates_error\\\":\\\"Sie mssen mind. ein Datum und eine Uhrzeit angeben.\\\",\\\"no_groups\\\":\\\"Keine Gruppen gefunden\\\",\\\"no_users\\\":\\\"Keine Benutzer gefunden\\\",\\\"open_appointment_on_this_day\\\":\\\"An diesem Tag gibt es einen offenen Termin\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Mchten Sie diese Aufgabe wirklich lschen?\\\",\\\"delete_override\\\":\\\"Mchten Sie diese Auerkraftsetzung der Aufgabe wirklich lschen?\\\"},\\\"save\\\":\\\"Speichern\\\",\\\"save_and_publish\\\":\\\"Speichern und verffentlichen\\\",\\\"save_changes\\\":\\\"nderungen speichern\\\",\\\"time_block_errors\\\":\\\"In Ihrer Zeitblockauswahl sind Fehler aufgetreten.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Termingruppe bearbeiten\\\",\\\"edit_event\\\":\\\"Event bearbeiten\\\"},\\\"today\\\":\\\"Heute\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Lschen besttigen\\\",\\\"confirm_removal_a9bb889\\\":\\\"Entfernen besttigen\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Reservierungsstornierung besttigen\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Datum ist erforderlich!\\\",\\\"discussion_6719c51d\\\":\\\"Diskussion\\\",\\\"do_nothing_9672b478\\\":\\\"Nichts tun\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Flligkeitsdatum ist erforderlich!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Fllig am: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Event\\\",\\\"event_title_57a50568\\\":\\\"Eventtitel:\\\",\\\"filled_5d8c39e\\\":\\\"Ausgefllt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Der Name muss krzer als %{length} Zeichen sein.\\\",\\\"next_month_b55a387c\\\":\\\"Nchster Monat\\\",\\\"no_date_bfeb2df7\\\":\\\"Kein Datum\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Seite\\\",\\\"previous_month_7adf1380\\\":\\\"Voriger Monat\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Termin verschieben\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserviert von: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Von Ihnen reserviert\\\",\\\"reserved_f247b60b\\\":\\\"Reserviert\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Angezeigter Terminplaner\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Der nchste verfgbare Termin in diesem Kurs ist am *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Fr diesen Kurs gibt es keine Anmeldungen.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel ist erforderlich!\\\",\\\"to_do_1d554f36\\\":\\\"Zu erledigen\\\",\\\"to_do_5526f10a\\\":\\\"Zu erledigen:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Eintrag in der Aufgabenliste\\\",\\\"unreserved_e86b7425\\\":\\\"Frei\\\"},\\\"el\\\":{\\\"and_more_1c35b232\\\":\\\" ...\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\" /       ;\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"  %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\" ,           .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\" ...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\" /        ;\\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"         \\\",\\\"ends_in_past_error\\\":\\\"         \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"      ,  \\\"},\\\"event_on_this_day\\\":\\\"     \\\",\\\"loading_more_items\\\":\\\"  .\\\",\\\"loading_undated_events\\\":\\\"  \\\",\\\"messages_sent\\\":\\\"  \\\",\\\"no_dates_error\\\":\\\"        \\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"      \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\" /       ;\\\",\\\"delete_override\\\":\\\" /       ;\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"  \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"    .\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\" \\\",\\\"due_dueat_ef67f6f4\\\":\\\"\\\\u003cmrk mid=\\\\\\\"4419\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003e /:\\\\u003c/mrk\\\\u003e \\\\u003cmrk mid=\\\\\\\"4420\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003e%{dueAt}\\\\u003c/mrk\\\\u003e\\\",\\\"filled_5d8c39e\\\":\\\"  \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\"  \\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\"   :\\\",\\\"reserved_f247b60b\\\":\\\"  \\\"},\\\"en-AU\\\":{\\\"and_more_1c35b232\\\":\\\"and more...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Are you sure you want to cancel your appointment with %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Are you sure you want to delete this discussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Are you sure you want to delete this event?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Are you sure you want to delete this page?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Are you sure you want to delete this To Do item?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Are you sure you want to delete your reservation to this event?\\\",\\\"assignment_976578a8\\\":\\\"Assignment\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Assignment has a locked date. Due date cannot be set outside of locked date range.\\\",\\\"assignment_title_82b4422e\\\":\\\"Assignment Title:\\\",\\\"available_8606e40c\\\":\\\"Available\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Available\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} more available\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Now displaying %{start} through %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Deleting it will also delete any appointments that have been signed up for by students.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sending...\\\"},\\\"calendar_title\\\":\\\"Calendar:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Are you sure you want to delete this appointment group?\\\",\\\"confirm_deletion\\\":\\\"Confirm Deletion\\\",\\\"end_before_start_error\\\":\\\"Start time must be before end time\\\",\\\"ends_in_past_error\\\":\\\"You cannot create an appointment slot that ends in the past\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"There was an error sending your message, please try again\\\"},\\\"event_on_this_day\\\":\\\"There is an event on this day\\\",\\\"loading_more_items\\\":\\\"Loading more items.\\\",\\\"loading_undated_events\\\":\\\"Loading undated events\\\",\\\"messages_sent\\\":\\\"Messages Sent\\\",\\\"name_is_required\\\":\\\"Name is required!\\\",\\\"no_dates_error\\\":\\\"You need to specify at least one date and time\\\",\\\"no_groups\\\":\\\"No groups found\\\",\\\"no_users\\\":\\\"No users found\\\",\\\"open_appointment_on_this_day\\\":\\\"There is an open appointment on this day\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Are you sure you want to delete this assignment?\\\",\\\"delete_override\\\":\\\"Are you sure you want to delete this assignment override?\\\"},\\\"save\\\":\\\"Save\\\",\\\"save_and_publish\\\":\\\"Save \\\\u0026 Publish\\\",\\\"save_changes\\\":\\\"Save Changes\\\",\\\"time_block_errors\\\":\\\"There are errors in your time block selections.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Edit Appointment Group\\\",\\\"edit_event\\\":\\\"Edit Event\\\"},\\\"today\\\":\\\"Today\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendar:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirm Deletion\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirm Removal\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirm Reservation Removal\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Date is required!\\\",\\\"discussion_6719c51d\\\":\\\"Discussion\\\",\\\"do_nothing_9672b478\\\":\\\"Do Nothing\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Due Date is required!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Due: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Event\\\",\\\"event_title_57a50568\\\":\\\"Event Title:\\\",\\\"filled_5d8c39e\\\":\\\"Filled\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Name is too long, must be under %{length} characters\\\",\\\"next_month_b55a387c\\\":\\\"Next month\\\",\\\"no_date_bfeb2df7\\\":\\\"No Date\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Page\\\",\\\"previous_month_7adf1380\\\":\\\"Previous month\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Reschedule\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserved By: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reserved By You\\\",\\\"reserved_f247b60b\\\":\\\"Reserved\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Scheduler shown\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"The next available appointment in this course is on *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"There are no available signups for this course.\\\",\\\"title_is_required_8bb13295\\\":\\\"Title is required!\\\",\\\"to_do_1d554f36\\\":\\\"To Do\\\",\\\"to_do_5526f10a\\\":\\\"To Do:\\\",\\\"to_do_item_d76ecb78\\\":\\\"To Do Item\\\",\\\"unreserved_e86b7425\\\":\\\"Unreserved\\\"},\\\"en-CA\\\":{\\\"and_more_1c35b232\\\":\\\"and more...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Are you sure you want to cancel your appointment with %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Are you sure you want to delete this discussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Are you sure you want to delete this event?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Are you sure you want to delete this page?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Are you sure you want to delete this To Do item?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Are you sure you want to delete your reservation to this event?\\\",\\\"assignment_976578a8\\\":\\\"Assignment\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Assignment has a locked date. Due date cannot be set outside of locked date range.\\\",\\\"assignment_title_82b4422e\\\":\\\"Assignment Title:\\\",\\\"available_8606e40c\\\":\\\"Available\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Available\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} more available\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Now displaying %{start} through %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Deleting it will also delete any appointments that have been signed up for by students.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sending...\\\"},\\\"calendar_title\\\":\\\"Calendar:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Are you sure you want to delete this appointment group?\\\",\\\"confirm_deletion\\\":\\\"Confirm Deletion\\\",\\\"end_before_start_error\\\":\\\"Start time must be before end time\\\",\\\"ends_in_past_error\\\":\\\"You cannot create an appointment slot that ends in the past\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"There was an error sending your message, please try again\\\"},\\\"event_on_this_day\\\":\\\"There is an event on this day\\\",\\\"loading_more_items\\\":\\\"Loading more items.\\\",\\\"loading_undated_events\\\":\\\"Loading undated events\\\",\\\"messages_sent\\\":\\\"Messages Sent\\\",\\\"name_is_required\\\":\\\"Name is required!\\\",\\\"no_dates_error\\\":\\\"You need to specify at least one date and time\\\",\\\"no_groups\\\":\\\"No groups found\\\",\\\"no_users\\\":\\\"No users found\\\",\\\"open_appointment_on_this_day\\\":\\\"There is an open appointment on this day\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Are you sure you want to delete this assignment?\\\",\\\"delete_override\\\":\\\"Are you sure you want to delete this assignment override?\\\"},\\\"save\\\":\\\"Save\\\",\\\"save_and_publish\\\":\\\"Save \\\\u0026 Publish\\\",\\\"save_changes\\\":\\\"Save Changes\\\",\\\"time_block_errors\\\":\\\"There are errors in your time block selections.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Edit Appointment Group\\\",\\\"edit_event\\\":\\\"Edit Event\\\"},\\\"today\\\":\\\"Today\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendar:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirm Deletion\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirm Removal\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirm Reservation Removal\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Date is required!\\\",\\\"discussion_6719c51d\\\":\\\"Discussion\\\",\\\"do_nothing_9672b478\\\":\\\"Do Nothing\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Due Date is required!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Due: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Event\\\",\\\"event_title_57a50568\\\":\\\"Event Title:\\\",\\\"filled_5d8c39e\\\":\\\"Filled\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Name is too long, must be under %{length} characters\\\",\\\"next_month_b55a387c\\\":\\\"Next month\\\",\\\"no_date_bfeb2df7\\\":\\\"No Date\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Page\\\",\\\"previous_month_7adf1380\\\":\\\"Previous month\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Reschedule\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserved By: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reserved By You\\\",\\\"reserved_f247b60b\\\":\\\"Reserved\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Scheduler shown\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"The next available appointment in this course is on *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"There are no available signups for this course.\\\",\\\"title_is_required_8bb13295\\\":\\\"Title is required!\\\",\\\"to_do_1d554f36\\\":\\\"To Do\\\",\\\"to_do_5526f10a\\\":\\\"To Do:\\\",\\\"to_do_item_d76ecb78\\\":\\\"To Do Item\\\",\\\"unreserved_e86b7425\\\":\\\"Unreserved\\\"},\\\"en-GB\\\":{\\\"and_more_1c35b232\\\":\\\"and more...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Are you sure you want to cancel your appointment with %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Are you sure you want to delete this discussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Are you sure you want to delete this event?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Are you sure you want to delete this page?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Are you sure you want to delete this To Do item?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Are you sure you want to delete your reservation to this event?\\\",\\\"assignment_976578a8\\\":\\\"Assignment\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Assignment has a locked date. Due date cannot be set outside of locked date range.\\\",\\\"assignment_title_82b4422e\\\":\\\"Assignment title:\\\",\\\"available_8606e40c\\\":\\\"Available\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} available\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} more available\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Now displaying %{start} to %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Deleting it will also delete any appointments that have been signed up for by students.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sending...\\\"},\\\"calendar_title\\\":\\\"Calendar:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Are you sure you want to delete this appointment group?\\\",\\\"confirm_deletion\\\":\\\"Confirm deletion\\\",\\\"end_before_start_error\\\":\\\"Start time must be before end time\\\",\\\"ends_in_past_error\\\":\\\"You cannot create an appointment slot that ends in the past\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"There was an error sending your message, please try again\\\"},\\\"event_on_this_day\\\":\\\"There is an event on this day\\\",\\\"loading_more_items\\\":\\\"Loading more items.\\\",\\\"loading_undated_events\\\":\\\"Loading undated events\\\",\\\"messages_sent\\\":\\\"Messages sent\\\",\\\"name_is_required\\\":\\\"Name is required!\\\",\\\"no_dates_error\\\":\\\"You need to specify a minimum of one date and time\\\",\\\"no_groups\\\":\\\"No groups found\\\",\\\"no_users\\\":\\\"No users found\\\",\\\"open_appointment_on_this_day\\\":\\\"There is an open appointment on this day\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Are you sure you want to delete this assignment?\\\",\\\"delete_override\\\":\\\"Are you sure you want to delete this assignment override?\\\"},\\\"save\\\":\\\"Save\\\",\\\"save_and_publish\\\":\\\"Save \\\\u0026 Publish\\\",\\\"save_changes\\\":\\\"Save changes\\\",\\\"time_block_errors\\\":\\\"There are errors in your time block selections.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Edit appointment group\\\",\\\"edit_event\\\":\\\"Edit event\\\"},\\\"today\\\":\\\"Today\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendar:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirm deletion\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirm removal\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirm reservation removal\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Date is required\\\",\\\"discussion_6719c51d\\\":\\\"Discussion\\\",\\\"do_nothing_9672b478\\\":\\\"Do nothing\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Due Date is required!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Due: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Event\\\",\\\"event_title_57a50568\\\":\\\"Event title:\\\",\\\"filled_5d8c39e\\\":\\\"Filled\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Name is too long, must be under %{length} characters\\\",\\\"next_month_b55a387c\\\":\\\"Next month\\\",\\\"no_date_bfeb2df7\\\":\\\"No date\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Page\\\",\\\"previous_month_7adf1380\\\":\\\"Previous month\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Reschedule\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reserved By: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reserved by you\\\",\\\"reserved_f247b60b\\\":\\\"Reserved\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Scheduler shown\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"The next available appointment in this course is on *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"There are no available signups for this course.\\\",\\\"title_is_required_8bb13295\\\":\\\"Title is required\\\",\\\"to_do_1d554f36\\\":\\\"To do\\\",\\\"to_do_5526f10a\\\":\\\"To Do:\\\",\\\"to_do_item_d76ecb78\\\":\\\"To-o item\\\",\\\"unreserved_e86b7425\\\":\\\"Unreserved\\\"},\\\"es\\\":{\\\"and_more_1c35b232\\\":\\\"y ms...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Est seguro de que desea cancelar su cita con %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Est seguro de que desea eliminar este foro de discusin?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Est seguro de que desea eliminar este evento?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Est seguro de que desea eliminar esta pgina?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Est seguro de que desea eliminar este item por hacer?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Est seguro de que desea eliminar su reserva para este evento?\\\",\\\"assignment_976578a8\\\":\\\"Tarea\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"La tarea tiene una fecha bloqueada. La fecha de entrega no puede establecerse fuera del rango de fecha bloqueada.\\\",\\\"assignment_title_82b4422e\\\":\\\"Ttulo de la tarea:\\\",\\\"available_8606e40c\\\":\\\"Disponible\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} disponibles\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mayor disponibilidad\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Ahora se muestran %{start} hasta %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Al eliminarlo tambin eliminar cualquier cita que hayan realizado los estudiantes.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"send_message\\\":\\\"Enviar\\\",\\\"sending_message\\\":\\\"Enviando...\\\"},\\\"calendar_title\\\":\\\"Calendario:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Est seguro de que desea eliminar este grupo de citas?\\\",\\\"confirm_deletion\\\":\\\"Confirmar la eliminacin\\\",\\\"end_before_start_error\\\":\\\"La hora de inicio debe ser anterior a la hora de finalizacin\\\",\\\"ends_in_past_error\\\":\\\"No puede crear un espacio para una cita que termina en el pasado\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Ha ocurrido un error al enviar su mensaje. Intntelo de nuevo\\\"},\\\"event_on_this_day\\\":\\\"Hay un evento en este da\\\",\\\"loading_more_items\\\":\\\"Cargando ms items.\\\",\\\"loading_undated_events\\\":\\\"Cargando eventos sin fecha\\\",\\\"messages_sent\\\":\\\"Mensajes enviados\\\",\\\"name_is_required\\\":\\\"Es obligatorio escribir un nombre\\\",\\\"no_dates_error\\\":\\\"Necesita especificar por lo menos una fecha y hora\\\",\\\"no_groups\\\":\\\"No se encontraron grupos\\\",\\\"no_users\\\":\\\"No se encontraron usuarios\\\",\\\"open_appointment_on_this_day\\\":\\\"Hay una cita abierta en este da\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Est seguro de que desea eliminar esta tarea?\\\",\\\"delete_override\\\":\\\"Est seguro de que desea eliminar esta anulacin de tarea?\\\"},\\\"save\\\":\\\"Guardar\\\",\\\"save_and_publish\\\":\\\"Guardar y publicar\\\",\\\"save_changes\\\":\\\"Guardar los cambios\\\",\\\"time_block_errors\\\":\\\"Hay errores en su seleccin de bloques de tiempo\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Editar grupo de cita\\\",\\\"edit_event\\\":\\\"Editar el evento\\\"},\\\"today\\\":\\\"Hoy\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendario:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirmar la eliminacin\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirmar la eliminacin\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirme la eliminacin de la reserva\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Se requiere la fecha!\\\",\\\"discussion_6719c51d\\\":\\\"Foro\\\",\\\"do_nothing_9672b478\\\":\\\"No hacer nada\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Es obligatorio escribir una fecha de entrega.\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Fecha de entrega: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Evento\\\",\\\"event_title_57a50568\\\":\\\"Ttulo del evento:\\\",\\\"filled_5d8c39e\\\":\\\"Relleno\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"El nombre es demasiado largo, debe tener menos de %{length} caracteres\\\",\\\"next_month_b55a387c\\\":\\\"Prximo mes\\\",\\\"no_date_bfeb2df7\\\":\\\"Sin fecha\\\",\\\"ok_c47544a2\\\":\\\"Aceptar\\\",\\\"page_50c4823d\\\":\\\"Pgina\\\",\\\"previous_month_7adf1380\\\":\\\"Mes anterior\\\",\\\"quiz_e0dcce8f\\\":\\\"Examen\\\",\\\"reschedule_9f780bb8\\\":\\\"Reprogramar\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservado por: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservado por usted\\\",\\\"reserved_f247b60b\\\":\\\"Reservado\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planificador mostrado\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"La siguiente cita disponible en este curso es el *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"No hay inscripciones disponibles para este curso.\\\",\\\"title_is_required_8bb13295\\\":\\\"El ttulo es obligatorio!\\\",\\\"to_do_1d554f36\\\":\\\"Por hacer\\\",\\\"to_do_5526f10a\\\":\\\"Para hacer:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Item por hacer\\\",\\\"unreserved_e86b7425\\\":\\\"Ilimitado\\\"},\\\"fa\\\":{\\\"and_more_1c35b232\\\":\\\" ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"           %{name}  \\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"       \\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"       \\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"         \\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"          \\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"     .            .\\\",\\\"assignment_title_82b4422e\\\":\\\" :\\\",\\\"available_8606e40c\\\":\\\" \\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots}  \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots}     \\\",\\\"calendar\\\":{\\\"appointment_group_deletion_details\\\":\\\"                  .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\" ...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"         \\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"       \\\",\\\"ends_in_past_error\\\":\\\"               \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"          \\\"},\\\"event_on_this_day\\\":\\\"     \\\",\\\"loading_more_items\\\":\\\"    .\\\",\\\"loading_undated_events\\\":\\\"     \\\",\\\"messages_sent\\\":\\\"   \\\",\\\"name_is_required\\\":\\\"   !\\\",\\\"no_dates_error\\\":\\\"       \\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"       \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"       \\\",\\\"delete_override\\\":\\\"        \\\"},\\\"save\\\":\\\" \\\",\\\"save_and_publish\\\":\\\"   \\\",\\\"save_changes\\\":\\\"  \\\",\\\"time_block_errors\\\":\\\"        .\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"   \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"   \\\",\\\"confirm_removal_a9bb889\\\":\\\" \\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"  \\\",\\\"date_is_required_9c6f5e83\\\":\\\"   !\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"  \\\",\\\"due_date_is_required_cdb75f25\\\":\\\"    !\\\",\\\"due_dueat_ef67f6f4\\\":\\\": %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\" \\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"  .    %{length}  \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\"  \\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\" \\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"  \\\",\\\"reserved_by_d563e7d2\\\":\\\"  :\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"   \\\",\\\"reserved_f247b60b\\\":\\\" \\\",\\\"scheduler_shown_df77ca6f\\\":\\\"    \\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"            .\\\",\\\"title_is_required_8bb13295\\\":\\\"  !\\\",\\\"to_do_1d554f36\\\":\\\" \\\",\\\"to_do_5526f10a\\\":\\\" :\\\",\\\"unreserved_e86b7425\\\":\\\" \\\"},\\\"fi\\\":{\\\"and_more_1c35b232\\\":\\\"ja lis...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Haluatko varmasti peruuttaa tapaamisesi %{name} kanssa?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Haluatko varmasti poistaa tmn keskustelun?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Haluatko varmasti poistaa tmn tapahtuman?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Haluatko varmasti poistaa tmn sivun?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Haluatko varmasti poistaa tmn Tehtv-kohteen?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Haluatko varmasti poistaa varauksesi thn tapahtumaan?\\\",\\\"assignment_976578a8\\\":\\\"Tehtv\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Tehtvll on lukittu pivmr. Mrpiv ei voida asettaa lukitun pivmrvlin ulkopuolelle.\\\",\\\"assignment_title_82b4422e\\\":\\\"Tehtvn otsikko:\\\",\\\"available_8606e40c\\\":\\\"Saatavissa\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Saatavissa\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} enemmn saatavissa\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Nyt nytetn %{start} kautta %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sen poistaminen poistaa kaikki tapaamiset, joihin opiskelijat ovat rekisterityneet.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"send_message\\\":\\\"Lhet\\\",\\\"sending_message\\\":\\\"Lhetetn...\\\"},\\\"calendar_title\\\":\\\"Kalenteri:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Haluatko varmasti poistaa tmn tapaamisryhmn?\\\",\\\"confirm_deletion\\\":\\\"Vahvista poisto\\\",\\\"end_before_start_error\\\":\\\"Aloitusaika tytyy olla ennen pttymisaikaa\\\",\\\"ends_in_past_error\\\":\\\"Et voi luoda tapaamisaikaa, joka pttyy menneisyydess\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Viestisi lhetyksess oli ongelma, yrit uudelleen\\\"},\\\"event_on_this_day\\\":\\\"Tn pivn oli tapahtuma\\\",\\\"loading_more_items\\\":\\\"Ladataan lis kohteita.\\\",\\\"loading_undated_events\\\":\\\"Ladataan pivitettyj tapahtumia\\\",\\\"messages_sent\\\":\\\"Viesti lhetetty\\\",\\\"name_is_required\\\":\\\"Nimi vaaditaan!\\\",\\\"no_dates_error\\\":\\\"Sinun tytyy mritt vhintn yksi pivmr ja aika\\\",\\\"no_groups\\\":\\\"Ryhmi ei lytynyt\\\",\\\"no_users\\\":\\\"Kyttji ei lytynyt\\\",\\\"open_appointment_on_this_day\\\":\\\"Tn pivn oli avoin tapaaminen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Haluatko varmasti poistaa tmn tehtvn?\\\",\\\"delete_override\\\":\\\"Haluatko varmasti poistaa tmn tehtvn korvaamisen?\\\"},\\\"save\\\":\\\"Tallenna\\\",\\\"save_and_publish\\\":\\\"Tallenna ja julkaise\\\",\\\"save_changes\\\":\\\"Tallenna muutokset\\\",\\\"time_block_errors\\\":\\\"Ajan estovalinnoissa esiintyi virheit.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Muokkaa tapaamisryhm\\\",\\\"edit_event\\\":\\\"Muokkaa tapahtumaa\\\"},\\\"today\\\":\\\"Tnn\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalenteri:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Vahvista poisto\\\",\\\"confirm_removal_a9bb889\\\":\\\"Vahvista poisto\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Vahvista varauksen poisto\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Pivmr vaaditaan!\\\",\\\"discussion_6719c51d\\\":\\\"Keskustelu\\\",\\\"do_nothing_9672b478\\\":\\\"l tee mitn\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Mrpiv vaaditaan!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Mrpiv: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Tapahtuma\\\",\\\"event_title_57a50568\\\":\\\"Tapahtuman otsikko:\\\",\\\"filled_5d8c39e\\\":\\\"Tytetty\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nimi on liian pitk, sen tytyy olla alle %{length} merkki\\\",\\\"next_month_b55a387c\\\":\\\"Seuraava kuukausi\\\",\\\"no_date_bfeb2df7\\\":\\\"Ei pivmr\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Sivu\\\",\\\"previous_month_7adf1380\\\":\\\"Edellinen kuukausi\\\",\\\"quiz_e0dcce8f\\\":\\\"Tietovisa\\\",\\\"reschedule_9f780bb8\\\":\\\"Aikatauluta uudelleen\\\",\\\"reserved_by_d563e7d2\\\":\\\"Varaaja: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Varaamasi\\\",\\\"reserved_f247b60b\\\":\\\"Varattu\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Aikatauluttaja nkyviss\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Seuraava saatavissa oleva tapaaminen tll kurssilla  on *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Tlle kurssille ei saatavissa olevia kirjautumisia.\\\",\\\"title_is_required_8bb13295\\\":\\\"Otsikko on pakollinen!\\\",\\\"to_do_1d554f36\\\":\\\"Tehtv\\\",\\\"to_do_5526f10a\\\":\\\"Tehtv:\\\",\\\"to_do_item_d76ecb78\\\":\\\"To Do -kohde\\\",\\\"unreserved_e86b7425\\\":\\\"Varaamaton\\\"},\\\"fr\\\":{\\\"and_more_1c35b232\\\":\\\"et plus encore...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Voulez-vous vraiment annuler votre rendez-vous avec %{name} ?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Voulez-vous vraiment supprimer cette discussion ?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Voulez-vous vraiment supprimer cet vnement ?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"tes-vous sr de vouloir supprimer cette page ?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"tes-vous sr de vouloir supprimer cette chose  faire ?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Voulez-vous vraiment supprimer votre rservation relative  cet vnement ?\\\",\\\"assignment_976578a8\\\":\\\"Travail\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Le travail a une date bloque. La date d'chance ne peut pas tre dfinie en dehors de la plage de dates bloques.\\\",\\\"assignment_title_82b4422e\\\":\\\"Intitul de la tche :\\\",\\\"available_8606e40c\\\":\\\"Disponible\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} sont disponibles\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} d'autres sont disponibles\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Vue actuelle : de %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"La suppression de cet lment entranera la suppression de tous les rendez-vous pris par les tudiants.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"send_message\\\":\\\"Envoyer\\\",\\\"sending_message\\\":\\\"Envoi en cours...\\\"},\\\"calendar_title\\\":\\\"Calendrier :\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Voulez-vous vraiment supprimer ce groupe de rendez-vous ?\\\",\\\"confirm_deletion\\\":\\\"Confirmer la suppression\\\",\\\"end_before_start_error\\\":\\\"Lheure de dbut doit tre antrieure  lheure de fin.\\\",\\\"ends_in_past_error\\\":\\\"Impossible de crer un crneau de rendez-vous qui se termine dans le pass\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Erreur lors de lenvoi de votre message. Veuillez ressayer.\\\"},\\\"event_on_this_day\\\":\\\"Un vnement est prvu  cette date.\\\",\\\"loading_more_items\\\":\\\"Chargement dlments supplmentaires\\\",\\\"loading_undated_events\\\":\\\"Chargement des vnements non dats\\\",\\\"messages_sent\\\":\\\"Messages envoys\\\",\\\"name_is_required\\\":\\\"Le nom doit tre spcifi.\\\",\\\"no_dates_error\\\":\\\"Vous devez spcifier au moins une date et un horaire\\\",\\\"no_groups\\\":\\\"Aucun groupe trouv\\\",\\\"no_users\\\":\\\"Aucun utilisateur trouv\\\",\\\"open_appointment_on_this_day\\\":\\\"Il y a un rendez-vous disponible  cette date.\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Voulez-vous vraiment supprimer cette tche ?\\\",\\\"delete_override\\\":\\\"Voulez-vous vraiment supprimer le changement apport pour cette tche ?\\\"},\\\"save\\\":\\\"Enregistrer\\\",\\\"save_and_publish\\\":\\\"Sauvegarder \\\\u0026 Publier\\\",\\\"save_changes\\\":\\\"Enregistrer les modifications\\\",\\\"time_block_errors\\\":\\\"Il y a des erreurs dans vos slections de plages horaires.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Modifier un groupe de rendez-vous\\\",\\\"edit_event\\\":\\\"Modifier lvnement\\\"},\\\"today\\\":\\\"Aujourdhui\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendrier :\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirmer la suppression\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirmer le retrait\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirmer le retrait de la rservation\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Vous devez entrer une date !\\\",\\\"discussion_6719c51d\\\":\\\"Discussion\\\",\\\"do_nothing_9672b478\\\":\\\"Ne rien faire\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Une date limite est requise !\\\",\\\"due_dueat_ef67f6f4\\\":\\\"D : %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"vnement\\\",\\\"event_title_57a50568\\\":\\\"Intitul de lvnement :\\\",\\\"filled_5d8c39e\\\":\\\"Rempli\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nom trop long, le nom doit faire moins de %{length} caractres\\\",\\\"next_month_b55a387c\\\":\\\"Mois suivant\\\",\\\"no_date_bfeb2df7\\\":\\\"Pas de date\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Page\\\",\\\"previous_month_7adf1380\\\":\\\"Mois prcdent\\\",\\\"quiz_e0dcce8f\\\":\\\"Questionnaire\\\",\\\"reschedule_9f780bb8\\\":\\\"Replanifier\\\",\\\"reserved_by_d563e7d2\\\":\\\"Rserv par : \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Rserv pour vous\\\",\\\"reserved_f247b60b\\\":\\\"Rserv\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planificateur affich\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Le prochain rendez-vous disponible dans ce cours est le *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Aucune inscription disponible pour ce cours.\\\",\\\"title_is_required_8bb13295\\\":\\\"Vous devez entrer un titre !\\\",\\\"to_do_1d554f36\\\":\\\" faire\\\",\\\"to_do_5526f10a\\\":\\\" faire :\\\",\\\"to_do_item_d76ecb78\\\":\\\"lment  faire\\\",\\\"unreserved_e86b7425\\\":\\\"Non-rserv\\\"},\\\"fr-CA\\\":{\\\"and_more_1c35b232\\\":\\\"et plus encore...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Voulez-vous vraiment annuler votre rendez-vous avec %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Voulez-vous vraiment supprimer cette discussion?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Voulez-vous vraiment supprimer cet vnement?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Voulez-vous vraiment supprimer cette page?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"tes-vous certain de vouloir supprimer cette tche  faire?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Voulez-vous vraiment supprimer votre rservation relative  cet vnement?\\\",\\\"assignment_976578a8\\\":\\\"Tche\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"La tche comporte une date verrouille. La date d'chance ne peut pas tre dfinie en dehors de la plage de dates verrouilles.\\\",\\\"assignment_title_82b4422e\\\":\\\"Intitul de la tche :\\\",\\\"available_8606e40c\\\":\\\"Disponible\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} sont disponibles \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} d'autres sont disponibles\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Vue actuelle : de %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"La suppression de cet lment entranera la suppression de tous les rendez-vous pris par les tudiants.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"send_message\\\":\\\"Envoyer\\\",\\\"sending_message\\\":\\\"Envoi en cours...\\\"},\\\"calendar_title\\\":\\\"Calendrier :\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Voulez-vous vraiment supprimer ce groupe de rendez-vous?\\\",\\\"confirm_deletion\\\":\\\"Confirmer la suppression\\\",\\\"end_before_start_error\\\":\\\"Lheure de dbut doit tre antrieure  lheure de fin.\\\",\\\"ends_in_past_error\\\":\\\"Impossible de crer un crneau de rendez-vous qui se termine dans le pass\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Erreur lors de lenvoi de votre message. Veuillez ressayer.\\\"},\\\"event_on_this_day\\\":\\\"Un vnement est prvu  cette date.\\\",\\\"loading_more_items\\\":\\\"Chargement dlments supplmentaires\\\",\\\"loading_undated_events\\\":\\\"Chargement des vnements non dats\\\",\\\"messages_sent\\\":\\\"Messages envoys\\\",\\\"name_is_required\\\":\\\"Le nom doit tre spcifi.\\\",\\\"no_dates_error\\\":\\\"Vous devez spcifier au moins une date et un horaire\\\",\\\"no_groups\\\":\\\"Aucun groupe trouv\\\",\\\"no_users\\\":\\\"Aucun utilisateur trouv\\\",\\\"open_appointment_on_this_day\\\":\\\"Il y a un rendez-vous disponible  cette date.\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Voulez-vous vraiment supprimer cette tche?\\\",\\\"delete_override\\\":\\\"Voulez-vous vraiment supprimer le changement apport pour cette tche?\\\"},\\\"save\\\":\\\"Enregistrer\\\",\\\"save_and_publish\\\":\\\"Sauvegarder et publier\\\",\\\"save_changes\\\":\\\"Enregistrer les modifications\\\",\\\"time_block_errors\\\":\\\"Il y a des erreurs dans vos slections de plages horaires.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Modifier un groupe de rendez-vous\\\",\\\"edit_event\\\":\\\"Modifier lvnement\\\"},\\\"today\\\":\\\"Aujourdhui\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendrier :\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirmer la suppression\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirmer le retrait\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirmer le retrait de la rservation\\\",\\\"date_is_required_9c6f5e83\\\":\\\"La date est obligatoire!\\\",\\\"discussion_6719c51d\\\":\\\"Discussion\\\",\\\"do_nothing_9672b478\\\":\\\"Ne rien faire\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"La date d'chance est obligatoire!\\\",\\\"due_dueat_ef67f6f4\\\":\\\" rendre le : %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"vnement\\\",\\\"event_title_57a50568\\\":\\\"Intitul de lvnement :\\\",\\\"filled_5d8c39e\\\":\\\"Rempli\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Le nom est trop long, doit tre moins de %{length} caractres\\\",\\\"next_month_b55a387c\\\":\\\"Mois suivant\\\",\\\"no_date_bfeb2df7\\\":\\\"Aucune date\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Page\\\",\\\"previous_month_7adf1380\\\":\\\"Mois prcdent\\\",\\\"quiz_e0dcce8f\\\":\\\"Questionnaire\\\",\\\"reschedule_9f780bb8\\\":\\\"Reprogrammer\\\",\\\"reserved_by_d563e7d2\\\":\\\"Rserv par : \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Rserv par vous\\\",\\\"reserved_f247b60b\\\":\\\"Rserv\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planificateur affich\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Le prochain rendez-vous disponible dans ce cours est le *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Aucune inscription disponible pour ce cours.\\\",\\\"title_is_required_8bb13295\\\":\\\"Un titre est requis!\\\",\\\"to_do_1d554f36\\\":\\\" faire\\\",\\\"to_do_5526f10a\\\":\\\" faire :\\\",\\\"to_do_item_d76ecb78\\\":\\\"lment  faire\\\",\\\"unreserved_e86b7425\\\":\\\"Non-rserv\\\"},\\\"he\\\":{\\\"and_more_1c35b232\\\":\\\"...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"      %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"       ?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"     ?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"       ?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"      ?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_title_82b4422e\\\":\\\" :\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots}  \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"  %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"         \\\\\\\" \\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"/     ?\\\",\\\"confirm_deletion\\\":\\\"  \\\",\\\"end_before_start_error\\\":\\\"      \\\",\\\"ends_in_past_error\\\":\\\"        \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"   ,   .\\\"},\\\"event_on_this_day\\\":\\\"   \\\",\\\"loading_more_items\\\":\\\"  \\\",\\\"loading_undated_events\\\":\\\"   \\\",\\\"messages_sent\\\":\\\" \\\",\\\"name_is_required\\\":\\\" !\\\",\\\"no_dates_error\\\":\\\"     .\\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"     \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"      ?\\\",\\\"delete_override\\\":\\\"/       ?\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\" \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"     .\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\" \\\",\\\"confirm_removal_a9bb889\\\":\\\" \\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"  \\\",\\\"date_is_required_9c6f5e83\\\":\\\" !\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"   \\\",\\\"due_date_is_required_cdb75f25\\\":\\\"  !\\\",\\\"due_dueat_ef67f6f4\\\":\\\": %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"  ,      %{length} \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\" \\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"previous_month_7adf1380\\\":\\\" \\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\" \\\",\\\"reserved_by_d563e7d2\\\":\\\" \\\\\\\"\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"  \\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\" \\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"       *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"    \\\",\\\"to_do_1d554f36\\\":\\\" \\\",\\\"unreserved_e86b7425\\\":\\\" \\\"},\\\"ht\\\":{\\\"and_more_1c35b232\\\":\\\"e plis ank...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"ske vrman ou vle anile randevou ou ak %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Ou kw vrman ou vle efase diskisyon sa a?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Ou kw vrman ou vle efase aktivite sa a?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"ske se vre ou vle efase paj sa a?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Se tout bon ou vle efase eleman Tach sa a?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Ou kw vrman ou vle efase rezvasyon ou pou aktivite sa a?\\\",\\\"assignment_976578a8\\\":\\\"Sesyon\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Sesyon an gen yon dat blokaj. Del a paka defini andey ranje dat blokaj la.\\\",\\\"assignment_title_82b4422e\\\":\\\"Tit sesyon:\\\",\\\"available_8606e40c\\\":\\\"Disponib\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Disponib\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} plis disponib\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Pou kounye a afiche %{start} jiska %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Si w efase l sa ap efase tout randevou ke elv yo te pran tou.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"send_message\\\":\\\"Voye\\\",\\\"sending_message\\\":\\\"Voye...\\\"},\\\"calendar_title\\\":\\\"Kalandriye:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Ou kw vrman ou vle efase gwoup randevou sa a?\\\",\\\"confirm_deletion\\\":\\\"Konfime pou Efase\\\",\\\"end_before_start_error\\\":\\\"L pou Kmanse a dwe anvan l pou fini an\\\",\\\"ends_in_past_error\\\":\\\"Ou pa kapab kreye yon tan pou randevou k ap fini nan yon dat pase\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Gen yon er ki ft pandan w ap voye mesaj ou a, tanpri eseye ank.\\\"},\\\"event_on_this_day\\\":\\\"Gen yon aktivite nan jou sa a\\\",\\\"loading_more_items\\\":\\\"Chajman lt atik.\\\",\\\"loading_undated_events\\\":\\\"Chajman aktivite ki pa gen dat\\\",\\\"messages_sent\\\":\\\"Mesaj la ale\\\",\\\"name_is_required\\\":\\\"Non an obligatwa!\\\",\\\"no_dates_error\\\":\\\"Ou bezwen presize yon dat ak l pou pi piti\\\",\\\"no_groups\\\":\\\"Nou pa jwenn gwoup\\\",\\\"no_users\\\":\\\"Nou pa jwenn itilizat\\\",\\\"open_appointment_on_this_day\\\":\\\"Gen yon randevou disponib nan jou sa a\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Ou kw vrman ou vle efase Sesyon sa a?\\\",\\\"delete_override\\\":\\\"Ou kw vrman ou vle efase sesyon priyorit sa a?\\\"},\\\"save\\\":\\\"Anrejistre\\\",\\\"save_and_publish\\\":\\\"Anrejistre epi Pibliye\\\",\\\"save_changes\\\":\\\"Anrejistre Chanjman\\\",\\\"time_block_errors\\\":\\\"Gen er nan seleksyon blk tan ou an.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Modifye Gwoup Randevou\\\",\\\"edit_event\\\":\\\"Modifye Aktivite\\\"},\\\"today\\\":\\\"Jodi a\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalandriye:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Konfime pou Efase\\\",\\\"confirm_removal_a9bb889\\\":\\\"Konfime Eliminasyon\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Konfime Eliminasyon Rezvasyon\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dat neses!\\\",\\\"discussion_6719c51d\\\":\\\"Diskisyon\\\",\\\"do_nothing_9672b478\\\":\\\"Pa f Anyen\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Del a  obligatwa!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Del: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Aktivite\\\",\\\"event_title_57a50568\\\":\\\"Tit Aktivite:\\\",\\\"filled_5d8c39e\\\":\\\"Ranpli\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Non an tw long, li pa dwe gen plis ke %{length} karakt\\\",\\\"next_month_b55a387c\\\":\\\"Mwa pwochen\\\",\\\"no_date_bfeb2df7\\\":\\\"San Dat\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Paj\\\",\\\"previous_month_7adf1380\\\":\\\"Mwa pase\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Repwograme\\\",\\\"reserved_by_d563e7d2\\\":\\\"Rezve Pa: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Rezve Pa Ou Menm\\\",\\\"reserved_f247b60b\\\":\\\"Rezve\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planifikat afiche\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Pwochen randevou ki disponib nan kou sa a se pou *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Pa gen enskripsyon disponib pou kou sa a.\\\",\\\"title_is_required_8bb13295\\\":\\\"Tit Neses!\\\",\\\"to_do_1d554f36\\\":\\\"Pou F\\\",\\\"to_do_5526f10a\\\":\\\"Tach:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Eleman Pou F\\\",\\\"unreserved_e86b7425\\\":\\\"Pa rezve\\\"},\\\"hu\\\":{\\\"and_more_1c35b232\\\":\\\"s tovbbi...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Biztos benne, hogy trli a megbeszlst vele: %{name}? \\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Biztos benne, hogy trli ezt a frumot?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Biztos benne, hogy trli ezt az esemnyt?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Biztos benne, hogy trli ezt az oldalt?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Biztos benne, hogy trlni szeretn ezt az elemet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Biztos benne, hogy trli a foglalst erre az esemnyre?\\\",\\\"assignment_976578a8\\\":\\\"Feladat\\\",\\\"assignment_title_82b4422e\\\":\\\"Feladat cme:\\\",\\\"available_8606e40c\\\":\\\"Elrhet\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} szabad hely\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Most megjelenik innentl idig: %{start} - %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Ennek a trlsvel minden olyan megbeszlst is trlni fog, amire hallgatk jelentkeztek.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Mgse\\\",\\\"send_message\\\":\\\"Klds\\\",\\\"sending_message\\\":\\\"Klds...\\\"},\\\"calendar_title\\\":\\\"Naptr:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Biztos benne, hogy trlni szeretn ezt a megbeszls-csoportot?\\\",\\\"confirm_deletion\\\":\\\"Trls jvhagysa\\\",\\\"end_before_start_error\\\":\\\"A kezd idpontnak a zr idpont elttinek kell lennie\\\",\\\"ends_in_past_error\\\":\\\"Nem tud ltrehozni olyan megbeszlsi idsvot, ami a mltban vgzdik\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Hiba trtnt az zenet elkldse kzben, krjk, prblja jra\\\"},\\\"event_on_this_day\\\":\\\"Ma van egy esemny\\\",\\\"loading_more_items\\\":\\\"Tovbbi elemek betltse.\\\",\\\"loading_undated_events\\\":\\\"Idpont nlkli esemnyek betltse\\\",\\\"messages_sent\\\":\\\"zenet elkldve\\\",\\\"name_is_required\\\":\\\"A nv megadsa ktelez!\\\",\\\"no_dates_error\\\":\\\"Meg kell adnia legalbb egy dtumot s idt\\\",\\\"no_groups\\\":\\\"Nem tallhatak csoportok\\\",\\\"no_users\\\":\\\"Nincsenek ilyen felhasznlk\\\",\\\"open_appointment_on_this_day\\\":\\\"Van egy nyitott megbeszlse ezen a napon\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Biztos benne, hogy trli ezt a feladatot?\\\",\\\"delete_override\\\":\\\"Biztos benne, hogy trli ennek a feladatnak a fellbrlst?\\\"},\\\"save\\\":\\\"Ments\\\",\\\"save_and_publish\\\":\\\"Ments s publikls\\\",\\\"save_changes\\\":\\\"Mdostsok mentse\\\",\\\"time_block_errors\\\":\\\"Az n idsvvlasztsa hibs.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Megbeszls-csoport szerkesztse\\\",\\\"edit_event\\\":\\\"Esemny szerkesztse\\\"},\\\"today\\\":\\\"Ma\\\"},\\\"calendar_a8563bb2\\\":\\\"Naptr:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Trls jvhagysa\\\",\\\"confirm_removal_a9bb889\\\":\\\"Eltvolts jvhagysa\\\",\\\"discussion_6719c51d\\\":\\\"Frum\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Hatrid belltsa ktelez!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Hatrid: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Esemny\\\",\\\"event_title_57a50568\\\":\\\"Esemny neve:\\\",\\\"filled_5d8c39e\\\":\\\"Kitltve\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"A nv tl hossz, %{length}karakternl rvidebbnek kell lennie.\\\",\\\"next_month_b55a387c\\\":\\\"Kvetkez hnap\\\",\\\"no_date_bfeb2df7\\\":\\\"Nincs dtum\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Oldal\\\",\\\"previous_month_7adf1380\\\":\\\"Elz hnap\\\",\\\"quiz_e0dcce8f\\\":\\\"Kvz\\\",\\\"reserved_f247b60b\\\":\\\"Foglalt\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Lthat feladattemez\\\",\\\"title_is_required_8bb13295\\\":\\\"Cm megadsa ktelez!\\\",\\\"to_do_1d554f36\\\":\\\"Teendk\\\",\\\"to_do_5526f10a\\\":\\\"Teendk:\\\"},\\\"hy\\\":{\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"      :\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"    %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\" ,    ,     :\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\" \\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\" ...\\\"},\\\"calendar_title\\\":\\\"\\\",\\\"confirm_appointment_group_deletion\\\":\\\"       :\\\",\\\"confirm_deletion\\\":\\\"  \\\",\\\"end_before_start_error\\\":\\\"      \\\",\\\"ends_in_past_error\\\":\\\"      ,     \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"      ,  :\\\"},\\\"event_on_this_day\\\":\\\"   \\\",\\\"loading_more_items\\\":\\\"  \\\",\\\"loading_undated_events\\\":\\\"  \\\",\\\"messages_sent\\\":\\\"  \\\",\\\"no_dates_error\\\":\\\"        \\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"       \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"      :\\\",\\\"delete_override\\\":\\\"       \\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"  \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"     :\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"discussion_6719c51d\\\":\\\"\\\",\\\"due_dueat_ef67f6f4\\\":\\\". %{dueAt}\\\",\\\"no_date_bfeb2df7\\\":\\\" \\\",\\\"ok_c47544a2\\\":\\\"Ok\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\"},\\\"is\\\":{\\\"and_more_1c35b232\\\":\\\"og meira...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Viltu rugglega htta vi fund inn me %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Viltu rugglega eya essum umrum?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Viltu rugglega eya essum viburi?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Viltu rugglega eya essari su?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Viltu rugglega eya essu verkefni?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Viltu rugglega eya pntun inni  ennan vibur?\\\",\\\"assignment_976578a8\\\":\\\"Verkefni\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Verkefni er me fastri dagsetningu Skiladagur getur ekki veri utan vi fastar dagsetningar\\\",\\\"assignment_title_82b4422e\\\":\\\"Titill verkefnis:\\\",\\\"available_8606e40c\\\":\\\"Tiltkt\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} tiltkar\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} tiltkar a auki\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Sni nna %{start} til %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Ef  eyir essu eyiru lika fundum sem nemendur hafa skr sig .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Htta vi\\\",\\\"send_message\\\":\\\"Senda\\\",\\\"sending_message\\\":\\\"Sendi...\\\"},\\\"calendar_title\\\":\\\"Dagatal:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Viltu rugglega eya essum fundahpi?\\\",\\\"confirm_deletion\\\":\\\"Stafesta eyingu\\\",\\\"end_before_start_error\\\":\\\"Upphafstmi verur a vera  undan lokatma\\\",\\\"ends_in_past_error\\\":\\\" getur ekki stofna fundatma sem endar  fortinni\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Villa var vi sendingu skilaboa. Reyndu aftur.\\\"},\\\"event_on_this_day\\\":\\\"a er viburur ennan dag\\\",\\\"loading_more_items\\\":\\\"Ski fleiri atrii.\\\",\\\"loading_undated_events\\\":\\\"Ski dagsetta viburi\\\",\\\"messages_sent\\\":\\\"Send skilabo\\\",\\\"name_is_required\\\":\\\"arf nafn!\\\",\\\"no_dates_error\\\":\\\" verur a tilgreina minnst eina dagsetningu og tma\\\",\\\"no_groups\\\":\\\"Engir hpar fundust\\\",\\\"no_users\\\":\\\"Engir notendur fundust\\\",\\\"open_appointment_on_this_day\\\":\\\"a er opinn fundur ennan dag\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Viltu rugglega eya essu verkefni?\\\",\\\"delete_override\\\":\\\"Viltu rugglega eya essari hunsun  verkefni?\\\"},\\\"save\\\":\\\"Vista\\\",\\\"save_and_publish\\\":\\\"Vista og birta\\\",\\\"save_changes\\\":\\\"Vista breytingar\\\",\\\"time_block_errors\\\":\\\"a eru villur  tmablokkarvali.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Breyta fundahpi\\\",\\\"edit_event\\\":\\\"Breyta viburi\\\"},\\\"today\\\":\\\" dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Dagatal:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Stafesta eyingu\\\",\\\"confirm_removal_a9bb889\\\":\\\"Stafesta fjarlgingu\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Stafesta fjarlgingu pntunar\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Gagna er krafist!\\\",\\\"discussion_6719c51d\\\":\\\"Umra\\\",\\\"do_nothing_9672b478\\\":\\\"Gera ekkert\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Skiladagur er skilinn!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Skiladagur: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Viburur\\\",\\\"event_title_57a50568\\\":\\\"Titill viburar:\\\",\\\"filled_5d8c39e\\\":\\\"Fylltur\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nafn er of langt, verur a vera frri en %{length} stafir\\\",\\\"next_month_b55a387c\\\":\\\"Nsti mnuur\\\",\\\"no_date_bfeb2df7\\\":\\\"Engin dagsetning\\\",\\\"ok_c47544a2\\\":\\\" lagi\\\",\\\"page_50c4823d\\\":\\\"Sa\\\",\\\"previous_month_7adf1380\\\":\\\"Fyrri mnuur\\\",\\\"quiz_e0dcce8f\\\":\\\"Prf\\\",\\\"reschedule_9f780bb8\\\":\\\"Endurskipuleggja\\\",\\\"reserved_by_d563e7d2\\\":\\\"Frteki af:\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Frteki af r\\\",\\\"reserved_f247b60b\\\":\\\"Frteki\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Sni skipuleggjara\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Nsti tiltki fundur nmskeisins er ann *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Engar tiltkar skrningar eru fyrir etta nmskei.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titils er krafist!\\\",\\\"to_do_1d554f36\\\":\\\"Verkefni\\\",\\\"to_do_5526f10a\\\":\\\"Verkefni:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Verkefni  verkefnalista\\\",\\\"unreserved_e86b7425\\\":\\\"frteki\\\"},\\\"it\\\":{\\\"and_more_1c35b232\\\":\\\"e altri...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Vuoi annullare il tuo appuntamento con %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Vuoi eliminare questa discussione?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Vuoi eliminare questo evento?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Vuoi eliminare questa pagina?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Vuoi eliminare questo elemento dell'elenco di attivit?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Vuoi eliminare la tua prenotazione a questo evento?\\\",\\\"assignment_976578a8\\\":\\\"Compito\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Il compito ha una data bloccata. Non  possibile impostare la data di scadenza al di fuori dell'intervallo di date bloccato.\\\",\\\"assignment_title_82b4422e\\\":\\\"Titolo compito:\\\",\\\"available_8606e40c\\\":\\\"Disponibile\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Disponibile\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} pi disponibile\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Ora visualizzati da %{start} a %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"La sua eliminazione determiner l'eliminazione di tutti gli appuntamenti a cui gli studenti si sono registrati.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"send_message\\\":\\\"Invia\\\",\\\"sending_message\\\":\\\"Invio in corso...\\\"},\\\"calendar_title\\\":\\\"Calendario:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Vuoi eliminare questo gruppo di appuntamenti?\\\",\\\"confirm_deletion\\\":\\\"Conferma eliminazione\\\",\\\"end_before_start_error\\\":\\\"L'ora di inizio deve essere precedente all'ora di fine\\\",\\\"ends_in_past_error\\\":\\\"Non puoi creare uno spazio per appuntamenti che termina nel passato\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Si  verificato un errore durante l'invio del messaggio. Riprova\\\"},\\\"event_on_this_day\\\":\\\" previsto un evento in questo giorno\\\",\\\"loading_more_items\\\":\\\"Caricamento di altri elementi.\\\",\\\"loading_undated_events\\\":\\\"Caricamento di eventi senza data\\\",\\\"messages_sent\\\":\\\"Messaggio inviato\\\",\\\"name_is_required\\\":\\\"Il nome  obbligatorio.\\\",\\\"no_dates_error\\\":\\\"Devi specificare almeno una data e un'ora\\\",\\\"no_groups\\\":\\\"Nessun gruppo trovato\\\",\\\"no_users\\\":\\\"Nessun utente trovato\\\",\\\"open_appointment_on_this_day\\\":\\\" previsto un appuntamento aperto in questo giorno\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Vuoi eliminare questo compito?\\\",\\\"delete_override\\\":\\\"Vuoi eliminare questo override dei compiti?\\\"},\\\"save\\\":\\\"Salva\\\",\\\"save_and_publish\\\":\\\"Salva e pubblica\\\",\\\"save_changes\\\":\\\"Salva modifiche\\\",\\\"time_block_errors\\\":\\\"Sono presenti errori nelle selezioni dei tuoi intervalli di tempo.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Modifica gruppo di appuntamenti\\\",\\\"edit_event\\\":\\\"Modifica eventi\\\"},\\\"today\\\":\\\"Oggi\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendario:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Conferma eliminazione\\\",\\\"confirm_removal_a9bb889\\\":\\\"Conferma rimozione\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Conferma rimozione prenotazione\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Data obbligatoria.\\\",\\\"discussion_6719c51d\\\":\\\"Discussione\\\",\\\"do_nothing_9672b478\\\":\\\"Non fare nulla\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"La data di scadenza  obbligatoria.\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Scadenza: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Evento\\\",\\\"event_title_57a50568\\\":\\\"Titolo evento:\\\",\\\"filled_5d8c39e\\\":\\\"Completato\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nome troppo lungo. Deve contenere meno di %{length} caratteri\\\",\\\"next_month_b55a387c\\\":\\\"Mese successivo\\\",\\\"no_date_bfeb2df7\\\":\\\"Nessuna data\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Pagina\\\",\\\"previous_month_7adf1380\\\":\\\"Mese precedente\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Ripianifica\\\",\\\"reserved_by_d563e7d2\\\":\\\"Prenotato da: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Prenotato da te\\\",\\\"reserved_f247b60b\\\":\\\"Prenotato\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Utilit di pianificazione mostrata\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Il prossimo appuntamento disponibile nel corso  previsto il giorno *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Non sono presenti registrazioni disponibili per questo corso.\\\",\\\"title_is_required_8bb13295\\\":\\\"Il titolo  obbligatorio.\\\",\\\"to_do_1d554f36\\\":\\\"Elenco attivit\\\",\\\"to_do_5526f10a\\\":\\\"Elenco attivit:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Elemento da fare\\\",\\\"unreserved_e86b7425\\\":\\\"Non prenotato\\\"},\\\"ja\\\":{\\\"and_more_1c35b232\\\":\\\"...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"%{name} \\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"\\\",\\\"assignment_title_82b4422e\\\":\\\":\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"%{start}  %{end} \\\",\\\"appointment_group_deletion_details\\\":\\\"\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"?\\\",\\\"confirm_deletion\\\":\\\"\\\",\\\"end_before_start_error\\\":\\\"\\\",\\\"ends_in_past_error\\\":\\\"\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"\\\"},\\\"event_on_this_day\\\":\\\"\\\",\\\"loading_more_items\\\":\\\"\\\",\\\"loading_undated_events\\\":\\\"\\\",\\\"messages_sent\\\":\\\"\\\",\\\"name_is_required\\\":\\\"\\\",\\\"no_dates_error\\\":\\\"\\\",\\\"no_groups\\\":\\\"\\\",\\\"no_users\\\":\\\"\\\",\\\"open_appointment_on_this_day\\\":\\\"\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"?\\\",\\\"delete_override\\\":\\\"?\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"\\\",\\\"save_changes\\\":\\\"\\\",\\\"time_block_errors\\\":\\\"\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"\\\",\\\"edit_event\\\":\\\"\\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"\\\",\\\"confirm_removal_a9bb889\\\":\\\"\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"\\\",\\\"date_is_required_9c6f5e83\\\":\\\"\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"\\\",\\\"due_dueat_ef67f6f4\\\":\\\": %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"%{length} \\\",\\\"next_month_b55a387c\\\":\\\"\\\",\\\"no_date_bfeb2df7\\\":\\\"\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\"\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\" \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"\\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"*%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"\\\",\\\"title_is_required_8bb13295\\\":\\\"\\\",\\\"to_do_1d554f36\\\":\\\"\\\",\\\"to_do_5526f10a\\\":\\\"\\\",\\\"to_do_item_d76ecb78\\\":\\\"\\\",\\\"unreserved_e86b7425\\\":\\\"\\\"},\\\"ko\\\":{\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"  ?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\" %{start} %{end} \\\",\\\"appointment_group_deletion_details\\\":\\\"     .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\" ...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"   ?\\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"     \\\",\\\"ends_in_past_error\\\":\\\"       \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"    \\\"},\\\"event_on_this_day\\\":\\\"   \\\",\\\"loading_more_items\\\":\\\"   .\\\",\\\"loading_undated_events\\\":\\\"    \\\",\\\"messages_sent\\\":\\\" \\\",\\\"no_groups\\\":\\\" \\\",\\\"no_users\\\":\\\" \\\",\\\"open_appointment_on_this_day\\\":\\\"    \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"  ?\\\",\\\"delete_override\\\":\\\"   ?\\\"},\\\"save\\\":\\\"\\\",\\\"save_changes\\\":\\\"  \\\",\\\"time_block_errors\\\":\\\"    .\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\"},\\\"mi\\\":{\\\"and_more_1c35b232\\\":\\\"Me te ake .....\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"E tino pono ana koe ki te whakakore i t whakarite me %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"E tino hiahia ana koe ki te muku i tnei krero?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"E tino hiahia ana koe ki te muku tnei tauwhinga?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Kei te tino hiahia koe ki te muku i tnei whrangi?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"E tino pono ana koe kei te hiahia koe ki te muku i tnei Hei Mahi temi?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"E tino hiahia ana koe ki te muku i t rahuitanga ki tnei hui?\\\",\\\"assignment_976578a8\\\":\\\"Whakataunga\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"He r kua rakaina mo te whakataunga. Kaore e taea te tautuhi i te ra e tika ana i waho o te whnuitanga o te r kua rakaina.\\\",\\\"assignment_title_82b4422e\\\":\\\"Whakataunga Taitara:\\\",\\\"available_8606e40c\\\":\\\"wtea\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} wtea\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} wtea atu\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Te whaktu Na %{start} i roto i %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Te muku te reira e muku an ttahi te whakat kua hainatia ake hoki i ng konga.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"send_message\\\":\\\"Tukua\\\",\\\"sending_message\\\":\\\"Tuku ana ...\\\"},\\\"calendar_title\\\":\\\"Maramataka:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"E tino hiahia ana koe ki te muku i tnei rp whakarite?\\\",\\\"confirm_deletion\\\":\\\"Whaka Mukunga\\\",\\\"end_before_start_error\\\":\\\"Kia Tmata wa i mua i te w mutunga\\\",\\\"ends_in_past_error\\\":\\\"E kore e taea te waihanga i ttahi mokamoka whakarite e mutu i roto i te mua\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"I hapa te te tuku koutou karere, tn koa ngana an\\\"},\\\"event_on_this_day\\\":\\\"He taiwhnga ii runga i tnei ra\\\",\\\"loading_more_items\\\":\\\"Uta ana nui atu temi.\\\",\\\"loading_undated_events\\\":\\\"Uta ana ng tauwhinga kaore he r\\\",\\\"messages_sent\\\":\\\"Karere Tukua\\\",\\\"name_is_required\\\":\\\"Kei te Hiahiatia te Ingoa!\\\",\\\"no_dates_error\\\":\\\"Me motuhake koe ki te whakapt i te iti rawa ttahi r me te w\\\",\\\"no_groups\\\":\\\"Kore i kitea he rp\\\",\\\"no_users\\\":\\\"Kore he kaiwhakamahi i kitea\\\",\\\"open_appointment_on_this_day\\\":\\\"He mea whakarite tuwhera i runga i tnei r\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"E tino hiahia ana koe ki te muku i tnei whakataunga?\\\",\\\"delete_override\\\":\\\"E tino hiahia ana koe ki te muku i tnei takahi whakataungai?\\\"},\\\"save\\\":\\\"Tiaki\\\",\\\"save_and_publish\\\":\\\"Tiaki \\\\u0026 Whakaputa\\\",\\\"save_changes\\\":\\\"Tiaki ng huringa\\\",\\\"time_block_errors\\\":\\\"He hapa kei roto i  w tpako\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Whakatika Rp Whui\\\",\\\"edit_event\\\":\\\"Tauwhinga Whakatika\\\"},\\\"today\\\":\\\"tnei r\\\"},\\\"calendar_a8563bb2\\\":\\\"Maramataka:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Whaka Mukunga\\\",\\\"confirm_removal_a9bb889\\\":\\\"Whaka Tango\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Whaka Tango Rhui\\\",\\\"date_is_required_9c6f5e83\\\":\\\"E hiahiatia ana te r!\\\",\\\"discussion_6719c51d\\\":\\\"Krerorero\\\",\\\"do_nothing_9672b478\\\":\\\"Kaore e mahi i ttahi mea\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"E hiahiatia ana te r tika\\\",\\\"due_dueat_ef67f6f4\\\":\\\"E tika ana:%{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Tauwhinga\\\",\\\"event_title_57a50568\\\":\\\"Taitara tauwhinga:\\\",\\\"filled_5d8c39e\\\":\\\"ka ki\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"He tino roa rawa te ingoa, me noho i raro o te %{length} pahua\\\",\\\"next_month_b55a387c\\\":\\\"marama i muri mai\\\",\\\"no_date_bfeb2df7\\\":\\\"Kore he r\\\",\\\"ok_c47544a2\\\":\\\"Ae\\\",\\\"page_50c4823d\\\":\\\"Whrangi\\\",\\\"previous_month_7adf1380\\\":\\\"marama o muri nei\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Whakarite an\\\",\\\"reserved_by_d563e7d2\\\":\\\"Kua rhuitia e\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Kua rhuitia E Koe\\\",\\\"reserved_f247b60b\\\":\\\"Kua Rhuitia\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Phtaka Whakturia\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Ko te whakarite e wtea ana mo tnei akoranga kei runga i *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Kaore e wtea he whanga hainatanga mo tnei akoranga.\\\",\\\"title_is_required_8bb13295\\\":\\\"E hiahiatia ana he taitara!\\\",\\\"to_do_1d554f36\\\":\\\"Hei mahi\\\",\\\"to_do_5526f10a\\\":\\\"Hei Mahi:\\\",\\\"to_do_item_d76ecb78\\\":\\\"He temi hei mahi\\\",\\\"unreserved_e86b7425\\\":\\\"Kaore i te mau\\\"},\\\"nb\\\":{\\\"and_more_1c35b232\\\":\\\"og mer...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Er du sikker p at du nsker  slette avtalen med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Er du sikker p at du vil slette denne diskusjonen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Er du sikker p at du nsker  slette denne hendelsen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Er du sikker p at du vil slette denne siden?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Er du sikker p at du vil slette dette  Gjre-objektet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Er du sikker p at du vil slette reservasjonen din fra denne hendelsen?\\\",\\\"assignment_976578a8\\\":\\\"Oppgave\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Oppgaven har en lst dato Forfallsdato kan ikke settes utenfor lst dato-rekkevidden.\\\",\\\"assignment_title_82b4422e\\\":\\\"Oppgavetittel:\\\",\\\"available_8606e40c\\\":\\\"Tilgjengelig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Tilgjengelig\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mer tilgjengelig\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Viser %{start} til og med %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sletting av denne vil ogs slette alle avtaler studenter har knyttet seg til.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sender...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Er du sikker p at du nsker  slette denne avtalegruppen?\\\",\\\"confirm_deletion\\\":\\\"Bekreft sletting\\\",\\\"end_before_start_error\\\":\\\"Starttidspunkt m vre fr sluttidspunkt\\\",\\\"ends_in_past_error\\\":\\\"Du kan ikke opprette en avtale med sluttidspunkt i fortiden\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Det oppsto en feil ved sending av beskjeden, vennligst prv igjen\\\"},\\\"event_on_this_day\\\":\\\"Det er en hendelse p denne dagen\\\",\\\"loading_more_items\\\":\\\"Laster flere elementer.\\\",\\\"loading_undated_events\\\":\\\"Laster udaterte hendelser\\\",\\\"messages_sent\\\":\\\"Melding er sendt\\\",\\\"name_is_required\\\":\\\"Navn kreves!\\\",\\\"no_dates_error\\\":\\\"Du m spesifisere minst n dato og tid\\\",\\\"no_groups\\\":\\\"Finner ingen grupper\\\",\\\"no_users\\\":\\\"Finner ingen brukere\\\",\\\"open_appointment_on_this_day\\\":\\\"Det er en pen avtale denne dagen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Er du sikker p at du vil slette denne oppgaven?\\\",\\\"delete_override\\\":\\\"Er du sikker p at du vil slette overstyring av denne oppgaven?\\\"},\\\"save\\\":\\\"Lagre\\\",\\\"save_and_publish\\\":\\\"Lagre \\\\u0026 publiser\\\",\\\"save_changes\\\":\\\"Lagre endringer\\\",\\\"time_block_errors\\\":\\\"Det er avvik i dine valgte tidsblokker.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Rediger avtale\\\",\\\"edit_event\\\":\\\"Rediger hendelse\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekreft sletting\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekreft fjerning\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekreft fjerning av reservasjon\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dato kreves!\\\",\\\"discussion_6719c51d\\\":\\\"Diskusjon\\\",\\\"do_nothing_9672b478\\\":\\\"Gjr ingenting\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Tidsfrist er pkrevd!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Forfall: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Hendelse\\\",\\\"event_title_57a50568\\\":\\\"Hendelsestittel:\\\",\\\"filled_5d8c39e\\\":\\\"Utfylt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Navnet er for langt, det m vre under %{length} tegn\\\",\\\"next_month_b55a387c\\\":\\\"Neste mned\\\",\\\"no_date_bfeb2df7\\\":\\\"Ingen dato\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Side\\\",\\\"previous_month_7adf1380\\\":\\\"Forrige mned\\\",\\\"quiz_e0dcce8f\\\":\\\"Test\\\",\\\"reschedule_9f780bb8\\\":\\\"Planlegg p nytt\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservert av: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservert av deg\\\",\\\"reserved_f247b60b\\\":\\\"Reservert\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planlegger vist\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Den neste tilgjengelige avtalen i dette emnet er p *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Det er ingen tilgjengelige pmeldinger for dette emnet.\\\",\\\"title_is_required_8bb13295\\\":\\\"Tittel er pkrevd!\\\",\\\"to_do_1d554f36\\\":\\\" gjre\\\",\\\"to_do_5526f10a\\\":\\\" gjre:\\\",\\\"to_do_item_d76ecb78\\\":\\\"A-gjre element\\\",\\\"unreserved_e86b7425\\\":\\\"Avreservert\\\"},\\\"nb-x-k12\\\":{\\\"and_more_1c35b232\\\":\\\"og mer...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Er du sikker p at du nsker  slette avtalen med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Er du sikker p at du vil slette denne diskusjonen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Er du sikker p at du nsker  slette denne hendelsen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Er du sikker p at du vil slette denne siden?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Er du sikker p at du vil slette dette  Gjre-objektet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Er du sikker p at du vil slette reservasjonen din fra denne hendelsen?\\\",\\\"assignment_976578a8\\\":\\\"Oppgave\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Oppgaven har en lst dato Forfallsdato kan ikke settes utenfor lst dato-rekkevidden.\\\",\\\"assignment_title_82b4422e\\\":\\\"Oppgavetittel:\\\",\\\"available_8606e40c\\\":\\\"Tilgjengelig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Tilgjengelig\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mer tilgjengelig\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Viser %{start} til og med %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sletting av denne vil ogs slette alle avtaler elever har knyttet seg til.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sender...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Er du sikker p at du nsker  slette denne avtalegruppen?\\\",\\\"confirm_deletion\\\":\\\"Bekreft sletting\\\",\\\"end_before_start_error\\\":\\\"Starttidspunkt m vre fr sluttidspunkt\\\",\\\"ends_in_past_error\\\":\\\"Du kan ikke opprette en avtale med sluttidspunkt i fortiden\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Det oppsto en feil ved sending av beskjeden, vennligst prv igjen\\\"},\\\"event_on_this_day\\\":\\\"Det er en hendelse p denne dagen\\\",\\\"loading_more_items\\\":\\\"Laster flere elementer.\\\",\\\"loading_undated_events\\\":\\\"Laster udaterte hendelser\\\",\\\"messages_sent\\\":\\\"Melding er sendt\\\",\\\"name_is_required\\\":\\\"Navn kreves!\\\",\\\"no_dates_error\\\":\\\"Du m spesifisere minst n dato og tid\\\",\\\"no_groups\\\":\\\"Finner ingen grupper\\\",\\\"no_users\\\":\\\"Finner ingen brukere\\\",\\\"open_appointment_on_this_day\\\":\\\"Det er en pen avtale denne dagen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Er du sikker p at du vil slette denne oppgaven?\\\",\\\"delete_override\\\":\\\"Er du sikker p at du vil slette overstyring av denne oppgaven?\\\"},\\\"save\\\":\\\"Lagre\\\",\\\"save_and_publish\\\":\\\"Lagre og publiser\\\",\\\"save_changes\\\":\\\"Lagre endringer\\\",\\\"time_block_errors\\\":\\\"Det er avvik i dine valgte tidsblokker.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Rediger avtale\\\",\\\"edit_event\\\":\\\"Rediger hendelse\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekreft sletting\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekreft fjerning\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekreft fjerning av reservasjon\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dato kreves!\\\",\\\"discussion_6719c51d\\\":\\\"Diskusjon\\\",\\\"do_nothing_9672b478\\\":\\\"Gjr ingenting\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Tidsfrist er pkrevd!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Forfall: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Hendelse\\\",\\\"event_title_57a50568\\\":\\\"Hendelsestittel:\\\",\\\"filled_5d8c39e\\\":\\\"Utfylt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Navnet er for langt, det m vre under %{length} tegn\\\",\\\"next_month_b55a387c\\\":\\\"Neste mned\\\",\\\"no_date_bfeb2df7\\\":\\\"Ingen dato\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Side\\\",\\\"previous_month_7adf1380\\\":\\\"Forrige mned\\\",\\\"quiz_e0dcce8f\\\":\\\"Test\\\",\\\"reschedule_9f780bb8\\\":\\\"Planlegg p nytt\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservert av: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservert av deg\\\",\\\"reserved_f247b60b\\\":\\\"Reservert\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planlegger vist\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Den neste tilgjengelige avtalen i dette faget er p *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Det er ingen tilgjengelige pmeldinger for dette faget.\\\",\\\"title_is_required_8bb13295\\\":\\\"Tittel er pkrevd!\\\",\\\"to_do_1d554f36\\\":\\\" gjre\\\",\\\"to_do_5526f10a\\\":\\\" gjre:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Gjreml\\\",\\\"unreserved_e86b7425\\\":\\\"Avreservert\\\"},\\\"nl\\\":{\\\"and_more_1c35b232\\\":\\\"en meer...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Weet je zeker dat je de afspraak met %{name} wilt annuleren?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Weet je zeker dat je deze discussie wilt verwijderen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Weet je zeker dat je deze gebeurtenis wilt verwijderen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Weet je zeker dat je deze pagina wilt verwijderen?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Weet je zeker dat je dit To-do-item wilt verwijderen?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Weet je zeker dat je de reservering voor deze gebeurtenis wilt verwijderen?\\\",\\\"assignment_976578a8\\\":\\\"Opdracht\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Opdracht heeft een vergrendelde datum. Inleverdatum kan niet buiten het vergrendelde datumbereik worden ingesteld.\\\",\\\"assignment_title_82b4422e\\\":\\\"Titel van opdracht\\\",\\\"available_8606e40c\\\":\\\"Beschikbaar\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Beschikbaar\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} extra beschikbaar\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Nu weergeven van %{start} tot %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Verwijderen betekent ook dat iedere afspraak die door cursisten gemaakt is verwijderd wordt.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"send_message\\\":\\\"Versturen\\\",\\\"sending_message\\\":\\\"Bezig met versturen...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Weet je zeker dat je deze opdrachtgroep wilt verwijderen?\\\",\\\"confirm_deletion\\\":\\\"Verwijdering bevestigen\\\",\\\"end_before_start_error\\\":\\\"Starttijd moet eerder vallen dan eindtijd\\\",\\\"ends_in_past_error\\\":\\\"Je kunt geen tijdblok voor een afspraak vaststellen die eindigt in de tijd die al voorbij is\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Er is een fout opgetreden bij het inleveren van jouw bericht. Probeer het opnieuw\\\"},\\\"event_on_this_day\\\":\\\"Er is een gebeurtenis op deze dag\\\",\\\"loading_more_items\\\":\\\"Bezig met laden van meer items.\\\",\\\"loading_undated_events\\\":\\\"Bezig met laden van gebeurtenissen zonder datum\\\",\\\"messages_sent\\\":\\\"Bericht verzonden\\\",\\\"name_is_required\\\":\\\"Naam is verplicht!\\\",\\\"no_dates_error\\\":\\\"Ten minste een datum en tijdstip opgeven\\\",\\\"no_groups\\\":\\\"Geen groepen gevonden\\\",\\\"no_users\\\":\\\"Geen gebruikers gevonden\\\",\\\"open_appointment_on_this_day\\\":\\\"Er is een open afspraak op deze dag\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Weet je zeker dat je deze opdracht wilt verwijderen?\\\",\\\"delete_override\\\":\\\"Weet je zeker dat je deze opdracht wilt negeren?\\\"},\\\"save\\\":\\\"Opslaan\\\",\\\"save_and_publish\\\":\\\"Opslaan \\\\u0026 publiceren\\\",\\\"save_changes\\\":\\\"Wijzigingen opslaan\\\",\\\"time_block_errors\\\":\\\"Er zitten fouten in jouw tijd blokselecties.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Afspraakgroep bewerken\\\",\\\"edit_event\\\":\\\"De gebeurtenis bewerken\\\"},\\\"today\\\":\\\"Vandaag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Verwijdering bevestigen\\\",\\\"confirm_removal_a9bb889\\\":\\\"Verwijdering bevestigen\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Verwijdering van reservering bevestigen\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Datum is verplicht!\\\",\\\"discussion_6719c51d\\\":\\\"Discussie\\\",\\\"do_nothing_9672b478\\\":\\\"Niets doen\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Inleverdatum is verplicht!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Inleverdatum: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Gebeurtenis\\\",\\\"event_title_57a50568\\\":\\\"Titel van gebeurtenis:\\\",\\\"filled_5d8c39e\\\":\\\"Gevuld\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Naam is te lang, deze moet minder dan %{length} tekens zijn\\\",\\\"next_month_b55a387c\\\":\\\"Volgende maand\\\",\\\"no_date_bfeb2df7\\\":\\\"Geen datum\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Pagina\\\",\\\"previous_month_7adf1380\\\":\\\"Vorige maand\\\",\\\"quiz_e0dcce8f\\\":\\\"Toets\\\",\\\"reschedule_9f780bb8\\\":\\\"Opnieuw plannen\\\",\\\"reserved_by_d563e7d2\\\":\\\"Gereserveerd door: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Door jou gereserveerd\\\",\\\"reserved_f247b60b\\\":\\\"Gereserveerd\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planner weergegeven\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"De eerstvolgende beschikbare afspraak in deze cursus is op *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Er zijn geen beschikbare aanmeldingen voor deze cursus.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel is verplicht!\\\",\\\"to_do_1d554f36\\\":\\\"To-do lijst\\\",\\\"to_do_5526f10a\\\":\\\"To-do:\\\",\\\"to_do_item_d76ecb78\\\":\\\"To-do-item\\\",\\\"unreserved_e86b7425\\\":\\\"Niet-gereserveerd\\\"},\\\"nn\\\":{\\\"and_more_1c35b232\\\":\\\"og meir...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Er du sikker p at du vil avlyse avtalen med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Er du sikker p at du vil slette denne diskusjonen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Er du sikker p at du vil slette denne hendinga?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Er du sikker p at du vil slette denne sida?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Er du sikker p at du vil slette dette gjeremlet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Er du sikker p at du vil slette reservasjonen av denne hendinga?\\\",\\\"assignment_976578a8\\\":\\\"Oppgve\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Oppgva har tilgjengelig fr-/til-dato og er lst til dette tidsrommet. Innleveringsfrist kan ikkje vere utanfor gitt tidsrom. \\\",\\\"assignment_title_82b4422e\\\":\\\"Oppgvetittel:\\\",\\\"available_8606e40c\\\":\\\"Tilgjengeleg\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} tilgjengeleg\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} fleire tilgjengelege\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Viser %{start} til og med %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sletting av denne slettar ogs alle avtalar som gjort av studentar.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"send_message\\\":\\\"Send\\\",\\\"sending_message\\\":\\\"Sender...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Er du sikker p at du vil slette denne avtalegruppa?\\\",\\\"confirm_deletion\\\":\\\"Stadfest sletting\\\",\\\"end_before_start_error\\\":\\\"Starttidspunkt m setjast fr sluttidspunkt\\\",\\\"ends_in_past_error\\\":\\\"Du kan ikkje opprette ein avtale som sluttar i fortida\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Det oppstod ein feil under sending av meldinga. Prv p nytt seinare\\\"},\\\"event_on_this_day\\\":\\\"Det er ei hending denne dagen\\\",\\\"loading_more_items\\\":\\\"Lastar fleire element.\\\",\\\"loading_undated_events\\\":\\\"Lastar hendingar utan dato\\\",\\\"messages_sent\\\":\\\"Meldingane er sende\\\",\\\"name_is_required\\\":\\\"Namn er obligatorisk!\\\",\\\"no_dates_error\\\":\\\"Du m oppgi minst ein dato og eit tidspunkt\\\",\\\"no_groups\\\":\\\"Finn ingen grupper\\\",\\\"no_users\\\":\\\"Finn ingen brukarar\\\",\\\"open_appointment_on_this_day\\\":\\\"Det er ein open avtale denne dagen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Er du sikker p at du vil slette denne oppgva?\\\",\\\"delete_override\\\":\\\"Er du sikker p at du vil slette overstyring av denne oppgva?\\\"},\\\"save\\\":\\\"Lagre\\\",\\\"save_and_publish\\\":\\\"Lagre og publiser\\\",\\\"save_changes\\\":\\\"Lagre endringar\\\",\\\"time_block_errors\\\":\\\"Det er feil i utvala av tidsbolkar.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Rediger avtalegruppe\\\",\\\"edit_event\\\":\\\"Rediger hending\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Stadfest sletting\\\",\\\"confirm_removal_a9bb889\\\":\\\"Stadfest fjerning\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Stadfest fjerning av reservasjon\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Dato er obligatorisk.\\\",\\\"discussion_6719c51d\\\":\\\"Diskusjon\\\",\\\"do_nothing_9672b478\\\":\\\"Gjer ingenting\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Innleveringsfrist er obligatorisk.\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Frist: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Hending\\\",\\\"event_title_57a50568\\\":\\\"Tittel p hending:\\\",\\\"filled_5d8c39e\\\":\\\"Utfylt\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Namnet er for langt, m vere under %{length} teikn\\\",\\\"next_month_b55a387c\\\":\\\"Neste mnad\\\",\\\"no_date_bfeb2df7\\\":\\\"Ingen dato\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Side\\\",\\\"previous_month_7adf1380\\\":\\\"Frre mnad\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Planlegg p nytt\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservert av:\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservert av meg\\\",\\\"reserved_f247b60b\\\":\\\"Reservert\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Planleggar vist\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Neste tilgjengelege avtale p dette emnet er *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Det er ingen ledige plassar p dette emnet.\\\",\\\"title_is_required_8bb13295\\\":\\\"Tittel er obligatorisk! \\\",\\\"to_do_1d554f36\\\":\\\"Gjereml\\\",\\\"to_do_5526f10a\\\":\\\"Gjereml: \\\",\\\"to_do_item_d76ecb78\\\":\\\"Gjermlelement\\\",\\\"unreserved_e86b7425\\\":\\\"Ikkje reservert\\\"},\\\"pl\\\":{\\\"and_more_1c35b232\\\":\\\"i wicej...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Czy na pewno chcesz anulowa spotkanie z %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Czy na pewno usun t dyskusj?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Czy na pewno chcesz usun to wydarzenie?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Czy na pewno chcesz usun t stron?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Czy na pewno chcesz usun ten element listy zada?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Czy na pewno chcesz usun swoj rezerwacj dla tego wydarzenia?\\\",\\\"assignment_976578a8\\\":\\\"Zadanie\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Zadanie ma zablokowan dat. Terminu nie mona ustawi poza zablokowany zakres dat.\\\",\\\"assignment_title_82b4422e\\\":\\\"Tytu zadania:\\\",\\\"available_8606e40c\\\":\\\"Dostpne\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Dostpne\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} wicej dostpnych\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Wywietlane od %{start} do %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Usunicie tego, usunie rwnie wszelkie spotkania, na ktre zapisali si uczestnicy.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"send_message\\\":\\\"Wylij\\\",\\\"sending_message\\\":\\\"Trwa wysyanie...\\\"},\\\"calendar_title\\\":\\\"Kalendarz:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Czy na pewno chcesz usun to spotkanie grupowe?\\\",\\\"confirm_deletion\\\":\\\"Potwierd usunicie\\\",\\\"end_before_start_error\\\":\\\"Czas rozpoczcia musi by przed czasem zakoczenia\\\",\\\"ends_in_past_error\\\":\\\"Nie mona tworzy terminw spotka, ktre kocz si w przeszoci.\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Wystpi bd podczas przesyania wiadomoci, sprbuj jeszcze raz\\\"},\\\"event_on_this_day\\\":\\\"W tym dniu wystpuje wydarzenie.\\\",\\\"loading_more_items\\\":\\\"adowanie kolejnych elementw.\\\",\\\"loading_undated_events\\\":\\\"adowanie wydarze bez daty\\\",\\\"messages_sent\\\":\\\"Wiadomoci wysane\\\",\\\"name_is_required\\\":\\\"Wymagana jest nazwa!\\\",\\\"no_dates_error\\\":\\\"Musisz okreli przynajmniej jedn dat i godzin\\\",\\\"no_groups\\\":\\\"Nie znaleziono grup\\\",\\\"no_users\\\":\\\"Nie znaleziono uzytkownikw\\\",\\\"open_appointment_on_this_day\\\":\\\"Jest otwarte spotkanie w tym dniu.\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Czy na pewno chcesz usun to zadanie?\\\",\\\"delete_override\\\":\\\"Czy na pewno chcesz usun to pominite zadanie?\\\"},\\\"save\\\":\\\"Zapisz\\\",\\\"save_and_publish\\\":\\\"Zapisz \\\\u0026 Opublikuj\\\",\\\"save_changes\\\":\\\"Zapisz zmiany\\\",\\\"time_block_errors\\\":\\\"Wystpiy bdy w wyborze blokw czasu.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Edytuj spotkanie grupowe\\\",\\\"edit_event\\\":\\\"Edytuj wydarzenie\\\"},\\\"today\\\":\\\"Dzisiaj\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalendarz:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Potwierd usunicie\\\",\\\"confirm_removal_a9bb889\\\":\\\"Potwierd usunicie\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Potwierd usunicie rezerwacji\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Wymagana jest data!\\\",\\\"discussion_6719c51d\\\":\\\"Dyskusja\\\",\\\"do_nothing_9672b478\\\":\\\"Nic nie rb\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Wymagany jest termin!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Termin dostarczenia %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Wydarzenie\\\",\\\"event_title_57a50568\\\":\\\"Tytu wydarzenia:\\\",\\\"filled_5d8c39e\\\":\\\"Wypenione\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nazwa jest zbyt duga, musi zawiera poniej %{length} znakw\\\",\\\"next_month_b55a387c\\\":\\\"Nastpny miesic\\\",\\\"no_date_bfeb2df7\\\":\\\"Brak daty\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Strona\\\",\\\"previous_month_7adf1380\\\":\\\"Poprzedni miesic\\\",\\\"quiz_e0dcce8f\\\":\\\"Test\\\",\\\"reschedule_9f780bb8\\\":\\\"Zaplanuj ponownie\\\",\\\"reserved_by_d563e7d2\\\":\\\"Zarezerwowane przez: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Zarezerwowane przez uytkownika\\\",\\\"reserved_f247b60b\\\":\\\"Zarezerwowano\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Poka planer\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Kolejny dostpny przydzia w tym kursie ma termin *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Brak dostpnych rejestracji dla tego kursu.\\\",\\\"title_is_required_8bb13295\\\":\\\"Wymagany jest tytu!\\\",\\\"to_do_1d554f36\\\":\\\"Lista zada\\\",\\\"to_do_5526f10a\\\":\\\"Lista zada:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Zadanie\\\",\\\"unreserved_e86b7425\\\":\\\"Niezarezerwowany\\\"},\\\"pt\\\":{\\\"and_more_1c35b232\\\":\\\"e mais...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Tem certeza de que deseja cancelar seu compromisso com %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Tem a certeza de que pretende eliminar esta discusso?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Tem certeza de que deseja excluir este evento?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Tem a certeza de que deseja eliminar esta pgina?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Tem certeza de que deseja eliminar este item de Tarefa?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Tem a certeza de que pretende eliminar a sua reserva para este evento?\\\",\\\"assignment_976578a8\\\":\\\"Tarefa\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"A tarefa tem uma data bloqueada. A data de vencimento no pode ser definida fora do intervalo de data bloqueada.\\\",\\\"assignment_title_82b4422e\\\":\\\"Ttulo da tarefa:\\\",\\\"available_8606e40c\\\":\\\"Disponvel\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Disponvel\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mais disponvel\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"A visualizar %{start} at %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Eliminar isto tambm ir eliminar compromissos para os quais os alunos se tenham inscrito.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"send_message\\\":\\\"Enviar\\\",\\\"sending_message\\\":\\\"Enviando...\\\"},\\\"calendar_title\\\":\\\"Calendrio:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Tem a certeza de que pretende eliminar este grupo de compromissos?\\\",\\\"confirm_deletion\\\":\\\"Confirmar eliminao\\\",\\\"end_before_start_error\\\":\\\"A hora de incio tem de ser anterior  hora de fim\\\",\\\"ends_in_past_error\\\":\\\"No pode criar uma entrada de compromisso que termine no passado\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Ocorreu um erro durante o envio da mensagem, tente novamente\\\"},\\\"event_on_this_day\\\":\\\"H um evento neste dia\\\",\\\"loading_more_items\\\":\\\"A carregar mais itens.\\\",\\\"loading_undated_events\\\":\\\"A carregar eventos sem data\\\",\\\"messages_sent\\\":\\\"Mensagens enviadas\\\",\\\"name_is_required\\\":\\\" necessrio o nome!\\\",\\\"no_dates_error\\\":\\\"Precisa de especificar pelo menos uma data e hora\\\",\\\"no_groups\\\":\\\"No foram encontrados grupos\\\",\\\"no_users\\\":\\\"No foram encontrados utilizadores\\\",\\\"open_appointment_on_this_day\\\":\\\"H um compromisso aberto neste dia\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Tem certeza de que deseja excluir esta tarefa?\\\",\\\"delete_override\\\":\\\"Tem a certeza de que pretende eliminar esta substituio de tarefa?\\\"},\\\"save\\\":\\\"Guardar\\\",\\\"save_and_publish\\\":\\\"Guardar \\\\u0026 Publicar\\\",\\\"save_changes\\\":\\\"Guardar alteraes\\\",\\\"time_block_errors\\\":\\\"Existem erros nas suas escolhas de blocos de tempo.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Editar grupo de compromissos\\\",\\\"edit_event\\\":\\\"Editar evento\\\"},\\\"today\\\":\\\"Hoje\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendrio:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirmar eliminao\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirmar remoo\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirmar remoo de reserva\\\",\\\"date_is_required_9c6f5e83\\\":\\\"A data  necessria!\\\",\\\"discussion_6719c51d\\\":\\\"Discusso\\\",\\\"do_nothing_9672b478\\\":\\\"No fazer nada\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"A data de vencimento  necessria!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Data limite %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Evento\\\",\\\"event_title_57a50568\\\":\\\"Ttulo do evento:\\\",\\\"filled_5d8c39e\\\":\\\"Arquivado\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Nome demasiado comprido, deve estar sob %{length} caracteres\\\",\\\"next_month_b55a387c\\\":\\\"Prximo ms\\\",\\\"no_date_bfeb2df7\\\":\\\"Sem data\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Pgina\\\",\\\"previous_month_7adf1380\\\":\\\"Ms anterior\\\",\\\"quiz_e0dcce8f\\\":\\\"Teste\\\",\\\"reschedule_9f780bb8\\\":\\\"Agendar para outra altura\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservado Por: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservado por si\\\",\\\"reserved_f247b60b\\\":\\\"Reservado\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Agendamento apresentado\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"O prximo agendamento disponvel para este curso  em *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"No existem inscries disponveis para este curso.\\\",\\\"title_is_required_8bb13295\\\":\\\" necessrio um ttulo!\\\",\\\"to_do_1d554f36\\\":\\\"A Fazer\\\",\\\"to_do_5526f10a\\\":\\\"Tarefa:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Para fazer o item\\\",\\\"unreserved_e86b7425\\\":\\\"No reservado\\\"},\\\"pt-BR\\\":{\\\"and_more_1c35b232\\\":\\\"e mais...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Tem certeza de que deseja cancelar o seu compromisso com %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Tem certeza que deseja excluir este frum?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Tem certeza que deseja excluir este evento?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Tem certeza de que deseja excluir essa pgina?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Tem certeza de que deseja excluir este item da tarefa?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Tem certeza que deseja excluir sua reserva deste evento?\\\",\\\"assignment_976578a8\\\":\\\"Tarefa\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"A tarefa tem uma data bloqueada. O prazo de entrega no pode ser definido fora do intervalo de datas bloqueadas.\\\",\\\"assignment_title_82b4422e\\\":\\\"Ttulo da tarefa:\\\",\\\"available_8606e40c\\\":\\\"Disponvel\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Disponvel\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mais disponveis\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Agora mostrando %{start} at %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Sua excluso tambm excluir quaisquer compromissos inscritos por alunos.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"send_message\\\":\\\"Enviar\\\",\\\"sending_message\\\":\\\"Enviando...\\\"},\\\"calendar_title\\\":\\\"Calendrio:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Tem certeza que deseja excluir este grupo de compromisso?\\\",\\\"confirm_deletion\\\":\\\"Confirmar excluso\\\",\\\"end_before_start_error\\\":\\\"A hora de incio deve anteceder a hora de trmino\\\",\\\"ends_in_past_error\\\":\\\"Voc no pode criar um espao de compromisso que termine no passado\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Houve um erro ao enviar sua mensagem. Tente novamente.\\\"},\\\"event_on_this_day\\\":\\\"H um evento neste dia\\\",\\\"loading_more_items\\\":\\\"Carregando mais itens.\\\",\\\"loading_undated_events\\\":\\\"Carregando eventos no datados\\\",\\\"messages_sent\\\":\\\"Mensagens enviadas\\\",\\\"name_is_required\\\":\\\"Nome  obrigatrio!\\\",\\\"no_dates_error\\\":\\\"Voc precisa especificar pelo menos uma data e hora\\\",\\\"no_groups\\\":\\\"Nenhum grupo encontrado\\\",\\\"no_users\\\":\\\"Nenhum usurio foi encontrado\\\",\\\"open_appointment_on_this_day\\\":\\\"H um compromisso aberto neste dia\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Tem certeza de que deseja excluir esta tarefa?\\\",\\\"delete_override\\\":\\\"Tem certeza que deseja excluir a substituio desta tarefa?\\\"},\\\"save\\\":\\\"Salvar\\\",\\\"save_and_publish\\\":\\\"Salvar e Publicar\\\",\\\"save_changes\\\":\\\"Salvar alteraes\\\",\\\"time_block_errors\\\":\\\"H erros nas suas selees de bloco de horrio\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Editar grupo de compromisso\\\",\\\"edit_event\\\":\\\"Editar evento\\\"},\\\"today\\\":\\\"Hoje\\\"},\\\"calendar_a8563bb2\\\":\\\"Calendrio:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Confirmar excluso\\\",\\\"confirm_removal_a9bb889\\\":\\\"Confirmar remoo\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Confirmar a remoo da reserva\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Data  necessria!\\\",\\\"discussion_6719c51d\\\":\\\"Frum\\\",\\\"do_nothing_9672b478\\\":\\\"No fazer nada\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Prazo de entrega  obrigatrio!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Entrega: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Evento\\\",\\\"event_title_57a50568\\\":\\\"Ttulo do evento:\\\",\\\"filled_5d8c39e\\\":\\\"Cheia\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"O nome  longo demais, deve estar abaixo de %{length} caracteres\\\",\\\"next_month_b55a387c\\\":\\\"Prximo ms\\\",\\\"no_date_bfeb2df7\\\":\\\"Sem Data\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Pgina\\\",\\\"previous_month_7adf1380\\\":\\\"Ms anterior\\\",\\\"quiz_e0dcce8f\\\":\\\"Teste\\\",\\\"reschedule_9f780bb8\\\":\\\"Reagendar\\\",\\\"reserved_by_d563e7d2\\\":\\\"Reservado por: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Reservado por voc\\\",\\\"reserved_f247b60b\\\":\\\"Reservado\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Agendador mostrado\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"O prximo compromisso disponvel neste curso  em *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"No h registros disponveis para este curso.\\\",\\\"title_is_required_8bb13295\\\":\\\"Ttulo  necessrio!\\\",\\\"to_do_1d554f36\\\":\\\"Lista de Tarefas\\\",\\\"to_do_5526f10a\\\":\\\"Para fazer:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Item da lista de tarefas\\\",\\\"unreserved_e86b7425\\\":\\\"No-reservado\\\"},\\\"ru\\\":{\\\"and_more_1c35b232\\\":\\\"  ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\" ,       %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\" ,     ?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"     ?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"     ?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\" ,      ?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\" ,        ?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"   .           .\\\",\\\"assignment_title_82b4422e\\\":\\\" :\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots}   \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"  %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"     ,    .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\" ,      ?\\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"      \\\",\\\"ends_in_past_error\\\":\\\"       ,    \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"    . ,   \\\"},\\\"event_on_this_day\\\":\\\"    \\\",\\\"loading_more_items\\\":\\\"  .\\\",\\\"loading_undated_events\\\":\\\"   \\\",\\\"messages_sent\\\":\\\" \\\",\\\"name_is_required\\\":\\\"  !\\\",\\\"no_dates_error\\\":\\\"         \\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"     \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"     ?\\\",\\\"delete_override\\\":\\\" ,      ?\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"  \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"      \\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\" \\\",\\\"confirm_removal_a9bb889\\\":\\\" \\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"  \\\",\\\"date_is_required_9c6f5e83\\\":\\\"  !\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"  \\\",\\\"due_date_is_required_cdb75f25\\\":\\\"   !\\\",\\\"due_dueat_ef67f6f4\\\":\\\" : %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"  :     %{length} \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\" \\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\" \\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\": \\\",\\\"reserved_by_you_cd03b62d\\\":\\\" \\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\" \\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"        - *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"     .\\\",\\\"title_is_required_8bb13295\\\":\\\" !\\\",\\\"to_do_1d554f36\\\":\\\"\\\",\\\"to_do_5526f10a\\\":\\\":\\\",\\\"to_do_item_d76ecb78\\\":\\\" \\\",\\\"unreserved_e86b7425\\\":\\\"\\\"},\\\"sl\\\":{\\\"and_more_1c35b232\\\":\\\"in ve ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Ali ste prepriani, da elite preklicati sestanek s/z %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Ali ste prepriani, da elite odstraniti to razpravo?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Ali ste prepriani, da elite izbrisati ta dogodek?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Ali ste prepriani, da elite odstraniti to stran?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Ali ste prepriani, da elite izbrisati ta element seznama opravil?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Ali ste prepriani, da elite izbrisati svojo rezervacijo tega dogodka?\\\",\\\"assignment_976578a8\\\":\\\"Naloga\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Naloga ima zaklenjen datum. Roka ni mogoe nastaviti zunaj razpona zaklenjenih datumov.\\\",\\\"assignment_title_82b4422e\\\":\\\"Naslov naloge:\\\",\\\"available_8606e40c\\\":\\\"Na voljo\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Na voljo\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} na voljo ve\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Zdaj je prikazan %{start} do %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Z brisanjem se bodo izbrisali tudi morebitni sestanki, na katere so se prijavili tudenti.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Preklii\\\",\\\"send_message\\\":\\\"Polji\\\",\\\"sending_message\\\":\\\"Poiljanje ...\\\"},\\\"calendar_title\\\":\\\"Koledar:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Ali ste prepriani, da elite izbrisati to skupino sestankov?\\\",\\\"confirm_deletion\\\":\\\"Potrdi brisanje\\\",\\\"end_before_start_error\\\":\\\"as zaetka mora biti pred asom konca.\\\",\\\"ends_in_past_error\\\":\\\"Ne morete ustvariti termina za sestanek, ki se kona v preteklosti.\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Prilo je do napake pri poiljanju sporoila, poskusite znova.\\\"},\\\"event_on_this_day\\\":\\\"Na ta dan obstaja dogodek.\\\",\\\"loading_more_items\\\":\\\"Nalaganje ve elementov.\\\",\\\"loading_undated_events\\\":\\\"Nalaganje dogodkov brez datuma\\\",\\\"messages_sent\\\":\\\"Sporoilo je poslano.\\\",\\\"name_is_required\\\":\\\"Zahtevano je ime.\\\",\\\"no_dates_error\\\":\\\"Navesti morate vsaj en datum in as.\\\",\\\"no_groups\\\":\\\"Ni mogoe najti skupin.\\\",\\\"no_users\\\":\\\"Ni mogoe najti uporabnikov.\\\",\\\"open_appointment_on_this_day\\\":\\\"Na ta dan obstaja odprt sestanek.\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Ali ste prepriani, da elite odstraniti to nalogo?\\\",\\\"delete_override\\\":\\\"Ali ste prepriani, da elite izbrisati to preglasitev naloge?\\\"},\\\"save\\\":\\\"Shrani\\\",\\\"save_and_publish\\\":\\\"Shrani in objavi\\\",\\\"save_changes\\\":\\\"Shrani spremembe\\\",\\\"time_block_errors\\\":\\\"Obstajajo napake v vaih izbirah asovnih blokov.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Uredi skupino sestankov\\\",\\\"edit_event\\\":\\\"Uredi dogodek\\\"},\\\"today\\\":\\\"Danes\\\"},\\\"calendar_a8563bb2\\\":\\\"Koledar:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Potrdi brisanje\\\",\\\"confirm_removal_a9bb889\\\":\\\"Potrdi odstranitev\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Potrdi odstranitev rezervacije\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Zahtevan je datum.\\\",\\\"discussion_6719c51d\\\":\\\"Razprava\\\",\\\"do_nothing_9672b478\\\":\\\"Ne naredi niesar\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Zahtevan je rok.\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Rok: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Dogodek\\\",\\\"event_title_57a50568\\\":\\\"Naslov dogodka:\\\",\\\"filled_5d8c39e\\\":\\\"Izpolnjeno\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Ime je predolgo, mora biti kraje od %{length} znakov.\\\",\\\"next_month_b55a387c\\\":\\\"Naslednji mesec\\\",\\\"no_date_bfeb2df7\\\":\\\"Brez datuma\\\",\\\"ok_c47544a2\\\":\\\"V redu\\\",\\\"page_50c4823d\\\":\\\"Stran\\\",\\\"previous_month_7adf1380\\\":\\\"Prejnji mesec\\\",\\\"quiz_e0dcce8f\\\":\\\"Kviz\\\",\\\"reschedule_9f780bb8\\\":\\\"Ponovno razporedi\\\",\\\"reserved_by_d563e7d2\\\":\\\"Rezerviral: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Rezervirali ste vi.\\\",\\\"reserved_f247b60b\\\":\\\"Rezervirano\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Prikazan razporejevalnik\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Naslednji razpololjivi sestanek pri tem predmetu je dne *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Pri tem predmetu ni razpololjivih vlanitev.\\\",\\\"title_is_required_8bb13295\\\":\\\"Zahtevan je naslov.\\\",\\\"to_do_1d554f36\\\":\\\"Seznam opravil\\\",\\\"to_do_5526f10a\\\":\\\"Seznam opravil:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Element seznama opravil\\\",\\\"unreserved_e86b7425\\\":\\\"Nerezervirano\\\"},\\\"sv\\\":{\\\"and_more_1c35b232\\\":\\\"och annat ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Vill du avboka din tid med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Vill du ta bort den hr diskussionen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Vill du verkligen ta bort den hr hndelsen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Vill du ta bort den hr sidan?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Vill du ta bort det hr att gra-objektet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Vill du ta bort din reservation fr den hr hndelsen?\\\",\\\"assignment_976578a8\\\":\\\"Uppgift\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Uppdraget har ett lst datum. Inlmningsdatumet kan inte stllas in utanfr det lsta datumintervallet.\\\",\\\"assignment_title_82b4422e\\\":\\\"Uppgiftens titel:\\\",\\\"available_8606e40c\\\":\\\"Tillgnglig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Tillgnglig\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mer tillgngliga\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Visar nu %{start} till %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Om du tar bort den tar det ven bort alla mten som har bokats av studenter.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"send_message\\\":\\\"Skicka\\\",\\\"sending_message\\\":\\\"Skickar ...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Vill du ta bort den hr mtesgruppen?\\\",\\\"confirm_deletion\\\":\\\"Bekrfta borttagning\\\",\\\"end_before_start_error\\\":\\\"Startiden mste vara fre sluttiden\\\",\\\"ends_in_past_error\\\":\\\"Du kan inte skapa en mtestid som slutar i frfluten tid\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Ett fel uppstod nr du frskte skicka ditt meddelande, frsk igen\\\"},\\\"event_on_this_day\\\":\\\"En hndelse r inbokad den hr dagen\\\",\\\"loading_more_items\\\":\\\"Laddar fler objekt.\\\",\\\"loading_undated_events\\\":\\\"Ladda odaterade hndelser\\\",\\\"messages_sent\\\":\\\"Meddelandena har skickats\\\",\\\"name_is_required\\\":\\\"Namn r obligatoriskt!\\\",\\\"no_dates_error\\\":\\\"Du mste specificera minst ett datum och en tid\\\",\\\"no_groups\\\":\\\"Inga grupper hittades\\\",\\\"no_users\\\":\\\"Inga anvndare hittades\\\",\\\"open_appointment_on_this_day\\\":\\\"Det finns en ledig tid den hr dagen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Vill du ta bort den hr uppgiften?\\\",\\\"delete_override\\\":\\\"Vill du ta bort sidosttningen av den hr uppgiften?\\\"},\\\"save\\\":\\\"Spara\\\",\\\"save_and_publish\\\":\\\"Spara och publicera\\\",\\\"save_changes\\\":\\\"Spara ndringar\\\",\\\"time_block_errors\\\":\\\"Dina val av tider innehller fel.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Redigera mtesgrupp\\\",\\\"edit_event\\\":\\\"Redigera hndelse\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekrfta borttagning\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekrfta borttagning\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekrfta borttagning av bokning\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Datum krvs!\\\",\\\"discussion_6719c51d\\\":\\\"Diskussion\\\",\\\"do_nothing_9672b478\\\":\\\"Gr ingenting\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Slutdatum krvs!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Inlmningsdatum: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Hndelse\\\",\\\"event_title_57a50568\\\":\\\"Hndelsens titel:\\\",\\\"filled_5d8c39e\\\":\\\"Fylld\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Namnet r fr lngt, det mste vara under %{length} tecken\\\",\\\"next_month_b55a387c\\\":\\\"Nsta mnad\\\",\\\"no_date_bfeb2df7\\\":\\\"Inget datum\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Sida\\\",\\\"previous_month_7adf1380\\\":\\\"Fregende mnad\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Omboka\\\",\\\"reserved_by_d563e7d2\\\":\\\"Bokad av: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Bokad av dig\\\",\\\"reserved_f247b60b\\\":\\\"Reserverad\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Schemabokare visas\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Nsta tillgngliga mte i denna kurs r den *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Det finns inte tillgngliga registreringar fr denna kurs.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel krvs!\\\",\\\"to_do_1d554f36\\\":\\\"Att gra\\\",\\\"to_do_5526f10a\\\":\\\"Att gra:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Att gra-objekt\\\",\\\"unreserved_e86b7425\\\":\\\"Ej reserverad\\\"},\\\"sv-x-k12\\\":{\\\"and_more_1c35b232\\\":\\\"och annat ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"Vill du avboka din tid med %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Vill du ta bort den hr diskussionen?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Vill du verkligen ta bort den hr hndelsen?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"Vill du ta bort den hr sidan?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Vill du ta bort det hr att gra-objektet?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Vill du ta bort din reservation fr den hr hndelsen?\\\",\\\"assignment_976578a8\\\":\\\"Uppgift\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"Uppdraget har ett lst datum. Inlmningsdatumet kan inte stllas in utanfr det lsta datumintervallet.\\\",\\\"assignment_title_82b4422e\\\":\\\"Uppgiftens titel:\\\",\\\"available_8606e40c\\\":\\\"Tillgnglig\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Tillgnglig\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} mer tillgngliga\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"Visar nu %{start} till %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"Om du tar bort den tar det ven bort alla mten som har bokats av elever.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"send_message\\\":\\\"Skicka\\\",\\\"sending_message\\\":\\\"Skickar ...\\\"},\\\"calendar_title\\\":\\\"Kalender:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Vill du ta bort den hr mtesgruppen?\\\",\\\"confirm_deletion\\\":\\\"Bekrfta borttagning\\\",\\\"end_before_start_error\\\":\\\"Startiden mste vara fre sluttiden\\\",\\\"ends_in_past_error\\\":\\\"Du kan inte skapa en mtestid som slutar i frfluten tid\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"Ett fel uppstod nr du frskte skicka ditt meddelande, frsk igen\\\"},\\\"event_on_this_day\\\":\\\"En hndelse r inbokad den hr dagen\\\",\\\"loading_more_items\\\":\\\"Laddar fler objekt.\\\",\\\"loading_undated_events\\\":\\\"Ladda odaterade hndelser\\\",\\\"messages_sent\\\":\\\"Meddelandena har skickats\\\",\\\"name_is_required\\\":\\\"Namn r obligatoriskt!\\\",\\\"no_dates_error\\\":\\\"Du mste specificera minst ett datum och en tid\\\",\\\"no_groups\\\":\\\"Inga grupper hittades\\\",\\\"no_users\\\":\\\"Inga anvndare hittades\\\",\\\"open_appointment_on_this_day\\\":\\\"Det finns en ledig tid den hr dagen\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Vill du ta bort den hr uppgiften?\\\",\\\"delete_override\\\":\\\"Vill du ta bort sidosttningen av den hr uppgiften?\\\"},\\\"save\\\":\\\"Spara\\\",\\\"save_and_publish\\\":\\\"Spara och publicera\\\",\\\"save_changes\\\":\\\"Spara ndringar\\\",\\\"time_block_errors\\\":\\\"Dina val av tider innehller fel.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Redigera mtesgrupp\\\",\\\"edit_event\\\":\\\"Redigera hndelse\\\"},\\\"today\\\":\\\"I dag\\\"},\\\"calendar_a8563bb2\\\":\\\"Kalender:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Bekrfta borttagning\\\",\\\"confirm_removal_a9bb889\\\":\\\"Bekrfta borttagning\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Bekrfta borttagning av bokning\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Datum krvs!\\\",\\\"discussion_6719c51d\\\":\\\"Diskussion\\\",\\\"do_nothing_9672b478\\\":\\\"Gr ingenting\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Slutdatum krvs!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Inlmningsdatum: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Hndelse\\\",\\\"event_title_57a50568\\\":\\\"Hndelsens titel:\\\",\\\"filled_5d8c39e\\\":\\\"Fylld\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"Namnet r fr lngt, det mste vara under %{length} tecken\\\",\\\"next_month_b55a387c\\\":\\\"Nsta mnad\\\",\\\"no_date_bfeb2df7\\\":\\\"Inget datum\\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"Sida\\\",\\\"previous_month_7adf1380\\\":\\\"Fregende mnad\\\",\\\"quiz_e0dcce8f\\\":\\\"Quiz\\\",\\\"reschedule_9f780bb8\\\":\\\"Omboka\\\",\\\"reserved_by_d563e7d2\\\":\\\"Bokad av: \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"Bokad av dig\\\",\\\"reserved_f247b60b\\\":\\\"Reserverad\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"Schemabokare visas\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"Nsta tillgngliga mte i denna kurs r den *%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"Det finns inte tillgngliga registreringar fr denna kurs.\\\",\\\"title_is_required_8bb13295\\\":\\\"Titel krvs!\\\",\\\"to_do_1d554f36\\\":\\\"Att gra\\\",\\\"to_do_5526f10a\\\":\\\"Att gra:\\\",\\\"to_do_item_d76ecb78\\\":\\\"Att gra-objekt\\\",\\\"unreserved_e86b7425\\\":\\\"Ej reserverad\\\"},\\\"tr\\\":{\\\"and_more_1c35b232\\\":\\\"ve daha fazlas...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\"%{name} ile olan randevunuzu iptal etmek istediinizden emin misiniz?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"Bu tartmay silmek istediinize emin misiniz?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"Bu olay silmek istediinize emin misiniz?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"Bu Yaplacak esini silmek istediinize emin misiniz?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"Bu olay iin rezervasyonunuzu silmek istediinize emin misiniz?\\\",\\\"assignment_976578a8\\\":\\\"dev\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"devin kilitlenmi bir tarihi var. Son teslim tarihi kilitlenmi tarih aral dnda ayarlanamaz.\\\",\\\"assignment_title_82b4422e\\\":\\\"dev Bal:\\\",\\\"available_8606e40c\\\":\\\"Kullanlabilir\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} Kullanlabilir\\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} kullanlabilir\\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"u and a gsterilen %{start} ile %{end} aras\\\",\\\"appointment_group_deletion_details\\\":\\\"Bunu silerseniz rencilerin tarafndan kaydolunan herhangi grme de silinecektir.\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"ptal\\\",\\\"send_message\\\":\\\"Gnder\\\",\\\"sending_message\\\":\\\"Gnderiliyor...\\\"},\\\"calendar_title\\\":\\\"Takvim:\\\",\\\"confirm_appointment_group_deletion\\\":\\\"Bu randevu grubunu silmek istediinizden emin misiniz?\\\",\\\"confirm_deletion\\\":\\\"Silme lemini Onayla\\\",\\\"end_before_start_error\\\":\\\"Balang zaman biti zamanndan nce olmaldr\\\",\\\"ends_in_past_error\\\":\\\"Gemite biten bir randevu zaman oluturamazsnz.\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"letiniz gnderilirken bir hata olutu, ltfen tekrar deneyin.\\\"},\\\"event_on_this_day\\\":\\\"Bu gn bir olay var\\\",\\\"loading_more_items\\\":\\\"Daha fazla e ykleniyor.\\\",\\\"loading_undated_events\\\":\\\"Tarihsiz olaylar ykleniyor\\\",\\\"messages_sent\\\":\\\"Mesajlar Gnderildi\\\",\\\"name_is_required\\\":\\\"sim zorunludur!\\\",\\\"no_dates_error\\\":\\\"En az bir gn ve saat belirtmelisiniz\\\",\\\"no_groups\\\":\\\"Hi grup bulunamad\\\",\\\"no_users\\\":\\\"Hi kullanc bulunamad\\\",\\\"open_appointment_on_this_day\\\":\\\"Bugn iin ak bir randevu var.\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"Bu devi silmek isteinize emin misiniz?\\\",\\\"delete_override\\\":\\\"zerine yazlm bu devi silmek istediinize emin misiniz?\\\"},\\\"save\\\":\\\"Kaydet\\\",\\\"save_and_publish\\\":\\\"Kaydet \\\\u0026 Yaynla\\\",\\\"save_changes\\\":\\\"Deiiklikleri Kaydet\\\",\\\"time_block_errors\\\":\\\"Zaman blou seimlerinizde hatalar var.\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"Randevu Grubunu Dzenle\\\",\\\"edit_event\\\":\\\"Olay Dzenle\\\"},\\\"today\\\":\\\"Bugn\\\"},\\\"calendar_a8563bb2\\\":\\\"Takvim:\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"Silme lemini Onayla\\\",\\\"confirm_removal_a9bb889\\\":\\\"Kaldrma lemini Onayla\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"Rezervasyon Silme Onay\\\",\\\"date_is_required_9c6f5e83\\\":\\\"Tarih gereklidir!\\\",\\\"discussion_6719c51d\\\":\\\"Tartma\\\",\\\"do_nothing_9672b478\\\":\\\"Hibir ey Yapma\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"Son Teslim Tarihi gereklidir!\\\",\\\"due_dueat_ef67f6f4\\\":\\\"Biti: %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"Olay\\\",\\\"event_title_57a50568\\\":\\\"Olay Bal:\\\",\\\"filled_5d8c39e\\\":\\\"Doldurulmu\\\",\\\"next_month_b55a387c\\\":\\\"Sonraki ay\\\",\\\"no_date_bfeb2df7\\\":\\\"Tarih Yok\\\",\\\"ok_c47544a2\\\":\\\"Tamam\\\",\\\"page_50c4823d\\\":\\\"Sayfa\\\",\\\"quiz_e0dcce8f\\\":\\\"Ksa Snav\\\",\\\"reserved_f247b60b\\\":\\\"Rezerve edildi\\\",\\\"to_do_1d554f36\\\":\\\"Yaplacaklar\\\"},\\\"uk\\\":{\\\"and_more_1c35b232\\\":\\\" ...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\" ,      %{name}?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\" ,     ?\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\" ,     ,   ?\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\" ,        ?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"   .         .\\\",\\\"assignment_title_82b4422e\\\":\\\" :\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\"   %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"    - ,     .\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\" ,     ?\\\",\\\"confirm_deletion\\\":\\\" \\\",\\\"end_before_start_error\\\":\\\"      \\\",\\\"ends_in_past_error\\\":\\\"     ,    \\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"      ,     .\\\"},\\\"event_on_this_day\\\":\\\"    \\\",\\\"loading_more_items\\\":\\\"  .\\\",\\\"loading_undated_events\\\":\\\" ,    \\\",\\\"messages_sent\\\":\\\" \\\",\\\"name_is_required\\\":\\\"' '!\\\",\\\"no_dates_error\\\":\\\"        \\\",\\\"no_groups\\\":\\\"  \\\",\\\"no_users\\\":\\\"  \\\",\\\"open_appointment_on_this_day\\\":\\\"     \\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\" ,     ?\\\",\\\"delete_override\\\":\\\" ,      ?\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"  \\\",\\\"save_changes\\\":\\\" \\\",\\\"time_block_errors\\\":\\\"      .\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"  \\\",\\\"edit_event\\\":\\\" \\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\" \\\",\\\"confirm_removal_a9bb889\\\":\\\" \\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"  \\\",\\\"date_is_required_9c6f5e83\\\":\\\" \\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"  \\\",\\\"due_date_is_required_cdb75f25\\\":\\\"  !\\\",\\\"due_dueat_ef67f6f4\\\":\\\": %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\" :\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"'  ,    %{length} \\\",\\\"next_month_b55a387c\\\":\\\" \\\",\\\"no_date_bfeb2df7\\\":\\\" \\\",\\\"ok_c47544a2\\\":\\\"OK\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\" \\\",\\\"quiz_e0dcce8f\\\":\\\" \\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\":\\\",\\\"reserved_by_you_cd03b62d\\\":\\\" \\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\" \\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"     .\\\",\\\"title_is_required_8bb13295\\\":\\\" '!\\\",\\\"to_do_1d554f36\\\":\\\"\\\",\\\"to_do_5526f10a\\\":\\\":\\\",\\\"unreserved_e86b7425\\\":\\\" \\\"},\\\"zh-Hans\\\":{\\\"and_more_1c35b232\\\":\\\"\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\" %{name} ?\\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"?\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"?\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"?\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"\\\",\\\"assignment_title_82b4422e\\\":\\\"\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\" %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\":\\\",\\\"confirm_appointment_group_deletion\\\":\\\"?\\\",\\\"confirm_deletion\\\":\\\"\\\",\\\"end_before_start_error\\\":\\\"\\\",\\\"ends_in_past_error\\\":\\\"\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"\\\"},\\\"event_on_this_day\\\":\\\"\\\",\\\"loading_more_items\\\":\\\"\\\",\\\"loading_undated_events\\\":\\\"\\\",\\\"messages_sent\\\":\\\"\\\",\\\"name_is_required\\\":\\\"\\\",\\\"no_dates_error\\\":\\\"\\\",\\\"no_groups\\\":\\\"\\\",\\\"no_users\\\":\\\"\\\",\\\"open_appointment_on_this_day\\\":\\\"\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"?\\\",\\\"delete_override\\\":\\\"?\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"\\\",\\\"save_changes\\\":\\\"\\\",\\\"time_block_errors\\\":\\\"\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"\\\",\\\"edit_event\\\":\\\"\\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\":\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"\\\",\\\"confirm_removal_a9bb889\\\":\\\"\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"\\\",\\\"date_is_required_9c6f5e83\\\":\\\"\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"\\\",\\\"due_dueat_ef67f6f4\\\":\\\": %{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\"\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\"%{length}\\\",\\\"next_month_b55a387c\\\":\\\"\\\",\\\"no_date_bfeb2df7\\\":\\\"\\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\"\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\"\\\",\\\"reserved_by_you_cd03b62d\\\":\\\"\\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"*%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"\\\",\\\"title_is_required_8bb13295\\\":\\\"\\\",\\\"to_do_1d554f36\\\":\\\"\\\",\\\"to_do_5526f10a\\\":\\\"\\\",\\\"to_do_item_d76ecb78\\\":\\\"\\\",\\\"unreserved_e86b7425\\\":\\\"\\\"},\\\"zh-Hant\\\":{\\\"and_more_1c35b232\\\":\\\"...\\\",\\\"are_you_sure_you_want_to_cancel_your_appointment_w_dbbd27eb\\\":\\\" %{name} \\\",\\\"are_you_sure_you_want_to_delete_this_discussion_334554e0\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_this_event_824b1e33\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_this_page_2185844\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_this_to_do_item_497016ea\\\":\\\"\\\",\\\"are_you_sure_you_want_to_delete_your_reservation_t_5ae87209\\\":\\\"\\\",\\\"assignment_976578a8\\\":\\\"\\\",\\\"assignment_has_a_locked_date_due_date_cannot_be_se_2e2e3389\\\":\\\"\\\",\\\"assignment_title_82b4422e\\\":\\\"\\\",\\\"available_8606e40c\\\":\\\"\\\",\\\"availableslots_available_87b8b69d\\\":\\\"%{availableSlots} \\\",\\\"availableslots_more_available_be5193a8\\\":\\\"%{availableSlots} \\\",\\\"calendar\\\":{\\\"agenda_view_displaying_start_end\\\":\\\" %{start}  %{end}\\\",\\\"appointment_group_deletion_details\\\":\\\"\\\",\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"send_message\\\":\\\"\\\",\\\"sending_message\\\":\\\"...\\\"},\\\"calendar_title\\\":\\\"\\\",\\\"confirm_appointment_group_deletion\\\":\\\"\\\",\\\"confirm_deletion\\\":\\\"\\\",\\\"end_before_start_error\\\":\\\"\\\",\\\"ends_in_past_error\\\":\\\"\\\",\\\"errors\\\":{\\\"send_message_failed\\\":\\\"\\\"},\\\"event_on_this_day\\\":\\\"\\\",\\\"loading_more_items\\\":\\\"\\\",\\\"loading_undated_events\\\":\\\"\\\",\\\"messages_sent\\\":\\\"\\\",\\\"name_is_required\\\":\\\"\\\",\\\"no_dates_error\\\":\\\"\\\",\\\"no_groups\\\":\\\"\\\",\\\"no_users\\\":\\\"\\\",\\\"open_appointment_on_this_day\\\":\\\"\\\",\\\"prompts\\\":{\\\"delete_assignment\\\":\\\"\\\",\\\"delete_override\\\":\\\"\\\"},\\\"save\\\":\\\"\\\",\\\"save_and_publish\\\":\\\"\\\",\\\"save_changes\\\":\\\"\\\",\\\"time_block_errors\\\":\\\"\\\",\\\"titles\\\":{\\\"edit_appointment_group\\\":\\\"\\\",\\\"edit_event\\\":\\\"\\\"},\\\"today\\\":\\\"\\\"},\\\"calendar_a8563bb2\\\":\\\"\\\",\\\"confirm_deletion_b2efe7d4\\\":\\\"\\\",\\\"confirm_removal_a9bb889\\\":\\\"\\\",\\\"confirm_reservation_removal_e6350e7c\\\":\\\"\\\",\\\"date_is_required_9c6f5e83\\\":\\\"\\\",\\\"discussion_6719c51d\\\":\\\"\\\",\\\"do_nothing_9672b478\\\":\\\"\\\",\\\"due_date_is_required_cdb75f25\\\":\\\"\\\",\\\"due_dueat_ef67f6f4\\\":\\\"%{dueAt}\\\",\\\"event_fe9ba3fe\\\":\\\"\\\",\\\"event_title_57a50568\\\":\\\"\\\",\\\"filled_5d8c39e\\\":\\\"\\\",\\\"name_is_too_long_must_be_under_length_characters_b8dad44c\\\":\\\" %{length} \\\",\\\"next_month_b55a387c\\\":\\\"\\\",\\\"no_date_bfeb2df7\\\":\\\"\\\",\\\"ok_c47544a2\\\":\\\"\\\",\\\"page_50c4823d\\\":\\\"\\\",\\\"previous_month_7adf1380\\\":\\\"\\\",\\\"quiz_e0dcce8f\\\":\\\"\\\",\\\"reschedule_9f780bb8\\\":\\\"\\\",\\\"reserved_by_d563e7d2\\\":\\\"  \\\",\\\"reserved_by_you_cd03b62d\\\":\\\"\\\",\\\"reserved_f247b60b\\\":\\\"\\\",\\\"scheduler_shown_df77ca6f\\\":\\\"\\\",\\\"the_next_available_appointment_in_this_course_is_o_da10316c\\\":\\\"*%{date}*\\\",\\\"there_are_no_available_signups_for_this_course_26b05c56\\\":\\\"\\\",\\\"title_is_required_8bb13295\\\":\\\"\\\",\\\"to_do_1d554f36\\\":\\\"\\\",\\\"to_do_5526f10a\\\":\\\"\\\",\\\"to_do_item_d76ecb78\\\":\\\"\\\",\\\"unreserved_e86b7425\\\":\\\"\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/calendar';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('calendar');\n  ","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport _ from 'lodash'\nimport fcUtil from '../util/fcUtil'\nimport commonEventFactory from './commonEventFactory'\nimport 'jquery.ajaxJSON'\nimport 'vendor/jquery.ba-tinypubsub'\n\nexport default class EventDataSource {\n  constructor(contexts) {\n    this.eventSaved = this.eventSaved.bind(this)\n    this.eventDeleted = this.eventDeleted.bind(this)\n    this.eventWithId = this.eventWithId.bind(this)\n    this.clearCache = this.clearCache.bind(this)\n    this.needUndatedEventsForContexts = this.needUndatedEventsForContexts.bind(this)\n    this.getEventsFromCacheForContext = this.getEventsFromCacheForContext.bind(this)\n    this.processNextRequest = this.processNextRequest.bind(this)\n    this.getEventsFromCache = this.getEventsFromCache.bind(this)\n    this.getAppointmentGroupsFromCache = this.getAppointmentGroupsFromCache.bind(this)\n    this.getAppointmentGroups = this.getAppointmentGroups.bind(this)\n    this.processAppointmentData = this.processAppointmentData.bind(this)\n    this.getEventsForAppointmentGroup = this.getEventsForAppointmentGroup.bind(this)\n    this.getEvents = this.getEvents.bind(this)\n    this.getParticipants = this.getParticipants.bind(this)\n    this.startFetch = this.startFetch.bind(this)\n    this.fetchNextBatch = this.fetchNextBatch.bind(this)\n\n    this.contexts = contexts\n    this.clearCache()\n    this.inFlightRequest = {}\n    this.pendingRequests = []\n    // The cache will store all the events we've fetched so far, and looks like this:\n    // {\n    //   contexts: {\n    //     \"user_1\": {\n    //       fetchedRanges: [\n    //         sorted list of [start, end] tuples that represent\n    //         ranges of dates that we have already fetched for\n    //       ]\n    //       events: {\n    //         \"assignment_1\": <CommonEvent object>\n    //       },\n    //       fetchedUndated: true/false\n    //     }, ...\n    //   },\n    //   appointmentGroups: {\n    //     \"1\": <object>\n    //   },\n    //   participants: {\n    //     \"1_unregistered\": [ users or groups ]\n    //   }\n    //   fetchedAppointmentGroups: { manageable: true/false }\n    // }\n\n    // Note that the appointmentGroups are not cached per context, as\n    // we get them all in the same request (not scoped to contexts at\n    // all.) This might end up being confusing.\n    $.subscribe('CommonEvent/eventDeleted', this.eventDeleted)\n    $.subscribe('CommonEvent/eventSaved', this.eventSaved)\n  }\n\n  eventSaved(event) {\n    return this.addEventToCache(event)\n  }\n\n  eventDeleted(event) {\n    const cached = this.cache.contexts[event.contextCode()]\n    const events = cached && cached.events\n    if (events) delete events[event.id]\n  }\n\n  eventWithId(id) {\n    for (const contextCode in this.cache.contexts) {\n      const contextData = this.cache.contexts[contextCode]\n      if (contextData.events[id]) {\n        return contextData.events[id]\n      }\n    }\n    return null\n  }\n\n  clearCache() {\n    this.cache = {\n      contexts: {},\n      appointmentGroups: {},\n      participants: {},\n      fetchedAppointmentGroups: null\n    }\n    this.contexts.forEach(contextInfo => {\n      this.cache.contexts[contextInfo.asset_string] = {\n        events: {},\n        fetchedRanges: [],\n        fetchedUndated: false\n      }\n    })\n  }\n\n  removeCachedReservation(event) {\n    const cached_ag = this.cache.appointmentGroups[event.appointment_group_id]\n    if (cached_ag) {\n      cached_ag.reserved_times = _.reject(\n        cached_ag.reserved_times,\n        reservation => reservation.id === event.id\n      )\n      if (cached_ag.reserved_times.length === 0) {\n        cached_ag.requiring_action = true\n      }\n    }\n  }\n\n  requiredDateRangeForContext(start, end, context) {\n    let contextInfo, ranges\n    if (!(contextInfo = this.cache.contexts[context])) return [start, end]\n\n    if (!(ranges = contextInfo.fetchedRanges)) return [start, end]\n\n    ranges.forEach(range => {\n      if (range[0] <= start && start < range[1]) start = range[1]\n      if (range[0] < end && end <= range[1]) end = range[0]\n    })\n    return [start, end]\n  }\n\n  requiredDateRangeForContexts(start, end, contexts) {\n    // We assume that we're not going to need anything from the cache - setting\n    // the initial assumptions to the opposites of the requests is a fun way to\n    // do that.\n    let earliest = end\n    let latest = start\n    contexts.forEach(context => {\n      const [s, e] = this.requiredDateRangeForContext(start, end, context)\n      if (s < earliest) earliest = s\n      if (e > latest) latest = e\n    })\n    return [earliest, latest]\n  }\n\n  needUndatedEventsForContexts(contexts) {\n    return contexts.some(context => !this.cache.contexts[context].fetchedUndated)\n  }\n\n  addEventToCache(event) {\n    if (event.old_context_code) {\n      delete this.cache.contexts[event.old_context_code].events[event.id]\n      delete event.old_context_code\n    }\n    // Split by comma, for the odd case where #contextCode() returns a comma seprated list\n    const possibleContexts = event.contextCode().split(',')\n    const okayContexts = possibleContexts.filter(cCode => !!this.cache.contexts[cCode])\n    const contextCode = okayContexts[0]\n    const contextInfo = this.cache.contexts[contextCode]\n    contextInfo.events[event.id] = event\n  }\n\n  getEventsFromCacheForContext(start, end, context) {\n    const contextInfo = this.cache.contexts[context]\n    const events = []\n    for (const id in contextInfo.events) {\n      const event = contextInfo.events[id]\n      if (this.eventInRange(event, start, end)) {\n        events.push(event)\n      }\n    }\n    return events\n  }\n\n  eventInRange(event, start, end) {\n    let ref\n    if (!event.originalStart && !start) {\n      // want undated, have undated, include it\n      return true\n    } else if (!event.originalStart || !start) {\n      // want undated, have dated (or vice versa), skip it\n      return false\n    } else {\n      // want dated, have dated. but when comparing to the range, remember\n      // that we made start/end be unwrapped values (down in getEvents), so\n      // unwrap event.originalStart too before comparing\n      return start <= (ref = fcUtil.unwrap(event.originalStart)) && ref < end\n    }\n  }\n\n  processNextRequest(inFlightCheckKey = 'default') {\n    let i, id, len\n    const ref = this.pendingRequests\n    for (id = i = 0, len = ref.length; i < len; id = ++i) {\n      const [method, args, key] = ref[id]\n      if (key === inFlightCheckKey) {\n        this.pendingRequests.splice(id, 1)\n        method(...args)\n        return\n      }\n    }\n  }\n\n  getEventsFromCache(start, end, contexts) {\n    let events = []\n    for (let i = 0, len = contexts.length; i < len; i++) {\n      const context = contexts[i]\n      if (context.match(/^appointment_group_/)) {\n        continue\n      }\n      events = events.concat(this.getEventsFromCacheForContext(start, end, context))\n    }\n    return events\n  }\n\n  getAppointmentGroupsFromCache() {\n    const results = []\n    for (const id in this.cache.appointmentGroups) {\n      const group = this.cache.appointmentGroups[id]\n      results.push(group)\n    }\n    return results\n  }\n\n  getAppointmentGroups(fetchManageable, cb) {\n    if (this.inFlightRequest.appointmentGroups) {\n      this.pendingRequests.push([this.getAppointmentGroups, arguments, 'appointmentGroups'])\n      return\n    }\n    if (\n      this.cache.fetchedAppointmentGroups &&\n      this.cache.fetchedAppointmentGroups.manageable === fetchManageable\n    ) {\n      cb(this.getAppointmentGroupsFromCache())\n      this.processNextRequest('appointmentGroups')\n      return\n    }\n    this.cache.fetchedAppointmentGroups = {\n      manageable: fetchManageable\n    }\n    this.cache.appointmentGroups = {}\n    const dataCB = (data, url, params) => {\n      let group, i, len, results\n      if (data) {\n        results = []\n        for (i = 0, len = data.length; i < len; i++) {\n          group = data[i]\n          if (params.scope === 'manageable') {\n            group.is_manageable = true\n          } else {\n            group.is_scheduleable = true\n          }\n          results.push(this.processAppointmentData(group))\n        }\n        return results\n      }\n    }\n    const doneCB = () => cb(this.getAppointmentGroupsFromCache())\n    const fetchJobs = [\n      [\n        '/api/v1/appointment_groups',\n        {\n          include: ['reserved_times', 'participant_count']\n        }\n      ]\n    ]\n    if (fetchManageable) {\n      fetchJobs.push([\n        '/api/v1/appointment_groups',\n        {\n          scope: 'manageable',\n          include: ['reserved_times', 'participant_count'],\n          include_past_appointments: true\n        }\n      ])\n    }\n    return this.startFetch(fetchJobs, dataCB, doneCB, {\n      inFlightCheckKey: 'appointmentGroups'\n    })\n  }\n\n  processAppointmentData(group) {\n    const {id} = group\n    if (this.cache.appointmentGroups[id] && this.cache.appointmentGroups[id].is_manageable) {\n      group.is_manageable = true\n    } else {\n      group.is_scheduleable = true\n    }\n    this.cache.appointmentGroups[id] = group\n    if (group.appointments) {\n      group.appointmentEvents = []\n      group.appointments.forEach(eventData => {\n        const event = commonEventFactory(eventData, this.contexts)\n        if (event && event.object.workflow_state !== 'deleted') {\n          group.appointmentEvents.push(event)\n          this.addEventToCache(event)\n          if (eventData.child_events) {\n            event.childEvents = []\n            eventData.child_events.forEach(childEventData => {\n              const childEvent = commonEventFactory(childEventData, this.contexts)\n              this.addEventToCache(event)\n              if (childEvent) event.childEvents.push(childEvent)\n            })\n          }\n        }\n      })\n    }\n  }\n\n  getEventsForAppointmentGroup(group, cb) {\n    if (this.inFlightRequest.default) {\n      this.pendingRequests.push([this.getEventsForAppointmentGroup, arguments, 'default'])\n      return\n    }\n    const cachedEvents =\n      this.cache.appointmentGroups[group.id] &&\n      this.cache.appointmentGroups[group.id].appointmentEvents\n\n    if (cachedEvents) {\n      cb(cachedEvents)\n      this.processNextRequest()\n      return\n    }\n    const dataCB = data => {\n      if (data) {\n        return this.processAppointmentData(data)\n      }\n    }\n    const params = {\n      include: ['reserved_times', 'participant_count', 'appointments', 'child_events']\n    }\n    return this.startFetch([[group.url, params]], dataCB, () =>\n      cb(this.cache.appointmentGroups[group.id].appointmentEvents)\n    )\n  }\n\n  getEvents(start, end, contexts, donecb, datacb, options = {}) {\n    if (this.inFlightRequest.default) {\n      this.pendingRequests.push([this.getEvents, arguments, 'default'])\n      return\n    }\n\n    // start/end as they come from fullcalendar or AgendaView may be\n    // ambiguously-timed and/or ambiguously-zoned. that's just way too much\n    // confusion. instead, let's always works with unwrapped datetimes, so we\n    // know we're interpreting times in the context of the profile timezone,\n    // and particularly ambiguously-timed dates as midnight in the profile\n    // timezone.\n    if (start) start = fcUtil.unwrap(start)\n    if (end) end = fcUtil.unwrap(end)\n\n    const paramsForDatedEvents = (start, end, contexts) => {\n      const [startDay, endDay] = this.requiredDateRangeForContexts(start, end, contexts)\n      if (startDay >= endDay) {\n        return null\n      }\n      return {\n        // we treat end as an exclusive upper bound. the API treats it as\n        // inclusive, so we may get back some events we didn't intend. but\n        // addEventToCache handles the duplicate fine, so it's ok\n        context_codes: contexts,\n        start_date: startDay.toISOString(),\n        end_date: endDay.toISOString()\n      }\n    }\n    const paramsForUndatedEvents = contexts => {\n      if (!this.needUndatedEventsForContexts(contexts)) {\n        return null\n      }\n      return {\n        context_codes: contexts,\n        undated: '1'\n      }\n    }\n    const params = start\n      ? paramsForDatedEvents(start, end, contexts)\n      : paramsForUndatedEvents(contexts)\n    if (!params) {\n      // Yay, this request can be satisfied by the cache\n      const list = this.getEventsFromCache(start, end, contexts)\n      list.requestID = options.requestID\n      if (datacb != null) datacb(list)\n      donecb(list)\n      this.processNextRequest()\n      return\n    }\n    const requestResults = {}\n    const dataCB = (data, url, params) => {\n      let key\n      if (!data) return\n\n      const newEvents = []\n      // planner_items and planner_notes are passing thru here too now\n      // detect and add some missing fields the calendar code needs\n      if (data.length && 'plannable' in data[0]) {\n        data = this.transformPlannerItems(data)\n        key = 'type_planner_item'\n      } else if (data.length && 'todo_date' in data[0]) {\n        data = this.fillOutPlannerNotes(data, url)\n        key = 'type_planner_note'\n      } else {\n        key = `type_${params.type}`\n      }\n      const requestResult = requestResults[key] || {\n        events: []\n      }\n      requestResult.next = data.next\n      data.forEach(e => {\n        const event = commonEventFactory(e, this.contexts)\n        if (event && event.object.workflow_state !== 'deleted') {\n          newEvents.push(event)\n          requestResult.events.push(event)\n        }\n      })\n      newEvents.requestID = options.requestID\n      if (datacb != null) datacb(newEvents)\n\n      return (requestResults[key] = requestResult)\n    }\n    const doneCB = () => {\n      let nextPageDate\n      // TODO: there's a rare problem in this implementation. if a full page\n      // or more of events have the same start time, then the first time one\n      // or more show up in a response, that date will be the nextPageDate. as\n      // such, all events for that date will be excluded. but then on the\n      // followup, the nextPageDate will _still_ be that date, and zero events\n      // will be included. it will then loop indefinitely in this state.\n\n      // If any request had a next page, the combined results are valid\n      // only through the earliest page end date. note that it's an exclusive\n      // upper bound, just as we treated end earlier. (this is so that it can\n      // be an inclusive lower bound on the next request)\n      const rendered = new Set()\n      const upperBounds = []\n      for (const key in requestResults) {\n        const requestResult = requestResults[key]\n        const dates = []\n        requestResult.events.forEach(event => {\n          this.addEventToCache(event)\n          rendered.add(event.id)\n          if (requestResult.next && event.originalStart) {\n            dates.push(event.originalStart)\n          }\n        })\n\n        if (!_.isEmpty(dates)) {\n          upperBounds.push(_.max(dates))\n        }\n      }\n      if (!_.isEmpty(upperBounds)) {\n        nextPageDate = fcUtil.clone(_.min(upperBounds))\n        end = fcUtil.unwrap(nextPageDate)\n      }\n      contexts.forEach(context => {\n        let contextInfo = this.cache.contexts[context]\n        if (!contextInfo) {\n          contextInfo = this.cache.contexts[context] = {\n            fetchedRanges: []\n          }\n        }\n        if (contextInfo) {\n          if (start) {\n            contextInfo.fetchedRanges.push([start, end])\n          } else {\n            contextInfo.fetchedUndated = true\n          }\n        }\n      })\n\n      const list = this.getEventsFromCache(start, end, contexts)\n      if (datacb != null && list.length > 0) {\n        const renderFromCache = list.filter(x => !rendered.has(x.id))\n        if (renderFromCache.length > 0) {\n          datacb(renderFromCache)\n        }\n      }\n      list.nextPageDate = nextPageDate\n      list.requestID = options.requestID\n      return donecb(list)\n    }\n    const eventDataSources = [['/api/v1/calendar_events', this.indexParams(params)]]\n    params.context_codes = params.context_codes.filter(\n      context => !context.match(/^appointment_group_/)\n    )\n    eventDataSources.push(['/api/v1/calendar_events', this.assignmentParams(params)])\n    if (ENV.STUDENT_PLANNER_ENABLED) {\n      eventDataSources.push(['/api/v1/planner_notes', params])\n    }\n    if (ENV.PLANNER_ENABLED) {\n      const [admin_contexts, student_contexts] = _.partition(\n        params.context_codes,\n        cc => ENV.CALENDAR.MANAGE_CONTEXTS.indexOf(cc) >= 0\n      )\n      if (student_contexts.length) {\n        const pparams = {filter: 'ungraded_todo_items', ...params, context_codes: student_contexts}\n        eventDataSources.push(['/api/v1/planner/items', pparams])\n      }\n      if (admin_contexts.length) {\n        const pparams = {\n          filter: 'all_ungraded_todo_items',\n          ...params,\n          context_codes: admin_contexts\n        }\n        eventDataSources.push(['/api/v1/planner/items', pparams])\n      }\n    }\n    return this.startFetch(eventDataSources, dataCB, doneCB, options)\n  }\n\n  // rewrite `context_codes[]=appointment_group_X&context_codes[]=appointment_group_Y`\n  // as `appointment_group_ids=X,Y` to reduce Link header size in the HTTP response\n  // (which Apache limits to 8K)\n  indexParams(params) {\n    const ag_ids = []\n    const context_codes = []\n    params.context_codes.forEach(context_code => {\n      const match = context_code.match(/^appointment_group_(\\d+)$/)\n      if (match && match.length === 2) {\n        ag_ids.push(match[1])\n      } else {\n        context_codes.push(context_code)\n      }\n    })\n    const p = {...params, context_codes}\n    if (ag_ids.length > 0) {\n      p.appointment_group_ids = ag_ids.join(',')\n    }\n    return p\n  }\n\n  assignmentParams(params) {\n    return {type: 'assignment', ...params}\n  }\n\n  getParticipants(appointmentGroup, registrationStatus, cb) {\n    if (this.inFlightRequest.default) {\n      this.pendingRequests.push([this.getParticipants, arguments, 'default'])\n      return\n    }\n    const key = `${appointmentGroup.id}_${registrationStatus}`\n    if (this.cache.participants[key]) {\n      cb(this.cache.participants[key])\n      this.processNextRequest()\n      return\n    }\n    this.cache.participants[key] = []\n    const dataCB = (data, url, params) => {\n      if (data) {\n        return this.cache.participants[key].push.apply(this.cache.participants[key], data)\n      }\n    }\n    const doneCB = () => cb(this.cache.participants[key])\n    const type = appointmentGroup.participant_type === 'Group' ? 'groups' : 'users'\n    return this.startFetch(\n      [\n        [\n          `/api/v1/appointment_groups/${appointmentGroup.id}/${type}`,\n          {\n            registration_status: registrationStatus\n          }\n        ]\n      ],\n      dataCB,\n      doneCB\n    )\n  }\n\n  // Starts a paginated fetch of the url/param combinations in the array. This makes\n  // situations where you need to do paginated fetches of data from N different endpoints\n  // a little simpler. dataCB(data, url, params) is called on every request with the data,\n  // and completionCB is called when all fetches have completed.\n  startFetch(urlAndParamsArray, dataCB, doneCB, options = {}) {\n    let numCompleted = 0\n    const inFlightCheckKey = options.inFlightCheckKey || 'default'\n    this.inFlightRequest[inFlightCheckKey] = true\n    const wrapperCB = (data, isDone, url, params) => {\n      dataCB(data, url, params)\n      if (isDone) {\n        numCompleted += 1\n        if (numCompleted >= urlAndParamsArray.length) {\n          doneCB()\n          this.inFlightRequest[inFlightCheckKey] = false\n          return this.processNextRequest(inFlightCheckKey)\n        }\n      }\n    }\n    const results = []\n    for (let i = 0, len = urlAndParamsArray.length; i < len; i++) {\n      const urlAndParams = urlAndParamsArray[i]\n      results.push(\n        (urlAndParams =>\n          this.fetchNextBatch(\n            urlAndParams[0],\n            urlAndParams[1],\n            (data, isDone) => wrapperCB(data, isDone, urlAndParams[0], urlAndParams[1]),\n            options\n          ))(urlAndParams)\n      )\n    }\n    return results\n  }\n\n  // Will fetch the URL with the given params, and if the response includes a Link\n  // header, will fetch that link too (with the same params). At the end of every\n  // request it will call cb(data, isDone). isDone will be true on the last request.\n  fetchNextBatch(url, params, cb, options = {}) {\n    const parseLinkHeader = function(header) {\n      if (!header) {\n        // TODO: Write a real Link header parser. This will only work with what we output,\n        // and might be fragile.\n        return null\n      }\n      const rels = {}\n      const ref = header.split(',')\n      for (let i = 0, len = ref.length; i < len; i++) {\n        const component = ref[i]\n        let [link, rel] = component.split(';')\n        link = link.replace(/^</, '').replace(/>$/, '')\n        rel = rel.split('\"')[1]\n        rels[rel] = link\n      }\n      return rels\n    }\n    $.publish('EventDataSource/ajaxStarted')\n    if (!(url.match(/per_page=/) || params.per_page != null)) {\n      params.per_page = 50\n    }\n    return $.ajaxJSON(url, 'GET', params, (data, xhr) => {\n      $.publish('EventDataSource/ajaxEnded')\n      const linkHeader =\n        typeof xhr.getResponseHeader === 'function' ? xhr.getResponseHeader('Link') : void 0\n      const rels = parseLinkHeader(linkHeader)\n      data.next = rels != null ? rels.next : void 0\n      if (rels && rels.next && !options.singlePage) {\n        cb(data, false)\n        this.fetchNextBatch(rels.next, {}, cb)\n        return\n      }\n      return cb(data, true)\n    })\n  }\n\n  // Planner notes are getting pulled from the planner_notes api\n  // Add some necessary fields so they can be processed just like a calendar event\n  fillOutPlannerNotes(notes, url) {\n    notes.forEach(note => {\n      note.type = 'planner_note'\n      note.context_code = note.course_id ? `course_${note.course_id}` : `user_${note.user_id}`\n      note.all_context_codes = note.context_code\n    })\n    return notes\n  }\n\n  // make planner items readable as calendar events\n  transformPlannerItems(items) {\n    items.forEach(item => {\n      item.type = 'todo_item'\n      if (item.course_id) {\n        item.context_code = `course_${item.course_id}`\n      } else if (item.group_id) {\n        item.context_code = `group_${item.group_id}`\n      } else {\n        item.context_code = `user_${item.user_id}`\n      }\n      item.all_context_codes = item.context_code\n    })\n    return items\n  }\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/PropTypes\n * ---\n * Ensure that a corresponding handler function is provided for the given prop if the\n * component does not manage its own state.\n *\n * ```js\n *  import { controllable } from '@instructure/ui-prop-types'\n *\n *  class Foo extends Component {\n *    static propTypes = {\n *      selected: controllable(PropTypes.bool, 'onSelect', 'defaultSelected'),\n *      onSelect: PropTypes.func,\n *      defaultSelected: PropTypes.bool\n *    }\n *  ...\n * ```\n *\n * This will throw an error if the 'selected' prop is supplied without a corresponding\n * 'onSelect' handler and will recommend using 'defaultSelected' instead.\n *\n * @param {function} propType - validates the prop type. Returns null if valid, error otherwise\n * @param {string} handlerName - name of the handler function\n * @param {string} defaultPropName - name of the default prop\n * @returns {Error} if designated prop is supplied without a corresponding handler function\n */\nfunction controllable(propType) {\n  var handlerName = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'onChange';\n  var defaultPropName = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 'defaultValue';\n  return function (props, propName, componentName) {\n    var error = propType.apply(null, arguments);\n\n    if (error) {\n      return error;\n    }\n\n    if (props[propName] && typeof props[handlerName] !== 'function') {\n      return new Error([\"You provided a '\".concat(propName, \"' prop without an '\").concat(handlerName, \"' handler on '\").concat(componentName, \"'. This will render a controlled component. If the component should be uncontrolled and manage its own state, use '\").concat(defaultPropName, \"'. Otherwise, set '\").concat(handlerName, \"'.\")].join(''));\n    }\n  };\n}\n\nexport default controllable;\nexport { controllable };","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst hasProp = {}.hasOwnProperty\n\nexport function extend(child, parent) {\n  for (const key in parent) {\n    if (hasProp.call(parent, key)) child[key] = parent[key]\n  }\n  function ctor() {\n    this.constructor = child\n  }\n  ctor.prototype = parent.prototype\n  child.prototype = new ctor()\n  child.__super__ = parent.prototype\n  return child\n}\n\n/**\n * since you can't use es6 Object initializer getter shorthand (eg: {get foo(){ return 'bar'}})\n * in coffeescript, this is a helper to do it the manual way using Object.defineProperty\n * @param {Object} [hostObject] the object that you want to define the getters onto\n * @param {Object} getters key/value pairs of \"propertyName\" and getter functions. eg: {foo: () => \"bar\"}\n * @returns {Object} hostObject\n */\nexport function shimGetterShorthand(hostObject, getters) {\n  Object.keys(getters).forEach(key =>\n    Object.defineProperty(hostObject, key, {\n      get: getters[key],\n      enumerable: true,\n      configurable: true\n    })\n  )\n  return hostObject\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"     \\\"}}},\\\"cy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"delete\\\":\\\"Dileu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ydych chin sir eich bod am ddileu hyn?\\\"}}},\\\"da\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker p, at du vil slette dette?\\\"}}},\\\"da-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker p, at du vil slette dette?\\\"}}},\\\"de\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"delete\\\":\\\"Lschen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Mchten Sie dies wirklich lschen?\\\"}}},\\\"el\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\" /     ;\\\"}}},\\\"en-AU\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-GB\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"es\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Eliminar\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Seguro que desea eliminarlo?\\\"}}},\\\"fa\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"       \\\"}}},\\\"fi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"delete\\\":\\\"Poista\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Haluatko varmasti poistaa tmn?\\\"}}},\\\"fr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet lment ?\\\"}}},\\\"fr-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet lment?\\\"}}},\\\"he\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"/   ?\\\"}}},\\\"ht\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"delete\\\":\\\"Efase\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ou kw vrman ou vle efase sa a?\\\"}}},\\\"hu\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Mgse\\\",\\\"delete\\\":\\\"Trls\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Biztos benne, hogy trli ezt?\\\"}}},\\\"hy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\" \\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"     :\\\"}}},\\\"is\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Htta vi\\\",\\\"delete\\\":\\\"Eya\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Viltu rugglega eya essu?\\\"}}},\\\"it\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"delete\\\":\\\"Elimina\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vuoi eliminare questo?\\\"}}},\\\"ja\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"?\\\"}}},\\\"ko\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"?\\\"}}},\\\"mi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"delete\\\":\\\"Muku\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"E tino hiahia ana koe ki te muku i tnei?\\\"}}},\\\"nb\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker p at du nsker  slette dette?\\\"}}},\\\"nb-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker p at du nsker  slette dette?\\\"}}},\\\"nl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"delete\\\":\\\"Verwijderen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Weet je zeker dat je dit wilt verwijderen?\\\"}}},\\\"nn\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker p at du vil slette dette?\\\"}}},\\\"pl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"delete\\\":\\\"Usu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Czy na pewno chcesz usun ten element?\\\"}}},\\\"pt\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza de que deseja excluir isto?\\\"}}},\\\"pt-BR\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza que deseja excluir isto?\\\"}}},\\\"ru\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"  ?\\\"}}},\\\"sl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Preklii\\\",\\\"delete\\\":\\\"Odstrani\\\"}},\\\"sv\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det hr?\\\"}}},\\\"sv-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det hr?\\\"}}},\\\"tr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"ptal\\\",\\\"delete\\\":\\\"Sil\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Bunu silmek istediinize emin misiniz?\\\"}}},\\\"uk\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"}},\\\"zh-Hans\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"?\\\"}}},\\\"zh-Hant\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"\\\",\\\"delete\\\":\\\"\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/instructure_misc_plugins';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('instructure_misc_plugins');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!instructure_misc_plugins'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport authenticity_token from 'compiled/behaviors/authenticity_token'\nimport './jquery.ajaxJSON'\nimport 'jqueryui/dialog'\nimport './jquery.scrollToVisible'\nimport './vendor/jquery.scrollTo'\n\n$.fn.setOptions = function(prompt, options) {\n  let result = prompt ? \"<option value=''>\" + htmlEscape(prompt) + '</option>' : ''\n\n  if (options == null) {\n    options = []\n  }\n\n  options.forEach(opt => {\n    const optHtml = htmlEscape(opt)\n    result += '<option value=\"' + optHtml + '\">' + optHtml + '</option>'\n  })\n\n  return this.html($.raw(result))\n}\n\n// this function is to prevent you from doing all kinds of expesive operations on a\n// jquery object that doesn't actually have any elements in it\n// it is similar and inspired by http://www.slideshare.net/paul.irish/perfcompression (slide #42)\n// to use it do something like:\n// $(\"a .bunch #of .nodes\").ifExists(function(orignalQuery){\n//   //  'this' points to the original jquery object (in this case, $(\"a .bunch #of .nodes\") );\n//   // orignalQuery is the same as 'this';\n//   this.slideUp().dialog().show();\n// });\n$.fn.ifExists = function(func) {\n  this.length && func.call(this, this)\n  return this\n}\n\n// Returns the width of the browser's scroll bars.\n$.fn.scrollbarWidth = function() {\n  const $div = $(\n      '<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div>'\n    ).appendTo(this),\n    $innerDiv = $div.find('div')\n  // Append our div, do our calculation and then remove it\n  const w1 = $innerDiv.innerWidth()\n  $div.css('overflow-y', 'scroll')\n  const w2 = $innerDiv.innerWidth()\n  $div.remove()\n  return w1 - w2\n}\n\n// Simple animation for dimming an element's opacity\n$.fn.dim = function(speed) {\n  return this.animate({opacity: 0.4}, speed)\n}\n\n$.fn.undim = function(speed) {\n  return this.animate({opacity: 1.0}, speed)\n}\n\n// Helper for deleting objects from the DOM and db.\n//  url: URL to pass DELETE message.  If none provided,\n//    behaves as if the request were a success.  Useful for testing.\n//  message: Confirmation message\n//  cancelled: Function to handle cancel.\n//  confirmed: Function to handle confirm, before submit.\n//  success: What to do on success.  If none provided, fades\n//    out the element and removes it from the DOM.\n//  error: Error.\n//  dialog: If present, do a jquery.ui.dialog instead of a confirm(). If an\n//    object, it will be merged into the dialog options.\n$.fn.confirmDelete = function(options) {\n  var options = $.extend({}, $.fn.confirmDelete.defaults, options)\n  const $object = this\n  let $dialog = null\n  let result = true\n  options.noMessage = options.noMessage || options.no_message\n  const onContinue = function() {\n    if (!result) {\n      if (options.cancelled && $.isFunction(options.cancelled)) {\n        options.cancelled.call($object)\n      }\n      return\n    }\n    if (!options.confirmed) {\n      options.confirmed = function() {\n        $object.dim()\n      }\n    }\n    options.confirmed.call($object)\n    if (options.url) {\n      if (!options.success) {\n        options.success = function(data) {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      const data = options.prepareData ? options.prepareData.call($object, $dialog) : {}\n      data.authenticity_token = authenticity_token()\n      $.ajaxJSON(\n        options.url,\n        'DELETE',\n        data,\n        data => {\n          options.success.call($object, data)\n        },\n        (data, request, status, error) => {\n          if (options.error && $.isFunction(options.error)) {\n            options.error.call($object, data, request, status, error)\n          } else {\n            $.ajaxJSON.unhandledXHRs.push(request)\n          }\n        }\n      )\n    } else {\n      if (!options.success) {\n        options.success = function() {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      options.success.call($object)\n    }\n  }\n  if (options.message && !options.noMessage && !$.skipConfirmations) {\n    if (options.dialog) {\n      result = false\n      const dialog_options = typeof options.dialog === 'object' ? options.dialog : {}\n      const confirmation_class = options.url.includes('assignments') ? 'btn-danger' : 'btn-primary'\n      $dialog = $(options.message).dialog(\n        $.extend(\n          {},\n          {\n            modal: true,\n            close: onContinue,\n            buttons: [\n              {\n                text: I18n.t('#buttons.cancel', 'Cancel'),\n                click() {\n                  $(this).dialog('close')\n                } // ; onContinue();\n              },\n              {\n                text: I18n.t('#buttons.delete', 'Delete'),\n                class: confirmation_class,\n                click() {\n                  result = true\n                  $(this).dialog('close')\n                }\n              }\n            ]\n          },\n          dialog_options\n        )\n      )\n      return\n    } else {\n      result = confirm(options.message)\n    }\n  }\n  onContinue()\n}\n$.fn.confirmDelete.defaults = {\n  get message() {\n    return I18n.t('confirms.default_delete_thing', 'Are you sure you want to delete this?')\n  }\n}\n\n// Watches the given element's location.href for any changes\n// to the fragment (\"#...\") and calls the provided function\n// when there are any.\n// $(document).fragmentChange(function(event, hash) { alert(hash); });\n$.fn.fragmentChange = function(fn) {\n  if (fn && fn !== true) {\n    const query = (window.location.search || '').replace(/^\\?/, '').split('&')\n    // The URL can hard-code a hash regardless of what's\n    // actually shown in the hash by specifying a query\n    // parameter, hash=some_hash\n    let query_hash = null\n    for (var i = 0; i < query.length; i++) {\n      const item = query[i]\n      if (item && item.indexOf('hash=') === 0) {\n        query_hash = '#' + item.substring(5)\n      }\n    }\n    this.bind('document_fragment_change', fn)\n    const $doc = this\n    let found = false\n    // Can only be used on the root document,\n    // will not work on an iframe, for example.\n    for (var i = 0; i < $._checkFragments.fragmentList.length; i++) {\n      const obj = $._checkFragments.fragmentList[i]\n      if (obj.doc[0] == $doc[0]) {\n        found = true\n      }\n    }\n    if (!found) {\n      $._checkFragments.fragmentList.push({\n        doc: $doc,\n        fragment: ''\n      })\n    }\n    $(window).bind('hashchange', $._checkFragments)\n    setTimeout(() => {\n      if (query_hash && query_hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', query_hash)\n      } else if ($doc && $doc[0] && $doc[0].location && $doc[0].location.hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      }\n    }, 500)\n  } else {\n    this.triggerHandler('document_fragment_change', this[0].location.hash)\n  }\n  return this\n}\n$._checkFragments = function() {\n  const list = $._checkFragments.fragmentList\n  for (let idx = 0; idx < list.length; idx++) {\n    const obj = list[idx]\n    const $doc = obj.doc\n    if ($doc[0].location.hash != obj.fragment) {\n      $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      obj.fragment = $doc[0].location.hash\n      $._checkFragments.fragmentList[idx] = obj\n    }\n  }\n}\n$._checkFragments.fragmentList = []\n// Triggers a click only if the anchor tag isn't disabled.\n$.fn.clickLink = function() {\n  const $obj = this.eq(0)\n  if (!$obj.hasClass('disabled_link')) {\n    $obj.click()\n  }\n}\n\n// jQuery supposedly has this built-in, but I haven't\n// had much success with it.\n$.fn.showIf = function(bool) {\n  if ($.isFunction(bool)) {\n    return this.each(function(index) {\n      $(this).showIf(bool.call(this))\n    })\n  }\n  if (bool) {\n    this.show()\n  } else {\n    this.hide()\n  }\n  return this\n}\n\n$.fn.disableIf = function(bool) {\n  if ($.isFunction(bool)) {\n    bool = bool.call(this)\n  }\n  this.prop('disabled', !!bool)\n  return this\n}\n\n$.fn.indicate = function(options) {\n  options = options || {}\n  let $indicator\n  if (options == 'remove') {\n    $indicator = this.data('indicator')\n    if ($indicator) {\n      $indicator.remove()\n    }\n    return\n  }\n  $('.indicator_box').remove()\n  let offset = this.offset()\n  if (options && options.offset) {\n    offset = options.offset\n  }\n  const width = this.width()\n  const height = this.height()\n  const zIndex = (options.container || this).zIndex()\n  $indicator = $(document.createElement('div'))\n  $indicator.css({\n    width: width + 6,\n    height: height + 6,\n    top: offset.top - 3,\n    left: offset.left - 3,\n    zIndex: zIndex + 1,\n    position: 'absolute',\n    display: 'block',\n    '-moz-border-radius': 5,\n    opacity: 0.8,\n    border: '2px solid #870',\n    backgroundColor: '#fd0'\n  })\n  $indicator.addClass('indicator_box')\n  $indicator.mouseover(function() {\n    $(this)\n      .stop()\n      .fadeOut('fast', function() {\n        $(this).remove()\n      })\n  })\n  if (this.data('indicator')) {\n    this.indicate('remove')\n  }\n  this.data('indicator', $indicator)\n  $('body').append($indicator)\n  if (options && options.singleFlash) {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  } else {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow')\n      .fadeIn('slow')\n      .animate({opacity: 0.8}, 2500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  }\n  if (options && options.scroll) {\n    $('html,body').scrollToVisible($indicator)\n  }\n}\n\n$.fn.hasScrollbar = function() {\n  return this.length && this[0].clientHeight < this[0].scrollHeight\n}\n\n$.fn.log = function(msg) {\n  console.log('%s: %o', msg, this)\n  return this\n}\n\n// this is used if you want to fill the browser window with something inside #content but you want to also leave the footer and header on the page.\n$.fn.fillWindowWithMe = function(options) {\n  const opts = $.extend({minHeight: 400}, options),\n    $this = $(this),\n    $wrapper = $('#wrapper'),\n    $main = $('#main'),\n    $not_right_side = $('#not_right_side'),\n    $window = $(window),\n    $toResize = $(this).add(opts.alsoResize)\n\n  function fillWindowWithThisElement() {\n    $toResize.height(0)\n    const spaceLeftForThis =\n        $window.height() -\n        ($wrapper.offset().top + $wrapper.outerHeight()) +\n        ($main.height() - $not_right_side.height()),\n      newHeight = Math.max(400, spaceLeftForThis)\n\n    $toResize.height(newHeight)\n    if ($.isFunction(opts.onResize)) {\n      opts.onResize.call($this, newHeight)\n    }\n  }\n  fillWindowWithThisElement()\n  $window\n    .unbind('resize.fillWindowWithMe')\n    .bind('resize.fillWindowWithMe', fillWindowWithThisElement)\n  return this\n}\n\n$.fn.autoGrowInput = function(o) {\n  o = $.extend(\n    {\n      maxWidth: 1000,\n      minWidth: 0,\n      comfortZone: 70\n    },\n    o\n  )\n\n  this.filter('input:text').each(function() {\n    let minWidth = o.minWidth || $(this).width(),\n      val = '',\n      input = $(this),\n      testSubject = $('<tester/>').css({\n        position: 'absolute',\n        top: -9999,\n        left: -9999,\n        width: 'auto',\n        fontSize: input.css('fontSize'),\n        fontFamily: input.css('fontFamily'),\n        fontWeight: input.css('fontWeight'),\n        letterSpacing: input.css('letterSpacing'),\n        whiteSpace: 'nowrap'\n      }),\n      check = function() {\n        setTimeout(() => {\n          if (val === (val = input.val())) {\n            return\n          }\n\n          // Enter new content into testSubject\n          testSubject.text(val)\n\n          // Calculate new width + whether to change\n          const testerWidth = testSubject.width(),\n            newWidth =\n              testerWidth + o.comfortZone >= minWidth ? testerWidth + o.comfortZone : minWidth,\n            currentWidth = input.width(),\n            isValidWidthChange =\n              (newWidth < currentWidth && newWidth >= minWidth) ||\n              (newWidth > minWidth && newWidth < o.maxWidth)\n\n          // Animate width\n          if (isValidWidthChange) {\n            input.width(newWidth)\n          }\n        })\n      }\n\n    testSubject.insertAfter(input)\n\n    $(this).bind('keyup keydown blur update change', check)\n  })\n\n  return this\n}\n\nexport default $\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kyttjn sislt\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizat\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasznli tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawarto uytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contedo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contedo do Usurio\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Anvndarinnehll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Anvndarinnehll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanc erii\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n","/*!\n * jQuery Tiny Pub/Sub - v0.6 - 1/10/2011\n * http://benalman.com/\n *\n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\nconst $ = require('jquery')\n\n  // Create a \"dummy\" jQuery object on which to bind, unbind and trigger event\n  // handlers. Note that $({}) works in jQuery 1.4.3+.\n  var o = $({}), subscribe, unsubscribe, publish;\n\n  // Subscribe to a topic. Works just like bind, except the passed handler\n  // is wrapped in a function so that the event object can be stripped out.\n  // Even though the event object might be useful, it is unnecessary and\n  // will only complicate things in the future should the user decide to move\n  // to a non-$.event-based pub/sub implementation.\n  $.subscribe = subscribe = function( topic, fn ) {\n    if ($.isPlainObject(topic)) {\n      return $.each(topic, function(topic, fn) {\n        subscribe(topic, fn);\n      });\n    }\n    // Call fn, stripping out the 1st argument (the event object).\n    function wrapper() {\n      return fn.apply( this, Array.prototype.slice.call( arguments, 1 ) );\n    }\n\n    // Add .guid property to function to allow it to be easily unbound. Note\n    // that $.guid is new in jQuery 1.4+, and $.event.guid was used before.\n    wrapper.guid = fn.guid = fn.guid || $.guid++;\n\n    // Bind the handler.\n    o.bind( topic, wrapper );\n  };\n\n  // Unsubscribe from a topic. Works exactly like unbind.\n  $.unsubscribe = unsubscribe = function() {\n    o.unbind.apply( o, arguments );\n  };\n\n  // Publish a topic. Works exactly like trigger.\n  $.publish = publish = function() {\n    o.trigger.apply( o, arguments );\n  };\n\n  module.exports = {\n    subscribe: subscribe,\n    unsubscribe: unsubscribe,\n    publish: publish\n  };\n\n","//\n// Copyright (C) 2014 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport I18n from 'i18nObj'\n\nexport default {\n  strings(x, y) {\n    let locale = I18n.locale || 'en-US'\n    const locale_map = {zh_Hant: 'zh-Hant'}\n    locale = locale_map[locale] || locale\n    // if you change these settings, also match the settings in best_unicode_collation_key\n    // and Canvas::ICU.collator\n    return x.localeCompare(y, locale, {\n      sensitivity: 'variant',\n      ignorePunctuation: false,\n      numeric: true\n    })\n  },\n\n  by(f) {\n    return (x, y) => this.strings(f(x), f(y))\n  },\n\n  byKey(key) {\n    return this.by(x => x[key])\n  },\n\n  byGet(key) {\n    return this.by(x => x.get(key))\n  }\n}\n","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nexport default function coupleTimeFields($start, $end, $date) {\n  // construct blur callback that couples them in order so that $start can\n  // never be less than $end\n  function blur($blurred) {\n    if ($date && $blurred === $date) {\n      const date = $date.data('unfudged-date')\n      if (date) {\n        ;[$start, $end].forEach(el => {\n          const instance = el.data('instance')\n          if (instance) instance.setDate(date)\n        })\n      }\n      return\n    }\n\n    // these will be null if invalid or blank, and date values otherwise.\n    let start = $start.data('unfudged-date')\n    const end = $end.data('unfudged-date')\n\n    const realStart = $start.data('date')\n    const realEnd = $end.data('date')\n\n    if (start && end) {\n      // we only care about comparing the time of day, not the date portion\n      // (since they'll both be interpreted relative to some other date field\n      // later)\n      start = start.clone()\n      start.setFullYear(end.getFullYear())\n      start.setMonth(end.getMonth())\n      start.setDate(end.getDate())\n\n      if (realEnd < realStart) {\n        // both present and valid, but violate expected ordering, set the one\n        // not just changed equal to the one just changed\n        if ($blurred === $end) {\n          $start.data('instance').setTime(end)\n        } else {\n          $end.data('instance').setTime(start)\n        }\n      }\n    }\n  }\n\n  // use that blur function for both fields\n  $start.blur(() => blur($start))\n  $end.blur(() => blur($end))\n  if ($date) {\n    $date.on('blur change', () => blur($date))\n    blur($date)\n  }\n\n  // trigger initial coupling check\n  blur($end)\n}\n","/*\n * Copyright (C) 2012 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport fcUtil from '../util/fcUtil'\n\nexport default class TimeBlockListManager {\n  // takes an optional array of Date pairs\n  constructor(blocks) {\n    this.blocks = []\n    if (blocks) {\n      for (let i = 0, len = blocks.length; i < len; i++) {\n        const ref = blocks[i],\n          start = ref[0],\n          end = ref[1],\n          locked = ref[2]\n        this.add(start, end, locked)\n      }\n    }\n  }\n\n  add(start, end, locked) {\n    // add overlap-rejection logic\n    return this.blocks.push({start, end, locked})\n  }\n\n  consolidate() {\n    this.sort()\n\n    const consolidatedBlocks = []\n    consolidatedBlocks.last = function() {\n      return this[this.length - 1]\n    }\n\n    this.blocks.forEach(block => {\n      if (!consolidatedBlocks.last()) {\n        consolidatedBlocks.push(block)\n        return\n      }\n\n      const lastBlock = consolidatedBlocks.last()\n      if (+lastBlock.end === +block.start && !lastBlock.locked && !block.locked) {\n        lastBlock.end = block.end\n      } else {\n        consolidatedBlocks.push(block)\n      }\n    })\n\n    return (this.blocks = consolidatedBlocks)\n  }\n\n  // split each block into multiple blocks of the given length\n  split(minutes) {\n    this.consolidate()\n\n    this.blocks.forEach(block => {\n      if (block.locked) return\n      const nextBreak = fcUtil.clone(block.start).add(minutes, 'minutes')\n      while (block.end > nextBreak) {\n        this.add(block.start, fcUtil.clone(nextBreak))\n        block.start = fcUtil.clone(nextBreak)\n        nextBreak.add(minutes, 'minutes')\n      }\n    })\n\n    return this.sort()\n  }\n\n  sort() {\n    return (this.blocks = this.blocks.sort((a, b) => {\n      if (a.end <= b.start) {\n        return -1\n      } else {\n        return 1\n      }\n    }))\n  }\n\n  delete(index) {\n    if (index != null && this.blocks.length > index && !this.blocks[index].locked) {\n      return this.blocks.splice(index, 1)\n    }\n  }\n\n  reset() {\n    return (this.blocks = [])\n  }\n}\n"],"sourceRoot":""}