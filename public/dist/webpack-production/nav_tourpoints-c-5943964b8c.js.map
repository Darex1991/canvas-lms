{"version":3,"sources":["webpack:///./app/jsx/bundles/nav_tourpoints.js"],"names":["Tour","React","lazy","ready","current_roles","window","ENV","current_user_roles","roles","current_user_types","includes","push","COURSE","is_instructor","is_student","globalNavTourContainer","document","getElementById","length","ReactDOM","render","Suspense","fallback"],"mappings":";;;AAsBA,MAAMA,EAAOC,IAAMC,KAAK,IAAM;AAE9BC,IAAM,KAAM;AACV,MAAMC,EAAgBC,OAAOC,IAAIC,oBAAsB,GAEjDC,EAAQ,IADQH,OAAOC,IAAIG,oBAAsB,IAIrCC,SAAS,kBACzBF,EAAMG,KAAK,UAETP,EAAcM,SAAS,aAAvB,UAAqCL,OAAOC,IAAIM,cAAhD,aAAqC,EAAmBC,iBAC1DL,EAAMG,KAAK,YAETP,EAAcM,SAAS,aAAvB,UAAqCL,OAAOC,IAAIM,cAAhD,aAAqC,EAAmBE,cAC1DN,EAAMG,KAAK;AAEb,MAAMI,EAAyBC,SAASC,eAAe;AAKnDF,GAA0BP,EAAMU,OAAS,GAC3CC,IAASC,OACP,YAAC,IAAMC,SAAP,CAAgBC,SAAU,WAA1B,EACE,YAACtB,EAAD,CAAMQ,MAAOA,KAEfO","file":"nav_tourpoints-c-5943964b8c.js","sourcesContent":["/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ready from '@instructure/ready'\n\nconst Tour = React.lazy(() => import('../nav_tourpoints/tour'))\n\nready(() => {\n  const current_roles = window.ENV.current_user_roles || []\n  const current_types = window.ENV.current_user_types || []\n  const roles = []\n\n  // Decide which tour to show based on the role\n  if (current_types.includes('Account Admin')) {\n    roles.push('admin')\n  }\n  if (current_roles.includes('teacher') || window.ENV.COURSE?.is_instructor) {\n    roles.push('teacher')\n  }\n  if (current_roles.includes('student') || window.ENV.COURSE?.is_student) {\n    roles.push('student')\n  }\n  const globalNavTourContainer = document.getElementById('global_nav_tour')\n\n  // If the user doesn't have a role with a tour\n  // don't even mount it. This saves us from having\n  // to download the code-split bundle.\n  if (globalNavTourContainer && roles.length > 0) {\n    ReactDOM.render(\n      <React.Suspense fallback={null}>\n        <Tour roles={roles} />\n      </React.Suspense>,\n      globalNavTourContainer\n    )\n  }\n})\n"],"sourceRoot":""}