{"version":3,"sources":["webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/replaceValuesWithVariableNames.js","webpack:///./node_modules/@instructure/ui-dom-utils/es/supportsObjectFit.js","webpack:///./node_modules/minimatch/minimatch.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/index.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/theme.js","webpack:///./node_modules/@instructure/ui-icons/es/IconImageSolid.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/getCssText.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-react-utils/es/safeCloneElement.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-react-utils/es/ensureSingleChild.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ThemeContext.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ApplyTheme/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ThemeablePropValues.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/applyVariablesToNode.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/getShorthandPropValue.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/makeThemeVars.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/mirrorShorthand.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/mirrorShorthandCorners.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/setTextDirection.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ThemeablePropTypes.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-svg-images/es/InlineSVG/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/cleanCss.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ruleTypes.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-react-utils/es/passthroughProps.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-svg-images/es/InlineSVG/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-svg-images/es/SVGIcon/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-svg-images/es/SVGIcon/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-icons/es/IconFolderLine.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-icons/es/IconDocumentLine.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-decorator/es/decorator.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-i18n/es/getTextDirection.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-i18n/es/TextDirectionContext.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-i18n/es/bidirectional.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-react-utils/es/deprecated.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-react-utils/es/getElementType.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-view/es/View/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-view/es/View/themeAdapter.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-view/es/View/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/createThemeAdapter.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-elements/es/Img/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/TreeButton/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-elements/es/Img/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/TreeButton/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/TreeCollection/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/TreeCollection/theme.js","webpack:///./node_modules/@instructure/ui-tree-browser/es/TreeBrowser/theme.js","webpack:///./node_modules/@instructure/ui-icons/es/IconUploadSolid.js","webpack:///./node_modules/@instructure/ui-icons/es/IconOpenFolderSolid.js","webpack:///./node_modules/@instructure/ui-icons/es/IconFolderSolid.js","webpack:///./app/jsx/files/utils/apiFileUtils.js","webpack:///./app/jsx/shared/rce/FileBrowser.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/formatVariableNames.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/applyCustomMediaToCss.js","webpack:///./node_modules/brace-expansion/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/uid/es/uid.js","webpack:///./app/jsx/shared/parseLinkHeader.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/customPropertiesSupported.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/ThemeRegistry.js","webpack:///./node_modules/no-scroll/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/parseCss.js","webpack:///./node_modules/concat-map/index.js","webpack:///./node_modules/balanced-match/index.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/formatVariableName.js","webpack:///./node_modules/@instructure/ui-tree-browser/node_modules/@instructure/ui-themeable/es/transformCss.js","webpack:///./node_modules/@instructure/ui-overlays/es/Mask/index.js","webpack:///./node_modules/@instructure/ui-overlays/es/Mask/theme.js"],"names":["replaceValuesWithVariableNames","variables","prefix","map","Object","keys","forEach","variableName","concat","supportsObjectFit","document","documentElement","style","module","exports","minimatch","Minimatch","path","sep","er","GLOBSTAR","expand","plTypes","open","close","reSpecials","split","reduce","set","c","slashSplit","ext","a","b","t","k","p","pattern","options","TypeError","nocomment","charAt","trim","match","this","join","regexp","negate","comment","empty","make","braceExpand","nobrace","filter","i","list","defaults","def","length","orig","m","prototype","debug","_made","parseNegate","globSet","console","error","globParts","s","si","parse","indexOf","negateOffset","nonegate","l","substr","isSub","noglobstar","stateChar","re","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","self","clearStateChar","qmark","len","noext","push","type","start","reStart","pl","pop","reEnd","cs","substring","RegExp","sp","SUBPARSE","tail","slice","replace","_","$1","$2","addPatternStart","n","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","flags","regExp","_glob","_src","makeRe","twoStar","regExpEscape","ex","mm","f","nonull","partial","filename","file","matchBase","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","toLowerCase","Error","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","xs","res","resolve","resolvedPath","resolvedAbsolute","arguments","process","cwd","normalize","isAbsolute","trailingSlash","paths","Array","call","index","relative","from","to","arr","end","fromParts","toParts","Math","min","samePartsLength","outputParts","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","extname","startDot","startPart","preDotState","str","_class","_class2","_temp","generator","_ref","typography","colors","spacing","primaryInverseColor","textLightest","primaryColor","textDarkest","secondaryColor","textDark","secondaryInverseColor","textLight","warningColor","textWarning","brandColor","textBrand","errorColor","textDanger","successColor","textSuccess","alertColor","textAlert","paragraphMargin","medium","canvas","styles","componentId","template","theme","fontFamily","fontFamilyMonospace","fontWeightBold","fontWeightNormal","fontWeightLight","fontSizeXSmall","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeXLarge","fontSizeXXLarge","lineHeight","lineHeightFit","lineHeightCondensed","lineHeightDouble","letterSpacingNormal","letterSpacingCondensed","letterSpacingExpanded","deprecated","_dec","_dec2","_Component","Text","apply","key","value","_classnames","_this$props","props","wrap","weight","fontStyle","size","letterSpacing","transform","color","children","ElementType","getElementType","createElement","assign","propTypes","className","root","ref","elementRef","displayName","as","elementType","oneOf","node","func","defaultProps","d","fillRule","stroke","strokeWidth","IconImageSolid","name","viewBox","glyphName","variant","getCssText","getCssTextWithVariables","getCssTextWithPolyfill","cssText","customMedia","variablesToCSSText","rules","hasOwnProperty","safeCloneElement","element","cloneRef","originalRef","mergedProps","prop","createChainedFunction","_len","_key","cloneElement","component","ensureSingleChild","child","childCount","count","isArray","ThemeContext","CONTEXT_KEY","types","object","makeThemeContext","immutable","getThemeContext","context","ApplyTheme","parentThemeContext","mergeDeep","bool","childContextTypes","contextTypes","generateTheme","ThemeablePropValues","SHADOW_TYPES","resting","above","topmost","none","STACKING_TYPES","deepest","below","BORDER_WIDTHS","small","large","BORDER_RADII","circle","pill","BACKGROUNDS","default","inverse","transparent","SIZES","xSmall","xLarge","SPACING","auto","xxxSmall","xxSmall","xxLarge","getShorthandPropValue","componentName","componentTheme","propValue","propName","isEmpty","shortHandValue","themeVariableName","camelize","themeVariableValue","makeThemeVars","vars","themeVars","variable","mirrorShorthandEdges","values","valuesArr","mirrorShorthandCorners","_ref2","_ref3","ThemeablePropTypes","shadow","stacking","borderWidth","shorthandPropType","borderRadius","background","validValues","location","propValueType","propValues","valuesLength","omitProps","exclude","originalObject","newObject","includes","omit","pickProps","include","obj","idx","pick","testable","InlineSVG","_this","titleId","uid","descId","title","id","desc","src","prepareSrc","role","dangerouslySetInnerHTML","__html","description","focusable","width","height","attributes","namesAndValuesRegExp","attributesMatches","exec","attributesString","excludes","parseAttributes","labelledBy","inline","block","renderTitle","renderDesc","renderContent","get","ids","string","oneOfType","number","matches","sizeXSmall","sizeSmall","sizeMedium","sizeLarge","sizeXLarge","SVGIcon","rotate","bidirectional","IconFolderLine","IconDocumentLine","decorator","decorate","args","ComposedComponent","DecoratedComponent","defaultDir","dirAttribute","observer","DIRECTION","ltr","rtl","TextDirectionContext","shape","dir","makeTextDirectionContext","getTextDirectionContext","getTextDirection","canUseDOM","htmlEl","getAttribute","getComputedStyle","direction","MutationObserver","attr","observe","_ComposedComponent","BidirectionalComponent","_deprecated","deprecatePropValues","warnDeprecatedProps","warnDeprecatedComponent","changedPackageWarning","Component","getDefault","href","onClick","borders","shadows","breakpoints","transitions","colorPrimaryInverse","borderStyle","borderColorPrimary","borderMedium","borderColorSecondary","borderDark","borderColorSuccess","borderSuccess","borderColorBrand","borderBrand","borderColorInfo","borderInfo","borderColorAlert","borderAlert","borderColorWarning","borderWarning","borderColorDanger","borderDanger","borderColorTransparent","borderRadiusSmall","radiusSmall","borderRadiusMedium","radiusMedium","borderRadiusLarge","radiusLarge","debugOutlineColor","borderDebug","backgroundPrimary","backgroundLightest","backgroundSecondary","backgroundLight","backgroundPrimaryInverse","backgroundDarkest","backgroundBrand","backgroundInfo","backgroundAlert","backgroundSuccess","backgroundDanger","backgroundWarning","arrowSize","focusOutlineStyle","focusOutlineWidth","widthMedium","focusOutlineOffset","focusOutlineInset","focusColorInfo","focusColorDanger","focusColorSuccess","focusColorInverse","borderLightest","xSmallMaxWidth","smallMaxWidth","mediumMaxWidth","largeMaxWidth","themeAdapter","_ref$map","version","_ref$shouldIncludeOld","shouldIncludeOldValues","_ref2$theme","entries","result","_ref4","updatedThemeVars","updatedVar","borderColorDefault","borderColorInverse","colorInverse","backgroundInverse","stackingTopmost","stackingAbove","stackingBelow","stackingDeepest","shadowTopmost","shadowResting","shadowAbove","focusOutlineColorDefault","focused","visualDebug","_dec3","View","_getPrototypeOf2","handleElementRef","el","_element","verifyUniformValues","initialValue","input","every","_objectSpread2","textAlign","display","withVisualDebug","minWidth","minHeight","maxWidth","maxHeight","overflowX","overflowY","position","focusPosition","focusColor","shouldAnimateFocus","borderColor","withFocusOutline","focusOutlineClasses","focus","shouldUseBrowserFocus","focusRingRadius","focusAnimation","classes","withBorder","validProps","spacingStyle","offsetStyle","styleProps","_this$props2","_this$props$borderRad","toUpperCase","_this$props3","_this$props4","margin","padding","_this$props5","insetBlockStart","insetBlockEnd","insetInlineStart","insetInlineEnd","blockStart","top","blockEnd","bottom","horizontalOffsets","left","right","_this$props6","cursor","whitelisted","omitViewProps","overlayTransitionDuration","effectTransitionDuration","cover","imageBlurAmount","_dec4","Img","blur","grayscale","alt","overlay","constrain","a11yProps","imageProps","image","contain","renderFilter","passthroughProps","hasBackground","_classnames2","containerProps","backgroundImage","backgroundColor","opacity","mixBlendMode","blend","isRequired","hoverBackgroundColor","hoverTextColor","focusOutlineColor","iconColor","iconsMarginRight","descriptorMarginTop","descriptorTextColor","descriptorFontSizeSmall","descriptorFontSizeMedium","descriptorFontSizeLarge","nameTextColor","nameFontSizeSmall","nameFontSizeMedium","nameFontSizeLarge","baseSpacingSmall","baseSpacingMedium","baseSpacingLarge","widthSmall","textLineHeight","selectedTextColor","selectedBackgroundColor","backgroundDark","selectedOutlineWidth","widthLarge","TreeButton","renderCollectionIcon","renderItemImage","Icon","expanded","collectionIconExpanded","collectionIcon","icon","thumbnail","itemIcon","_classes","descriptor","selected","ie11","isIE11","tabIndex","layout","renderImage","text","textName","textDescriptor","TreeCollection","handleFocus","e","item","stopPropagation","setState","handleBlur","handleCollectionClick","onCollectionClick","handleCollectionKeyDown","onKeyDown","state","_this2","collections","items","collection","renderCollectionNode","renderItemNode","collectionsCount","numChildren","level","numCollections","_this3","ariaSelected","selection","itemHash","onItemClick","onFocus","onBlur","getCommonButtonProps","_this4","edge","isEdge","renderChildren","itemsCount","array","controlsTopMargin","fontWeight","fontSize","TreeBrowser","expandOrCollapseNode","handleSelection","handleItemClick","handleKeyDown","event","keyCode","codes","down","j","moveFocus","home","homeOrEnd","handleLeftOrRightArrow","enter","space","handleActivation","preventDefault","defaultExpanded","onCollectionToggle","getExpanded","expandedIndex","getExpandedIndex","selectionType","_root","querySelectorAll","delta","nodes","getNavigableNodes","next","window","activeElement","setAttribute","parentElement","handleCloseOrPrevious","handleOpenOrNext","getCollectionProps","getItems","getSubCollections","findIndex","String","_this5","_this6","treeLabel","renderRoot","rootId","showRootCollection","controllable","arrayOf","IconUploadSolid","IconOpenFolderSolid","IconFolderSolid","stringIds","Accept","onFileUploadInfoReceived","uploadInfo","onSuccess","onFailure","formData","data","FormData","append","createFormData","upload_params","config","axios","post","upload_url","then","response","catch","FileBrowser","React","constructor","super","populateCollectionsList","folderList","opts","newCollections","cloneDeep","folder","formatFolderInfo","parent_id","parent_folder_id","collectionCollections","orderedIdsFromList","openFolders","getFolderData","populateItemsList","fileList","newItems","contentTypeIsAllowed","formatFileInfo","folder_id","collectionItems","onFolderToggle","onFolderClick","folderId","newFolders","locked","uploadFolder","onFileClick","findFolderForFile","selectFile","onInputChange","files","submitFile","uploading","on_duplicate","uploadFile","onUploadSucceed","onUploadFail","clearUploadInfo","setSuccessMessage","I18n","$","display_name","click","button","scrollTo","setFailureMessage","message","showFlashSuccess","showFlashError","selectLocalFile","uploadInput","0","loadingCount","componentDidMount","getRootFolders","getContextName","contextType","getContextInfo","assetString","contextTypeAndId","splitAssetString","useContextAssets","getContextFolders","getUserFolders","getRootFolderData","ENV","context_asset_string","contextInfo","increaseLoadingCount","decreaseLoadingCount","contextId","populateRootFolder","status","getPaginatedData","folderFileApiUrl","url","callback","nextUrl","parseLinkHeader","headers","link","contentType","contentTypes","apiFolder","locked_for_user","api","context_type","context_id","canUpload","can_upload","existingCollections","apiFile","thumbnail_url","uuid","sort","natcompare","strings","folderKey","find","renderUploadDialog","allowUpload","disabled","srError","ScreenReaderContent","acceptContentTypes","onChange","target","accept","Button","renderMask","Mask","Spinner","renderLoading","render","formatVariableNames","formatted","applyCustomMediaToCss","regex","matcher","lastIndex","source","getMatches","concatMap","balanced","isTop","expansions","test","pre","isNumericSequence","body","isAlphaSequence","isSequence","isOptions","escClose","parseCommaParts","postParts","shift","embrace","N","x","numeric","y","max","incr","abs","lte","gte","pad","some","isPadded","fromCharCode","need","z","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","random","parseInt","dictionary","dictionaryLengthMinus1","_uid","_random","floor","_ignored","idLength","bytes","linkHeader","retVal","partOfHeader","myUrl","urlRel","cachedReturnVal","customPropertiesSupported","environmentIsJSDOM","navigator","userAgent","browserSupportsCustomProperties","CSS","supports","DEFAULT_THEME_KEY","makeRegistry","styleSheet","defaultThemeKey","components","themes","registered","setRegistry","registry","global","clearRegistry","defaultRegistry","validateRegistry","scrollbarSize","scrollTop","isOn","on","doc","pageYOffset","scrollHeight","innerHeight","dummyScroller","appendChild","offsetWidth","clientWidth","removeChild","getScrollbarSize","overflow","off","scroll","noScroll","toggle","parseCss","cleaned","cleanCss","parseLexed","lex","ruleTypes","keyframes","media","rootNode","char","parent","previous","parseSelector","selector","lastIndexOf","parseRuleType","rule","fn","toString","maybeMatch","r","range","reg","begs","beg","ai","bi","formatVariableName","transformCss","transformNode","transformed","toCssText","isKeyframesSelector","toRules","_cssText","suffix","zIndex","focusBorderColor","contentRef","_content","fullscreen","content","placement","onDismiss"],"mappings":"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","file":"94-c-a46862c764.js","sourcesContent":["/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { formatVariableName } from './formatVariableName';\n/**\n* ---\n* category: utilities/themes\n* ---\n* Replace the variables values with the CSS variable\n* @param {Object} variables\n* @param {String} prefix a prefix to add to the variable names\n* @returns {Object} the theme variables object with CSS variables in place of values\n*/\n\nfunction replaceValuesWithVariableNames(variables, prefix) {\n  var map = {};\n  Object.keys(variables || {}).forEach(function (variableName) {\n    map[variableName] = \"var(\".concat(formatVariableName(variableName, prefix), \")\");\n  });\n  return map;\n}\n\nexport default replaceValuesWithVariableNames;\nexport { replaceValuesWithVariableNames };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from './canUseDOM';\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Performs simple test to determine the browser supports CSS object-fit.\n *\n * https://caniuse.com/#feat=object-fit\n *\n * @module\n * @returns {boolean} true if object-fit is supported\n */\n\nfunction supportsObjectFit() {\n  if (!canUseDOM) {\n    return false;\n  } else {\n    // Detect browser support for object-fit\n    // Don't need to sniff for Edge 16 bc it supports object-fit for <img>\n    return 'objectFit' in document.documentElement.style !== false;\n  }\n}\n\nexport default supportsObjectFit;\nexport { supportsObjectFit };","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'cjUyb',\n  template: function template(theme) {\n    return \"\\n\\n.cjUyb_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \"}\\n\\n.cjUyb_bGBk sub,.cjUyb_bGBk sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\\n\\n.cjUyb_bGBk sup{top:-0.4em}\\n\\n.cjUyb_bGBk sub{bottom:-0.4em}\\n\\n.cjUyb_bGBk code,.cjUyb_bGBk pre{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamilyMonospace || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n.cjUyb_bGBk em,.cjUyb_bGBk i{font-style:italic}\\n\\n.cjUyb_bGBk b,.cjUyb_bGBk strong{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk p{display:block;margin:\").concat(theme.paragraphMargin || 'inherit', \";padding:0}\\n\\ninput.cjUyb_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.cjUyb_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.cjUyb_bGBk[type]{text-align:right}\\n\\n.cjUyb_bGBk:focus,input.cjUyb_bGBk[type]:focus{outline:none}\\n\\n.cjUyb_bGBk.cjUyb_qFsi,input.cjUyb_bGBk[type].cjUyb_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bLsb,input.cjUyb_bGBk[type].cjUyb_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ezBQ,input.cjUyb_bGBk[type].cjUyb_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dlnd,input.cjUyb_bGBk[type].cjUyb_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cJLh,input.cjUyb_bGBk[type].cjUyb_cJLh{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fpfC,input.cjUyb_bGBk[type].cjUyb_fpfC{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eHcp,input.cjUyb_bGBk[type].cjUyb_eHcp{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dwua,input.cjUyb_bGBk[type].cjUyb_dwua{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eZgl,input.cjUyb_bGBk[type].cjUyb_eZgl{color:\").concat(theme.alertColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fbNi,input.cjUyb_bGBk[type].cjUyb_fbNi{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word}\\n\\n.cjUyb_bGBk.cjUyb_drST,input.cjUyb_bGBk[type].cjUyb_drST{font-weight:\").concat(theme.fontWeightNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_pEgL,input.cjUyb_bGBk[type].cjUyb_pEgL{font-weight:\").concat(theme.fontWeightLight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bdMA,input.cjUyb_bGBk[type].cjUyb_bdMA{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ijuF,input.cjUyb_bGBk[type].cjUyb_ijuF{font-style:normal}\\n\\n.cjUyb_bGBk.cjUyb_fetN,input.cjUyb_bGBk[type].cjUyb_fetN{font-style:italic}\\n\\n.cjUyb_bGBk.cjUyb_dfBC,input.cjUyb_bGBk[type].cjUyb_dfBC{font-size:\").concat(theme.fontSizeXSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_doqw,input.cjUyb_bGBk[type].cjUyb_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ycrn,input.cjUyb_bGBk[type].cjUyb_ycrn{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cMDj,input.cjUyb_bGBk[type].cjUyb_cMDj{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eoMd,input.cjUyb_bGBk[type].cjUyb_eoMd{font-size:\").concat(theme.fontSizeXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fdca,input.cjUyb_bGBk[type].cjUyb_fdca{font-size:\").concat(theme.fontSizeXXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fEWX,input.cjUyb_bGBk[type].cjUyb_fEWX{line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fNIu,input.cjUyb_bGBk[type].cjUyb_fNIu{line-height:\").concat(theme.lineHeightFit || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dfDs,input.cjUyb_bGBk[type].cjUyb_dfDs{line-height:\").concat(theme.lineHeightCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bDjL,input.cjUyb_bGBk[type].cjUyb_bDjL{line-height:\").concat(theme.lineHeightDouble || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eQnG,input.cjUyb_bGBk[type].cjUyb_eQnG{letter-spacing:\").concat(theme.letterSpacingNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bbUA,input.cjUyb_bGBk[type].cjUyb_bbUA{letter-spacing:\").concat(theme.letterSpacingCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bRWU,input.cjUyb_bGBk[type].cjUyb_bRWU{letter-spacing:\").concat(theme.letterSpacingExpanded || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_wZsr,input.cjUyb_bGBk[type].cjUyb_wZsr{text-transform:none}\\n\\n.cjUyb_bGBk.cjUyb_fCZK,input.cjUyb_bGBk[type].cjUyb_fCZK{text-transform:capitalize}\\n\\n.cjUyb_bGBk.cjUyb_dsRi,input.cjUyb_bGBk[type].cjUyb_dsRi{text-transform:uppercase}\\n\\n.cjUyb_bGBk.cjUyb_bLtD,input.cjUyb_bGBk[type].cjUyb_bLtD{text-transform:lowercase}\");\n  },\n  'root': 'cjUyb_bGBk',\n  'color-primary': 'cjUyb_qFsi',\n  'color-secondary': 'cjUyb_bLsb',\n  'color-primary-inverse': 'cjUyb_ezBQ',\n  'color-secondary-inverse': 'cjUyb_dlnd',\n  'color-success': 'cjUyb_cJLh',\n  'color-brand': 'cjUyb_fpfC',\n  'color-warning': 'cjUyb_eHcp',\n  'color-error': 'cjUyb_dwua',\n  'color-alert': 'cjUyb_eZgl',\n  'wrap-break-word': 'cjUyb_fbNi',\n  'weight-normal': 'cjUyb_drST',\n  'weight-light': 'cjUyb_pEgL',\n  'weight-bold': 'cjUyb_bdMA',\n  'style-normal': 'cjUyb_ijuF',\n  'style-italic': 'cjUyb_fetN',\n  'x-small': 'cjUyb_dfBC',\n  'small': 'cjUyb_doqw',\n  'medium': 'cjUyb_ycrn',\n  'large': 'cjUyb_cMDj',\n  'x-large': 'cjUyb_eoMd',\n  'xx-large': 'cjUyb_fdca',\n  'lineHeight-default': 'cjUyb_fEWX',\n  'lineHeight-fit': 'cjUyb_fNIu',\n  'lineHeight-condensed': 'cjUyb_dfDs',\n  'lineHeight-double': 'cjUyb_bDjL',\n  'letterSpacing-normal': 'cjUyb_eQnG',\n  'letterSpacing-condensed': 'cjUyb_bbUA',\n  'letterSpacing-expanded': 'cjUyb_bRWU',\n  'transform-none': 'cjUyb_wZsr',\n  'transform-capitalize': 'cjUyb_fCZK',\n  'transform-uppercase': 'cjUyb_dsRi',\n  'transform-lowercase': 'cjUyb_bLtD'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedText\n---\n**/\n\nvar Text = (_dec = deprecated('7.0.0', null, 'Use Text from ui-text instead.'), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Text, _Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          wrap = _this$props.wrap,\n          weight = _this$props.weight,\n          fontStyle = _this$props.fontStyle,\n          size = _this$props.size,\n          lineHeight = _this$props.lineHeight,\n          letterSpacing = _this$props.letterSpacing,\n          transform = _this$props.transform,\n          color = _this$props.color,\n          children = _this$props.children;\n      var ElementType = getElementType(Text, this.props);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, Text.propTypes), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[size], size), _defineProperty(_classnames, styles[\"wrap-\".concat(wrap)], wrap), _defineProperty(_classnames, styles[\"weight-\".concat(weight)], weight), _defineProperty(_classnames, styles[\"style-\".concat(fontStyle)], fontStyle), _defineProperty(_classnames, styles[\"transform-\".concat(transform)], transform), _defineProperty(_classnames, styles[\"lineHeight-\".concat(lineHeight)], lineHeight), _defineProperty(_classnames, styles[\"letterSpacing-\".concat(letterSpacing)], letterSpacing), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _classnames)),\n        ref: this.props.elementRef\n      }), children);\n    }\n  }]);\n\n  Text.displayName = \"Text\";\n  return Text;\n}(Component), _class2.propTypes = {\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n  wrap: PropTypes.oneOf(['normal', 'break-word']),\n  weight: PropTypes.oneOf(['normal', 'light', 'bold']),\n  fontStyle: PropTypes.oneOf(['italic', 'normal']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  lineHeight: PropTypes.oneOf(['default', 'fit', 'condensed', 'double']),\n  letterSpacing: PropTypes.oneOf(['normal', 'condensed', 'expanded']),\n  transform: PropTypes.oneOf(['none', 'capitalize', 'uppercase', 'lowercase']),\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand']),\n  children: PropTypes.node,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  as: 'span',\n  wrap: 'normal',\n  size: 'medium',\n  letterSpacing: 'normal',\n  children: null,\n  elementRef: void 0,\n  color: void 0,\n  transform: void 0,\n  lineHeight: void 0,\n  fontStyle: void 0,\n  weight: void 0\n}, _temp)) || _class) || _class);\nexport default Text;\nexport { Text };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      spacing = _ref.spacing;\n  return _objectSpread({}, typography, {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    alertColor: colors.textAlert,\n    paragraphMargin: \"\".concat(spacing.medium, \" 0\")\n  });\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1493.602 1468.294H225.837C523.211 387.9 755.305 1443.9 983.898 1115.918c284.612-408.283 590.57-405.685 710.174 352.376h-200.47zm-816-1129.412c124.8 0 225.882 101.196 225.882 225.883 0 124.687-101.082 225.882-225.882 225.882-124.687 0-225.882-101.195-225.882-225.882 0-124.687 101.195-225.883 225.882-225.883zM-.045 1807.118h1920V113h-1920v1694.118z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconImageSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconImageSolid, _Component);\n\n  function IconImageSolid() {\n    _classCallCheck(this, IconImageSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconImageSolid).apply(this, arguments));\n  }\n\n  _createClass(IconImageSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconImage\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconImageSolid.displayName = \"IconImageSolid\";\n  return IconImageSolid;\n}(Component);\n\nIconImageSolid.glyphName = 'image';\nIconImageSolid.variant = 'Solid';\nIconImageSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconImageSolid;\nexport { IconImageSolid };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { replaceValuesWithVariableNames } from './replaceValuesWithVariableNames';\nimport { formatVariableNames } from './formatVariableNames';\nimport { applyCustomMediaToCss } from './applyCustomMediaToCss';\nimport { customPropertiesSupported } from './customPropertiesSupported';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Returns the CSS as a string with variables applied\n * @module getCssText\n * @param {Function} template A template function that returns the CSS as a string with variables injected\n * @param {Object} variables JS variables\n * @param {string} prefix CSS variable prefix/namespace\n * @returns {String} css text\n */\n\nfunction getCssText() {\n  if (customPropertiesSupported()) {\n    return getCssTextWithVariables.apply(this, arguments);\n  } else {\n    return getCssTextWithPolyfill.apply(this, arguments);\n  }\n}\n\nfunction getCssTextWithPolyfill(template, variables) {\n  // inject variable values\n  var cssText = template(variables); // inject valules for @custom-media rules\n\n  var customMedia = variables ? formatVariableNames(variables) : {};\n  cssText = applyCustomMediaToCss(cssText, customMedia);\n  return cssText;\n}\n\nfunction getCssTextWithVariables(template, variables, prefix) {\n  var variableNames = variables ? replaceValuesWithVariableNames(variables, prefix) : {}; // inject the CSS variable names into the style template\n\n  var cssText = template(variableNames); // inject values for @custom-media rules (https://www.w3.org/TR/2016/WD-mediaqueries-4-20160126/#custom-mq)\n\n  var customMedia = variables ? function () {\n    return formatVariableNames(variables);\n  } : {};\n  cssText = applyCustomMediaToCss(cssText, customMedia);\n  var cssVariablesString = variables ? formatVariableNames(variables, prefix) : ''; // append the CSS variables (defaults) to the result\n\n  cssText = [cssText, variablesToCSSText(cssVariablesString)].join('\\n');\n  return cssText;\n}\n\nfunction variablesToCSSText() {\n  var variables = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  var rules = [];\n\n  for (var key in variables) {\n    if (Object.prototype.hasOwnProperty.call(variables, key) && typeof variables[key] !== 'undefined') {\n      rules.push(\"\".concat(key, \": \").concat(variables[key]));\n    }\n  }\n\n  if (rules.length > 0) {\n    return \"\\n      :root {\\n        \".concat(rules.join(';\\n'), \";\\n      }\\n    \");\n  } else {\n    return '';\n  }\n}\n\nexport default getCssText;\nexport { getCssText, getCssTextWithPolyfill, getCssTextWithVariables };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport { createChainedFunction } from '@instructure/ui-utils';\n/**\n* ---\n* category: utilities/react\n* ---\n* Clone a React element without overwriting refs.\n* @module safeCloneElement\n* @param {ReactElement} element\n* @param {object} props\n* @return {ReactElement}\n*/\n\nfunction safeCloneElement(element, props) {\n  var cloneRef = props.ref;\n  var originalRef = element.ref;\n  var originalRefIsAFunction = typeof originalRef === 'function';\n\n  var mergedProps = _objectSpread({}, props);\n\n  if (element.props.style && props.style) {\n    // merge with existing styles\n    mergedProps.style = _objectSpread({}, element.props.style, {}, props.style);\n  } // prevent overriding existing keys\n\n\n  mergedProps.key = element.key || props.key; // Add chained function to preserve existing event handlers\n\n  Object.keys(props).forEach(function (prop) {\n    // If prop looks like an event handler \"on*\" and either\n    // props[props] or element.props[prop] is a function create a chained function.\n    // If only one is a function it will just use that function with no extra overhead.\n    // This is necessary in cases where props[prop] is `null` or `undefined` which would\n    // otherwise unwantedly override element.props[prop].\n    if (prop.indexOf('on') === 0 && (typeof props[prop] === 'function' || typeof element.props[prop] === 'function')) {\n      mergedProps[prop] = createChainedFunction(element.props[prop], props[prop]);\n    }\n  });\n\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  if (originalRef == null || cloneRef == null) {\n    return React.cloneElement.apply(React, [element, mergedProps].concat(children));\n  }\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _warn(originalRefIsAFunction, \"Cloning an element with a ref that will be overwritten because the ref is not a function. Use a composable callback-style ref instead. Ignoring ref: \".concat(originalRef));\n\n  return React.cloneElement.apply(React, [element, _objectSpread({}, mergedProps, {\n    ref: function ref(component) {\n      cloneRef(component);\n      originalRef(component);\n    }\n  })].concat(children));\n}\n\nexport default safeCloneElement;\nexport { safeCloneElement };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children } from 'react';\nimport { safeCloneElement } from './safeCloneElement';\n/**\n * ---\n * category: utilities/react\n * ---\n *\n * Ensure a single child. If it is a child of length 1, return a\n * cloned instance of the child. If it is a child of length > 1,\n * wrap in a span and return the child. Return null if child has\n * no length.\n *\n * @param {ReactElement} child\n * @param {Object} props - props for child\n * @returns {ReactElement} cloned instance for a single child, or children wrapped in a span\n */\n\nfunction ensureSingleChild(child) {\n  var props = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var childCount = Children.count(child);\n\n  if (childCount === 0) {\n    return null;\n  } else if (typeof child === 'string' && child.length > 0 || childCount > 1) {\n    return React.createElement(\"span\", props, child);\n  } else {\n    return safeCloneElement(Array.isArray(child) ? child[0] : child, props);\n  }\n}\n\nexport default ensureSingleChild;\nexport { ensureSingleChild };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * @module ThemeContext\n */\nimport PropTypes from 'prop-types';\nvar CONTEXT_KEY = '@@themeable';\nvar ThemeContext = {\n  CONTEXT_KEY: CONTEXT_KEY,\n\n  /**\n   * React context types for [themeable](#themeable) components and\n   * the [ApplyTheme](#ApplyTheme) component.\n   */\n  types: _defineProperty({}, CONTEXT_KEY, PropTypes.object),\n\n  /**\n   * create theme context\n   * @param {Object} theme an object containing [themeable](#themeable) component themes\n   * @param {Boolean} immutable prevent theme overrides?\n   */\n  makeThemeContext: function makeThemeContext(theme, immutable) {\n    return _defineProperty({}, CONTEXT_KEY, {\n      theme: theme,\n      immutable: immutable\n    });\n  },\n\n  /**\n   * get a theme context\n   * @param {ReactContext} context React context object\n   */\n  getThemeContext: function getThemeContext(context) {\n    if (context) {\n      return context[CONTEXT_KEY];\n    }\n  }\n};\nexport default ThemeContext;\nexport { ThemeContext };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { mergeDeep } from '@instructure/ui-utils';\nimport { ensureSingleChild } from '@instructure/ui-react-utils';\nimport { ThemeContext } from '../ThemeContext';\nimport { themeable } from '../themeable';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar ApplyTheme =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ApplyTheme, _Component);\n\n  function ApplyTheme() {\n    _classCallCheck(this, ApplyTheme);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ApplyTheme).apply(this, arguments));\n  }\n\n  _createClass(ApplyTheme, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var theme = this.props.theme || {};\n      var parentThemeContext = ThemeContext.getThemeContext(this.context) || {};\n\n      if (parentThemeContext.immutable && parentThemeContext.theme) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warn(!this.props.theme, '[ApplyTheme] Parent theme is immutable. Cannot apply theme: %O', this.props.theme);\n\n        theme = parentThemeContext.theme;\n      } else if (parentThemeContext.theme) {\n        theme = mergeDeep(parentThemeContext.theme, theme);\n      }\n\n      return ThemeContext.makeThemeContext(theme, parentThemeContext.immutable || this.props.immutable);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return ensureSingleChild(this.props.children);\n    }\n  }]);\n\n  ApplyTheme.displayName = \"ApplyTheme\";\n  return ApplyTheme;\n}(Component);\n\nApplyTheme.propTypes = {\n  /**\n  * set theme variables to override the defaults\n  */\n  theme: PropTypes.object,\n\n  /**\n  * accepts only one child (children must be wrapped in a single component/element)\n  */\n  children: PropTypes.node,\n\n  /**\n  * Prevent overriding this theme via a child ApplyTheme component or theme props\n  */\n  immutable: PropTypes.bool\n};\nApplyTheme.defaultProps = {\n  theme: void 0,\n  children: null,\n  immutable: false\n};\nApplyTheme.childContextTypes = ThemeContext.types;\nApplyTheme.contextTypes = ThemeContext.types;\nApplyTheme.generateTheme = themeable.generateTheme;\nexport default ApplyTheme;\nexport { ApplyTheme };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar ThemeablePropValues = {\n  SHADOW_TYPES: {\n    resting: 'resting',\n    above: 'above',\n    topmost: 'topmost',\n    none: 'none'\n  },\n  STACKING_TYPES: {\n    deepest: 'deepest',\n    below: 'below',\n    resting: 'resting',\n    above: 'above',\n    topmost: 'topmost'\n  },\n  BORDER_WIDTHS: {\n    '0': '0',\n    none: 'none',\n    small: 'small',\n    medium: 'medium',\n    large: 'large'\n  },\n  BORDER_RADII: {\n    '0': '0',\n    none: 'none',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    circle: 'circle',\n    pill: 'pill'\n  },\n  BACKGROUNDS: {\n    default: 'default',\n    inverse: 'inverse',\n    transparent: 'transparent'\n  },\n  SIZES: {\n    xSmall: 'x-small',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    xLarge: 'x-large'\n  },\n  SPACING: {\n    '0': '0',\n    none: 'none',\n    auto: 'auto',\n    xxxSmall: 'xxx-small',\n    xxSmall: 'xx-small',\n    xSmall: 'x-small',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    xLarge: 'x-large',\n    xxLarge: 'xx-large'\n  }\n};\nexport default ThemeablePropValues;\nexport { ThemeablePropValues };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { isEmpty } from '@instructure/ui-utils';\nimport { scopeStylesToNode } from './scopeStylesToNode';\nimport { formatVariableNames } from './formatVariableNames';\nimport { pickOverrides } from './pickOverrides';\nimport { customPropertiesSupported } from './customPropertiesSupported';\nimport { getCssTextWithPolyfill } from './getCssText';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Apply theme variables to a DOM node (as CSS variables, with polyfill)\n * @module applyVariablesToNode\n * @param {Element} domNode HTML element to apply variables to using the style attribute\n * @param {Object} variables JS variables\n * @param {Object} defaults Default JS variables\n * @param {String} prefix A variable prefix/namespace\n * @param {Function} template (for IE) A template function that returns the CSS as a string with variables injected\n * @param {String} scope (for IE) A scope to apply to the styles applied to domNode\n */\n\nfunction applyVariablesToNode() {\n  if (customPropertiesSupported()) {\n    applyVariablesToNodeStyle.apply(this, arguments);\n  } else {\n    applyVariablesPolyfillToNode.apply(this, arguments);\n  }\n}\n\nfunction applyVariablesPolyfillToNode(domNode, variables, defaults, prefix, template, scope) {\n  if (!domNode || isEmpty(variables)) {\n    return;\n  }\n\n  var overrides = pickOverrides(defaults, variables);\n  var cssText = '';\n\n  if (overrides && Object.keys(overrides).length > 0) {\n    cssText = getCssTextWithPolyfill(template, _objectSpread({}, defaults, {}, variables));\n  }\n\n  scopeStylesToNode(domNode, cssText, scope);\n}\n\nfunction applyVariablesToNodeStyle(domNode, variables, defaults, prefix) {\n  if (!domNode || isEmpty(variables)) {\n    return;\n  }\n\n  clearCustomProperties(domNode, prefix);\n  var overrides = pickOverrides(defaults, variables);\n\n  if (overrides && !isEmpty(overrides)) {\n    setCustomProperties(domNode, formatVariableNames(overrides, prefix));\n  }\n}\n\nfunction clearCustomProperties(domNode, prefix) {\n  var styles = domNode.style;\n\n  for (var i = styles.length - 1; i >= 0; i--) {\n    var prop = styles[i];\n\n    if (prop.indexOf(\"--\".concat(prefix, \"-\")) >= 0) {\n      domNode.style.removeProperty(prop);\n    }\n  }\n}\n\nfunction setCustomProperties(domNode, properties) {\n  Object.keys(properties).forEach(function (propertyName) {\n    var value = properties[propertyName];\n\n    if (value) {\n      domNode.style.setProperty(propertyName, value);\n    }\n  });\n}\n\nexport default applyVariablesToNode;\nexport { applyVariablesToNode, applyVariablesPolyfillToNode, applyVariablesToNodeStyle };","import { error as _error } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { isEmpty, camelize } from '@instructure/ui-utils';\n\nfunction getShorthandPropValue(componentName, componentTheme, propValue, propName) {\n  if (typeof propValue !== 'string' || isEmpty(componentTheme)) {\n    return;\n  }\n\n  return propValue.split(' ').map(function (shortHandValue) {\n    if (shortHandValue === 'auto' || shortHandValue === '0') {\n      return shortHandValue;\n    }\n\n    if (shortHandValue === 'none') {\n      return '0';\n    }\n\n    if (shortHandValue === 'circle') {\n      return '100%';\n    }\n\n    if (shortHandValue === 'pill') {\n      return '999em';\n    }\n\n    var themeVariableName = camelize(\"\".concat(propName, \"-\").concat(shortHandValue));\n    var themeVariableValue = componentTheme[themeVariableName];\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(themeVariableValue, \"[\".concat(componentName, \"] '\").concat(themeVariableName, \"' is an invalid '\").concat(propName, \"' value.\"));\n\n    return themeVariableValue || '0';\n  }).join(' ').trim();\n}\n\nexport default getShorthandPropValue;\nexport { getShorthandPropValue };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { camelize } from '@instructure/ui-utils';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Given a prefix and a theme object, prepends the object keys with\n * the designated prefix and camel cases the concatenation.\n *\n * @param {String} prefix - a string to prepend to object keys\n * @param {Object} vars - an object\n * @returns {Object} a modified object with prefixed keys\n */\n\nfunction makeThemeVars(prefix, vars) {\n  var themeVars = {};\n  Object.keys(vars).forEach(function (variable) {\n    themeVars[camelize(\"\".concat(prefix, \"-\").concat(variable))] = vars[variable];\n  });\n  return themeVars;\n}\n\nexport default makeThemeVars;\nexport { makeThemeVars };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * @module mirrorShorthand\n */\n\n/**\n * Mirror shorthand CSS properties for bidirectional text\n *\n * Given a string representing a CSS shorthand for edges,\n * swaps the values such that 4 value syntax is RTL instead\n * of LTR.\n *\n * See the following for further reference:\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties\n *\n * @param {String} values - space delimited string values representing a CSS shorthand\n * @returns {String} a space delimited CSS shorthand string converted to RTL\n */\nfunction mirrorShorthandEdges(values) {\n  if (typeof values !== 'string') {\n    return;\n  }\n\n  var valuesArr = values.split(' ');\n\n  if (valuesArr.length === 4) {\n    // swap the 2nd and 4th values\n    var _ref = [valuesArr[3], valuesArr[1]];\n    valuesArr[1] = _ref[0];\n    valuesArr[3] = _ref[1];\n  }\n\n  return valuesArr.join(' ');\n}\n/**\n * Convert shorthand CSS properties for corners to rtl\n *\n * Given a string representing a CSS shorthand for corners,\n * swaps the values such that 2,3 and 4 value syntax is rtl\n * instead of ltr.\n *\n * See the following for further reference:\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties\n *\n * @param {String} values - space delimited string values representing a CSS shorthand\n * @returns {String} a space delimited CSS shorthand string converted to RTL\n */\n\n\nfunction mirrorShorthandCorners(values) {\n  if (typeof values !== 'string') {\n    return;\n  }\n\n  var valuesArr = values.split(' ');\n\n  if (valuesArr.length === 2) {\n    // swap the 1st and 2nd values\n    var _ref2 = [valuesArr[1], valuesArr[0]];\n    valuesArr[0] = _ref2[0];\n    valuesArr[1] = _ref2[1];\n  }\n\n  if (valuesArr.length === 3) {\n    // convert 3 value syntax to 4 value syntax\n    valuesArr.push(valuesArr[1]);\n  }\n\n  if (valuesArr.length === 4) {\n    var _ref3 = [valuesArr[1], valuesArr[0], valuesArr[3], valuesArr[2]];\n    valuesArr[0] = _ref3[0];\n    valuesArr[1] = _ref3[1];\n    valuesArr[2] = _ref3[2];\n    valuesArr[3] = _ref3[3];\n  }\n\n  return valuesArr.join(' ');\n}\n\nexport { mirrorShorthandEdges, mirrorShorthandCorners };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { mirrorShorthandCorners } from './mirrorShorthand';\nexport default mirrorShorthandCorners;\nexport { mirrorShorthandCorners };","import { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from '@instructure/ui-dom-utils';\nvar hasRan = false;\n/**\n* ---\n* category: utilities/themes\n* ---\n* Sets the document text direction as it's required for themeable component\n* bidirectional styles.\n*/\n\nfunction setTextDirection() {\n  if (hasRan) return;\n  hasRan = true;\n\n  if (canUseDOM) {\n    var dir = document.documentElement.getAttribute('dir');\n\n    if (!dir) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warn(dir, \"[themeable] component styles require setting a 'dir' attribute on the HTML element.\\n        To prevent breaking changes, we'll set it to a default value: 'ltr'.\");\n\n      document.documentElement.setAttribute('dir', 'ltr');\n    }\n  }\n}\n\nexport default setTextDirection;\nexport { setTextDirection };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\nimport { ThemeablePropValues } from './ThemeablePropValues';\nvar SHADOW_TYPES = ThemeablePropValues.SHADOW_TYPES,\n    STACKING_TYPES = ThemeablePropValues.STACKING_TYPES,\n    BORDER_WIDTHS = ThemeablePropValues.BORDER_WIDTHS,\n    BORDER_RADII = ThemeablePropValues.BORDER_RADII,\n    BACKGROUNDS = ThemeablePropValues.BACKGROUNDS,\n    SIZES = ThemeablePropValues.SIZES,\n    SPACING = ThemeablePropValues.SPACING;\n/**\n * ---\n * category: utilities/themes\n * ---\n * Custom prop types for themeable React components.\n * @module ThemeablePropTypes\n */\n\nvar ThemeablePropTypes = {\n  shadow: PropTypes.oneOf(Object.values(SHADOW_TYPES)),\n  stacking: PropTypes.oneOf(Object.values(STACKING_TYPES)),\n  borderWidth: shorthandPropType(Object.values(BORDER_WIDTHS)),\n  borderRadius: shorthandPropType(Object.values(BORDER_RADII)),\n  background: PropTypes.oneOf(Object.values(BACKGROUNDS)),\n  size: PropTypes.oneOf(Object.values(SIZES)),\n  spacing: shorthandPropType(Object.values(SPACING))\n};\n\nfunction shorthandPropType(validValues) {\n  return function (props, propName, componentName, location) {\n    var propValue = props[propName];\n\n    if (typeof propValue === 'undefined') {\n      return;\n    }\n\n    var propValueType = typeof propValue;\n\n    if (propValueType !== 'string') {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` of type `\").concat(propValueType, \"` supplied to `\").concat(componentName, \"`, expected \") + \"a string.\");\n    }\n\n    var propValues = propValue.split(' ');\n    var valuesLength = propValues.length;\n\n    if (valuesLength > 0 && valuesLength < 5) {\n      for (var i = 0; i < valuesLength; i++) {\n        var valueIndex = validValues.indexOf(propValues[i]);\n\n        if (valueIndex === -1) {\n          return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` `\").concat(propValues[i], \"` supplied to `\").concat(componentName, \"`, expected \") + \"a one of `\".concat(validValues.join(', '), \"`.\"));\n        }\n      }\n    } else {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` `\").concat(propValue, \"` supplied to `\").concat(componentName, \"`, expected \") + \"between one and four of the following valid values: `\".concat(validValues.join(', '), \"`.\"));\n    }\n  };\n}\n\nexport default ThemeablePropTypes;\nexport { ThemeablePropTypes, shorthandPropType };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { uid } from '@instructure/uid';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'esvoZ',\n  template: function template(theme) {\n    return \"\\n\\n.esvoZ_bGBk{fill:currentColor}\\n\\n.esvoZ_eXrk{display:inline-block}\\n\\n.esvoZ_cRbP{display:block}\\n\\n.esvoZ_drOs{color:inherit}\\n\\n.esvoZ_eCSh{color:\".concat(theme.primaryColor || 'inherit', \"}\\n\\n.esvoZ_buuG{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.esvoZ_bFtJ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.esvoZ_dsSB{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.esvoZ_eZal{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.esvoZ_cVUo{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.esvoZ_eScd{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.esvoZ_cpQl{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.esvoZ_cUGG{color:\").concat(theme.alertColor || 'inherit', \"}\");\n  },\n  'root': 'esvoZ_bGBk',\n  'inline': 'esvoZ_eXrk',\n  'block': 'esvoZ_cRbP',\n  'color--inherit': 'esvoZ_drOs',\n  'color--primary': 'esvoZ_eCSh',\n  'color--secondary': 'esvoZ_buuG',\n  'color--primary-inverse': 'esvoZ_bFtJ',\n  'color--secondary-inverse': 'esvoZ_dsSB',\n  'color--success': 'esvoZ_eZal',\n  'color--brand': 'esvoZ_cVUo',\n  'color--warning': 'esvoZ_eScd',\n  'color--error': 'esvoZ_cpQl',\n  'color--alert': 'esvoZ_cUGG'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar InlineSVG = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(InlineSVG, _Component);\n\n  function InlineSVG() {\n    var _this;\n\n    _classCallCheck(this, InlineSVG);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InlineSVG).call(this));\n    _this.titleId = uid('InlineSVG-title');\n    _this.descId = uid('InlineSVG-desc');\n    return _this;\n  }\n\n  _createClass(InlineSVG, [{\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var title = this.props.title;\n      return title ? React.createElement(\"title\", {\n        id: this.titleId\n      }, title) : null;\n    }\n  }, {\n    key: \"renderDesc\",\n    value: function renderDesc(desc) {\n      return desc ? React.createElement(\"desc\", {\n        id: this.descId\n      }, desc) : null;\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      if (this.props.src) {\n        var src = InlineSVG.prepareSrc(this.props.src);\n        return React.createElement(\"g\", {\n          role: \"presentation\",\n          dangerouslySetInnerHTML: {\n            __html: src\n          } // eslint-disable-line react/no-danger\n\n        });\n      } else {\n        return React.createElement(\"g\", {\n          role: \"presentation\"\n        }, this.props.children);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          style = _this$props.style,\n          title = _this$props.title,\n          description = _this$props.description,\n          focusable = _this$props.focusable,\n          children = _this$props.children,\n          src = _this$props.src,\n          color = _this$props.color,\n          props = _objectWithoutProperties(_this$props, [\"style\", \"title\", \"description\", \"focusable\", \"children\", \"src\", \"color\"]); // if width or height are 'auto', don't supply anything to the SVG\n\n\n      var width = this.props.width === 'auto' ? null : this.props.width;\n      var height = this.props.height === 'auto' ? null : this.props.height;\n      return React.createElement(\"svg\", Object.assign({}, parseAttributes(this.props.src), omitProps(this.props, InlineSVG.propTypes, ['inline']), {\n        style: _objectSpread({}, style, {\n          width: width,\n          height: height\n        }),\n        width: width,\n        height: height,\n        \"aria-hidden\": title ? null : 'true',\n        \"aria-labelledby\": this.labelledBy,\n        role: this.role,\n        focusable: focusable ? 'true' : 'false',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[\"color--\".concat(color)], color !== 'auto'), _defineProperty(_classnames, styles.inline, this.props.inline), _defineProperty(_classnames, styles.block, !this.props.inline), _defineProperty(_classnames, props.className, props.className), _classnames))\n      }), this.renderTitle(), this.renderDesc(description), this.renderContent());\n    }\n  }, {\n    key: \"role\",\n    get: function get() {\n      if (this.props.title) {\n        return 'img';\n      } else {\n        return 'presentation';\n      }\n    }\n  }, {\n    key: \"labelledBy\",\n    get: function get() {\n      var ids = [];\n\n      if (this.props.title) {\n        ids.push(this.titleId);\n      }\n\n      if (this.props.description) {\n        ids.push(this.descId);\n      }\n\n      return ids.length > 0 ? ids.join(' ') : null;\n    }\n  }]);\n\n  InlineSVG.displayName = \"InlineSVG\";\n  return InlineSVG;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  src: PropTypes.string,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  focusable: PropTypes.bool,\n\n  /**\n   * To let the SVG expand to fill its container, use `auto`\n   */\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * To let the SVG expand to fill its container, use `auto`\n   */\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  inline: PropTypes.bool,\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand', 'auto'])\n}, _class2.defaultProps = {\n  focusable: false,\n  src: '',\n  title: '',\n  description: '',\n  inline: true,\n  children: null,\n  width: '1em',\n  height: '1em',\n  color: 'inherit'\n}, _class2.prepareSrc = function (src) {\n  var pattern = /<svg[^>]*>((.|[\\n\\r])*)<\\/svg>/;\n  var matches = pattern.exec(src);\n  return matches ? matches[1] : src;\n}, _temp)) || _class) || _class);\n\nfunction parseAttributes(src) {\n  var attributes = {};\n  var SVGAttributesRegExp = /<svg\\s+([^>]*)\\s*>/;\n  var namesAndValuesRegExp = /(\\S+)=[\"']?((?:.(?![\"']?\\s+(?:\\S+)=|[>\"']))+.)[\"']?/g;\n\n  if (typeof src === 'string') {\n    var attributesMatches = SVGAttributesRegExp.exec(src);\n    var attributesString = attributesMatches ? attributesMatches[1] : '';\n    var excludes = ['xmlns', 'xmlns:xlink', 'version'];\n    var match = namesAndValuesRegExp.exec(attributesString);\n\n    while (match != null) {\n      if (excludes.indexOf(match[1]) === -1) {\n        attributes[match[1]] = match[2] || (match[3] ? match[3] : match[4] ? match[4] : match[5]) || match[1]; // eslint-disable-line no-nested-ternary, max-len\n      }\n\n      match = namesAndValuesRegExp.exec(attributesString);\n    }\n  }\n\n  return attributes;\n}\n\nexport default InlineSVG;\nexport { InlineSVG };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { cleanCss } from './parseCss';\nexport default cleanCss;\nexport { cleanCss };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { ruleTypes } from './parseCss';\nexport default ruleTypes;\nexport { ruleTypes };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport isPropValid from '@emotion/is-prop-valid'; // list of \"valid\" props https://github.com/emotion-js/emotion/blob/master/packages/is-prop-valid/src/props.js\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar omit = function omit(originalObject, keys) {\n  // code based on babel's _objectWithoutProperties\n  var newObject = {};\n\n  for (var key in originalObject) {\n    // special case because we always want to omit these and === is faster than concat'ing them in\n    if (key === 'theme' || key === 'children' || key === 'className' || key === 'style') continue;\n    if (keys.includes(key) || !hasOwnProperty.call(originalObject, key)) continue;\n    newObject[key] = originalObject[key];\n  }\n\n  return newObject;\n};\n\nfunction omitProps(props, propTypes, exclude) {\n  var keys = Object.keys(propTypes || {});\n  var combined = exclude ? keys.concat(exclude) : keys;\n  return omit(props, combined);\n} // this was the fastest implementation from testing: https://jsperf.com/pick-props\n\n\nfunction pick(obj, keys) {\n  var res = {};\n  var len = keys.length;\n  var idx = -1;\n  var key;\n\n  while (++idx < len) {\n    key = keys[idx];\n\n    if (key in obj) {\n      res[key] = obj[key];\n    }\n  }\n\n  return res;\n}\n\nfunction pickProps(props, propTypes, include) {\n  var keys = Object.keys(propTypes || {});\n  var combined = include ? keys.concat(include) : keys;\n  return pick(props, combined);\n}\n\nfunction passthroughProps(props) {\n  var validProps = {};\n  Object.keys(props) // style and className need to be explicitly passed through\n  .filter(function (propName) {\n    return isPropValid(propName) && propName !== 'style' && propName !== 'className' && propName !== 'children';\n  }).forEach(function (propName) {\n    validProps[propName] = props[propName];\n  });\n  return validProps;\n}\n\nexport { pickProps, omitProps, passthroughProps };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nexport default function generator(_ref) {\n  var colors = _ref.colors;\n  return {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    alertColor: colors.textAlert,\n    successColor: colors.textSuccess\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { InlineSVG } from '../InlineSVG';\nvar styles = {\n  componentId: 'cGqzL',\n  template: function template(theme) {\n    return \"\\n\\n.cGqzL_bGBk{height:1em;line-height:1;vertical-align:middle;width:1em}\\n\\n.cGqzL_cwgF{transform:rotate(90deg)}\\n\\n.cGqzL_exaY{transform:rotate(180deg)}\\n\\n.cGqzL_dTDN{transform:rotate(270deg)}\\n\\n[dir=rtl] .cGqzL_owrh{transform:scaleX(-1)}\\n\\n[dir=rtl] .cGqzL_owrh.cGqzL_cwgF{transform:scaleX(-1) rotate(90deg)}\\n\\n[dir=rtl] .cGqzL_owrh .cGqzL_exaY{transform:scaleX(-1) rotate(180deg)}\\n\\n[dir=rtl] .cGqzL_owrh .cGqzL_dTDN{transform:scaleX(-1) rotate(270deg)}\\n\\n.cGqzL_dIzR{font-size:\".concat(theme.sizeXSmall || 'inherit', \"}\\n\\n.cGqzL_VCXp{font-size:\").concat(theme.sizeSmall || 'inherit', \"}\\n\\n.cGqzL_fKcQ{font-size:\").concat(theme.sizeMedium || 'inherit', \"}\\n\\n.cGqzL_cnhd{font-size:\").concat(theme.sizeLarge || 'inherit', \"}\\n\\n.cGqzL_fWMB{font-size:\").concat(theme.sizeXLarge || 'inherit', \"}\");\n  },\n  'root': 'cGqzL_bGBk',\n  'rotate--90': 'cGqzL_cwgF',\n  'rotate--180': 'cGqzL_exaY',\n  'rotate--270': 'cGqzL_dTDN',\n  'bidirectional': 'cGqzL_owrh',\n  'size--x-small': 'cGqzL_dIzR',\n  'size--small': 'cGqzL_VCXp',\n  'size--medium': 'cGqzL_fKcQ',\n  'size--large': 'cGqzL_cnhd',\n  'size--x-large': 'cGqzL_fWMB'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar SVGIcon = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SVGIcon, _Component);\n\n  function SVGIcon() {\n    _classCallCheck(this, SVGIcon);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SVGIcon).apply(this, arguments));\n  }\n\n  _createClass(SVGIcon, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          rotate = _this$props.rotate,\n          className = _this$props.className,\n          size = _this$props.size,\n          bidirectional = _this$props.bidirectional,\n          props = _objectWithoutProperties(_this$props, [\"rotate\", \"className\", \"size\", \"bidirectional\"]);\n\n      return React.createElement(InlineSVG, Object.assign({}, props, {\n        rotate: rotate,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[\"rotate--\".concat(rotate)], rotate && rotate !== '0'), _defineProperty(_classnames, styles[\"size--\".concat(size)], size), _defineProperty(_classnames, styles.bidirectional, bidirectional), _defineProperty(_classnames, className, className), _classnames))\n      }));\n    }\n  }]);\n\n  SVGIcon.displayName = \"SVGIcon\";\n  return SVGIcon;\n}(Component), _class2.propTypes = _objectSpread({}, InlineSVG.propTypes, {\n  rotate: PropTypes.oneOf(['0', '90', '180', '270']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large']),\n  bidirectional: PropTypes.bool\n}), _class2.defaultProps = {\n  rotate: '0',\n  bidirectional: false,\n  size: void 0\n}, _temp)) || _class) || _class);\nexport default SVGIcon;\nexport { SVGIcon };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator() {\n  return {\n    sizeXSmall: '1.125rem',\n    sizeSmall: '2rem',\n    sizeMedium: '3rem',\n    sizeLarge: '5rem',\n    sizeXLarge: '10rem'\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1807.059 1637.706c0 31.172-25.412 56.47-56.47 56.47H169.411c-31.06 0-56.47-25.298-56.47-56.47V225.94h590.907L854.4 451.824H225.882v112.94H1807.06v1072.942zM990.269 451.824L764.385 113H0v1524.706c0 93.402 76.01 169.412 169.412 169.412h1581.176c93.403 0 169.412-76.01 169.412-169.412V451.824H990.268z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconFolderLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconFolderLine, _Component);\n\n  function IconFolderLine() {\n    _classCallCheck(this, IconFolderLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconFolderLine).apply(this, arguments));\n  }\n\n  _createClass(IconFolderLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconFolder\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconFolderLine.displayName = \"IconFolderLine\";\n  return IconFolderLine;\n}(Component);\n\nIconFolderLine.glyphName = 'folder';\nIconFolderLine.variant = 'Line';\nIconFolderLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconFolderLine;\nexport { IconFolderLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1706.235 1807.059H350.941V112.94h903.53v451.765h451.764v1242.353zm-338.823-1670.74l315.443 315.447h-315.443V136.32zm402.182 242.487L1440.372 49.58C1408.296 17.62 1365.717 0 1320.542 0H238v1920h1581.175V498.635c0-45.176-17.618-87.755-49.58-119.83zM576.823 1242.353h790.589v-112.94H576.823v112.94zm0-451.765h903.53V677.647h-903.53v112.941zm0 677.647h451.765v-112.941H576.823v112.941zm0-451.764h677.648V903.53H576.823v112.941zm0-451.765h451.765V451.765H576.823v112.941z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconDocumentLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconDocumentLine, _Component);\n\n  function IconDocumentLine() {\n    _classCallCheck(this, IconDocumentLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconDocumentLine).apply(this, arguments));\n  }\n\n  _createClass(IconDocumentLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconDocument\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconDocumentLine.displayName = \"IconDocumentLine\";\n  return IconDocumentLine;\n}(Component);\n\nIconDocumentLine.glyphName = 'document';\nIconDocumentLine.variant = 'Line';\nIconDocumentLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconDocumentLine;\nexport { IconDocumentLine };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities\n * ---\n * Wraps (decorates) a React component to add additional functionality\n *\n * @module decorator\n * @param {Function} decorator a function that returns a decorated component\n * @returns {Class} a decorated component class\n */\nfunction decorator(decorate) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return function (ComposedComponent) {\n      if (typeof decorate === 'function') {\n        var displayName = ComposedComponent.displayName || ComposedComponent.name;\n        var DecoratedComponent = decorate.apply(void 0, [ComposedComponent].concat(args));\n        DecoratedComponent.displayName = displayName;\n        return DecoratedComponent;\n      } else {\n        return ComposedComponent;\n      }\n    };\n  };\n}\n\nexport default decorator;\nexport { decorator };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2018 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM, getComputedStyle } from '@instructure/ui-dom-utils';\nvar defaultDir, dirAttribute, observer;\n\nvar getDefaultDir = function getDefaultDir() {\n  /**\n   * use a cached value for the default of <html> element's \"dir\" so we don't\n   * have to call the expensive getComputedStyle to look it it up every time\n   */\n  if (defaultDir) {\n    return defaultDir;\n  }\n\n  if (canUseDOM) {\n    var htmlEl = document.documentElement;\n    dirAttribute = htmlEl.getAttribute('dir');\n    defaultDir = dirAttribute || getComputedStyle(htmlEl).direction;\n\n    if (!observer) {\n      observer = new MutationObserver(function () {\n        var attr = htmlEl.getAttribute('dir');\n\n        if (attr && attr !== dirAttribute) {\n          dirAttribute = defaultDir = attr;\n        }\n      });\n      observer.observe(htmlEl, {\n        attributes: true\n      });\n    }\n\n    return defaultDir;\n  }\n};\n/**\n * ---\n * category: utilities/i18n\n * ---\n *\n * Return the direction ('ltr' or 'rtl') of an element\n * @param {Element} element will use the <html> element by default\n * @returns {String} 'ltr' or 'rtl' (or `undefined` if no DOM is present)\n */\n\n\nfunction getTextDirection(element) {\n  if (canUseDOM) {\n    if (typeof element === 'undefined' || element === document.documentElement) return getDefaultDir();\n    return element.getAttribute('dir') || getComputedStyle(element).direction;\n  }\n}\n\nexport default getTextDirection;\nexport { getTextDirection };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\n/**\n * ---\n * category: utilities/i18n\n * ---\n * @module TextDirectionContext\n */\n\nvar CONTEXT_KEY = '@@bidirectional';\nvar DIRECTION = {\n  ltr: 'ltr',\n  rtl: 'rtl'\n};\nvar TextDirectionContext = {\n  CONTEXT_KEY: CONTEXT_KEY,\n  DIRECTION: DIRECTION,\n\n  /**\n   * React context types for [bidirectional](#bidirectional) components and\n   * the [ApplyTextDirection](#ApplyTextDirection) component.\n   */\n  types: _defineProperty({}, CONTEXT_KEY, PropTypes.shape({\n    dir: PropTypes.oneOf(Object.values(DIRECTION))\n  })),\n\n  /**\n   * create direction context\n   * @param {string} dir\n   */\n  makeTextDirectionContext: function makeTextDirectionContext(dir) {\n    return _defineProperty({}, CONTEXT_KEY, {\n      dir: dir\n    });\n  },\n\n  /**\n   * get a direction context from a context object\n   * @param {ReactContext} context React context object\n   * @returns {Object} a direction context object\n   */\n  getTextDirectionContext: function getTextDirectionContext(context) {\n    if (context) {\n      return context[CONTEXT_KEY];\n    }\n  }\n};\nexport default TextDirectionContext;\nexport { TextDirectionContext };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\nimport { decorator } from '@instructure/ui-decorator';\nimport { TextDirectionContext } from './TextDirectionContext';\nimport { getTextDirection } from './getTextDirection';\nvar DIRECTION = TextDirectionContext.DIRECTION,\n    getTextDirectionContext = TextDirectionContext.getTextDirectionContext;\n/**\n* ---\n* category: utilities/i18n\n* ---\n* A decorator or higher order component that makes a component `bidirectional`.\n*\n* As a HOC:\n*\n* ```js\n* import { bidirectional } from '@instructure/ui-i18n'\n*\n* class Example extends React.Component {\n*   render () {\n*     return this.dir === bidirectional.DIRECTION.rtl ? <div>rtl</div> : <div>ltr</div>\n*   }\n* }\n*\n* export default bidirectional()(Example)\n* ```\n*\n* When used as a child of [ApplyTextDirection](#ApplyTextDirection), bidirectional components use\n* the direction provided in the context. When used without [ApplyTextDirection](#ApplyTextDirection),\n* the direction can be supplied explicitly via the `dir` prop. If no `dir` prop is provided,\n* bidirectional components query the documentElement for the `dir` attribute, defaulting to `ltr`\n* if it is not present.\n*\n* @return {function} composes the bidirectional component.\n*/\n\nvar bidirectional = decorator(function (ComposedComponent) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_ComposedComponent) {\n    _inherits(BidirectionalComponent, _ComposedComponent);\n\n    function BidirectionalComponent() {\n      _classCallCheck(this, BidirectionalComponent);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(BidirectionalComponent).apply(this, arguments));\n    }\n\n    _createClass(BidirectionalComponent, [{\n      key: \"dir\",\n      get: function get() {\n        var context = getTextDirectionContext(this.context) || {};\n        return context.dir || this.props.dir || getTextDirection();\n      }\n    }, {\n      key: \"rtl\",\n      get: function get() {\n        return this.dir === DIRECTION.rtl;\n      }\n    }, {\n      key: \"ltr\",\n      get: function get() {\n        return this.dir === DIRECTION.ltr;\n      }\n    }]);\n\n    return BidirectionalComponent;\n  }(ComposedComponent), _class.propTypes = _objectSpread({}, ComposedComponent.propTypes, {\n    dir: PropTypes.oneOf(Object.values(TextDirectionContext.DIRECTION))\n  }), _class.contextTypes = _objectSpread({}, ComposedComponent.contextTypes, {}, TextDirectionContext.types), _temp;\n});\nbidirectional.DIRECTION = DIRECTION;\nexport default bidirectional;\nexport { bidirectional };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warnDeprecated as _warnDeprecated } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { decorator } from '@instructure/ui-decorator';\n\nvar deprecated = function () {\n  if (process.env.NODE_ENV === 'production') {\n    var _deprecated = function _deprecated() {\n      return function (ComposedComponent) {\n        return ComposedComponent;\n      };\n    };\n\n    _deprecated.deprecatePropValues = function () {};\n\n    _deprecated.warnDeprecatedProps = function () {};\n\n    _deprecated.warnDeprecatedComponent = function () {};\n\n    _deprecated.changedPackageWarning = function () {};\n\n    return _deprecated;\n  }\n\n  var deprecated = decorator(function (ComposedComponent, version, oldProps, message) {\n    /**\n    * ---\n    * category: utilities/react\n    * ---\n    * Deprecate React component props. Warnings will display in the console when deprecated\n    * props are used. Include the version number when the deprecated component will be removed.\n    *\n    * ```js\n    *  class Example extends Component {\n    *    static propTypes = {\n    *      currentProp: PropTypes.func\n    *    }\n    *  }\n    *  export default deprecated('7.0.0', {\n    *    deprecatedProp: 'currentProp',\n    *    nowNonExistentProp: true\n    *  })(Example)\n    * ```\n    *\n    * @param {string} version\n    * @param {object} oldProps (if this argument is null or undefined, the entire component is deprecated)\n    * @param {string} message\n    * @return {function} React component with deprecated props behavior\n    * @module deprecated\n    */\n    var DeprecatedComponent =\n    /*#__PURE__*/\n    function (_ComposedComponent) {\n      _inherits(DeprecatedComponent, _ComposedComponent);\n\n      function DeprecatedComponent() {\n        _classCallCheck(this, DeprecatedComponent);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(DeprecatedComponent).apply(this, arguments));\n      }\n\n      return DeprecatedComponent;\n    }(ComposedComponent);\n\n    DeprecatedComponent.prototype.componentDidMount = function () {\n      if (oldProps) {\n        warnDeprecatedProps(ComposedComponent.displayName, version, this.props, oldProps, message);\n      } else {\n        warnDeprecatedComponent(version, ComposedComponent.displayName, message);\n      }\n\n      if (ComposedComponent.prototype.componentDidMount) {\n        ComposedComponent.prototype.componentDidMount.call(this);\n      }\n    };\n\n    DeprecatedComponent.prototype.componentDidUpdate = function (prevProps, prevState, prevContext) {\n      if (oldProps) {\n        warnDeprecatedProps(ComposedComponent.displayName, version, this.props, oldProps, message);\n      } else {\n        warnDeprecatedComponent(version, ComposedComponent.displayName, message);\n      }\n\n      if (ComposedComponent.prototype.componentDidUpdate) {\n        ComposedComponent.prototype.componentDidUpdate.call(this, prevProps, prevState, prevContext);\n      }\n    };\n\n    return DeprecatedComponent;\n  });\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * Trigger a console warning if the specified prop variant is deprecated\n   *\n   * @param {function} propType - validates the prop type. Returns null if valid, error otherwise\n   * @param {array} deprecated - an array of the deprecated variant names\n   * @param {string|function} message - a string with additional information (like the version the prop will be removed) or a function returning a string\n   */\n\n  deprecated.deprecatePropValues = function (propType) {\n    var deprecated = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    var message = arguments.length > 2 ? arguments[2] : void 0;\n    return function (props, propName, componentName) {\n      var isDeprecatedValue = deprecated.includes(props[propName]);\n      var warningMessage = message && typeof message === 'function' ? message({\n        props: props,\n        propName: propName,\n        propValue: props[propName]\n      }) : \"The '\".concat(props[propName], \"' value for the `\").concat(propName, \"` prop is deprecated. \").concat(message || '');\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warnDeprecated(!isDeprecatedValue, \"[\".concat(componentName, \"] \").concat(warningMessage));\n\n      for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        rest[_key - 3] = arguments[_key];\n      }\n\n      return isDeprecatedValue ? null : propType.apply(void 0, [props, propName, componentName].concat(rest));\n    };\n  };\n\n  function warnDeprecatedProps(componentName, version, props, oldProps) {\n    var message = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : '';\n    Object.keys(oldProps).forEach(function (oldProp) {\n      if (typeof props[oldProp] !== 'undefined') {\n        var newProp = typeof oldProps[oldProp] === 'string' ? oldProps[oldProp] : null;\n        var newPropMessage = newProp ? \". Use `\".concat(newProp, \"` instead\") : '';\n\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warnDeprecated(false, \"[\".concat(componentName, \"] `\").concat(oldProp, \"` is deprecated and will be removed in version \").concat(version).concat(newPropMessage, \". \").concat(message));\n      }\n    });\n  }\n\n  deprecated.warnDeprecatedProps = warnDeprecatedProps;\n\n  function warnDeprecatedComponent(version, componentName, message) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warnDeprecated(false, \"[\".concat(componentName, \"] is deprecated and will be removed in version \").concat(version, \". \").concat(message || ''));\n  }\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * @param {String} version the version of the package in which the component or function was deprecated\n   * @param {String} componentName the displayName of the component or Function.name of the utility function\n   * @param {String} message a message to display as a console error in DEV env when condition is false\n   */\n\n\n  deprecated.warnDeprecatedComponent = warnDeprecatedComponent;\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * @param {String} prevPackage the previous name of the package\n   * @param {String} newPackage the new version of the package\n   * @return {String} the formatted warning string\n   */\n\n  deprecated.changedPackageWarning = function (prevPackage, newPackage) {\n    return \"It has been moved from @instructure/\".concat(prevPackage, \" to @instructure/\").concat(newPackage, \".\");\n  };\n\n  return deprecated;\n}();\n\nexport default deprecated;\nexport { deprecated };","import { warn as _warn } from \"@instructure/console\";\n\nfunction getElementType(Component, props, getDefault) {\n  if (props.as && props.as !== Component.defaultProps.as) {\n    return props.as;\n  }\n\n  if (typeof getDefault === 'function') {\n    return getDefault();\n  }\n\n  if (props.href) {\n    return 'a';\n  }\n\n  if (props.to) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn( // if to prop is used without as\n    !props.as, \"[\".concat(Component.displayName, \"] `as` prop should be provided when using `to`\"));\n\n    return 'a';\n  }\n\n  if (typeof props.onClick === 'function') {\n    return 'button';\n  }\n\n  return Component.defaultProps.as || 'span';\n}\n\nexport default getElementType;\nexport { getElementType };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nimport { makeThemeVars } from '@instructure/ui-themeable';\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      shadows = _ref.shadows,\n      stacking = _ref.stacking,\n      breakpoints = _ref.breakpoints,\n      transitions = _ref.transitions;\n  return _objectSpread({\n    fontFamily: typography.fontFamily,\n    color: colors.textDarkest,\n    colorPrimaryInverse: colors.textLightest,\n    borderStyle: borders.style,\n    borderColorPrimary: colors.borderMedium,\n    borderColorSecondary: colors.borderDark,\n    borderColorSuccess: colors.borderSuccess,\n    borderColorBrand: colors.borderBrand,\n    borderColorInfo: colors.borderInfo,\n    borderColorAlert: colors.borderAlert,\n    borderColorWarning: colors.borderWarning,\n    borderColorDanger: colors.borderDanger,\n    borderColorTransparent: 'transparent',\n    borderRadiusSmall: borders.radiusSmall,\n    borderRadiusMedium: borders.radiusMedium,\n    borderRadiusLarge: borders.radiusLarge,\n    debugOutlineColor: colors.borderDebug,\n    backgroundPrimary: colors.backgroundLightest,\n    backgroundSecondary: colors.backgroundLight,\n    backgroundPrimaryInverse: colors.backgroundDarkest,\n    backgroundBrand: colors.backgroundBrand,\n    backgroundInfo: colors.backgroundInfo,\n    backgroundAlert: colors.backgroundAlert,\n    backgroundSuccess: colors.backgroundSuccess,\n    backgroundDanger: colors.backgroundDanger,\n    backgroundWarning: colors.backgroundWarning,\n    arrowSize: '0.5rem',\n    focusOutlineStyle: borders.style,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineOffset: '0.3125rem',\n    focusOutlineInset: '0rem',\n    // do not use unitless zero (for CSS calc())\n    focusColorInfo: colors.borderInfo,\n    focusColorDanger: colors.borderDanger,\n    focusColorSuccess: colors.borderSuccess,\n    focusColorInverse: colors.borderLightest,\n    xSmallMaxWidth: breakpoints.xSmall,\n    smallMaxWidth: breakpoints.small,\n    mediumMaxWidth: breakpoints.medium,\n    largeMaxWidth: breakpoints.large\n  }, makeThemeVars('margin', spacing), {}, makeThemeVars('padding', spacing), {}, makeThemeVars('shadow', shadows), {}, makeThemeVars('stacking', stacking), {}, makeThemeVars('border', borders));\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusColorInfo: variables['ic-brand-primary'],\n    backgroundBrand: variables['ic-brand-primary'],\n    backgroundInfo: variables['ic-brand-primary'],\n    borderColorBrand: variables['ic-brand-primary'],\n    borderColorInfo: variables['ic-brand-primary']\n  };\n};\n\ngenerator['canvas-ams'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    focusColorInfo: colors.borderBrand\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { createThemeAdapter } from '@instructure/ui-themeable';\nvar map = {\n  borderColorDefault: 'borderColorPrimary',\n  borderColorInverse: 'borderColorTransparent',\n  colorInverse: 'colorPrimaryInverse',\n  background: 'backgroundPrimary',\n  backgroundLight: 'backgroundSecondary',\n  backgroundInverse: 'backgroundPrimaryInverse'\n};\nexport var themeAdapter = createThemeAdapter({\n  map: map,\n  version: '8.0.0'\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable, getShorthandPropValue, ThemeablePropTypes, mirrorShorthandEdges, mirrorShorthandCorners } from '@instructure/ui-themeable';\nimport { getComputedStyle } from '@instructure/ui-dom-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { cursor as cursorPropTypes } from '@instructure/ui-prop-types';\nimport { getElementType, omitProps, pickProps, passthroughProps, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fOyUs',\n  template: function template(theme) {\n    return \"\\n\\n.fOyUs_bGBk{box-sizing:border-box;font-family:\".concat(theme.fontFamily || 'inherit', \";max-width:100%;overflow:visible}\\n\\n.fOyUs_bMes{display:inline}\\n\\n.fOyUs_UeJS{display:block}\\n\\n.fOyUs_cuDs{display:inline-block;vertical-align:middle}\\n\\n.fOyUs_desw{display:flex}\\n\\n.fOyUs_cKQL{display:inline-flex;vertical-align:middle}\\n\\n.fOyUs_EMjX{text-align:start}\\n\\n[dir=ltr] .fOyUs_EMjX{text-align:left}\\n\\n[dir=rtl] .fOyUs_EMjX{text-align:right}\\n\\n.fOyUs_ImeN,[dir=ltr] .fOyUs_ImeN,[dir=rtl] .fOyUs_ImeN{text-align:center}\\n\\n.fOyUs_dBtH{text-align:end}\\n\\n[dir=ltr] .fOyUs_dBtH{text-align:right}\\n\\n[dir=rtl] .fOyUs_dBtH{text-align:left}\\n\\n.fOyUs_fFew{outline:0.0625rem dashed \").concat(theme.debugOutlineColor || 'inherit', \"}\\n\\n.fOyUs_dnJm{border-style:\").concat(theme.borderStyle || 'inherit', \"}\\n\\n.fOyUs_eiMX,.fOyUs_dzKA{border-color:\").concat(theme.borderColorTransparent || 'inherit', \"}\\n\\n.fOyUs_dsNY,.fOyUs_tIxX{border-color:\").concat(theme.borderColorPrimary || 'inherit', \"}\\n\\n.fOyUs_fuLg{border-color:\").concat(theme.borderColorSecondary || 'inherit', \"}\\n\\n.fOyUs_cLjf{border-color:\").concat(theme.borderColorBrand || 'inherit', \"}\\n\\n.fOyUs_cXDj{border-color:\").concat(theme.borderColorInfo || 'inherit', \"}\\n\\n.fOyUs_fjbA{border-color:\").concat(theme.borderColorSuccess || 'inherit', \"}\\n\\n.fOyUs_fBpf{border-color:\").concat(theme.borderColorWarning || 'inherit', \"}\\n\\n.fOyUs_bMrG{border-color:\").concat(theme.borderColorAlert || 'inherit', \"}\\n\\n.fOyUs_fdvn{border-color:\").concat(theme.borderColorDanger || 'inherit', \"}\\n\\n.fOyUs_fKyb{background:none;color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_fZwI,.fOyUs_kXoP{background:\").concat(theme.backgroundPrimary || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_dUgE,.fOyUs_bvKN{background:\").concat(theme.backgroundSecondary || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_fzxW,.fOyUs_elGp{background:\").concat(theme.backgroundPrimaryInverse || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_NGNZ{background:\").concat(theme.backgroundBrand || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fYBY{background:\").concat(theme.backgroundInfo || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_feZy{background:\").concat(theme.backgroundAlert || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_qidh{background:\").concat(theme.backgroundSuccess || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fKOP{background:\").concat(theme.backgroundDanger || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_eOYc{background:\").concat(theme.backgroundWarning || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fQrx{z-index:\").concat(theme.stackingTopmost || 'inherit', \"}\\n\\n.fOyUs_dtZX{z-index:\").concat(theme.stackingAbove || 'inherit', \"}\\n\\n.fOyUs_fCiV{z-index:\").concat(theme.stackingBelow || 'inherit', \"}\\n\\n.fOyUs_dJEE{z-index:\").concat(theme.stackingDeepest || 'inherit', \"}\\n\\n.fOyUs_fxuY{box-shadow:\").concat(theme.shadowTopmost || 'inherit', \"}\\n\\n.fOyUs_bxuL{box-shadow:\").concat(theme.shadowResting || 'inherit', \"}\\n\\n.fOyUs_bIta{box-shadow:\").concat(theme.shadowAbove || 'inherit', \"}\\n\\n.fOyUs_fhgP{overflow-x:hidden}\\n\\n.fOyUs_dzYG{overflow-x:auto}\\n\\n.fOyUs_divt{overflow-y:hidden}\\n\\n.fOyUs_fKlg{overflow-y:auto}\\n\\n.fOyUs_cBHs{position:relative}\\n\\n.fOyUs_cSap{position:fixed}\\n\\n.fOyUs_fuLp{position:absolute}\\n\\n.fOyUs_bZzT{position:-webkit-sticky;position:sticky}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs:before{border-color:\").concat(theme.focusOutlineColorDefault || 'inherit', \";border-style:\").concat(theme.focusOutlineStyle || 'inherit', \";border-width:\").concat(theme.focusOutlineWidth || 'inherit', \";content:\\\"\\\";opacity:0;pointer-events:none;position:absolute}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cnfU:before{transform:scale(0.95);transition:all 0.2s}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr:before{bottom:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);left:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);right:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);top:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1)}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB:before{bottom:\").concat(theme.focusOutlineInset || 'inherit', \";left:\").concat(theme.focusOutlineInset || 'inherit', \";right:\").concat(theme.focusOutlineInset || 'inherit', \";top:\").concat(theme.focusOutlineInset || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_beQo:before{border-radius:inherit}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bnCe:before{border-radius:0}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs:focus{outline:none}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fmDy:focus:before,.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_dvYc:before{opacity:1;transform:scale(1)}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fuTR:before{border-color:\").concat(theme.focusColorInfo || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_dwHj:before{border-color:\").concat(theme.focusColorInverse || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_NhxI:before{border-color:\").concat(theme.focusColorSuccess || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fsVi:before{border-color:\").concat(theme.focusColorDanger || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes{outline-style:none}\\n\\n.fOyUs_eWbJ.fOyUs_bMes:before{border-style:none}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_bFwB.fOyUs_fmDy:focus,.fOyUs_eWbJ.fOyUs_bMes.fOyUs_bFwB.fOyUs_dvYc{outline-style:\").concat(theme.focusOutlineStyle || 'inherit', \";outline-width:\").concat(theme.focusOutlineWidth || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_fuTR{outline-color:\").concat(theme.focusColorInfo || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_dwHj{outline-color:\").concat(theme.focusColorInverse || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_fsVi{outline-color:\").concat(theme.focusColorDanger || 'inherit', \"}\");\n  },\n  'root': 'fOyUs_bGBk',\n  'display--inline': 'fOyUs_bMes',\n  'display--block': 'fOyUs_UeJS',\n  'display--inline-block': 'fOyUs_cuDs',\n  'display--flex': 'fOyUs_desw',\n  'display--inline-flex': 'fOyUs_cKQL',\n  'textAlign--start': 'fOyUs_EMjX',\n  'textAlign--center': 'fOyUs_ImeN',\n  'textAlign--end': 'fOyUs_dBtH',\n  'withVisualDebug': 'fOyUs_fFew',\n  'withBorder': 'fOyUs_dnJm',\n  'borderColor--inverse': 'fOyUs_eiMX',\n  'borderColor--transparent': 'fOyUs_dzKA',\n  'borderColor--default': 'fOyUs_dsNY',\n  'borderColor--primary': 'fOyUs_tIxX',\n  'borderColor--secondary': 'fOyUs_fuLg',\n  'borderColor--brand': 'fOyUs_cLjf',\n  'borderColor--info': 'fOyUs_cXDj',\n  'borderColor--success': 'fOyUs_fjbA',\n  'borderColor--warning': 'fOyUs_fBpf',\n  'borderColor--alert': 'fOyUs_bMrG',\n  'borderColor--danger': 'fOyUs_fdvn',\n  'background--transparent': 'fOyUs_fKyb',\n  'background--default': 'fOyUs_fZwI',\n  'background--primary': 'fOyUs_kXoP',\n  'background--light': 'fOyUs_dUgE',\n  'background--secondary': 'fOyUs_bvKN',\n  'background--inverse': 'fOyUs_fzxW',\n  'background--primary-inverse': 'fOyUs_elGp',\n  'background--brand': 'fOyUs_NGNZ',\n  'background--info': 'fOyUs_fYBY',\n  'background--alert': 'fOyUs_feZy',\n  'background--success': 'fOyUs_qidh',\n  'background--danger': 'fOyUs_fKOP',\n  'background--warning': 'fOyUs_eOYc',\n  'stacking--topmost': 'fOyUs_fQrx',\n  'stacking--above': 'fOyUs_dtZX',\n  'stacking--below': 'fOyUs_fCiV',\n  'stacking--deepest': 'fOyUs_dJEE',\n  'shadow--topmost': 'fOyUs_fxuY',\n  'shadow--resting': 'fOyUs_bxuL',\n  'shadow--above': 'fOyUs_bIta',\n  'overflowX--hidden': 'fOyUs_fhgP',\n  'overflowX--auto': 'fOyUs_dzYG',\n  'overflowY--hidden': 'fOyUs_divt',\n  'overflowY--auto': 'fOyUs_fKlg',\n  'position--relative': 'fOyUs_cBHs',\n  'position--fixed': 'fOyUs_cSap',\n  'position--absolute': 'fOyUs_fuLp',\n  'position--sticky': 'fOyUs_bZzT',\n  'focus': 'fOyUs_eWbJ',\n  'focusAnimation': 'fOyUs_cnfU',\n  'focusPosition--offset': 'fOyUs_cBtr',\n  'focusPosition--inset': 'fOyUs_bFwB',\n  'focusRing--radiusInherit': 'fOyUs_beQo',\n  'focusRing--radiusNone': 'fOyUs_bnCe',\n  'focusRing--radiusSmall': 'fOyUs_cmRt',\n  'focusRing--radiusMedium': 'fOyUs_eeJl',\n  'focusRing--radiusLarge': 'fOyUs_TYCL',\n  'shouldUseBrowserFocus': 'fOyUs_fmDy',\n  'withFocusOutline': 'fOyUs_dvYc',\n  'focusColor--info': 'fOyUs_fuTR',\n  'focusColor--inverse': 'fOyUs_dwHj',\n  'focusColor--success': 'fOyUs_NhxI',\n  'focusColor--danger': 'fOyUs_fsVi'\n};\nimport theme from './theme';\nimport { themeAdapter } from './themeAdapter';\n/**\n---\ncategory: components\n---\n@module View\n**/\n\nvar View = (_dec = deprecated('8.0.0', {\n  focused: 'withFocusOutline',\n  visualDebug: 'withVisualDebug'\n}), _dec2 = bidirectional(), _dec3 = themeable(theme, styles, themeAdapter), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(View, _Component);\n\n  function View() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, View);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(View)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      if (typeof _this.props.elementRef === 'function') {\n        _this.props.elementRef(el);\n      }\n\n      _this._element = el;\n    };\n\n    _this.verifyUniformValues = function (initialValue, input) {\n      if (typeof input !== 'string') return false;\n      return input.trim().split(' ').every(function (value) {\n        return initialValue === value;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Not calling getComputedStyle can save hundreds of ms in tests and production\n      if (process.env.NODE_ENV === 'development') {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(!\n        /*#__PURE__*/\n        function verifySpanMargin(element, margin) {\n          if (!element) {\n            return;\n          }\n\n          var marginValues = margin ? margin.split(' ') : null;\n          var display = getComputedStyle(element).display;\n          var verticalMargin = false; // either top or bottom margin are set\n\n          if (margin) {\n            if (marginValues[0] && marginValues[0] !== 'none' && marginValues[0] !== '0') {\n              verticalMargin = true;\n            }\n\n            if (marginValues[2] && marginValues[2] !== 'none' && marginValues[2] !== '0') {\n              verticalMargin = true;\n            }\n          }\n\n          return verticalMargin && display === 'inline';\n        }(this._element, this.props.margin), \"[View] display style is set to 'inline' and will allow for horizontal margins only.\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref, _objectSpread2;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          textAlign = _this$props.textAlign,\n          background = _this$props.background,\n          display = _this$props.display,\n          withVisualDebug = _this$props.withVisualDebug,\n          width = _this$props.width,\n          height = _this$props.height,\n          minWidth = _this$props.minWidth,\n          minHeight = _this$props.minHeight,\n          maxWidth = _this$props.maxWidth,\n          maxHeight = _this$props.maxHeight,\n          overflowX = _this$props.overflowX,\n          overflowY = _this$props.overflowY,\n          stacking = _this$props.stacking,\n          shadow = _this$props.shadow,\n          position = _this$props.position,\n          focusPosition = _this$props.focusPosition,\n          focusColor = _this$props.focusColor,\n          shouldAnimateFocus = _this$props.shouldAnimateFocus,\n          borderColor = _this$props.borderColor,\n          className = _this$props.className,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"textAlign\", \"background\", \"display\", \"withVisualDebug\", \"width\", \"height\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\", \"overflowX\", \"overflowY\", \"stacking\", \"shadow\", \"position\", \"focusPosition\", \"focusColor\", \"shouldAnimateFocus\", \"borderColor\", \"className\"]);\n\n      var ElementType = getElementType(View, this.props);\n      var withFocusOutline = this.withFocusOutline;\n      var focusOutlineClasses = position === 'relative' || display === 'inline' && focusPosition === 'inset' ? (_ref = {}, _defineProperty(_ref, styles.focus, true), _defineProperty(_ref, styles.withFocusOutline, withFocusOutline), _defineProperty(_ref, styles.shouldUseBrowserFocus, typeof withFocusOutline === 'undefined'), _defineProperty(_ref, styles[this.focusRingRadius], true), _defineProperty(_ref, styles[\"focusPosition--\".concat(focusPosition)], true), _defineProperty(_ref, styles[\"focusColor--\".concat(focusColor)], true), _defineProperty(_ref, styles.focusAnimation, shouldAnimateFocus), _ref) : {};\n      var classes = classnames(_objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, styles.root, true), _defineProperty(_objectSpread2, styles.withVisualDebug, withVisualDebug || this.props.visualDebug), _defineProperty(_objectSpread2, styles.withBorder, this.withBorder), _defineProperty(_objectSpread2, styles[\"borderColor--\".concat(borderColor)], this.withBorder), _defineProperty(_objectSpread2, styles[\"textAlign--\".concat(textAlign)], textAlign), _defineProperty(_objectSpread2, styles[\"background--\".concat(background)], background), _defineProperty(_objectSpread2, styles[\"display--\".concat(display)], display && display !== 'auto'), _defineProperty(_objectSpread2, styles[\"overflowX--\".concat(overflowX)], overflowX && overflowX !== 'visible'), _defineProperty(_objectSpread2, styles[\"overflowY--\".concat(overflowY)], overflowY && overflowY !== 'visible'), _defineProperty(_objectSpread2, styles[\"stacking--\".concat(stacking)], stacking), _defineProperty(_objectSpread2, styles[\"shadow--\".concat(shadow)], shadow && shadow !== 'none'), _defineProperty(_objectSpread2, styles[\"position--\".concat(position)], position !== 'static'), _objectSpread2), focusOutlineClasses, _defineProperty({}, className, className)));\n      return React.createElement(ElementType, Object.assign({}, passthroughProps(props), {\n        className: classes,\n        style: _objectSpread({}, this.spacingStyle, {}, this.borderStyle, {}, this.offsetStyle, {\n          width: width,\n          height: height,\n          minWidth: minWidth,\n          minHeight: minHeight,\n          maxWidth: maxWidth,\n          maxHeight: maxHeight\n        }, this.styleProps),\n        ref: this.handleElementRef\n      }), children);\n    }\n  }, {\n    key: \"withFocusOutline\",\n    get: function get() {\n      if (typeof this.props.withFocusOutline === 'undefined' && typeof this.props.focused === 'undefined') {\n        return void 0;\n      }\n\n      var _this$props2 = this.props,\n          position = _this$props2.position,\n          display = _this$props2.display,\n          focusPosition = _this$props2.focusPosition;\n      var withFocusOutline = this.props.focused || this.props.withFocusOutline;\n\n      if (withFocusOutline) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(display === 'inline' || position === 'relative', '[View] the focus outline will only show if the `position` prop is `relative`.');\n\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(display !== 'inline' || focusPosition === 'inset', '[View] when display is set to `inline` the focus outline will only show if `focusPosition` is set to `inset`.');\n      }\n\n      return withFocusOutline;\n    }\n  }, {\n    key: \"focusRingRadius\",\n    get: function get() {\n      var _this$props$borderRad = this.props.borderRadius,\n          borderRadius = _this$props$borderRad === void 0 ? '' : _this$props$borderRad;\n      var baseRadiusStyle = 'focusRing--radius';\n      var initialValue = borderRadius.trim().split(' ')[0];\n\n      if (this.verifyUniformValues(initialValue, borderRadius)) {\n        var capitalize = function capitalize(str) {\n          return \"\".concat(str.charAt(0).toUpperCase()).concat(str.slice(1));\n        };\n\n        if (['small', 'medium', 'large'].includes(initialValue)) return \"\".concat(baseRadiusStyle).concat(capitalize(initialValue));\n        if (['circle', 'pill'].includes(initialValue)) return \"\".concat(baseRadiusStyle, \"Inherit\");\n      }\n\n      return \"\".concat(baseRadiusStyle, \"None\");\n    }\n  }, {\n    key: \"withBorder\",\n    get: function get() {\n      var borderWidth = this.props.borderWidth;\n      return borderWidth && borderWidth !== '0' && borderWidth !== 'none';\n    }\n  }, {\n    key: \"borderStyle\",\n    get: function get() {\n      var _this$props3 = this.props,\n          borderRadius = _this$props3.borderRadius,\n          borderWidth = _this$props3.borderWidth;\n\n      if (this.dir === bidirectional.DIRECTION.rtl) {\n        borderRadius = mirrorShorthandCorners(borderRadius);\n        borderWidth = mirrorShorthandEdges(borderWidth);\n      }\n\n      return {\n        borderRadius: getShorthandPropValue('View', this.theme, borderRadius, 'borderRadius'),\n        borderWidth: getShorthandPropValue('View', this.theme, borderWidth, 'borderWidth')\n      };\n    }\n  }, {\n    key: \"spacingStyle\",\n    get: function get() {\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          padding = _this$props4.padding;\n\n      if (this.dir === 'rtl') {\n        margin = mirrorShorthandEdges(margin);\n        padding = mirrorShorthandEdges(padding);\n      }\n\n      return {\n        margin: getShorthandPropValue('View', this.theme, margin, 'margin'),\n        padding: getShorthandPropValue('View', this.theme, padding, 'padding')\n      };\n    }\n  }, {\n    key: \"offsetStyle\",\n    get: function get() {\n      var _this$props5 = this.props,\n          insetBlockStart = _this$props5.insetBlockStart,\n          insetBlockEnd = _this$props5.insetBlockEnd,\n          insetInlineStart = _this$props5.insetInlineStart,\n          insetInlineEnd = _this$props5.insetInlineEnd;\n      var rtl = this.dir === 'rtl';\n      var blockStart = {\n        top: insetBlockStart,\n        insetBlockStart: insetBlockStart\n      };\n      var blockEnd = {\n        bottom: insetBlockEnd,\n        insetBlockEnd: insetBlockEnd\n      };\n      var horizontalOffsets = {\n        left: rtl ? insetInlineEnd : insetInlineStart,\n        right: rtl ? insetInlineStart : insetInlineEnd,\n        insetInlineStart: insetInlineStart,\n        insetInlineEnd: insetInlineEnd\n      };\n      return _objectSpread({}, blockStart, {}, blockEnd, {}, horizontalOffsets);\n    }\n  }, {\n    key: \"styleProps\",\n    get: function get() {\n      var _this$props6 = this.props,\n          cursor = _this$props6.cursor,\n          style = _this$props6.style; // eslint-disable-line react/prop-types\n\n      var whitelisted = pickProps(style || {}, {}, [// Position/calculateElementPosition:\n      'top', 'left', 'position', 'display', 'transform', 'overflow', 'minWidth', 'minHeight', // Img:\n      'filter', // Flex.Item:\n      'flexBasis', // Avatar:\n      'backgroundImage']);\n\n      if (cursor) {\n        whitelisted.cursor = cursor;\n      }\n\n      return whitelisted;\n    }\n  }]);\n\n  View.displayName = \"View\";\n  return View;\n}(Component), _class2.propTypes = {\n  /**\n  * The element to render as the component root, `span` by default\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func,\n\n  /**\n  * By default the display prop is 'auto', meaning it takes on the\n  * display rules of the html element it's rendered as (see `as` prop).\n  */\n  display: PropTypes.oneOf(['auto', 'inline', 'block', 'inline-block', 'flex', 'inline-flex']),\n  overflowX: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n  overflowY: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n   * Valid values are `0`, `none`, `xxx-small`, `xx-small`, `x-small`,\n   * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n   * familiar CSS-like shorthand. For example: `padding=\"small x-large large\"`.\n   */\n  padding: ThemeablePropTypes.spacing,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * The children to render inside the `<View />`\n  */\n  children: PropTypes.node,\n\n  /**\n  * Designates the text alignment within the `<View />`\n  */\n  textAlign: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n  * Accepts the familiar CSS shorthand to designate border widths corresponding\n  * to edges\n  */\n  borderWidth: ThemeablePropTypes.borderWidth,\n\n  /**\n  * Accepts `small`, `medium`, `large`, `circle`, and `pill`. Border radius can be\n  * assigned to individual corners in CSS shorthand style (e.g., `\"medium large none pill\"`).\n  */\n  borderRadius: ThemeablePropTypes.borderRadius,\n\n  /**\n  * Sets the color of the View border\n  */\n  borderColor: deprecated.deprecatePropValues(PropTypes.oneOf(['transparent', 'primary', 'secondary', 'brand', 'info', 'success', 'warning', 'alert', 'danger', 'default', 'inverse']), ['default', 'inverse'], function (_ref2) {\n    var propName = _ref2.propName,\n        propValue = _ref2.propValue;\n    return \"In version 8.0.0, the value '\".concat(propValue, \"' for `\").concat(propName, \"` will be changed to \").concat(function () {\n      if (propValue === 'default') return \"'primary'\";\n      if (propValue === 'inverse') return \"'transparent'\";\n    }(), \". Use that value instead.\");\n  }),\n\n  /**\n  * Designates the background style of the `<View />`\n  */\n  background: deprecated.deprecatePropValues(PropTypes.oneOf(['transparent', 'primary', 'secondary', 'primary-inverse', 'brand', 'info', 'alert', 'success', 'danger', 'warning', 'default', 'light', 'inverse']), ['default', 'inverse', 'light'], function (_ref3) {\n    var propName = _ref3.propName,\n        propValue = _ref3.propValue;\n    return \"In version 8.0.0, the value '\".concat(propValue, \"' for `\").concat(propName, \"` will be changed to \").concat(function () {\n      if (propValue === 'default') return \"'primary'\";\n      if (propValue === 'light') return \"'secondary'\";\n      if (propValue === 'inverse') return \"'primary-inverse'\";\n    }(), \". Use that value instead.\");\n  }),\n\n  /**\n  * Controls the shadow depth for the `<View />`\n  */\n  shadow: ThemeablePropTypes.shadow,\n\n  /**\n  * Controls the z-index depth for the `<View />`\n  */\n  stacking: ThemeablePropTypes.stacking,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the `<View />`\n   */\n  cursor: cursorPropTypes,\n\n  /**\n  * Specify a value for the CSS position property. Use `relative` if `focusable` will be true.\n  */\n  position: PropTypes.oneOf(['static', 'absolute', 'relative', 'sticky', 'fixed']),\n\n  /**\n  * The `left` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineStart: PropTypes.string,\n\n  /**\n  * The `right` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineEnd: PropTypes.string,\n\n  /**\n  * The `top` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockStart: PropTypes.string,\n\n  /**\n  * The `bottom` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockEnd: PropTypes.string,\n\n  /**\n   * Manually control if the `View` should display a focus outline. When left undefined (which is the default)\n   * the focus outline will display automatically if the `View` is focusable and receives focus. Note: the focus\n   * outline only will display when the `position` prop is set to `relative`.\n   */\n  withFocusOutline: PropTypes.bool,\n\n  /**\n   * Determines whether the focus outline displays offset or inset from the focused View\n   */\n  focusPosition: PropTypes.oneOf(['offset', 'inset']),\n\n  /**\n  * Determines the color of the focus outline\n  */\n  focusColor: PropTypes.oneOf(['info', 'inverse', 'success', 'danger']),\n\n  /**\n  * Determines if the focus ring should animate when it appears\n  */\n  shouldAnimateFocus: PropTypes.bool,\n\n  /**\n  * Activate a dotted outline around the component to make building your\n  * layout easier\n  */\n  withVisualDebug: PropTypes.bool,\n\n  /* eslint-disable react/require-default-props */\n\n  /**\n  * __Deprecated - use 'withFocusOutline'__\n  */\n  focused: PropTypes.bool,\n\n  /**\n  * __Deprecated - use 'withVisualDebug'__\n  */\n  visualDebug: PropTypes.bool\n  /* eslint-enable react/require-default-props */\n\n}, _class2.defaultProps = {\n  display: 'auto',\n  // Note:\n  // - `as` will default to type span via getElementType, so for consistency and\n  // compatibility with Container we are leaving it undefined here. Otherwise\n  // it modifies behavior for consuming components because of the logic around\n  // default props in getElementType\n  as: void 0,\n  // - `textAlign` is undefined by default so that View can inherit text alignment\n  // from parents\n  textAlign: void 0,\n  // - Any props used to set inline styles should be undefined so that they\n  // don't break consuming components' CSS\n  overflowX: 'visible',\n  overflowY: 'visible',\n  shadow: void 0,\n  stacking: void 0,\n  withVisualDebug: false,\n  cursor: void 0,\n  borderWidth: void 0,\n  borderRadius: void 0,\n  borderColor: 'primary',\n  margin: void 0,\n  padding: void 0,\n  elementRef: void 0,\n  background: void 0,\n  children: null,\n  width: void 0,\n  height: void 0,\n  maxWidth: void 0,\n  maxHeight: void 0,\n  minWidth: void 0,\n  minHeight: void 0,\n  position: 'static',\n  withFocusOutline: void 0,\n  focusPosition: 'offset',\n  focusColor: 'info',\n  insetInlineStart: void 0,\n  insetInlineEnd: void 0,\n  insetBlockStart: void 0,\n  insetBlockEnd: void 0,\n  shouldAnimateFocus: true\n}, _temp)) || _class) || _class) || _class); // TODO: Remove this code once all components are using passthroughProps in place\n// of omitProps and have removed this function\n// omitViewProps needs to be called on the composed View component so that the\n// View.propTypes in the method matches the View.propTypes that will be called in\n// the consumers. Otherwise the discrepency could cause unexpected props being\n// allowed through.\n\nView.omitViewProps = function (props, Component) {\n  if (process.env.NODE_ENV !== 'production') {\n    Object.keys(pickProps(props, View.propTypes)).forEach(function (prop) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(false, \"[\".concat(Component.displayName, \"] prop '\").concat(prop, \"' is not allowed.\"));\n    });\n  }\n\n  return omitProps(props, View.propTypes);\n};\n\nexport default View;\nexport { View };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { warnDeprecated as _warnDeprecated } from \"@instructure/console\";\nexport var createThemeAdapter = function createThemeAdapter() {\n  var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref$map = _ref.map,\n      map = _ref$map === void 0 ? {} : _ref$map,\n      version = _ref.version,\n      _ref$shouldIncludeOld = _ref.shouldIncludeOldValues,\n      shouldIncludeOldValues = _ref$shouldIncludeOld === void 0 ? false : _ref$shouldIncludeOld;\n\n  return function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n        _ref2$theme = _ref2.theme,\n        theme = _ref2$theme === void 0 ? {} : _ref2$theme,\n        displayName = _ref2.displayName;\n\n    return Object.entries(theme).reduce(function (result, _ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (map[key]) {\n        if (Array.isArray(map[key])) {\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _warnDeprecated(false, \"[\".concat(displayName, \"] The theme variable `\").concat(key, \"` has been split into the following values `\").concat(map[key].join(', '), \"`.\").concat(version ? \" In version \".concat(version, \", `\").concat(key, \"` will no longer work as an override. Override each value individually instead.\") : ''));\n        } else {\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _warnDeprecated(false, \"[\".concat(displayName, \"] The theme variable `\").concat(key, \"` has been changed to `\").concat(map[key], \"`.\").concat(version ? \" In version \".concat(version, \", `\").concat(key, \"` will no longer work as an override. Use `\").concat(map[key], \"` instead.\") : ''));\n        }\n\n        var updatedThemeVars = {};\n\n        if (Array.isArray(map[key])) {\n          updatedThemeVars = map[key].reduce(function (result, updatedVar) {\n            return _objectSpread({}, result, _defineProperty({}, updatedVar, value));\n          }, {});\n        } else {\n          updatedThemeVars = _defineProperty({}, map[key], value);\n        }\n\n        return shouldIncludeOldValues ? _objectSpread({}, result, {}, updatedThemeVars, _defineProperty({}, key, value)) : _objectSpread({}, result, {}, updatedThemeVars);\n      }\n\n      return _objectSpread({}, result, _defineProperty({}, key, value));\n    }, {});\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps, deprecated } from '@instructure/ui-react-utils';\nimport { supportsObjectFit } from '@instructure/ui-dom-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'IIMRk',\n  template: function template(theme) {\n    return \"\\n\\n.IIMRk_EtBB{bottom:auto;float:none;left:auto;line-height:normal;margin:0;max-height:none;max-width:100%;min-height:0;min-width:0;padding:0;position:static;right:auto;top:auto;transform:none}\\n\\n[dir=ltr] .IIMRk_EtBB,[dir=rtl] .IIMRk_EtBB{float:none}\\n\\n.IIMRk_fJwG{display:inline-block;vertical-align:middle}\\n\\n.IIMRk_cYkL{height:100%;left:0;position:absolute;top:0;transition:all \".concat(theme.overlayTransitionDuration || 'inherit', \";width:100%}\\n\\n.IIMRk_fqss{display:block}\\n\\n.IIMRk_dIXK,.IIMRk_cYkL{transition:all \").concat(theme.effectTransitionDuration || 'inherit', \"}\\n\\n.IIMRk_fZcw,.IIMRk_dETD,.IIMRk_bPct,.IIMRk_eJVL{height:100%;width:100%}\\n\\n.IIMRk_eJVL{object-fit:cover}\\n\\n.IIMRk_fZcw{object-fit:contain}\\n\\n.IIMRk_fZcw.IIMRk_fqss{height:auto;max-height:100%;max-width:100%;width:auto}\\n\\n.IIMRk_baUy{height:inherit}\\n\\n.IIMRk_dETD{background-position:50%;background-repeat:no-repeat}\\n\\n.IIMRk_dETD.IIMRk_baUy{background-size:contain}\\n\\n.IIMRk_dETD.IIMRk_bPct{background-size:cover}\\n\\n.IIMRk_rUUn{overflow:hidden;position:relative}\");\n  },\n  'image': 'IIMRk_EtBB',\n  'overlayLayout': 'IIMRk_fJwG',\n  'overlay': 'IIMRk_cYkL',\n  'has-overlay': 'IIMRk_fqss',\n  'has-filter': 'IIMRk_dIXK',\n  'contain': 'IIMRk_fZcw',\n  'container--has-background': 'IIMRk_dETD',\n  'container--has-cover': 'IIMRk_bPct',\n  'cover': 'IIMRk_eJVL',\n  'container--has-contain': 'IIMRk_baUy',\n  'container--has-overlay': 'IIMRk_rUUn'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedImg\n---\n**/\n\nvar Img = (_dec = testable(), _dec2 = deprecated('7.0.0', {\n  cover: 'constrain'\n}), _dec3 = deprecated('7.0.0', null, 'Use Img from ui-img instead.'), _dec4 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Img, _Component);\n\n  function Img() {\n    _classCallCheck(this, Img);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Img).apply(this, arguments));\n  }\n\n  _createClass(Img, [{\n    key: \"renderFilter\",\n    value: function renderFilter() {\n      var blur = \"blur(\".concat(this.theme.imageBlurAmount, \")\");\n      var grayscale = 'grayscale(1)';\n\n      if (this.props.grayscale && this.props.blur) {\n        return \"\".concat(blur, \" \").concat(grayscale);\n      } else if (this.props.grayscale) {\n        return grayscale;\n      } else if (this.props.blur) {\n        return blur;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          src = _this$props.src,\n          alt = _this$props.alt,\n          margin = _this$props.margin,\n          inline = _this$props.inline,\n          overlay = _this$props.overlay,\n          grayscale = _this$props.grayscale,\n          blur = _this$props.blur,\n          cover = _this$props.cover,\n          constrain = _this$props.constrain,\n          width = _this$props.width,\n          height = _this$props.height,\n          elementRef = _this$props.elementRef;\n      var a11yProps = {\n        alt: alt || ''\n      };\n      var imageProps = {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.image, true), _defineProperty(_classnames, styles['has-overlay'], overlay), _defineProperty(_classnames, styles['has-filter'], blur || grayscale), _defineProperty(_classnames, styles.cover, this.supportsObjectFit && (cover || constrain === 'cover')), _defineProperty(_classnames, styles.contain, this.supportsObjectFit && constrain === 'contain'), _classnames)),\n        style: {\n          filter: blur || grayscale ? this.renderFilter() : 'none'\n        },\n        src: src\n      };\n\n      var passthroughProps = _objectSpread({}, View.omitViewProps(omitProps(this.props, Img.propTypes), Img), {\n        width: width,\n        height: height,\n        margin: margin,\n        display: inline ? 'inline-block' : 'block',\n        elementRef: elementRef\n      }); // if browser does not support ObjectFit CSS, and Img needs cover (deprecated) or constrain,\n      // serve up a background-image instead\n\n\n      var hasBackground = !this.supportsObjectFit && (cover || constrain);\n\n      if (overlay || hasBackground) {\n        var _classnames2;\n\n        // if a background image is rendered we add the a11y props on the container element\n        var containerProps = hasBackground ? _objectSpread({}, a11yProps, {}, passthroughProps) : passthroughProps;\n        return React.createElement(View, Object.assign({}, containerProps, {\n          as: \"span\",\n          className: classnames((_classnames2 = {}, _defineProperty(_classnames2, styles['container--has-overlay'], overlay), _defineProperty(_classnames2, styles['container--has-cover'], cover || constrain === 'cover'), _defineProperty(_classnames2, styles['container--has-contain'], constrain === 'contain'), _defineProperty(_classnames2, styles['container--has-background'], hasBackground), _classnames2)),\n          style: {\n            backgroundImage: hasBackground ? \"url(\".concat(src, \")\") : void 0\n          }\n        }), !hasBackground && React.createElement(\"img\", Object.assign({}, imageProps, a11yProps)) // eslint-disable-line jsx-a11y/alt-text\n        , overlay && React.createElement(\"span\", {\n          className: styles.overlay,\n          style: {\n            backgroundColor: overlay.color,\n            opacity: overlay.opacity * 0.1,\n            mixBlendMode: overlay.blend ? overlay.blend : null\n          }\n        }));\n      } else {\n        return React.createElement(View, Object.assign({}, passthroughProps, imageProps, a11yProps, {\n          as: \"img\"\n        }));\n      }\n    }\n  }, {\n    key: \"supportsObjectFit\",\n    get: function get() {\n      return supportsObjectFit();\n    }\n  }]);\n\n  Img.displayName = \"Img\";\n  return Img;\n}(Component), _class2.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  inline: PropTypes.bool,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Valid values for `opacity` are `0` - `10`. Valid values for `blend` are\n  * `normal` (default), `multiply`, `screen`, `overlay`, and `color-burn`.\n  */\n  overlay: PropTypes.shape({\n    color: PropTypes.string.isRequired,\n    opacity: PropTypes.oneOf([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]).isRequired,\n    blend: PropTypes.oneOf(['normal', 'multiply', 'screen', 'overlay', 'color-burn'])\n  }),\n  grayscale: PropTypes.bool,\n  blur: PropTypes.bool,\n  cover: PropTypes.bool,\n  // eslint-disable-line react/require-default-props\n  constrain: PropTypes.oneOf(['cover', 'contain']),\n  elementRef: PropTypes.func,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n}, _class2.defaultProps = {\n  margin: void 0,\n  overlay: void 0,\n  constrain: void 0,\n  elementRef: void 0,\n  height: void 0,\n  width: void 0,\n  alt: '',\n  inline: true,\n  grayscale: false,\n  blur: false\n}, _temp)) || _class) || _class) || _class) || _class);\nexport default Img;\nexport { Img };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { isIE11 } from '@instructure/ui-utils';\nimport { Img } from '@instructure/ui-elements';\nvar styles = {\n  componentId: 'bfBOT',\n  template: function template(theme) {\n    return \"\\n\\n@keyframes bfBOT_EwaR{50%{opacity:0.5;transform:translate3d(2%,0,0)}to{opacity:1;transform:translateZ(0)}}\\n\\n.bfBOT_bGBk{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;animation-delay:0.2s;animation-duration:0.2s;animation-fill-mode:forwards;animation-name:bfBOT_EwaR;animation-timing-function:ease-out;background-color:transparent;border:none;border-radius:\".concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;cursor:pointer;display:block;font-family:inherit;margin:0;opacity:0.01;outline:0;position:relative;text-align:start;transform:translate3d(-2%,0,0);transform-origin:left center;user-select:none;width:100%;z-index:1}\\n\\n[dir=ltr] .bfBOT_bGBk{text-align:left}\\n\\n[dir=rtl] .bfBOT_bGBk{text-align:right}\\n\\n.bfBOT_bGBk:not(.bfBOT_eoSs):after{border:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.25rem;box-sizing:border-box;content:\\\"\\\";display:block;left:-0.25rem;opacity:0;pointer-events:none;position:absolute;right:-0.25rem;top:-0.25rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.bfBOT_bGBk:hover{background-color:\").concat(theme.hoverBackgroundColor || 'inherit', \"}\\n\\n.bfBOT_bGBk:hover.bfBOT_fGhm{background-color:\").concat(theme.selectedBackgroundColor || 'inherit', \"}\\n\\n.bfBOT_bGBk:hover.bfBOT_ewdC:before{visibility:hidden}\\n\\n.bfBOT_bGBk:hover .bfBOT_dnnz,.bfBOT_bGBk:hover .bfBOT_biFO,.bfBOT_bGBk:hover .bfBOT_sTpL{color:\").concat(theme.hoverTextColor || 'inherit', \"}\\n\\n.bfBOT_bGBk.bfBOT_cVYB:not(.bfBOT_eoSs):after{opacity:1;transform:scale(1)}\\n\\n.bfBOT_bGBk.bfBOT_cVYB.bfBOT_eoSs{outline:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \"}\\n\\n.bfBOT_byIz{align-items:center;display:flex;line-height:1;min-height:2rem}\\n\\n.bfBOT_dnnz,.bfBOT_eWKC{min-width:0.0625rem}\\n\\n.bfBOT_dnnz{color:\").concat(theme.iconColor || 'inherit', \";position:relative;z-index:1}\\n\\n.bfBOT_eWKC{flex:1;line-height:\").concat(theme.textLineHeight || 'inherit', \"}\\n\\n.bfBOT_biFO,.bfBOT_sTpL{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\\n\\n.bfBOT_sTpL{color:\").concat(theme.nameTextColor || 'inherit', \"}\\n\\n.bfBOT_biFO{color:\").concat(theme.descriptorTextColor || 'inherit', \";margin-top:\").concat(theme.descriptorMarginTop || 'inherit', \"}\\n\\n.bfBOT_ewdC:before{background:\").concat(theme.borderColor || 'inherit', \";content:\\\"\\\";height:\").concat(theme.borderWidth || 'inherit', \";inset-inline-end:auto;inset-inline-start:0;pointer-events:none;position:absolute;top:50%}\\n\\n[dir=ltr] .bfBOT_ewdC:before{left:0;right:auto}\\n\\n[dir=rtl] .bfBOT_ewdC:before{left:auto;right:0}\\n\\n.bfBOT_doqw.bfBOT_ewdC{padding:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/3) \").concat(theme.baseSpacingSmall || 'inherit', \"}\\n\\n.bfBOT_doqw.bfBOT_ewdC:before{width:calc(\").concat(theme.baseSpacingSmall || 'inherit', \" - 0.0625rem)}\\n\\n.bfBOT_doqw.bfBOT_ewdC .bfBOT_dnnz,.bfBOT_doqw.bfBOT_ewdC .bfBOT_dXYn{-webkit-margin-end:\").concat(theme.baseSpacingSmall || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.baseSpacingSmall || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_doqw.bfBOT_ewdC .bfBOT_dnnz,[dir=ltr] .bfBOT_doqw.bfBOT_ewdC .bfBOT_dXYn{margin-left:0;margin-right:\").concat(theme.baseSpacingSmall || 'inherit', \"}\\n\\n[dir=rtl] .bfBOT_doqw.bfBOT_ewdC .bfBOT_dnnz,[dir=rtl] .bfBOT_doqw.bfBOT_ewdC .bfBOT_dXYn{margin-left:\").concat(theme.baseSpacingSmall || 'inherit', \";margin-right:0}\\n\\n.bfBOT_doqw.bfBOT_ewdC .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2)}\\n\\n.bfBOT_doqw.bfBOT_ewdC .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2)}\\n\\n.bfBOT_doqw.bfBOT_cIHp{padding:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/3) calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/2)}\\n\\n.bfBOT_doqw.bfBOT_cIHp .bfBOT_dnnz,.bfBOT_doqw.bfBOT_cIHp .bfBOT_dXYn{-webkit-margin-end:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/2);-webkit-margin-start:0;margin-inline-end:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/2);margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_doqw.bfBOT_cIHp .bfBOT_dnnz,[dir=ltr] .bfBOT_doqw.bfBOT_cIHp .bfBOT_dXYn{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/2)}\\n\\n[dir=rtl] .bfBOT_doqw.bfBOT_cIHp .bfBOT_dnnz,[dir=rtl] .bfBOT_doqw.bfBOT_cIHp .bfBOT_dXYn{margin-left:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"/2);margin-right:0}\\n\\n.bfBOT_doqw.bfBOT_cIHp .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2)}\\n\\n.bfBOT_doqw.bfBOT_cIHp .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2)}\\n\\n.bfBOT_doqw .bfBOT_sTpL{font-size:\").concat(theme.nameFontSizeSmall || 'inherit', \"}\\n\\n.bfBOT_doqw .bfBOT_biFO{font-size:\").concat(theme.descriptorFontSizeSmall || 'inherit', \"}\\n\\n.bfBOT_ycrn.bfBOT_ewdC{padding:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/3) \").concat(theme.baseSpacingMedium || 'inherit', \"}\\n\\n.bfBOT_ycrn.bfBOT_ewdC:before{width:calc(\").concat(theme.baseSpacingMedium || 'inherit', \" - 0.0625rem)}\\n\\n.bfBOT_ycrn.bfBOT_ewdC .bfBOT_dnnz,.bfBOT_ycrn.bfBOT_ewdC .bfBOT_dXYn{-webkit-margin-end:\").concat(theme.baseSpacingMedium || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.baseSpacingMedium || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_ycrn.bfBOT_ewdC .bfBOT_dnnz,[dir=ltr] .bfBOT_ycrn.bfBOT_ewdC .bfBOT_dXYn{margin-left:0;margin-right:\").concat(theme.baseSpacingMedium || 'inherit', \"}\\n\\n[dir=rtl] .bfBOT_ycrn.bfBOT_ewdC .bfBOT_dnnz,[dir=rtl] .bfBOT_ycrn.bfBOT_ewdC .bfBOT_dXYn{margin-left:\").concat(theme.baseSpacingMedium || 'inherit', \";margin-right:0}\\n\\n.bfBOT_ycrn.bfBOT_ewdC .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2)}\\n\\n.bfBOT_ycrn.bfBOT_ewdC .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2)}\\n\\n.bfBOT_ycrn.bfBOT_cIHp{padding:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/3) calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/2)}\\n\\n.bfBOT_ycrn.bfBOT_cIHp .bfBOT_dnnz,.bfBOT_ycrn.bfBOT_cIHp .bfBOT_dXYn{-webkit-margin-end:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/2);-webkit-margin-start:0;margin-inline-end:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/2);margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_ycrn.bfBOT_cIHp .bfBOT_dnnz,[dir=ltr] .bfBOT_ycrn.bfBOT_cIHp .bfBOT_dXYn{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/2)}\\n\\n[dir=rtl] .bfBOT_ycrn.bfBOT_cIHp .bfBOT_dnnz,[dir=rtl] .bfBOT_ycrn.bfBOT_cIHp .bfBOT_dXYn{margin-left:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"/2);margin-right:0}\\n\\n.bfBOT_ycrn.bfBOT_cIHp .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2)}\\n\\n.bfBOT_ycrn.bfBOT_cIHp .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2)}\\n\\n.bfBOT_ycrn .bfBOT_sTpL{font-size:\").concat(theme.nameFontSizeMedium || 'inherit', \"}\\n\\n.bfBOT_ycrn .bfBOT_biFO{font-size:\").concat(theme.descriptorFontSizeMedium || 'inherit', \"}\\n\\n.bfBOT_cMDj.bfBOT_ewdC{padding:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/3) \").concat(theme.baseSpacingLarge || 'inherit', \"}\\n\\n.bfBOT_cMDj.bfBOT_ewdC:before{width:calc(\").concat(theme.baseSpacingLarge || 'inherit', \" - 0.0625rem)}\\n\\n.bfBOT_cMDj.bfBOT_ewdC .bfBOT_dnnz,.bfBOT_cMDj.bfBOT_ewdC .bfBOT_dXYn{-webkit-margin-end:\").concat(theme.baseSpacingLarge || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.baseSpacingLarge || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_cMDj.bfBOT_ewdC .bfBOT_dnnz,[dir=ltr] .bfBOT_cMDj.bfBOT_ewdC .bfBOT_dXYn{margin-left:0;margin-right:\").concat(theme.baseSpacingLarge || 'inherit', \"}\\n\\n[dir=rtl] .bfBOT_cMDj.bfBOT_ewdC .bfBOT_dnnz,[dir=rtl] .bfBOT_cMDj.bfBOT_ewdC .bfBOT_dXYn{margin-left:\").concat(theme.baseSpacingLarge || 'inherit', \";margin-right:0}\\n\\n.bfBOT_cMDj.bfBOT_ewdC .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2)}\\n\\n.bfBOT_cMDj.bfBOT_ewdC .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2)}\\n\\n.bfBOT_cMDj.bfBOT_cIHp{padding:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/3) calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/2)}\\n\\n.bfBOT_cMDj.bfBOT_cIHp .bfBOT_dnnz,.bfBOT_cMDj.bfBOT_cIHp .bfBOT_dXYn{-webkit-margin-end:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/2);-webkit-margin-start:0;margin-inline-end:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/2);margin-inline-start:0}\\n\\n[dir=ltr] .bfBOT_cMDj.bfBOT_cIHp .bfBOT_dnnz,[dir=ltr] .bfBOT_cMDj.bfBOT_cIHp .bfBOT_dXYn{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/2)}\\n\\n[dir=rtl] .bfBOT_cMDj.bfBOT_cIHp .bfBOT_dnnz,[dir=rtl] .bfBOT_cMDj.bfBOT_cIHp .bfBOT_dXYn{margin-left:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"/2);margin-right:0}\\n\\n.bfBOT_cMDj.bfBOT_cIHp .bfBOT_dnnz{font-size:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2)}\\n\\n.bfBOT_cMDj.bfBOT_cIHp .bfBOT_dXYn{height:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2);width:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2)}\\n\\n.bfBOT_cMDj .bfBOT_sTpL{font-size:\").concat(theme.nameFontSizeLarge || 'inherit', \"}\\n\\n.bfBOT_cMDj .bfBOT_biFO{font-size:\").concat(theme.descriptorFontSizeLarge || 'inherit', \"}\\n\\n.bfBOT_fGhm{background-color:\").concat(theme.selectedBackgroundColor || 'inherit', \"}\\n\\n.bfBOT_fGhm.bfBOT_ewdC:before{visibility:hidden}\\n\\n.bfBOT_fGhm .bfBOT_dnnz,.bfBOT_fGhm .bfBOT_biFO,.bfBOT_fGhm .bfBOT_sTpL{color:\").concat(theme.selectedTextColor || 'inherit', \"}\");\n  },\n  'root': 'bfBOT_bGBk',\n  'button': 'bfBOT_EwaR',\n  'ie11': 'bfBOT_eoSs',\n  'selected': 'bfBOT_fGhm',\n  'folderTree': 'bfBOT_ewdC',\n  'icon': 'bfBOT_dnnz',\n  'textDescriptor': 'bfBOT_biFO',\n  'textName': 'bfBOT_sTpL',\n  'focused': 'bfBOT_cVYB',\n  'layout': 'bfBOT_byIz',\n  'text': 'bfBOT_eWKC',\n  'small': 'bfBOT_doqw',\n  'thumbnail': 'bfBOT_dXYn',\n  'indent': 'bfBOT_cIHp',\n  'medium': 'bfBOT_ycrn',\n  'large': 'bfBOT_cMDj'\n};\nimport theme from './theme';\n/**\n---\nparent: TreeBrowser\n---\n**/\n\nvar TreeButton = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TreeButton, _Component);\n\n  function TreeButton() {\n    _classCallCheck(this, TreeButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TreeButton).apply(this, arguments));\n  }\n\n  _createClass(TreeButton, [{\n    key: \"renderImage\",\n    value: function renderImage() {\n      var type = this.props.type;\n\n      switch (type) {\n        case 'collection':\n          return this.renderCollectionIcon();\n\n        case 'item':\n          return this.renderItemImage();\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"renderCollectionIcon\",\n    value: function renderCollectionIcon() {\n      var Icon = this.props.expanded ? this.props.collectionIconExpanded : this.props.collectionIcon;\n\n      if (Icon) {\n        return React.createElement(Icon, {\n          className: styles.icon\n        });\n      }\n    }\n  }, {\n    key: \"renderItemImage\",\n    value: function renderItemImage() {\n      var thumbnail = this.props.thumbnail;\n      var Icon = this.props.itemIcon;\n\n      if (thumbnail) {\n        return React.createElement(\"div\", {\n          className: styles.thumbnail\n        }, React.createElement(Img, {\n          src: thumbnail,\n          constrain: \"cover\",\n          alt: \"\"\n        }));\n      }\n\n      if (Icon) {\n        return React.createElement(Icon, {\n          className: styles.icon\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var _this$props = this.props,\n          name = _this$props.name,\n          descriptor = _this$props.descriptor,\n          expanded = _this$props.expanded,\n          selected = _this$props.selected,\n          focused = _this$props.focused,\n          variant = _this$props.variant,\n          size = _this$props.size;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[size], true), _defineProperty(_classes, styles[variant], true), _defineProperty(_classes, styles.expanded, expanded), _defineProperty(_classes, styles.selected, selected), _defineProperty(_classes, styles.focused, focused), _defineProperty(_classes, styles.ie11, isIE11), _classes); // VoiceOver can't navigate without the buttons, even though they don't do anything\n\n      return React.createElement(\"button\", {\n        tabIndex: -1,\n        type: \"button\",\n        className: classnames(classes)\n      }, React.createElement(\"span\", {\n        className: styles.layout\n      }, this.renderImage(), React.createElement(\"span\", {\n        className: styles.text\n      }, React.createElement(\"span\", {\n        className: styles.textName\n      }, name), descriptor ? React.createElement(\"span\", {\n        className: styles.textDescriptor,\n        title: descriptor\n      }, descriptor) : null)));\n    }\n  }]);\n\n  TreeButton.displayName = \"TreeButton\";\n  return TreeButton;\n}(Component), _class2.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  name: PropTypes.string,\n  descriptor: PropTypes.string,\n  type: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['folderTree', 'indent']),\n  collectionIcon: PropTypes.func,\n  collectionIconExpanded: PropTypes.func,\n  itemIcon: PropTypes.func,\n  thumbnail: PropTypes.string,\n  onClick: PropTypes.func,\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  focused: PropTypes.bool\n}, _class2.defaultProps = {\n  type: 'treeButton',\n  size: 'medium',\n  variant: 'folderTree',\n  selected: false,\n  focused: false,\n  onClick: function onClick() {},\n  id: void 0,\n  name: void 0,\n  collectionIcon: void 0,\n  collectionIconExpanded: void 0,\n  itemIcon: void 0,\n  thumbnail: void 0,\n  expanded: false,\n  descriptor: void 0\n}, _temp)) || _class) || _class);\nexport default TreeButton;\nexport { TreeButton };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator() {\n  return {\n    effectTransitionDuration: '1s',\n    imageBlurAmount: '0.25em'\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      borders = _ref.borders;\n  return {\n    hoverBackgroundColor: colors.backgroundBrand,\n    hoverTextColor: colors.textLightest,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineStyle: borders.style,\n    iconColor: colors.textDarkest,\n    iconsMarginRight: spacing.xSmall,\n    descriptorMarginTop: spacing.xxxSmall,\n    descriptorTextColor: colors.textDarkest,\n    descriptorFontSizeSmall: typography.fontSizeXSmall,\n    descriptorFontSizeMedium: typography.fontSizeXSmall,\n    descriptorFontSizeLarge: typography.fontSizeSmall,\n    nameTextColor: colors.textBrand,\n    nameFontSizeSmall: typography.fontSizeXSmall,\n    nameFontSizeMedium: typography.fontSizeSmall,\n    nameFontSizeLarge: typography.fontSizeMedium,\n    baseSpacingSmall: spacing.xSmall,\n    baseSpacingMedium: spacing.small,\n    baseSpacingLarge: '1rem',\n    borderWidth: borders.widthSmall,\n    borderRadius: borders.radiusMedium,\n    borderColor: colors.borderDark,\n    textLineHeight: typography.lineHeightCondensed,\n    selectedTextColor: colors.textLightest,\n    selectedBackgroundColor: colors.backgroundDark,\n    selectedOutlineWidth: borders.widthLarge\n  };\n}\n\ngenerator['canvas'] = function (variables) {\n  return {\n    iconColor: variables['ic-brand-font-color-dark'],\n    hoverBackgroundColor: variables['ic-brand-primary'],\n    focusOutlineColor: variables['ic-brand-primary'],\n    nameTextColor: variables['ic-brand-primary'],\n    descriptorTextColor: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable'; // remove when Edge sorts out styles-on-pseudo-elements issues:\n// https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n\nimport { isEdge } from '@instructure/ui-utils';\nimport { TreeButton } from '../TreeButton';\nvar styles = {\n  componentId: 'fXaWe',\n  template: function template(theme) {\n    return \"\\n\\n@keyframes fXaWe_cpmC{to{transform:scaleY(1)}}\\n\\n.fXaWe_cpmC{box-sizing:border-box;font-family:\".concat(theme.fontFamily || 'inherit', \";list-style-type:none;position:relative}\\n\\n.fXaWe_cpmC,.fXaWe_fjNS{margin:0;padding:0}\\n\\n.fXaWe_ewEu:focus,.fXaWe_fjNS:focus{outline:0}\\n\\n.fXaWe_ewdC .fXaWe_cpmC:before{animation-duration:0.2s;animation-fill-mode:forwards;animation-name:fXaWe_cpmC;animation-timing-function:ease-out;bottom:1.1875rem;content:\\\"\\\";inset-inline-end:auto;inset-inline-start:0;pointer-events:none;position:absolute;top:0.25rem;transform:scaleY(0.01);transform-origin:center top}\\n\\n[dir=ltr] .fXaWe_ewdC .fXaWe_cpmC:before{left:0;right:auto}\\n\\n[dir=rtl] .fXaWe_ewdC .fXaWe_cpmC:before{left:auto;right:0}\\n\\n.fXaWe_ewdC:not(.fXaWe_bUWG) .fXaWe_cpmC:before{background:\").concat(theme.borderColor || 'inherit', \";width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n.fXaWe_ewdC.fXaWe_bUWG .fXaWe_cpmC:before{background:#73818c;width:0.0625rem}\\n\\n.fXaWe_doqw.fXaWe_cIHp .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*3);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*3)}\\n\\n[dir=ltr] .fXaWe_doqw.fXaWe_cIHp .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*3);margin-right:0}\\n\\n[dir=rtl] .fXaWe_doqw.fXaWe_cIHp .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*3)}\\n\\n.fXaWe_doqw.fXaWe_ewdC .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2);margin-top:calc(-1*\").concat(theme.baseSpacingSmall || 'inherit', \");padding-top:\").concat(theme.baseSpacingSmall || 'inherit', \"}\\n\\n[dir=ltr] .fXaWe_doqw.fXaWe_ewdC .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2);margin-right:0}\\n\\n[dir=rtl] .fXaWe_doqw.fXaWe_ewdC .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingSmall || 'inherit', \"*2)}\\n\\n.fXaWe_ycrn.fXaWe_cIHp .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*3);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*3)}\\n\\n[dir=ltr] .fXaWe_ycrn.fXaWe_cIHp .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*3);margin-right:0}\\n\\n[dir=rtl] .fXaWe_ycrn.fXaWe_cIHp .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*3)}\\n\\n.fXaWe_ycrn.fXaWe_ewdC .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2);margin-top:calc(-1*\").concat(theme.baseSpacingMedium || 'inherit', \");padding-top:\").concat(theme.baseSpacingMedium || 'inherit', \"}\\n\\n[dir=ltr] .fXaWe_ycrn.fXaWe_ewdC .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2);margin-right:0}\\n\\n[dir=rtl] .fXaWe_ycrn.fXaWe_ewdC .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingMedium || 'inherit', \"*2)}\\n\\n.fXaWe_cMDj.fXaWe_cIHp .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*3);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*3)}\\n\\n[dir=ltr] .fXaWe_cMDj.fXaWe_cIHp .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*3);margin-right:0}\\n\\n[dir=rtl] .fXaWe_cMDj.fXaWe_cIHp .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*3)}\\n\\n.fXaWe_cMDj.fXaWe_ewdC .fXaWe_cpmC{-webkit-margin-end:0;-webkit-margin-start:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2);margin-inline-end:0;margin-inline-start:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2);margin-top:calc(-1*\").concat(theme.baseSpacingLarge || 'inherit', \");padding-top:\").concat(theme.baseSpacingLarge || 'inherit', \"}\\n\\n[dir=ltr] .fXaWe_cMDj.fXaWe_ewdC .fXaWe_cpmC{margin-left:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2);margin-right:0}\\n\\n[dir=rtl] .fXaWe_cMDj.fXaWe_ewdC .fXaWe_cpmC{margin-left:0;margin-right:calc(\").concat(theme.baseSpacingLarge || 'inherit', \"*2)}\");\n  },\n  'list': 'fXaWe_cpmC',\n  'node': 'fXaWe_fjNS',\n  'item': 'fXaWe_ewEu',\n  'folderTree': 'fXaWe_ewdC',\n  'edge': 'fXaWe_bUWG',\n  'small': 'fXaWe_doqw',\n  'indent': 'fXaWe_cIHp',\n  'medium': 'fXaWe_ycrn',\n  'large': 'fXaWe_cMDj'\n};\nimport theme from './theme';\n/**\n---\nparent: TreeBrowser\n---\n**/\n\nvar TreeCollection = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TreeCollection, _Component);\n\n  function TreeCollection(props) {\n    var _this;\n\n    _classCallCheck(this, TreeCollection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TreeCollection).call(this, props));\n\n    _this.handleFocus = function (e, item) {\n      e.stopPropagation();\n\n      _this.setState({\n        focused: \"\".concat(item.type, \"_\").concat(item.id)\n      });\n    };\n\n    _this.handleBlur = function (e, item) {\n      e.stopPropagation();\n\n      _this.setState({\n        focused: ''\n      });\n    };\n\n    _this.handleCollectionClick = function (e) {\n      var _this$props = _this.props,\n          id = _this$props.id,\n          onCollectionClick = _this$props.onCollectionClick,\n          expanded = _this$props.expanded;\n      var collection = {\n        id: id,\n        expanded: !expanded,\n        type: 'collection'\n      };\n\n      if (onCollectionClick && typeof onCollectionClick === 'function') {\n        onCollectionClick(e, collection);\n      }\n    };\n\n    _this.handleCollectionKeyDown = function (e) {\n      var _this$props2 = _this.props,\n          id = _this$props2.id,\n          onKeyDown = _this$props2.onKeyDown,\n          expanded = _this$props2.expanded;\n      var collection = {\n        id: id,\n        expanded: !expanded,\n        type: 'collection'\n      };\n\n      if (onKeyDown && typeof onKeyDown === 'function') {\n        onKeyDown(e, collection);\n      }\n    };\n\n    _this.state = {\n      focused: ''\n    };\n    return _this;\n  }\n\n  _createClass(TreeCollection, [{\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          expanded = _this$props3.expanded,\n          collections = _this$props3.collections,\n          items = _this$props3.items,\n          name = _this$props3.name;\n      return expanded && this.childCount > 0 && React.createElement(\"ul\", {\n        \"aria-label\": name,\n        className: styles.list,\n        role: \"group\"\n      }, collections.map(function (collection, i) {\n        return _this2.renderCollectionNode(collection, i, _this2.childCount);\n      }), items.map(function (item, i) {\n        return _this2.renderItemNode(item, i, _this2.childCount, _this2.collectionsCount);\n      }));\n    }\n  }, {\n    key: \"renderCollectionNode\",\n    value: function renderCollectionNode(collection, i, childCount) {\n      return React.createElement(TreeCollection, Object.assign({}, this.props, {\n        key: \"c\".concat(i),\n        id: collection.id,\n        name: collection.name,\n        descriptor: collection.descriptor,\n        expanded: collection.expanded,\n        items: collection.items,\n        collections: collection.collections,\n        numChildren: childCount,\n        level: this.props.level + 1,\n        position: i + 1\n      }));\n    }\n  }, {\n    key: \"renderItemNode\",\n    value: function renderItemNode(item, i, numChildren, numCollections) {\n      var _this3 = this;\n\n      var ariaSelected = {};\n      if (this.props.selection) ariaSelected['aria-selected'] = this.props.selection === \"item_\".concat(item.id);\n      var itemHash = {\n        id: item.id,\n        type: 'item'\n      };\n      return React.createElement(\"li\", Object.assign({\n        key: \"i\".concat(i),\n        tabIndex: \"-1\",\n        role: \"treeitem\",\n        \"aria-label\": item.name,\n        className: styles.item,\n        \"aria-level\": this.props.level + 1,\n        \"aria-posinset\": i + 1 + numCollections,\n        \"aria-setsize\": numChildren,\n        onClick: function onClick(e, n) {\n          return _this3.props.onItemClick(e, itemHash);\n        },\n        onKeyDown: function onKeyDown(e, n) {\n          return _this3.props.onKeyDown(e, itemHash);\n        },\n        onFocus: function onFocus(e, n) {\n          return _this3.handleFocus(e, itemHash);\n        },\n        onBlur: function onBlur(e, n) {\n          return _this3.handleBlur(e, itemHash);\n        }\n      }, ariaSelected), React.createElement(TreeButton, Object.assign({}, this.getCommonButtonProps(), {\n        id: item.id,\n        name: item.name,\n        descriptor: item.descriptor,\n        thumbnail: item.thumbnail,\n        selected: this.props.selection === \"item_\".concat(item.id),\n        focused: this.state.focused === \"item_\".concat(item.id),\n        type: \"item\"\n      })));\n    }\n  }, {\n    key: \"getCommonButtonProps\",\n    value: function getCommonButtonProps() {\n      return {\n        id: this.props.id,\n        name: this.props.name,\n        descriptor: this.props.descriptor,\n        size: this.props.size,\n        variant: this.props.variant,\n        itemIcon: this.props.itemIcon\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes,\n          _this4 = this;\n\n      var _this$props4 = this.props,\n          id = _this$props4.id,\n          size = _this$props4.size,\n          variant = _this$props4.variant,\n          expanded = _this$props4.expanded,\n          collectionIcon = _this$props4.collectionIcon,\n          collectionIconExpanded = _this$props4.collectionIconExpanded,\n          level = _this$props4.level,\n          position = _this$props4.position;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.edge, isEdge), _defineProperty(_classes, styles[size], true), _defineProperty(_classes, styles[variant], true), _defineProperty(_classes, styles.expanded, expanded), _defineProperty(_classes, styles.node, true), _classes);\n      var ariaSelected = {};\n      if (this.props.selection) ariaSelected['aria-selected'] = this.props.selection === \"collection_\".concat(id);\n      return React.createElement(\"li\", Object.assign({\n        className: classnames(classes),\n        tabIndex: \"-1\",\n        role: \"treeitem\",\n        \"aria-label\": this.props.name,\n        \"aria-level\": level,\n        \"aria-posinset\": position,\n        \"aria-setsize\": this.props.numChildren,\n        \"aria-expanded\": expanded,\n        onClick: this.handleCollectionClick,\n        onKeyDown: this.handleCollectionKeyDown,\n        onFocus: function onFocus(e, n) {\n          return _this4.handleFocus(e, {\n            id: id,\n            type: 'collection'\n          });\n        },\n        onBlur: function onBlur(e, n) {\n          return _this4.handleBlur(e, {\n            id: id,\n            type: 'collection'\n          });\n        }\n      }, ariaSelected), React.createElement(TreeButton, Object.assign({}, this.getCommonButtonProps(), {\n        expanded: expanded,\n        collectionIcon: collectionIcon,\n        collectionIconExpanded: collectionIconExpanded,\n        type: \"collection\",\n        selected: this.props.selection === \"collection_\".concat(id),\n        focused: this.state.focused === \"collection_\".concat(id)\n      })), this.renderChildren());\n    }\n  }, {\n    key: \"collectionsCount\",\n    get: function get() {\n      var collections = this.props.collections;\n      return collections && collections.length > 0 ? collections.length : 0;\n    }\n  }, {\n    key: \"itemsCount\",\n    get: function get() {\n      var items = this.props.items;\n      return items && items.length > 0 ? items.length : 0;\n    }\n  }, {\n    key: \"childCount\",\n    get: function get() {\n      return this.collectionsCount + this.itemsCount;\n    }\n  }]);\n\n  TreeCollection.displayName = \"TreeCollection\";\n  return TreeCollection;\n}(Component), _class2.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  name: PropTypes.string,\n  descriptor: PropTypes.string,\n  items: PropTypes.array,\n  collections: PropTypes.array,\n  expanded: PropTypes.bool,\n  selection: PropTypes.string,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['folderTree', 'indent']),\n  collectionIcon: PropTypes.func,\n  collectionIconExpanded: PropTypes.func,\n  itemIcon: PropTypes.func,\n  onItemClick: PropTypes.func,\n  onCollectionClick: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  numChildren: PropTypes.number,\n  level: PropTypes.number,\n  position: PropTypes.number\n}, _class2.defaultProps = {\n  collections: [],\n  items: [],\n  expanded: false,\n  selection: '',\n  size: 'medium',\n  variant: 'folderTree',\n  onItemClick: function onItemClick() {},\n  onCollectionClick: function onCollectionClick() {},\n  onKeyDown: function onKeyDown() {},\n  id: void 0,\n  name: void 0,\n  descriptor: void 0,\n  collectionIconExpanded: void 0,\n  collectionIcon: void 0,\n  itemIcon: void 0,\n  numChildren: void 0,\n  level: void 0,\n  position: void 0\n}, _temp)) || _class) || _class);\nexport default TreeCollection;\nexport { TreeCollection };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport keycode from 'keycode';\nimport { IconFolderLine, IconDocumentLine } from '@instructure/ui-icons';\nimport { themeable } from '@instructure/ui-themeable';\nimport { pickProps } from '@instructure/ui-react-utils';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { testable } from '@instructure/ui-testable';\nimport { TreeCollection } from './TreeCollection';\nvar styles = {\n  componentId: 'DBzxS',\n  template: function template(theme) {\n    return \"\\n\\n.DBzxS_cBsQ{margin-top:\".concat(theme.controlsTopMargin || 'inherit', \"}\\n\\n.DBzxS_cpmC{list-style-type:none;margin:0;outline:none;padding:0;position:relative}\\n\\n.DBzxS_cpmC,.DBzxS_cpmC:before{box-sizing:border-box}\\n\\n.DBzxS_cpmC:before{border:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.25rem;content:\\\"\\\";display:block;left:-0.25rem;opacity:0;pointer-events:none;position:absolute;right:-0.25rem;top:-0.25rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.DBzxS_cpmC:focus:before{opacity:1;transform:scale(1)}\");\n  },\n  'controls': 'DBzxS_cBsQ',\n  'list': 'DBzxS_cpmC'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar TreeBrowser = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TreeBrowser, _Component);\n\n  function TreeBrowser(props) {\n    var _this;\n\n    _classCallCheck(this, TreeBrowser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TreeBrowser).call(this, props));\n\n    _this.handleCollectionClick = function (e, collection) {\n      var expand = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      e.stopPropagation();\n      var onCollectionClick = _this.props.onCollectionClick;\n      if (expand) _this.expandOrCollapseNode(collection);\n      onCollectionClick(collection.id, collection); // TODO: this should pass the event as the first arg\n\n      _this.handleSelection(collection.id, 'collection');\n    };\n\n    _this.handleItemClick = function (e, item) {\n      e.stopPropagation();\n      var onItemClick = _this.props.onItemClick;\n      onItemClick(item);\n\n      _this.handleSelection(item.id, 'item'); // TODO: this should pass the event as the first arg\n\n    };\n\n    _this.handleKeyDown = function (event, node) {\n      event.stopPropagation();\n\n      switch (event.keyCode) {\n        case keycode.codes.down:\n        case keycode.codes.j:\n          _this.moveFocus(1);\n\n          break;\n\n        case keycode.codes.up:\n        case keycode.codes.k:\n          _this.moveFocus(-1);\n\n          break;\n\n        case keycode.codes.home:\n        case keycode.codes.end:\n          _this.homeOrEnd(event.keyCode);\n\n          break;\n\n        case keycode.codes.left:\n        case keycode.codes.right:\n          _this.handleLeftOrRightArrow(event.keyCode, node);\n\n          break;\n\n        case keycode.codes.enter:\n        case keycode.codes.space:\n          _this.handleActivation(event, node);\n\n          break;\n\n        default:\n          return;\n      }\n\n      event.preventDefault();\n    };\n\n    _this.state = {\n      selection: ''\n    };\n\n    if (typeof _this.props.expanded === 'undefined') {\n      _this.state.expanded = props.defaultExpanded;\n    }\n\n    return _this;\n  }\n\n  _createClass(TreeBrowser, [{\n    key: \"getExpanded\",\n    value: function getExpanded(state, props) {\n      return typeof props.expanded === 'undefined' ? state.expanded : props.expanded;\n    }\n  }, {\n    key: \"expandOrCollapseNode\",\n    value: function expandOrCollapseNode(collection) {\n      var _this2 = this;\n\n      this.props.onCollectionToggle(collection);\n\n      if (typeof this.props.expanded === 'undefined') {\n        this.setState(function (state, props) {\n          var expanded = [].concat(_this2.getExpanded(state, props));\n\n          var expandedIndex = _this2.getExpandedIndex(expanded, collection.id);\n\n          if (collection.expanded && expandedIndex < 0) {\n            expanded.push(collection.id);\n          } else if (expandedIndex >= 0) {\n            expanded.splice(expandedIndex, 1);\n          }\n\n          return {\n            expanded: expanded\n          };\n        });\n      }\n    }\n  }, {\n    key: \"handleSelection\",\n    value: function handleSelection(id, type) {\n      var selectionType = this.props.selectionType;\n      selectionType === 'single' && this.setState(function (state) {\n        var selection = \"\".concat(type, \"_\").concat(id);\n\n        if (state.selection !== selection) {\n          return {\n            selection: selection\n          };\n        } else {\n          return state;\n        }\n      });\n    }\n  }, {\n    key: \"getNavigableNodes\",\n    value: function getNavigableNodes() {\n      return Array.from(this._root.querySelectorAll('[role=\"treeitem\"]'));\n    }\n  }, {\n    key: \"moveFocus\",\n    value: function moveFocus(delta) {\n      var nodes = this.getNavigableNodes();\n      var active = nodes.indexOf(window.document.activeElement);\n      var next = active + delta;\n\n      if (next < 0) {\n        next = 0;\n      } else if (next >= nodes.length) {\n        next = nodes.length - 1;\n      }\n\n      nodes.forEach(function (n) {\n        n.setAttribute('tabindex', '-1');\n      });\n      nodes[next].setAttribute('tabindex', '0');\n      nodes[next].focus();\n    }\n  }, {\n    key: \"homeOrEnd\",\n    value: function homeOrEnd(keyCode) {\n      var length = this.getNavigableNodes().length;\n\n      if (keyCode === keycode.codes.home) {\n        this.moveFocus(1 - length);\n      } else {\n        this.moveFocus(length - 1);\n      }\n    }\n  }, {\n    key: \"handleLeftOrRightArrow\",\n    value: function handleLeftOrRightArrow(keyCode, node) {\n      var ltr = !(this._root.parentElement.dir === 'rtl' || document.dir === 'rtl');\n\n      if (ltr && keyCode === keycode.codes.left || !ltr && keyCode == keycode.codes.right) {\n        this.handleCloseOrPrevious(node);\n      } else {\n        this.handleOpenOrNext(node);\n      }\n    }\n  }, {\n    key: \"handleOpenOrNext\",\n    value: function handleOpenOrNext(node) {\n      if (node && !this.expanded.includes(node.id) && node.type === 'collection') {\n        this.expandOrCollapseNode(node);\n      } else {\n        this.moveFocus(1);\n      }\n    }\n  }, {\n    key: \"handleCloseOrPrevious\",\n    value: function handleCloseOrPrevious(node) {\n      if (node && this.expanded.includes(node.id) && node.type === 'collection') {\n        this.expandOrCollapseNode(node);\n      } else {\n        this.moveFocus(-1);\n      }\n    }\n  }, {\n    key: \"handleActivation\",\n    value: function handleActivation(event, node) {\n      if (node == null) return;\n\n      if (node.type === 'collection') {\n        this.handleCollectionClick(event, node, this.props.selectionType === 'none');\n      } else {\n        this.handleItemClick(event, node);\n      }\n    }\n  }, {\n    key: \"getSubCollections\",\n    value: function getSubCollections(collection) {\n      var _this3 = this;\n\n      var collections = [].concat(collection.collections || []);\n      return collections.map(function (id) {\n        return _this3.getCollectionProps(_this3.props.collections[id]);\n      }).filter(function (collection) {\n        return collection != null;\n      });\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(collection) {\n      var _this4 = this;\n\n      if (collection.items) {\n        var items = [].concat(collection.items);\n        return items.map(function (id) {\n          return _objectSpread({}, _this4.props.items[id]);\n        }).filter(function (item) {\n          return item != null;\n        });\n      } else {\n        return [];\n      }\n    }\n  }, {\n    key: \"getCollectionProps\",\n    value: function getCollectionProps(collection) {\n      var props = {\n        id: collection.id,\n        name: collection.name,\n        descriptor: collection.descriptor,\n        expanded: this.getExpandedIndex(this.expanded, collection.id) >= 0,\n        items: this.getItems(collection),\n        collections: this.getSubCollections(collection)\n      };\n      return props;\n    }\n  }, {\n    key: \"getExpandedIndex\",\n    value: function getExpandedIndex(expanded, id) {\n      return expanded.findIndex(function (expanded) {\n        return String(expanded) === String(id);\n      });\n    }\n  }, {\n    key: \"renderRoot\",\n    value: function renderRoot() {\n      var _this5 = this;\n\n      return this.collections.map(function (collection, i) {\n        return React.createElement(TreeCollection, Object.assign({\n          key: i\n        }, pickProps(_this5.props, TreeCollection.propTypes), _this5.getCollectionProps(collection), {\n          selection: _this5.state.selection,\n          onItemClick: _this5.handleItemClick,\n          onCollectionClick: _this5.handleCollectionClick,\n          onKeyDown: _this5.handleKeyDown,\n          numChildren: _this5.collections.length,\n          level: 1,\n          position: 1\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(\"ul\", {\n        className: styles.list,\n        tabIndex: 0,\n        role: \"tree\",\n        onKeyDown: this.handleKeyDown,\n        ref: function ref(el) {\n          _this6._root = el;\n        },\n        \"aria-label\": this.props.treeLabel\n      }, this.renderRoot());\n    }\n  }, {\n    key: \"collections\",\n    get: function get() {\n      var _this$props = this.props,\n          collections = _this$props.collections,\n          rootId = _this$props.rootId,\n          showRootCollection = _this$props.showRootCollection;\n\n      if (typeof rootId !== 'undefined' && showRootCollection) {\n        return [collections[rootId]];\n      } else if (typeof rootId !== 'undefined') {\n        return collections[rootId].collections.map(function (id) {\n          return collections[id];\n        }).filter(function (collection) {\n          return collection != null;\n        });\n      } else {\n        return Object.keys(collections).map(function (id) {\n          return collections[id];\n        }).filter(function (collection) {\n          return collection != null;\n        });\n      }\n    }\n  }, {\n    key: \"expanded\",\n    get: function get() {\n      return this.getExpanded(this.state, this.props);\n    }\n  }]);\n\n  TreeBrowser.displayName = \"TreeBrowser\";\n  return TreeBrowser;\n}(Component), _class2.propTypes = {\n  /**\n  * a normalized hash of collections, keyed by id, that contain an\n  * :id, :name, :items (an array of item ids), :collections (an array of\n  * collection ids), and optional :descriptor text.\n  * Each collection must have a unique id.\n  */\n  collections: PropTypes.object.isRequired,\n\n  /**\n  * a hash of items, keyed by id, that contain an :id, :name,\n  * optional :descriptor text, and optional :thumbnail url\n  */\n  items: PropTypes.object.isRequired,\n\n  /**\n  * specifies the id of the root level collection, if present.\n  * if no root is specified, all collections will be rendered\n  * at the top level\n  **/\n  rootId: PropTypes.number,\n\n  /**\n  * an array of expanded collection ids, must be accompanied by an 'onCollectionToggle' prop\n  */\n  expanded: controllable(PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])), 'onCollectionToggle'),\n\n  /**\n  * an array of collection ids to expand by default\n  */\n  defaultExpanded: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  // There are 2 types of tree selection:  single and multi.\n  // This is set up to allow for \"multi\" in the future without having to deprecate the old API.\n  selectionType: PropTypes.oneOf(['none', 'single']),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['folderTree', 'indent']),\n  collectionIcon: PropTypes.func,\n  collectionIconExpanded: PropTypes.func,\n  itemIcon: PropTypes.func,\n\n  /**\n  * whether or not to show the root collection specified in rootId prop or\n  * to begin with its immediate subcollections and items instead\n  */\n  showRootCollection: PropTypes.bool,\n  onCollectionClick: PropTypes.func,\n  onCollectionToggle: PropTypes.func,\n  onItemClick: PropTypes.func,\n\n  /**\n  * An optional label to assist visually impaired users\n  */\n  treeLabel: PropTypes.string\n}, _class2.defaultProps = {\n  size: 'medium',\n  variant: 'folderTree',\n  showRootCollection: true,\n  collectionIcon: IconFolderLine,\n  collectionIconExpanded: IconFolderLine,\n  itemIcon: IconDocumentLine,\n  defaultExpanded: [],\n  selectionType: 'none',\n  onItemClick: function onItemClick(item) {},\n  onCollectionClick: function onCollectionClick(id, collection) {},\n  onCollectionToggle: function onCollectionToggle(collection) {},\n  rootId: void 0,\n  expanded: void 0,\n  treeLabel: void 0\n}, _temp)) || _class) || _class);\nexport default TreeBrowser;\nexport { TreeBrowser };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      borders = _ref.borders;\n  return {\n    fontFamily: typography.fontFamily,\n    baseSpacingSmall: spacing.xSmall,\n    baseSpacingMedium: spacing.small,\n    baseSpacingLarge: '1rem',\n    borderWidth: borders.widthSmall,\n    borderColor: colors.borderDark\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      borders = _ref.borders;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    fontSize: typography.fontSizeSmall,\n    controlsTopMargin: spacing.small,\n    borderRadius: borders.radiusMedium,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineStyle: borders.style\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1467.552 1700.252l297.428-297.428 155.362 155.362L1558.527 1920H368.814L7 1558.186l155.361-155.362 297.429 297.428h1007.762zM965.902 0l517.175 517.176-155.361 155.361-251.941-251.94v1002.708H856.028V420.597l-251.941 251.94-155.362-155.361L965.901 0z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconUploadSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconUploadSolid, _Component);\n\n  function IconUploadSolid() {\n    _classCallCheck(this, IconUploadSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconUploadSolid).apply(this, arguments));\n  }\n\n  _createClass(IconUploadSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconUpload\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconUploadSolid.displayName = \"IconUploadSolid\";\n  return IconUploadSolid;\n}(Component);\n\nIconUploadSolid.glyphName = 'upload';\nIconUploadSolid.variant = 'Solid';\nIconUploadSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconUploadSolid;\nexport { IconUploadSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M572.501 747l-254.933 815.893-101.867-31.786 278.507-890.774h1105.813v-320H783.808L612.181 107H.021v1546.667c0 88.213 71.787 160 160 160h1388.054c75.946 0 141.973-54.08 156.906-128.64L1892.608 747H572.501z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconOpenFolderSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconOpenFolderSolid, _Component);\n\n  function IconOpenFolderSolid() {\n    _classCallCheck(this, IconOpenFolderSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconOpenFolderSolid).apply(this, arguments));\n  }\n\n  _createClass(IconOpenFolderSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconOpenFolder\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconOpenFolderSolid.displayName = \"IconOpenFolderSolid\";\n  return IconOpenFolderSolid;\n}(Component);\n\nIconOpenFolderSolid.glyphName = 'open-folder';\nIconOpenFolderSolid.variant = 'Solid';\nIconOpenFolderSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconOpenFolderSolid;\nexport { IconOpenFolderSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M225.882 564.765V451.824h764.386L764.386 113H0v1524.706c0 93.402 76.01 169.412 169.412 169.412h1581.176c93.403 0 169.412-76.01 169.412-169.412V564.765H225.882z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconFolderSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconFolderSolid, _Component);\n\n  function IconFolderSolid() {\n    _classCallCheck(this, IconFolderSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconFolderSolid).apply(this, arguments));\n  }\n\n  _createClass(IconFolderSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconFolder\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconFolderSolid.displayName = \"IconFolderSolid\";\n  return IconFolderSolid;\n}(Component);\n\nIconFolderSolid.glyphName = 'folder';\nIconFolderSolid.variant = 'Solid';\nIconFolderSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconFolderSolid;\nexport { IconFolderSolid };","// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport axios from 'axios'\n\nconst stringIds = {Accept: 'application/json+canvas-string-ids'}\n\nexport function getRootFolder(contextType, contextId) {\n  return axios.get(`/api/v1/${contextType}/${contextId}/folders/root`, stringIds)\n}\n\nfunction createFormData(data) {\n  const formData = new FormData()\n  Object.keys(data).forEach(key => formData.append(key, data[key]))\n  return formData\n}\n\nfunction onFileUploadInfoReceived(file, uploadInfo, onSuccess, onFailure) {\n  const formData = createFormData({...uploadInfo.upload_params, file})\n  const config = {'Content-Type': 'multipart/form-data', ...stringIds}\n  axios\n    .post(uploadInfo.upload_url, formData, config)\n    .then(response => onSuccess(response.data))\n    .catch(response => onFailure(response))\n}\n\nexport function uploadFile(file, folderId, onSuccess, onFailure) {\n  axios\n    .post(\n      `/api/v1/folders/${folderId}/files`,\n      {\n        name: file.name,\n        size: file.size,\n        parent_folder_id: folderId,\n        on_duplicate: 'rename'\n      },\n      stringIds\n    )\n    .then(response => onFileUploadInfoReceived(file, response.data, onSuccess, onFailure))\n    .catch(response => onFailure(response))\n}\n","// Copyright (C) 2017 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport I18n from 'i18n!react_files'\nimport React from 'react'\nimport _ from 'lodash'\nimport $ from 'jquery'\nimport axios from 'axios'\nimport minimatch from 'minimatch'\nimport {TreeBrowser} from '@instructure/ui-tree-browser'\nimport {Text, Spinner} from '@instructure/ui-elements'\nimport {Button} from '@instructure/ui-buttons'\nimport {Mask} from '@instructure/ui-overlays'\nimport {ScreenReaderContent} from '@instructure/ui-a11y'\nimport splitAssetString from 'compiled/str/splitAssetString'\nimport {\n  IconOpenFolderSolid,\n  IconFolderSolid,\n  IconUploadSolid,\n  IconImageSolid\n} from '@instructure/ui-icons'\nimport PropTypes from 'prop-types'\nimport {getRootFolder, uploadFile} from 'jsx/files/utils/apiFileUtils'\nimport parseLinkHeader from '../parseLinkHeader'\nimport {showFlashSuccess, showFlashError} from '../FlashAlert'\nimport natcompare from '../../../coffeescripts/util/natcompare'\n/* eslint-disable react/sort-comp */\n\nclass FileBrowser extends React.Component {\n  static propTypes = {\n    allowUpload: PropTypes.bool,\n    selectFile: PropTypes.func.isRequired,\n    contentTypes: PropTypes.arrayOf(PropTypes.string),\n    useContextAssets: PropTypes.bool\n  }\n\n  static defaultProps = {\n    allowUpload: true,\n    contentTypes: ['*/*'],\n    useContextAssets: true\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      collections: {0: {collections: []}},\n      items: {},\n      openFolders: [],\n      uploadFolder: null,\n      uploading: false,\n      loadingCount: 0\n    }\n  }\n\n  componentDidMount() {\n    this.getRootFolders()\n  }\n\n  getContextName(contextType) {\n    if (contextType === 'courses') {\n      return I18n.t('Course files')\n    } else {\n      return I18n.t('Group files')\n    }\n  }\n\n  getContextInfo(assetString) {\n    const contextTypeAndId = splitAssetString(assetString)\n    if (contextTypeAndId && contextTypeAndId[0] && contextTypeAndId[1]) {\n      const contextName = this.getContextName(contextTypeAndId[0])\n      return {name: contextName, type: contextTypeAndId[0], id: contextTypeAndId[1]}\n    }\n  }\n\n  getRootFolders() {\n    if (this.props.useContextAssets) {\n      this.getContextFolders()\n    }\n    this.getUserFolders()\n  }\n\n  getUserFolders() {\n    this.getRootFolderData('users', 'self', {name: I18n.t('My files')})\n  }\n\n  getContextFolders() {\n    if (!ENV.context_asset_string) return\n    const contextInfo = this.getContextInfo(ENV.context_asset_string)\n    if (contextInfo && contextInfo.type && contextInfo.id) {\n      this.getRootFolderData(contextInfo.type, contextInfo.id, {name: contextInfo.name})\n    }\n  }\n\n  increaseLoadingCount() {\n    let {loadingCount} = this.state\n    loadingCount += 1\n    this.setState({loadingCount})\n  }\n\n  decreaseLoadingCount() {\n    let {loadingCount} = this.state\n    loadingCount -= 1\n    this.setState({loadingCount})\n  }\n\n  getRootFolderData(context, id, opts = {}) {\n    this.increaseLoadingCount()\n    getRootFolder(context, id)\n      .then(response => this.populateRootFolder(response.data, opts))\n      .catch(error => {\n        this.decreaseLoadingCount()\n        if (error.response && error.response.status !== 401) {\n          this.setFailureMessage(I18n.t('Something went wrong'))\n        }\n      })\n  }\n\n  populateRootFolder(data, opts = {}) {\n    this.decreaseLoadingCount()\n    this.populateCollectionsList([data], opts)\n    this.getFolderData(data.id)\n  }\n\n  getFolderData(id) {\n    const {collections} = this.state\n    if (!collections[id].locked) {\n      this.getPaginatedData(this.folderFileApiUrl(id, 'folders'), this.populateCollectionsList)\n      this.getPaginatedData(this.folderFileApiUrl(id), this.populateItemsList)\n    }\n  }\n\n  getPaginatedData(url, callback) {\n    axios.get(url).then(response => {\n      callback(response.data)\n      const nextUrl = parseLinkHeader(response.headers.link).next\n      if (nextUrl) {\n        this.getPaginatedData(nextUrl, callback)\n      }\n    })\n  }\n\n  folderFileApiUrl(folderId, type = 'files') {\n    return `/api/v1/folders/${folderId}/${type}`\n  }\n\n  populateCollectionsList = (folderList, opts = {}) => {\n    const newCollections = _.cloneDeep(this.state.collections)\n    folderList.forEach(folder => {\n      const collection = this.formatFolderInfo(folder, opts)\n      newCollections[collection.id] = collection\n      const parent_id = folder.parent_folder_id || 0\n      const collectionCollections = newCollections[parent_id].collections\n      if (!collectionCollections.includes(collection.id)) {\n        collectionCollections.push(collection.id)\n        newCollections[parent_id].collections = this.orderedIdsFromList(\n          newCollections,\n          collectionCollections\n        )\n      }\n    })\n    this.setState({collections: newCollections})\n    folderList.forEach(folder => {\n      if (this.state.openFolders.includes(folder.parent_folder_id)) {\n        this.getFolderData(folder.id)\n      }\n    })\n  }\n\n  contentTypeIsAllowed(contentType) {\n    for (const pattern of this.props.contentTypes) {\n      if (minimatch(contentType, pattern)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  populateItemsList = fileList => {\n    const newItems = _.cloneDeep(this.state.items)\n    const newCollections = _.cloneDeep(this.state.collections)\n    fileList.forEach(file => {\n      if (this.contentTypeIsAllowed(file['content-type'])) {\n        const item = this.formatFileInfo(file)\n        newItems[item.id] = item\n        const folder_id = file.folder_id\n        const collectionItems = newCollections[folder_id].items\n        if (!collectionItems.includes(item.id)) {\n          collectionItems.push(item.id)\n          newCollections[folder_id].items = this.orderedIdsFromList(newItems, collectionItems)\n        }\n      }\n    })\n    this.setState({items: newItems, collections: newCollections})\n  }\n\n  formatFolderInfo(apiFolder, opts = {}) {\n    const descriptor = apiFolder.locked_for_user ? I18n.t('Locked') : null\n    const folder = {\n      api: apiFolder,\n      id: apiFolder.id,\n      collections: [],\n      items: [],\n      name: apiFolder.name,\n      context: `/${apiFolder.context_type.toLowerCase()}s/${apiFolder.context_id}`,\n      canUpload: apiFolder.can_upload,\n      locked: apiFolder.locked_for_user,\n      descriptor,\n      ...opts\n    }\n    const existingCollections = this.state.collections[apiFolder.id]\n    Object.assign(\n      folder,\n      existingCollections && {\n        collections: existingCollections.collections,\n        items: existingCollections.items\n      }\n    )\n    return folder\n  }\n\n  formatFileInfo(apiFile, opts = {}) {\n    const {collections} = this.state\n    const context = collections[apiFile.folder_id].context\n    const file = {\n      api: apiFile,\n      id: apiFile.id,\n      name: apiFile.display_name,\n      thumbnail: apiFile.thumbnail_url,\n      src: `${context}/files/${apiFile.id}/preview${\n        context.includes('user') ? `?verifier=${apiFile.uuid}` : ''\n      }`,\n      alt: apiFile.display_name,\n      ...opts\n    }\n    return file\n  }\n\n  orderedIdsFromList(list, ids) {\n    try {\n      const sortedIds = ids.sort((a, b) => natcompare.strings(list[a].name, list[b].name))\n      return sortedIds\n    } catch (error) {\n      console.error(error)\n      return ids\n    }\n  }\n\n  onFolderToggle = folder => {\n    return this.onFolderClick(folder.id, folder)\n  }\n\n  onFolderClick = (folderId, folder) => {\n    const collection = this.state.collections[folderId]\n    let newFolders = []\n    const {openFolders} = this.state\n    if (!collection.locked && openFolders.includes(folderId)) {\n      newFolders = newFolders.concat(openFolders.filter(id => id !== folderId))\n    } else if (!collection.locked) {\n      newFolders = newFolders.concat(openFolders)\n      newFolders.push(folderId)\n      collection.collections.forEach(id => this.getFolderData(id))\n    }\n    return this.setState({openFolders: newFolders, uploadFolder: folderId})\n  }\n\n  onFileClick = file => {\n    const folder = this.findFolderForFile(file)\n    this.setState({uploadFolder: folder && folder.id})\n    this.props.selectFile(this.state.items[file.id])\n  }\n\n  onInputChange = files => {\n    if (files) {\n      this.submitFile(files[0])\n    }\n  }\n\n  submitFile = file => {\n    this.setState({uploading: true})\n    uploadFile(file, this.state.uploadFolder, this.onUploadSucceed, this.onUploadFail)\n  }\n\n  onUploadSucceed = response => {\n    this.populateItemsList([response])\n    this.clearUploadInfo()\n    const folder = this.state.collections[response.folder_id]\n    this.setSuccessMessage(I18n.t('Success: File uploaded'))\n    if ($(`button:contains('${response.display_name}')`).length === 0) {\n      $(`button:contains('${folder && folder.name}')`).click()\n    }\n    const button = $(`button:contains('${response.display_name}')`)\n    $('.file-browser__tree').scrollTo(button)\n    button.click()\n  }\n\n  findFolderForFile(file) {\n    const {collections} = this.state\n    const folderKey = Object.keys(collections).find(key => {\n      const items = collections[key].items\n      if (items && items.includes(file.id)) return key\n    })\n    return collections[folderKey]\n  }\n\n  onUploadFail = () => {\n    this.clearUploadInfo()\n    this.setFailureMessage(I18n.t('File upload failed'))\n  }\n\n  clearUploadInfo() {\n    this.setState({uploading: false})\n    this.uploadInput.value = ''\n  }\n\n  setSuccessMessage = message => {\n    showFlashSuccess(message)()\n  }\n\n  setFailureMessage = message => {\n    showFlashError(message)()\n  }\n\n  selectLocalFile = () => {\n    this.uploadInput.click()\n  }\n\n  renderUploadDialog() {\n    if (!this.props.allowUpload) {\n      return null\n    }\n    const uploadFolder = this.state.collections[this.state.uploadFolder]\n    const disabled = !uploadFolder || uploadFolder.locked || !uploadFolder.canUpload\n    const srError = disabled ? (\n      <ScreenReaderContent>{I18n.t('Upload not available for this folder')}</ScreenReaderContent>\n    ) : (\n      ''\n    )\n    const acceptContentTypes = this.props.contentTypes.join(',')\n    return (\n      <div className=\"image-upload__form\">\n        <input\n          onChange={e => this.onInputChange(e.target.files)}\n          ref={i => {\n            this.uploadInput = i\n          }}\n          type=\"file\"\n          accept={acceptContentTypes}\n          className=\"hidden\"\n        />\n        <Button\n          id=\"image-upload__upload\"\n          onClick={this.selectLocalFile}\n          disabled={disabled}\n          variant=\"ghost\"\n          icon={IconUploadSolid}\n        >\n          {I18n.t('Upload File')} {srError}\n        </Button>\n      </div>\n    )\n  }\n\n  renderMask() {\n    if (this.state.uploading) {\n      return (\n        <Mask>\n          <Spinner className=\"file-browser__uploading\" renderTitle={I18n.t('File uploading')} />\n        </Mask>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderLoading() {\n    if (this.state.loadingCount > 0) {\n      return (\n        <Spinner\n          className=\"file-browser__loading\"\n          renderTitle={I18n.t('Loading folders')}\n          size=\"small\"\n        />\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    const element = (\n      <div className=\"file-browser__container\">\n        <Text>{I18n.t('Available folders')}</Text>\n        <div className=\"file-browser__tree\">\n          <TreeBrowser\n            collections={this.state.collections}\n            items={this.state.items}\n            size=\"medium\"\n            onCollectionToggle={this.onFolderToggle}\n            onCollectionClick={this.onFolderClick}\n            onItemClick={this.onFileClick}\n            treeLabel={I18n.t('Folder tree')}\n            rootId={0}\n            showRootCollection={false}\n            defaultExpanded={this.state.openFolders}\n            collectionIconExpanded={IconOpenFolderSolid}\n            collectionIcon={IconFolderSolid}\n            itemIcon={IconImageSolid}\n            selectionType=\"single\"\n          />\n          {this.renderMask()}\n          {this.renderLoading()}\n        </div>\n        {this.renderUploadDialog()}\n      </div>\n    )\n    return element\n  }\n}\n\nexport default FileBrowser\n/* eslint-enable react/sort-comp */\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { formatVariableName } from './formatVariableName';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Formats object keys as a CSS variable (prefixed with `--`)\n * @param {Object} variables\n * @param {String} prefix an optional prefix to add to the variable names\n * @returns {Object} variables object with the keys formatted as CSS variables\n */\n\nfunction formatVariableNames(variables, prefix) {\n  var formatted = {};\n  Object.keys(variables || {}).forEach(function (key) {\n    formatted[formatVariableName(key, prefix)] = variables[key];\n  });\n  return formatted;\n}\n\nexport default formatVariableNames;\nexport { formatVariableNames };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * Polyfill custom media for [themeable](#themeable) components.\n * Searches for strings like `(--mediumMin)` and replaces it with the\n * variable value (e.g. `variables.mediumMin`)\n * @param {String} cssText the CSS text to apply the custom media to\n * @param {Object|Function} variables object containing custom media variables, or a function that returns the variables object that will be lazy-evaluated only if there are matched media query\n * @returns {String} CSS text with custom media values applied\n */\nfunction applyCustomMediaToCss(cssText, variables) {\n  var matches = getMatches(cssText, /@media\\s*[^(]*\\((--[^)]+)\\)?/g);\n  var result = cssText;\n\n  if (matches.length > 0) {\n    var vars = typeof variables === 'function' ? variables() : variables;\n    matches.forEach(function (match) {\n      var matcher = new RegExp(match[1].replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'gm');\n      result = result.replace(matcher, vars[match[1]]);\n    });\n  }\n\n  return result;\n}\n\nfunction getMatches(str, regex) {\n  var matches = [];\n  var match;\n  var matcher = regex;\n  matcher.lastIndex = 0;\n  matcher = new RegExp(matcher.source, 'g'); // eslint-disable-next-line no-cond-assign\n\n  while ((match = matcher.exec(str)) !== null) {\n    matches.push(match);\n\n    if (matcher.lastIndex === match.index) {\n      matcher.lastIndex++;\n    }\n  }\n\n  return matches;\n}\n\nexport default applyCustomMediaToCss;\nexport { applyCustomMediaToCss };","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n//  based on: https://github.com/ai/nanoid/blob/master/non-secure.js\nvar dictionary = 'getRandomVcryp0123456789bfhijklqsuvwxzABCDEFGHIJKLMNOPQSTUWXYZ';\nvar dictionaryLengthMinus1 = dictionary.length - 1;\n/**\n * ---\n * category: utilities\n * ---\n * Generate a unique (CSS-safe) id string\n *\n * @module uid\n * @param {String} prefix a string to prefix the id for debugging in non-production env\n * @param {Number} length id length (in characters, minus the prefix)\n * @returns {String} a unique id\n */\n\nfunction uid() {\n  var prefix = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = \"u\".concat(_uid('', length - 1));\n\n  if (prefix && process.env.NODE_ENV !== 'production') {\n    return \"\".concat(prefix, \"__\").concat(id);\n  } else {\n    return id;\n  }\n}\n\nfunction _random(size) {\n  var result = [];\n\n  while (0 < size--) {\n    /* eslint-disable-line no-param-reassign */\n    result.push(Math.floor(Math.random() * 256));\n  }\n\n  return result;\n}\n\nfunction _uid(_ignored) {\n  var idLength = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = '';\n\n  var bytes = _random(idLength);\n\n  while (0 < idLength--) {\n    /* eslint-disable-line no-param-reassign */\n    id += dictionary[bytes[idLength] & dictionaryLengthMinus1];\n  }\n\n  return id;\n}\n\nexport default uid;\nexport { uid };","/*\n * Copyright (C) 2016 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default function(linkHeader) {\n  if (!linkHeader) {\n    return []\n  }\n  const retVal = {}\n  linkHeader\n    .split(',')\n    .map(partOfHeader => partOfHeader.split('; '))\n    .forEach(link => {\n      const myUrl = link[0].substring(1, link[0].length - 1)\n      let urlRel = link[1].split('=')\n      urlRel = urlRel[1]\n      urlRel = urlRel.substring(1, urlRel.length - 1)\n\n      retVal[urlRel] = myUrl\n    })\n  return retVal\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from '@instructure/ui-dom-utils';\nimport { isEdge } from '@instructure/ui-utils';\nvar cachedReturnVal;\n/**\n * ---\n * category: utilities/DOM\n * ---\n * check if CSS custom properties (CSS variables) are supported\n * @returns {Boolean} true if the DOM is available and CSS variables are supported\n */\n\nfunction customPropertiesSupported() {\n  if (typeof cachedReturnVal !== 'undefined') return cachedReturnVal; // Since JSDOM doesn't need to support CSS Custom properties to work correctly, we will\n  // say that they are supported if we are in JSDOM. This will keep unnecessary style tags\n  // from being added to the DOM, keeping test output clean.\n\n  var environmentIsJSDOM = navigator && navigator.userAgent && navigator.userAgent.includes('jsdom');\n  var browserSupportsCustomProperties = window.CSS && window.CSS.supports && window.CSS.supports('color', 'var(--primary)');\n  return cachedReturnVal = canUseDOM && !isEdge && ( // polyfill edge until improved css variable support\n  browserSupportsCustomProperties || environmentIsJSDOM);\n}\n\nexport default customPropertiesSupported;\nexport { customPropertiesSupported };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { warn as _warn } from \"@instructure/console\";\nimport { error as _error } from \"@instructure/console\";\nimport { mergeDeep, isEmpty } from '@instructure/ui-utils';\nimport { StyleSheet } from '@instructure/ui-stylesheet';\nimport { uid } from '@instructure/uid';\nimport { getCssText } from './getCssText';\nimport { toRules } from './transformCss';\nvar DEFAULT_THEME_KEY = '@@themeableDefaultTheme';\nvar GLOBAL_THEME_REGISTRY = 'GLOBAL_THEME_REGISTRY'; // initialize the registry:\n\nif (global[GLOBAL_THEME_REGISTRY]) {\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(false, \"[themeable] A theme registry has already been initialized. Ensure that you are importing only one copy of '@instructure/ui-themeable'.\"); // initialize the registry using whatever has been previously defined:\n\n\n  setRegistry(validateRegistry(global[GLOBAL_THEME_REGISTRY]));\n} else {\n  // initialize the registry to the default/empty state:\n  clearRegistry();\n}\n\nfunction makeRegistry() {\n  return {\n    styleSheet: StyleSheet,\n    defaultThemeKey: null,\n    components: _defineProperty({}, DEFAULT_THEME_KEY, {}),\n    themes: {},\n    registered: [] // the theme keys in the order they are registered\n\n  };\n}\n\nfunction validateRegistry(registry) {\n  var defaultRegistry = makeRegistry();\n\n  if (typeof registry === 'undefined') {\n    return defaultRegistry;\n  }\n\n  var valid = true;\n  Object.keys(defaultRegistry).forEach(function (key) {\n    if (typeof registry[key] === 'undefined') {\n      valid = false;\n    }\n  });\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(valid, '[themeable] Invalid global theme registry!');\n\n  return registry;\n}\n/**\n* Get the global theme registry\n* @return {object} The theme registry\n*/\n\n\nfunction getRegistry() {\n  return global[GLOBAL_THEME_REGISTRY];\n}\n/**\n* Set the global theme registry\n*/\n\n\nfunction setRegistry(registry) {\n  global[GLOBAL_THEME_REGISTRY] = registry;\n}\n/**\n* Clear/reset the global theme registry\n*/\n\n\nfunction clearRegistry() {\n  setRegistry(makeRegistry());\n}\n/**\n* Get the default theme key\n* @return {String} the default theme key\n*/\n\n\nfunction getDefaultThemeKey() {\n  var _getRegistry = getRegistry(),\n      defaultThemeKey = _getRegistry.defaultThemeKey,\n      registered = _getRegistry.registered;\n\n  return defaultThemeKey || registered[registered.length - 1] || DEFAULT_THEME_KEY;\n}\n/**\n* Get the default theme key\n* @param {String} the default theme key\n* @param {Object} overrides for the theme variables\n*/\n\n\nfunction setDefaultTheme(themeKey, overrides) {\n  var registry = getRegistry();\n  var theme = registry.themes[themeKey];\n\n  if (!theme) {\n    if (themeKey !== DEFAULT_THEME_KEY) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(theme, \"[themeable] Could not find theme: '\".concat(themeKey, \"' in the registry.\"));\n    }\n\n    theme = {};\n  }\n\n  registry.defaultThemeKey = themeKey;\n  registry.overrides = overrides;\n  return theme;\n}\n/**\n * Wraps a theme and provides a method to set as default and toggle between a11y and base\n *\n * @param {String} themeKey\n * @param {Object} options Provide the base theme and an optional accessible version\n */\n\n\nfunction makeTheme(_ref) {\n  var key = _ref.key,\n      variables = _ref.variables,\n      a11y = _ref.a11y,\n      immutable = _ref.immutable,\n      description = _ref.description;\n  var themeKey = key || uid();\n  return {\n    key: themeKey,\n    immutable: immutable,\n    variables: _objectSpread({}, variables),\n    description: description,\n    use: function use() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n          accessible = _ref2.accessible,\n          overrides = _ref2.overrides;\n\n      if (accessible) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warn(a11y && a11y.key, \"[themeable] No accessible theme provided for \".concat(themeKey, \".\"));\n\n        if (a11y && a11y.key) {\n          setDefaultTheme(a11y.key);\n        }\n      } else {\n        setDefaultTheme(themeKey, overrides);\n      }\n    }\n  };\n}\n\nfunction registerTheme(theme) {\n  var registry = getRegistry();\n  var registeredTheme;\n\n  if (theme.key && registry.themes[theme.key]) {\n    registeredTheme = registry.themes[theme.key];\n  } else {\n    registeredTheme = makeTheme(theme);\n    registry.themes[registeredTheme.key] = registeredTheme;\n    registry.registered.push(registeredTheme.key);\n  }\n\n  return registeredTheme;\n}\n\nfunction getRegisteredTheme(themeKey) {\n  var defaultTheme = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  if (!themeKey) return defaultTheme;\n  var theme = getRegistry().themes[themeKey];\n\n  if (theme) {\n    return theme;\n  } else {\n    if (themeKey !== DEFAULT_THEME_KEY) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(theme, \"[themeable] Could not find theme: '\".concat(themeKey, \"' in the registry.\"));\n    }\n\n    return defaultTheme;\n  }\n}\n\nfunction getVariablesWithOverrides(themeKey, overrides) {\n  var theme = getRegisteredTheme(themeKey);\n  var variables = theme.variables || {};\n  var overridesIsEmpty = isEmpty(overrides);\n\n  if (!overridesIsEmpty && theme.immutable) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn(false, \"[themeable] Theme, '\".concat(theme.key, \"', is immutable. Cannot apply overrides: \").concat(JSON.stringify(overrides)));\n\n    return variables;\n  }\n\n  var variablesIsEmpty = isEmpty(variables);\n  if (!variablesIsEmpty && !overridesIsEmpty) return mergeDeep(variables, overrides);\n  if (variablesIsEmpty) return overrides || {};\n  return variables;\n}\n/**\n* Merge theme variables for 'themeKey' with the defaults (and overrides)\n* @private\n* @param {String} themeKey\n* @param {Object} variable Theme overrides\n* @return {Object} A merged variables object\n*/\n\n\nfunction mergeWithDefaultThemeVariables(themeKey, overrides) {\n  var variables;\n\n  if (themeKey) {\n    variables = getVariablesWithOverrides(themeKey, overrides);\n  } else {\n    // fall back to defaults, but still apply overrides\n    var defaultOverrides = getRegistry().overrides;\n    var defaultOverridesIsEmpty = isEmpty(defaultOverrides);\n\n    if (!defaultOverridesIsEmpty && !isEmpty(overrides)) {\n      variables = mergeDeep(defaultOverrides, overrides);\n    } else if (defaultOverridesIsEmpty) {\n      variables = overrides;\n    } else {\n      variables = defaultOverrides;\n    }\n  }\n\n  return getVariablesWithOverrides(getDefaultThemeKey(), variables);\n}\n/**\n * Wraps a component theme function to merge its return values with the return\n * values of the default function\n * @private\n * @param {Function} componentThemeFunction\n * @param {String} themeKey\n * @return {Object} A wrapped theme object\n */\n\n\nfunction makeComponentTheme(componentThemeFunction, themeKey) {\n  return function (variables) {\n    var theme = {};\n\n    if (typeof componentThemeFunction === 'function') {\n      theme = componentThemeFunction(variables);\n    } // so that the components for the themeKey can\n    // just specify overrides we merge them with defaults here\n\n\n    var defaultComponentTheme = {};\n\n    if (typeof componentThemeFunction[themeKey] === 'function') {\n      defaultComponentTheme = componentThemeFunction[themeKey](variables);\n    }\n\n    if (!isEmpty(defaultComponentTheme) && !isEmpty(theme)) {\n      theme = _objectSpread({}, theme, {}, defaultComponentTheme);\n    } else if (isEmpty(theme)) {\n      theme = defaultComponentTheme;\n    }\n\n    return theme;\n  };\n}\n/**\n* Register a component theme function\n*\n* @param {String} key The theme key for the component (e.g., [Link.theme])\n* @param {Function} componentThemeFunction The function to use for preparing this component's theme\n*/\n\n\nfunction registerComponentTheme(componentKey, componentThemeFunction) {\n  var _getRegistry2 = getRegistry(),\n      components = _getRegistry2.components;\n\n  if (typeof componentThemeFunction !== 'function') {\n    return;\n  }\n\n  components[DEFAULT_THEME_KEY][componentKey] = componentThemeFunction;\n  Object.keys(componentThemeFunction).forEach(function (themeKey) {\n    if (!components.hasOwnProperty(themeKey)) {\n      // eslint-disable-line no-prototype-builtins\n      components[themeKey] = {};\n    }\n\n    components[themeKey][componentKey] = makeComponentTheme(componentThemeFunction, themeKey);\n  });\n}\n\nfunction getRegisteredComponents(themeKey) {\n  var _getRegistry3 = getRegistry(),\n      components = _getRegistry3.components;\n\n  var t = themeKey || getDefaultThemeKey(); // fall back to the default component theme functions\n\n  return _objectSpread({}, components[DEFAULT_THEME_KEY], {}, components[t]);\n}\n\nfunction getRegisteredComponent(themeKey, componentKey) {\n  var _getRegistry4 = getRegistry(),\n      components = _getRegistry4.components;\n\n  return components[themeKey] && components[themeKey][componentKey] || components[DEFAULT_THEME_KEY][componentKey];\n}\n/**\n* Generate themes for all registered [@themeable](#themeable) components,\n* to be used by [`<ApplyTheme />`](#ApplyTheme).\n*\n* @param {String} themeKey The theme to use (for global theme variables across components)\n* @param {Object} overrides theme variable overrides (usually for user defined values)\n* @return {Object} A theme config to use with `<ApplyTheme />`\n*/\n\n\nfunction generateTheme(themeKey, overrides) {\n  var registry = getRegistry();\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(registry.registered.length > 0, '[themeable] No themes have been registered. ' + 'Import a theme from @instructure/ui-themes or register a custom theme with registerTheme ' + '(see @instructure/ui-themeable).');\n\n  var components = getRegisteredComponents(themeKey);\n  var theme = {};\n  var variables = mergeWithDefaultThemeVariables(themeKey, overrides);\n\n  if (isEmpty(variables)) {\n    return;\n  }\n\n  Object.getOwnPropertySymbols(components).forEach(function (componentKey) {\n    theme[componentKey] = components[componentKey](variables);\n  });\n  return theme;\n}\n/**\n * Generate theme variables for a @themeable component.\n * If no themeKey is provided, the default theme will be generated.\n *\n * @param {Symbol} key The theme key for the component (e.g., [Link.theme])\n * @param {String} themeKey The theme to use to generate the variables (falls back to the default theme)\n * @param {Object} overrides overrides for component level theme variables (usually user defined)\n * @return {Object} A theme config for the component\n */\n\n\nfunction generateComponentTheme(componentKey, themeKey, overrides) {\n  var t = themeKey || getDefaultThemeKey();\n  var theme = getRegisteredTheme(t);\n  var componentTheme = {};\n  var cachedComponentTheme = theme[componentKey];\n\n  if (cachedComponentTheme) {\n    // use the cached component theme if it exists\n    componentTheme = cachedComponentTheme;\n  } else {\n    var variables = _objectSpread({\n      borders: {},\n      breakpoints: {},\n      colors: {},\n      forms: {},\n      media: {},\n      shadows: {},\n      spacing: {},\n      stacking: {},\n      transitions: {},\n      typography: {}\n    }, mergeWithDefaultThemeVariables(themeKey));\n\n    var componentThemeFunction = getRegisteredComponent(t, componentKey);\n\n    if (typeof componentThemeFunction === 'function') {\n      try {\n        componentTheme = componentThemeFunction(variables);\n      } catch (e) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(false, \"[themeable] \".concat(e));\n      }\n    }\n  }\n\n  if (isEmpty(overrides)) {\n    return theme[componentKey] = componentTheme;\n  } else if (theme.immutable) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn(false, \"[themeable] Theme '\".concat(t, \"' is immutable. Cannot apply overrides for '\").concat(componentKey.toString(), \"': \").concat(JSON.stringify(overrides)));\n\n    return componentTheme;\n  } else if (isEmpty(componentTheme)) {\n    return overrides;\n  } else {\n    return _objectSpread({}, componentTheme, {}, overrides);\n  }\n}\n\nfunction getRegisteredThemes() {\n  return getRegistry().themes;\n}\n\nfunction mountComponentStyles(template, defaultTheme, componentId) {\n  var _getRegistry5 = getRegistry(),\n      styleSheet = _getRegistry5.styleSheet;\n\n  if (styleSheet && !styleSheet.mounted(componentId)) {\n    var cssText = getCssText(template, defaultTheme, componentId);\n    styleSheet.mount(componentId, toRules(cssText));\n  }\n}\n\nfunction flushComponentStyles() {\n  var _getRegistry6 = getRegistry(),\n      styleSheet = _getRegistry6.styleSheet;\n\n  styleSheet && styleSheet.flush();\n}\n\nvar ThemeRegistry = {\n  getRegistry: getRegistry,\n  clearRegistry: clearRegistry,\n  setRegistry: setRegistry,\n  generateComponentTheme: generateComponentTheme,\n  generateTheme: generateTheme,\n  getRegisteredThemes: getRegisteredThemes,\n  registerComponentTheme: registerComponentTheme,\n  registerTheme: registerTheme,\n  mountComponentStyles: mountComponentStyles,\n  flushComponentStyles: flushComponentStyles\n};\nexport default ThemeRegistry;\nexport { ThemeRegistry, getRegistry, clearRegistry, setRegistry, generateComponentTheme, generateTheme, getRegisteredThemes, registerComponentTheme, registerTheme, mountComponentStyles, flushComponentStyles };","(function(root) {\n  var isOn = false;\n  var scrollbarSize;\n  var scrollTop;\n\n  function getScrollbarSize() {\n    if (typeof scrollbarSize !== 'undefined') return scrollbarSize;\n\n    var doc = document.documentElement;\n    var dummyScroller = document.createElement('div');\n    dummyScroller.setAttribute('style', 'width:99px;height:99px;' + 'position:absolute;top:-9999px;overflow:scroll;');\n    doc.appendChild(dummyScroller);\n    scrollbarSize = dummyScroller.offsetWidth - dummyScroller.clientWidth;\n    doc.removeChild(dummyScroller);\n    return scrollbarSize;\n  }\n\n  function hasScrollbar() {\n    return document.documentElement.scrollHeight > window.innerHeight;\n  }\n\n  function on(options) {\n    if (typeof document === 'undefined' || isOn) return;\n    var doc = document.documentElement;\n    scrollTop = window.pageYOffset;\n    if (hasScrollbar()) {\n      doc.style.width = 'calc(100% - '+ getScrollbarSize() +'px)';\n    } else {\n      doc.style.width = '100%';\n    }\n    doc.style.position = 'fixed';\n    doc.style.top = -scrollTop + 'px';\n    doc.style.overflow = 'hidden';\n    isOn = true;\n  }\n\n  function off() {\n    if (typeof document === 'undefined' || !isOn) return;\n    var doc = document.documentElement;\n    doc.style.width = '';\n    doc.style.position = '';\n    doc.style.top = '';\n    doc.style.overflow = '';\n    window.scroll(0, scrollTop);\n    isOn = false;\n  }\n\n  function toggle() {\n    if (isOn) {\n      off();\n      return;\n    }\n    on();\n  }\n\n  var noScroll = {\n    on: on,\n    off: off,\n    toggle: toggle,\n  };\n\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = noScroll;\n  } else {\n    root.noScroll = noScroll;\n  }\n})(this);\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n* ---\n* category: utilities/themes\n* ---\n* Parses a CSS string into an AST object\n* @module parseCss\n* @param {String} cssText CSS string to parse\n* @returns {Object} AST for the CSS string\n*/\nfunction parseCss() {\n  var cssText = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  var cleaned = cleanCss(cssText);\n  return parseLexed(lex(cleaned), cleaned);\n}\n/**\n* CSSRule types (https://developer.mozilla.org/en-US/docs/Web/API/CSSRule)\n*/\n\n\nvar ruleTypes = {\n  style: 1,\n  keyframes: 7,\n  media: 4\n};\n/**\n* Removes comments and import statements from a CSS string\n* (to prep for parsing and applying transforms)\n* @param {String} cssText CSS string to parse\n* @returns {String} cleaned CSS string\n*/\n\nfunction cleanCss() {\n  var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  // remove comments and imports\n  return text.replace(/\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim, '').replace(/@import[^;]*;/gim, '');\n}\n\nfunction lex(text) {\n  var rootNode = {\n    start: 0,\n    end: text.length\n  };\n  var node = rootNode;\n  var chars = text.split('');\n  chars.forEach(function (char, i) {\n    switch (char) {\n      case '{':\n        {\n          if (!node.rules) {\n            node.rules = [];\n          }\n\n          var parent = node;\n          var previous = parent.rules[parent.rules.length - 1];\n          node = {\n            start: i + 1,\n            parent: parent,\n            previous: previous\n          };\n          parent.rules.push(node);\n          break;\n        }\n\n      case '}':\n        {\n          node.end = i + 1;\n          node = node.parent || rootNode;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n  });\n  return rootNode;\n}\n\nfunction parseSelector(node, text) {\n  var start = node.previous ? node.previous.end : node.parent.start;\n  var end = node.start - 1;\n  var selector = text.substring(start, end);\n  selector = selector.replace(/\\s+/g, ' ');\n  selector = selector.substring(selector.lastIndexOf(';') + 1);\n  return selector.trim();\n}\n\nfunction parseRuleType(selector) {\n  if (selector.indexOf('@') === 0) {\n    if (selector.indexOf('@media') === 0) {\n      return ruleTypes.media;\n    } else if (selector.match(/^@[^\\s]*keyframes/)) {\n      return ruleTypes.keyframes;\n    }\n  } else {\n    return ruleTypes.style;\n  }\n}\n\nfunction parseLexed(node) {\n  var text = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : '';\n\n  /* eslint-disable no-param-reassign */\n  if (node.parent) {\n    node.selector = parseSelector(node, text);\n    node.type = parseRuleType(node.selector);\n  }\n\n  node.cssText = text.substring(node.start, node.end - 1).trim();\n\n  if (node.rules && node.rules.length > 0) {\n    node.rules = node.rules.map(function (rule) {\n      return parseLexed(rule, text);\n    });\n  }\n  /* eslint-enable no-param-reassign */\n\n\n  return node;\n}\n\nexport default parseCss;\nexport { parseCss, cleanCss, ruleTypes };","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * Formats a variable as a CSS variable (prefixed with `--`)\n * @param {String} variableName\n * @param {String} prefix an optional prefix to add to the variable name\n * @returns {String} formatted variable name\n */\nfunction formatVariableName(variableName, prefix) {\n  var name = prefix ? \"\".concat(prefix, \"-\").concat(variableName) : variableName;\n  return \"--\".concat(name);\n}\n\nexport default formatVariableName;\nexport { formatVariableName };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { parseCss, ruleTypes } from './parseCss';\n\nfunction transformCss(cssText, transform) {\n  var node = parseCss(cssText);\n\n  if (typeof transform === 'function') {\n    node = transformNode(node, transform);\n  }\n\n  return toCssText(node);\n}\n\nfunction isKeyframesSelector(rule) {\n  return rule.parent && rule.parent.type === ruleTypes.keyframes;\n}\n\nfunction toRules(cssText) {\n  var node = parseCss(cssText);\n  var rules = [];\n\n  if (node.rules && node.rules.length > 0) {\n    rules = node.rules.map(function (rule) {\n      return toCssText(rule);\n    });\n  } else {\n    var _cssText = toCssText(node);\n\n    if (_cssText) {\n      rules = [_cssText];\n    }\n  }\n\n  return rules;\n}\n\nfunction transformNode(node, transform) {\n  if (!node) {\n    return;\n  }\n\n  if (node.type === ruleTypes.style) {\n    return transform(node);\n  }\n\n  var rules = node.rules || [];\n\n  var transformed = _objectSpread({}, node);\n\n  transformed.rules = rules.map(function (rule) {\n    return transformNode(rule, transform);\n  });\n  return transformed;\n}\n\nfunction toCssText(node, text) {\n  var cssText = '';\n  var result = text || '';\n\n  if (node.rules && node.rules.length > 0) {\n    cssText = node.rules.map(function (rule) {\n      return toCssText(rule, cssText);\n    }).join('\\n');\n  } else {\n    cssText = node.cssText.trim();\n\n    if (cssText) {\n      cssText = \"  \".concat(cssText, \"\\n\");\n    }\n  }\n\n  if (cssText) {\n    var prefix = node.selector ? \"\".concat(node.selector, \" {\\n\") : '';\n    var suffix = node.selector ? '}\\n' : '';\n    result += \"\".concat(prefix).concat(cssText).concat(suffix);\n  }\n\n  return result;\n}\n\nexport default transformCss;\nexport { transformCss, toRules, isKeyframesSelector };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport noScroll from 'no-scroll';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ensureSingleChild, omitProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fvvQs',\n  template: function template(theme) {\n    return \"\\n\\n.fvvQs_bGBk{background:\".concat(theme.background || 'inherit', \";border:\").concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";bottom:0;box-sizing:border-box;display:flex;justify-content:center;left:0;outline:none;overflow:auto;position:absolute;right:0;top:0;z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n.fvvQs_bGBk:focus{border-color:\").concat(theme.focusBorderColor || 'inherit', \"}\\n\\n.fvvQs_cMOR{position:fixed}\\n\\n.fvvQs_dacV{align-items:flex-start}\\n\\n.fvvQs_cwzs{align-items:center}\\n\\n.fvvQs_cGWj{align-items:flex-end}\\n\\n.fvvQs_eFiI{align-items:stretch}\");\n  },\n  'root': 'fvvQs_bGBk',\n  'fullscreen': 'fvvQs_cMOR',\n  'top': 'fvvQs_dacV',\n  'center': 'fvvQs_cwzs',\n  'bottom': 'fvvQs_cGWj',\n  'stretch': 'fvvQs_eFiI'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar Mask = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Mask, _Component);\n\n  function Mask() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Mask);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Mask)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      _this.props.elementRef(el);\n    };\n\n    _this.contentRef = function (el) {\n      _this._content = el;\n    };\n\n    return _this;\n  }\n\n  _createClass(Mask, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.fullscreen) {\n        noScroll.on();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.fullscreen) {\n        noScroll.off();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var content = ensureSingleChild(this.props.children, {\n        ref: this.contentRef\n      });\n      var classes = classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[this.props.placement], true), _defineProperty(_classnames, styles.fullscreen, this.props.fullscreen), _classnames));\n\n      var props = _objectSpread({}, omitProps(this.props, Mask.propTypes), {\n        className: classes,\n        ref: this.handleElementRef\n      });\n\n      if (typeof this.props.onClick === 'function') {\n        props.onClick = this.props.onClick;\n        props.tabIndex = -1;\n      }\n\n      return React.createElement(\"span\", props, content);\n    }\n  }]);\n\n  Mask.displayName = \"Mask\";\n  return Mask;\n}(Component), _class2.propTypes = {\n  onDismiss: PropTypes.func,\n  placement: PropTypes.oneOf(['top', 'center', 'bottom', 'stretch']),\n  fullscreen: PropTypes.bool,\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  placement: 'center',\n  fullscreen: false,\n  onDismiss: void 0,\n  children: null,\n  onClick: void 0,\n  elementRef: function elementRef(el) {}\n}, _temp)) || _class);\nexport default Mask;\nexport { Mask };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      stacking = _ref.stacking;\n  return {\n    zIndex: stacking.topmost,\n    background: 'rgba(255, 255, 255, 0.75)',\n    borderColor: 'transparent',\n    focusBorderColor: colors.borderBrand,\n    borderRadius: borders.radiusMedium,\n    borderWidth: borders.widthSmall\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    focusBorderColor: variables['ic-brand-primary']\n  };\n};"],"sourceRoot":""}