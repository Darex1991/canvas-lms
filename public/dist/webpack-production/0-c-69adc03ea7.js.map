{"version":3,"sources":["webpack:///./node_modules/jquery-ui-touch-punch/jquery.ui.touch-punch.js","webpack:///./public/javascripts/vendor/jqueryui/draggable-unpatched.js","webpack:///./public/javascripts/vendor/jqueryui/dialog-unpatched.js","webpack:///./public/javascripts/vendor/jqueryui/dialog.js","webpack:///./public/javascripts/vendor/jqueryui/resizable.js","webpack:///./public/javascripts/vendor/jqueryui/mouse.js","webpack:///./public/javascripts/vendor/jqueryui/button.js"],"names":["$","support","touch","document","touchHandled","mouseProto","ui","mouse","prototype","_mouseInit","_mouseDestroy","_touchStart","event","this","_mouseCapture","originalEvent","changedTouches","_touchMoved","simulateMouseEvent","_touchMove","_touchEnd","element","bind","touchstart","proxy","touchmove","touchend","call","unbind","simulatedType","touches","length","preventDefault","simulatedEvent","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","target","dispatchEvent","jQuery","widget","version","widgetEventPrefix","options","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","_create","test","css","style","position","addClass","disabled","_destroy","removeClass","o","is","_getHandle","each","width","offsetWidth","height","offsetHeight","offset","_mouseStart","_createHelper","_cacheHelperProportions","ddmanager","current","_cacheMargins","cssPosition","scrollParent","positionAbs","top","margins","left","extend","click","pageX","pageY","parent","_getParentOffset","relative","_getRelativeOffset","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_trigger","_clear","dropBehaviour","prepareOffsets","_mouseDrag","dragStart","noPropagation","_convertPositionTo","_uiHash","_mouseUp","drag","_mouseStop","dropped","drop","elementInDom","parentNode","isFunction","that","animate","parseInt","removeChild","dragStop","cancel","find","andSelf","apply","clone","removeAttr","parents","obj","split","isArray","helperProportions","right","bottom","offsetParent","po","contains","scrollLeft","scrollTop","body","tagName","toLowerCase","browser","msie","p","outerWidth","outerHeight","scrollHeight","constructor","Array","c","ce","over","Math","max","scrollWidth","relative_container","d","pos","mod","scrollIsRootNode","co","round","cancelHelperRemoval","remove","type","plugin","Widget","plugins","add","start","inst","data","uiSortable","item","sortables","sortable","push","instance","shouldRevert","stop","isOver","_helper","currentItem","i","_intersectsWith","containerCache","fromOutside","placeholder","t","_cursor","_opacity","overflowOffset","scrolled","snapElements","String","items","$t","$o","x1","x2","y1","y2","l","r","b","ts","abs","bs","ls","rs","first","snapping","snapItem","release","group","makeArray","sort","a","min","_zIndex","uiDialogClasses","sizeRelatedOptions","buttons","maxHeight","maxWidth","minHeight","minWidth","resizableRelatedOptions","fixTitle","title","jquery","append","eq","html","h","autoOpen","closeOnEscape","closeText","dialogClass","draggable","hide","modal","my","at","of","collision","using","topOffset","resizable","show","originalTitle","attr","oldPosition","index","children","uiDialog","display","outline","keydown","isDefaultPrevented","keyCode","ESCAPE","close","mousedown","moveToTop","uiDialogContent","uiDialogTitlebar","prependTo","uiDialogTitlebarClose","uiDialogButtonPane","uiDialogTitlebarCloseText","text","uniqueId","uiButtonSet","disableSelection","_hoverable","_focusable","fn","_makeDraggable","_makeResizable","_createButtons","_isOpen","bgiframe","_init","open","next","overlay","destroy","before","maxZ","thisZ","_off","dialog","resize","isNaN","oldFocus","focus","isOpen","force","saveScroll","$el","hasFocus","_size","_position","activeElement","_on","TAB","tabbables","inArray","targetIndex","shiftKey","nodeName","toUpperCase","join","select","safari","titleClose","hasButtons","empty","name","props","button","arguments","filteredUi","handles","resizeHandles","originalSize","size","alsoResize","_minHeight","isVisible","myAt","offsetPosition","_setOptions","resizableOptions","key","value","_setOption","isDraggable","isResizable","_super","nonContentHeight","minContentHeight","autoHeight","uuid","getTitleId","id","create","instances","oldInstances","events","map","setTimeout","has","pop","indexOf","splice","documentElement","$overlays","setOption","dialogopen","dialogclose","animateDuration","animateEasing","aspectRatio","autoHide","ghost","_aspectRatio","originalElement","_proportionallyResizeElements","match","wrap","elementIsWrapper","marginLeft","marginTop","marginRight","marginBottom","originalResizeStyle","zoom","margin","_proportionallyResize","n","e","s","w","se","sw","ne","nw","trim","hname","_renderAxis","padWrapper","padPos","_handles","mouseover","resizing","className","mouseenter","mouseleave","exp","removeData","wrapper","after","iniPos","el","documentScroll","_renderProxy","curleft","num","curtop","sizeDiff","originalMousePosition","_propagate","smp","dx","dy","trigger","_change","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","pr","ista","soffseth","hasScroll","soffsetw","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","isNumber","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","isNotwh","prel","borderDif","v","elementOffset","ie6","ie6offset","pxyoffset","cs","_store","os","op","delta","_alsoResize","prop","sum","nodeType","duration","easing","step","oc","get","containerElement","containerOffset","containerPosition","parentData","containerSize","innerHeight","innerWidth","cp","pRatio","cop","woset","hoset","isParent","isOffsetRelative","ho","ox","oy","mouseHandled","mouseup","distance","delay","widgetName","_mouseDown","stopImmediatePropagation","started","_mouseMoveDelegate","_mouseUpDelegate","_mouseStarted","_mouseDownEvent","btnIsLeft","which","elIsCancel","closest","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseMove","documentMode","lastActive","startXPos","startYPos","clickDragged","baseClasses","typeClasses","formResetHandler","radioGroup","radio","form","radios","ownerDocument","filter","defaultElement","label","icons","primary","secondary","eventNamespace","_determineButtonType","hasTitle","buttonElement","toggleButton","hoverClass","val","not","end","refresh","toggleClass","checked","one","SPACE","ENTER","keyup","_resetButton","ancestor","labelSelector","last","siblings","isDisabled","buttonText","multipleIcons","buttonClasses","prepend","rtl"],"mappings":"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","file":"0-c-69adc03ea7.js","sourcesContent":["/*!\n * jQuery UI Touch Punch 0.2.3\n *\n * Copyright 2011–2014, Dave Furfero\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Depends:\n *  jquery.ui.widget.js\n *  jquery.ui.mouse.js\n */\n(function ($) {\n\n  // Detect touch support\n  $.support.touch = 'ontouchend' in document;\n\n  // Ignore browsers without touch support\n  if (!$.support.touch) {\n    return;\n  }\n\n  var mouseProto = $.ui.mouse.prototype,\n      _mouseInit = mouseProto._mouseInit,\n      _mouseDestroy = mouseProto._mouseDestroy,\n      touchHandled;\n\n  /**\n   * Simulate a mouse event based on a corresponding touch event\n   * @param {Object} event A touch event\n   * @param {String} simulatedType The corresponding mouse event\n   */\n  function simulateMouseEvent (event, simulatedType) {\n\n    // Ignore multi-touch events\n    if (event.originalEvent.touches.length > 1) {\n      return;\n    }\n\n    event.preventDefault();\n\n    var touch = event.originalEvent.changedTouches[0],\n        simulatedEvent = document.createEvent('MouseEvents');\n    \n    // Initialize the simulated mouse event using the touch event's coordinates\n    simulatedEvent.initMouseEvent(\n      simulatedType,    // type\n      true,             // bubbles                    \n      true,             // cancelable                 \n      window,           // view                       \n      1,                // detail                     \n      touch.screenX,    // screenX                    \n      touch.screenY,    // screenY                    \n      touch.clientX,    // clientX                    \n      touch.clientY,    // clientY                    \n      false,            // ctrlKey                    \n      false,            // altKey                     \n      false,            // shiftKey                   \n      false,            // metaKey                    \n      0,                // button                     \n      null              // relatedTarget              \n    );\n\n    // Dispatch the simulated event to the target element\n    event.target.dispatchEvent(simulatedEvent);\n  }\n\n  /**\n   * Handle the jQuery UI widget's touchstart events\n   * @param {Object} event The widget element's touchstart event\n   */\n  mouseProto._touchStart = function (event) {\n\n    var self = this;\n\n    // Ignore the event if another widget is already being handled\n    if (touchHandled || !self._mouseCapture(event.originalEvent.changedTouches[0])) {\n      return;\n    }\n\n    // Set the flag to prevent other widgets from inheriting the touch event\n    touchHandled = true;\n\n    // Track movement to determine if interaction was a click\n    self._touchMoved = false;\n\n    // Simulate the mouseover event\n    simulateMouseEvent(event, 'mouseover');\n\n    // Simulate the mousemove event\n    simulateMouseEvent(event, 'mousemove');\n\n    // Simulate the mousedown event\n    simulateMouseEvent(event, 'mousedown');\n  };\n\n  /**\n   * Handle the jQuery UI widget's touchmove events\n   * @param {Object} event The document's touchmove event\n   */\n  mouseProto._touchMove = function (event) {\n\n    // Ignore event if not handled\n    if (!touchHandled) {\n      return;\n    }\n\n    // Interaction was not a click\n    this._touchMoved = true;\n\n    // Simulate the mousemove event\n    simulateMouseEvent(event, 'mousemove');\n  };\n\n  /**\n   * Handle the jQuery UI widget's touchend events\n   * @param {Object} event The document's touchend event\n   */\n  mouseProto._touchEnd = function (event) {\n\n    // Ignore event if not handled\n    if (!touchHandled) {\n      return;\n    }\n\n    // Simulate the mouseup event\n    simulateMouseEvent(event, 'mouseup');\n\n    // Simulate the mouseout event\n    simulateMouseEvent(event, 'mouseout');\n\n    // If the touch interaction did not move, it should trigger a click\n    if (!this._touchMoved) {\n\n      // Simulate the click event\n      simulateMouseEvent(event, 'click');\n    }\n\n    // Unset the flag to allow other widgets to inherit the touch event\n    touchHandled = false;\n  };\n\n  /**\n   * A duck punch of the $.ui.mouse _mouseInit method to support touch events.\n   * This method extends the widget with bound touch event handlers that\n   * translate touch events to mouse events and pass them to the widget's\n   * original mouse event handling methods.\n   */\n  mouseProto._mouseInit = function () {\n    \n    var self = this;\n\n    // Delegate the touch handlers to the widget's element\n    self.element.bind({\n      touchstart: $.proxy(self, '_touchStart'),\n      touchmove: $.proxy(self, '_touchMove'),\n      touchend: $.proxy(self, '_touchEnd')\n    });\n\n    // Call the original $.ui.mouse init method\n    _mouseInit.call(self);\n  };\n\n  /**\n   * Remove the touch event handlers\n   */\n  mouseProto._mouseDestroy = function () {\n    \n    var self = this;\n\n    // Delegate the touch handlers to the widget's element\n    self.element.unbind({\n      touchstart: $.proxy(self, '_touchStart'),\n      touchmove: $.proxy(self, '_touchMove'),\n      touchend: $.proxy(self, '_touchEnd')\n    });\n\n    // Call the original $.ui.mouse destroy method\n    _mouseDestroy.call(self);\n  };\n\n})(jQuery);","/*!\n * jQuery UI Draggable @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Draggables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/mouse'\nimport 'jqueryui/widget'\n\n$.widget(\"ui.draggable\", $.ui.mouse, {\n\tversion: \"@VERSION\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false\n\t},\n\t_create: function() {\n\n\t\tif (this.options.helper == 'original' && !(/^(?:r|a|f)/).test(this.element.css(\"position\")))\n\t\t\tthis.element[0].style.position = 'relative';\n\n\t\t(this.options.addClasses && this.element.addClass(\"ui-draggable\"));\n\t\t(this.options.disabled && this.element.addClass(\"ui-draggable-disabled\"));\n\n\t\tthis._mouseInit();\n\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeClass( \"ui-draggable ui-draggable-dragging ui-draggable-disabled\" );\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t// among others, prevent a drag on a resizable-handle\n\t\tif (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))\n\t\t\treturn false;\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle(event);\n\t\tif (!this.handle)\n\t\t\treturn false;\n\t\t\n\t\t$(o.iframeFix === true ? \"iframe\" : o.iframeFix).each(function() {\n\t\t\t$('<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"></div>')\n\t\t\t.css({\n\t\t\t\twidth: this.offsetWidth+\"px\", height: this.offsetHeight+\"px\",\n\t\t\t\tposition: \"absolute\", opacity: \"0.001\", zIndex: 1000\n\t\t\t})\n\t\t\t.css($(this).offset())\n\t\t\t.appendTo(\"body\");\n\t\t});\n\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\tthis.helper.addClass(\"ui-draggable-dragging\");\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif($.ui.ddmanager)\n\t\t\t$.ui.ddmanager.current = this;\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.positionAbs = this.element.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if 'cursorAt' is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Set a containment if given in the options\n\t\tif(o.containment)\n\t\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif(this._trigger(\"start\", event) === false) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ($.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\n\t\t\n\t\tthis._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\t\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)\n\t\tif ( $.ui.ddmanager ) $.ui.ddmanager.dragStart(this, event);\n\t\t\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event, noPropagation) {\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif (!noPropagation) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif(this._trigger('drag', event, ui) === false) {\n\t\t\t\tthis._mouseUp({});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tif(!this.options.axis || this.options.axis != \"y\") this.helper[0].style.left = this.position.left+'px';\n\t\tif(!this.options.axis || this.options.axis != \"x\") this.helper[0].style.top = this.position.top+'px';\n\t\tif($.ui.ddmanager) $.ui.ddmanager.drag(this, event);\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar dropped = false;\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour)\n\t\t\tdropped = $.ui.ddmanager.drop(this, event);\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif(this.dropped) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\t\t\n\t\t//if the original element is no longer in the DOM don't bother to continue (see #8269)\n\t\tvar element = this.element[0], elementInDom = false;\n\t\twhile ( element && (element = element.parentNode) ) {\n\t\t\tif (element == document ) {\n\t\t\t\telementInDom = true;\n\t\t\t}\n\t\t}\n\t\tif ( !elementInDom && this.options.helper === \"original\" )\n\t\t\treturn false;\n\n\t\tif((this.options.revert == \"invalid\" && !dropped) || (this.options.revert == \"valid\" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {\n\t\t\tvar that = this;\n\t\t\t$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {\n\t\t\t\tif(that._trigger(\"stop\", event) !== false) {\n\t\t\t\t\tthat._clear();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(this._trigger(\"stop\", event) !== false) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t_mouseUp: function(event) {\n\t\tif (this.options.iframeFix === true) {\n\t\t\t$(\"div.ui-draggable-iframeFix\").each(function() { \n\t\t\t\tthis.parentNode.removeChild(this); \n\t\t\t}); //Remove frame helpers\n\t\t}\n\t\t\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)\n\t\tif( $.ui.ddmanager ) $.ui.ddmanager.dragStop(this, event);\n\t\t\n\t\treturn $.ui.mouse.prototype._mouseUp.call(this, event);\n\t},\n\t\n\tcancel: function() {\n\t\t\n\t\tif(this.helper.is(\".ui-draggable-dragging\")) {\n\t\t\tthis._mouseUp({});\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\t\t\n\t\treturn this;\n\t\t\n\t},\n\n\t_getHandle: function(event) {\n\n\t\tvar handle = !this.options.handle || !$(this.options.handle, this.element).length ? true : false;\n\t\t$(this.options.handle, this.element)\n\t\t\t.find(\"*\")\n\t\t\t.andSelf()\n\t\t\t.each(function() {\n\t\t\t\tif(this == event.target) handle = true;\n\t\t\t});\n\n\t\treturn handle;\n\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options;\n\t\tvar helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper == 'clone' ? this.element.clone().removeAttr('id') : this.element);\n\n\t\tif(!helper.parents('body').length)\n\t\t\thelper.appendTo((o.appendTo == 'parent' ? this.element[0].parentNode : o.appendTo));\n\n\t\tif(helper[0] != this.element[0] && !(/(fixed|absolute)/).test(helper.css(\"position\")))\n\t\t\thelper.css(\"position\", \"absolute\");\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj == 'string') {\n\t\t\tobj = obj.split(' ');\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif ('left' in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ('right' in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ('top' in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ('bottom' in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition == 'absolute' && this.scrollParent[0] != document && $.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif((this.offsetParent[0] == document.body) //This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t|| (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == 'html' && $.browser.msie)) //Ugly IE fix\n\t\t\tpo = { top: 0, left: 0 };\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition == \"relative\") {\n\t\t\tvar p = this.element.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.element.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.element.css(\"marginTop\"),10) || 0),\n\t\t\tright: (parseInt(this.element.css(\"marginRight\"),10) || 0),\n\t\t\tbottom: (parseInt(this.element.css(\"marginBottom\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar o = this.options;\n\t\tif(o.containment == 'parent') o.containment = this.helper[0].parentNode;\n\t\tif(o.containment == 'document' || o.containment == 'window') this.containment = [\n\t\t\to.containment == 'document' ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\to.containment == 'document' ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollLeft()) + $(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollTop()) + ($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t];\n\n\t\tif(!(/^(document|window|parent)$/).test(o.containment) && o.containment.constructor != Array) {\n\t\t\tvar c = $(o.containment);\n\t\t\tvar ce = c[0]; if(!ce) return;\n\t\t\tvar co = c.offset();\n\t\t\tvar over = ($(ce).css(\"overflow\") != 'hidden');\n\n\t\t\tthis.containment = [\n\t\t\t\t(parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0),\n\t\t\t\t(parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0),\n\t\t\t\t(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right,\n\t\t\t\t(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top  - this.margins.bottom\n\t\t\t];\n\t\t\tthis.relative_container = c;\n\n\t\t} else if(o.containment.constructor == Array) {\n\t\t\tthis.containment = o.containment;\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) pos = this.position;\n\t\tvar mod = d == \"absolute\" ? 1 : -1;\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.top * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.top * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ( ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.left * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.left * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ( ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\t\tvar pageX = event.pageX;\n\t\tvar pageY = event.pageY;\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif(this.originalPosition) { //If we are not dragging yet, we won't check for options\n\t\t\tvar containment;\n\t\t\tif(this.containment) {\n\t\t\tif (this.relative_container){\n\t\t\t\tvar co = this.relative_container.offset();\n\t\t\t\tcontainment = [ this.containment[0] + co.left,\n\t\t\t\t\tthis.containment[1] + co.top,\n\t\t\t\t\tthis.containment[2] + co.left,\n\t\t\t\t\tthis.containment[3] + co.top ];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcontainment = this.containment;\n\t\t\t}\n\n\t\t\t\tif(event.pageX - this.offset.click.left < containment[0]) pageX = containment[0] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top < containment[1]) pageY = containment[1] + this.offset.click.top;\n\t\t\t\tif(event.pageX - this.offset.click.left > containment[2]) pageX = containment[2] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top > containment[3]) pageY = containment[3] + this.offset.click.top;\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)\n\t\t\t\tvar top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;\n\t\t\t\tpageY = containment ? (!(top - this.offset.click.top < containment[1] || top - this.offset.click.top > containment[3]) ? top : (!(top - this.offset.click.top < containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tvar left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;\n\t\t\t\tpageX = containment ? (!(left - this.offset.click.left < containment[0] || left - this.offset.click.left > containment[2]) ? left : (!(left - this.offset.click.left < containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.top\t\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.top\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.top\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ( ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.left\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.left\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.left\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ( ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis.helper.removeClass(\"ui-draggable-dragging\");\n\t\tif(this.helper[0] != this.element[0] && !this.cancelHelperRemoval) this.helper.remove();\n\t\t//if($.ui.ddmanager) $.ui.ddmanager.current = null;\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function(type, event, ui) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call(this, type, [event, ui]);\n\t\tif(type == \"drag\") this.positionAbs = this._convertPositionTo(\"absolute\"); //The absolute position has to be recalculated after plugins\n\t\treturn $.Widget.prototype._trigger.call(this, type, event, ui);\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function(event) {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n});\n\n$.ui.plugin.add(\"draggable\", \"connectToSortable\", {\n\tstart: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options,\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\t\tinst.sortables = [];\n\t\t$(o.connectToSortable).each(function() {\n\t\t\tvar sortable = $.data(this, 'sortable');\n\t\t\tif (sortable && !sortable.options.disabled) {\n\t\t\t\tinst.sortables.push({\n\t\t\t\t\tinstance: sortable,\n\t\t\t\t\tshouldRevert: sortable.options.revert\n\t\t\t\t});\n\t\t\t\tsortable.refreshPositions();\t// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).\n\t\t\t\tsortable._trigger(\"activate\", event, uiSortable);\n\t\t\t}\n\t\t});\n\n\t},\n\tstop: function(event, ui) {\n\n\t\t//If we are still over the sortable, we fake the stop event of the sortable, but also remove helper\n\t\tvar inst = $(this).data(\"draggable\"),\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\n\t\t$.each(inst.sortables, function() {\n\t\t\tif(this.instance.isOver) {\n\n\t\t\t\tthis.instance.isOver = 0;\n\n\t\t\t\tinst.cancelHelperRemoval = true; //Don't remove the helper in the draggable instance\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove it in the sortable instance (so sortable plugins like revert still work)\n\n\t\t\t\t//The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: 'valid/invalid'\n\t\t\t\tif(this.shouldRevert) this.instance.options.revert = true;\n\n\t\t\t\t//Trigger the stop of the sortable\n\t\t\t\tthis.instance._mouseStop(event);\n\n\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t//If the helper has been the original item, restore properties in the sortable\n\t\t\t\tif(inst.options.helper == 'original')\n\t\t\t\t\tthis.instance.currentItem.css({ top: 'auto', left: 'auto' });\n\n\t\t\t} else {\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove the helper in the sortable instance\n\t\t\t\tthis.instance._trigger(\"deactivate\", event, uiSortable);\n\t\t\t}\n\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), that = this;\n\n\t\tvar checkPos = function(o) {\n\t\t\tvar dyClick = this.offset.click.top, dxClick = this.offset.click.left;\n\t\t\tvar helperTop = this.positionAbs.top, helperLeft = this.positionAbs.left;\n\t\t\tvar itemHeight = o.height, itemWidth = o.width;\n\t\t\tvar itemTop = o.top, itemLeft = o.left;\n\n\t\t\treturn $.ui.isOver(helperTop + dyClick, helperLeft + dxClick, itemTop, itemLeft, itemHeight, itemWidth);\n\t\t};\n\n\t\t$.each(inst.sortables, function(i) {\n\t\t\t\n\t\t\t//Copy over some variables to allow calling the sortable's native _intersectsWith\n\t\t\tthis.instance.positionAbs = inst.positionAbs;\n\t\t\tthis.instance.helperProportions = inst.helperProportions;\n\t\t\tthis.instance.offset.click = inst.offset.click;\n\t\t\t\n\t\t\tif(this.instance._intersectsWith(this.instance.containerCache)) {\n\n\t\t\t\t//If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once\n\t\t\t\tif(!this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 1;\n\t\t\t\t\t//Now we fake the start of dragging for the sortable instance,\n\t\t\t\t\t//by cloning the list group item, appending it to the sortable and using it as inst.currentItem\n\t\t\t\t\t//We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)\n\t\t\t\t\tthis.instance.currentItem = $(that).clone().removeAttr('id').appendTo(this.instance.element).data(\"sortable-item\", true);\n\t\t\t\t\tthis.instance.options._helper = this.instance.options.helper; //Store helper option to later restore it\n\t\t\t\t\tthis.instance.options.helper = function() { return ui.helper[0]; };\n\n\t\t\t\t\tevent.target = this.instance.currentItem[0];\n\t\t\t\t\tthis.instance._mouseCapture(event, true);\n\t\t\t\t\tthis.instance._mouseStart(event, true, true);\n\n\t\t\t\t\t//Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes\n\t\t\t\t\tthis.instance.offset.click.top = inst.offset.click.top;\n\t\t\t\t\tthis.instance.offset.click.left = inst.offset.click.left;\n\t\t\t\t\tthis.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;\n\t\t\t\t\tthis.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;\n\n\t\t\t\t\tinst._trigger(\"toSortable\", event);\n\t\t\t\t\tinst.dropped = this.instance.element; //draggable revert needs that\n\t\t\t\t\t//hack so receive/update callbacks work (mostly)\n\t\t\t\t\tinst.currentItem = inst.element;\n\t\t\t\t\tthis.instance.fromOutside = inst;\n\n\t\t\t\t}\n\n\t\t\t\t//Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable\n\t\t\t\tif(this.instance.currentItem) this.instance._mouseDrag(event);\n\n\t\t\t} else {\n\n\t\t\t\t//If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t//we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval\n\t\t\t\tif(this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 0;\n\t\t\t\t\tthis.instance.cancelHelperRemoval = true;\n\t\t\t\t\t\n\t\t\t\t\t//Prevent reverting on this forced stop\n\t\t\t\t\tthis.instance.options.revert = false;\n\t\t\t\t\t\n\t\t\t\t\t// The out event needs to be triggered independently\n\t\t\t\t\tthis.instance._trigger('out', event, this.instance._uiHash(this.instance));\n\t\t\t\t\t\n\t\t\t\t\tthis.instance._mouseStop(event, true);\n\t\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t\t//Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size\n\t\t\t\t\tthis.instance.currentItem.remove();\n\t\t\t\t\tif(this.instance.placeholder) this.instance.placeholder.remove();\n\n\t\t\t\t\tinst._trigger(\"fromSortable\", event);\n\t\t\t\t\tinst.dropped = false; //draggable revert needs that\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t});\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"cursor\", {\n\tstart: function(event, ui) {\n\t\tvar t = $('body'), o = $(this).data('draggable').options;\n\t\tif (t.css(\"cursor\")) o._cursor = t.css(\"cursor\");\n\t\tt.css(\"cursor\", o.cursor);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif (o._cursor) $('body').css(\"cursor\", o._cursor);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"opacity\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data('draggable').options;\n\t\tif(t.css(\"opacity\")) o._opacity = t.css(\"opacity\");\n\t\tt.css('opacity', o.opacity);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif(o._opacity) $(ui.helper).css('opacity', o._opacity);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"scroll\", {\n\tstart: function(event, ui) {\n\t\tvar i = $(this).data(\"draggable\");\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') i.overflowOffset = i.scrollParent.offset();\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options, scrolled = false;\n\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\telse if(event.pageY - i.overflowOffset.top < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\telse if(event.pageX - i.overflowOffset.left < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\telse if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\telse if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t}\n\n\t\t}\n\n\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(i, event);\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"snap\", {\n\tstart: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options;\n\t\ti.snapElements = [];\n\n\t\t$(o.snap.constructor != String ? ( o.snap.items || ':data(draggable)' ) : o.snap).each(function() {\n\t\t\tvar $t = $(this); var $o = $t.offset();\n\t\t\tif(this != i.element[0]) i.snapElements.push({\n\t\t\t\titem: this,\n\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t});\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options;\n\t\tvar d = o.snapTolerance;\n\n\t\tvar x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor (var i = inst.snapElements.length - 1; i >= 0; i--){\n\n\t\t\tvar l = inst.snapElements[i].left, r = l + inst.snapElements[i].width,\n\t\t\t\tt = inst.snapElements[i].top, b = t + inst.snapElements[i].height;\n\n\t\t\t//Yes, I know, this is insane ;)\n\t\t\tif(!((l-d < x1 && x1 < r+d && t-d < y1 && y1 < b+d) || (l-d < x1 && x1 < r+d && t-d < y2 && y2 < b+d) || (l-d < x2 && x2 < r+d && t-d < y1 && y1 < b+d) || (l-d < x2 && x2 < r+d && t-d < y2 && y2 < b+d))) {\n\t\t\t\tif(inst.snapElements[i].snapping) (inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\t\tinst.snapElements[i].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(o.snapMode != 'inner') {\n\t\t\t\tvar ts = Math.abs(t - y2) <= d;\n\t\t\t\tvar bs = Math.abs(b - y1) <= d;\n\t\t\t\tvar ls = Math.abs(l - x2) <= d;\n\t\t\t\tvar rs = Math.abs(r - x1) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tvar first = (ts || bs || ls || rs);\n\n\t\t\tif(o.snapMode != 'outer') {\n\t\t\t\tvar ts = Math.abs(t - y1) <= d;\n\t\t\t\tvar bs = Math.abs(b - y2) <= d;\n\t\t\t\tvar ls = Math.abs(l - x1) <= d;\n\t\t\t\tvar rs = Math.abs(r - x2) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tif(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first))\n\t\t\t\t(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\tinst.snapElements[i].snapping = (ts || bs || ls || rs || first);\n\n\t\t};\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"stack\", {\n\tstart: function(event, ui) {\n\n\t\tvar o = $(this).data(\"draggable\").options;\n\n\t\tvar group = $.makeArray($(o.stack)).sort(function(a,b) {\n\t\t\treturn (parseInt($(a).css(\"zIndex\"),10) || 0) - (parseInt($(b).css(\"zIndex\"),10) || 0);\n\t\t});\n\t\tif (!group.length) { return; }\n\t\t\n\t\tvar min = parseInt(group[0].style.zIndex) || 0;\n\t\t$(group).each(function(i) {\n\t\t\tthis.style.zIndex = min + i;\n\t\t});\n\n\t\tthis[0].style.zIndex = min + group.length;\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"zIndex\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data(\"draggable\").options;\n\t\tif(t.css(\"zIndex\")) o._zIndex = t.css(\"zIndex\");\n\t\tt.css('zIndex', o.zIndex);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data(\"draggable\").options;\n\t\tif(o._zIndex) $(ui.helper).css('zIndex', o._zIndex);\n\t}\n});\n\n\n","/*!\n * jQuery UI Dialog @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Dialog\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n *  jquery.ui.button.js\n *\tjquery.ui.draggable.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.position.js\n *\tjquery.ui.resizable.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/widget'\nimport 'jqueryui/button'\nimport 'jqueryui/draggable'\nimport 'jqueryui/mouse'\nimport 'jqueryui/position'\nimport 'jqueryui/resizable'\n\nvar uiDialogClasses = \"ui-dialog ui-widget ui-widget-content ui-corner-all \",\n\tsizeRelatedOptions = {\n\t\tbuttons: true,\n\t\theight: true,\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true,\n\t\twidth: true\n\t},\n\tresizableRelatedOptions = {\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true\n\t};\n\n$.widget(\"ui.dialog\", {\n\tversion: \"@VERSION\",\n\toptions: {\n\t\tautoOpen: true,\n\t\tbuttons: {},\n\t\tcloseOnEscape: true,\n\t\tcloseText: \"close\",\n\t\tdialogClass: \"\",\n\t\tdraggable: true,\n\t\thide: null,\n\t\theight: \"auto\",\n\t\tmaxHeight: false,\n\t\tmaxWidth: false,\n\t\tminHeight: 150,\n\t\tminWidth: 150,\n\t\tmodal: false,\n\t\tposition: {\n\t\t\tmy: \"center\",\n\t\t\tat: \"center\",\n\t\t\tof: window,\n\t\t\tcollision: \"fit\",\n\t\t\t// ensure that the titlebar is never outside the document\n\t\t\tusing: function( pos ) {\n\t\t\t\tvar topOffset = $( this ).css( pos ).offset().top;\n\t\t\t\tif ( topOffset < 0 ) {\n\t\t\t\t\t$( this ).css( \"top\", pos.top - topOffset );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresizable: true,\n\t\tshow: null,\n\t\tstack: true,\n\t\ttitle: \"\",\n\t\twidth: 300,\n\t\tzIndex: 1000\n\t},\n\n\t_create: function() {\n\t\tthis.originalTitle = this.element.attr( \"title\" );\n\t\t// #5742 - .attr() might return a DOMElement\n\t\tif ( typeof this.originalTitle !== \"string\" ) {\n\t\t\tthis.originalTitle = \"\";\n\t\t}\n\t\tthis.oldPosition = {\n\t\t\tparent: this.element.parent(),\n\t\t\tindex: this.element.parent().children().index( this.element )\n\t\t};\n\t\tthis.options.title = this.options.title || this.originalTitle;\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\n\t\t\ttitle = options.title || \"&#160;\",\n\n\t\t\tuiDialog = ( this.uiDialog = $( \"<div>\" ) )\n\t\t\t\t.addClass( uiDialogClasses + options.dialogClass )\n\t\t\t\t.css({\n\t\t\t\t\tdisplay: \"none\",\n\t\t\t\t\toutline: 0, // TODO: move to stylesheet\n\t\t\t\t\tzIndex: options.zIndex\n\t\t\t\t})\n\t\t\t\t// setting tabIndex makes the div focusable\n\t\t\t\t.attr( \"tabIndex\", -1)\n\t\t\t\t.keydown(function( event ) {\n\t\t\t\t\tif ( options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&\n\t\t\t\t\t\t\tevent.keyCode === $.ui.keyCode.ESCAPE ) {\n\t\t\t\t\t\tthat.close( event );\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.mousedown(function( event ) {\n\t\t\t\t\tthat.moveToTop( false, event );\n\t\t\t\t})\n\t\t\t\t.appendTo( \"body\" ),\n\n\t\t\tuiDialogContent = this.element\n\t\t\t\t.show()\n\t\t\t\t.removeAttr( \"title\" )\n\t\t\t\t.addClass( \"ui-dialog-content ui-widget-content\" )\n\t\t\t\t.appendTo( uiDialog ),\n\n\t\t\tuiDialogTitlebar = ( this.uiDialogTitlebar = $( \"<div>\" ) )\n\t\t\t\t.addClass( \"ui-dialog-titlebar  ui-widget-header  \" +\n\t\t\t\t\t\"ui-corner-all  ui-helper-clearfix\" )\n\t\t\t\t.prependTo( uiDialog ),\n\n\t\t\tuiDialogTitlebarClose = $( \"<button></button>\" )\n\t\t\t\t.addClass( \"ui-dialog-titlebar-close  ui-corner-all\" )\n\t\t\t\t.click(function( event ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthat.close( event );\n\t\t\t\t})\n\t\t\t\t.appendTo( uiDialogTitlebar ),\n\n\t\t\tuiDialogTitlebarCloseText = ( this.uiDialogTitlebarCloseText = $( \"<span>\" ) )\n\t\t\t\t.addClass( \"ui-icon ui-icon-closethick\" )\n\t\t\t\t.text( options.closeText )\n\t\t\t\t.appendTo( uiDialogTitlebarClose ),\n\n\t\t\tuiDialogTitle = $( \"<span>\" )\n\t\t\t\t.uniqueId()\n\t\t\t\t.addClass( \"ui-dialog-title\" )\n\t\t\t\t.html( title )\n\t\t\t\t.attr(\"role\", \"heading\")\n\t\t\t\t.attr(\"aria-level\", \"2\")\n\t\t\t\t.prependTo( uiDialogTitlebar ),\n\n\t\t\tuiDialogButtonPane = ( this.uiDialogButtonPane = $( \"<div>\" ) )\n\t\t\t\t.addClass( \"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\" ),\n\n\t\t\tuiButtonSet = ( this.uiButtonSet = $( \"<div>\" ) )\n\t\t\t\t.addClass( \"ui-dialog-buttonset\" )\n\t\t\t\t.appendTo( uiDialogButtonPane );\n\n\t\tif (uiDialogContent.attr(\"id\") === undefined) {\n\t\t\tuiDialogContent.uniqueId();\n\t\t}\n\n\t\tuiDialogTitlebar.find( \"*\" ).add( uiDialogTitlebar ).disableSelection();\n\t\tthis._hoverable( uiDialogTitlebarClose );\n\t\tthis._focusable( uiDialogTitlebarClose );\n\n\t\tif ( options.draggable && $.fn.draggable ) {\n\t\t\tthis._makeDraggable();\n\t\t}\n\t\tif ( options.resizable && $.fn.resizable ) {\n\t\t\tthis._makeResizable();\n\t\t}\n\n\t\tthis._createButtons( options.buttons );\n\t\tthis._isOpen = false;\n\n\t\tif ( $.fn.bgiframe ) {\n\t\t\tuiDialog.bgiframe();\n\t\t}\n\t},\n\n\t_init: function() {\n\t\tif ( this.options.autoOpen ) {\n\t\t\tthis.open();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tvar next,\n\t\t\toldPosition = this.oldPosition;\n\n\t\tif ( this.overlay ) {\n\t\t\tthis.overlay.destroy();\n\t\t}\n\t\tthis.uiDialog.hide();\n\t\tthis.element\n\t\t\t.removeClass( \"ui-dialog-content ui-widget-content\" )\n\t\t\t.hide()\n\t\t\t.appendTo( \"body\" );\n\t\tthis.uiDialog.remove();\n\n\t\tif ( this.originalTitle ) {\n\t\t\tthis.element.attr( \"title\", this.originalTitle );\n\t\t}\n\n\t\tnext = oldPosition.parent.children().eq( oldPosition.index );\n\t\tif ( next.length ) {\n\t\t\tnext.before( this.element );\n\t\t} else {\n\t\t\toldPosition.parent.append( this.element );\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.uiDialog;\n\t},\n\n\tclose: function( event ) {\n\t\tvar that = this,\n\t\t\tmaxZ, thisZ;\n\n\t\tif ( !this._isOpen ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( false === this._trigger( \"beforeClose\", event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = false;\n\t\tthis.uiDialog.attr('aria-hidden', true);\n\n\t\tif ( this.overlay ) {\n\t\t\tthis.overlay.destroy();\n\t\t}\n\t\tthis._off( this.uiDialog, \"keypress\" );\n\n\t\tif ( this.options.hide ) {\n\t\t\tthis.uiDialog.hide( this.options.hide, function() {\n\t\t\t\tthat._trigger( \"close\", event );\n\t\t\t});\n\t\t} else {\n\t\t\tthis.uiDialog.hide();\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\n\t\t$.ui.dialog.overlay.resize();\n\n\t\t// adjust the maxZ to allow other modal dialogs to continue to work (see #4309)\n\t\tif ( this.options.modal ) {\n\t\t\tmaxZ = 0;\n\t\t\t$( \".ui-dialog\" ).each(function() {\n\t\t\t\tif ( this !== that.uiDialog[0] ) {\n\t\t\t\t\tthisZ = $( this ).css( \"z-index\" );\n\t\t\t\t\tif ( !isNaN( thisZ ) ) {\n\t\t\t\t\t\tmaxZ = Math.max( maxZ, thisZ );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.ui.dialog.maxZ = maxZ;\n\n\t\t\t// INSTRUCTURE\n\t\t\tif ( this.oldFocus && $(this.oldFocus).is( ':visible' ) ) {\n\t\t\t\tthis.oldFocus.focus();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tisOpen: function() {\n\t\treturn this._isOpen;\n\t},\n\n\t// the force parameter allows us to move modal dialogs to their correct\n\t// position on open\n\tmoveToTop: function( force, event ) {\n\t\tvar options = this.options,\n\t\t\tsaveScroll;\n\n\t\tif ( ( options.modal && !force ) ||\n\t\t\t\t( !options.stack && !options.modal ) ) {\n\t\t\treturn this._trigger( \"focus\", event );\n\t\t}\n\n\t\tif ( options.zIndex > $.ui.dialog.maxZ ) {\n\t\t\t$.ui.dialog.maxZ = options.zIndex;\n\t\t}\n\t\tif ( this.overlay ) {\n\t\t\t$.ui.dialog.maxZ += 1;\n\t\t\t$.ui.dialog.overlay.maxZ = $.ui.dialog.maxZ;\n\t\t\tthis.overlay.$el.css( \"z-index\", $.ui.dialog.overlay.maxZ );\n\t\t}\n\n\t\t// Save and then restore scroll\n\t\t// Opera 9.5+ resets when parent z-index is changed.\n\t\t// http://bugs.jqueryui.com/ticket/3193\n\t\tsaveScroll = {\n\t\t\tscrollTop: this.element.scrollTop(),\n\t\t\tscrollLeft: this.element.scrollLeft()\n\t\t};\n\t\t$.ui.dialog.maxZ += 1;\n\t\tthis.uiDialog.css( \"z-index\", $.ui.dialog.maxZ );\n\t\tthis.element.attr( saveScroll );\n\t\tthis._trigger( \"focus\", event );\n\n\t\treturn this;\n\t},\n\n\topen: function() {\n\t\tif ( this._isOpen ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar hasFocus,\n\t\t\toptions = this.options,\n\t\t\tuiDialog = this.uiDialog;\n\n\t\tthis._size();\n\t\tthis._position( options.position );\n\t\tuiDialog.show( options.show );\n\t\tthis.overlay = options.modal ? new $.ui.dialog.overlay( this ) : null;\n\t\tthis.moveToTop( true );\n\n\t\t// prevent tabbing out of modal dialogs\n\t\tif ( options.modal ) {\n\t\t\t// INSTRUCTURE\n\t\t\t// Ensure that an element is focused after opening and closing.\n\t\t\tthis.oldFocus = document.activeElement;\n\t\t\t$( \":tabbable:first\", this.uiDialog ).focus();\n\n\t\t\tthis._on( uiDialog, { keydown: function( event ) {\n\t\t\t\tif ( event.keyCode !== $.ui.keyCode.TAB ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// INSTRUCTURE\n\t\t\t\t// Constrain tabbing to within the modal.\n\t\t\t\t// Safari was shift-tabbing from a control in the\n\t\t\t\t// middle of the new conversations compose dialog\n\t\t\t\t// to a background control, killing focus\n\t\t\t\tvar tabbables = $( \":tabbable\",  this.uiDialog );\n\t\t\t\tvar index = $.inArray( event.target, tabbables );\n\t\t\t\tif ( index == -1 ) {return;}\n\t\t\t\tvar targetIndex = index + (event.shiftKey ? -1 : 1);\n\t\t\t\ttargetIndex = (targetIndex + tabbables.length) % tabbables.length;\n\t\t\t\tvar target = tabbables.eq(targetIndex)\n\n        if (target[0].nodeName.toUpperCase() !== 'IFRAME') {\n          target.focus();\n        } else {\n          return;\n        }\n\n\t\t\t\t// when switching to a target for which the browser would select the\n\t\t\t\t// full contents on default tab behavior, we still want to do the same.\n\t\t\t\tvar fullSelectTypes = [\n\t\t\t\t  'input[type=\"text\"]', 'input[type=\"password\"]', 'input[type=\"number\"]',\n\t\t\t\t  'input[type=\"datetime\"]', 'input[type=\"email\"]',\n\t\t\t\t  'input[type=\"search\"]', 'input[type=\"tel\"]', 'input[type=\"url\"]'\n\t\t\t\t];\n\t\t\t\tif (target.is(fullSelectTypes.join(',')))\n\t\t\t\t  target[0].select();\n\n\t\t\t\treturn false;\n\t\t\t}});\n\t\t}\n\n\t\t// set focus to the first tabbable element in the content area or the first button\n\t\t// if there are no tabbable elements, set focus on the dialog itself\n\t\thasFocus = this.element.find( \":tabbable\" );\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogButtonPane.find( \":tabbable\" );\n\t\t\tif ( !hasFocus.length ) {\n\t\t\t\thasFocus = uiDialog;\n\t\t\t}\n\t\t}\n\n\t\tthis.uiDialog.attr('aria-hidden', false);\n\t\tif ($.browser && $.browser.safari) {\n      var titleClose = this.uiDialog.find('.ui-dialog-titlebar-close');\n      if (titleClose.length) {\n        titleClose.focus();\n      } else {\n        hasFocus.eq( 0 ).focus();\n      }\n\t\t}\n\n\t\tthis._isOpen = true;\n\t\tthis._trigger( \"open\" );\n\n\t\treturn this;\n\t},\n\n\t_createButtons: function( buttons ) {\n\t\tvar uiDialogButtonPane, uiButtonSet,\n\t\t\tthat = this,\n\t\t\thasButtons = false;\n\n\t\t// if we already have a button pane, remove it\n\t\tthis.uiDialogButtonPane.remove();\n\t\tthis.uiButtonSet.empty();\n\n\t\tif ( typeof buttons === \"object\" && buttons !== null ) {\n\t\t\t$.each( buttons, function() {\n\t\t\t\treturn !(hasButtons = true);\n\t\t\t});\n\t\t}\n\t\tif ( hasButtons ) {\n\t\t\t$.each( buttons, function( name, props ) {\n\t\t\t\tprops = $.isFunction( props ) ?\n\t\t\t\t\t{ click: props, text: name } :\n\t\t\t\t\tprops;\n\t\t\t\tvar button = $( \"<button type='button'>\" )\n\t\t\t\t\t.attr( props, true )\n\t\t\t\t\t.unbind( \"click\" )\n\t\t\t\t\t.click(function() {\n\t\t\t\t\t\tprops.click.apply( that.element[0], arguments );\n\t\t\t\t\t})\n\t\t\t\t\t.appendTo( that.uiButtonSet );\n\t\t\t\tif ( $.fn.button ) {\n\t\t\t\t\tbutton.button();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.uiDialog.addClass( \"ui-dialog-buttons\" );\n\t\t\tthis.uiDialogButtonPane.appendTo( this.uiDialog );\n\t\t} else {\n\t\t\tthis.uiDialog.removeClass( \"ui-dialog-buttons\" );\n\t\t}\n\t},\n\n\t_makeDraggable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\tposition: ui.position,\n\t\t\t\toffset: ui.offset\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.draggable({\n\t\t\tcancel: \".ui-dialog-content, .ui-dialog-titlebar-close\",\n\t\t\thandle: \".ui-dialog-titlebar\",\n\t\t\tcontainment: \"document\",\n\t\t\tstart: function( event, ui ) {\n\t\t\t\t$( this )\n\t\t\t\t\t.addClass( \"ui-dialog-dragging\" );\n\t\t\t\tthat._trigger( \"dragStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tdrag: function( event, ui ) {\n\t\t\t\tthat._trigger( \"drag\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\toptions.position = [\n\t\t\t\t\tui.position.left - that.document.scrollLeft(),\n\t\t\t\t\tui.position.top - that.document.scrollTop()\n\t\t\t\t];\n\t\t\t\t$( this )\n\t\t\t\t\t.removeClass( \"ui-dialog-dragging\" );\n\t\t\t\tthat._trigger( \"dragStop\", event, filteredUi( ui ) );\n\t\t\t\t$.ui.dialog.overlay.resize();\n\t\t\t}\n\t\t});\n\t},\n\n\t_makeResizable: function( handles ) {\n\t\thandles = (handles === undefined ? this.options.resizable : handles);\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\t// .ui-resizable has position: relative defined in the stylesheet\n\t\t\t// but dialogs have to use absolute or fixed positioning\n\t\t\tposition = this.uiDialog.css( \"position\" ),\n\t\t\tresizeHandles = typeof handles === 'string' ?\n\t\t\t\thandles\t:\n\t\t\t\t\"n,e,s,w,se,sw,ne,nw\";\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\toriginalPosition: ui.originalPosition,\n\t\t\t\toriginalSize: ui.originalSize,\n\t\t\t\tposition: ui.position,\n\t\t\t\tsize: ui.size\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.resizable({\n\t\t\tcancel: \".ui-dialog-content\",\n\t\t\tcontainment: \"document\",\n\t\t\talsoResize: this.element,\n\t\t\tmaxWidth: options.maxWidth,\n\t\t\tmaxHeight: options.maxHeight,\n\t\t\tminWidth: options.minWidth,\n\t\t\tminHeight: this._minHeight(),\n\t\t\thandles: resizeHandles,\n\t\t\tstart: function( event, ui ) {\n\t\t\t\t$( this ).addClass( \"ui-dialog-resizing\" );\n\t\t\t\tthat._trigger( \"resizeStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tresize: function( event, ui ) {\n\t\t\t\tthat._trigger( \"resize\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\t$( this ).removeClass( \"ui-dialog-resizing\" );\n\t\t\t\toptions.height = $( this ).height();\n\t\t\t\toptions.width = $( this ).width();\n\t\t\t\tthat._trigger( \"resizeStop\", event, filteredUi( ui ) );\n\t\t\t\t$.ui.dialog.overlay.resize();\n\t\t\t}\n\t\t})\n\t\t.css( \"position\", position )\n\t\t.find( \".ui-resizable-se\" )\n\t\t\t.addClass( \"ui-icon ui-icon-grip-diagonal-se\" );\n\t},\n\n\t_minHeight: function() {\n\t\tvar options = this.options;\n\n\t\tif ( options.height === \"auto\" ) {\n\t\t\treturn options.minHeight;\n\t\t} else {\n\t\t\treturn Math.min( options.minHeight, options.height );\n\t\t}\n\t},\n\n\t_position: function( position ) {\n\t\tvar myAt = [],\n\t\t\toffset = [ 0, 0 ],\n\t\t\tisVisible;\n\n\t\tif ( position ) {\n\t\t\t// deep extending converts arrays to objects in jQuery <= 1.3.2 :-(\n\t//\t\tif (typeof position == 'string' || $.isArray(position)) {\n\t//\t\t\tmyAt = $.isArray(position) ? position : position.split(' ');\n\n\t\t\tif ( typeof position === \"string\" || (typeof position === \"object\" && \"0\" in position ) ) {\n\t\t\t\tmyAt = position.split ? position.split( \" \" ) : [ position[ 0 ], position[ 1 ] ];\n\t\t\t\tif ( myAt.length === 1 ) {\n\t\t\t\t\tmyAt[ 1 ] = myAt[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t$.each( [ \"left\", \"top\" ], function( i, offsetPosition ) {\n\t\t\t\t\tif ( +myAt[ i ] === myAt[ i ] ) {\n\t\t\t\t\t\toffset[ i ] = myAt[ i ];\n\t\t\t\t\t\tmyAt[ i ] = offsetPosition;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tposition = {\n\t\t\t\t\tmy: myAt.join( \" \" ),\n\t\t\t\t\tat: myAt.join( \" \" ),\n\t\t\t\t\toffset: offset.join( \" \" )\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tposition = $.extend( {}, $.ui.dialog.prototype.options.position, position );\n\t\t} else {\n\t\t\tposition = $.ui.dialog.prototype.options.position;\n\t\t}\n\n\t\t// need to show the dialog to get the actual offset in the position plugin\n\t\tisVisible = this.uiDialog.is( \":visible\" );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.show();\n\t\t}\n\t\tthis.uiDialog.position( position );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.hide();\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar that = this,\n\t\t\tresizableOptions = {},\n\t\t\tresize = false;\n\n\t\t$.each( options, function( key, value ) {\n\t\t\tthat._setOption( key, value );\n\n\t\t\tif ( key in sizeRelatedOptions ) {\n\t\t\t\tresize = true;\n\t\t\t}\n\t\t\tif ( key in resizableRelatedOptions ) {\n\t\t\t\tresizableOptions[ key ] = value;\n\t\t\t}\n\t\t});\n\n\t\tif ( resize ) {\n\t\t\tthis._size();\n\t\t}\n\t\tif ( this.uiDialog.is( \":data(resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", resizableOptions );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar isDraggable, isResizable,\n\t\t\tuiDialog = this.uiDialog;\n\n\t\tswitch ( key ) {\n\t\t\tcase \"buttons\":\n\t\t\t\tthis._createButtons( value );\n\t\t\t\tbreak;\n\t\t\tcase \"closeText\":\n\t\t\t\t// ensure that we always pass a string\n\t\t\t\tthis.uiDialogTitlebarCloseText.text( \"\" + value );\n\t\t\t\tbreak;\n\t\t\tcase \"dialogClass\":\n\t\t\t\tuiDialog\n\t\t\t\t\t.removeClass( this.options.dialogClass )\n\t\t\t\t\t.addClass( uiDialogClasses + value );\n\t\t\t\tbreak;\n\t\t\tcase \"disabled\":\n\t\t\t\tif ( value ) {\n\t\t\t\t\tuiDialog.addClass( \"ui-dialog-disabled\" );\n\t\t\t\t} else {\n\t\t\t\t\tuiDialog.removeClass( \"ui-dialog-disabled\" );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"draggable\":\n\t\t\t\tisDraggable = uiDialog.is( \":data(draggable)\" );\n\t\t\t\tif ( isDraggable && !value ) {\n\t\t\t\t\tuiDialog.draggable( \"destroy\" );\n\t\t\t\t}\n\n\t\t\t\tif ( !isDraggable && value ) {\n\t\t\t\t\tthis._makeDraggable();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"position\":\n\t\t\t\tthis._position( value );\n\t\t\t\tbreak;\n\t\t\tcase \"resizable\":\n\t\t\t\t// currently resizable, becoming non-resizable\n\t\t\t\tisResizable = uiDialog.is( \":data(resizable)\" );\n\t\t\t\tif ( isResizable && !value ) {\n\t\t\t\t\tuiDialog.resizable( \"destroy\" );\n\t\t\t\t}\n\n\t\t\t\t// currently resizable, changing handles\n\t\t\t\tif ( isResizable && typeof value === \"string\" ) {\n\t\t\t\t\tuiDialog.resizable( \"option\", \"handles\", value );\n\t\t\t\t}\n\n\t\t\t\t// currently non-resizable, becoming resizable\n\t\t\t\tif ( !isResizable && value !== false ) {\n\t\t\t\t\tthis._makeResizable( value );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"title\":\n\t\t\t\t// convert whatever was passed in o a string, for html() to not throw up\n\t\t\t\t$( \".ui-dialog-title\", this.uiDialogTitlebar )\n\t\t\t\t\t.html( \"\" + ( value || \"&#160;\" ) );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_size: function() {\n\t\t/* If the user has resized the dialog, the .ui-dialog and .ui-dialog-content\n\t\t * divs will both have width and height set, so we need to reset them\n\t\t */\n\t\tvar nonContentHeight, minContentHeight, autoHeight,\n\t\t\toptions = this.options,\n\t\t\tisVisible = this.uiDialog.is( \":visible\" );\n\n\t\t// reset content sizing\n\t\tthis.element.show().css({\n\t\t\twidth: \"auto\",\n\t\t\tminHeight: 0,\n\t\t\theight: 0\n\t\t});\n\n\t\tif ( options.minWidth > options.width ) {\n\t\t\toptions.width = options.minWidth;\n\t\t}\n\n\t\t// reset wrapper sizing\n\t\t// determine the height of all the non-content elements\n\t\tnonContentHeight = this.uiDialog.css({\n\t\t\t\theight: \"auto\",\n\t\t\t\twidth: options.width\n\t\t\t})\n\t\t\t.outerHeight();\n\t\tminContentHeight = Math.max( 0, options.minHeight - nonContentHeight );\n\n\t\tif ( options.height === \"auto\" ) {\n\t\t\t// only needed for IE6 support\n\t\t\tif ( $.support.minHeight ) {\n\t\t\t\tthis.element.css({\n\t\t\t\t\tminHeight: minContentHeight,\n\t\t\t\t\theight: \"auto\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.uiDialog.show();\n\t\t\t\tautoHeight = this.element.css( \"height\", \"auto\" ).height();\n\t\t\t\tif ( !isVisible ) {\n\t\t\t\t\tthis.uiDialog.hide();\n\t\t\t\t}\n\t\t\t\tthis.element.height( Math.max( autoHeight, minContentHeight ) );\n\t\t\t}\n\t\t} else {\n\t\t\tthis.element.height( Math.max( options.height - nonContentHeight, 0 ) );\n\t\t}\n\n\t\tif (this.uiDialog.is( \":data(resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", \"minHeight\", this._minHeight() );\n\t\t}\n\t}\n});\n\n$.extend($.ui.dialog, {\n\tuuid: 0,\n\tmaxZ: 0,\n\n\tgetTitleId: function($el) {\n\t\tvar id = $el.attr( \"id\" );\n\t\tif ( !id ) {\n\t\t\tthis.uuid += 1;\n\t\t\tid = this.uuid;\n\t\t}\n\t\treturn \"ui-dialog-title-\" + id;\n\t},\n\n\toverlay: function( dialog ) {\n\t\tthis.$el = $.ui.dialog.overlay.create( dialog );\n\t}\n});\n\n$.extend( $.ui.dialog.overlay, {\n\tinstances: [],\n\t// reuse old instances due to IE memory leak with alpha transparency (see #5185)\n\toldInstances: [],\n\tmaxZ: 0,\n\tevents: $.map(\n\t\t\"focus,mousedown,mouseup,keydown,keypress,click\".split( \",\" ),\n\t\tfunction( event ) {\n\t\t\treturn event + \".dialog-overlay\";\n\t\t}\n\t).join( \" \" ),\n\tcreate: function( dialog ) {\n\t\tif ( this.instances.length === 0 ) {\n\t\t\t// prevent use of anchors and inputs\n\t\t\t// we use a setTimeout in case the overlay is created from an\n\t\t\t// event that we're going to be cancelling (see #2804)\n\t\t\tsetTimeout(function() {\n\t\t\t\t// handle $(el).dialog().dialog('close') (see #4065)\n\t\t\t\tif ( $.ui.dialog.overlay.instances.length ) {\n\t\t\t\t\t$( document ).bind( $.ui.dialog.overlay.events, function( event ) {\n\t\t\t\t\t\t// stop events if the z-index of the target is < the z-index of the overlay\n\t\t\t\t\t\t// we cannot return true when we don't want to cancel the event (#3523)\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// INSTRUCTURE - make sure that the element isn't in the dialog\n\t\t\t\t\t\t// before stopping all events\n\t\t\t\t\t\tif ( $( event.target ).zIndex() < $.ui.dialog.overlay.maxZ &&\n\t\t\t\t\t\t\t\t!(dialog.element.has(event.target).length ) ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 1 );\n\n\t\t\t// handle window resize\n\t\t\t$( window ).bind( \"resize.dialog-overlay\", $.ui.dialog.overlay.resize );\n\t\t}\n\n\t\tvar $el = ( this.oldInstances.pop() || $( \"<div>\" ).addClass( \"ui-widget-overlay\" ) );\n\n\t\t// allow closing by pressing the escape key\n\t\t$( document ).bind( \"keydown.dialog-overlay\", function( event ) {\n\t\t\tvar instances = $.ui.dialog.overlay.instances;\n\t\t\t// only react to the event if we're the top overlay\n\t\t\tif ( instances.length !== 0 && instances[ instances.length - 1 ] === $el &&\n\t\t\t\tdialog.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&\n\t\t\t\tevent.keyCode === $.ui.keyCode.ESCAPE ) {\n\n\t\t\t\tdialog.close( event );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t});\n\n\t\t$el.appendTo( document.body ).css({\n\t\t\twidth: this.width(),\n\t\t\theight: this.height()\n\t\t});\n\n\t\tif ( $.fn.bgiframe ) {\n\t\t\t$el.bgiframe();\n\t\t}\n\n\t\tthis.instances.push( $el );\n\t\treturn $el;\n\t},\n\n\tdestroy: function( $el ) {\n\t\tvar indexOf = $.inArray( $el, this.instances ),\n\t\t\tmaxZ = 0;\n\n\t\tif ( indexOf !== -1 ) {\n\t\t\tthis.oldInstances.push( this.instances.splice( indexOf, 1 )[ 0 ] );\n\t\t}\n\n\t\tif ( this.instances.length === 0 ) {\n\t\t\t$( [ document, window ] ).unbind( \".dialog-overlay\" );\n\t\t}\n\n\t\t$el.height( 0 ).width( 0 ).remove();\n\n\t\t// adjust the maxZ to allow other modal dialogs to continue to work (see #4309)\n\t\t$.each( this.instances, function() {\n\t\t\tmaxZ = Math.max( maxZ, this.css( \"z-index\" ) );\n\t\t});\n\t\tthis.maxZ = maxZ;\n\t},\n\n\theight: function() {\n\t\tvar scrollHeight,\n\t\t\toffsetHeight;\n\t\t// handle IE\n\t\tif ( $.browser.msie ) {\n\t\t\tscrollHeight = Math.max(\n\t\t\t\tdocument.documentElement.scrollHeight,\n\t\t\t\tdocument.body.scrollHeight\n\t\t\t);\n\t\t\toffsetHeight = Math.max(\n\t\t\t\tdocument.documentElement.offsetHeight,\n\t\t\t\tdocument.body.offsetHeight\n\t\t\t);\n\n\t\t\tif ( scrollHeight < offsetHeight ) {\n\t\t\t\treturn $( window ).height() + \"px\";\n\t\t\t} else {\n\t\t\t\treturn scrollHeight + \"px\";\n\t\t\t}\n\t\t// handle \"good\" browsers\n\t\t} else {\n\t\t\treturn $( document ).height() + \"px\";\n\t\t}\n\t},\n\n\twidth: function() {\n\t\tvar scrollWidth,\n\t\t\toffsetWidth;\n\t\t// handle IE\n\t\tif ( $.browser.msie ) {\n\t\t\tscrollWidth = Math.max(\n\t\t\t\tdocument.documentElement.scrollWidth,\n\t\t\t\tdocument.body.scrollWidth\n\t\t\t);\n\t\t\toffsetWidth = Math.max(\n\t\t\t\tdocument.documentElement.offsetWidth,\n\t\t\t\tdocument.body.offsetWidth\n\t\t\t);\n\n\t\t\tif ( scrollWidth < offsetWidth ) {\n\t\t\t\treturn $( window ).width() + \"px\";\n\t\t\t} else {\n\t\t\t\treturn scrollWidth + \"px\";\n\t\t\t}\n\t\t// handle \"good\" browsers\n\t\t} else {\n\t\t\treturn $( document ).width() + \"px\";\n\t\t}\n\t},\n\n\tresize: function() {\n\t\t/* If the dialog is draggable and the user drags it past the\n\t\t * right edge of the window, the document becomes wider so we\n\t\t * need to stretch the overlay. If the user then drags the\n\t\t * dialog back to the left, the document will become narrower,\n\t\t * so we need to shrink the overlay to the appropriate size.\n\t\t * This is handled by shrinking the overlay before setting it\n\t\t * to the full document size.\n\t\t */\n\t\tvar $overlays = $( [] );\n\t\t$.each( $.ui.dialog.overlay.instances, function() {\n\t\t\t$overlays = $overlays.add( this );\n\t\t});\n\n\t\t$overlays.css({\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t}).css({\n\t\t\twidth: $.ui.dialog.overlay.width(),\n\t\t\theight: $.ui.dialog.overlay.height()\n\t\t});\n\t}\n});\n\n$.extend( $.ui.dialog.overlay.prototype, {\n\tdestroy: function() {\n\t\t$.ui.dialog.overlay.destroy( this.$el );\n\t}\n});\n","import $ from 'jquery'\nimport h from '../../str/htmlEscape'\nimport 'jqueryui/dialog-unpatched'\n\n  // have UI dialogs default to modal:true\n  $.ui.dialog.prototype.options.modal = true\n\n  // based on d209434 and 83639ec, htmlEscape string titles by default, and\n  // support jquery object titles\n  function fixTitle(title) {\n    if (!title) return title;\n    return title.jquery ?\n      $('<div />').append(title.eq(0).clone()).html() :\n      h('' + title);\n  }\n\n  var create = $.ui.dialog.prototype._create,\n      setOption = $.ui.dialog.prototype._setOption;\n\n  $.extend($.ui.dialog.prototype, {\n    _create: function() {\n      if (!this.options.title) {\n        this.options.title = this.element.attr(\"title\");\n        if (typeof this.options.title !== \"string\")\n          this.options.title = '';\n      }\n      this.options.title = fixTitle(this.options.title);\n      this._on({\n        dialogopen: function() {\n          $('#application').attr('aria-hidden', 'true');\n        },\n        dialogclose: function() {\n          $('#application').attr('aria-hidden', 'false');\n        }\n      });\n      return create.apply(this, arguments);\n    },\n\n    _setOption: function(key, value) {\n      if (key == \"title\") value = fixTitle(value);\n      return setOption.call(this, key, value);\n    }\n  });\n","/*!\n * jQuery UI Resizable @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Resizables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/mouse'\nimport 'jqueryui/widget'\n\n$.widget(\"ui.resizable\", $.ui.mouse, {\n\tversion: \"@VERSION\",\n\twidgetEventPrefix: \"resize\",\n\toptions: {\n\t\talsoResize: false,\n\t\tanimate: false,\n\t\tanimateDuration: \"slow\",\n\t\tanimateEasing: \"swing\",\n\t\taspectRatio: false,\n\t\tautoHide: false,\n\t\tcontainment: false,\n\t\tghost: false,\n\t\tgrid: false,\n\t\thandles: \"e,s,se\",\n\t\thelper: false,\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 10,\n\t\tminWidth: 10,\n\t\tzIndex: 1000\n\t},\n\t_create: function() {\n\n\t\tvar that = this, o = this.options;\n\t\tthis.element.addClass(\"ui-resizable\");\n\n\t\t$.extend(this, {\n\t\t\t_aspectRatio: !!(o.aspectRatio),\n\t\t\taspectRatio: o.aspectRatio,\n\t\t\toriginalElement: this.element,\n\t\t\t_proportionallyResizeElements: [],\n\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || 'ui-resizable-helper' : null\n\t\t});\n\n\t\t//Wrap the element if it cannot hold child nodes\n\t\tif(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {\n\n\t\t\t//Create a wrapper element and set the wrapper to the new current internal element\n\t\t\tthis.element.wrap(\n\t\t\t\t$('<div class=\"ui-wrapper\" style=\"overflow: hidden;\"></div>').css({\n\t\t\t\t\tposition: this.element.css('position'),\n\t\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\t\ttop: this.element.css('top'),\n\t\t\t\t\tleft: this.element.css('left')\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t//Overwrite the original this.element\n\t\t\tthis.element = this.element.parent().data(\n\t\t\t\t\"resizable\", this.element.data('resizable')\n\t\t\t);\n\n\t\t\tthis.elementIsWrapper = true;\n\n\t\t\t//Move margins to the wrapper\n\t\t\tthis.element.css({ marginLeft: this.originalElement.css(\"marginLeft\"), marginTop: this.originalElement.css(\"marginTop\"), marginRight: this.originalElement.css(\"marginRight\"), marginBottom: this.originalElement.css(\"marginBottom\") });\n\t\t\tthis.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0});\n\n\t\t\t//Prevent Safari textarea resize\n\t\t\tthis.originalResizeStyle = this.originalElement.css('resize');\n\t\t\tthis.originalElement.css('resize', 'none');\n\n\t\t\t//Push the actual element to our proportionallyResize internal array\n\t\t\tthis._proportionallyResizeElements.push(this.originalElement.css({ position: 'static', zoom: 1, display: 'block' }));\n\n\t\t\t// avoid IE jump (hard set the margin)\n\t\t\tthis.originalElement.css({ margin: this.originalElement.css('margin') });\n\n\t\t\t// fix handlers offset\n\t\t\tthis._proportionallyResize();\n\n\t\t}\n\n\t\tthis.handles = o.handles || (!$('.ui-resizable-handle', this.element).length ? \"e,s,se\" : { n: '.ui-resizable-n', e: '.ui-resizable-e', s: '.ui-resizable-s', w: '.ui-resizable-w', se: '.ui-resizable-se', sw: '.ui-resizable-sw', ne: '.ui-resizable-ne', nw: '.ui-resizable-nw' });\n\t\tif(this.handles.constructor == String) {\n\n\t\t\tif(this.handles == 'all') this.handles = 'n,e,s,w,se,sw,ne,nw';\n\t\t\tvar n = this.handles.split(\",\"); this.handles = {};\n\n\t\t\tfor(var i = 0; i < n.length; i++) {\n\n\t\t\t\tvar handle = $.trim(n[i]), hname = 'ui-resizable-'+handle;\n\t\t\t\tvar axis = $('<div class=\"ui-resizable-handle ' + hname + '\"></div>');\n\n\t\t\t\t// Apply zIndex to all handles - see #7960\n\t\t\t\taxis.css({ zIndex: o.zIndex });\n\n\t\t\t\t//TODO : What's going on here?\n\t\t\t\tif ('se' == handle) {\n\t\t\t\t\taxis.addClass('ui-icon ui-icon-gripsmall-diagonal-se');\n\t\t\t\t};\n\n\t\t\t\t//Insert into internal handles object and append to element\n\t\t\t\tthis.handles[handle] = '.ui-resizable-'+handle;\n\t\t\t\tthis.element.append(axis);\n\t\t\t}\n\n\t\t}\n\n\t\tthis._renderAxis = function(target) {\n\n\t\t\ttarget = target || this.element;\n\n\t\t\tfor(var i in this.handles) {\n\n\t\t\t\tif(this.handles[i].constructor == String)\n\t\t\t\t\tthis.handles[i] = $(this.handles[i], this.element).show();\n\n\t\t\t\t//Apply pad to wrapper element, needed to fix axis position (textarea, inputs, scrolls)\n\t\t\t\tif (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) {\n\n\t\t\t\t\tvar axis = $(this.handles[i], this.element), padWrapper = 0;\n\n\t\t\t\t\t//Checking the correct pad and border\n\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();\n\n\t\t\t\t\t//The padding type i have to apply...\n\t\t\t\t\tvar padPos = [ 'padding',\n\t\t\t\t\t\t/ne|nw|n/.test(i) ? 'Top' :\n\t\t\t\t\t\t/se|sw|s/.test(i) ? 'Bottom' :\n\t\t\t\t\t\t/^e$/.test(i) ? 'Right' : 'Left' ].join(\"\");\n\n\t\t\t\t\ttarget.css(padPos, padWrapper);\n\n\t\t\t\t\tthis._proportionallyResize();\n\n\t\t\t\t}\n\n\t\t\t\t//TODO: What's that good for? There's not anything to be executed left\n\t\t\t\tif(!$(this.handles[i]).length)\n\t\t\t\t\tcontinue;\n\n\t\t\t}\n\t\t};\n\n\t\t//TODO: make renderAxis a prototype function\n\t\tthis._renderAxis(this.element);\n\n\t\tthis._handles = $('.ui-resizable-handle', this.element)\n\t\t\t.disableSelection();\n\n\t\t//Matching axis name\n\t\tthis._handles.mouseover(function() {\n\t\t\tif (!that.resizing) {\n\t\t\t\tif (this.className)\n\t\t\t\t\tvar axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);\n\t\t\t\t//Axis, default = se\n\t\t\t\tthat.axis = axis && axis[1] ? axis[1] : 'se';\n\t\t\t}\n\t\t});\n\n\t\t//If we want to auto hide the elements\n\t\tif (o.autoHide) {\n\t\t\tthis._handles.hide();\n\t\t\t$(this.element)\n\t\t\t\t.addClass(\"ui-resizable-autohide\")\n\t\t\t\t.mouseenter(function() {\n\t\t\t\t\tif (o.disabled) return;\n\t\t\t\t\t$(this).removeClass(\"ui-resizable-autohide\");\n\t\t\t\t\tthat._handles.show();\n\t\t\t\t})\n\t\t\t\t.mouseleave(function(){\n\t\t\t\t\tif (o.disabled) return;\n\t\t\t\t\tif (!that.resizing) {\n\t\t\t\t\t\t$(this).addClass(\"ui-resizable-autohide\");\n\t\t\t\t\t\tthat._handles.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\t//Initialize the mouse interaction\n\t\tthis._mouseInit();\n\n\t},\n\n\t_destroy: function() {\n\n\t\tthis._mouseDestroy();\n\n\t\tvar _destroy = function(exp) {\n\t\t\t$(exp).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\")\n\t\t\t\t.removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find('.ui-resizable-handle').remove();\n\t\t};\n\n\t\t//TODO: Unwrap at same DOM position\n\t\tif (this.elementIsWrapper) {\n\t\t\t_destroy(this.element);\n\t\t\tvar wrapper = this.element;\n\t\t\twrapper.after(\n\t\t\t\tthis.originalElement.css({\n\t\t\t\t\tposition: wrapper.css('position'),\n\t\t\t\t\twidth: wrapper.outerWidth(),\n\t\t\t\t\theight: wrapper.outerHeight(),\n\t\t\t\t\ttop: wrapper.css('top'),\n\t\t\t\t\tleft: wrapper.css('left')\n\t\t\t\t})\n\t\t\t).remove();\n\t\t}\n\n\t\tthis.originalElement.css('resize', this.originalResizeStyle);\n\t\t_destroy(this.originalElement);\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function(event) {\n\t\tvar handle = false;\n\t\tfor (var i in this.handles) {\n\t\t\tif ($(this.handles[i])[0] == event.target) {\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t}\n\n\t\treturn !this.options.disabled && handle;\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar o = this.options, iniPos = this.element.position(), el = this.element;\n\n\t\tthis.resizing = true;\n\t\tthis.documentScroll = { top: $(document).scrollTop(), left: $(document).scrollLeft() };\n\n\t\t// bugfix for http://dev.jquery.com/ticket/1749\n\t\tif (el.is('.ui-draggable') || (/absolute/).test(el.css('position'))) {\n\t\t\tel.css({ position: 'absolute', top: iniPos.top, left: iniPos.left });\n\t\t}\n\n\t\tthis._renderProxy();\n\n\t\tvar curleft = num(this.helper.css('left')), curtop = num(this.helper.css('top'));\n\n\t\tif (o.containment) {\n\t\t\tcurleft += $(o.containment).scrollLeft() || 0;\n\t\t\tcurtop += $(o.containment).scrollTop() || 0;\n\t\t}\n\n\t\t//Store needed variables\n\t\tthis.offset = this.helper.offset();\n\t\tthis.position = { left: curleft, top: curtop };\n\t\tthis.size = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };\n\t\tthis.originalSize = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };\n\t\tthis.originalPosition = { left: curleft, top: curtop };\n\t\tthis.sizeDiff = { width: el.outerWidth() - el.width(), height: el.outerHeight() - el.height() };\n\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\n\n\t\t//Aspect Ratio\n\t\tthis.aspectRatio = (typeof o.aspectRatio == 'number') ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);\n\n\t\tvar cursor = $('.ui-resizable-' + this.axis).css('cursor');\n\t\t$('body').css('cursor', cursor == 'auto' ? this.axis + '-resize' : cursor);\n\n\t\tel.addClass(\"ui-resizable-resizing\");\n\t\tthis._propagate(\"start\", event);\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event) {\n\n\t\t//Increase performance, avoid regex\n\t\tvar el = this.helper, o = this.options, props = {},\n\t\t\tthat = this, smp = this.originalMousePosition, a = this.axis;\n\n\t\tvar dx = (event.pageX-smp.left)||0, dy = (event.pageY-smp.top)||0;\n\t\tvar trigger = this._change[a];\n\t\tif (!trigger) return false;\n\n\t\t// Calculate the attrs that will be change\n\t\tvar data = trigger.apply(this, [event, dx, dy]);\n\n\t\t// Put this in the mouseDrag handler since the user can start pressing shift while resizing\n\t\tthis._updateVirtualBoundaries(event.shiftKey);\n\t\tif (this._aspectRatio || event.shiftKey)\n\t\t\tdata = this._updateRatio(data, event);\n\n\t\tdata = this._respectSize(data, event);\n\n\t\t// plugins callbacks need to be called first\n\t\tthis._propagate(\"resize\", event);\n\n\t\tel.css({\n\t\t\ttop: this.position.top + \"px\", left: this.position.left + \"px\",\n\t\t\twidth: this.size.width + \"px\", height: this.size.height + \"px\"\n\t\t});\n\n\t\tif (!this._helper && this._proportionallyResizeElements.length)\n\t\t\tthis._proportionallyResize();\n\n\t\tthis._updateCache(data);\n\n\t\t// calling the user callback at the end\n\t\tthis._trigger('resize', event, this.ui());\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\tthis.resizing = false;\n\t\tvar o = this.options, that = this;\n\n\t\tif(this._helper) {\n\t\t\tvar pr = this._proportionallyResizeElements, ista = pr.length && (/textarea/i).test(pr[0].nodeName),\n\t\t\t\tsoffseth = ista && $.ui.hasScroll(pr[0], 'left') /* TODO - jump height */ ? 0 : that.sizeDiff.height,\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\n\n\t\t\tvar s = { width: (that.helper.width()  - soffsetw), height: (that.helper.height() - soffseth) },\n\t\t\t\tleft = (parseInt(that.element.css('left'), 10) + (that.position.left - that.originalPosition.left)) || null,\n\t\t\t\ttop = (parseInt(that.element.css('top'), 10) + (that.position.top - that.originalPosition.top)) || null;\n\n\t\t\tif (!o.animate)\n\t\t\t\tthis.element.css($.extend(s, { top: top, left: left }));\n\n\t\t\tthat.helper.height(that.size.height);\n\t\t\tthat.helper.width(that.size.width);\n\n\t\t\tif (this._helper && !o.animate) this._proportionallyResize();\n\t\t}\n\n\t\t$('body').css('cursor', 'auto');\n\n\t\tthis.element.removeClass(\"ui-resizable-resizing\");\n\n\t\tthis._propagate(\"stop\", event);\n\n\t\tif (this._helper) this.helper.remove();\n\t\treturn false;\n\n\t},\n\n\t_updateVirtualBoundaries: function(forceAspectRatio) {\n\t\tvar o = this.options, pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b;\n\n\t\tb = {\n\t\t\tminWidth: isNumber(o.minWidth) ? o.minWidth : 0,\n\t\t\tmaxWidth: isNumber(o.maxWidth) ? o.maxWidth : Infinity,\n\t\t\tminHeight: isNumber(o.minHeight) ? o.minHeight : 0,\n\t\t\tmaxHeight: isNumber(o.maxHeight) ? o.maxHeight : Infinity\n\t\t};\n\n\t\tif(this._aspectRatio || forceAspectRatio) {\n\t\t\t// We want to create an enclosing box whose aspect ration is the requested one\n\t\t\t// First, compute the \"projected\" size for each dimension based on the aspect ratio and other dimension\n\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\n\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\n\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\n\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\n\n\t\t\tif(pMinWidth > b.minWidth) b.minWidth = pMinWidth;\n\t\t\tif(pMinHeight > b.minHeight) b.minHeight = pMinHeight;\n\t\t\tif(pMaxWidth < b.maxWidth) b.maxWidth = pMaxWidth;\n\t\t\tif(pMaxHeight < b.maxHeight) b.maxHeight = pMaxHeight;\n\t\t}\n\t\tthis._vBoundaries = b;\n\t},\n\n\t_updateCache: function(data) {\n\t\tvar o = this.options;\n\t\tthis.offset = this.helper.offset();\n\t\tif (isNumber(data.left)) this.position.left = data.left;\n\t\tif (isNumber(data.top)) this.position.top = data.top;\n\t\tif (isNumber(data.height)) this.size.height = data.height;\n\t\tif (isNumber(data.width)) this.size.width = data.width;\n\t},\n\n\t_updateRatio: function(data, event) {\n\n\t\tvar o = this.options, cpos = this.position, csize = this.size, a = this.axis;\n\n\t\tif (isNumber(data.height)) data.width = (data.height * this.aspectRatio);\n\t\telse if (isNumber(data.width)) data.height = (data.width / this.aspectRatio);\n\n\t\tif (a == 'sw') {\n\t\t\tdata.left = cpos.left + (csize.width - data.width);\n\t\t\tdata.top = null;\n\t\t}\n\t\tif (a == 'nw') {\n\t\t\tdata.top = cpos.top + (csize.height - data.height);\n\t\t\tdata.left = cpos.left + (csize.width - data.width);\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_respectSize: function(data, event) {\n\n\t\tvar el = this.helper, o = this._vBoundaries, pRatio = this._aspectRatio || event.shiftKey, a = this.axis,\n\t\t\t\tismaxw = isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width), ismaxh = isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),\n\t\t\t\t\tisminw = isNumber(data.width) && o.minWidth && (o.minWidth > data.width), isminh = isNumber(data.height) && o.minHeight && (o.minHeight > data.height);\n\n\t\tif (isminw) data.width = o.minWidth;\n\t\tif (isminh) data.height = o.minHeight;\n\t\tif (ismaxw) data.width = o.maxWidth;\n\t\tif (ismaxh) data.height = o.maxHeight;\n\n\t\tvar dw = this.originalPosition.left + this.originalSize.width, dh = this.position.top + this.size.height;\n\t\tvar cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);\n\n\t\tif (isminw && cw) data.left = dw - o.minWidth;\n\t\tif (ismaxw && cw) data.left = dw - o.maxWidth;\n\t\tif (isminh && ch)\tdata.top = dh - o.minHeight;\n\t\tif (ismaxh && ch)\tdata.top = dh - o.maxHeight;\n\n\t\t// fixing jump error on top/left - bug #2330\n\t\tvar isNotwh = !data.width && !data.height;\n\t\tif (isNotwh && !data.left && data.top) data.top = null;\n\t\telse if (isNotwh && !data.top && data.left) data.left = null;\n\n\t\treturn data;\n\t},\n\n\t_proportionallyResize: function() {\n\n\t\tvar o = this.options;\n\t\tif (!this._proportionallyResizeElements.length) return;\n\t\tvar element = this.helper || this.element;\n\n\t\tfor (var i=0; i < this._proportionallyResizeElements.length; i++) {\n\n\t\t\tvar prel = this._proportionallyResizeElements[i];\n\n\t\t\tif (!this.borderDif) {\n\t\t\t\tvar b = [prel.css('borderTopWidth'), prel.css('borderRightWidth'), prel.css('borderBottomWidth'), prel.css('borderLeftWidth')],\n\t\t\t\t\tp = [prel.css('paddingTop'), prel.css('paddingRight'), prel.css('paddingBottom'), prel.css('paddingLeft')];\n\n\t\t\t\tthis.borderDif = $.map(b, function(v, i) {\n\t\t\t\t\tvar border = parseInt(v,10)||0, padding = parseInt(p[i],10)||0;\n\t\t\t\t\treturn border + padding;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tprel.css({\n\t\t\t\theight: (element.height() - this.borderDif[0] - this.borderDif[2]) || 0,\n\t\t\t\twidth: (element.width() - this.borderDif[1] - this.borderDif[3]) || 0\n\t\t\t});\n\n\t\t};\n\n\t},\n\n\t_renderProxy: function() {\n\n\t\tvar el = this.element, o = this.options;\n\t\tthis.elementOffset = el.offset();\n\n\t\tif(this._helper) {\n\n\t\t\tthis.helper = this.helper || $('<div style=\"overflow:hidden;\"></div>');\n\n\t\t\t// fix ie6 offset TODO: This seems broken\n\t\t\tvar ie6 = $.browser.msie && $.browser.version < 7, ie6offset = (ie6 ? 1 : 0),\n\t\t\tpxyoffset = ( ie6 ? 2 : -1 );\n\n\t\t\tthis.helper.addClass(this._helper).css({\n\t\t\t\twidth: this.element.outerWidth() + pxyoffset,\n\t\t\t\theight: this.element.outerHeight() + pxyoffset,\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: this.elementOffset.left - ie6offset +'px',\n\t\t\t\ttop: this.elementOffset.top - ie6offset +'px',\n\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\n\t\t\t});\n\n\t\t\tthis.helper\n\t\t\t\t.appendTo(\"body\")\n\t\t\t\t.disableSelection();\n\n\t\t} else {\n\t\t\tthis.helper = this.element;\n\t\t}\n\n\t},\n\n\t_change: {\n\t\te: function(event, dx, dy) {\n\t\t\treturn { width: this.originalSize.width + dx };\n\t\t},\n\t\tw: function(event, dx, dy) {\n\t\t\tvar o = this.options, cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\n\t\t},\n\t\tn: function(event, dx, dy) {\n\t\t\tvar o = this.options, cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\n\t\t},\n\t\ts: function(event, dx, dy) {\n\t\t\treturn { height: this.originalSize.height + dy };\n\t\t},\n\t\tse: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));\n\t\t},\n\t\tsw: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));\n\t\t},\n\t\tne: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));\n\t\t},\n\t\tnw: function(event, dx, dy) {\n\t\t\treturn $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));\n\t\t}\n\t},\n\n\t_propagate: function(n, event) {\n\t\t$.ui.plugin.call(this, n, [event, this.ui()]);\n\t\t(n != \"resize\" && this._trigger(n, event, this.ui()));\n\t},\n\n\tplugins: {},\n\n\tui: function() {\n\t\treturn {\n\t\t\toriginalElement: this.originalElement,\n\t\t\telement: this.element,\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\tsize: this.size,\n\t\t\toriginalSize: this.originalSize,\n\t\t\toriginalPosition: this.originalPosition\n\t\t};\n\t}\n\n});\n\n/*\n * Resizable Extensions\n */\n\n$.ui.plugin.add(\"resizable\", \"alsoResize\", {\n\n\tstart: function (event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options;\n\n\t\tvar _store = function (exp) {\n\t\t\t$(exp).each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tel.data(\"resizable-alsoresize\", {\n\t\t\t\t\twidth: parseInt(el.width(), 10), height: parseInt(el.height(), 10),\n\t\t\t\t\tleft: parseInt(el.css('left'), 10), top: parseInt(el.css('top'), 10)\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tif (typeof(o.alsoResize) == 'object' && !o.alsoResize.parentNode) {\n\t\t\tif (o.alsoResize.length) { o.alsoResize = o.alsoResize[0]; _store(o.alsoResize); }\n\t\t\telse { $.each(o.alsoResize, function (exp) { _store(exp); }); }\n\t\t}else{\n\t\t\t_store(o.alsoResize);\n\t\t}\n\t},\n\n\tresize: function (event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options, os = that.originalSize, op = that.originalPosition;\n\n\t\tvar delta = {\n\t\t\theight: (that.size.height - os.height) || 0, width: (that.size.width - os.width) || 0,\n\t\t\ttop: (that.position.top - op.top) || 0, left: (that.position.left - op.left) || 0\n\t\t},\n\n\t\t_alsoResize = function (exp, c) {\n\t\t\t$(exp).each(function() {\n\t\t\t\tvar el = $(this), start = $(this).data(\"resizable-alsoresize\"), style = {}, \n\t\t\t\t\tcss = c && c.length ? c : el.parents(ui.originalElement[0]).length ? ['width', 'height'] : ['width', 'height', 'top', 'left'];\n\n\t\t\t\t$.each(css, function (i, prop) {\n\t\t\t\t\tvar sum = (start[prop]||0) + (delta[prop]||0);\n\t\t\t\t\tif (sum && sum >= 0)\n\t\t\t\t\t\tstyle[prop] = sum || null;\n\t\t\t\t});\n\n\t\t\t\tel.css(style);\n\t\t\t});\n\t\t};\n\n\t\tif (typeof(o.alsoResize) == 'object' && !o.alsoResize.nodeType) {\n\t\t\t$.each(o.alsoResize, function (exp, c) { _alsoResize(exp, c); });\n\t\t}else{\n\t\t\t_alsoResize(o.alsoResize);\n\t\t}\n\t},\n\n\tstop: function (event, ui) {\n\t\t$(this).removeData(\"resizable-alsoresize\");\n\t}\n});\n\n$.ui.plugin.add(\"resizable\", \"animate\", {\n\n\tstop: function(event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options;\n\n\t\tvar pr = that._proportionallyResizeElements, ista = pr.length && (/textarea/i).test(pr[0].nodeName),\n\t\t\t\t\tsoffseth = ista && $.ui.hasScroll(pr[0], 'left') /* TODO - jump height */ ? 0 : that.sizeDiff.height,\n\t\t\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\n\n\t\tvar style = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },\n\t\t\t\t\tleft = (parseInt(that.element.css('left'), 10) + (that.position.left - that.originalPosition.left)) || null,\n\t\t\t\t\t\ttop = (parseInt(that.element.css('top'), 10) + (that.position.top - that.originalPosition.top)) || null;\n\n\t\tthat.element.animate(\n\t\t\t$.extend(style, top && left ? { top: top, left: left } : {}), {\n\t\t\t\tduration: o.animateDuration,\n\t\t\t\teasing: o.animateEasing,\n\t\t\t\tstep: function() {\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\twidth: parseInt(that.element.css('width'), 10),\n\t\t\t\t\t\theight: parseInt(that.element.css('height'), 10),\n\t\t\t\t\t\ttop: parseInt(that.element.css('top'), 10),\n\t\t\t\t\t\tleft: parseInt(that.element.css('left'), 10)\n\t\t\t\t\t};\n\n\t\t\t\t\tif (pr && pr.length) $(pr[0]).css({ width: data.width, height: data.height });\n\n\t\t\t\t\t// propagating resize, and updating values for each animation step\n\t\t\t\t\tthat._updateCache(data);\n\t\t\t\t\tthat._propagate(\"resize\", event);\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n});\n\n$.ui.plugin.add(\"resizable\", \"containment\", {\n\n\tstart: function(event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options, el = that.element;\n\t\tvar oc = o.containment,\tce = (oc instanceof $) ? oc.get(0) : (/parent/.test(oc)) ? el.parent().get(0) : oc;\n\t\tif (!ce) return;\n\n\t\tthat.containerElement = $(ce);\n\n\t\tif (/document/.test(oc) || oc == document) {\n\t\t\tthat.containerOffset = { left: 0, top: 0 };\n\t\t\tthat.containerPosition = { left: 0, top: 0 };\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: $(document), left: 0, top: 0,\n\t\t\t\twidth: $(document).width(), height: $(document).height() || document.body.parentNode.scrollHeight\n\t\t\t};\n\t\t}\n\n\t\t// i'm a node, so compute top, left, right, bottom\n\t\telse {\n\t\t\tvar element = $(ce), p = [];\n\t\t\t$([ \"Top\", \"Right\", \"Left\", \"Bottom\" ]).each(function(i, name) { p[i] = num(element.css(\"padding\" + name)); });\n\n\t\t\tthat.containerOffset = element.offset();\n\t\t\tthat.containerPosition = element.position();\n\t\t\tthat.containerSize = { height: (element.innerHeight() - p[3]), width: (element.innerWidth() - p[1]) };\n\n\t\t\tvar co = that.containerOffset, ch = that.containerSize.height,\tcw = that.containerSize.width,\n\t\t\t\t\t\twidth = ($.ui.hasScroll(ce, \"left\") ? ce.scrollWidth : cw ), height = ($.ui.hasScroll(ce) ? ce.scrollHeight : ch);\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: ce, left: co.left, top: co.top, width: width, height: height\n\t\t\t};\n\t\t}\n\t},\n\n\tresize: function(event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options,\n\t\t\t\tps = that.containerSize, co = that.containerOffset, cs = that.size, cp = that.position,\n\t\t\t\tpRatio = that._aspectRatio || event.shiftKey, cop = { top:0, left:0 }, ce = that.containerElement;\n\n\t\tif (ce[0] != document && (/static/).test(ce.css('position'))) cop = co;\n\n\t\tif (cp.left < (that._helper ? co.left : 0)) {\n\t\t\tthat.size.width = that.size.width + (that._helper ? (that.position.left - co.left) : (that.position.left - cop.left));\n\t\t\tif (pRatio) that.size.height = that.size.width / that.aspectRatio;\n\t\t\tthat.position.left = o.helper ? co.left : 0;\n\t\t}\n\n\t\tif (cp.top < (that._helper ? co.top : 0)) {\n\t\t\tthat.size.height = that.size.height + (that._helper ? (that.position.top - co.top) : that.position.top);\n\t\t\tif (pRatio) that.size.width = that.size.height * that.aspectRatio;\n\t\t\tthat.position.top = that._helper ? co.top : 0;\n\t\t}\n\n\t\tthat.offset.left = that.parentData.left+that.position.left;\n\t\tthat.offset.top = that.parentData.top+that.position.top;\n\n\t\tvar woset = Math.abs( (that._helper ? that.offset.left - cop.left : (that.offset.left - cop.left)) + that.sizeDiff.width ),\n\t\t\t\t\thoset = Math.abs( (that._helper ? that.offset.top - cop.top : (that.offset.top - co.top)) + that.sizeDiff.height );\n\n\t\tvar isParent = that.containerElement.get(0) == that.element.parent().get(0),\n\t\t\tisOffsetRelative = /relative|absolute/.test(that.containerElement.css('position'));\n\n\t\tif(isParent && isOffsetRelative) woset -= that.parentData.left;\n\n\t\tif (woset + that.size.width >= that.parentData.width) {\n\t\t\tthat.size.width = that.parentData.width - woset;\n\t\t\tif (pRatio) that.size.height = that.size.width / that.aspectRatio;\n\t\t}\n\n\t\tif (hoset + that.size.height >= that.parentData.height) {\n\t\t\tthat.size.height = that.parentData.height - hoset;\n\t\t\tif (pRatio) that.size.width = that.size.height * that.aspectRatio;\n\t\t}\n\t},\n\n\tstop: function(event, ui){\n\t\tvar that = $(this).data(\"resizable\"), o = that.options, cp = that.position,\n\t\t\t\tco = that.containerOffset, cop = that.containerPosition, ce = that.containerElement;\n\n\t\tvar helper = $(that.helper), ho = helper.offset(), w = helper.outerWidth() - that.sizeDiff.width, h = helper.outerHeight() - that.sizeDiff.height;\n\n\t\tif (that._helper && !o.animate && (/relative/).test(ce.css('position')))\n\t\t\t$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });\n\n\t\tif (that._helper && !o.animate && (/static/).test(ce.css('position')))\n\t\t\t$(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });\n\n\t}\n});\n\n$.ui.plugin.add(\"resizable\", \"ghost\", {\n\n\tstart: function(event, ui) {\n\n\t\tvar that = $(this).data(\"resizable\"), o = that.options, cs = that.size;\n\n\t\tthat.ghost = that.originalElement.clone();\n\t\tthat.ghost\n\t\t\t.css({ opacity: .25, display: 'block', position: 'relative', height: cs.height, width: cs.width, margin: 0, left: 0, top: 0 })\n\t\t\t.addClass('ui-resizable-ghost')\n\t\t\t.addClass(typeof o.ghost == 'string' ? o.ghost : '');\n\n\t\tthat.ghost.appendTo(that.helper);\n\n\t},\n\n\tresize: function(event, ui){\n\t\tvar that = $(this).data(\"resizable\"), o = that.options;\n\t\tif (that.ghost) that.ghost.css({ position: 'relative', height: that.size.height, width: that.size.width });\n\t},\n\n\tstop: function(event, ui){\n\t\tvar that = $(this).data(\"resizable\"), o = that.options;\n\t\tif (that.ghost && that.helper) that.helper.get(0).removeChild(that.ghost.get(0));\n\t}\n\n});\n\n$.ui.plugin.add(\"resizable\", \"grid\", {\n\n\tresize: function(event, ui) {\n\t\tvar that = $(this).data(\"resizable\"), o = that.options, cs = that.size, os = that.originalSize, op = that.originalPosition, a = that.axis, ratio = o._aspectRatio || event.shiftKey;\n\t\to.grid = typeof o.grid == \"number\" ? [o.grid, o.grid] : o.grid;\n\t\tvar ox = Math.round((cs.width - os.width) / (o.grid[0]||1)) * (o.grid[0]||1), oy = Math.round((cs.height - os.height) / (o.grid[1]||1)) * (o.grid[1]||1);\n\n\t\tif (/^(se|s|e)$/.test(a)) {\n\t\t\tthat.size.width = os.width + ox;\n\t\t\tthat.size.height = os.height + oy;\n\t\t}\n\t\telse if (/^(ne)$/.test(a)) {\n\t\t\tthat.size.width = os.width + ox;\n\t\t\tthat.size.height = os.height + oy;\n\t\t\tthat.position.top = op.top - oy;\n\t\t}\n\t\telse if (/^(sw)$/.test(a)) {\n\t\t\tthat.size.width = os.width + ox;\n\t\t\tthat.size.height = os.height + oy;\n\t\t\tthat.position.left = op.left - ox;\n\t\t}\n\t\telse {\n\t\t\tthat.size.width = os.width + ox;\n\t\t\tthat.size.height = os.height + oy;\n\t\t\tthat.position.top = op.top - oy;\n\t\t\tthat.position.left = op.left - ox;\n\t\t}\n\t}\n\n});\n\nvar num = function(v) {\n\treturn parseInt(v, 10) || 0;\n};\n\nvar isNumber = function(value) {\n\treturn !isNaN(parseInt(value, 10));\n};\n\n\n","/*!\n * jQuery UI Mouse @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Mouse\n *\n * Depends:\n *\tjquery.ui.widget.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/widget'\n\nvar mouseHandled = false;\n$( document ).mouseup( function( e ) {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\tversion: \"@VERSION\",\n\toptions: {\n\t\tcancel: 'input,textarea,button,select,option',\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.bind('mousedown.'+this.widgetName, function(event) {\n\t\t\t\treturn that._mouseDown(event);\n\t\t\t})\n\t\t\t.bind('click.'+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, that.widgetName + '.preventClickEvent')) {\n\t\t\t\t\t$.removeData(event.target, that.widgetName + '.preventClickEvent');\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind('.'+this.widgetName);\n\t\t$(document)\n\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\t},\n\n\t_mouseDown: function(event) {\n\t\t// don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return; }\n\n\t\t// we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = (event.which === 1),\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel === \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + '.preventClickEvent')) {\n\t\t\t$.removeData(event.target, this.widgetName + '.preventClickEvent');\n\t\t}\n\n\t\t// these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn that._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn that._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\t\t\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.browser.msie && !(document.documentMode >= 9) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target === this._mouseDownEvent.target) {\n\t\t\t\t$.data(event.target, this.widgetName + '.preventClickEvent', true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(event) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(event) {},\n\t_mouseDrag: function(event) {},\n\t_mouseStop: function(event) {},\n\t_mouseCapture: function(event) { return true; }\n});\n\n\n","/*!\n * jQuery UI Button @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Button\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/widget'\n\nvar lastActive, startXPos, startYPos, clickDragged,\n\tbaseClasses = \"ui-button ui-widget ui-state-default ui-corner-all\",\n\tstateClasses = \"ui-state-hover ui-state-active \",\n\ttypeClasses = \"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\",\n\tformResetHandler = function() {\n\t\tvar buttons = $( this ).find( \":ui-button\" );\n\t\tsetTimeout(function() {\n\t\t\tbuttons.button( \"refresh\" );\n\t\t}, 1 );\n\t},\n\tradioGroup = function( radio ) {\n\t\tvar name = radio.name,\n\t\t\tform = radio.form,\n\t\t\tradios = $( [] );\n\t\tif ( name ) {\n\t\t\tif ( form ) {\n\t\t\t\tradios = $( form ).find( \"[name='\" + name + \"']\" );\n\t\t\t} else {\n\t\t\t\tradios = $( \"[name='\" + name + \"']\", radio.ownerDocument )\n\t\t\t\t\t.filter(function() {\n\t\t\t\t\t\treturn !this.form;\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn radios;\n\t};\n\n$.widget( \"ui.button\", {\n\tversion: \"@VERSION\",\n\tdefaultElement: \"<button>\",\n\toptions: {\n\t\tdisabled: null,\n\t\ttext: true,\n\t\tlabel: null,\n\t\ticons: {\n\t\t\tprimary: null,\n\t\t\tsecondary: null\n\t\t}\n\t},\n\t_create: function() {\n\t\tthis.element.closest( \"form\" )\n\t\t\t.unbind( \"reset\" + this.eventNamespace )\n\t\t\t.bind( \"reset\" + this.eventNamespace, formResetHandler );\n\n\t\tif ( typeof this.options.disabled !== \"boolean\" ) {\n\t\t\tthis.options.disabled = !!this.element.prop( \"disabled\" );\n\t\t} else {\n\t\t\tthis.element.prop( \"disabled\", this.options.disabled );\n\t\t}\n\n\t\tthis._determineButtonType();\n\t\tthis.hasTitle = !!this.buttonElement.attr( \"title\" );\n\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\ttoggleButton = this.type === \"checkbox\" || this.type === \"radio\",\n\t\t\thoverClass = \"ui-state-hover\" + ( !toggleButton ? \" ui-state-active\" : \"\" ),\n\t\t\tfocusClass = \"ui-state-focus\";\n\n\t\tif ( options.label === null ) {\n\t\t\toptions.label = (this.type === \"input\" ? this.buttonElement.val() : this.buttonElement.html());\n\t\t}\n\n\t\tthis.buttonElement\n\t\t\t.addClass( baseClasses )\n\t\t\t.not( \".no-button-role\" )\n\t\t\t.attr( \"role\", \"button\" )\n\t\t\t.end()\n\t\t\t.bind( \"mouseenter\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\t\t\tif ( this === lastActive ) {\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( \"mouseleave\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$( this ).removeClass( hoverClass );\n\t\t\t})\n\t\t\t.bind( \"click\" + this.eventNamespace, function( event ) {\n\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.element\n\t\t\t.bind( \"focus\" + this.eventNamespace, function() {\n\t\t\t\t// no need to check disabled, focus won't be triggered anyway\n\t\t\t\tthat.buttonElement.addClass( focusClass );\n\t\t\t})\n\t\t\t.bind( \"blur\" + this.eventNamespace, function() {\n\t\t\t\tthat.buttonElement.removeClass( focusClass );\n\t\t\t});\n\n\t\tif ( toggleButton ) {\n\t\t\tthis.element.bind( \"change\" + this.eventNamespace, function() {\n\t\t\t\tif ( clickDragged ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthat.refresh();\n\t\t\t});\n\t\t\t// if mouse moves between mousedown and mouseup (drag) set clickDragged flag\n\t\t\t// prevents issue where button state changes but checkbox/radio checked state\n\t\t\t// does not in Firefox (see ticket #6970)\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclickDragged = false;\n\t\t\t\t\tstartXPos = event.pageX;\n\t\t\t\t\tstartYPos = event.pageY;\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function( event ) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( startXPos !== event.pageX || startYPos !== event.pageY ) {\n\t\t\t\t\t\tclickDragged = true;\n\t\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).toggleClass( \"ui-state-active\" );\n\t\t\t\tthat.buttonElement.attr( \"aria-pressed\", that.element[0].checked );\n\t\t\t});\n\t\t} else if ( this.type === \"radio\" ) {\n\t\t\tthis.buttonElement.bind( \"click\" + this.eventNamespace, function() {\n\t\t\t\tif ( options.disabled || clickDragged ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\tthat.buttonElement.attr( \"aria-pressed\", \"true\" );\n\n\t\t\t\tvar radio = that.element[ 0 ];\n\t\t\t\tradioGroup( radio )\n\t\t\t\t\t.not( radio )\n\t\t\t\t\t.map(function() {\n\t\t\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t\t\t})\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t});\n\t\t} else {\n\t\t\tthis.buttonElement\n\t\t\t\t.bind( \"mousedown\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\tlastActive = this;\n\t\t\t\t\tthat.document.one( \"mouseup\", function() {\n\t\t\t\t\t\tlastActive = null;\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.bind( \"mouseup\" + this.eventNamespace, function() {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t})\n\t\t\t\t.bind( \"keydown\" + this.eventNamespace, function(event) {\n\t\t\t\t\tif ( options.disabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {\n\t\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.bind( \"keyup\" + this.eventNamespace, function() {\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t});\n\n\t\t\tif ( this.buttonElement.is(\"a\") ) {\n\t\t\t\tthis.buttonElement.keyup(function(event) {\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE ) {\n\t\t\t\t\t\t// TODO pass through original event correctly (just as 2nd argument doesn't work)\n\t\t\t\t\t\t$( this ).click();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// TODO: pull out $.Widget's handling for the disabled option into\n\t\t// $.Widget.prototype._setOptionDisabled so it's easy to proxy and can\n\t\t// be overridden by individual plugins\n\t\tthis._setOption( \"disabled\", options.disabled );\n\t\tthis._resetButton();\n\t},\n\n\t_determineButtonType: function() {\n\t\tvar ancestor, labelSelector, checked;\n\n\t\tif ( this.element.is(\"[type=checkbox]\") ) {\n\t\t\tthis.type = \"checkbox\";\n\t\t} else if ( this.element.is(\"[type=radio]\") ) {\n\t\t\tthis.type = \"radio\";\n\t\t} else if ( this.element.is(\"input\") ) {\n\t\t\tthis.type = \"input\";\n\t\t} else {\n\t\t\tthis.type = \"button\";\n\t\t}\n\n\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t// we don't search against the document in case the element\n\t\t\t// is disconnected from the DOM\n\t\t\tancestor = this.element.parents().last();\n\t\t\tlabelSelector = \"label[for='\" + this.element.attr(\"id\") + \"']\";\n\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\tancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();\n\t\t\t\tthis.buttonElement = ancestor.filter( labelSelector );\n\t\t\t\tif ( !this.buttonElement.length ) {\n\t\t\t\t\tthis.buttonElement = ancestor.find( labelSelector );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.element.addClass( \"ui-helper-hidden-accessible\" );\n\n\t\t\tchecked = this.element.is( \":checked\" );\n\t\t\tif ( checked ) {\n\t\t\t\tthis.buttonElement.addClass( \"ui-state-active\" );\n\t\t\t}\n\t\t\tthis.buttonElement.prop( \"aria-pressed\", checked );\n\t\t} else {\n\t\t\tthis.buttonElement = this.element;\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.buttonElement;\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-helper-hidden-accessible\" );\n\t\tthis.buttonElement\n\t\t\t.removeClass( baseClasses + \" \" + stateClasses + \" \" + typeClasses )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-pressed\" )\n\t\t\t.html( this.buttonElement.find(\".ui-button-text\").html() );\n\n\t\tif ( !this.hasTitle ) {\n\t\t\tthis.buttonElement.removeAttr( \"title\" );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"disabled\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.prop( \"disabled\", true );\n\t\t\t} else {\n\t\t\t\tthis.element.prop( \"disabled\", false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis._resetButton();\n\t},\n\n\trefresh: function() {\n\t\tvar isDisabled = this.element.is( \":disabled\" );\n\t\tif ( isDisabled !== this.options.disabled ) {\n\t\t\tthis._setOption( \"disabled\", isDisabled );\n\t\t}\n\t\tif ( this.type === \"radio\" ) {\n\t\t\tradioGroup( this.element[0] ).each(function() {\n\t\t\t\tif ( $( this ).is( \":checked\" ) ) {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).button( \"widget\" )\n\t\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ( this.type === \"checkbox\" ) {\n\t\t\tif ( this.element.is( \":checked\" ) ) {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"true\" );\n\t\t\t} else {\n\t\t\t\tthis.buttonElement\n\t\t\t\t\t.removeClass( \"ui-state-active\" )\n\t\t\t\t\t.attr( \"aria-pressed\", \"false\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetButton: function() {\n\t\tif ( this.type === \"input\" ) {\n\t\t\tif ( this.options.label ) {\n\t\t\t\tthis.element.val( this.options.label );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar buttonElement = this.buttonElement.removeClass( typeClasses ),\n\t\t\tbuttonText = $( \"<span></span>\", this.document[0] )\n\t\t\t\t.addClass( \"ui-button-text\" )\n\t\t\t\t.html( this.options.label )\n\t\t\t\t.appendTo( buttonElement.empty() )\n\t\t\t\t.text(),\n\t\t\ticons = this.options.icons,\n\t\t\tmultipleIcons = icons.primary && icons.secondary,\n\t\t\tbuttonClasses = [];\n\n\t\tif ( icons.primary || icons.secondary ) {\n\t\t\tif ( this.options.text ) {\n\t\t\t\tbuttonClasses.push( \"ui-button-text-icon\" + ( multipleIcons ? \"s\" : ( icons.primary ? \"-primary\" : \"-secondary\" ) ) );\n\t\t\t}\n\n\t\t\tif ( icons.primary ) {\n\t\t\t\tbuttonElement.prepend( \"<span class='ui-button-icon-primary ui-icon \" + icons.primary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( icons.secondary ) {\n\t\t\t\tbuttonElement.append( \"<span class='ui-button-icon-secondary ui-icon \" + icons.secondary + \"'></span>\" );\n\t\t\t}\n\n\t\t\tif ( !this.options.text ) {\n\t\t\t\tbuttonClasses.push( multipleIcons ? \"ui-button-icons-only\" : \"ui-button-icon-only\" );\n\n\t\t\t\tif ( !this.hasTitle ) {\n\t\t\t\t\tbuttonElement.attr( \"title\", $.trim( buttonText ) );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tbuttonClasses.push( \"ui-button-text-only\" );\n\t\t}\n\t\tbuttonElement.addClass( buttonClasses.join( \" \" ) );\n\t}\n});\n\n$.widget( \"ui.buttonset\", {\n\tversion: \"@VERSION\",\n\toptions: {\n\t\titems: \"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)\"\n\t},\n\n\t_create: function() {\n\t\tthis.element.addClass( \"ui-buttonset\" );\n\t},\n\n\t_init: function() {\n\t\tthis.refresh();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.buttons.button( \"option\", key, value );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\trefresh: function() {\n\t\tvar rtl = this.element.css( \"direction\" ) === \"rtl\";\n\n\t\tthis.buttons = this.element.find( this.options.items )\n\t\t\t.filter( \":ui-button\" )\n\t\t\t\t.button( \"refresh\" )\n\t\t\t.end()\n\t\t\t.not( \":ui-button\" )\n\t\t\t\t.button()\n\t\t\t.end()\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-all ui-corner-left ui-corner-right\" )\n\t\t\t\t.filter( \":first\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-right\" : \"ui-corner-left\" )\n\t\t\t\t.end()\n\t\t\t\t.filter( \":last\" )\n\t\t\t\t\t.addClass( rtl ? \"ui-corner-left\" : \"ui-corner-right\" )\n\t\t\t\t.end()\n\t\t\t.end();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeClass( \"ui-buttonset\" );\n\t\tthis.buttons\n\t\t\t.map(function() {\n\t\t\t\treturn $( this ).button( \"widget\" )[ 0 ];\n\t\t\t})\n\t\t\t\t.removeClass( \"ui-corner-left ui-corner-right\" )\n\t\t\t.end()\n\t\t\t.button( \"destroy\" );\n\t}\n});\n\n\n"],"sourceRoot":""}