{"version":3,"sources":["webpack:///./public/javascripts/translations/lib.text_helper.js","webpack:///./app/coffeescripts/str/TextHelper.coffee","webpack:///./public/javascripts/dummyI18nResource.js?61ff","webpack:///./public/javascripts/jquery.inst_tree.js","webpack:///./public/javascripts/jquery.scrollToVisible.js","webpack:///./public/javascripts/jquery.templateData.js","webpack:///./public/javascripts/vendor/jqueryui/droppable.js","webpack:///./app/jsx/external_apps/lib/iframeAllowances.js","webpack:///./public/javascripts/translations/instructure_misc_plugins.js","webpack:///./public/javascripts/dummyI18nResource.js?9aa5","webpack:///./public/javascripts/jquery.instructure_misc_plugins.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","AUTO_LINKIFY_REGEX","th","quoteClump","lines","htmlEscape","t","raw","join","formatMessage","message","links","placeholderBlocks","replace","match","i","push","link","processedLines","quoteBlock","RegExp","shift","line","length","delimit","number","isNaN","String","sign","abs","Math","result","integer","floor","mod","truncateText","string","options","max","ellipsis","wordSeparator","trim","truncateAt","pos","indexOf","substring","plainText","$","fn","instTree","this","each","binded","tree","it","ddover","autoclose","overrideEvents","multi","dragdrop","onClick","onDblClick","onExpand","onCollapse","onAddNode","onEditNode","onDeleteNode","onDrag","onDrop","opts","extend","InitInstTree","obj","find","filter","prev","get","parents","before","not","addClass","attr","end","IeSetStyles","Clean","AddSigns","BindEvents","CancelDragDrop","InitDragDrop","draggable","cursor","browser","msie","distance","helper","html","appendTo","droppable","accept","hoverClass","bind","event","ui","li","parent","dd","removeClass","opera","css","is","imgFolder","lvlok","ali","hli","remove","unbind","AddNode","type","activeElement","ncont","node","childul","iprnt","ok","after","nextAll","children","append","ExpandNode","focus","select","blur","SaveInput","EditNode","replaceWith","text","DeleteNode","prnt","input","val","value","hide","next","hasClass","on","e","$currentSelected","$fileListContainer","which","preventDefault","stopPropagation","$upNode","FindNode","SelectNode","scrollTop","FileScrollOffset","$downNode","expanded","CollapseNode","parentNode","eq","onEnter","call","$lastItem","last","$firstItem","first","click","closest","clicked","target","ToggleNode","ctrlKey","dblclick","siblings","show","visibility","$node","direction","$treeItems","currentIndex","index","newIndex","data","$item","height","scrollToVisible","$obj","innerOffset","offset","width","outerWidth","outerHeight","top","bottom","left","right","currentTop","selector","windowScrollTop","currentLeft","scrollLeft","currentHeight","currentWidth","outerOffset","tagName","window","fillTemplateData","iterator","andSelf","$el","id","contentChange","item","except","inArray","dataValues","toString","$found_all","avoid","$found","htmlValues","toUpperCase","str","hrefValues","oldHref","oldRel","oldName","hasOwnProperty","name","newHref","replaceTags","encodeURIComponent","orig","document","triggerHandler","defaults","getTemplateData","textValues","_this","forEach","charCodeAt","$elem","getTemplateValue","widget","version","widgetEventPrefix","activeClass","addClasses","greedy","scope","tolerance","_create","o","isover","isout","isFunction","d","proportions","element","offsetWidth","offsetHeight","ddmanager","droppables","_destroy","drop","splice","_setOption","key","Widget","prototype","apply","arguments","_activate","current","_trigger","_deactivate","_over","currentItem","_out","_drop","custom","childrenIntersection","inst","disabled","intersect","c","position","positionAbs","toleranceMode","x1","absolute","x2","helperProportions","y1","y2","l","r","b","draggableLeft","clickOffset","draggableTop","isOver","prepareOffsets","m","list","droppablesLoop","j","visible","dropped","dragStart","parentsUntil","refreshPositions","drag","greedyChild","intersects","parentInstance","dragStop","iframeAllowances","ENV","LTI_LAUNCH_FRAME_ALLOWANCES","setOptions","prompt","opt","optHtml","ifExists","func","scrollbarWidth","$div","$innerDiv","w1","innerWidth","w2","dim","speed","animate","opacity","undim","confirmDelete","$object","$dialog","noMessage","no_message","onContinue","confirmed","url","success","fadeOut","prepareData","authenticity_token","ajaxJSON","request","status","error","unhandledXHRs","cancelled","skipConfirmations","dialog","dialog_options","confirmation_class","includes","modal","close","buttons","I18n","class","confirm","fragmentChange","query","location","search","split","query_hash","$doc","found","_checkFragments","fragmentList","doc","fragment","setTimeout","hash","idx","clickLink","showIf","bool","disableIf","prop","indicate","$indicator","zIndex","container","createElement","display","border","backgroundColor","mouseover","stop","singleFlash","fadeIn","scroll","hasScrollbar","clientHeight","scrollHeight","log","msg","console","fillWindowWithMe","minHeight","$this","$wrapper","$main","$not_right_side","$window","$toResize","add","alsoResize","fillWindowWithThisElement","spaceLeftForThis","newHeight","onResize","autoGrowInput","maxWidth","minWidth","comfortZone","testSubject","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","insertAfter","testerWidth","newWidth"],"mappings":"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","file":"142-c-da05ca703c.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"إظهار النص المقتبس\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"cy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"dangos testun wedi’i ddyfynnu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"de\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"zitierten Text zeigen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"el\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"προβολή κειμένου που παρατίθεται\\\"}}},\\\"en-AU\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-GB\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"es\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostrar texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fa\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"نمایش متن نقل شده\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"näytä lainattu teksti\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"he\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"מציג ציטוט\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ht\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afiche tèks site\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hu\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"idézett szöveg megjelenítése\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"ցույց տալ մեջբերվող տեքստը\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"is\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Sýna ívitnaðan texta\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"it\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostra testo citato\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ja\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"引用したテキストを表示\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ko\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"인용된 텍스트 표시\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"mi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"whakaatu kuputuhi faahiti\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"nb\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nb-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"geciteerde tekst tonen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nn\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis sitert tekst\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"pokaż cytowany fragment tekstu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt-BR\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ru\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"показать цитированный текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"prikaži citirano besedilo\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"tr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"alıntılanan metni göster\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"uk\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Показати цитований текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hans\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"显示引用的文本\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hant\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"顯示引用的文字\\\",\\\"word_separator\\\":\\\" \\\"}}}}\"));\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport I18n from 'i18n!lib.text_helper'\nimport htmlEscape from 'str/htmlEscape'\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\"\nAUTO_LINKIFY_REGEX = ///\n  \\b\n  (                                            # Capture 1: entire matched URL\n    (?:\n      https?://                                # http or https protocol\n      |                                        # or\n      www\\d{0,3}[.]                            # \"www.\", \"www1.\", \"www2.\" … \"www999.\"\n      |                                        # or\n      [a-z0-9.\\-]+[.][a-z]{2,4}/               # looks like domain name followed by a slash\n    )\n\n    (?:\n      [^\\s()<>]+                               # Run of non-space, non-()<>\n      |                                        # or\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n    )+\n\n    (?:\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n      |                                        # or\n      [^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]           # End with: not a space or one of these punct chars\n    )\n  ) | (\n    LINK-PLACEHOLDER\n  )\n///gi\n\nexport default th =\n  quoteClump: (lines) ->\n    \"<div class='quoted_text_holder'>\n      <a href='#' class='show_quoted_text_link'>#{htmlEscape I18n.t(\"quoted_text_toggle\", \"show quoted text\")}</a>\n      <div class='quoted_text' style='display: none;'>\n        #{$.raw lines.join \"\\n\"}\n      </div>\n    </div>\"\n\n  formatMessage: (message) ->\n    # replace any links with placeholders so we don't escape them\n    links = []\n    placeholderBlocks = []\n    message = message.replace AUTO_LINKIFY_REGEX, (match, i) ->\n      placeholderBlocks.push(if match == AUTO_LINKIFY_PLACEHOLDER\n          AUTO_LINKIFY_PLACEHOLDER\n        else\n          link = match\n          link = \"http://\" + link unless link[0..6] == 'http://' or link[0..7] == 'https://'\n          links.push link\n          \"<a href='#{htmlEscape(link)}'>#{htmlEscape(match)}</a>\"\n      )\n      AUTO_LINKIFY_PLACEHOLDER\n\n    # now escape html\n    message = htmlEscape message\n\n    # now put the links back in\n    message = message.replace new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), (match, i) ->\n      placeholderBlocks.shift()\n\n    # replace newlines\n    message = message.replace /\\n/g, '<br />\\n'\n\n    # generate quoting clumps\n    processedLines = []\n    quoteBlock = []\n    for line in message.split(\"\\n\")\n      if line.match /^(&gt;|>)/\n        quoteBlock.push line\n      else\n        processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n        quoteBlock = []\n        processedLines.push line\n    processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n    message = processedLines.join \"\\n\"\n\n  delimit: (number) ->\n    # only process real numbers\n    return String(number) if isNaN number\n\n    # capture sign and then start working with the absolute value. don't\n    # process infinities.\n    sign = if number < 0 then '-' else ''\n    abs = Math.abs number\n    return String(number) if abs is Infinity\n\n    # break out the integer portion and initialize the result to just the\n    # decimal (if any)\n    integer = Math.floor abs\n    result = if abs == integer then '' else String(abs).replace(/^\\d+\\./, '.')\n\n    # for each comma'd chunk, prepend to the result and remove from integer\n    while integer >= 1000\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1')\n      integer = Math.floor integer / 1000\n      result = mod + result\n\n    # integer is now either in [1, 999], or equal to 0 iff number in (-1, 1).\n    # prepend it with the sign\n    sign + String(integer) + result\n\n  truncateText: (string, options = {}) ->\n    max = options.max ? 30\n    ellipsis = I18n.t('ellipsis', '...')\n    wordSeparator = I18n.t('word_separator', ' ')\n\n    string = (string ? \"\").replace(/\\s+/g, wordSeparator).trim()\n    return string if not string or string.length <= max\n\n    truncateAt = 0\n    while true\n      pos = string.indexOf(wordSeparator, truncateAt + 1)\n      break if pos < 0 || pos > max - ellipsis.length\n      truncateAt = pos\n    truncateAt or= max - ellipsis.length # first word > max, so we cut it\n\n    string.substring(0, truncateAt) + ellipsis\n\n  plainText: (message) ->\n    # remove all html tags from the message returning only the text\n    message.replace(/(<([^>]+)>)/ig, '');\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/lib.text_helper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('lib.text_helper');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// xsslint jqueryObject.identifier tree\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from './str/htmlEscape'\nimport 'jqueryui/draggable'\nimport 'jqueryui/droppable'\n\n$.fn.instTree = function(options) {\n  return $(this).each(function() {\n    let binded = false\n    let tree = $(this)\n    const it = this\n    let ddover = null\n\n    it.options = {\n      autoclose: true,\n      overrideEvents: false,\n      multi: true,\n      dragdrop: true,\n      onClick: false,\n      onDblClick: false,\n      onExpand: false,\n      onCollapse: false,\n      onAddNode: false,\n      onEditNode: false,\n      onDeleteNode: false,\n      onDrag: false,\n      onDrop: false\n    }\n    it.opts = $.extend({}, it.options, options)\n\n    $.fn.instTree.InitInstTree = function(obj) {\n      tree = $(obj)\n\n      const $sep = '<li class=\"separator\"></li>'\n\n      tree\n        .find('li:not(.separator)')\n        .filter(function() {\n          return !(\n            $(this)\n              .prev('li.separator')\n              .get(0) ||\n            $(this)\n              .parents('ul.non-instTree')\n              .get(0)\n          )\n        })\n        .each(function() {\n          $(this).before($sep)\n        })\n\n      tree\n        .find('li > span')\n        .not('.sign')\n        .not('.clr')\n        .addClass('text')\n        .attr('unselectable', 'on')\n\n      tree\n        .find('li:not(.separator)')\n        .filter(function() {\n          return !$(this)\n            .parents('ul.non-instTree')\n            .get(0)\n        })\n        .filter(':has(ul)')\n        .addClass('node')\n        .end()\n        .filter(':not(.node)')\n        .addClass('leaf')\n\n      it.IeSetStyles()\n\n      it.Clean()\n\n      it.AddSigns()\n\n      if (!binded) {\n        it.BindEvents(obj)\n      }\n\n      // dragdrop\n      if (it.opts.dragdrop) {\n        it.CancelDragDrop(obj)\n        it.InitDragDrop(obj)\n      } // if (it.opts.dragdrop)\n    } // InitInstTree\n    it.InitDragDrop = function(obj) {\n      tree = $(obj)\n\n      tree.find('span.text').draggable({\n        cursor: $.browser.msie ? 'default' : 'move',\n        distance: 3,\n        helper() {\n          return $('<div id=\"instTree-drag\"><span>' + $(this).html() + '</span></div>')\n        },\n        appendTo: tree\n      })\n\n      tree.find('li.separator').droppable({\n        accept: 'span.text',\n        hoverClass: 'dd-hover'\n      })\n\n      tree.find('span.text').bind('dragstart', function(event, ui) {\n        tree = $(this).parents('ul.instTree:first')\n\n        const li = $(this).parent('li')\n        const dd = $('div#instTree-drag')\n\n        if ($.browser.msie) {\n          tree.find('li.separator').removeClass('dd-hover')\n        }\n\n        if ($.browser.opera) {\n          dd.css('margin-top', '10px')\n        }\n\n        if (li.is('.leaf')) {\n          dd.addClass('leaf')\n\n          if ($.browser.msie) {\n            dd.css(\n              'background',\n              '#C3E1FF url(' + it.opts.imgFolder + 'leaf-drag.gif) left 3px no-repeat'\n            )\n          }\n        } // if (li.is('.leaf'))\n        else if (li.is('.node')) {\n          dd.addClass('node')\n        }\n\n        li.prev('li.separator')\n          .addClass('alt')\n          .end()\n          .addClass('alt')\n\n        if (typeof it.opts.onDrag === 'function') {\n          it.opts.onDrag(event, li)\n        }\n      })\n\n      tree.find('li.separator').bind('dropover', function(event, ui) {\n        ddover = $(this)\n      })\n\n      tree.find('li.separator').bind('dropout', (event, ui) => {\n        ddover = null\n      })\n\n      tree.find('span.text').bind('dragstop', (event, ui) => {\n        let lvlok = true\n\n        if (ddover) {\n          var ali = tree.find('li.alt:not(.separator):eq(0)')\n          const hli = ddover.parents('li.node:eq(0)')\n\n          if (ali.is('.node') && hli.is('.fixedLevel')) {\n            lvlok = false\n          }\n        } // if (ddover)\n        if (ddover && lvlok) {\n          ddover.before(\n            tree\n              .find('li.alt')\n              .remove()\n              .removeClass('alt')\n          )\n\n          ddover = null\n\n          if (typeof it.opts.onDrop === 'function') {\n            it.opts.onDrop(event, ali)\n          }\n\n          $.fn.instTree.InitInstTree(obj)\n        } // if (ddover)\n        else {\n          tree.find('li.alt').removeClass('alt')\n        }\n      })\n    } // InitDragDrop\n    it.CancelDragDrop = function(obj) {\n      tree = $(obj)\n\n      tree.find('span.text').draggable('destroy')\n      tree.find('li.separator').droppable('destroy')\n      tree.find('li.separator').unbind()\n      tree.find('span.text').unbind()\n    }\n\n    $.fn.instTree.AddNode = function(obj, type) {\n      tree = $(obj)\n\n      const activeElement = tree.find('span.active').get(0)\n\n      if (activeElement) {\n        const li = $(activeElement).parents('li:first')\n        const lin = $(activeElement).parents('li.node:first')\n\n        if (!lin.is('.fixedLevel') || type != 'node') {\n          // xsslint safeString.identifier ncont cn\n          const cn = type == 'leaf' ? '' : ' class=\"node\"'\n\n          const sep = '<li class=\"separator\"></li>'\n          const nli =\n            '<li' +\n            cn +\n            '><span class=\"text\">&nbsp;</span><input type=\"text\" value=\"New item\" /></li>'\n          const ncont = sep + nli\n\n          let ok = false\n          let node, childul, iprnt\n\n          if (li.is('.leaf')) {\n            li.after(ncont)\n\n            node = li.nextAll('li:not(.separator):first')\n\n            iprnt = li.parent()\n\n            ok = true\n          } // if (li.is('.leaf'))\n          else if (li.is('.node')) {\n            childul = li.children('ul').get(0)\n\n            if (childul) {\n              $(childul).append(ncont)\n\n              node = $(childul).children('li:not(.separator):last')\n            } // if (childul)\n            else {\n              li.append('<ul>' + ncont + '</ul>')\n\n              childul = li.children('ul').get(0)\n\n              node = $(childul).children('li:not(.separator):last')\n            } // else\n            it.ExpandNode(obj, li)\n\n            iprnt = li\n\n            ok = true\n          } // else if ( ...\n          if (ok) {\n            $(activeElement).removeClass('active')\n\n            iprnt\n              .find('input:text')\n              .focus()\n              .select()\n              .blur(function() {\n                it.SaveInput(obj, $(this))\n              })\n          } // if (ok)\n          $.fn.instTree.InitInstTree(obj)\n\n          if (typeof it.opts.onAddNode === 'function') {\n            it.opts.onAddNode(node)\n          }\n        } // if ((!li.is('.fixedLevel')) || (type != 'node'))\n      } // if (activeElement)\n    } // AddNode\n    $.fn.instTree.EditNode = function(obj) {\n      tree = $(obj)\n      const activeElement = tree.find('span.active').get(0)\n      if (activeElement) {\n        const li = $(activeElement).parents('li:first')\n\n        $(activeElement).replaceWith(\n          '<span class=\"text\">&nbsp;</span><input type=\"text\" value=\"' +\n            htmlEscape($(activeElement).text()) +\n            '\" />'\n        )\n\n        li.find('input:text')\n          .focus()\n          .select()\n          .blur(function() {\n            it.SaveInput(obj, $(this))\n          })\n\n        if (typeof it.opts.onEditNode === 'function') {\n          it.opts.onEditNode(li)\n        }\n      }\n      // if (activeElement)\n    } // EditNode\n    $.fn.instTree.DeleteNode = function(obj) {\n      tree = $(obj)\n\n      const activeElement = tree.find('span.active').get(0)\n\n      if (activeElement) {\n        const li = $(activeElement).parents('li:first')\n        const prnt = li.parents('li.node:first')\n\n        li.prev('li.separator')\n          .remove()\n          .end()\n          .remove()\n\n        $.fn.instTree.InitInstTree(obj)\n\n        if (typeof it.opts.onDeleteNode === 'function') {\n          it.opts.onDeleteNode(li, prnt)\n        }\n      } // if (activeElement)\n    } // DeleteNode\n    it.SaveInput = function(obj, input) {\n      input.prev('span.text').remove()\n\n      const val = $.trim(input.get(0).value) !== '' ? input.get(0).value : '_____'\n\n      input.replaceWith('<span class=\"active text\">' + htmlEscape(val) + '</span>')\n\n      $.fn.instTree.InitInstTree(obj)\n    } // SaveInput\n    it.IeSetStyles = function() {\n      if ($.browser.msie) {\n        tree.find('li.node:not(.open) > ul').hide()\n        tree.find('li.node.open > ul').css('margin-bottom', '1px')\n      }\n    } // IeSetStyles\n    it.Clean = function() {\n      tree.find('li:not(.separator)').each(function() {\n        $(this).removeClass('last')\n\n        if (!$(this).next('li').length || $(this).find('ul').length) {\n          $(this).addClass('last')\n        }\n      })\n    } // Clean\n    it.AddSigns = function() {\n      tree.find('li.node').each(function() {\n        if ($(this).hasClass('open')) {\n          $(this)\n            .find('span.sign')\n            .remove()\n            .end()\n            .append('<span class=\"sign minus\"></span>')\n        } else {\n          $(this)\n            .find('span.sign')\n            .remove()\n            .end()\n            .append('<span class=\"sign plus\"></span>')\n        }\n      })\n    } // AddSigns\n    it.BindEvents = function(obj) {\n      tree.on('keydown', function(e) {\n        const $currentSelected = tree.find('[aria-selected=\"true\"]')\n        const $fileListContainer = $('#file_list_container')\n\n        switch (e.which) {\n          case 38: // up\n            e.preventDefault()\n            e.stopPropagation()\n\n            var $upNode = it.FindNode($currentSelected, 'up')\n            it.SelectNode($upNode)\n            $fileListContainer.scrollTop(it.FileScrollOffset($upNode, $fileListContainer))\n\n            break\n          case 40: // down\n            e.preventDefault()\n            e.stopPropagation()\n\n            var $downNode = it.FindNode($currentSelected, 'down')\n            it.SelectNode($downNode)\n            $fileListContainer.scrollTop(it.FileScrollOffset($downNode, $fileListContainer))\n\n            break\n          case 37: // left\n            e.preventDefault()\n            e.stopPropagation()\n            var expanded = $currentSelected.attr('aria-expanded')\n\n            if ($currentSelected.hasClass('node') && expanded === 'true') {\n              it.CollapseNode($currentSelected)\n            } else if (\n              typeof expanded === 'undefined' ||\n              expanded === false ||\n              expanded === 'false'\n            ) {\n              const parentNode = $currentSelected.parents('.node').eq(0)\n              it.SelectNode(parentNode)\n              $fileListContainer.scrollTop(it.FileScrollOffset(parentNode, $fileListContainer))\n            }\n\n            break\n          case 39: // right\n            e.preventDefault()\n            e.stopPropagation()\n            var expanded = $currentSelected.attr('aria-expanded')\n\n            if ($currentSelected.hasClass('node') && expanded !== 'true') {\n              it.ExpandNode(obj, $currentSelected)\n            } else if (expanded === 'true') {\n              // if its something that can be expand\n              var $downNode = it.FindNode($currentSelected, 'down')\n              it.SelectNode($downNode)\n              $fileListContainer.scrollTop(it.FileScrollOffset($downNode, $fileListContainer))\n            }\n\n            break\n          case 13: // enter this allows for an onEnter function\n            e.preventDefault()\n            e.stopPropagation()\n            var node = $currentSelected\n\n            if (typeof it.opts.onEnter === 'function') {\n              it.opts.onEnter.call(this, e, node)\n            }\n\n            break\n          case 35: // home button\n            e.preventDefault()\n            e.stopPropagation()\n\n            var $treeItems = $('[role=\"treeitem\"]:visible')\n            var $lastItem = $treeItems.last()\n            it.SelectNode($lastItem)\n            $fileListContainer.scrollTop(it.FileScrollOffset($lastItem, $fileListContainer))\n\n            break\n          case 36: // home button\n            e.preventDefault()\n            e.stopPropagation()\n\n            var $treeItems = $('[role=\"treeitem\"]:visible')\n            var $firstItem = $treeItems.first()\n            it.SelectNode($firstItem)\n            $fileListContainer.scrollTop(it.FileScrollOffset($firstItem, $fileListContainer))\n\n            break\n        }\n      })\n\n      tree.click(function(e) {\n        const tree = $(this).closest('.instTree')\n        const clicked = $(e.target)\n        let node\n\n        if (clicked.is('span.sign')) {\n          node = clicked.parents('li:eq(0)')\n          it.ToggleNode(obj, node)\n        } else if (clicked.is('span.text')) {\n          node = clicked.closest('li')\n\n          if (typeof it.opts.onClick === 'function') {\n            if (!it.opts.overrideEvents) {\n              if (!it.opts.multi || !e.ctrlKey) {\n                tree\n                  .find('.active')\n                  .removeClass('active')\n                  .end()\n                  .find('.active-leaf')\n                  .removeClass('active-leaf')\n                  .end()\n                  .find('.active-node')\n                  .removeClass('active-node')\n              }\n              clicked.addClass('active')\n              if (node.hasClass('leaf')) {\n                node.addClass('active-leaf')\n              } else {\n                node.addClass('active-node')\n              }\n            }\n            it.opts.onClick.call(node, e, node)\n          } else {\n            if (!it.opts.multi || !e.ctrlKey) {\n              tree\n                .find('.active')\n                .removeClass('active')\n                .end()\n                .find('.active-leaf')\n                .removeClass('active-leaf')\n                .end()\n                .find('.active-node')\n                .removeClass('active-node')\n            }\n            clicked.addClass('active')\n            if (node.hasClass('leaf')) {\n              node.addClass('active-leaf')\n            } else {\n              node.addClass('active-node')\n            }\n          }\n        }\n      })\n\n      tree.dblclick(e => {\n        const clicked = $(e.target)\n\n        if (clicked.is('span.text')) {\n          const node = clicked.parents('li:eq(0)')\n\n          if (typeof it.opts.onDblClick === 'function') {\n            if (!it.opts.overrideEvents && node.is('.node')) {\n              it.ToggleNode(obj, node)\n            }\n            it.opts.onDblClick.call(node, e, node)\n          } else if (node.is('.node')) {\n            it.ToggleNode(obj, node)\n          }\n        } // if (clicked.is('span.text'))\n      })\n\n      binded = true\n    } // BindEvents\n    it.ToggleNode = function(obj, node) {\n      if (node.hasClass('open')) {\n        it.CollapseNode(node)\n      } else {\n        it.ExpandNode(obj, node)\n      }\n\n      it.Clean()\n    } // ToggleNode\n    it.ExpandNode = function(obj, node) {\n      node.addClass('open')\n      node.attr('aria-expanded', true)\n\n      if (it.opts.autoclose) {\n        node.siblings('.open').each(function() {\n          it.CollapseNode($(this))\n        })\n      }\n      // if (opts.autoclose)\n      if ($.browser.msie) {\n        node\n          .children('ul')\n          .show()\n          .css({\n            'margin-bottom': '1px',\n            visibility: 'visible'\n          })\n\n        node\n          .children('ul')\n          .find('li.node:not(.open) > ul')\n          .each(function() {\n            $(this).css('visibility', 'hidden')\n          })\n      } // if ($.browser.msie)\n      const sign = node.find('span.sign:last')\n\n      sign.removeClass('plus').addClass('minus')\n\n      if (it.opts.multi) {\n        $.fn.instTree.InitInstTree(obj)\n      }\n\n      if (typeof it.opts.onExpand === 'function') {\n        it.opts.onExpand(node)\n      }\n    } // ExpandNode\n\n    it.CollapseNode = function(node) {\n      node.removeClass('open')\n      node.attr('aria-expanded', false)\n\n      if ($.browser.msie) {\n        node.children('ul').hide()\n      }\n\n      const sign = node.find('span.sign:last')\n\n      sign.removeClass('minus').addClass('plus')\n\n      if (typeof it.opts.onCollapse === 'function') {\n        it.opts.onCollapse(node)\n      }\n    } // CollapseNode\n\n    // This function add's all of the accessiblity attributes\n    // to a node to qualify it as 'selected'. This means aria-selected,\n    // activedecendant and any other tags that might need to be added.\n\n    it.SelectNode = function($node) {\n      if ($node.length) {\n        tree.attr('aria-activedescendant', $node.attr('id'))\n        tree.find('[aria-selected=\"true\"]').attr('aria-selected', 'false')\n        $node.attr('aria-selected', 'true')\n      }\n    } // SelectNode\n\n    // This returns a next or previous node in a tree. For instance, given\n    // node 1, 2, 3 if you are on node 1 and want to move down to the next\n    // node it would return node 2. (In the file system of course).\n    //\n    // Accepts 2 arguments -> jQuery Object | \"up\" or \"down\" (defaults to down)\n    // Returns jQuery Node\n\n    it.FindNode = function($currentSelected, direction) {\n      const $treeItems = $('[role=\"treeitem\"]:visible')\n      const currentIndex = $treeItems.index($currentSelected)\n      let newIndex = currentIndex\n\n      direction == 'up' ? newIndex-- : newIndex++ // defaults to ++ or a down direction\n      const node = newIndex >= 0 ? $treeItems.get(newIndex) : $treeItems.get(currentIndex) // ensure you don't return a negitive index\n      const $node = $(node).data('indexPosition', newIndex)\n      return $node\n    } // FindNode\n\n    // Calculates the offset that should be used to keep the files tab scrolled\n    // in the right position. Using the native \"offset\" properties was inconsistent\n    // so we are calculating the position by adding the heights of div and scrolling\n    // based on that.\n    //\n    // Accepts 2 argument -> jQuery Object (file/folder node) and jQuery Object its container\n    // Returns Integer which is the offset to use for scrolling to the correct position\n\n    it.FileScrollOffset = function($item, $fileListContainer) {\n      const index = $item.data('indexPosition')\n\n      const leafHight =\n        $fileListContainer\n          .find('.leaf')\n          .first()\n          .height() || 20 // defaults to 20 px\n      const seperatorHeight =\n        $item\n          .siblings('.separator')\n          .first()\n          .height() || 2 // defaults to 2 px\n      const seperatorOffset = seperatorHeight * index\n      const nodeOffset = leafHight * index\n      const containerOffset = $fileListContainer.height() / 2\n\n      return nodeOffset + seperatorOffset - containerOffset\n    } // FileScrollOffset\n\n    if ($(this).is('ul')) {\n      tree = $(this)\n      tree.addClass('instTree')\n      $.fn.instTree.InitInstTree(it)\n    } // if ($(this).is('ul'))\n  })\n}\n","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Scrolls the supplied object until its visible. Call from\n// (\"html,body\") to scroll the window.\n\nimport $ from 'jquery'\nimport './vendor/jquery.scrollTo'\n\n$.fn.scrollToVisible = function(obj) {\n  const options = {}\n  const $obj = $(obj)\n\n  if ($obj.length === 0) {\n    return\n  }\n  let innerOffset = $obj.offset(),\n    width = $obj.outerWidth(),\n    height = $obj.outerHeight(),\n    top = innerOffset.top,\n    bottom = top + height,\n    left = innerOffset.left,\n    right = left + width,\n    currentTop = this.selector == 'html,body' ? $.windowScrollTop() : this.scrollTop(),\n    currentLeft = this.scrollLeft(),\n    currentHeight = this.outerHeight(),\n    currentWidth = this.outerWidth()\n\n  if (this.selector != 'html,body') {\n    let outerOffset = $('body').offset()\n    this.each(function() {\n      try {\n        outerOffset = $(this).offset()\n        return false\n      } catch (e) {}\n    })\n    top -= outerOffset.top\n    bottom -= outerOffset.top\n    left -= outerOffset.left\n    right -= outerOffset.left\n  }\n\n  if (this[0].tagName == 'HTML' || this[0].tagName == 'BODY') {\n    currentHeight = $(window).height()\n    if ($('#wizard_box:visible').length > 0) {\n      currentHeight -= $('#wizard_box:visible').height()\n    }\n    currentWidth = $(window).width()\n    top -= currentTop\n    left -= currentLeft\n    bottom -= currentTop\n    right -= currentLeft\n  }\n  if (top < 0 || (currentHeight < height && bottom > currentHeight)) {\n    options.scrollTop = top + currentTop\n  } else if (bottom > currentHeight) {\n    options.scrollTop = bottom + currentTop - currentHeight + 20\n  }\n  if (left < 0) {\n    options.scrollLeft = left + currentLeft\n  } else if (right > currentWidth) {\n    options.scrollLeft = right + currentLeft - currentWidth + 20\n  }\n  if (options.scrollTop == 1) {\n    options.scrollTop = 0\n  }\n  if (options.scrollLeft == 1) {\n    options.scrollLeft = 0\n  }\n\n  this.scrollTop(options.scrollTop)\n  this.scrollLeft(options.scrollLeft)\n\n  return this\n}\n","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport './jquery.instructure_misc_helpers' /* replaceTags */\n\n// Fills the selected object(s) with data values as specified.  Plaintext values should be specified in the\n//  data: data used to fill template.\n//  id: set the id attribute of the template object\n//  textValues: a list of strings, which values should be plaintext\n//  htmlValues: a list of strings, which values should be html\n//  hrefValues: List of string.  Searches for all anchor tags in the template\n//    and globally replaces \"{{ value }}\" with data[value].  Useful for adding\n//    new elements asynchronously, when you don't know what their URL will be\n//    until they're created.\n$.fn.fillTemplateData = function(options) {\n  if (this.length && options) {\n    if (options.iterator) {\n      //  todo: replace .andSelf with .addBack when JQuery is upgraded.\n      this.find('*')\n        .andSelf()\n        .each(function() {\n          const $el = $(this)\n          $.each(['name', 'id', 'class'], (i, attr) => {\n            if ($el.attr(attr)) {\n              $el.attr(attr, $el.attr(attr).replace(/-iterator-/, options.iterator))\n            }\n          })\n        })\n    }\n    if (options.id) {\n      this.attr('id', options.id)\n    }\n    let contentChange = false\n    if (options.data) {\n      for (var item in options.data) {\n        if (options.except && $.inArray(item, options.except) != -1) {\n          continue\n        }\n        if (options.data[item] && options.dataValues && $.inArray(item, options.dataValues) != -1) {\n          this.data(item, options.data[item].toString())\n        }\n        const $found_all = this.find('.' + item)\n        var avoid = options.avoid || ''\n        $found_all.each(function() {\n          const $found = $(this)\n          if ($found.length > 0 && $found.closest(avoid).length === 0) {\n            if (typeof options.data[item] === 'undefined' || options.data[item] === null) {\n              options.data[item] = ''\n            }\n            if (options.htmlValues && $.inArray(item, options.htmlValues) != -1) {\n              $found.html($.raw(options.data[item].toString()))\n              if ($found.hasClass('user_content')) {\n                contentChange = true\n                $found.removeClass('enhanced')\n                $found.data('unenhanced_content_html', options.data[item].toString())\n              }\n            } else if ($found[0].tagName.toUpperCase() == 'INPUT') {\n              $found.val(options.data[item])\n            } else {\n              try {\n                const str = options.data[item].toString()\n                $found.html(htmlEscape(str))\n              } catch (e) {}\n            }\n          }\n        })\n      }\n    }\n    if (options.hrefValues && options.data) {\n      this.find('a,span[rel]').each(function() {\n        let $obj = $(this),\n          oldHref,\n          oldRel,\n          oldName\n        for (const i in options.hrefValues) {\n          if (!options.hrefValues.hasOwnProperty(i)) {\n            continue\n          }\n          const name = options.hrefValues[i]\n          if ((oldHref = $obj.attr('href'))) {\n            const newHref = $.replaceTags(oldHref, name, encodeURIComponent(options.data[name]))\n            const orig = $obj.text() === $obj.html() ? $obj.text() : null\n            if (oldHref !== newHref) {\n              $obj.attr('href', newHref)\n              if (orig) {\n                $obj.text(orig)\n              }\n            }\n          }\n          if ((oldRel = $obj.attr('rel'))) {\n            $obj.attr('rel', $.replaceTags(oldRel, name, options.data[name]))\n          }\n          if ((oldName = $obj.attr('name'))) {\n            $obj.attr('name', $.replaceTags(oldName, name, options.data[name]))\n          }\n        }\n      })\n    }\n    if (contentChange) {\n      $(document).triggerHandler('user_content_change')\n    }\n  }\n  return this\n}\n\n$.fn.fillTemplateData.defaults = {htmlValues: null, hrefValues: null}\n\n// Reverse version of fillTemplateData.  Lets you pull out the string versions of values held in divs, spans, etc.\n// Based on the usage of class names within an object to specify an object's sub-parts.\n$.fn.getTemplateData = function(options) {\n  if (!this.length || !options) {\n    return {}\n  }\n  var result = {},\n    item,\n    val\n  if (options.textValues) {\n    const _this = this\n    options.textValues.forEach(item => {\n      const $item = _this.find('.' + item.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first')\n      val = $.trim($item.text())\n      if ($item.html() === '&nbsp;') {\n        val = ''\n      }\n      if (val.length === 1 && val.charCodeAt(0) === 160) {\n        val = ''\n      }\n      result[item] = val\n    })\n  }\n  if (options.dataValues) {\n    for (item in options.dataValues) {\n      var val = this.data(options.dataValues[item])\n      if (val) {\n        result[options.dataValues[item]] = val\n      }\n    }\n  }\n  if (options.htmlValues) {\n    for (item in options.htmlValues) {\n      const $elem = this.find(\n        '.' + options.htmlValues[item].replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]') + ':first'\n      )\n      val = null\n      if ($elem.hasClass('user_content') && $elem.data('unenhanced_content_html')) {\n        val = $elem.data('unenhanced_content_html')\n      } else {\n        val = $.trim($elem.html())\n      }\n      result[options.htmlValues[item]] = val\n    }\n  }\n  return result\n}\n\n$.fn.getTemplateValue = function(value, options) {\n  const opts = $.extend({}, options, {textValues: [value]})\n  return this.getTemplateData(opts)[value]\n}\n","/*!\n * jQuery UI Droppable @VERSION\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Droppables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.draggable.js\n */\nimport $ from 'jquery'\nimport 'jqueryui/core'\nimport 'jqueryui/widget'\nimport 'jqueryui/mouse'\nimport 'jqueryui/draggable'\n\n$.widget(\"ui.droppable\", {\n\tversion: \"@VERSION\",\n\twidgetEventPrefix: \"drop\",\n\toptions: {\n\t\taccept: '*',\n\t\tactiveClass: false,\n\t\taddClasses: true,\n\t\tgreedy: false,\n\t\thoverClass: false,\n\t\tscope: 'default',\n\t\ttolerance: 'intersect'\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options, accept = o.accept;\n\t\tthis.isover = 0; this.isout = 1;\n\n\t\tthis.accept = $.isFunction(accept) ? accept : function(d) {\n\t\t\treturn d.is(accept);\n\t\t};\n\n\t\t//Store the droppable's proportions\n\t\tthis.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };\n\n\t\t// Add the reference and positions to the manager\n\t\t$.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];\n\t\t$.ui.ddmanager.droppables[o.scope].push(this);\n\n\t\t(o.addClasses && this.element.addClass(\"ui-droppable\"));\n\n\t},\n\n\t_destroy: function() {\n\t\tvar drop = $.ui.ddmanager.droppables[this.options.scope];\n\t\tfor ( var i = 0; i < drop.length; i++ )\n\t\t\tif ( drop[i] == this )\n\t\t\t\tdrop.splice(i, 1);\n\n\t\tthis.element.removeClass(\"ui-droppable ui-droppable-disabled\");\n\t},\n\n\t_setOption: function(key, value) {\n\n\t\tif(key == 'accept') {\n\t\t\tthis.accept = $.isFunction(value) ? value : function(d) {\n\t\t\t\treturn d.is(value);\n\t\t\t};\n\t\t}\n\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t},\n\n\t_activate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) this.element.addClass(this.options.activeClass);\n\t\t(draggable && this._trigger('activate', event, this.ui(draggable)));\n\t},\n\n\t_deactivate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) this.element.removeClass(this.options.activeClass);\n\t\t(draggable && this._trigger('deactivate', event, this.ui(draggable)));\n\t},\n\n\t_over: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; // Bail if draggable and droppable are same element\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) this.element.addClass(this.options.hoverClass);\n\t\t\tthis._trigger('over', event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_out: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; // Bail if draggable and droppable are same element\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);\n\t\t\tthis._trigger('out', event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_drop: function(event,custom) {\n\n\t\tvar draggable = custom || $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return false; // Bail if draggable and droppable are same element\n\n\t\tvar childrenIntersection = false;\n\t\tthis.element.find(\":data(droppable)\").not(\".ui-draggable-dragging\").each(function() {\n\t\t\tvar inst = $.data(this, 'droppable');\n\t\t\tif(\n\t\t\t\tinst.options.greedy\n\t\t\t\t&& !inst.options.disabled\n\t\t\t\t&& inst.options.scope == draggable.options.scope\n\t\t\t\t&& inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element))\n\t\t\t\t&& $.ui.intersect(draggable, $.extend(inst, { offset: inst.element.offset() }), inst.options.tolerance)\n\t\t\t) { childrenIntersection = true; return false; }\n\t\t});\n\t\tif(childrenIntersection) return false;\n\n\t\tif(this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.activeClass) this.element.removeClass(this.options.activeClass);\n\t\t\tif(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);\n\t\t\tthis._trigger('drop', event, this.ui(draggable));\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tui: function(c) {\n\t\treturn {\n\t\t\tdraggable: (c.currentItem || c.element),\n\t\t\thelper: c.helper,\n\t\t\tposition: c.position,\n\t\t\toffset: c.positionAbs\n\t\t};\n\t}\n\n});\n\n$.ui.intersect = function(draggable, droppable, toleranceMode) {\n\n\tif (!droppable.offset) return false;\n\n\tvar x1 = (draggable.positionAbs || draggable.position.absolute).left, x2 = x1 + draggable.helperProportions.width,\n\t\ty1 = (draggable.positionAbs || draggable.position.absolute).top, y2 = y1 + draggable.helperProportions.height;\n\tvar l = droppable.offset.left, r = l + droppable.proportions.width,\n\t\tt = droppable.offset.top, b = t + droppable.proportions.height;\n\n\tswitch (toleranceMode) {\n\t\tcase 'fit':\n\t\t\treturn (l <= x1 && x2 <= r\n\t\t\t\t&& t <= y1 && y2 <= b);\n\t\t\tbreak;\n\t\tcase 'intersect':\n\t\t\treturn (l < x1 + (draggable.helperProportions.width / 2) // Right Half\n\t\t\t\t&& x2 - (draggable.helperProportions.width / 2) < r // Left Half\n\t\t\t\t&& t < y1 + (draggable.helperProportions.height / 2) // Bottom Half\n\t\t\t\t&& y2 - (draggable.helperProportions.height / 2) < b ); // Top Half\n\t\t\tbreak;\n\t\tcase 'pointer':\n\t\t\tvar draggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left),\n\t\t\t\tdraggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top),\n\t\t\t\tisOver = $.ui.isOver(draggableTop, draggableLeft, t, l, droppable.proportions.height, droppable.proportions.width);\n\t\t\treturn isOver;\n\t\t\tbreak;\n\t\tcase 'touch':\n\t\t\treturn (\n\t\t\t\t\t(y1 >= t && y1 <= b) ||\t// Top edge touching\n\t\t\t\t\t(y2 >= t && y2 <= b) ||\t// Bottom edge touching\n\t\t\t\t\t(y1 < t && y2 > b)\t\t// Surrounded vertically\n\t\t\t\t) && (\n\t\t\t\t\t(x1 >= l && x1 <= r) ||\t// Left edge touching\n\t\t\t\t\t(x2 >= l && x2 <= r) ||\t// Right edge touching\n\t\t\t\t\t(x1 < l && x2 > r)\t\t// Surrounded horizontally\n\t\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn false;\n\t\t\tbreak;\n\t\t}\n\n};\n\n/*\n\tThis manager tracks offsets of draggables and droppables\n*/\n$.ui.ddmanager = {\n\tcurrent: null,\n\tdroppables: { 'default': [] },\n\tprepareOffsets: function(t, event) {\n\n\t\tvar m = $.ui.ddmanager.droppables[t.options.scope] || [];\n\t\tvar type = event ? event.type : null; // workaround for #2317\n\t\tvar list = (t.currentItem || t.element).find(\":data(droppable)\").andSelf();\n\n\t\tdroppablesLoop: for (var i = 0; i < m.length; i++) {\n\n\t\t\tif(m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0],(t.currentItem || t.element)))) continue;\t//No disabled and non-accepted\n\t\t\tfor (var j=0; j < list.length; j++) { if(list[j] == m[i].element[0]) { m[i].proportions.height = 0; continue droppablesLoop; } }; //Filter out elements in the current dragged item\n\t\t\tm[i].visible = m[i].element.css(\"display\") != \"none\"; if(!m[i].visible) continue; \t\t\t\t\t\t\t\t\t//If the element is not visible, continue\n\n\t\t\tif(type == \"mousedown\") m[i]._activate.call(m[i], event); //Activate the droppable if used directly from draggables\n\n\t\t\tm[i].offset = m[i].element.offset();\n\t\t\tm[i].proportions = { width: m[i].element[0].offsetWidth, height: m[i].element[0].offsetHeight };\n\n\t\t}\n\n\t},\n\tdrop: function(draggable, event) {\n\n\t\tvar dropped = false;\n\t\t$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {\n\n\t\t\tif(!this.options) return;\n\t\t\tif (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance))\n\t\t\t\tdropped = this._drop.call(this, event) || dropped;\n\n\t\t\tif (!this.options.disabled && this.visible && this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\t\tthis.isout = 1; this.isover = 0;\n\t\t\t\tthis._deactivate.call(this, event);\n\t\t\t}\n\n\t\t});\n\t\treturn dropped;\n\n\t},\n\tdragStart: function( draggable, event ) {\n\t\t//Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)\n\t\tdraggable.element.parentsUntil( \"body\" ).bind( \"scroll.droppable\", function() {\n\t\t\tif( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t});\n\t},\n\tdrag: function(draggable, event) {\n\n\t\t//If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.\n\t\tif(draggable.options.refreshPositions) $.ui.ddmanager.prepareOffsets(draggable, event);\n\n\t\t//Run through all droppables and check their positions based on specific tolerance options\n\t\t$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {\n\n\t\t\tif(this.options.disabled || this.greedyChild || !this.visible) return;\n\t\t\tvar intersects = $.ui.intersect(draggable, this, this.options.tolerance);\n\n\t\t\tvar c = !intersects && this.isover == 1 ? 'isout' : (intersects && this.isover == 0 ? 'isover' : null);\n\t\t\tif(!c) return;\n\n\t\t\tvar parentInstance;\n\t\t\tif (this.options.greedy) {\n\t\t\t\tvar parent = this.element.parents(':data(droppable):eq(0)');\n\t\t\t\tif (parent.length) {\n\t\t\t\t\tparentInstance = $.data(parent[0], 'droppable');\n\t\t\t\t\tparentInstance.greedyChild = (c == 'isover' ? 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// we just moved into a greedy child\n\t\t\tif (parentInstance && c == 'isover') {\n\t\t\t\tparentInstance['isover'] = 0;\n\t\t\t\tparentInstance['isout'] = 1;\n\t\t\t\tparentInstance._out.call(parentInstance, event);\n\t\t\t}\n\n\t\t\tthis[c] = 1; this[c == 'isout' ? 'isover' : 'isout'] = 0;\n\t\t\tthis[c == \"isover\" ? \"_over\" : \"_out\"].call(this, event);\n\n\t\t\t// we just moved out of a greedy child\n\t\t\tif (parentInstance && c == 'isout') {\n\t\t\t\tparentInstance['isout'] = 0;\n\t\t\t\tparentInstance['isover'] = 1;\n\t\t\t\tparentInstance._over.call(parentInstance, event);\n\t\t\t}\n\t\t});\n\n\t},\n\tdragStop: function( draggable, event ) {\n\t\tdraggable.element.parentsUntil( \"body\" ).unbind( \"scroll.droppable\" );\n\t\t//Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)\n\t\tif( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );\n\t}\n};\n\n\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst iframeAllowances = () => {\n  const allowances = ENV.LTI_LAUNCH_FRAME_ALLOWANCES || []\n  return allowances.join('; ')\n}\n\nexport default iframeAllowances\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"إلغاء\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"هل ترغب بالتأكيد في حذف هذا؟\\\"}}},\\\"cy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"delete\\\":\\\"Dileu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ydych chi’n siŵr eich bod am ddileu hyn?\\\"}}},\\\"da\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"da-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"de\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"delete\\\":\\\"Löschen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Möchten Sie dies wirklich löschen?\\\"}}},\\\"el\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Ακύρωση\\\",\\\"delete\\\":\\\"Διαγραφή\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Είστε σίγουρος/η ότι επιθυμείτε να το διαγράψετε;\\\"}}},\\\"en-AU\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-GB\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"es\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Eliminar\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"¿Seguro que desea eliminarlo?\\\"}}},\\\"fa\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"لغو\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"مطمئنید که می خواهید این مورد حذف شود؟\\\"}}},\\\"fi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"delete\\\":\\\"Poista\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Haluatko varmasti poistaa tämän?\\\"}}},\\\"fr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément ?\\\"}}},\\\"fr-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément?\\\"}}},\\\"he\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"ביטול\\\",\\\"delete\\\":\\\"ביטול\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"בטוח/ה שרוצה לבטל זאת?\\\"}}},\\\"ht\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"delete\\\":\\\"Efase\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ou kwè vrèman ou vle efase sa a?\\\"}}},\\\"hu\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Mégse\\\",\\\"delete\\\":\\\"Törlés\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Biztos benne, hogy törli ezt?\\\"}}},\\\"hy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Չեղյալ համարել\\\",\\\"delete\\\":\\\"Ջնջել\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Դուք իսկապե՞ս ցանկանում եք ջնջել սա:\\\"}}},\\\"is\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Hætta við\\\",\\\"delete\\\":\\\"Eyða\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Viltu örugglega eyða þessu?\\\"}}},\\\"it\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"delete\\\":\\\"Elimina\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vuoi eliminare questo?\\\"}}},\\\"ja\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"キャンセル\\\",\\\"delete\\\":\\\"削除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"これを削除してもよろしいですか?\\\"}}},\\\"ko\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"취소\\\",\\\"delete\\\":\\\"삭제\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"삭제하시겠습니까?\\\"}}},\\\"mi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"delete\\\":\\\"Muku\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"E tino hiahia ana koe ki te muku i tēnei?\\\"}}},\\\"nb\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nb-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"delete\\\":\\\"Verwijderen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Weet je zeker dat je dit wilt verwijderen?\\\"}}},\\\"nn\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du vil slette dette?\\\"}}},\\\"pl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"delete\\\":\\\"Usuń\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Czy na pewno chcesz usunąć ten element?\\\"}}},\\\"pt\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza de que deseja excluir isto?\\\"}}},\\\"pt-BR\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza que deseja excluir isto?\\\"}}},\\\"ru\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Отменить\\\",\\\"delete\\\":\\\"Удалить\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Действительно хотите удалить?\\\"}}},\\\"sl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Prekliči\\\",\\\"delete\\\":\\\"Odstrani\\\"}},\\\"sv\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"sv-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"tr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"İptal\\\",\\\"delete\\\":\\\"Sil\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Bunu silmek istediğinize emin misiniz?\\\"}}},\\\"uk\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Скасувати\\\",\\\"delete\\\":\\\"Видалити\\\"}},\\\"zh-Hans\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"删除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"是否确定要删除它?\\\"}}},\\\"zh-Hant\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"刪除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"您是否確定要刪除？\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/instructure_misc_plugins';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('instructure_misc_plugins');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!instructure_misc_plugins'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport authenticity_token from 'compiled/behaviors/authenticity_token'\nimport './jquery.ajaxJSON'\nimport 'jqueryui/dialog'\nimport './jquery.scrollToVisible'\nimport './vendor/jquery.scrollTo'\n\n$.fn.setOptions = function(prompt, options) {\n  let result = prompt ? \"<option value=''>\" + htmlEscape(prompt) + '</option>' : ''\n\n  if (options == null) {\n    options = []\n  }\n\n  options.forEach(opt => {\n    const optHtml = htmlEscape(opt)\n    result += '<option value=\"' + optHtml + '\">' + optHtml + '</option>'\n  })\n\n  return this.html($.raw(result))\n}\n\n// this function is to prevent you from doing all kinds of expesive operations on a\n// jquery object that doesn't actually have any elements in it\n// it is similar and inspired by http://www.slideshare.net/paul.irish/perfcompression (slide #42)\n// to use it do something like:\n// $(\"a .bunch #of .nodes\").ifExists(function(orignalQuery){\n//   //  'this' points to the original jquery object (in this case, $(\"a .bunch #of .nodes\") );\n//   // orignalQuery is the same as 'this';\n//   this.slideUp().dialog().show();\n// });\n$.fn.ifExists = function(func) {\n  this.length && func.call(this, this)\n  return this\n}\n\n// Returns the width of the browser's scroll bars.\n$.fn.scrollbarWidth = function() {\n  const $div = $(\n      '<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div>'\n    ).appendTo(this),\n    $innerDiv = $div.find('div')\n  // Append our div, do our calculation and then remove it\n  const w1 = $innerDiv.innerWidth()\n  $div.css('overflow-y', 'scroll')\n  const w2 = $innerDiv.innerWidth()\n  $div.remove()\n  return w1 - w2\n}\n\n// Simple animation for dimming an element's opacity\n$.fn.dim = function(speed) {\n  return this.animate({opacity: 0.4}, speed)\n}\n\n$.fn.undim = function(speed) {\n  return this.animate({opacity: 1.0}, speed)\n}\n\n// Helper for deleting objects from the DOM and db.\n//  url: URL to pass DELETE message.  If none provided,\n//    behaves as if the request were a success.  Useful for testing.\n//  message: Confirmation message\n//  cancelled: Function to handle cancel.\n//  confirmed: Function to handle confirm, before submit.\n//  success: What to do on success.  If none provided, fades\n//    out the element and removes it from the DOM.\n//  error: Error.\n//  dialog: If present, do a jquery.ui.dialog instead of a confirm(). If an\n//    object, it will be merged into the dialog options.\n$.fn.confirmDelete = function(options) {\n  var options = $.extend({}, $.fn.confirmDelete.defaults, options)\n  const $object = this\n  let $dialog = null\n  let result = true\n  options.noMessage = options.noMessage || options.no_message\n  const onContinue = function() {\n    if (!result) {\n      if (options.cancelled && $.isFunction(options.cancelled)) {\n        options.cancelled.call($object)\n      }\n      return\n    }\n    if (!options.confirmed) {\n      options.confirmed = function() {\n        $object.dim()\n      }\n    }\n    options.confirmed.call($object)\n    if (options.url) {\n      if (!options.success) {\n        options.success = function(data) {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      const data = options.prepareData ? options.prepareData.call($object, $dialog) : {}\n      data.authenticity_token = authenticity_token()\n      $.ajaxJSON(\n        options.url,\n        'DELETE',\n        data,\n        data => {\n          options.success.call($object, data)\n        },\n        (data, request, status, error) => {\n          if (options.error && $.isFunction(options.error)) {\n            options.error.call($object, data, request, status, error)\n          } else {\n            $.ajaxJSON.unhandledXHRs.push(request)\n          }\n        }\n      )\n    } else {\n      if (!options.success) {\n        options.success = function() {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      options.success.call($object)\n    }\n  }\n  if (options.message && !options.noMessage && !$.skipConfirmations) {\n    if (options.dialog) {\n      result = false\n      const dialog_options = typeof options.dialog === 'object' ? options.dialog : {}\n      const confirmation_class = options.url.includes('assignments') ? 'btn-danger' : 'btn-primary'\n      $dialog = $(options.message).dialog(\n        $.extend(\n          {},\n          {\n            modal: true,\n            close: onContinue,\n            buttons: [\n              {\n                text: I18n.t('#buttons.cancel', 'Cancel'),\n                click() {\n                  $(this).dialog('close')\n                } // ; onContinue();\n              },\n              {\n                text: I18n.t('#buttons.delete', 'Delete'),\n                class: confirmation_class,\n                click() {\n                  result = true\n                  $(this).dialog('close')\n                }\n              }\n            ]\n          },\n          dialog_options\n        )\n      )\n      return\n    } else {\n      result = confirm(options.message)\n    }\n  }\n  onContinue()\n}\n$.fn.confirmDelete.defaults = {\n  get message() {\n    return I18n.t('confirms.default_delete_thing', 'Are you sure you want to delete this?')\n  }\n}\n\n// Watches the given element's location.href for any changes\n// to the fragment (\"#...\") and calls the provided function\n// when there are any.\n// $(document).fragmentChange(function(event, hash) { alert(hash); });\n$.fn.fragmentChange = function(fn) {\n  if (fn && fn !== true) {\n    const query = (window.location.search || '').replace(/^\\?/, '').split('&')\n    // The URL can hard-code a hash regardless of what's\n    // actually shown in the hash by specifying a query\n    // parameter, hash=some_hash\n    let query_hash = null\n    for (var i = 0; i < query.length; i++) {\n      const item = query[i]\n      if (item && item.indexOf('hash=') === 0) {\n        query_hash = '#' + item.substring(5)\n      }\n    }\n    this.bind('document_fragment_change', fn)\n    const $doc = this\n    let found = false\n    // Can only be used on the root document,\n    // will not work on an iframe, for example.\n    for (var i = 0; i < $._checkFragments.fragmentList.length; i++) {\n      const obj = $._checkFragments.fragmentList[i]\n      if (obj.doc[0] == $doc[0]) {\n        found = true\n      }\n    }\n    if (!found) {\n      $._checkFragments.fragmentList.push({\n        doc: $doc,\n        fragment: ''\n      })\n    }\n    $(window).bind('hashchange', $._checkFragments)\n    setTimeout(() => {\n      if (query_hash && query_hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', query_hash)\n      } else if ($doc && $doc[0] && $doc[0].location && $doc[0].location.hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      }\n    }, 500)\n  } else {\n    this.triggerHandler('document_fragment_change', this[0].location.hash)\n  }\n  return this\n}\n$._checkFragments = function() {\n  const list = $._checkFragments.fragmentList\n  for (let idx = 0; idx < list.length; idx++) {\n    const obj = list[idx]\n    const $doc = obj.doc\n    if ($doc[0].location.hash != obj.fragment) {\n      $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      obj.fragment = $doc[0].location.hash\n      $._checkFragments.fragmentList[idx] = obj\n    }\n  }\n}\n$._checkFragments.fragmentList = []\n// Triggers a click only if the anchor tag isn't disabled.\n$.fn.clickLink = function() {\n  const $obj = this.eq(0)\n  if (!$obj.hasClass('disabled_link')) {\n    $obj.click()\n  }\n}\n\n// jQuery supposedly has this built-in, but I haven't\n// had much success with it.\n$.fn.showIf = function(bool) {\n  if ($.isFunction(bool)) {\n    return this.each(function(index) {\n      $(this).showIf(bool.call(this))\n    })\n  }\n  if (bool) {\n    this.show()\n  } else {\n    this.hide()\n  }\n  return this\n}\n\n$.fn.disableIf = function(bool) {\n  if ($.isFunction(bool)) {\n    bool = bool.call(this)\n  }\n  this.prop('disabled', !!bool)\n  return this\n}\n\n$.fn.indicate = function(options) {\n  options = options || {}\n  let $indicator\n  if (options == 'remove') {\n    $indicator = this.data('indicator')\n    if ($indicator) {\n      $indicator.remove()\n    }\n    return\n  }\n  $('.indicator_box').remove()\n  let offset = this.offset()\n  if (options && options.offset) {\n    offset = options.offset\n  }\n  const width = this.width()\n  const height = this.height()\n  const zIndex = (options.container || this).zIndex()\n  $indicator = $(document.createElement('div'))\n  $indicator.css({\n    width: width + 6,\n    height: height + 6,\n    top: offset.top - 3,\n    left: offset.left - 3,\n    zIndex: zIndex + 1,\n    position: 'absolute',\n    display: 'block',\n    '-moz-border-radius': 5,\n    opacity: 0.8,\n    border: '2px solid #870',\n    backgroundColor: '#fd0'\n  })\n  $indicator.addClass('indicator_box')\n  $indicator.mouseover(function() {\n    $(this)\n      .stop()\n      .fadeOut('fast', function() {\n        $(this).remove()\n      })\n  })\n  if (this.data('indicator')) {\n    this.indicate('remove')\n  }\n  this.data('indicator', $indicator)\n  $('body').append($indicator)\n  if (options && options.singleFlash) {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  } else {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow')\n      .fadeIn('slow')\n      .animate({opacity: 0.8}, 2500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  }\n  if (options && options.scroll) {\n    $('html,body').scrollToVisible($indicator)\n  }\n}\n\n$.fn.hasScrollbar = function() {\n  return this.length && this[0].clientHeight < this[0].scrollHeight\n}\n\n$.fn.log = function(msg) {\n  console.log('%s: %o', msg, this)\n  return this\n}\n\n// this is used if you want to fill the browser window with something inside #content but you want to also leave the footer and header on the page.\n$.fn.fillWindowWithMe = function(options) {\n  const opts = $.extend({minHeight: 400}, options),\n    $this = $(this),\n    $wrapper = $('#wrapper'),\n    $main = $('#main'),\n    $not_right_side = $('#not_right_side'),\n    $window = $(window),\n    $toResize = $(this).add(opts.alsoResize)\n\n  function fillWindowWithThisElement() {\n    $toResize.height(0)\n    const spaceLeftForThis =\n        $window.height() -\n        ($wrapper.offset().top + $wrapper.outerHeight()) +\n        ($main.height() - $not_right_side.height()),\n      newHeight = Math.max(400, spaceLeftForThis)\n\n    $toResize.height(newHeight)\n    if ($.isFunction(opts.onResize)) {\n      opts.onResize.call($this, newHeight)\n    }\n  }\n  fillWindowWithThisElement()\n  $window\n    .unbind('resize.fillWindowWithMe')\n    .bind('resize.fillWindowWithMe', fillWindowWithThisElement)\n  return this\n}\n\n$.fn.autoGrowInput = function(o) {\n  o = $.extend(\n    {\n      maxWidth: 1000,\n      minWidth: 0,\n      comfortZone: 70\n    },\n    o\n  )\n\n  this.filter('input:text').each(function() {\n    let minWidth = o.minWidth || $(this).width(),\n      val = '',\n      input = $(this),\n      testSubject = $('<tester/>').css({\n        position: 'absolute',\n        top: -9999,\n        left: -9999,\n        width: 'auto',\n        fontSize: input.css('fontSize'),\n        fontFamily: input.css('fontFamily'),\n        fontWeight: input.css('fontWeight'),\n        letterSpacing: input.css('letterSpacing'),\n        whiteSpace: 'nowrap'\n      }),\n      check = function() {\n        setTimeout(() => {\n          if (val === (val = input.val())) {\n            return\n          }\n\n          // Enter new content into testSubject\n          testSubject.text(val)\n\n          // Calculate new width + whether to change\n          const testerWidth = testSubject.width(),\n            newWidth =\n              testerWidth + o.comfortZone >= minWidth ? testerWidth + o.comfortZone : minWidth,\n            currentWidth = input.width(),\n            isValidWidthChange =\n              (newWidth < currentWidth && newWidth >= minWidth) ||\n              (newWidth > minWidth && newWidth < o.maxWidth)\n\n          // Animate width\n          if (isValidWidthChange) {\n            input.width(newWidth)\n          }\n        })\n      }\n\n    testSubject.insertAfter(input)\n\n    $(this).bind('keyup keydown blur update change', check)\n  })\n\n  return this\n}\n\nexport default $\n"],"sourceRoot":""}