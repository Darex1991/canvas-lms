{"version":3,"sources":["webpack:///./public/javascripts/lti/tool_launch_resizer.js","webpack:///./public/javascripts/lti/post_message/messageTypes.js","webpack:///./public/javascripts/translations/lib.text_helper.js","webpack:///./app/coffeescripts/str/TextHelper.coffee","webpack:///./public/javascripts/dummyI18nResource.js?61ff","webpack:///./public/javascripts/lti/post_message lazy ^\\.\\/.*\\.js$ namespace object","webpack:///./public/javascripts/jquery.scrollToVisible.js","webpack:///./public/javascripts/tool_inline.js","webpack:///./app/coffeescripts/util/markAsDone.js","webpack:///./public/javascripts/translations/instructure_misc_plugins.js","webpack:///./public/javascripts/dummyI18nResource.js?9aa5","webpack:///./public/javascripts/jquery.instructure_misc_plugins.js","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js","webpack:///./public/javascripts/lti/messages.js","webpack:///./public/javascripts/lti/post_message/handleLtiPostMessage.js"],"names":["ToolLaunchResizer","constructor","minToolHeight","this","tool_content_wrapper","wrapperId","container","$","length","resize_tool_content_wrapper","height","setHeight","whitelist","mergeI18nTranslations","JSON","parse","scoped","AUTO_LINKIFY_REGEX","th","quoteClump","lines","htmlEscape","t","raw","join","formatMessage","message","links","placeholderBlocks","replace","match","i","push","link","processedLines","quoteBlock","RegExp","shift","line","delimit","number","isNaN","String","sign","abs","Math","result","integer","floor","mod","truncateText","string","options","max","ellipsis","wordSeparator","trim","truncateAt","pos","indexOf","substring","plainText","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","fn","scrollToVisible","obj","$obj","innerOffset","offset","width","outerWidth","outerHeight","top","bottom","left","right","currentTop","selector","windowScrollTop","scrollTop","currentLeft","scrollLeft","currentHeight","currentWidth","outerOffset","each","tagName","window","$toolForm","launchToolInNewTab","attr","$button","find","show","setTimeout","text","data","submit","toggle","launchToolManually","removeAttr","bind","document","location","protocol","action","hide","is","toolName","toolPath","messageType","$tool_content_wrapper","canvas_chrome_height","trackEvent","$window","toolResizer","min_tool_height","$external_content_info_alerts","on","css","removeClass","addClass","hasClass","resize","triggerHandler","ENV","LTI","SEQUENCE","moduleSequenceFooter","assetType","assetID","ASSET_ID","courseID","COURSE_ID","MarkAsDone","monitorLtiMessages","button","ajaxJSON","toggleClass","setOptions","prompt","forEach","opt","optHtml","html","ifExists","func","call","scrollbarWidth","$div","appendTo","$innerDiv","w1","innerWidth","w2","remove","dim","speed","animate","opacity","undim","confirmDelete","extend","defaults","$object","$dialog","noMessage","no_message","onContinue","confirmed","url","success","fadeOut","prepareData","authenticity_token","request","status","error","isFunction","unhandledXHRs","cancelled","skipConfirmations","dialog","dialog_options","confirmation_class","includes","modal","close","buttons","I18n","click","class","confirm","fragmentChange","query","search","split","query_hash","item","$doc","found","_checkFragments","fragmentList","doc","fragment","hash","list","idx","clickLink","eq","showIf","bool","index","disableIf","prop","indicate","$indicator","zIndex","createElement","position","display","border","backgroundColor","mouseover","stop","append","singleFlash","fadeIn","scroll","hasScrollbar","clientHeight","scrollHeight","log","msg","console","fillWindowWithMe","opts","minHeight","$this","$wrapper","$main","$not_right_side","$toResize","add","alsoResize","fillWindowWithThisElement","spaceLeftForThis","newHeight","onResize","unbind","autoGrowInput","maxWidth","minWidth","comfortZone","filter","val","input","testSubject","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","insertAfter","testerWidth","newWidth","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","mathmlSpan","toMediaCommentLink","node","$link","nodeName","toLowerCase","convert","$dummy","replaceWith","forEditing","uuid","_","uniqueId","files_domain","$form","name","value","equationImage","after","beforeUnloadHandler","removeUnloadMessage","removeEventListener","findDomForWindow","sourceWindow","iframes","getElementsByTagName","contentWindow","ltiMessageHandler","handleLtiPostMessage","subject","token","origin","iframe","source","style","innerHeight","footer","scrollY","strMessage","stringify","postMessage","returnValue","addEventListener","screenReaderFlashMessageExclusive","body","timeout","cancelAnimationFrame","requestAnimationFrame","err","ltiState","async","handler","default"],"mappings":"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","file":"legacy/external_tools_tool_show-c-fea69c9312.js","sourcesContent":["/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\n\nexport default class ToolLaunchResizer {\n  constructor(minToolHeight) {\n    this.minToolHeight = minToolHeight || 450\n  }\n\n  tool_content_wrapper(wrapperId) {\n    let container = $(`div[data-tool-wrapper-id*='${wrapperId}']`)\n    if (container.length <= 0 && $('.tool_content_wrapper').length === 1) {\n      container = $('.tool_content_wrapper')\n    }\n    return container\n  }\n\n  resize_tool_content_wrapper(height, container) {\n    let setHeight = height\n    if (typeof setHeight !== 'number') {\n      setHeight = this.minToolHeight\n    }\n    const toolWrapper = container || this.tool_content_wrapper()\n    toolWrapper.height(!height || this.minToolHeight > setHeight ? this.minToolHeight : setHeight)\n  }\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport const whitelist = ['requestFullWindowLaunch', 'lti.resourceImported']\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"إظهار النص المقتبس\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"cy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"dangos testun wedi’i ddyfynnu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"da-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis tekst i gåseøjne\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"de\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"zitierten Text zeigen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"el\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"προβολή κειμένου που παρατίθεται\\\"}}},\\\"en-AU\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"en-GB\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"show quoted text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"es\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostrar texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fa\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"نمایش متن نقل شده\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"näytä lainattu teksti\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"fr-CA\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afficher le texte entre guillemets\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"he\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"מציג ציטוט\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ht\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"afiche tèks site\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hu\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"idézett szöveg megjelenítése\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"hy\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"ցույց տալ մեջբերվող տեքստը\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"is\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Sýna ívitnaðan texta\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"it\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"mostra testo citato\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ja\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"引用したテキストを表示\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ko\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"인용된 텍스트 표시\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"mi\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"whakaatu kuputuhi faahiti\\\",\\\"word_separator\\\":\\\"-\\\"}}},\\\"nb\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nb-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis den merkede teksten\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"geciteerde tekst tonen\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"nn\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"vis sitert tekst\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"pokaż cytowany fragment tekstu\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"pt-BR\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"exibir texto citado\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"ru\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"показать цитированный текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sl\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"prikaži citirano besedilo\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"sv-x-k12\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"visa citerad text\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"tr\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"alıntılanan metni göster\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"uk\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"Показати цитований текст\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hans\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"显示引用的文本\\\",\\\"word_separator\\\":\\\" \\\"}}},\\\"zh-Hant\\\":{\\\"lib\\\":{\\\"text_helper\\\":{\\\"ellipsis\\\":\\\"...\\\",\\\"quoted_text_toggle\\\":\\\"顯示引用的文字\\\",\\\"word_separator\\\":\\\" \\\"}}}}\"));\n","#\n# Copyright (C) 2012 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n#\n\nimport $ from 'jquery'\nimport I18n from 'i18n!lib.text_helper'\nimport htmlEscape from 'str/htmlEscape'\n\nAUTO_LINKIFY_PLACEHOLDER = \"LINK-PLACEHOLDER\"\nAUTO_LINKIFY_REGEX = ///\n  \\b\n  (                                            # Capture 1: entire matched URL\n    (?:\n      https?://                                # http or https protocol\n      |                                        # or\n      www\\d{0,3}[.]                            # \"www.\", \"www1.\", \"www2.\" … \"www999.\"\n      |                                        # or\n      [a-z0-9.\\-]+[.][a-z]{2,4}/               # looks like domain name followed by a slash\n    )\n\n    (?:\n      [^\\s()<>]+                               # Run of non-space, non-()<>\n      |                                        # or\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n    )+\n\n    (?:\n      \\([^\\s()<>]*\\)                           # balanced parens, single level\n      |                                        # or\n      [^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]           # End with: not a space or one of these punct chars\n    )\n  ) | (\n    LINK-PLACEHOLDER\n  )\n///gi\n\nexport default th =\n  quoteClump: (lines) ->\n    \"<div class='quoted_text_holder'>\n      <a href='#' class='show_quoted_text_link'>#{htmlEscape I18n.t(\"quoted_text_toggle\", \"show quoted text\")}</a>\n      <div class='quoted_text' style='display: none;'>\n        #{$.raw lines.join \"\\n\"}\n      </div>\n    </div>\"\n\n  formatMessage: (message) ->\n    # replace any links with placeholders so we don't escape them\n    links = []\n    placeholderBlocks = []\n    message = message.replace AUTO_LINKIFY_REGEX, (match, i) ->\n      placeholderBlocks.push(if match == AUTO_LINKIFY_PLACEHOLDER\n          AUTO_LINKIFY_PLACEHOLDER\n        else\n          link = match\n          link = \"http://\" + link unless link[0..6] == 'http://' or link[0..7] == 'https://'\n          links.push link\n          \"<a href='#{htmlEscape(link)}'>#{htmlEscape(match)}</a>\"\n      )\n      AUTO_LINKIFY_PLACEHOLDER\n\n    # now escape html\n    message = htmlEscape message\n\n    # now put the links back in\n    message = message.replace new RegExp(AUTO_LINKIFY_PLACEHOLDER, 'g'), (match, i) ->\n      placeholderBlocks.shift()\n\n    # replace newlines\n    message = message.replace /\\n/g, '<br />\\n'\n\n    # generate quoting clumps\n    processedLines = []\n    quoteBlock = []\n    for line in message.split(\"\\n\")\n      if line.match /^(&gt;|>)/\n        quoteBlock.push line\n      else\n        processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n        quoteBlock = []\n        processedLines.push line\n    processedLines.push th.quoteClump(quoteBlock) if quoteBlock.length\n    message = processedLines.join \"\\n\"\n\n  delimit: (number) ->\n    # only process real numbers\n    return String(number) if isNaN number\n\n    # capture sign and then start working with the absolute value. don't\n    # process infinities.\n    sign = if number < 0 then '-' else ''\n    abs = Math.abs number\n    return String(number) if abs is Infinity\n\n    # break out the integer portion and initialize the result to just the\n    # decimal (if any)\n    integer = Math.floor abs\n    result = if abs == integer then '' else String(abs).replace(/^\\d+\\./, '.')\n\n    # for each comma'd chunk, prepend to the result and remove from integer\n    while integer >= 1000\n      mod = String(integer).replace(/\\d+(\\d\\d\\d)$/, ',$1')\n      integer = Math.floor integer / 1000\n      result = mod + result\n\n    # integer is now either in [1, 999], or equal to 0 iff number in (-1, 1).\n    # prepend it with the sign\n    sign + String(integer) + result\n\n  truncateText: (string, options = {}) ->\n    max = options.max ? 30\n    ellipsis = I18n.t('ellipsis', '...')\n    wordSeparator = I18n.t('word_separator', ' ')\n\n    string = (string ? \"\").replace(/\\s+/g, wordSeparator).trim()\n    return string if not string or string.length <= max\n\n    truncateAt = 0\n    while true\n      pos = string.indexOf(wordSeparator, truncateAt + 1)\n      break if pos < 0 || pos > max - ellipsis.length\n      truncateAt = pos\n    truncateAt or= max - ellipsis.length # first word > max, so we cut it\n\n    string.substring(0, truncateAt) + ellipsis\n\n  plainText: (message) ->\n    # remove all html tags from the message returning only the text\n    message.replace(/(<([^>]+)>)/ig, '');\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/lib.text_helper';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('lib.text_helper');\n  ","var map = {\n\t\"./__tests__/handleLtiPostMessages.test.js\": [\n\t\t\"Af1U\",\n\t\t631\n\t],\n\t\"./__tests__/lti.resourceImported.test.js\": [\n\t\t\"yySz\",\n\t\t568\n\t],\n\t\"./__tests__/requestFullWindowLaunch.test.js\": [\n\t\t\"w8Zi\",\n\t\t569\n\t],\n\t\"./handleLtiPostMessage.js\": [\n\t\t\"y+46\"\n\t],\n\t\"./lti.resourceImported.js\": [\n\t\t\"75OS\",\n\t\t632\n\t],\n\t\"./messageTypes.js\": [\n\t\t\"0YqI\"\n\t],\n\t\"./requestFullWindowLaunch.js\": [\n\t\t\"S3m7\",\n\t\t633\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"9cv0\";\nmodule.exports = webpackAsyncContext;","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// Scrolls the supplied object until its visible. Call from\n// (\"html,body\") to scroll the window.\n\nimport $ from 'jquery'\nimport './vendor/jquery.scrollTo'\n\n$.fn.scrollToVisible = function(obj) {\n  const options = {}\n  const $obj = $(obj)\n\n  if ($obj.length === 0) {\n    return\n  }\n  let innerOffset = $obj.offset(),\n    width = $obj.outerWidth(),\n    height = $obj.outerHeight(),\n    top = innerOffset.top,\n    bottom = top + height,\n    left = innerOffset.left,\n    right = left + width,\n    currentTop = this.selector == 'html,body' ? $.windowScrollTop() : this.scrollTop(),\n    currentLeft = this.scrollLeft(),\n    currentHeight = this.outerHeight(),\n    currentWidth = this.outerWidth()\n\n  if (this.selector != 'html,body') {\n    let outerOffset = $('body').offset()\n    this.each(function() {\n      try {\n        outerOffset = $(this).offset()\n        return false\n      } catch (e) {}\n    })\n    top -= outerOffset.top\n    bottom -= outerOffset.top\n    left -= outerOffset.left\n    right -= outerOffset.left\n  }\n\n  if (this[0].tagName == 'HTML' || this[0].tagName == 'BODY') {\n    currentHeight = $(window).height()\n    if ($('#wizard_box:visible').length > 0) {\n      currentHeight -= $('#wizard_box:visible').height()\n    }\n    currentWidth = $(window).width()\n    top -= currentTop\n    left -= currentLeft\n    bottom -= currentTop\n    right -= currentLeft\n  }\n  if (top < 0 || (currentHeight < height && bottom > currentHeight)) {\n    options.scrollTop = top + currentTop\n  } else if (bottom > currentHeight) {\n    options.scrollTop = bottom + currentTop - currentHeight + 20\n  }\n  if (left < 0) {\n    options.scrollLeft = left + currentLeft\n  } else if (right > currentWidth) {\n    options.scrollLeft = right + currentLeft - currentWidth + 20\n  }\n  if (options.scrollTop == 1) {\n    options.scrollTop = 0\n  }\n  if (options.scrollLeft == 1) {\n    options.scrollLeft = 0\n  }\n\n  this.scrollTop(options.scrollTop)\n  this.scrollLeft(options.scrollLeft)\n\n  return this\n}\n","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport htmlEscape from 'str/htmlEscape'\nimport {trackEvent} from 'jquery.google-analytics'\nimport 'compiled/jquery/ModuleSequenceFooter'\nimport MarkAsDone from 'compiled/util/markAsDone'\nimport ToolLaunchResizer from './lti/tool_launch_resizer'\nimport {monitorLtiMessages} from './lti/messages'\n\nconst $toolForm = $('#tool_form')\n\nconst launchToolManually = function() {\n  const $button = $toolForm.find('button')\n\n  $toolForm.show()\n\n  // Firefox remembers disabled state after page reloads\n  $button.attr('disabled', false)\n  setTimeout(() => {\n    // LTI links have a time component in the signature and will\n    // expire after a few minutes.\n    $button.attr('disabled', true).text($button.data('expired_message'))\n  }, 60 * 2.5 * 1000)\n\n  $toolForm.submit(function() {\n    $(this)\n      .find('.load_tab,.tab_loaded')\n      .toggle()\n  })\n}\n\nconst launchToolInNewTab = function() {\n  $toolForm.attr('target', '_blank')\n  launchToolManually()\n}\n\nswitch ($toolForm.data('tool-launch-type')) {\n  case 'window':\n    $toolForm.show()\n    launchToolInNewTab()\n    break\n  case 'self':\n    $toolForm.removeAttr('target')\n    try {\n      $toolForm.submit()\n    } catch (e) {}\n    break\n  default:\n    // Firefox throws an error when submitting insecure content\n    try {\n      $toolForm.submit()\n    } catch (e) {}\n\n    $('#tool_content').bind('load', () => {\n      if (\n        document.location.protocol !== 'https:' ||\n        $('#tool_form')[0].action.indexOf('https:') > -1\n      ) {\n        $('#insecure_content_msg').hide()\n        $toolForm.hide()\n      }\n    })\n    setTimeout(() => {\n      if ($('#insecure_content_msg').is(':visible')) {\n        $('#load_failure').show()\n        launchToolInNewTab()\n      }\n    }, 3 * 1000)\n    break\n}\n\n// Google analytics tracking code\nconst toolName = $toolForm.data('tool-id') || 'unknown'\nconst toolPath = $toolForm.data('tool-path')\nconst messageType = $toolForm.data('message-type') || 'tool_launch'\ntrackEvent(messageType, toolName, toolPath)\n\n// Iframe resize handler\nlet $tool_content_wrapper\nlet min_tool_height, canvas_chrome_height\n\n$(function() {\n  const $window = $(window)\n  $tool_content_wrapper = $('.tool_content_wrapper')\n  const toolResizer = new ToolLaunchResizer(min_tool_height)\n  const $tool_content = $('iframe#tool_content')\n\n  const $external_content_info_alerts = $tool_content_wrapper.find(\n    '.before_external_content_info_alert, .after_external_content_info_alert'\n  )\n\n  $external_content_info_alerts.on('focus', function(e) {\n    $tool_content_wrapper.find('iframe').css('border', '2px solid #008EE2')\n    $(this).removeClass('screenreader-only-tool')\n  })\n\n  $external_content_info_alerts.on('blur', function(e) {\n    $tool_content_wrapper.find('iframe').css('border', 'none')\n    $(this).addClass('screenreader-only-tool')\n  })\n\n  if (!$('body').hasClass('ic-full-screen-lti-tool')) {\n    canvas_chrome_height = $tool_content_wrapper.offset().top + $('#footer').outerHeight(true)\n  }\n\n  // Only calculate height on resize if body does not have\n  // .ic-full-screen-lti-tool class\n  if ($tool_content_wrapper.length && !$('body').hasClass('ic-full-screen-lti-tool')) {\n    $window\n      .resize(() => {\n        if (!$tool_content_wrapper.data('height_overridden')) {\n          toolResizer.resize_tool_content_wrapper(\n            $window.height() - canvas_chrome_height - $('#sequence_footer').outerHeight(true)\n          )\n        }\n      })\n      .triggerHandler('resize')\n  }\n\n  if (ENV.LTI != null && ENV.LTI.SEQUENCE != null) {\n    $('#module_sequence_footer').moduleSequenceFooter({\n      assetType: 'Lti',\n      assetID: ENV.LTI.SEQUENCE.ASSET_ID,\n      courseID: ENV.LTI.SEQUENCE.COURSE_ID\n    })\n  }\n\n  $('#content').on('click', '#mark-as-done-checkbox', function() {\n    MarkAsDone.toggle(this)\n  })\n})\n\nmonitorLtiMessages()\n","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport 'jquery.ajaxJSON'\n\nexport default {\n  toggle(button) {\n    const data = $(button).data.bind($(button))\n    return $.ajaxJSON(data('url'), data('isChecked') ? 'DELETE' : 'PUT', {}, () => {\n      data('isChecked', !data('isChecked'))\n      $(button).toggleClass('btn-success')\n      $('i', button).toggleClass('icon-empty icon-complete')\n      $('.mark-done-labels span', button).toggleClass('visible')\n    })\n  }\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"إلغاء\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"هل ترغب بالتأكيد في حذف هذا؟\\\"}}},\\\"cy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Canslo\\\",\\\"delete\\\":\\\"Dileu\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ydych chi’n siŵr eich bod am ddileu hyn?\\\"}}},\\\"da\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"da-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuller\\\",\\\"delete\\\":\\\"Slet\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på, at du vil slette dette?\\\"}}},\\\"de\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Abbrechen\\\",\\\"delete\\\":\\\"Löschen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Möchten Sie dies wirklich löschen?\\\"}}},\\\"el\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Ακύρωση\\\",\\\"delete\\\":\\\"Διαγραφή\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Είστε σίγουρος/η ότι επιθυμείτε να το διαγράψετε;\\\"}}},\\\"en-AU\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"en-GB\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancel\\\",\\\"delete\\\":\\\"Delete\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Are you sure you want to delete this?\\\"}}},\\\"es\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Eliminar\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"¿Seguro que desea eliminarlo?\\\"}}},\\\"fa\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"لغو\\\",\\\"delete\\\":\\\"حذف\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"مطمئنید که می خواهید این مورد حذف شود؟\\\"}}},\\\"fi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Peruuta\\\",\\\"delete\\\":\\\"Poista\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Haluatko varmasti poistaa tämän?\\\"}}},\\\"fr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément ?\\\"}}},\\\"fr-CA\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuler\\\",\\\"delete\\\":\\\"Supprimer\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Voulez-vous vraiment supprimer cet élément?\\\"}}},\\\"he\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"ביטול\\\",\\\"delete\\\":\\\"ביטול\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"בטוח/ה שרוצה לבטל זאת?\\\"}}},\\\"ht\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anile\\\",\\\"delete\\\":\\\"Efase\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Ou kwè vrèman ou vle efase sa a?\\\"}}},\\\"hu\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Mégse\\\",\\\"delete\\\":\\\"Törlés\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Biztos benne, hogy törli ezt?\\\"}}},\\\"hy\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Չեղյալ համարել\\\",\\\"delete\\\":\\\"Ջնջել\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Դուք իսկապե՞ս ցանկանում եք ջնջել սա:\\\"}}},\\\"is\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Hætta við\\\",\\\"delete\\\":\\\"Eyða\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Viltu örugglega eyða þessu?\\\"}}},\\\"it\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annulla\\\",\\\"delete\\\":\\\"Elimina\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vuoi eliminare questo?\\\"}}},\\\"ja\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"キャンセル\\\",\\\"delete\\\":\\\"削除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"これを削除してもよろしいですか?\\\"}}},\\\"ko\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"취소\\\",\\\"delete\\\":\\\"삭제\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"삭제하시겠습니까?\\\"}}},\\\"mi\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Whakakore\\\",\\\"delete\\\":\\\"Muku\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"E tino hiahia ana koe ki te muku i tēnei?\\\"}}},\\\"nb\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nb-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du ønsker å slette dette?\\\"}}},\\\"nl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Annuleren\\\",\\\"delete\\\":\\\"Verwijderen\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Weet je zeker dat je dit wilt verwijderen?\\\"}}},\\\"nn\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Slett\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Er du sikker på at du vil slette dette?\\\"}}},\\\"pl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Anuluj\\\",\\\"delete\\\":\\\"Usuń\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Czy na pewno chcesz usunąć ten element?\\\"}}},\\\"pt\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza de que deseja excluir isto?\\\"}}},\\\"pt-BR\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Cancelar\\\",\\\"delete\\\":\\\"Excluir\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Tem certeza que deseja excluir isto?\\\"}}},\\\"ru\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Отменить\\\",\\\"delete\\\":\\\"Удалить\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Действительно хотите удалить?\\\"}}},\\\"sl\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Prekliči\\\",\\\"delete\\\":\\\"Odstrani\\\"}},\\\"sv\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"sv-x-k12\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Avbryt\\\",\\\"delete\\\":\\\"Ta bort\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Vill du verkligen radera det här?\\\"}}},\\\"tr\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"İptal\\\",\\\"delete\\\":\\\"Sil\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"Bunu silmek istediğinize emin misiniz?\\\"}}},\\\"uk\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"Скасувати\\\",\\\"delete\\\":\\\"Видалити\\\"}},\\\"zh-Hans\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"删除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"是否确定要删除它?\\\"}}},\\\"zh-Hant\\\":{\\\"buttons\\\":{\\\"cancel\\\":\\\"取消\\\",\\\"delete\\\":\\\"刪除\\\"},\\\"instructure_misc_plugins\\\":{\\\"confirms\\\":{\\\"default_delete_thing\\\":\\\"您是否確定要刪除？\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/instructure_misc_plugins';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('instructure_misc_plugins');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!instructure_misc_plugins'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\nimport authenticity_token from 'compiled/behaviors/authenticity_token'\nimport './jquery.ajaxJSON'\nimport 'jqueryui/dialog'\nimport './jquery.scrollToVisible'\nimport './vendor/jquery.scrollTo'\n\n$.fn.setOptions = function(prompt, options) {\n  let result = prompt ? \"<option value=''>\" + htmlEscape(prompt) + '</option>' : ''\n\n  if (options == null) {\n    options = []\n  }\n\n  options.forEach(opt => {\n    const optHtml = htmlEscape(opt)\n    result += '<option value=\"' + optHtml + '\">' + optHtml + '</option>'\n  })\n\n  return this.html($.raw(result))\n}\n\n// this function is to prevent you from doing all kinds of expesive operations on a\n// jquery object that doesn't actually have any elements in it\n// it is similar and inspired by http://www.slideshare.net/paul.irish/perfcompression (slide #42)\n// to use it do something like:\n// $(\"a .bunch #of .nodes\").ifExists(function(orignalQuery){\n//   //  'this' points to the original jquery object (in this case, $(\"a .bunch #of .nodes\") );\n//   // orignalQuery is the same as 'this';\n//   this.slideUp().dialog().show();\n// });\n$.fn.ifExists = function(func) {\n  this.length && func.call(this, this)\n  return this\n}\n\n// Returns the width of the browser's scroll bars.\n$.fn.scrollbarWidth = function() {\n  const $div = $(\n      '<div style=\"width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;\"><div style=\"height:100px;\"></div>'\n    ).appendTo(this),\n    $innerDiv = $div.find('div')\n  // Append our div, do our calculation and then remove it\n  const w1 = $innerDiv.innerWidth()\n  $div.css('overflow-y', 'scroll')\n  const w2 = $innerDiv.innerWidth()\n  $div.remove()\n  return w1 - w2\n}\n\n// Simple animation for dimming an element's opacity\n$.fn.dim = function(speed) {\n  return this.animate({opacity: 0.4}, speed)\n}\n\n$.fn.undim = function(speed) {\n  return this.animate({opacity: 1.0}, speed)\n}\n\n// Helper for deleting objects from the DOM and db.\n//  url: URL to pass DELETE message.  If none provided,\n//    behaves as if the request were a success.  Useful for testing.\n//  message: Confirmation message\n//  cancelled: Function to handle cancel.\n//  confirmed: Function to handle confirm, before submit.\n//  success: What to do on success.  If none provided, fades\n//    out the element and removes it from the DOM.\n//  error: Error.\n//  dialog: If present, do a jquery.ui.dialog instead of a confirm(). If an\n//    object, it will be merged into the dialog options.\n$.fn.confirmDelete = function(options) {\n  var options = $.extend({}, $.fn.confirmDelete.defaults, options)\n  const $object = this\n  let $dialog = null\n  let result = true\n  options.noMessage = options.noMessage || options.no_message\n  const onContinue = function() {\n    if (!result) {\n      if (options.cancelled && $.isFunction(options.cancelled)) {\n        options.cancelled.call($object)\n      }\n      return\n    }\n    if (!options.confirmed) {\n      options.confirmed = function() {\n        $object.dim()\n      }\n    }\n    options.confirmed.call($object)\n    if (options.url) {\n      if (!options.success) {\n        options.success = function(data) {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      const data = options.prepareData ? options.prepareData.call($object, $dialog) : {}\n      data.authenticity_token = authenticity_token()\n      $.ajaxJSON(\n        options.url,\n        'DELETE',\n        data,\n        data => {\n          options.success.call($object, data)\n        },\n        (data, request, status, error) => {\n          if (options.error && $.isFunction(options.error)) {\n            options.error.call($object, data, request, status, error)\n          } else {\n            $.ajaxJSON.unhandledXHRs.push(request)\n          }\n        }\n      )\n    } else {\n      if (!options.success) {\n        options.success = function() {\n          $object.fadeOut('slow', () => {\n            $object.remove()\n          })\n        }\n      }\n      options.success.call($object)\n    }\n  }\n  if (options.message && !options.noMessage && !$.skipConfirmations) {\n    if (options.dialog) {\n      result = false\n      const dialog_options = typeof options.dialog === 'object' ? options.dialog : {}\n      const confirmation_class = options.url.includes('assignments') ? 'btn-danger' : 'btn-primary'\n      $dialog = $(options.message).dialog(\n        $.extend(\n          {},\n          {\n            modal: true,\n            close: onContinue,\n            buttons: [\n              {\n                text: I18n.t('#buttons.cancel', 'Cancel'),\n                click() {\n                  $(this).dialog('close')\n                } // ; onContinue();\n              },\n              {\n                text: I18n.t('#buttons.delete', 'Delete'),\n                class: confirmation_class,\n                click() {\n                  result = true\n                  $(this).dialog('close')\n                }\n              }\n            ]\n          },\n          dialog_options\n        )\n      )\n      return\n    } else {\n      result = confirm(options.message)\n    }\n  }\n  onContinue()\n}\n$.fn.confirmDelete.defaults = {\n  get message() {\n    return I18n.t('confirms.default_delete_thing', 'Are you sure you want to delete this?')\n  }\n}\n\n// Watches the given element's location.href for any changes\n// to the fragment (\"#...\") and calls the provided function\n// when there are any.\n// $(document).fragmentChange(function(event, hash) { alert(hash); });\n$.fn.fragmentChange = function(fn) {\n  if (fn && fn !== true) {\n    const query = (window.location.search || '').replace(/^\\?/, '').split('&')\n    // The URL can hard-code a hash regardless of what's\n    // actually shown in the hash by specifying a query\n    // parameter, hash=some_hash\n    let query_hash = null\n    for (var i = 0; i < query.length; i++) {\n      const item = query[i]\n      if (item && item.indexOf('hash=') === 0) {\n        query_hash = '#' + item.substring(5)\n      }\n    }\n    this.bind('document_fragment_change', fn)\n    const $doc = this\n    let found = false\n    // Can only be used on the root document,\n    // will not work on an iframe, for example.\n    for (var i = 0; i < $._checkFragments.fragmentList.length; i++) {\n      const obj = $._checkFragments.fragmentList[i]\n      if (obj.doc[0] == $doc[0]) {\n        found = true\n      }\n    }\n    if (!found) {\n      $._checkFragments.fragmentList.push({\n        doc: $doc,\n        fragment: ''\n      })\n    }\n    $(window).bind('hashchange', $._checkFragments)\n    setTimeout(() => {\n      if (query_hash && query_hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', query_hash)\n      } else if ($doc && $doc[0] && $doc[0].location && $doc[0].location.hash.length > 0) {\n        $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      }\n    }, 500)\n  } else {\n    this.triggerHandler('document_fragment_change', this[0].location.hash)\n  }\n  return this\n}\n$._checkFragments = function() {\n  const list = $._checkFragments.fragmentList\n  for (let idx = 0; idx < list.length; idx++) {\n    const obj = list[idx]\n    const $doc = obj.doc\n    if ($doc[0].location.hash != obj.fragment) {\n      $doc.triggerHandler('document_fragment_change', $doc[0].location.hash)\n      obj.fragment = $doc[0].location.hash\n      $._checkFragments.fragmentList[idx] = obj\n    }\n  }\n}\n$._checkFragments.fragmentList = []\n// Triggers a click only if the anchor tag isn't disabled.\n$.fn.clickLink = function() {\n  const $obj = this.eq(0)\n  if (!$obj.hasClass('disabled_link')) {\n    $obj.click()\n  }\n}\n\n// jQuery supposedly has this built-in, but I haven't\n// had much success with it.\n$.fn.showIf = function(bool) {\n  if ($.isFunction(bool)) {\n    return this.each(function(index) {\n      $(this).showIf(bool.call(this))\n    })\n  }\n  if (bool) {\n    this.show()\n  } else {\n    this.hide()\n  }\n  return this\n}\n\n$.fn.disableIf = function(bool) {\n  if ($.isFunction(bool)) {\n    bool = bool.call(this)\n  }\n  this.prop('disabled', !!bool)\n  return this\n}\n\n$.fn.indicate = function(options) {\n  options = options || {}\n  let $indicator\n  if (options == 'remove') {\n    $indicator = this.data('indicator')\n    if ($indicator) {\n      $indicator.remove()\n    }\n    return\n  }\n  $('.indicator_box').remove()\n  let offset = this.offset()\n  if (options && options.offset) {\n    offset = options.offset\n  }\n  const width = this.width()\n  const height = this.height()\n  const zIndex = (options.container || this).zIndex()\n  $indicator = $(document.createElement('div'))\n  $indicator.css({\n    width: width + 6,\n    height: height + 6,\n    top: offset.top - 3,\n    left: offset.left - 3,\n    zIndex: zIndex + 1,\n    position: 'absolute',\n    display: 'block',\n    '-moz-border-radius': 5,\n    opacity: 0.8,\n    border: '2px solid #870',\n    backgroundColor: '#fd0'\n  })\n  $indicator.addClass('indicator_box')\n  $indicator.mouseover(function() {\n    $(this)\n      .stop()\n      .fadeOut('fast', function() {\n        $(this).remove()\n      })\n  })\n  if (this.data('indicator')) {\n    this.indicate('remove')\n  }\n  this.data('indicator', $indicator)\n  $('body').append($indicator)\n  if (options && options.singleFlash) {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  } else {\n    $indicator\n      .hide()\n      .fadeIn()\n      .animate({opacity: 0.8}, 500)\n      .fadeOut('slow')\n      .fadeIn('slow')\n      .animate({opacity: 0.8}, 2500)\n      .fadeOut('slow', function() {\n        $(this).remove()\n      })\n  }\n  if (options && options.scroll) {\n    $('html,body').scrollToVisible($indicator)\n  }\n}\n\n$.fn.hasScrollbar = function() {\n  return this.length && this[0].clientHeight < this[0].scrollHeight\n}\n\n$.fn.log = function(msg) {\n  console.log('%s: %o', msg, this)\n  return this\n}\n\n// this is used if you want to fill the browser window with something inside #content but you want to also leave the footer and header on the page.\n$.fn.fillWindowWithMe = function(options) {\n  const opts = $.extend({minHeight: 400}, options),\n    $this = $(this),\n    $wrapper = $('#wrapper'),\n    $main = $('#main'),\n    $not_right_side = $('#not_right_side'),\n    $window = $(window),\n    $toResize = $(this).add(opts.alsoResize)\n\n  function fillWindowWithThisElement() {\n    $toResize.height(0)\n    const spaceLeftForThis =\n        $window.height() -\n        ($wrapper.offset().top + $wrapper.outerHeight()) +\n        ($main.height() - $not_right_side.height()),\n      newHeight = Math.max(400, spaceLeftForThis)\n\n    $toResize.height(newHeight)\n    if ($.isFunction(opts.onResize)) {\n      opts.onResize.call($this, newHeight)\n    }\n  }\n  fillWindowWithThisElement()\n  $window\n    .unbind('resize.fillWindowWithMe')\n    .bind('resize.fillWindowWithMe', fillWindowWithThisElement)\n  return this\n}\n\n$.fn.autoGrowInput = function(o) {\n  o = $.extend(\n    {\n      maxWidth: 1000,\n      minWidth: 0,\n      comfortZone: 70\n    },\n    o\n  )\n\n  this.filter('input:text').each(function() {\n    let minWidth = o.minWidth || $(this).width(),\n      val = '',\n      input = $(this),\n      testSubject = $('<tester/>').css({\n        position: 'absolute',\n        top: -9999,\n        left: -9999,\n        width: 'auto',\n        fontSize: input.css('fontSize'),\n        fontFamily: input.css('fontFamily'),\n        fontWeight: input.css('fontWeight'),\n        letterSpacing: input.css('letterSpacing'),\n        whiteSpace: 'nowrap'\n      }),\n      check = function() {\n        setTimeout(() => {\n          if (val === (val = input.val())) {\n            return\n          }\n\n          // Enter new content into testSubject\n          testSubject.text(val)\n\n          // Calculate new width + whether to change\n          const testerWidth = testSubject.width(),\n            newWidth =\n              testerWidth + o.comfortZone >= minWidth ? testerWidth + o.comfortZone : minWidth,\n            currentWidth = input.width(),\n            isValidWidthChange =\n              (newWidth < currentWidth && newWidth >= minWidth) ||\n              (newWidth > minWidth && newWidth < o.maxWidth)\n\n          // Animate width\n          if (isValidWidthChange) {\n            input.width(newWidth)\n          }\n        })\n      }\n\n    testSubject.insertAfter(input)\n\n    $(this).bind('keyup keydown blur update change', check)\n  })\n\n  return this\n}\n\nexport default $\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوى المستخدم\\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Περιεχόμενο Χρήστη\\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوای کاربر\\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Käyttäjän sisältö\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\"תוכן משתמש\\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizatè\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasználói tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"ユーザーコンテンツ\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawartość użytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Usuário\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент пользователя\\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanıcı İçeriği\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент користувача\\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"用户内容\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"使用者內容\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint no-console: 0 */\n\nimport $ from 'jquery'\nimport 'compiled/jquery.rails_flash_notifications'\nimport htmlEscape from 'str/htmlEscape'\nimport ToolLaunchResizer from './tool_launch_resizer'\nimport handleLtiPostMessage from './post_message/handleLtiPostMessage'\n\nlet beforeUnloadHandler\nfunction setUnloadMessage(msg) {\n  removeUnloadMessage()\n\n  beforeUnloadHandler = function(e) {\n    return (e.returnValue = msg || '')\n  }\n  window.addEventListener('beforeunload', beforeUnloadHandler)\n}\n\nfunction removeUnloadMessage() {\n  if (beforeUnloadHandler) {\n    window.removeEventListener('beforeunload', beforeUnloadHandler)\n    beforeUnloadHandler = null\n  }\n}\n\nfunction findDomForWindow(sourceWindow) {\n  const iframes = document.getElementsByTagName('IFRAME')\n  for (let i = 0; i < iframes.length; i += 1) {\n    if (iframes[i].contentWindow === sourceWindow) {\n      return iframes[i]\n    }\n  }\n  return null\n}\n\nexport function ltiMessageHandler(e) {\n  if (e.data.messageType) {\n    handleLtiPostMessage(e)\n    return\n  }\n\n  // Legacy post message handlers\n  try {\n    const message = JSON.parse(e.data)\n    switch (message.subject) {\n      case 'lti.frameResize':\n        const toolResizer = new ToolLaunchResizer()\n        var height = message.height\n        if (height <= 0) height = 1\n\n        const container = toolResizer\n          .tool_content_wrapper(message.token || e.origin)\n          .data('height_overridden', true)\n        // If content.length is 0 then jquery didn't the tool wrapper.\n        if (container.length > 0) {\n          toolResizer.resize_tool_content_wrapper(height, container)\n        } else {\n          // Attempt to find an embedded iframe that matches the event source.\n          const iframe = findDomForWindow(e.source)\n          if (iframe) {\n            if (typeof height === 'number') {\n              height += 'px'\n            }\n            iframe.height = height\n            iframe.style.height = height\n          }\n        }\n        break\n\n      case 'lti.fetchWindowSize': {\n        const iframe = findDomForWindow(e.source)\n        if (iframe) {\n          message.height = window.innerHeight\n          message.width = window.innerWidth\n          message.offset = $('.tool_content_wrapper').offset()\n          message.footer = $('#fixed_bottom').height() || 0\n          message.scrollY = window.scrollY\n          const strMessage = JSON.stringify(message)\n\n          iframe.contentWindow.postMessage(strMessage, '*')\n        }\n        break\n      }\n\n      case 'lti.showModuleNavigation':\n        if (message.show === true || message.show === false) {\n          $('.module-sequence-footer').toggle(message.show)\n        }\n        break\n\n      case 'lti.scrollToTop':\n        $('html,body').animate(\n          {\n            scrollTop: $('.tool_content_wrapper').offset().top\n          },\n          'fast'\n        )\n        break\n\n      case 'lti.setUnloadMessage':\n        setUnloadMessage(htmlEscape(message.message))\n        break\n\n      case 'lti.removeUnloadMessage':\n        removeUnloadMessage()\n        break\n\n      case 'lti.screenReaderAlert':\n        $.screenReaderFlashMessageExclusive(message.body.html || message.body)\n        break\n      case 'lti.enableScrollEvents': {\n        const iframe = findDomForWindow(e.source)\n        if (iframe) {\n          let timeout\n          window.addEventListener(\n            'scroll',\n            () => {\n              // requesting animation frames effectively debounces the scroll messages being sent\n              if (timeout) {\n                window.cancelAnimationFrame(timeout)\n              }\n\n              timeout = window.requestAnimationFrame(() => {\n                const msg = JSON.stringify({\n                  subject: 'lti.scroll',\n                  scrollY: window.scrollY\n                })\n                iframe.contentWindow.postMessage(msg, '*')\n              })\n            },\n            false\n          )\n        }\n        break\n      }\n    }\n  } catch (err) {\n    ;(console.error || console.log).call(console, 'invalid message received from')\n  }\n}\n\nexport function monitorLtiMessages() {\n  window.addEventListener('message', e => {\n    if (e.data !== '') ltiMessageHandler(e)\n  })\n}\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {whitelist} from './messageTypes'\n\n// page-global storage for data relevant to LTI postMessage events\nconst ltiState = {}\nexport {ltiState}\n\nconst handleLtiPostMessage = async e => {\n  const {messageType, data} = e.data\n  let handler\n\n  // Enforce messageType whitelist\n  if (!whitelist.includes(messageType)) {\n    console.error(`invalid messageType: ${messageType}`)\n    return false\n  }\n\n  try {\n    const handlerModule = await import(`./${messageType}.js`)\n    handler = handlerModule.default\n    handler(data)\n    return true\n  } catch (error) {\n    console.error(`Error loading or executing message handler for \"${messageType}\"`, error)\n  }\n}\n\nexport default handleLtiPostMessage\n"],"sourceRoot":""}