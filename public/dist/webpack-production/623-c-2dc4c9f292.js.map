{"version":3,"sources":["webpack:///./app/jsx/assignments_2/student/components/RubricsQuery.js"],"names":["RubricsQuery","props","useQuery","RUBRIC_QUERY","variables","assignmentLid","assignment","_id","submissionID","submission","id","courseID","env","courseId","submissionAttempt","attempt","loading","error","data","imageUrl","errorShipUrl","errorSubject","I18n","t","errorCategory","assessments","rubricAssessmentsConnection","nodes","proficiencyRatings","course","account","proficiencyRatingsConnection","rubric"],"mappings":";;mJAuCW,YAAC,IAAD;AAXI,SAASA,EAAaC,GAAO;AAAA,QACXC,YAASC,IAAc,CACpDC,UAAW,CACTC,cAAeJ,EAAMK,WAAWC,IAChCC,aAAcP,EAAMQ,WAAWC,GAC/BC,SAAUV,EAAMK,WAAWM,IAAIC,SAC/BC,kBAAmBb,EAAMQ,WAAWM,WALjCC,EADmC,EACnCA,QAASC,EAD0B,EAC1BA,MAAOC,EADmB,EACnBA;AASvB,OAAIF,EACF,EAGEC,EAEA,YAAC,IAAD,CACEE,SAAUC,IACVC,aAAcC,IAAKC,EAAE,6CACrBC,cAAeF,IAAKC,EAAE,sCAM1B,YAAC,UAAD,CACEE,YAAW,UAAEP,EAAKT,kBAAP,iBAAE,EAAiBiB,mCAAnB,aAAE,EAA8CC,MAE3DC,mBAAkB,UAAEV,EAAKW,OAAOC,eAAd,iBAAE,EAAqBC,oCAAvB,aAAE,EAAmDJ,MACvEK,OAAQd,EAAKZ,WAAW0B,QAFnB/B,EAAMQ,WAAWM","file":"623-c-2dc4c9f292.js","sourcesContent":["/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport {Assignment} from '../graphqlData/Assignment'\nimport errorShipUrl from 'jsx/shared/svg/ErrorShip.svg'\nimport GenericErrorPage from '../../../shared/components/GenericErrorPage/index'\nimport I18n from 'i18n!assignments_2'\nimport LoadingIndicator from '../../shared/LoadingIndicator'\nimport React from 'react'\nimport RubricTab from './RubricTab'\nimport {RUBRIC_QUERY} from '../graphqlData/Queries'\nimport {Submission} from '../graphqlData/Submission'\nimport {useQuery} from 'react-apollo'\n\nexport default function RubricsQuery(props) {\n  const {loading, error, data} = useQuery(RUBRIC_QUERY, {\n    variables: {\n      assignmentLid: props.assignment._id,\n      submissionID: props.submission.id,\n      courseID: props.assignment.env.courseId,\n      submissionAttempt: props.submission.attempt\n    }\n  })\n\n  if (loading) {\n    return <LoadingIndicator />\n  }\n\n  if (error) {\n    return (\n      <GenericErrorPage\n        imageUrl={errorShipUrl}\n        errorSubject={I18n.t('Assignments 2 Student initial query error')}\n        errorCategory={I18n.t('Assignments 2 Student Error Page')}\n      />\n    )\n  }\n\n  return (\n    <RubricTab\n      assessments={data.submission?.rubricAssessmentsConnection?.nodes}\n      key={props.submission.attempt}\n      proficiencyRatings={data.course.account?.proficiencyRatingsConnection?.nodes}\n      rubric={data.assignment.rubric}\n    />\n  )\n}\n\nRubricsQuery.propTypes = {\n  assignment: Assignment.shape,\n  submission: Submission.shape\n}\n"],"sourceRoot":""}