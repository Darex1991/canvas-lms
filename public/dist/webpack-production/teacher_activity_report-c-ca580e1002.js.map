{"version":3,"sources":["webpack:///./app/coffeescripts/teacher_activity_report.coffee","webpack:///./node_modules/tablesorter/dist/js/jquery.tablesorter.combined.js"],"names":["tablesorter","addParser","id","is","format","s","str","trim","val","parseInt","Number","MAX_VALUE","type","table","td","attr","params","headers","0","sorter","1","has_user_notes","hasClass","jQuery","$","ts","version","parsers","widgets","defaults","theme","widthFixed","showProcessing","headerTemplate","onRenderTemplate","onRenderHeader","cancelSelection","tabIndex","dateFormat","sortMultiSortKey","sortResetKey","usNumberFormat","delayInit","serverSideSorting","resort","ignoreCase","sortForce","sortList","sortAppend","sortStable","sortInitialOrder","sortLocaleCompare","sortReset","sortRestart","emptyTo","stringTo","duplicateSpan","textExtraction","textAttribute","textSorter","numberSorter","initWidgets","widgetClass","widgetOptions","zebra","initialized","tableClass","cssAsc","cssDesc","cssNone","cssHeader","cssHeaderRow","cssProcessing","cssChildRow","cssInfoBlock","cssNoSort","cssIgnoreRow","cssIcon","cssIconNone","cssIconAsc","cssIconDesc","cssIconDisabled","pointerClick","pointerDown","pointerUp","selectorHeaders","selectorSort","selectorRemove","debug","headerList","empties","strings","globalize","imgAttr","css","cssHasChild","childRow","colgroup","header","headerRow","headerIn","icon","processing","sortAsc","sortDesc","sortNone","language","sortDisabled","nextAsc","nextDesc","nextNone","regex","templateContent","templateIcon","templateName","spaces","nonWord","formElements","chunk","chunks","hex","comma","digitNonUS","digitNegativeTest","digitNegativeReplace","digitTest","digitReplace","string","max","min","emptymin","emptymax","zero","none","top","bottom","keyCodes","enter","dates","instanceMethods","setup","c","tHead","tBodies","length","hasInitialized","tmp","$table","meta","metadata","isProcessing","config","data","console","group","Date","supportsDataObject","fn","jquery","split","toLowerCase","last","clickedIndex","test","namespace","replace","Math","random","toString","slice","addClass","$headers","find","children","$tbodies","widgetInit","buildHeaders","fixColumnWidth","addWidgetFromClass","applyWidgetOptions","setupParsers","totalRows","validateOptions","buildCache","bindEvents","bindMethods","sortlist","applyWidget","sortOn","setHeadersCss","unbind","bind","e","clearTimeout","timerProcessing","setTimeout","log","benchmark","groupEnd","triggerHandler","warn","error","events","join","callback","stopPropagation","this","isApplyingWidgets","updateAll","update","updateHeaders","cell","updateCell","$row","addRows","isUpdating","list","init","appendCache","isFunction","updateCache","applyWidgetId","all","dontapply","refreshWidgets","name","refreshing","removeWidget","removeClasses","destroy","extend","originalSettings","core","downTarget","getClosest","nodeName","add","filter","external","$cell","temp","$target","target","which","button","match","preventDefault","parents","isEmptyObject","cache","index","$headerIndexed","initSort","$temp","timer","indx","headerContent","sortVars","columns","computeColumnIndex","map","elem","configHeaders","column","template","$elem","getColumnData","html","apply","getOrder","getData","count","order","lockedOrder","sortedBy","not","scope","role","updateHeader","addInstanceMethods","methods","rows","span","colIndex","noParser","parser","extractor","time","tbody","len","tbodyIndex","debugOutput","extractors","getParserById","emptyToBottom","detectParserForColumn","text","empty","colSpan","rowIndex","cellIndex","cur","$node","row","node","nodeValue","keepLooking","className","indexOf","cells","getElementText","extract","textContent","getParsedText","txt","$tbody","cols","$cells","cacheTime","rowData","prevRowData","colMax","cacheIndex","hasParser","normalized","child","raw","prev","abs","getColumnText","rowFilter","tbodyLen","rowLen","parsed","result","hasCallback","allColumns","eq","aria","updateColumnSort","$el","removeClass","$extras","$sorted","end","i","include","col","isValueInArray","setColumnAriaLabel","selector","closest","$header","nextSort","vars","removeAttr","isDisabled","setColumnSort","updateHeaderSortCount","dir","primary","inArray","commonUpdate","resortComplete","remove","icell","tbcache","checkResort","valid","append","$curTbody","appendTime","appender","processTbody","pager","removeRows","ajax","event","arry","headerIndx","notMultiSort","th","each","splice","isArray","multisort","sortTime","sortLen","sort","a","b","sortIndex","num","x","y","getSortType","sortNatural","aNum","bNum","aFloat","bFloat","isNaN","parseFloat","sortNaturalAsc","sortNaturalDesc","sortText","getTextValue","n","charCodeAt","sortNumericAsc","sortNumericDesc","sortNumeric","addWidget","widget","getWidgetById","hasWidget","wo","options","RegExp","applied","names","timerReady","grep","priority","doAll","curWidgets","diff","getTime","arguments","obj","formatFloat","isDigit","$rows","j","k","l","rowSpan","firstAvailCol","matrix","matrixrow","Array","setAttribute","checkColumnCount","el","parentElement","push","overallWidth","percent","$colgroup","width","prepend","configHeader","key","cl4ss","getCell","toggle","$tb","getIt","before","detach","holdr","insertAfter","clearTableBody","characterEquivalents","replaceAccents","chr","acc","characterRegex","characterRegexArray","setting","setting2","typ","ignore","orig","restoreHeaders","$t","$h","$r","$f","removeData","toggleClass","settings","buildTable","window","logs","arg","date","now","toLocaleLowerCase","nondigit","currencyReplace","currencyTest","urlProtocolTest","urlProtocolReplace","dash","isoDate","isFinite","percentTest","dateReplace","usLongDateTest1","usLongDateTest2","shortDateTest","shortDateReplace","shortDateXXY","shortDateYMD","convertFormat","dateString","timeTest","timeMatch","timePart","p","parserMetadataName","$visibleRows","isEven","toRemove","document","fixedUrl","storage_fixedUrl","storage_group","storage_page","storage_storageType","storage_tableId","storage_useSessionStorage","storage","value","cookieIndex","cookies","hasStorage","values","storageType","charAt","session","useSessionStorage","url","page","location","pathname","setItem","removeItem","parseJSON","cookie","JSON","hasOwnProperty","stringify","setTime","toGMTString","themes","caption","active","hover","icons","iconSortNone","iconSortAsc","iconSortDesc","filterRow","footerRow","footerCells","even","odd","wrapper","hdr","$icon","$tfoot","oldtheme","oldremove","oldIconRmv","hasOldTheme","themesAll","iconRmv","appliedTheme","uitheme_applied","$this","wrapInner","filter_initialized","one","jui","style","display","columns_thead","columns_tfoot","tsf","tsfRegex","tscss","tskeyCodes","filterDisabled","filterRowHide","backSpace","escape","space","left","down","filter_cellFilter","filter_childRows","filter_childByColumn","filter_childWithSibs","filter_columnAnyMatch","filter_columnFilters","filter_cssFilter","filter_defaultAttrib","filter_defaultFilter","filter_excludeFilter","filter_external","filter_filteredRow","filter_filterLabel","filter_formatter","filter_functions","filter_hideEmpty","filter_hideFilters","filter_ignoreCase","filter_liveSearch","filter_matchType","filter_onlyAvail","filter_placeholder","search","select","filter_reset","filter_resetOnEsc","filter_saveFilters","filter_searchDelay","filter_searchFiltered","filter_selectSource","filter_selectSourceSeparator","filter_serversideFiltering","filter_startsWith","filter_useParsedData","show","undelegate","filtered","exact","operators","query","wild01","wild0More","quote","isNeg1","isNeg2","types","or","orTest","iFilter","orSplit","filterMatched","data2","nestedFilters","parseFilter","isMatch","processTypes","and","andTest","andSplit","matches","filter_regexCache","exec","isRegex","operTest","iExact","cachedValue","savedSearch","gtTest","gteTest","ltTest","lteTest","notMatch","notTest","anyMatch","rowArray","range","toTest","range1","range2","toSplit","wild","wildOrTest","wildTest","fuzzy","fuzzyTest","patternIndx","pattern","to","fxn","noSelect","processStr","prefix","suffix","lastSearch","filter_searchTimer","filter_initTimer","filter_formatterCount","filter_formatterInit","filter_anyColumnSelector","filter_multipleColumnSelector","alreadyFiltered","iQuery","igQuery","exactTest","buildRow","buildDefault","filter_$externalFilters","searching","lastCombinedFilter","click","delegate","buildSelect","bindSearch","hideFilters","filteredRows","completeInit","filterInitComplete","filters","setDefaults","setFilters","formatterUpdated","completed","findRows","processFilters","encode","mode","encodeURIComponent","decodeURIComponent","saved","$filters","getFilters","$filter","makeSelect","disabled","ffxn","cellFilter","buildFilter","appendTo","getColumnElm","parent","internal","$ext","filter_$anyMatch","liveSearch","fallback","eventType","skipFirst","checkFilters","equalFilters","filter1","filter2","f1","f2","filterArray","currentFilters","hideFiltersCheck","prototype","String","activeElement","defaultFilter","mask","maskLen","getLatestSearch","$input","findRange","ignoreRanges","ranges","start","singles","$elements","multipleColumns","targets","excludeMatch","matchedOn","matchType","columnIndex","processRow","showRow","hasAnyMatchInput","anyMatchFlag","anyMatchFilter","cacheArray","rawArray","get","iAnyMatchFilter","noAnyMatch","childRowText","excludeFilter","defaultColFilter","functions","norm_rows","showParent","notFiltered","searchFiltered","injected","res","storedFilters","defaultAnyFilter","getOptionSource","onlyAvail","source","getOptions","processOptions","cts","parsedTxt","validColumn","direction","childLen","updating","t","option","currentValue","getRaw","$column","trigger","getStickyOffset","stickyHeaders_offset","height","sticky","stickyVis","stickyHide","stickyWrap","addHeaderResizeEvent","disable","checkSizes","triggerEvent","sizes","resize_flag","offsetWidth","offsetHeight","clearInterval","resize_timer","setInterval","stickyHeaders","stickyHeaders_appendTo","stickyHeaders_attachTo","stickyHeaders_xScroll","stickyHeaders_yScroll","stickyHeaders_filteredToTop","stickyHeaders_cloneId","stickyHeaders_addResizeEvent","stickyHeaders_includeCaption","stickyHeaders_zIndex","$stickyCells","$attach","$yScroll","$xScroll","stickyOffset","$nestedSticky","$sticky","nestedStickyTop","$stickyTable","clone","wrap","$stickyWrap","position","padding","visibility","zIndex","$stickyThead","laststate","setWidth","$orig","$clone","border","outerWidth","getComputedStyle","getLeftPosition","yWindow","offset","scrollLeft","resizeHeader","scrollSticky","resizing","scrollTop","isWindow","yScroll","attachTop","captionHeight","tableHeight","isVisible","state","needsUpdating","cssSettings","hide","margin","resizer","after","$td","scrollTo","focus","next","resizableContainer","resizableHandle","resizableNoSelect","resizableStorage","resizable","storedSizes","$parent","marginTop","resizable_vars","useStorage","$wrap","mouseXPosition","$next","overflow","resizableReset","tableWidth","fullWidth","setWidths","updateStoredSizes","$resizable_container","insertBefore","bindings","$extra","$col","setHandlePosition","startPosition","$handles","handleCenter","floor","scrollerWrap","resizable_includeFooter","resizable_addLastColumn","checkVisibleColumns","toggleTextSelection","shiftKey","resizable_targetLast","nextAll","pageX","resizable_throttle","mouseMove","stopResize","allowClick","total","tar","leftEdge","resizable_widths","thisWidget","getStoredSortList","stored","sortListChanged","saveSort"],"mappings":"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","file":"teacher_activity_report-c-ca580e1002.js","sourcesContent":["#\n# Copyright (C) 2011 - present Instructure, Inc.\n#\n# This file is part of Canvas.\n#\n# Canvas is free software: you can redistribute it and/or modify it under\n# the terms of the GNU Affero General Public License as published by the Free\n# Software Foundation, version 3 of the License.\n#\n# Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n# A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n# details.\n#\n# You should have received a copy of the GNU Affero General Public License along\n# with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport 'tablesorter'\n\n$ ->\n  $.tablesorter.addParser(\n    id: 'days_or_never'\n    is: -> false\n    format: (s) ->\n      str = $.trim(s)\n      val = parseInt(str, 10) || 0\n      -1 * (if str == 'never' then Number.MAX_VALUE else val)\n    type: 'number'\n  )\n  $.tablesorter.addParser(\n    id: 'data-number'\n    is: -> false\n    format: (s, table, td) ->\n      $(td).attr('data-number')\n    type: 'number'\n  )\n  has_user_notes = $(\".report\").hasClass('has_user_notes')\n  params = \n    headers:\n      0: \n        sorter: 'data-number'\n      1: \n        sorter: 'days_or_never'\n  if has_user_notes\n    params['headers'][2] = sorter: 'days_or_never'\n  params['headers'][4 + (if has_user_notes then 1 else 0)] = \n    sorter: 'data-number'\n  params['headers'][5 + (if has_user_notes then 1 else 0)] = \n    sorter: false\n\n  $(\".report\").tablesorter(params)\n","/*! tablesorter (FORK) - updated 2020-03-03 (v2.31.3)*/\r\n/* Includes widgets ( storage,uitheme,columns,filter,stickyHeaders,resizable,saveSort ) */\r\n(function(factory){if (typeof define === 'function' && define.amd){define(['jquery'], factory);} else if (typeof module === 'object' && typeof module.exports === 'object'){module.exports = factory(require('jquery'));} else {factory(jQuery);}}(function(jQuery) {\r\n/*! TableSorter (FORK) v2.31.3 *//*\n* Client-side table sorting with ease!\n* @requires jQuery v1.2.6+\n*\n* Copyright (c) 2007 Christian Bach\n* fork maintained by Rob Garrison\n*\n* Examples and original docs at: http://tablesorter.com\n* Dual licensed under the MIT and GPL licenses:\n* http://www.opensource.org/licenses/mit-license.php\n* http://www.gnu.org/licenses/gpl.html\n*\n* @type jQuery\n* @name tablesorter (FORK)\n* @cat Plugins/Tablesorter\n* @author Christian Bach - christian.bach@polyester.se\n* @contributor Rob Garrison - https://github.com/Mottie/tablesorter\n* @docs (fork) - https://mottie.github.io/tablesorter/docs/\n*/\n/*jshint browser:true, jquery:true, unused:false, expr: true */\n;( function( $ ) {\n\t'use strict';\n\tvar ts = $.tablesorter = {\n\n\t\tversion : '2.31.3',\n\n\t\tparsers : [],\n\t\twidgets : [],\n\t\tdefaults : {\n\n\t\t\t// *** appearance\n\t\t\ttheme            : 'default',  // adds tablesorter-{theme} to the table for styling\n\t\t\twidthFixed       : false,      // adds colgroup to fix widths of columns\n\t\t\tshowProcessing   : false,      // show an indeterminate timer icon in the header when the table is sorted or filtered.\n\n\t\t\theaderTemplate   : '{content}',// header layout template (HTML ok); {content} = innerHTML, {icon} = <i/> // class from cssIcon\n\t\t\tonRenderTemplate : null,       // function( index, template ) { return template; }, // template is a string\n\t\t\tonRenderHeader   : null,       // function( index ) {}, // nothing to return\n\n\t\t\t// *** functionality\n\t\t\tcancelSelection  : true,       // prevent text selection in the header\n\t\t\ttabIndex         : true,       // add tabindex to header for keyboard accessibility\n\t\t\tdateFormat       : 'mmddyyyy', // other options: 'ddmmyyy' or 'yyyymmdd'\n\t\t\tsortMultiSortKey : 'shiftKey', // key used to select additional columns\n\t\t\tsortResetKey     : 'ctrlKey',  // key used to remove sorting on a column\n\t\t\tusNumberFormat   : true,       // false for German '1.234.567,89' or French '1 234 567,89'\n\t\t\tdelayInit        : false,      // if false, the parsed table contents will not update until the first sort\n\t\t\tserverSideSorting: false,      // if true, server-side sorting should be performed because client-side sorting will be disabled, but the ui and events will still be used.\n\t\t\tresort           : true,       // default setting to trigger a resort after an 'update', 'addRows', 'updateCell', etc has completed\n\n\t\t\t// *** sort options\n\t\t\theaders          : {},         // set sorter, string, empty, locked order, sortInitialOrder, filter, etc.\n\t\t\tignoreCase       : true,       // ignore case while sorting\n\t\t\tsortForce        : null,       // column(s) first sorted; always applied\n\t\t\tsortList         : [],         // Initial sort order; applied initially; updated when manually sorted\n\t\t\tsortAppend       : null,       // column(s) sorted last; always applied\n\t\t\tsortStable       : false,      // when sorting two rows with exactly the same content, the original sort order is maintained\n\n\t\t\tsortInitialOrder : 'asc',      // sort direction on first click\n\t\t\tsortLocaleCompare: false,      // replace equivalent character (accented characters)\n\t\t\tsortReset        : false,      // third click on the header will reset column to default - unsorted\n\t\t\tsortRestart      : false,      // restart sort to 'sortInitialOrder' when clicking on previously unsorted columns\n\n\t\t\temptyTo          : 'bottom',   // sort empty cell to bottom, top, none, zero, emptyMax, emptyMin\n\t\t\tstringTo         : 'max',      // sort strings in numerical column as max, min, top, bottom, zero\n\t\t\tduplicateSpan    : true,       // colspan cells in the tbody will have duplicated content in the cache for each spanned column\n\t\t\ttextExtraction   : 'basic',    // text extraction method/function - function( node, table, cellIndex ) {}\n\t\t\ttextAttribute    : 'data-text',// data-attribute that contains alternate cell text (used in default textExtraction function)\n\t\t\ttextSorter       : null,       // choose overall or specific column sorter function( a, b, direction, table, columnIndex ) [alt: ts.sortText]\n\t\t\tnumberSorter     : null,       // choose overall numeric sorter function( a, b, direction, maxColumnValue )\n\n\t\t\t// *** widget options\n\t\t\tinitWidgets      : true,       // apply widgets on tablesorter initialization\n\t\t\twidgetClass      : 'widget-{name}', // table class name template to match to include a widget\n\t\t\twidgets          : [],         // method to add widgets, e.g. widgets: ['zebra']\n\t\t\twidgetOptions    : {\n\t\t\t\tzebra : [ 'even', 'odd' ]  // zebra widget alternating row class names\n\t\t\t},\n\n\t\t\t// *** callbacks\n\t\t\tinitialized      : null,       // function( table ) {},\n\n\t\t\t// *** extra css class names\n\t\t\ttableClass       : '',\n\t\t\tcssAsc           : '',\n\t\t\tcssDesc          : '',\n\t\t\tcssNone          : '',\n\t\t\tcssHeader        : '',\n\t\t\tcssHeaderRow     : '',\n\t\t\tcssProcessing    : '', // processing icon applied to header during sort/filter\n\n\t\t\tcssChildRow      : 'tablesorter-childRow', // class name indiciating that a row is to be attached to its parent\n\t\t\tcssInfoBlock     : 'tablesorter-infoOnly', // don't sort tbody with this class name (only one class name allowed here!)\n\t\t\tcssNoSort        : 'tablesorter-noSort',   // class name added to element inside header; clicking on it won't cause a sort\n\t\t\tcssIgnoreRow     : 'tablesorter-ignoreRow',// header row to ignore; cells within this row will not be added to c.$headers\n\n\t\t\tcssIcon          : 'tablesorter-icon', // if this class does not exist, the {icon} will not be added from the headerTemplate\n\t\t\tcssIconNone      : '', // class name added to the icon when there is no column sort\n\t\t\tcssIconAsc       : '', // class name added to the icon when the column has an ascending sort\n\t\t\tcssIconDesc      : '', // class name added to the icon when the column has a descending sort\n\t\t\tcssIconDisabled  : '', // class name added to the icon when the column has a disabled sort\n\n\t\t\t// *** events\n\t\t\tpointerClick     : 'click',\n\t\t\tpointerDown      : 'mousedown',\n\t\t\tpointerUp        : 'mouseup',\n\n\t\t\t// *** selectors\n\t\t\tselectorHeaders  : '> thead th, > thead td',\n\t\t\tselectorSort     : 'th, td', // jQuery selector of content within selectorHeaders that is clickable to trigger a sort\n\t\t\tselectorRemove   : '.remove-me',\n\n\t\t\t// *** advanced\n\t\t\tdebug            : false,\n\n\t\t\t// *** Internal variables\n\t\t\theaderList: [],\n\t\t\tempties: {},\n\t\t\tstrings: {},\n\t\t\tparsers: [],\n\n\t\t\t// *** parser options for validator; values must be falsy!\n\t\t\tglobalize: 0,\n\t\t\timgAttr: 0\n\n\t\t\t// removed: widgetZebra: { css: ['even', 'odd'] }\n\n\t\t},\n\n\t\t// internal css classes - these will ALWAYS be added to\n\t\t// the table and MUST only contain one class name - fixes #381\n\t\tcss : {\n\t\t\ttable      : 'tablesorter',\n\t\t\tcssHasChild: 'tablesorter-hasChildRow',\n\t\t\tchildRow   : 'tablesorter-childRow',\n\t\t\tcolgroup   : 'tablesorter-colgroup',\n\t\t\theader     : 'tablesorter-header',\n\t\t\theaderRow  : 'tablesorter-headerRow',\n\t\t\theaderIn   : 'tablesorter-header-inner',\n\t\t\ticon       : 'tablesorter-icon',\n\t\t\tprocessing : 'tablesorter-processing',\n\t\t\tsortAsc    : 'tablesorter-headerAsc',\n\t\t\tsortDesc   : 'tablesorter-headerDesc',\n\t\t\tsortNone   : 'tablesorter-headerUnSorted'\n\t\t},\n\n\t\t// labels applied to sortable headers for accessibility (aria) support\n\t\tlanguage : {\n\t\t\tsortAsc      : 'Ascending sort applied, ',\n\t\t\tsortDesc     : 'Descending sort applied, ',\n\t\t\tsortNone     : 'No sort applied, ',\n\t\t\tsortDisabled : 'sorting is disabled',\n\t\t\tnextAsc      : 'activate to apply an ascending sort',\n\t\t\tnextDesc     : 'activate to apply a descending sort',\n\t\t\tnextNone     : 'activate to remove the sort'\n\t\t},\n\n\t\tregex : {\n\t\t\ttemplateContent : /\\{content\\}/g,\n\t\t\ttemplateIcon    : /\\{icon\\}/g,\n\t\t\ttemplateName    : /\\{name\\}/i,\n\t\t\tspaces          : /\\s+/g,\n\t\t\tnonWord         : /\\W/g,\n\t\t\tformElements    : /(input|select|button|textarea)/i,\n\n\t\t\t// *** sort functions ***\n\t\t\t// regex used in natural sort\n\t\t\t// chunk/tokenize numbers & letters\n\t\t\tchunk  : /(^([+\\-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi,\n\t\t\t// replace chunks @ ends\n\t\t\tchunks : /(^\\\\0|\\\\0$)/,\n\t\t\thex    : /^0x[0-9a-f]+$/i,\n\n\t\t\t// *** formatFloat ***\n\t\t\tcomma                : /,/g,\n\t\t\tdigitNonUS           : /[\\s|\\.]/g,\n\t\t\tdigitNegativeTest    : /^\\s*\\([.\\d]+\\)/,\n\t\t\tdigitNegativeReplace : /^\\s*\\(([.\\d]+)\\)/,\n\n\t\t\t// *** isDigit ***\n\t\t\tdigitTest    : /^[\\-+(]?\\d+[)]?$/,\n\t\t\tdigitReplace : /[,.'\"\\s]/g\n\n\t\t},\n\n\t\t// digit sort, text location\n\t\tstring : {\n\t\t\tmax      : 1,\n\t\t\tmin      : -1,\n\t\t\temptymin : 1,\n\t\t\temptymax : -1,\n\t\t\tzero     : 0,\n\t\t\tnone     : 0,\n\t\t\t'null'   : 0,\n\t\t\ttop      : true,\n\t\t\tbottom   : false\n\t\t},\n\n\t\tkeyCodes : {\n\t\t\tenter : 13\n\t\t},\n\n\t\t// placeholder date parser data (globalize)\n\t\tdates : {},\n\n\t\t// These methods can be applied on table.config instance\n\t\tinstanceMethods : {},\n\n\t\t/*\n\t\t▄█████ ██████ ██████ ██  ██ █████▄\n\t\t▀█▄    ██▄▄     ██   ██  ██ ██▄▄██\n\t\t   ▀█▄ ██▀▀     ██   ██  ██ ██▀▀▀\n\t\t█████▀ ██████   ██   ▀████▀ ██\n\t\t*/\n\n\t\tsetup : function( table, c ) {\n\t\t\t// if no thead or tbody, or tablesorter is already present, quit\n\t\t\tif ( !table || !table.tHead || table.tBodies.length === 0 || table.hasInitialized === true ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tif ( table.hasInitialized ) {\n\t\t\t\t\t\tconsole.warn( 'Stopping initialization. Tablesorter has already been initialized' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error( 'Stopping initialization! No table, thead or tbody', table );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tmp = '',\n\t\t\t\t$table = $( table ),\n\t\t\t\tmeta = $.metadata;\n\t\t\t// initialization flag\n\t\t\ttable.hasInitialized = false;\n\t\t\t// table is being processed flag\n\t\t\ttable.isProcessing = true;\n\t\t\t// make sure to store the config object\n\t\t\ttable.config = c;\n\t\t\t// save the settings where they read\n\t\t\t$.data( table, 'tablesorter', c );\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Initializing tablesorter v' + ts.version );\n\t\t\t\t$.data( table, 'startoveralltimer', new Date() );\n\t\t\t}\n\n\t\t\t// removing this in version 3 (only supports jQuery 1.7+)\n\t\t\tc.supportsDataObject = ( function( version ) {\n\t\t\t\tversion[ 0 ] = parseInt( version[ 0 ], 10 );\n\t\t\t\treturn ( version[ 0 ] > 1 ) || ( version[ 0 ] === 1 && parseInt( version[ 1 ], 10 ) >= 4 );\n\t\t\t})( $.fn.jquery.split( '.' ) );\n\t\t\t// ensure case insensitivity\n\t\t\tc.emptyTo = c.emptyTo.toLowerCase();\n\t\t\tc.stringTo = c.stringTo.toLowerCase();\n\t\t\tc.last = { sortList : [], clickedIndex : -1 };\n\t\t\t// add table theme class only if there isn't already one there\n\t\t\tif ( !/tablesorter\\-/.test( $table.attr( 'class' ) ) ) {\n\t\t\t\ttmp = ( c.theme !== '' ? ' tablesorter-' + c.theme : '' );\n\t\t\t}\n\n\t\t\t// give the table a unique id, which will be used in namespace binding\n\t\t\tif ( !c.namespace ) {\n\t\t\t\tc.namespace = '.tablesorter' + Math.random().toString( 16 ).slice( 2 );\n\t\t\t} else {\n\t\t\t\t// make sure namespace starts with a period & doesn't have weird characters\n\t\t\t\tc.namespace = '.' + c.namespace.replace( ts.regex.nonWord, '' );\n\t\t\t}\n\n\t\t\tc.table = table;\n\t\t\tc.$table = $table\n\t\t\t\t// add namespace to table to allow bindings on extra elements to target\n\t\t\t\t// the parent table (e.g. parser-input-select)\n\t\t\t\t.addClass( ts.css.table + ' ' + c.tableClass + tmp + ' ' + c.namespace.slice(1) )\n\t\t\t\t.attr( 'role', 'grid' );\n\t\t\tc.$headers = $table.find( c.selectorHeaders );\n\n\t\t\tc.$table.children().children( 'tr' ).attr( 'role', 'row' );\n\t\t\tc.$tbodies = $table.children( 'tbody:not(.' + c.cssInfoBlock + ')' ).attr({\n\t\t\t\t'aria-live' : 'polite',\n\t\t\t\t'aria-relevant' : 'all'\n\t\t\t});\n\t\t\tif ( c.$table.children( 'caption' ).length ) {\n\t\t\t\ttmp = c.$table.children( 'caption' )[ 0 ];\n\t\t\t\tif ( !tmp.id ) { tmp.id = c.namespace.slice( 1 ) + 'caption'; }\n\t\t\t\tc.$table.attr( 'aria-labelledby', tmp.id );\n\t\t\t}\n\t\t\tc.widgetInit = {}; // keep a list of initialized widgets\n\t\t\t// change textExtraction via data-attribute\n\t\t\tc.textExtraction = c.$table.attr( 'data-text-extraction' ) || c.textExtraction || 'basic';\n\t\t\t// build headers\n\t\t\tts.buildHeaders( c );\n\t\t\t// fixate columns if the users supplies the fixedWidth option\n\t\t\t// do this after theme has been applied\n\t\t\tts.fixColumnWidth( table );\n\t\t\t// add widgets from class name\n\t\t\tts.addWidgetFromClass( table );\n\t\t\t// add widget options before parsing (e.g. grouping widget has parser settings)\n\t\t\tts.applyWidgetOptions( table );\n\t\t\t// try to auto detect column type, and store in tables config\n\t\t\tts.setupParsers( c );\n\t\t\t// start total row count at zero\n\t\t\tc.totalRows = 0;\n\t\t\t// only validate options while debugging. See #1528\n\t\t\tif (c.debug) {\n\t\t\t\tts.validateOptions( c );\n\t\t\t}\n\t\t\t// build the cache for the tbody cells\n\t\t\t// delayInit will delay building the cache until the user starts a sort\n\t\t\tif ( !c.delayInit ) { ts.buildCache( c ); }\n\t\t\t// bind all header events and methods\n\t\t\tts.bindEvents( table, c.$headers, true );\n\t\t\tts.bindMethods( c );\n\t\t\t// get sort list from jQuery data or metadata\n\t\t\t// in jQuery < 1.4, an error occurs when calling $table.data()\n\t\t\tif ( c.supportsDataObject && typeof $table.data().sortlist !== 'undefined' ) {\n\t\t\t\tc.sortList = $table.data().sortlist;\n\t\t\t} else if ( meta && ( $table.metadata() && $table.metadata().sortlist ) ) {\n\t\t\t\tc.sortList = $table.metadata().sortlist;\n\t\t\t}\n\t\t\t// apply widget init code\n\t\t\tts.applyWidget( table, true );\n\t\t\t// if user has supplied a sort list to constructor\n\t\t\tif ( c.sortList.length > 0 ) {\n\t\t\t\t// save sortList before any sortAppend is added\n\t\t\t\tc.last.sortList = c.sortList;\n\t\t\t\tts.sortOn( c, c.sortList, {}, !c.initWidgets );\n\t\t\t} else {\n\t\t\t\tts.setHeadersCss( c );\n\t\t\t\tif ( c.initWidgets ) {\n\t\t\t\t\t// apply widget format\n\t\t\t\t\tts.applyWidget( table, false );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// show processesing icon\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\t$table\n\t\t\t\t.unbind( 'sortBegin' + c.namespace + ' sortEnd' + c.namespace )\n\t\t\t\t.bind( 'sortBegin' + c.namespace + ' sortEnd' + c.namespace, function( e ) {\n\t\t\t\t\tclearTimeout( c.timerProcessing );\n\t\t\t\t\tts.isProcessing( table );\n\t\t\t\t\tif ( e.type === 'sortBegin' ) {\n\t\t\t\t\t\tc.timerProcessing = setTimeout( function() {\n\t\t\t\t\t\t\tts.isProcessing( table, true );\n\t\t\t\t\t\t}, 500 );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// initialized\n\t\t\ttable.hasInitialized = true;\n\t\t\ttable.isProcessing = false;\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Overall initialization time:' + ts.benchmark( $.data( table, 'startoveralltimer' ) ) );\n\t\t\t\tif ( ts.debug(c, 'core') && console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\t$table.triggerHandler( 'tablesorter-initialized', table );\n\t\t\tif ( typeof c.initialized === 'function' ) {\n\t\t\t\tc.initialized( table );\n\t\t\t}\n\t\t},\n\n\t\tbindMethods : function( c ) {\n\t\t\tvar $table = c.$table,\n\t\t\t\tnamespace = c.namespace,\n\t\t\t\tevents = ( 'sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete ' +\n\t\t\t\t\t'sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup ' +\n\t\t\t\t\t'mouseleave ' ).split( ' ' )\n\t\t\t\t\t.join( namespace + ' ' );\n\t\t\t// apply easy methods that trigger bound events\n\t\t\t$table\n\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) )\n\t\t\t.bind( 'sortReset' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// using this.config to ensure functions are getting a non-cached version of the config\n\t\t\t\tts.sortReset( this.config, function( table ) {\n\t\t\t\t\tif (table.isApplyingWidgets) {\n\t\t\t\t\t\t// multiple triggers in a row... filterReset, then sortReset - see #1361\n\t\t\t\t\t\t// wait to update widgets\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tts.applyWidget( table, '', callback );\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tts.applyWidget( table, '', callback );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.bind( 'updateAll' + namespace, function( e, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateAll( this.config, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'update' + namespace + ' updateRows' + namespace, function( e, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.update( this.config, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'updateHeaders' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateHeaders( this.config, callback );\n\t\t\t})\n\t\t\t.bind( 'updateCell' + namespace, function( e, cell, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateCell( this.config, cell, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'addRows' + namespace, function( e, $row, resort, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.addRows( this.config, $row, resort, callback );\n\t\t\t})\n\t\t\t.bind( 'updateComplete' + namespace, function() {\n\t\t\t\tthis.isUpdating = false;\n\t\t\t})\n\t\t\t.bind( 'sorton' + namespace, function( e, list, callback, init ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.sortOn( this.config, list, callback, init );\n\t\t\t})\n\t\t\t.bind( 'appendCache' + namespace, function( e, callback, init ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.appendCache( this.config, init );\n\t\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\t\tcallback( this );\n\t\t\t\t}\n\t\t\t})\n\t\t\t// $tbodies variable is used by the tbody sorting widget\n\t\t\t.bind( 'updateCache' + namespace, function( e, callback, $tbodies ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.updateCache( this.config, callback, $tbodies );\n\t\t\t})\n\t\t\t.bind( 'applyWidgetId' + namespace, function( e, id ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.applyWidgetId( this, id );\n\t\t\t})\n\t\t\t.bind( 'applyWidgets' + namespace, function( e, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// apply widgets (false = not initializing)\n\t\t\t\tts.applyWidget( this, false, callback );\n\t\t\t})\n\t\t\t.bind( 'refreshWidgets' + namespace, function( e, all, dontapply ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.refreshWidgets( this, all, dontapply );\n\t\t\t})\n\t\t\t.bind( 'removeWidget' + namespace, function( e, name, refreshing ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.removeWidget( this, name, refreshing );\n\t\t\t})\n\t\t\t.bind( 'destroy' + namespace, function( e, removeClasses, callback ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tts.destroy( this, removeClasses, callback );\n\t\t\t})\n\t\t\t.bind( 'resetToLoadState' + namespace, function( e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\t// remove all widgets\n\t\t\t\tts.removeWidget( this, true, false );\n\t\t\t\tvar tmp = $.extend( true, {}, c.originalSettings );\n\t\t\t\t// restore original settings; this clears out current settings, but does not clear\n\t\t\t\t// values saved to storage.\n\t\t\t\tc = $.extend( true, {}, ts.defaults, tmp );\n\t\t\t\tc.originalSettings = tmp;\n\t\t\t\tthis.hasInitialized = false;\n\t\t\t\t// setup the entire table again\n\t\t\t\tts.setup( this, c );\n\t\t\t});\n\t\t},\n\n\t\tbindEvents : function( table, $headers, core ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar tmp,\n\t\t\t\tc = table.config,\n\t\t\t\tnamespace = c.namespace,\n\t\t\t\tdownTarget = null;\n\t\t\tif ( core !== true ) {\n\t\t\t\t$headers.addClass( namespace.slice( 1 ) + '_extra_headers' );\n\t\t\t\ttmp = ts.getClosest( $headers, 'table' );\n\t\t\t\tif ( tmp.length && tmp[ 0 ].nodeName === 'TABLE' && tmp[ 0 ] !== table ) {\n\t\t\t\t\t$( tmp[ 0 ] ).addClass( namespace.slice( 1 ) + '_extra_table' );\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp = ( c.pointerDown + ' ' + c.pointerUp + ' ' + c.pointerClick + ' sort keyup ' )\n\t\t\t\t.replace( ts.regex.spaces, ' ' )\n\t\t\t\t.split( ' ' )\n\t\t\t\t.join( namespace + ' ' );\n\t\t\t// apply event handling to headers and/or additional headers (stickyheaders, scroller, etc)\n\t\t\t$headers\n\t\t\t// http://stackoverflow.com/questions/5312849/jquery-find-self;\n\t\t\t.find( c.selectorSort )\n\t\t\t.add( $headers.filter( c.selectorSort ) )\n\t\t\t.unbind( tmp )\n\t\t\t.bind( tmp, function( e, external ) {\n\t\t\t\tvar $cell, cell, temp,\n\t\t\t\t\t$target = $( e.target ),\n\t\t\t\t\t// wrap event type in spaces, so the match doesn't trigger on inner words\n\t\t\t\t\ttype = ' ' + e.type + ' ';\n\t\t\t\t// only recognize left clicks\n\t\t\t\tif ( ( ( e.which || e.button ) !== 1 && !type.match( ' ' + c.pointerClick + ' | sort | keyup ' ) ) ||\n\t\t\t\t\t// allow pressing enter\n\t\t\t\t\t( type === ' keyup ' && e.which !== ts.keyCodes.enter ) ||\n\t\t\t\t\t// allow triggering a click event (e.which is undefined) & ignore physical clicks\n\t\t\t\t\t( type.match( ' ' + c.pointerClick + ' ' ) && typeof e.which !== 'undefined' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// ignore mouseup if mousedown wasn't on the same target\n\t\t\t\tif ( type.match( ' ' + c.pointerUp + ' ' ) && downTarget !== e.target && external !== true ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// set target on mousedown\n\t\t\t\tif ( type.match( ' ' + c.pointerDown + ' ' ) ) {\n\t\t\t\t\tdownTarget = e.target;\n\t\t\t\t\t// preventDefault needed or jQuery v1.3.2 and older throws an\n\t\t\t\t\t// \"Uncaught TypeError: handler.apply is not a function\" error\n\t\t\t\t\ttemp = $target.jquery.split( '.' );\n\t\t\t\t\tif ( temp[ 0 ] === '1' && temp[ 1 ] < 4 ) { e.preventDefault(); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdownTarget = null;\n\t\t\t\t$cell = ts.getClosest( $( this ), '.' + ts.css.header );\n\t\t\t\t// prevent sort being triggered on form elements\n\t\t\t\tif ( ts.regex.formElements.test( e.target.nodeName ) ||\n\t\t\t\t\t// nosort class name, or elements within a nosort container\n\t\t\t\t\t$target.hasClass( c.cssNoSort ) || $target.parents( '.' + c.cssNoSort ).length > 0 ||\n\t\t\t\t\t// disabled cell directly clicked\n\t\t\t\t\t$cell.hasClass( 'sorter-false' ) ||\n\t\t\t\t\t// elements within a button\n\t\t\t\t\t$target.parents( 'button' ).length > 0 ) {\n\t\t\t\t\treturn !c.cancelSelection;\n\t\t\t\t}\n\t\t\t\tif ( c.delayInit && ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t\tts.buildCache( c );\n\t\t\t\t}\n\t\t\t\t// use column index from data-attribute or index of current row; fixes #1116\n\t\t\t\tc.last.clickedIndex = $cell.attr( 'data-column' ) || $cell.index();\n\t\t\t\tcell = c.$headerIndexed[ c.last.clickedIndex ][0];\n\t\t\t\tif ( cell && !cell.sortDisabled ) {\n\t\t\t\t\tts.initSort( c, cell, e );\n\t\t\t\t}\n\t\t\t});\n\t\t\tif ( c.cancelSelection ) {\n\t\t\t\t// cancel selection\n\t\t\t\t$headers\n\t\t\t\t\t.attr( 'unselectable', 'on' )\n\t\t\t\t\t.bind( 'selectstart', false )\n\t\t\t\t\t.css({\n\t\t\t\t\t\t'user-select' : 'none',\n\t\t\t\t\t\t'MozUserSelect' : 'none' // not needed for jQuery 1.8+\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tbuildHeaders : function( c ) {\n\t\t\tvar $temp, icon, timer, indx;\n\t\t\tc.headerList = [];\n\t\t\tc.headerContent = [];\n\t\t\tc.sortVars = [];\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\ttimer = new Date();\n\t\t\t}\n\t\t\t// children tr in tfoot - see issue #196 & #547\n\t\t\t// don't pass table.config to computeColumnIndex here - widgets (math) pass it to \"quickly\" index tbody cells\n\t\t\tc.columns = ts.computeColumnIndex( c.$table.children( 'thead, tfoot' ).children( 'tr' ) );\n\t\t\t// add icon if cssIcon option exists\n\t\t\ticon = c.cssIcon ?\n\t\t\t\t'<i class=\"' + ( c.cssIcon === ts.css.icon ? ts.css.icon : c.cssIcon + ' ' + ts.css.icon ) + '\"></i>' :\n\t\t\t\t'';\n\t\t\t// redefine c.$headers here in case of an updateAll that replaces or adds an entire header cell - see #683\n\t\t\tc.$headers = $( $.map( c.$table.find( c.selectorHeaders ), function( elem, index ) {\n\t\t\t\tvar configHeaders, header, column, template, tmp,\n\t\t\t\t\t$elem = $( elem );\n\t\t\t\t// ignore cell (don't add it to c.$headers) if row has ignoreRow class\n\t\t\t\tif ( ts.getClosest( $elem, 'tr' ).hasClass( c.cssIgnoreRow ) ) { return; }\n\t\t\t\t// transfer data-column to element if not th/td - #1459\n\t\t\t\tif ( !/(th|td)/i.test( elem.nodeName ) ) {\n\t\t\t\t\ttmp = ts.getClosest( $elem, 'th, td' );\n\t\t\t\t\t$elem.attr( 'data-column', tmp.attr( 'data-column' ) );\n\t\t\t\t}\n\t\t\t\t// make sure to get header cell & not column indexed cell\n\t\t\t\tconfigHeaders = ts.getColumnData( c.table, c.headers, index, true );\n\t\t\t\t// save original header content\n\t\t\t\tc.headerContent[ index ] = $elem.html();\n\t\t\t\t// if headerTemplate is empty, don't reformat the header cell\n\t\t\t\tif ( c.headerTemplate !== '' && !$elem.find( '.' + ts.css.headerIn ).length ) {\n\t\t\t\t\t// set up header template\n\t\t\t\t\ttemplate = c.headerTemplate\n\t\t\t\t\t\t.replace( ts.regex.templateContent, $elem.html() )\n\t\t\t\t\t\t.replace( ts.regex.templateIcon, $elem.find( '.' + ts.css.icon ).length ? '' : icon );\n\t\t\t\t\tif ( c.onRenderTemplate ) {\n\t\t\t\t\t\theader = c.onRenderTemplate.apply( $elem, [ index, template ] );\n\t\t\t\t\t\t// only change t if something is returned\n\t\t\t\t\t\tif ( header && typeof header === 'string' ) {\n\t\t\t\t\t\t\ttemplate = header;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$elem.html( '<div class=\"' + ts.css.headerIn + '\">' + template + '</div>' ); // faster than wrapInner\n\t\t\t\t}\n\t\t\t\tif ( c.onRenderHeader ) {\n\t\t\t\t\tc.onRenderHeader.apply( $elem, [ index, c, c.$table ] );\n\t\t\t\t}\n\t\t\t\tcolumn = parseInt( $elem.attr( 'data-column' ), 10 );\n\t\t\t\telem.column = column;\n\t\t\t\ttmp = ts.getOrder( ts.getData( $elem, configHeaders, 'sortInitialOrder' ) || c.sortInitialOrder );\n\t\t\t\t// this may get updated numerous times if there are multiple rows\n\t\t\t\tc.sortVars[ column ] = {\n\t\t\t\t\tcount : -1, // set to -1 because clicking on the header automatically adds one\n\t\t\t\t\torder : tmp ?\n\t\t\t\t\t\t( c.sortReset ? [ 1, 0, 2 ] : [ 1, 0 ] ) : // desc, asc, unsorted\n\t\t\t\t\t\t( c.sortReset ? [ 0, 1, 2 ] : [ 0, 1 ] ),  // asc, desc, unsorted\n\t\t\t\t\tlockedOrder : false,\n\t\t\t\t\tsortedBy : ''\n\t\t\t\t};\n\t\t\t\ttmp = ts.getData( $elem, configHeaders, 'lockedOrder' ) || false;\n\t\t\t\tif ( typeof tmp !== 'undefined' && tmp !== false ) {\n\t\t\t\t\tc.sortVars[ column ].lockedOrder = true;\n\t\t\t\t\tc.sortVars[ column ].order = ts.getOrder( tmp ) ? [ 1, 1 ] : [ 0, 0 ];\n\t\t\t\t}\n\t\t\t\t// add cell to headerList\n\t\t\t\tc.headerList[ index ] = elem;\n\t\t\t\t$elem.addClass( ts.css.header + ' ' + c.cssHeader );\n\t\t\t\t// add to parent in case there are multiple rows\n\t\t\t\tts.getClosest( $elem, 'tr' )\n\t\t\t\t\t.addClass( ts.css.headerRow + ' ' + c.cssHeaderRow )\n\t\t\t\t\t.attr( 'role', 'row' );\n\t\t\t\t// allow keyboard cursor to focus on element\n\t\t\t\tif ( c.tabIndex ) {\n\t\t\t\t\t$elem.attr( 'tabindex', 0 );\n\t\t\t\t}\n\t\t\t\treturn elem;\n\t\t\t}) );\n\t\t\t// cache headers per column\n\t\t\tc.$headerIndexed = [];\n\t\t\tfor ( indx = 0; indx < c.columns; indx++ ) {\n\t\t\t\t// colspan in header making a column undefined\n\t\t\t\tif ( ts.isEmptyObject( c.sortVars[ indx ] ) ) {\n\t\t\t\t\tc.sortVars[ indx ] = {};\n\t\t\t\t}\n\t\t\t\t// Use c.$headers.parent() in case selectorHeaders doesn't point to the th/td\n\t\t\t\t$temp = c.$headers.filter( '[data-column=\"' + indx + '\"]' );\n\t\t\t\t// target sortable column cells, unless there are none, then use non-sortable cells\n\t\t\t\t// .last() added in jQuery 1.4; use .filter(':last') to maintain compatibility with jQuery v1.2.6\n\t\t\t\tc.$headerIndexed[ indx ] = $temp.length ?\n\t\t\t\t\t$temp.not( '.sorter-false' ).length ?\n\t\t\t\t\t\t$temp.not( '.sorter-false' ).filter( ':last' ) :\n\t\t\t\t\t\t$temp.filter( ':last' ) :\n\t\t\t\t\t$();\n\t\t\t}\n\t\t\tc.$table.find( c.selectorHeaders ).attr({\n\t\t\t\tscope: 'col',\n\t\t\t\trole : 'columnheader'\n\t\t\t});\n\t\t\t// enable/disable sorting\n\t\t\tts.updateHeader( c );\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Built headers:' + ts.benchmark( timer ) );\n\t\t\t\tconsole.log( c.$headers );\n\t\t\t}\n\t\t},\n\n\t\t// Use it to add a set of methods to table.config which will be available for all tables.\n\t\t// This should be done before table initialization\n\t\taddInstanceMethods : function( methods ) {\n\t\t\t$.extend( ts.instanceMethods, methods );\n\t\t},\n\n\t\t/*\n\t\t█████▄ ▄████▄ █████▄ ▄█████ ██████ █████▄ ▄█████\n\t\t██▄▄██ ██▄▄██ ██▄▄██ ▀█▄    ██▄▄   ██▄▄██ ▀█▄\n\t\t██▀▀▀  ██▀▀██ ██▀██     ▀█▄ ██▀▀   ██▀██     ▀█▄\n\t\t██     ██  ██ ██  ██ █████▀ ██████ ██  ██ █████▀\n\t\t*/\n\t\tsetupParsers : function( c, $tbodies ) {\n\t\t\tvar rows, list, span, max, colIndex, indx, header, configHeaders,\n\t\t\t\tnoParser, parser, extractor, time, tbody, len,\n\t\t\t\ttable = c.table,\n\t\t\t\ttbodyIndex = 0,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\tdebugOutput = {};\n\t\t\t// update table bodies in case we start with an empty table\n\t\t\tc.$tbodies = c.$table.children( 'tbody:not(.' + c.cssInfoBlock + ')' );\n\t\t\ttbody = typeof $tbodies === 'undefined' ? c.$tbodies : $tbodies;\n\t\t\tlen = tbody.length;\n\t\t\tif ( len === 0 ) {\n\t\t\t\treturn debug ? console.warn( 'Warning: *Empty table!* Not building a parser cache' ) : '';\n\t\t\t} else if ( debug ) {\n\t\t\t\ttime = new Date();\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Detecting parsers for each column' );\n\t\t\t}\n\t\t\tlist = {\n\t\t\t\textractors: [],\n\t\t\t\tparsers: []\n\t\t\t};\n\t\t\twhile ( tbodyIndex < len ) {\n\t\t\t\trows = tbody[ tbodyIndex ].rows;\n\t\t\t\tif ( rows.length ) {\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t\tmax = c.columns;\n\t\t\t\t\tfor ( indx = 0; indx < max; indx++ ) {\n\t\t\t\t\t\theader = c.$headerIndexed[ colIndex ];\n\t\t\t\t\t\tif ( header && header.length ) {\n\t\t\t\t\t\t\t// get column indexed table cell; adding true parameter fixes #1362 but\n\t\t\t\t\t\t\t// it would break backwards compatibility...\n\t\t\t\t\t\t\tconfigHeaders = ts.getColumnData( table, c.headers, colIndex ); // , true );\n\t\t\t\t\t\t\t// get column parser/extractor\n\t\t\t\t\t\t\textractor = ts.getParserById( ts.getData( header, configHeaders, 'extractor' ) );\n\t\t\t\t\t\t\tparser = ts.getParserById( ts.getData( header, configHeaders, 'sorter' ) );\n\t\t\t\t\t\t\tnoParser = ts.getData( header, configHeaders, 'parser' ) === 'false';\n\t\t\t\t\t\t\t// empty cells behaviour - keeping emptyToBottom for backwards compatibility\n\t\t\t\t\t\t\tc.empties[colIndex] = (\n\t\t\t\t\t\t\t\tts.getData( header, configHeaders, 'empty' ) ||\n\t\t\t\t\t\t\t\tc.emptyTo || ( c.emptyToBottom ? 'bottom' : 'top' ) ).toLowerCase();\n\t\t\t\t\t\t\t// text strings behaviour in numerical sorts\n\t\t\t\t\t\t\tc.strings[colIndex] = (\n\t\t\t\t\t\t\t\tts.getData( header, configHeaders, 'string' ) ||\n\t\t\t\t\t\t\t\tc.stringTo ||\n\t\t\t\t\t\t\t\t'max' ).toLowerCase();\n\t\t\t\t\t\t\tif ( noParser ) {\n\t\t\t\t\t\t\t\tparser = ts.getParserById( 'no-parser' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( !extractor ) {\n\t\t\t\t\t\t\t\t// For now, maybe detect someday\n\t\t\t\t\t\t\t\textractor = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( !parser ) {\n\t\t\t\t\t\t\t\tparser = ts.detectParserForColumn( c, rows, -1, colIndex );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\t\tdebugOutput[ '(' + colIndex + ') ' + header.text() ] = {\n\t\t\t\t\t\t\t\t\tparser : parser.id,\n\t\t\t\t\t\t\t\t\textractor : extractor ? extractor.id : 'none',\n\t\t\t\t\t\t\t\t\tstring : c.strings[ colIndex ],\n\t\t\t\t\t\t\t\t\tempty  : c.empties[ colIndex ]\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlist.parsers[ colIndex ] = parser;\n\t\t\t\t\t\t\tlist.extractors[ colIndex ] = extractor;\n\t\t\t\t\t\t\tspan = header[ 0 ].colSpan - 1;\n\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\tcolIndex += span;\n\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t\twhile ( span + 1 > 0 ) {\n\t\t\t\t\t\t\t\t\t// set colspan columns to use the same parsers & extractors\n\t\t\t\t\t\t\t\t\tlist.parsers[ colIndex - span ] = parser;\n\t\t\t\t\t\t\t\t\tlist.extractors[ colIndex - span ] = extractor;\n\t\t\t\t\t\t\t\t\tspan--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolIndex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttbodyIndex += ( list.parsers.length ) ? len : 1;\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tif ( !ts.isEmptyObject( debugOutput ) ) {\n\t\t\t\t\tconsole[ console.table ? 'table' : 'log' ]( debugOutput );\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn( '  No parsers detected!' );\n\t\t\t\t}\n\t\t\t\tconsole.log( 'Completed detecting parsers' + ts.benchmark( time ) );\n\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tc.parsers = list.parsers;\n\t\t\tc.extractors = list.extractors;\n\t\t},\n\n\t\taddParser : function( parser ) {\n\t\t\tvar indx,\n\t\t\t\tlen = ts.parsers.length,\n\t\t\t\tadd = true;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( ts.parsers[ indx ].id.toLowerCase() === parser.id.toLowerCase() ) {\n\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( add ) {\n\t\t\t\tts.parsers[ ts.parsers.length ] = parser;\n\t\t\t}\n\t\t},\n\n\t\tgetParserById : function( name ) {\n\t\t\t/*jshint eqeqeq:false */ // eslint-disable-next-line eqeqeq\n\t\t\tif ( name == 'false' ) { return false; }\n\t\t\tvar indx,\n\t\t\t\tlen = ts.parsers.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( ts.parsers[ indx ].id.toLowerCase() === ( name.toString() ).toLowerCase() ) {\n\t\t\t\t\treturn ts.parsers[ indx ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdetectParserForColumn : function( c, rows, rowIndex, cellIndex ) {\n\t\t\tvar cur, $node, row,\n\t\t\t\tindx = ts.parsers.length,\n\t\t\t\tnode = false,\n\t\t\t\tnodeValue = '',\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\tkeepLooking = true;\n\t\t\twhile ( nodeValue === '' && keepLooking ) {\n\t\t\t\trowIndex++;\n\t\t\t\trow = rows[ rowIndex ];\n\t\t\t\t// stop looking after 50 empty rows\n\t\t\t\tif ( row && rowIndex < 50 ) {\n\t\t\t\t\tif ( row.className.indexOf( ts.cssIgnoreRow ) < 0 ) {\n\t\t\t\t\t\tnode = rows[ rowIndex ].cells[ cellIndex ];\n\t\t\t\t\t\tnodeValue = ts.getElementText( c, node, cellIndex );\n\t\t\t\t\t\t$node = $( node );\n\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\tconsole.log( 'Checking if value was empty on row ' + rowIndex + ', column: ' +\n\t\t\t\t\t\t\t\tcellIndex + ': \"' + nodeValue + '\"' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tkeepLooking = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile ( --indx >= 0 ) {\n\t\t\t\tcur = ts.parsers[ indx ];\n\t\t\t\t// ignore the default text parser because it will always be true\n\t\t\t\tif ( cur && cur.id !== 'text' && cur.is && cur.is( nodeValue, c.table, node, $node ) ) {\n\t\t\t\t\treturn cur;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// nothing found, return the generic parser (text)\n\t\t\treturn ts.getParserById( 'text' );\n\t\t},\n\n\t\tgetElementText : function( c, node, cellIndex ) {\n\t\t\tif ( !node ) { return ''; }\n\t\t\tvar tmp,\n\t\t\t\textract = c.textExtraction || '',\n\t\t\t\t// node could be a jquery object\n\t\t\t\t// http://jsperf.com/jquery-vs-instanceof-jquery/2\n\t\t\t\t$node = node.jquery ? node : $( node );\n\t\t\tif ( typeof extract === 'string' ) {\n\t\t\t\t// check data-attribute first when set to 'basic'; don't use node.innerText - it's really slow!\n\t\t\t\t// http://www.kellegous.com/j/2013/02/27/innertext-vs-textcontent/\n\t\t\t\tif ( extract === 'basic' && typeof ( tmp = $node.attr( c.textAttribute ) ) !== 'undefined' ) {\n\t\t\t\t\treturn $.trim( tmp );\n\t\t\t\t}\n\t\t\t\treturn $.trim( node.textContent || $node.text() );\n\t\t\t} else {\n\t\t\t\tif ( typeof extract === 'function' ) {\n\t\t\t\t\treturn $.trim( extract( $node[ 0 ], c.table, cellIndex ) );\n\t\t\t\t} else if ( typeof ( tmp = ts.getColumnData( c.table, extract, cellIndex ) ) === 'function' ) {\n\t\t\t\t\treturn $.trim( tmp( $node[ 0 ], c.table, cellIndex ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// fallback\n\t\t\treturn $.trim( $node[ 0 ].textContent || $node.text() );\n\t\t},\n\n\t\t// centralized function to extract/parse cell contents\n\t\tgetParsedText : function( c, cell, colIndex, txt ) {\n\t\t\tif ( typeof txt === 'undefined' ) {\n\t\t\t\ttxt = ts.getElementText( c, cell, colIndex );\n\t\t\t}\n\t\t\t// if no parser, make sure to return the txt\n\t\t\tvar val = '' + txt,\n\t\t\t\tparser = c.parsers[ colIndex ],\n\t\t\t\textractor = c.extractors[ colIndex ];\n\t\t\tif ( parser ) {\n\t\t\t\t// do extract before parsing, if there is one\n\t\t\t\tif ( extractor && typeof extractor.format === 'function' ) {\n\t\t\t\t\ttxt = extractor.format( txt, c.table, cell, colIndex );\n\t\t\t\t}\n\t\t\t\t// allow parsing if the string is empty, previously parsing would change it to zero,\n\t\t\t\t// in case the parser needs to extract data from the table cell attributes\n\t\t\t\tval = parser.id === 'no-parser' ? '' :\n\t\t\t\t\t// make sure txt is a string (extractor may have converted it)\n\t\t\t\t\tparser.format( '' + txt, c.table, cell, colIndex );\n\t\t\t\tif ( c.ignoreCase && typeof val === 'string' ) {\n\t\t\t\t\tval = val.toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\t/*\n\t\t▄████▄ ▄████▄ ▄████▄ ██  ██ ██████\n\t\t██  ▀▀ ██▄▄██ ██  ▀▀ ██▄▄██ ██▄▄\n\t\t██  ▄▄ ██▀▀██ ██  ▄▄ ██▀▀██ ██▀▀\n\t\t▀████▀ ██  ██ ▀████▀ ██  ██ ██████\n\t\t*/\n\t\tbuildCache : function( c, callback, $tbodies ) {\n\t\t\tvar cache, val, txt, rowIndex, colIndex, tbodyIndex, $tbody, $row,\n\t\t\t\tcols, $cells, cell, cacheTime, totalRows, rowData, prevRowData,\n\t\t\t\tcolMax, span, cacheIndex, hasParser, max, len, index,\n\t\t\t\ttable = c.table,\n\t\t\t\tparsers = c.parsers,\n\t\t\t\tdebug = ts.debug(c, 'core');\n\t\t\t// update tbody variable\n\t\t\tc.$tbodies = c.$table.children( 'tbody:not(.' + c.cssInfoBlock + ')' );\n\t\t\t$tbody = typeof $tbodies === 'undefined' ? c.$tbodies : $tbodies,\n\t\t\tc.cache = {};\n\t\t\tc.totalRows = 0;\n\t\t\t// if no parsers found, return - it's an empty table.\n\t\t\tif ( !parsers ) {\n\t\t\t\treturn debug ? console.warn( 'Warning: *Empty table!* Not building a cache' ) : '';\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tcacheTime = new Date();\n\t\t\t}\n\t\t\t// processing icon\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\tts.isProcessing( table, true );\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbody.length; tbodyIndex++ ) {\n\t\t\t\tcolMax = []; // column max value per tbody\n\t\t\t\tcache = c.cache[ tbodyIndex ] = {\n\t\t\t\t\tnormalized: [] // array of normalized row data; last entry contains 'rowData' above\n\t\t\t\t\t// colMax: #   // added at the end\n\t\t\t\t};\n\n\t\t\t\ttotalRows = ( $tbody[ tbodyIndex ] && $tbody[ tbodyIndex ].rows.length ) || 0;\n\t\t\t\tfor ( rowIndex = 0; rowIndex < totalRows; ++rowIndex ) {\n\t\t\t\t\trowData = {\n\t\t\t\t\t\t// order: original row order #\n\t\t\t\t\t\t// $row : jQuery Object[]\n\t\t\t\t\t\tchild: [], // child row text (filter widget)\n\t\t\t\t\t\traw: []    // original row text\n\t\t\t\t\t};\n\t\t\t\t\t/** Add the table data to main data array */\n\t\t\t\t\t$row = $( $tbody[ tbodyIndex ].rows[ rowIndex ] );\n\t\t\t\t\tcols = [];\n\t\t\t\t\t// ignore \"remove-me\" rows\n\t\t\t\t\tif ( $row.hasClass( c.selectorRemove.slice(1) ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t// if this is a child row, add it to the last row's children and continue to the next row\n\t\t\t\t\t// ignore child row class, if it is the first row\n\t\t\t\t\tif ( $row.hasClass( c.cssChildRow ) && rowIndex !== 0 ) {\n\t\t\t\t\t\tlen = cache.normalized.length - 1;\n\t\t\t\t\t\tprevRowData = cache.normalized[ len ][ c.columns ];\n\t\t\t\t\t\tprevRowData.$row = prevRowData.$row.add( $row );\n\t\t\t\t\t\t// add 'hasChild' class name to parent row\n\t\t\t\t\t\tif ( !$row.prev().hasClass( c.cssChildRow ) ) {\n\t\t\t\t\t\t\t$row.prev().addClass( ts.css.cssHasChild );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// save child row content (un-parsed!)\n\t\t\t\t\t\t$cells = $row.children( 'th, td' );\n\t\t\t\t\t\tlen = prevRowData.child.length;\n\t\t\t\t\t\tprevRowData.child[ len ] = [];\n\t\t\t\t\t\t// child row content does not account for colspans/rowspans; so indexing may be off\n\t\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\t\tmax = c.columns;\n\t\t\t\t\t\tfor ( colIndex = 0; colIndex < max; colIndex++ ) {\n\t\t\t\t\t\t\tcell = $cells[ colIndex ];\n\t\t\t\t\t\t\tif ( cell ) {\n\t\t\t\t\t\t\t\tprevRowData.child[ len ][ colIndex ] = ts.getParsedText( c, cell, colIndex );\n\t\t\t\t\t\t\t\tspan = $cells[ colIndex ].colSpan - 1;\n\t\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// go to the next for loop\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\trowData.$row = $row;\n\t\t\t\t\trowData.order = rowIndex; // add original row position to rowCache\n\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\tmax = c.columns;\n\t\t\t\t\tfor ( colIndex = 0; colIndex < max; ++colIndex ) {\n\t\t\t\t\t\tcell = $row[ 0 ].cells[ colIndex ];\n\t\t\t\t\t\tif ( cell && cacheIndex < c.columns ) {\n\t\t\t\t\t\t\thasParser = typeof parsers[ cacheIndex ] !== 'undefined';\n\t\t\t\t\t\t\tif ( !hasParser && debug ) {\n\t\t\t\t\t\t\t\tconsole.warn( 'No parser found for row: ' + rowIndex + ', column: ' + colIndex +\n\t\t\t\t\t\t\t\t\t'; cell containing: \"' + $(cell).text() + '\"; does it have a header?' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tval = ts.getElementText( c, cell, cacheIndex );\n\t\t\t\t\t\t\trowData.raw[ cacheIndex ] = val; // save original row text\n\t\t\t\t\t\t\t// save raw column text even if there is no parser set\n\t\t\t\t\t\t\ttxt = ts.getParsedText( c, cell, cacheIndex, val );\n\t\t\t\t\t\t\tcols[ cacheIndex ] = txt;\n\t\t\t\t\t\t\tif ( hasParser && ( parsers[ cacheIndex ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t\t\t\t// determine column max value (ignore sign)\n\t\t\t\t\t\t\t\tcolMax[ cacheIndex ] = Math.max( Math.abs( txt ) || 0, colMax[ cacheIndex ] || 0 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// allow colSpan in tbody\n\t\t\t\t\t\t\tspan = cell.colSpan - 1;\n\t\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\t\twhile ( index <= span ) {\n\t\t\t\t\t\t\t\t\t// duplicate text (or not) to spanned columns\n\t\t\t\t\t\t\t\t\t// instead of setting duplicate span to empty string, use textExtraction to try to get a value\n\t\t\t\t\t\t\t\t\t// see http://stackoverflow.com/q/36449711/145346\n\t\t\t\t\t\t\t\t\ttxt = c.duplicateSpan || index === 0 ?\n\t\t\t\t\t\t\t\t\t\ttxt :\n\t\t\t\t\t\t\t\t\t\ttypeof c.textExtraction !== 'string' ?\n\t\t\t\t\t\t\t\t\t\t\tts.getElementText( c, cell, cacheIndex + index ) || '' :\n\t\t\t\t\t\t\t\t\t\t\t'';\n\t\t\t\t\t\t\t\t\trowData.raw[ cacheIndex + index ] = txt;\n\t\t\t\t\t\t\t\t\tcols[ cacheIndex + index ] = txt;\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t\t\tmax += span;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t}\n\t\t\t\t\t// ensure rowData is always in the same location (after the last column)\n\t\t\t\t\tcols[ c.columns ] = rowData;\n\t\t\t\t\tcache.normalized[ cache.normalized.length ] = cols;\n\t\t\t\t}\n\t\t\t\tcache.colMax = colMax;\n\t\t\t\t// total up rows, not including child rows\n\t\t\t\tc.totalRows += cache.normalized.length;\n\n\t\t\t}\n\t\t\tif ( c.showProcessing ) {\n\t\t\t\tts.isProcessing( table ); // remove processing icon\n\t\t\t}\n\t\t\tif ( debug ) {\n\t\t\t\tlen = Math.min( 5, c.cache[ 0 ].normalized.length );\n\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Building cache for ' + c.totalRows +\n\t\t\t\t\t' rows (showing ' + len + ' rows in log) and ' + c.columns + ' columns' +\n\t\t\t\t\tts.benchmark( cacheTime ) );\n\t\t\t\tval = {};\n\t\t\t\tfor ( colIndex = 0; colIndex < c.columns; colIndex++ ) {\n\t\t\t\t\tfor ( cacheIndex = 0; cacheIndex < len; cacheIndex++ ) {\n\t\t\t\t\t\tif ( !val[ 'row: ' + cacheIndex ] ) {\n\t\t\t\t\t\t\tval[ 'row: ' + cacheIndex ] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tval[ 'row: ' + cacheIndex ][ c.$headerIndexed[ colIndex ].text() ] =\n\t\t\t\t\t\t\tc.cache[ 0 ].normalized[ cacheIndex ][ colIndex ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole[ console.table ? 'table' : 'log' ]( val );\n\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\tgetColumnText : function( table, column, callback, rowFilter ) {\n\t\t\ttable = $( table )[0];\n\t\t\tvar tbodyIndex, rowIndex, cache, row, tbodyLen, rowLen, raw, parsed, $cell, result,\n\t\t\t\thasCallback = typeof callback === 'function',\n\t\t\t\tallColumns = column === 'all',\n\t\t\t\tdata = { raw : [], parsed: [], $cell: [] },\n\t\t\t\tc = table.config;\n\t\t\tif ( ts.isEmptyObject( c ) ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.warn( 'No cache found - aborting getColumnText function!' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttbodyLen = c.$tbodies.length;\n\t\t\t\tfor ( tbodyIndex = 0; tbodyIndex < tbodyLen; tbodyIndex++ ) {\n\t\t\t\t\tcache = c.cache[ tbodyIndex ].normalized;\n\t\t\t\t\trowLen = cache.length;\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < rowLen; rowIndex++ ) {\n\t\t\t\t\t\trow = cache[ rowIndex ];\n\t\t\t\t\t\tif ( rowFilter && !row[ c.columns ].$row.is( rowFilter ) ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\tparsed = ( allColumns ) ? row.slice( 0, c.columns ) : row[ column ];\n\t\t\t\t\t\trow = row[ c.columns ];\n\t\t\t\t\t\traw = ( allColumns ) ? row.raw : row.raw[ column ];\n\t\t\t\t\t\t$cell = ( allColumns ) ? row.$row.children() : row.$row.children().eq( column );\n\t\t\t\t\t\tif ( hasCallback ) {\n\t\t\t\t\t\t\tresult = callback({\n\t\t\t\t\t\t\t\ttbodyIndex : tbodyIndex,\n\t\t\t\t\t\t\t\trowIndex : rowIndex,\n\t\t\t\t\t\t\t\tparsed : parsed,\n\t\t\t\t\t\t\t\traw : raw,\n\t\t\t\t\t\t\t\t$row : row.$row,\n\t\t\t\t\t\t\t\t$cell : $cell\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== false ) {\n\t\t\t\t\t\t\tdata.parsed[ data.parsed.length ] = parsed;\n\t\t\t\t\t\t\tdata.raw[ data.raw.length ] = raw;\n\t\t\t\t\t\t\tdata.$cell[ data.$cell.length ] = $cell;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// return everything\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t██  ██ █████▄ █████▄ ▄████▄ ██████ ██████\n\t\t██  ██ ██▄▄██ ██  ██ ██▄▄██   ██   ██▄▄\n\t\t██  ██ ██▀▀▀  ██  ██ ██▀▀██   ██   ██▀▀\n\t\t▀████▀ ██     █████▀ ██  ██   ██   ██████\n\t\t*/\n\t\tsetHeadersCss : function( c ) {\n\t\t\tvar indx, column,\n\t\t\t\tlist = c.sortList,\n\t\t\t\tlen = list.length,\n\t\t\t\tnone = ts.css.sortNone + ' ' + c.cssNone,\n\t\t\t\tcss = [ ts.css.sortAsc + ' ' + c.cssAsc, ts.css.sortDesc + ' ' + c.cssDesc ],\n\t\t\t\tcssIcon = [ c.cssIconAsc, c.cssIconDesc, c.cssIconNone ],\n\t\t\t\taria = [ 'ascending', 'descending' ],\n\t\t\t\tupdateColumnSort = function($el, index) {\n\t\t\t\t\t$el\n\t\t\t\t\t\t.removeClass( none )\n\t\t\t\t\t\t.addClass( css[ index ] )\n\t\t\t\t\t\t.attr( 'aria-sort', aria[ index ] )\n\t\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t\t.removeClass( cssIcon[ 2 ] )\n\t\t\t\t\t\t.addClass( cssIcon[ index ] );\n\t\t\t\t},\n\t\t\t\t// find the footer\n\t\t\t\t$extras = c.$table\n\t\t\t\t\t.find( 'tfoot tr' )\n\t\t\t\t\t.children( 'td, th' )\n\t\t\t\t\t.add( $( c.namespace + '_extra_headers' ) )\n\t\t\t\t\t.removeClass( css.join( ' ' ) ),\n\t\t\t\t// remove all header information\n\t\t\t\t$sorted = c.$headers\n\t\t\t\t\t.add( $( 'thead ' + c.namespace + '_extra_headers' ) )\n\t\t\t\t\t.removeClass( css.join( ' ' ) )\n\t\t\t\t\t.addClass( none )\n\t\t\t\t\t.attr( 'aria-sort', 'none' )\n\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t.removeClass( cssIcon.join( ' ' ) )\n\t\t\t\t\t.end();\n\t\t\t// add css none to all sortable headers\n\t\t\t$sorted\n\t\t\t\t.not( '.sorter-false' )\n\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t.addClass( cssIcon[ 2 ] );\n\t\t\t// add disabled css icon class\n\t\t\tif ( c.cssIconDisabled ) {\n\t\t\t\t$sorted\n\t\t\t\t\t.filter( '.sorter-false' )\n\t\t\t\t\t.find( '.' + ts.css.icon )\n\t\t\t\t\t.addClass( c.cssIconDisabled );\n\t\t\t}\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t// direction = 2 means reset!\n\t\t\t\tif ( list[ indx ][ 1 ] !== 2 ) {\n\t\t\t\t\t// multicolumn sorting updating - see #1005\n\t\t\t\t\t// .not(function() {}) needs jQuery 1.4\n\t\t\t\t\t// filter(function(i, el) {}) <- el is undefined in jQuery v1.2.6\n\t\t\t\t\t$sorted = c.$headers.filter( function( i ) {\n\t\t\t\t\t\t// only include headers that are in the sortList (this includes colspans)\n\t\t\t\t\t\tvar include = true,\n\t\t\t\t\t\t\t$el = c.$headers.eq( i ),\n\t\t\t\t\t\t\tcol = parseInt( $el.attr( 'data-column' ), 10 ),\n\t\t\t\t\t\t\tend = col + ts.getClosest( $el, 'th, td' )[0].colSpan;\n\t\t\t\t\t\tfor ( ; col < end; col++ ) {\n\t\t\t\t\t\t\tinclude = include ? include || ts.isValueInArray( col, c.sortList ) > -1 : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn include;\n\t\t\t\t\t});\n\n\t\t\t\t\t// choose the :last in case there are nested columns\n\t\t\t\t\t$sorted = $sorted\n\t\t\t\t\t\t.not( '.sorter-false' )\n\t\t\t\t\t\t.filter( '[data-column=\"' + list[ indx ][ 0 ] + '\"]' + ( len === 1 ? ':last' : '' ) );\n\t\t\t\t\tif ( $sorted.length ) {\n\t\t\t\t\t\tfor ( column = 0; column < $sorted.length; column++ ) {\n\t\t\t\t\t\t\tif ( !$sorted[ column ].sortDisabled ) {\n\t\t\t\t\t\t\t\tupdateColumnSort( $sorted.eq( column ), list[ indx ][ 1 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// add sorted class to footer & extra headers, if they exist\n\t\t\t\t\tif ( $extras.length ) {\n\t\t\t\t\t\tupdateColumnSort( $extras.filter( '[data-column=\"' + list[ indx ][ 0 ] + '\"]' ), list[ indx ][ 1 ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add verbose aria labels\n\t\t\tlen = c.$headers.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tts.setColumnAriaLabel( c, c.$headers.eq( indx ) );\n\t\t\t}\n\t\t},\n\n\t\tgetClosest : function( $el, selector ) {\n\t\t\t// jQuery v1.2.6 doesn't have closest()\n\t\t\tif ( $.fn.closest ) {\n\t\t\t\treturn $el.closest( selector );\n\t\t\t}\n\t\t\treturn $el.is( selector ) ?\n\t\t\t\t$el :\n\t\t\t\t$el.parents( selector ).filter( ':first' );\n\t\t},\n\n\t\t// nextSort (optional), lets you disable next sort text\n\t\tsetColumnAriaLabel : function( c, $header, nextSort ) {\n\t\t\tif ( $header.length ) {\n\t\t\t\tvar column = parseInt( $header.attr( 'data-column' ), 10 ),\n\t\t\t\t\tvars = c.sortVars[ column ],\n\t\t\t\t\ttmp = $header.hasClass( ts.css.sortAsc ) ?\n\t\t\t\t\t\t'sortAsc' :\n\t\t\t\t\t\t$header.hasClass( ts.css.sortDesc ) ? 'sortDesc' : 'sortNone',\n\t\t\t\t\ttxt = $.trim( $header.text() ) + ': ' + ts.language[ tmp ];\n\t\t\t\tif ( $header.hasClass( 'sorter-false' ) || nextSort === false ) {\n\t\t\t\t\ttxt += ts.language.sortDisabled;\n\t\t\t\t} else {\n\t\t\t\t\ttmp = ( vars.count + 1 ) % vars.order.length;\n\t\t\t\t\tnextSort = vars.order[ tmp ];\n\t\t\t\t\t// if nextSort\n\t\t\t\t\ttxt += ts.language[ nextSort === 0 ? 'nextAsc' : nextSort === 1 ? 'nextDesc' : 'nextNone' ];\n\t\t\t\t}\n\t\t\t\t$header.attr( 'aria-label', txt );\n\t\t\t\tif (vars.sortedBy) {\n\t\t\t\t\t$header.attr( 'data-sortedBy', vars.sortedBy );\n\t\t\t\t} else {\n\t\t\t\t\t$header.removeAttr('data-sortedBy');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateHeader : function( c ) {\n\t\t\tvar index, isDisabled, $header, col,\n\t\t\t\ttable = c.table,\n\t\t\t\tlen = c.$headers.length;\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t$header = c.$headers.eq( index );\n\t\t\t\tcol = ts.getColumnData( table, c.headers, index, true );\n\t\t\t\t// add 'sorter-false' class if 'parser-false' is set\n\t\t\t\tisDisabled = ts.getData( $header, col, 'sorter' ) === 'false' || ts.getData( $header, col, 'parser' ) === 'false';\n\t\t\t\tts.setColumnSort( c, $header, isDisabled );\n\t\t\t}\n\t\t},\n\n\t\tsetColumnSort : function( c, $header, isDisabled ) {\n\t\t\tvar id = c.table.id;\n\t\t\t$header[ 0 ].sortDisabled = isDisabled;\n\t\t\t$header[ isDisabled ? 'addClass' : 'removeClass' ]( 'sorter-false' )\n\t\t\t\t.attr( 'aria-disabled', '' + isDisabled );\n\t\t\t// disable tab index on disabled cells\n\t\t\tif ( c.tabIndex ) {\n\t\t\t\tif ( isDisabled ) {\n\t\t\t\t\t$header.removeAttr( 'tabindex' );\n\t\t\t\t} else {\n\t\t\t\t\t$header.attr( 'tabindex', '0' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// aria-controls - requires table ID\n\t\t\tif ( id ) {\n\t\t\t\tif ( isDisabled ) {\n\t\t\t\t\t$header.removeAttr( 'aria-controls' );\n\t\t\t\t} else {\n\t\t\t\t\t$header.attr( 'aria-controls', id );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateHeaderSortCount : function( c, list ) {\n\t\t\tvar col, dir, group, indx, primary, temp, val, order,\n\t\t\t\tsortList = list || c.sortList,\n\t\t\t\tlen = sortList.length;\n\t\t\tc.sortList = [];\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tval = sortList[ indx ];\n\t\t\t\t// ensure all sortList values are numeric - fixes #127\n\t\t\t\tcol = parseInt( val[ 0 ], 10 );\n\t\t\t\t// prevents error if sorton array is wrong\n\t\t\t\tif ( col < c.columns ) {\n\n\t\t\t\t\t// set order if not already defined - due to colspan header without associated header cell\n\t\t\t\t\t// adding this check prevents a javascript error\n\t\t\t\t\tif ( !c.sortVars[ col ].order ) {\n\t\t\t\t\t\tif ( ts.getOrder( c.sortInitialOrder ) ) {\n\t\t\t\t\t\t\torder = c.sortReset ? [ 1, 0, 2 ] : [ 1, 0 ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\torder = c.sortReset ? [ 0, 1, 2 ] : [ 0, 1 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tc.sortVars[ col ].order = order;\n\t\t\t\t\t\tc.sortVars[ col ].count = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\torder = c.sortVars[ col ].order;\n\t\t\t\t\tdir = ( '' + val[ 1 ] ).match( /^(1|d|s|o|n)/ );\n\t\t\t\t\tdir = dir ? dir[ 0 ] : '';\n\t\t\t\t\t// 0/(a)sc (default), 1/(d)esc, (s)ame, (o)pposite, (n)ext\n\t\t\t\t\tswitch ( dir ) {\n\t\t\t\t\t\tcase '1' : case 'd' : // descending\n\t\t\t\t\t\t\tdir = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 's' : // same direction (as primary column)\n\t\t\t\t\t\t\t// if primary sort is set to 's', make it ascending\n\t\t\t\t\t\t\tdir = primary || 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'o' :\n\t\t\t\t\t\t\ttemp = order[ ( primary || 0 ) % order.length ];\n\t\t\t\t\t\t\t// opposite of primary column; but resets if primary resets\n\t\t\t\t\t\t\tdir = temp === 0 ? 1 : temp === 1 ? 0 : 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'n' :\n\t\t\t\t\t\t\tdir = order[ ( ++c.sortVars[ col ].count ) % order.length ];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault : // ascending\n\t\t\t\t\t\t\tdir = 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tprimary = indx === 0 ? dir : primary;\n\t\t\t\t\tgroup = [ col, parseInt( dir, 10 ) || 0 ];\n\t\t\t\t\tc.sortList[ c.sortList.length ] = group;\n\t\t\t\t\tdir = $.inArray( group[ 1 ], order ); // fixes issue #167\n\t\t\t\t\tc.sortVars[ col ].count = dir >= 0 ? dir : group[ 1 ] % order.length;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateAll : function( c, resort, callback ) {\n\t\t\tvar table = c.table;\n\t\t\ttable.isUpdating = true;\n\t\t\tts.refreshWidgets( table, true, true );\n\t\t\tts.buildHeaders( c );\n\t\t\tts.bindEvents( table, c.$headers, true );\n\t\t\tts.bindMethods( c );\n\t\t\tts.commonUpdate( c, resort, callback );\n\t\t},\n\n\t\tupdate : function( c, resort, callback ) {\n\t\t\tvar table = c.table;\n\t\t\ttable.isUpdating = true;\n\t\t\t// update sorting (if enabled/disabled)\n\t\t\tts.updateHeader( c );\n\t\t\tts.commonUpdate( c, resort, callback );\n\t\t},\n\n\t\t// simple header update - see #989\n\t\tupdateHeaders : function( c, callback ) {\n\t\t\tc.table.isUpdating = true;\n\t\t\tts.buildHeaders( c );\n\t\t\tts.bindEvents( c.table, c.$headers, true );\n\t\t\tts.resortComplete( c, callback );\n\t\t},\n\n\t\tupdateCell : function( c, cell, resort, callback ) {\n\t\t\t// updateCell for child rows is a mess - we'll ignore them for now\n\t\t\t// eventually I'll break out the \"update\" row cache code to make everything consistent\n\t\t\tif ( $( cell ).closest( 'tr' ).hasClass( c.cssChildRow ) ) {\n\t\t\t\tconsole.warn('Tablesorter Warning! \"updateCell\" for child row content has been disabled, use \"update\" instead');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table, do an update instead - fixes #1099\n\t\t\t\tts.updateHeader( c );\n\t\t\t\tts.commonUpdate( c, resort, callback );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tc.table.isUpdating = true;\n\t\t\tc.$table.find( c.selectorRemove ).remove();\n\t\t\t// get position from the dom\n\t\t\tvar tmp, indx, row, icell, cache, len,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\t$cell = $( cell ),\n\t\t\t\t// update cache - format: function( s, table, cell, cellIndex )\n\t\t\t\t// no closest in jQuery v1.2.6\n\t\t\t\ttbodyIndex = $tbodies.index( ts.getClosest( $cell, 'tbody' ) ),\n\t\t\t\ttbcache = c.cache[ tbodyIndex ],\n\t\t\t\t$row = ts.getClosest( $cell, 'tr' );\n\t\t\tcell = $cell[ 0 ]; // in case cell is a jQuery object\n\t\t\t// tbody may not exist if update is initialized while tbody is removed for processing\n\t\t\tif ( $tbodies.length && tbodyIndex >= 0 ) {\n\t\t\t\trow = $tbodies.eq( tbodyIndex ).find( 'tr' ).not( '.' + c.cssChildRow ).index( $row );\n\t\t\t\tcache = tbcache.normalized[ row ];\n\t\t\t\tlen = $row[ 0 ].cells.length;\n\t\t\t\tif ( len !== c.columns ) {\n\t\t\t\t\t// colspan in here somewhere!\n\t\t\t\t\ticell = 0;\n\t\t\t\t\ttmp = false;\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\t\tif ( !tmp && $row[ 0 ].cells[ indx ] !== cell ) {\n\t\t\t\t\t\t\ticell += $row[ 0 ].cells[ indx ].colSpan;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ticell = $cell.index();\n\t\t\t\t}\n\t\t\t\ttmp = ts.getElementText( c, cell, icell ); // raw\n\t\t\t\tcache[ c.columns ].raw[ icell ] = tmp;\n\t\t\t\ttmp = ts.getParsedText( c, cell, icell, tmp );\n\t\t\t\tcache[ icell ] = tmp; // parsed\n\t\t\t\tif ( ( c.parsers[ icell ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t// update column max value (ignore sign)\n\t\t\t\t\ttbcache.colMax[ icell ] = Math.max( Math.abs( tmp ) || 0, tbcache.colMax[ icell ] || 0 );\n\t\t\t\t}\n\t\t\t\ttmp = resort !== 'undefined' ? resort : c.resort;\n\t\t\t\tif ( tmp !== false ) {\n\t\t\t\t\t// widgets will be reapplied\n\t\t\t\t\tts.checkResort( c, tmp, callback );\n\t\t\t\t} else {\n\t\t\t\t\t// don't reapply widgets is resort is false, just in case it causes\n\t\t\t\t\t// problems with element focus\n\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.error( 'updateCell aborted, tbody missing or not within the indicated table' );\n\t\t\t\t}\n\t\t\t\tc.table.isUpdating = false;\n\t\t\t}\n\t\t},\n\n\t\taddRows : function( c, $row, resort, callback ) {\n\t\t\tvar txt, val, tbodyIndex, rowIndex, rows, cellIndex, len, order,\n\t\t\t\tcacheIndex, rowData, cells, cell, span,\n\t\t\t\t// allow passing a row string if only one non-info tbody exists in the table\n\t\t\t\tvalid = typeof $row === 'string' && c.$tbodies.length === 1 && /<tr/.test( $row || '' ),\n\t\t\t\ttable = c.table;\n\t\t\tif ( valid ) {\n\t\t\t\t$row = $( $row );\n\t\t\t\tc.$tbodies.append( $row );\n\t\t\t} else if (\n\t\t\t\t!$row ||\n\t\t\t\t// row is a jQuery object?\n\t\t\t\t!( $row instanceof $ ) ||\n\t\t\t\t// row contained in the table?\n\t\t\t\t( ts.getClosest( $row, 'table' )[ 0 ] !== c.table )\n\t\t\t) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.error( 'addRows method requires (1) a jQuery selector reference to rows that have already ' +\n\t\t\t\t\t\t'been added to the table, or (2) row HTML string to be added to a table with only one tbody' );\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttable.isUpdating = true;\n\t\t\tif ( ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table, do an update instead - fixes #450\n\t\t\t\tts.updateHeader( c );\n\t\t\t\tts.commonUpdate( c, resort, callback );\n\t\t\t} else {\n\t\t\t\trows = $row.filter( 'tr' ).attr( 'role', 'row' ).length;\n\t\t\t\ttbodyIndex = c.$tbodies.index( $row.parents( 'tbody' ).filter( ':first' ) );\n\t\t\t\t// fixes adding rows to an empty table - see issue #179\n\t\t\t\tif ( !( c.parsers && c.parsers.length ) ) {\n\t\t\t\t\tts.setupParsers( c );\n\t\t\t\t}\n\t\t\t\t// add each row\n\t\t\t\tfor ( rowIndex = 0; rowIndex < rows; rowIndex++ ) {\n\t\t\t\t\tcacheIndex = 0;\n\t\t\t\t\tlen = $row[ rowIndex ].cells.length;\n\t\t\t\t\torder = c.cache[ tbodyIndex ].normalized.length;\n\t\t\t\t\tcells = [];\n\t\t\t\t\trowData = {\n\t\t\t\t\t\tchild : [],\n\t\t\t\t\t\traw : [],\n\t\t\t\t\t\t$row : $row.eq( rowIndex ),\n\t\t\t\t\t\torder : order\n\t\t\t\t\t};\n\t\t\t\t\t// add each cell\n\t\t\t\t\tfor ( cellIndex = 0; cellIndex < len; cellIndex++ ) {\n\t\t\t\t\t\tcell = $row[ rowIndex ].cells[ cellIndex ];\n\t\t\t\t\t\ttxt = ts.getElementText( c, cell, cacheIndex );\n\t\t\t\t\t\trowData.raw[ cacheIndex ] = txt;\n\t\t\t\t\t\tval = ts.getParsedText( c, cell, cacheIndex, txt );\n\t\t\t\t\t\tcells[ cacheIndex ] = val;\n\t\t\t\t\t\tif ( ( c.parsers[ cacheIndex ].type || '' ).toLowerCase() === 'numeric' ) {\n\t\t\t\t\t\t\t// update column max value (ignore sign)\n\t\t\t\t\t\t\tc.cache[ tbodyIndex ].colMax[ cacheIndex ] =\n\t\t\t\t\t\t\t\tMath.max( Math.abs( val ) || 0, c.cache[ tbodyIndex ].colMax[ cacheIndex ] || 0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tspan = cell.colSpan - 1;\n\t\t\t\t\t\tif ( span > 0 ) {\n\t\t\t\t\t\t\tcacheIndex += span;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcacheIndex++;\n\t\t\t\t\t}\n\t\t\t\t\t// add the row data to the end\n\t\t\t\t\tcells[ c.columns ] = rowData;\n\t\t\t\t\t// update cache\n\t\t\t\t\tc.cache[ tbodyIndex ].normalized[ order ] = cells;\n\t\t\t\t}\n\t\t\t\t// resort using current settings\n\t\t\t\tts.checkResort( c, resort, callback );\n\t\t\t}\n\t\t},\n\n\t\tupdateCache : function( c, callback, $tbodies ) {\n\t\t\t// rebuild parsers\n\t\t\tif ( !( c.parsers && c.parsers.length ) ) {\n\t\t\t\tts.setupParsers( c, $tbodies );\n\t\t\t}\n\t\t\t// rebuild the cache map\n\t\t\tts.buildCache( c, callback, $tbodies );\n\t\t},\n\n\t\t// init flag (true) used by pager plugin to prevent widget application\n\t\t// renamed from appendToTable\n\t\tappendCache : function( c, init ) {\n\t\t\tvar parsed, totalRows, $tbody, $curTbody, rowIndex, tbodyIndex, appendTime,\n\t\t\t\ttable = c.table,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\trows = [],\n\t\t\t\tcache = c.cache;\n\t\t\t// empty table - fixes #206/#346\n\t\t\tif ( ts.isEmptyObject( cache ) ) {\n\t\t\t\t// run pager appender in case the table was just emptied\n\t\t\t\treturn c.appender ? c.appender( table, rows ) :\n\t\t\t\t\ttable.isUpdating ? c.$table.triggerHandler( 'updateComplete', table ) : ''; // Fixes #532\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tappendTime = new Date();\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = $tbodies.eq( tbodyIndex );\n\t\t\t\tif ( $tbody.length ) {\n\t\t\t\t\t// detach tbody for manipulation\n\t\t\t\t\t$curTbody = ts.processTbody( table, $tbody, true );\n\t\t\t\t\tparsed = cache[ tbodyIndex ].normalized;\n\t\t\t\t\ttotalRows = parsed.length;\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < totalRows; rowIndex++ ) {\n\t\t\t\t\t\trows[rows.length] = parsed[ rowIndex ][ c.columns ].$row;\n\t\t\t\t\t\t// removeRows used by the pager plugin; don't render if using ajax - fixes #411\n\t\t\t\t\t\tif ( !c.appender || ( c.pager && !c.pager.removeRows && !c.pager.ajax ) ) {\n\t\t\t\t\t\t\t$curTbody.append( parsed[ rowIndex ][ c.columns ].$row );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// restore tbody\n\t\t\t\t\tts.processTbody( table, $curTbody, false );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( c.appender ) {\n\t\t\t\tc.appender( table, rows );\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Rebuilt table' + ts.benchmark( appendTime ) );\n\t\t\t}\n\t\t\t// apply table widgets; but not before ajax completes\n\t\t\tif ( !init && !c.appender ) {\n\t\t\t\tts.applyWidget( table );\n\t\t\t}\n\t\t\tif ( table.isUpdating ) {\n\t\t\t\tc.$table.triggerHandler( 'updateComplete', table );\n\t\t\t}\n\t\t},\n\n\t\tcommonUpdate : function( c, resort, callback ) {\n\t\t\t// remove rows/elements before update\n\t\t\tc.$table.find( c.selectorRemove ).remove();\n\t\t\t// rebuild parsers\n\t\t\tts.setupParsers( c );\n\t\t\t// rebuild the cache map\n\t\t\tts.buildCache( c );\n\t\t\tts.checkResort( c, resort, callback );\n\t\t},\n\n\t\t/*\n\t\t▄█████ ▄████▄ █████▄ ██████ ██ █████▄ ▄████▄\n\t\t▀█▄    ██  ██ ██▄▄██   ██   ██ ██  ██ ██ ▄▄▄\n\t\t   ▀█▄ ██  ██ ██▀██    ██   ██ ██  ██ ██ ▀██\n\t\t█████▀ ▀████▀ ██  ██   ██   ██ ██  ██ ▀████▀\n\t\t*/\n\t\tinitSort : function( c, cell, event ) {\n\t\t\tif ( c.table.isUpdating ) {\n\t\t\t\t// let any updates complete before initializing a sort\n\t\t\t\treturn setTimeout( function() {\n\t\t\t\t\tts.initSort( c, cell, event );\n\t\t\t\t}, 50 );\n\t\t\t}\n\n\t\t\tvar arry, indx, headerIndx, dir, temp, tmp, $header,\n\t\t\t\tnotMultiSort = !event[ c.sortMultiSortKey ],\n\t\t\t\ttable = c.table,\n\t\t\t\tlen = c.$headers.length,\n\t\t\t\tth = ts.getClosest( $( cell ), 'th, td' ),\n\t\t\t\tcol = parseInt( th.attr( 'data-column' ), 10 ),\n\t\t\t\tsortedBy = event.type === 'mouseup' ? 'user' : event.type,\n\t\t\t\torder = c.sortVars[ col ].order;\n\t\t\tth = th[0];\n\t\t\t// Only call sortStart if sorting is enabled\n\t\t\tc.$table.triggerHandler( 'sortStart', table );\n\t\t\t// get current column sort order\n\t\t\ttmp = ( c.sortVars[ col ].count + 1 ) % order.length;\n\t\t\tc.sortVars[ col ].count = event[ c.sortResetKey ] ? 2 : tmp;\n\t\t\t// reset all sorts on non-current column - issue #30\n\t\t\tif ( c.sortRestart ) {\n\t\t\t\tfor ( headerIndx = 0; headerIndx < len; headerIndx++ ) {\n\t\t\t\t\t$header = c.$headers.eq( headerIndx );\n\t\t\t\t\ttmp = parseInt( $header.attr( 'data-column' ), 10 );\n\t\t\t\t\t// only reset counts on columns that weren't just clicked on and if not included in a multisort\n\t\t\t\t\tif ( col !== tmp && ( notMultiSort || $header.hasClass( ts.css.sortNone ) ) ) {\n\t\t\t\t\t\tc.sortVars[ tmp ].count = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// user only wants to sort on one column\n\t\t\tif ( notMultiSort ) {\n\t\t\t\t$.each( c.sortVars, function( i ) {\n\t\t\t\t\tc.sortVars[ i ].sortedBy = '';\n\t\t\t\t});\n\t\t\t\t// flush the sort list\n\t\t\t\tc.sortList = [];\n\t\t\t\tc.last.sortList = [];\n\t\t\t\tif ( c.sortForce !== null ) {\n\t\t\t\t\tarry = c.sortForce;\n\t\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\n\t\t\t\t\t\tif ( arry[ indx ][ 0 ] !== col ) {\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = arry[ indx ];\n\t\t\t\t\t\t\tc.sortVars[ arry[ indx ][ 0 ] ].sortedBy = 'sortForce';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// add column to sort list\n\t\t\t\tdir = order[ c.sortVars[ col ].count ];\n\t\t\t\tif ( dir < 2 ) {\n\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col, dir ];\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\t// add other columns if header spans across multiple\n\t\t\t\t\tif ( th.colSpan > 1 ) {\n\t\t\t\t\t\tfor ( indx = 1; indx < th.colSpan; indx++ ) {\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col + indx, dir ];\n\t\t\t\t\t\t\t// update count on columns in colSpan\n\t\t\t\t\t\t\tc.sortVars[ col + indx ].count = $.inArray( dir, order );\n\t\t\t\t\t\t\tc.sortVars[ col + indx ].sortedBy = sortedBy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// multi column sorting\n\t\t\t} else {\n\t\t\t\t// get rid of the sortAppend before adding more - fixes issue #115 & #523\n\t\t\t\tc.sortList = $.extend( [], c.last.sortList );\n\n\t\t\t\t// the user has clicked on an already sorted column\n\t\t\t\tif ( ts.isValueInArray( col, c.sortList ) >= 0 ) {\n\t\t\t\t\t// reverse the sorting direction\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\tfor ( indx = 0; indx < c.sortList.length; indx++ ) {\n\t\t\t\t\t\ttmp = c.sortList[ indx ];\n\t\t\t\t\t\tif ( tmp[ 0 ] === col ) {\n\t\t\t\t\t\t\t// order.count seems to be incorrect when compared to cell.count\n\t\t\t\t\t\t\ttmp[ 1 ] = order[ c.sortVars[ col ].count ];\n\t\t\t\t\t\t\tif ( tmp[1] === 2 ) {\n\t\t\t\t\t\t\t\tc.sortList.splice( indx, 1 );\n\t\t\t\t\t\t\t\tc.sortVars[ col ].count = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// add column to sort list array\n\t\t\t\t\tdir = order[ c.sortVars[ col ].count ];\n\t\t\t\t\tc.sortVars[ col ].sortedBy = sortedBy;\n\t\t\t\t\tif ( dir < 2 ) {\n\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col, dir ];\n\t\t\t\t\t\t// add other columns if header spans across multiple\n\t\t\t\t\t\tif ( th.colSpan > 1 ) {\n\t\t\t\t\t\t\tfor ( indx = 1; indx < th.colSpan; indx++ ) {\n\t\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ col + indx, dir ];\n\t\t\t\t\t\t\t\t// update count on columns in colSpan\n\t\t\t\t\t\t\t\tc.sortVars[ col + indx ].count = $.inArray( dir, order );\n\t\t\t\t\t\t\t\tc.sortVars[ col + indx ].sortedBy = sortedBy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// save sort before applying sortAppend\n\t\t\tc.last.sortList = $.extend( [], c.sortList );\n\t\t\tif ( c.sortList.length && c.sortAppend ) {\n\t\t\t\tarry = $.isArray( c.sortAppend ) ? c.sortAppend : c.sortAppend[ c.sortList[ 0 ][ 0 ] ];\n\t\t\t\tif ( !ts.isEmptyObject( arry ) ) {\n\t\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\n\t\t\t\t\t\tif ( arry[ indx ][ 0 ] !== col && ts.isValueInArray( arry[ indx ][ 0 ], c.sortList ) < 0 ) {\n\t\t\t\t\t\t\tdir = arry[ indx ][ 1 ];\n\t\t\t\t\t\t\ttemp = ( '' + dir ).match( /^(a|d|s|o|n)/ );\n\t\t\t\t\t\t\tif ( temp ) {\n\t\t\t\t\t\t\t\ttmp = c.sortList[ 0 ][ 1 ];\n\t\t\t\t\t\t\t\tswitch ( temp[ 0 ] ) {\n\t\t\t\t\t\t\t\t\tcase 'd' :\n\t\t\t\t\t\t\t\t\t\tdir = 1;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 's' :\n\t\t\t\t\t\t\t\t\t\tdir = tmp;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'o' :\n\t\t\t\t\t\t\t\t\t\tdir = tmp === 0 ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'n' :\n\t\t\t\t\t\t\t\t\t\tdir = ( tmp + 1 ) % order.length;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tdir = 0;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tc.sortList[ c.sortList.length ] = [ arry[ indx ][ 0 ], dir ];\n\t\t\t\t\t\t\tc.sortVars[ arry[ indx ][ 0 ] ].sortedBy = 'sortAppend';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// sortBegin event triggered immediately before the sort\n\t\t\tc.$table.triggerHandler( 'sortBegin', table );\n\t\t\t// setTimeout needed so the processing icon shows up\n\t\t\tsetTimeout( function() {\n\t\t\t\t// set css for headers\n\t\t\t\tts.setHeadersCss( c );\n\t\t\t\tts.multisort( c );\n\t\t\t\tts.appendCache( c );\n\t\t\t\tc.$table.triggerHandler( 'sortBeforeEnd', table );\n\t\t\t\tc.$table.triggerHandler( 'sortEnd', table );\n\t\t\t}, 1 );\n\t\t},\n\n\t\t// sort multiple columns\n\t\tmultisort : function( c ) { /*jshint loopfunc:true */\n\t\t\tvar tbodyIndex, sortTime, colMax, rows, tmp,\n\t\t\t\ttable = c.table,\n\t\t\t\tsorter = [],\n\t\t\t\tdir = 0,\n\t\t\t\ttextSorter = c.textSorter || '',\n\t\t\t\tsortList = c.sortList,\n\t\t\t\tsortLen = sortList.length,\n\t\t\t\tlen = c.$tbodies.length;\n\t\t\tif ( c.serverSideSorting || ts.isEmptyObject( c.cache ) ) {\n\t\t\t\t// empty table - fixes #206/#346\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) { sortTime = new Date(); }\n\t\t\t// cache textSorter to optimize speed\n\t\t\tif ( typeof textSorter === 'object' ) {\n\t\t\t\tcolMax = c.columns;\n\t\t\t\twhile ( colMax-- ) {\n\t\t\t\t\ttmp = ts.getColumnData( table, textSorter, colMax );\n\t\t\t\t\tif ( typeof tmp === 'function' ) {\n\t\t\t\t\t\tsorter[ colMax ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < len; tbodyIndex++ ) {\n\t\t\t\tcolMax = c.cache[ tbodyIndex ].colMax;\n\t\t\t\trows = c.cache[ tbodyIndex ].normalized;\n\n\t\t\t\trows.sort( function( a, b ) {\n\t\t\t\t\tvar sortIndex, num, col, order, sort, x, y;\n\t\t\t\t\t// rows is undefined here in IE, so don't use it!\n\t\t\t\t\tfor ( sortIndex = 0; sortIndex < sortLen; sortIndex++ ) {\n\t\t\t\t\t\tcol = sortList[ sortIndex ][ 0 ];\n\t\t\t\t\t\torder = sortList[ sortIndex ][ 1 ];\n\t\t\t\t\t\t// sort direction, true = asc, false = desc\n\t\t\t\t\t\tdir = order === 0;\n\n\t\t\t\t\t\tif ( c.sortStable && a[ col ] === b[ col ] && sortLen === 1 ) {\n\t\t\t\t\t\t\treturn a[ c.columns ].order - b[ c.columns ].order;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// fallback to natural sort since it is more robust\n\t\t\t\t\t\tnum = /n/i.test( ts.getSortType( c.parsers, col ) );\n\t\t\t\t\t\tif ( num && c.strings[ col ] ) {\n\t\t\t\t\t\t\t// sort strings in numerical columns\n\t\t\t\t\t\t\tif ( typeof ( ts.string[ c.strings[ col ] ] ) === 'boolean' ) {\n\t\t\t\t\t\t\t\tnum = ( dir ? 1 : -1 ) * ( ts.string[ c.strings[ col ] ] ? -1 : 1 );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnum = ( c.strings[ col ] ) ? ts.string[ c.strings[ col ] ] || 0 : 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// fall back to built-in numeric sort\n\t\t\t\t\t\t\t// var sort = $.tablesorter['sort' + s]( a[col], b[col], dir, colMax[col], table );\n\t\t\t\t\t\t\tsort = c.numberSorter ? c.numberSorter( a[ col ], b[ col ], dir, colMax[ col ], table ) :\n\t\t\t\t\t\t\t\tts[ 'sortNumeric' + ( dir ? 'Asc' : 'Desc' ) ]( a[ col ], b[ col ], num, colMax[ col ], col, c );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// set a & b depending on sort direction\n\t\t\t\t\t\t\tx = dir ? a : b;\n\t\t\t\t\t\t\ty = dir ? b : a;\n\t\t\t\t\t\t\t// text sort function\n\t\t\t\t\t\t\tif ( typeof textSorter === 'function' ) {\n\t\t\t\t\t\t\t\t// custom OVERALL text sorter\n\t\t\t\t\t\t\t\tsort = textSorter( x[ col ], y[ col ], dir, col, table );\n\t\t\t\t\t\t\t} else if ( typeof sorter[ col ] === 'function' ) {\n\t\t\t\t\t\t\t\t// custom text sorter for a SPECIFIC COLUMN\n\t\t\t\t\t\t\t\tsort = sorter[ col ]( x[ col ], y[ col ], dir, col, table );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// fall back to natural sort\n\t\t\t\t\t\t\t\tsort = ts[ 'sortNatural' + ( dir ? 'Asc' : 'Desc' ) ]( a[ col ] || '', b[ col ] || '', col, c );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( sort ) { return sort; }\n\t\t\t\t\t}\n\t\t\t\t\treturn a[ c.columns ].order - b[ c.columns ].order;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'Applying sort ' + sortList.toString() + ts.benchmark( sortTime ) );\n\t\t\t}\n\t\t},\n\n\t\tresortComplete : function( c, callback ) {\n\t\t\tif ( c.table.isUpdating ) {\n\t\t\t\tc.$table.triggerHandler( 'updateComplete', c.table );\n\t\t\t}\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( c.table );\n\t\t\t}\n\t\t},\n\n\t\tcheckResort : function( c, resort, callback ) {\n\t\t\tvar sortList = $.isArray( resort ) ? resort : c.sortList,\n\t\t\t\t// if no resort parameter is passed, fallback to config.resort (true by default)\n\t\t\t\tresrt = typeof resort === 'undefined' ? c.resort : resort;\n\t\t\t// don't try to resort if the table is still processing\n\t\t\t// this will catch spamming of the updateCell method\n\t\t\tif ( resrt !== false && !c.serverSideSorting && !c.table.isProcessing ) {\n\t\t\t\tif ( sortList.length ) {\n\t\t\t\t\tts.sortOn( c, sortList, function() {\n\t\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t\t}, true );\n\t\t\t\t} else {\n\t\t\t\t\tts.sortReset( c, function() {\n\t\t\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\t\t\tts.applyWidget( c.table, false );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tts.resortComplete( c, callback );\n\t\t\t\tts.applyWidget( c.table, false );\n\t\t\t}\n\t\t},\n\n\t\tsortOn : function( c, list, callback, init ) {\n\t\t\tvar indx,\n\t\t\t\ttable = c.table;\n\t\t\tc.$table.triggerHandler( 'sortStart', table );\n\t\t\tfor (indx = 0; indx < c.columns; indx++) {\n\t\t\t\tc.sortVars[ indx ].sortedBy = ts.isValueInArray( indx, list ) > -1 ? 'sorton' : '';\n\t\t\t}\n\t\t\t// update header count index\n\t\t\tts.updateHeaderSortCount( c, list );\n\t\t\t// set css for headers\n\t\t\tts.setHeadersCss( c );\n\t\t\t// fixes #346\n\t\t\tif ( c.delayInit && ts.isEmptyObject( c.cache ) ) {\n\t\t\t\tts.buildCache( c );\n\t\t\t}\n\t\t\tc.$table.triggerHandler( 'sortBegin', table );\n\t\t\t// sort the table and append it to the dom\n\t\t\tts.multisort( c );\n\t\t\tts.appendCache( c, init );\n\t\t\tc.$table.triggerHandler( 'sortBeforeEnd', table );\n\t\t\tc.$table.triggerHandler( 'sortEnd', table );\n\t\t\tts.applyWidget( table );\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\tsortReset : function( c, callback ) {\n\t\t\tc.sortList = [];\n\t\t\tvar indx;\n\t\t\tfor (indx = 0; indx < c.columns; indx++) {\n\t\t\t\tc.sortVars[ indx ].count = -1;\n\t\t\t\tc.sortVars[ indx ].sortedBy = '';\n\t\t\t}\n\t\t\tts.setHeadersCss( c );\n\t\t\tts.multisort( c );\n\t\t\tts.appendCache( c );\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback( c.table );\n\t\t\t}\n\t\t},\n\n\t\tgetSortType : function( parsers, column ) {\n\t\t\treturn ( parsers && parsers[ column ] ) ? parsers[ column ].type || '' : '';\n\t\t},\n\n\t\tgetOrder : function( val ) {\n\t\t\t// look for 'd' in 'desc' order; return true\n\t\t\treturn ( /^d/i.test( val ) || val === 1 );\n\t\t},\n\n\t\t// Natural sort - https://github.com/overset/javascript-natural-sort (date sorting removed)\n\t\tsortNatural : function( a, b ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\ta = ( a || '' ).toString();\n\t\t\tb = ( b || '' ).toString();\n\t\t\tvar aNum, bNum, aFloat, bFloat, indx, max,\n\t\t\t\tregex = ts.regex;\n\t\t\t// first try and sort Hex codes\n\t\t\tif ( regex.hex.test( b ) ) {\n\t\t\t\taNum = parseInt( a.match( regex.hex ), 16 );\n\t\t\t\tbNum = parseInt( b.match( regex.hex ), 16 );\n\t\t\t\tif ( aNum < bNum ) { return -1; }\n\t\t\t\tif ( aNum > bNum ) { return 1; }\n\t\t\t}\n\t\t\t// chunk/tokenize\n\t\t\taNum = a.replace( regex.chunk, '\\\\0$1\\\\0' ).replace( regex.chunks, '' ).split( '\\\\0' );\n\t\t\tbNum = b.replace( regex.chunk, '\\\\0$1\\\\0' ).replace( regex.chunks, '' ).split( '\\\\0' );\n\t\t\tmax = Math.max( aNum.length, bNum.length );\n\t\t\t// natural sorting through split numeric strings and default strings\n\t\t\tfor ( indx = 0; indx < max; indx++ ) {\n\t\t\t\t// find floats not starting with '0', string or 0 if not defined\n\t\t\t\taFloat = isNaN( aNum[ indx ] ) ? aNum[ indx ] || 0 : parseFloat( aNum[ indx ] ) || 0;\n\t\t\t\tbFloat = isNaN( bNum[ indx ] ) ? bNum[ indx ] || 0 : parseFloat( bNum[ indx ] ) || 0;\n\t\t\t\t// handle numeric vs string comparison - number < string - (Kyle Adams)\n\t\t\t\tif ( isNaN( aFloat ) !== isNaN( bFloat ) ) { return isNaN( aFloat ) ? 1 : -1; }\n\t\t\t\t// rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n\t\t\t\tif ( typeof aFloat !== typeof bFloat ) {\n\t\t\t\t\taFloat += '';\n\t\t\t\t\tbFloat += '';\n\t\t\t\t}\n\t\t\t\tif ( aFloat < bFloat ) { return -1; }\n\t\t\t\tif ( aFloat > bFloat ) { return 1; }\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\tsortNaturalAsc : function( a, b, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : -empty || -1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : empty || 1; }\n\t\t\treturn ts.sortNatural( a, b );\n\t\t},\n\n\t\tsortNaturalDesc : function( a, b, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : empty || 1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : -empty || -1; }\n\t\t\treturn ts.sortNatural( b, a );\n\t\t},\n\n\t\t// basic alphabetical sort\n\t\tsortText : function( a, b ) {\n\t\t\treturn a > b ? 1 : ( a < b ? -1 : 0 );\n\t\t},\n\n\t\t// return text string value by adding up ascii value\n\t\t// so the text is somewhat sorted when using a digital sort\n\t\t// this is NOT an alphanumeric sort\n\t\tgetTextValue : function( val, num, max ) {\n\t\t\tif ( max ) {\n\t\t\t\t// make sure the text value is greater than the max numerical value (max)\n\t\t\t\tvar indx,\n\t\t\t\t\tlen = val ? val.length : 0,\n\t\t\t\t\tn = max + num;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tn += val.charCodeAt( indx );\n\t\t\t\t}\n\t\t\t\treturn num * n;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\tsortNumericAsc : function( a, b, num, max, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : -empty || -1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : empty || 1; }\n\t\t\tif ( isNaN( a ) ) { a = ts.getTextValue( a, num, max ); }\n\t\t\tif ( isNaN( b ) ) { b = ts.getTextValue( b, num, max ); }\n\t\t\treturn a - b;\n\t\t},\n\n\t\tsortNumericDesc : function( a, b, num, max, col, c ) {\n\t\t\tif ( a === b ) { return 0; }\n\t\t\tvar empty = ts.string[ ( c.empties[ col ] || c.emptyTo ) ];\n\t\t\tif ( a === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? -1 : 1 ) : empty || 1; }\n\t\t\tif ( b === '' && empty !== 0 ) { return typeof empty === 'boolean' ? ( empty ? 1 : -1 ) : -empty || -1; }\n\t\t\tif ( isNaN( a ) ) { a = ts.getTextValue( a, num, max ); }\n\t\t\tif ( isNaN( b ) ) { b = ts.getTextValue( b, num, max ); }\n\t\t\treturn b - a;\n\t\t},\n\n\t\tsortNumeric : function( a, b ) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\t/*\n\t\t██ ██ ██ ██ █████▄ ▄████▄ ██████ ██████ ▄█████\n\t\t██ ██ ██ ██ ██  ██ ██ ▄▄▄ ██▄▄     ██   ▀█▄\n\t\t██ ██ ██ ██ ██  ██ ██ ▀██ ██▀▀     ██      ▀█▄\n\t\t███████▀ ██ █████▀ ▀████▀ ██████   ██   █████▀\n\t\t*/\n\t\taddWidget : function( widget ) {\n\t\t\tif ( widget.id && !ts.isEmptyObject( ts.getWidgetById( widget.id ) ) ) {\n\t\t\t\tconsole.warn( '\"' + widget.id + '\" widget was loaded more than once!' );\n\t\t\t}\n\t\t\tts.widgets[ ts.widgets.length ] = widget;\n\t\t},\n\n\t\thasWidget : function( $table, name ) {\n\t\t\t$table = $( $table );\n\t\t\treturn $table.length && $table[ 0 ].config && $table[ 0 ].config.widgetInit[ name ] || false;\n\t\t},\n\n\t\tgetWidgetById : function( name ) {\n\t\t\tvar indx, widget,\n\t\t\t\tlen = ts.widgets.length;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\twidget = ts.widgets[ indx ];\n\t\t\t\tif ( widget && widget.id && widget.id.toLowerCase() === name.toLowerCase() ) {\n\t\t\t\t\treturn widget;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidgetOptions : function( table ) {\n\t\t\tvar indx, widget, wo,\n\t\t\t\tc = table.config,\n\t\t\t\tlen = c.widgets.length;\n\t\t\tif ( len ) {\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.getWidgetById( c.widgets[ indx ] );\n\t\t\t\t\tif ( widget && widget.options ) {\n\t\t\t\t\t\two = $.extend( true, {}, widget.options );\n\t\t\t\t\t\tc.widgetOptions = $.extend( true, wo, c.widgetOptions );\n\t\t\t\t\t\t// add widgetOptions to defaults for option validator\n\t\t\t\t\t\t$.extend( true, ts.defaults.widgetOptions, widget.options );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\taddWidgetFromClass : function( table ) {\n\t\t\tvar len, indx,\n\t\t\t\tc = table.config,\n\t\t\t\t// look for widgets to apply from table class\n\t\t\t\t// don't match from 'ui-widget-content'; use \\S instead of \\w to include widgets\n\t\t\t\t// with dashes in the name, e.g. \"widget-test-2\" extracts out \"test-2\"\n\t\t\t\tregex = '^' + c.widgetClass.replace( ts.regex.templateName, '(\\\\S+)+' ) + '$',\n\t\t\t\twidgetClass = new RegExp( regex, 'g' ),\n\t\t\t\t// split up table class (widget id's can include dashes) - stop using match\n\t\t\t\t// otherwise only one widget gets extracted, see #1109\n\t\t\t\twidgets = ( table.className || '' ).split( ts.regex.spaces );\n\t\t\tif ( widgets.length ) {\n\t\t\t\tlen = widgets.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\tif ( widgets[ indx ].match( widgetClass ) ) {\n\t\t\t\t\t\tc.widgets[ c.widgets.length ] = widgets[ indx ].replace( widgetClass, '$1' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidgetId : function( table, id, init ) {\n\t\t\ttable = $(table)[0];\n\t\t\tvar applied, time, name,\n\t\t\t\tc = table.config,\n\t\t\t\two = c.widgetOptions,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\twidget = ts.getWidgetById( id );\n\t\t\tif ( widget ) {\n\t\t\t\tname = widget.id;\n\t\t\t\tapplied = false;\n\t\t\t\t// add widget name to option list so it gets reapplied after sorting, filtering, etc\n\t\t\t\tif ( $.inArray( name, c.widgets ) < 0 ) {\n\t\t\t\t\tc.widgets[ c.widgets.length ] = name;\n\t\t\t\t}\n\t\t\t\tif ( debug ) { time = new Date(); }\n\n\t\t\t\tif ( init || !( c.widgetInit[ name ] ) ) {\n\t\t\t\t\t// set init flag first to prevent calling init more than once (e.g. pager)\n\t\t\t\t\tc.widgetInit[ name ] = true;\n\t\t\t\t\tif ( table.hasInitialized ) {\n\t\t\t\t\t\t// don't reapply widget options on tablesorter init\n\t\t\t\t\t\tts.applyWidgetOptions( table );\n\t\t\t\t\t}\n\t\t\t\t\tif ( typeof widget.init === 'function' ) {\n\t\t\t\t\t\tapplied = true;\n\t\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Initializing ' + name + ' widget' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\twidget.init( table, widget, c, wo );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( !init && typeof widget.format === 'function' ) {\n\t\t\t\t\tapplied = true;\n\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Updating ' + name + ' widget' );\n\t\t\t\t\t}\n\t\t\t\t\twidget.format( table, c, wo, false );\n\t\t\t\t}\n\t\t\t\tif ( debug ) {\n\t\t\t\t\tif ( applied ) {\n\t\t\t\t\t\tconsole.log( 'Completed ' + ( init ? 'initializing ' : 'applying ' ) + name + ' widget' + ts.benchmark( time ) );\n\t\t\t\t\t\tif ( console.groupEnd ) { console.groupEnd(); }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyWidget : function( table, init, callback ) {\n\t\t\ttable = $( table )[ 0 ]; // in case this is called externally\n\t\t\tvar indx, len, names, widget, time,\n\t\t\t\tc = table.config,\n\t\t\t\tdebug = ts.debug(c, 'core'),\n\t\t\t\twidgets = [];\n\t\t\t// prevent numerous consecutive widget applications\n\t\t\tif ( init !== false && table.hasInitialized && ( table.isApplyingWidgets || table.isUpdating ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( debug ) { time = new Date(); }\n\t\t\tts.addWidgetFromClass( table );\n\t\t\t// prevent \"tablesorter-ready\" from firing multiple times in a row\n\t\t\tclearTimeout( c.timerReady );\n\t\t\tif ( c.widgets.length ) {\n\t\t\t\ttable.isApplyingWidgets = true;\n\t\t\t\t// ensure unique widget ids\n\t\t\t\tc.widgets = $.grep( c.widgets, function( val, index ) {\n\t\t\t\t\treturn $.inArray( val, c.widgets ) === index;\n\t\t\t\t});\n\t\t\t\tnames = c.widgets || [];\n\t\t\t\tlen = names.length;\n\t\t\t\t// build widget array & add priority as needed\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.getWidgetById( names[ indx ] );\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\t// set priority to 10 if not defined\n\t\t\t\t\t\tif ( !widget.priority ) { widget.priority = 10; }\n\t\t\t\t\t\twidgets[ indx ] = widget;\n\t\t\t\t\t} else if ( debug ) {\n\t\t\t\t\t\tconsole.warn( '\"' + names[ indx ] + '\" was enabled, but the widget code has not been loaded!' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// sort widgets by priority\n\t\t\t\twidgets.sort( function( a, b ) {\n\t\t\t\t\treturn a.priority < b.priority ? -1 : a.priority === b.priority ? 0 : 1;\n\t\t\t\t});\n\t\t\t\t// add/update selected widgets\n\t\t\t\tlen = widgets.length;\n\t\t\t\tif ( debug ) {\n\t\t\t\t\tconsole[ console.group ? 'group' : 'log' ]( 'Start ' + ( init ? 'initializing' : 'applying' ) + ' widgets' );\n\t\t\t\t}\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = widgets[ indx ];\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\tts.applyWidgetId( table, widget.id, init );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( debug && console.groupEnd ) { console.groupEnd(); }\n\t\t\t}\n\t\t\tc.timerReady = setTimeout( function() {\n\t\t\t\ttable.isApplyingWidgets = false;\n\t\t\t\t$.data( table, 'lastWidgetApplication', new Date() );\n\t\t\t\tc.$table.triggerHandler( 'tablesorter-ready' );\n\t\t\t\t// callback executed on init only\n\t\t\t\tif ( !init && typeof callback === 'function' ) {\n\t\t\t\t\tcallback( table );\n\t\t\t\t}\n\t\t\t\tif ( debug ) {\n\t\t\t\t\twidget = c.widgets.length;\n\t\t\t\t\tconsole.log( 'Completed ' +\n\t\t\t\t\t\t( init === true ? 'initializing ' : 'applying ' ) + widget +\n\t\t\t\t\t\t' widget' + ( widget !== 1 ? 's' : '' ) + ts.benchmark( time ) );\n\t\t\t\t}\n\t\t\t}, 10 );\n\t\t},\n\n\t\tremoveWidget : function( table, name, refreshing ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar index, widget, indx, len,\n\t\t\t\tc = table.config;\n\t\t\t// if name === true, add all widgets from $.tablesorter.widgets\n\t\t\tif ( name === true ) {\n\t\t\t\tname = [];\n\t\t\t\tlen = ts.widgets.length;\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\t\twidget = ts.widgets[ indx ];\n\t\t\t\t\tif ( widget && widget.id ) {\n\t\t\t\t\t\tname[ name.length ] = widget.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// name can be either an array of widgets names,\n\t\t\t\t// or a space/comma separated list of widget names\n\t\t\t\tname = ( $.isArray( name ) ? name.join( ',' ) : name || '' ).toLowerCase().split( /[\\s,]+/ );\n\t\t\t}\n\t\t\tlen = name.length;\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\twidget = ts.getWidgetById( name[ index ] );\n\t\t\t\tindx = $.inArray( name[ index ], c.widgets );\n\t\t\t\t// don't remove the widget from config.widget if refreshing\n\t\t\t\tif ( indx >= 0 && refreshing !== true ) {\n\t\t\t\t\tc.widgets.splice( indx, 1 );\n\t\t\t\t}\n\t\t\t\tif ( widget && widget.remove ) {\n\t\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\t\tconsole.log( ( refreshing ? 'Refreshing' : 'Removing' ) + ' \"' + name[ index ] + '\" widget' );\n\t\t\t\t\t}\n\t\t\t\t\twidget.remove( table, c, c.widgetOptions, refreshing );\n\t\t\t\t\tc.widgetInit[ name[ index ] ] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.$table.triggerHandler( 'widgetRemoveEnd', table );\n\t\t},\n\n\t\trefreshWidgets : function( table, doAll, dontapply ) {\n\t\t\ttable = $( table )[ 0 ]; // see issue #243\n\t\t\tvar indx, widget,\n\t\t\t\tc = table.config,\n\t\t\t\tcurWidgets = c.widgets,\n\t\t\t\twidgets = ts.widgets,\n\t\t\t\tlen = widgets.length,\n\t\t\t\tlist = [],\n\t\t\t\tcallback = function( table ) {\n\t\t\t\t\t$( table ).triggerHandler( 'refreshComplete' );\n\t\t\t\t};\n\t\t\t// remove widgets not defined in config.widgets, unless doAll is true\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\twidget = widgets[ indx ];\n\t\t\t\tif ( widget && widget.id && ( doAll || $.inArray( widget.id, curWidgets ) < 0 ) ) {\n\t\t\t\t\tlist[ list.length ] = widget.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.removeWidget( table, list.join( ',' ), true );\n\t\t\tif ( dontapply !== true ) {\n\t\t\t\t// call widget init if\n\t\t\t\tts.applyWidget( table, doAll || false, callback );\n\t\t\t\tif ( doAll ) {\n\t\t\t\t\t// apply widget format\n\t\t\t\t\tts.applyWidget( table, false, callback );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t██  ██ ██████ ██ ██     ██ ██████ ██ ██████ ▄█████\n\t\t██  ██   ██   ██ ██     ██   ██   ██ ██▄▄   ▀█▄\n\t\t██  ██   ██   ██ ██     ██   ██   ██ ██▀▀      ▀█▄\n\t\t▀████▀   ██   ██ ██████ ██   ██   ██ ██████ █████▀\n\t\t*/\n\t\tbenchmark : function( diff ) {\n\t\t\treturn ( ' (' + ( new Date().getTime() - diff.getTime() ) + ' ms)' );\n\t\t},\n\t\t// deprecated ts.log\n\t\tlog : function() {\n\t\t\tconsole.log( arguments );\n\t\t},\n\t\tdebug : function(c, name) {\n\t\t\treturn c && (\n\t\t\t\tc.debug === true ||\n\t\t\t\ttypeof c.debug === 'string' && c.debug.indexOf(name) > -1\n\t\t\t);\n\t\t},\n\n\t\t// $.isEmptyObject from jQuery v1.4\n\t\tisEmptyObject : function( obj ) {\n\t\t\t/*jshint forin: false */\n\t\t\tfor ( var name in obj ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tisValueInArray : function( column, arry ) {\n\t\t\tvar indx,\n\t\t\t\tlen = arry && arry.length || 0;\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\n\t\t\t\tif ( arry[ indx ][ 0 ] === column ) {\n\t\t\t\t\treturn indx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\tformatFloat : function( str, table ) {\n\t\t\tif ( typeof str !== 'string' || str === '' ) { return str; }\n\t\t\t// allow using formatFloat without a table; defaults to US number format\n\t\t\tvar num,\n\t\t\t\tusFormat = table && table.config ? table.config.usNumberFormat !== false :\n\t\t\t\t\ttypeof table !== 'undefined' ? table : true;\n\t\t\tif ( usFormat ) {\n\t\t\t\t// US Format - 1,234,567.89 -> 1234567.89\n\t\t\t\tstr = str.replace( ts.regex.comma, '' );\n\t\t\t} else {\n\t\t\t\t// German Format = 1.234.567,89 -> 1234567.89\n\t\t\t\t// French Format = 1 234 567,89 -> 1234567.89\n\t\t\t\tstr = str.replace( ts.regex.digitNonUS, '' ).replace( ts.regex.comma, '.' );\n\t\t\t}\n\t\t\tif ( ts.regex.digitNegativeTest.test( str ) ) {\n\t\t\t\t// make (#) into a negative number -> (10) = -10\n\t\t\t\tstr = str.replace( ts.regex.digitNegativeReplace, '-$1' );\n\t\t\t}\n\t\t\tnum = parseFloat( str );\n\t\t\t// return the text instead of zero\n\t\t\treturn isNaN( num ) ? $.trim( str ) : num;\n\t\t},\n\n\t\tisDigit : function( str ) {\n\t\t\t// replace all unwanted chars and match\n\t\t\treturn isNaN( str ) ?\n\t\t\t\tts.regex.digitTest.test( str.toString().replace( ts.regex.digitReplace, '' ) ) :\n\t\t\t\tstr !== '';\n\t\t},\n\n\t\t// computeTableHeaderCellIndexes from:\n\t\t// http://www.javascripttoolbox.com/lib/table/examples.php\n\t\t// http://www.javascripttoolbox.com/temp/table_cellindex.html\n\t\tcomputeColumnIndex : function( $rows, c ) {\n\t\t\tvar i, j, k, l, cell, cells, rowIndex, rowSpan, colSpan, firstAvailCol,\n\t\t\t\t// total columns has been calculated, use it to set the matrixrow\n\t\t\t\tcolumns = c && c.columns || 0,\n\t\t\t\tmatrix = [],\n\t\t\t\tmatrixrow = new Array( columns );\n\t\t\tfor ( i = 0; i < $rows.length; i++ ) {\n\t\t\t\tcells = $rows[ i ].cells;\n\t\t\t\tfor ( j = 0; j < cells.length; j++ ) {\n\t\t\t\t\tcell = cells[ j ];\n\t\t\t\t\trowIndex = i;\n\t\t\t\t\trowSpan = cell.rowSpan || 1;\n\t\t\t\t\tcolSpan = cell.colSpan || 1;\n\t\t\t\t\tif ( typeof matrix[ rowIndex ] === 'undefined' ) {\n\t\t\t\t\t\tmatrix[ rowIndex ] = [];\n\t\t\t\t\t}\n\t\t\t\t\t// Find first available column in the first row\n\t\t\t\t\tfor ( k = 0; k < matrix[ rowIndex ].length + 1; k++ ) {\n\t\t\t\t\t\tif ( typeof matrix[ rowIndex ][ k ] === 'undefined' ) {\n\t\t\t\t\t\t\tfirstAvailCol = k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// jscs:disable disallowEmptyBlocks\n\t\t\t\t\tif ( columns && cell.cellIndex === firstAvailCol ) {\n\t\t\t\t\t\t// don't to anything\n\t\t\t\t\t} else if ( cell.setAttribute ) {\n\t\t\t\t\t\t// jscs:enable disallowEmptyBlocks\n\t\t\t\t\t\t// add data-column (setAttribute = IE8+)\n\t\t\t\t\t\tcell.setAttribute( 'data-column', firstAvailCol );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// remove once we drop support for IE7 - 1/12/2016\n\t\t\t\t\t\t$( cell ).attr( 'data-column', firstAvailCol );\n\t\t\t\t\t}\n\t\t\t\t\tfor ( k = rowIndex; k < rowIndex + rowSpan; k++ ) {\n\t\t\t\t\t\tif ( typeof matrix[ k ] === 'undefined' ) {\n\t\t\t\t\t\t\tmatrix[ k ] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatrixrow = matrix[ k ];\n\t\t\t\t\t\tfor ( l = firstAvailCol; l < firstAvailCol + colSpan; l++ ) {\n\t\t\t\t\t\t\tmatrixrow[ l ] = 'x';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.checkColumnCount($rows, matrix, matrixrow.length);\n\t\t\treturn matrixrow.length;\n\t\t},\n\n\t\tcheckColumnCount : function($rows, matrix, columns) {\n\t\t\t// this DOES NOT report any tbody column issues, except for the math and\n\t\t\t// and column selector widgets\n\t\t\tvar i, len,\n\t\t\t\tvalid = true,\n\t\t\t\tcells = [];\n\t\t\tfor ( i = 0; i < matrix.length; i++ ) {\n\t\t\t\t// some matrix entries are undefined when testing the footer because\n\t\t\t\t// it is using the rowIndex property\n\t\t\t\tif ( matrix[i] ) {\n\t\t\t\t\tlen = matrix[i].length;\n\t\t\t\t\tif ( matrix[i].length !== columns ) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !valid ) {\n\t\t\t\t$rows.each( function( indx, el ) {\n\t\t\t\t\tvar cell = el.parentElement.nodeName;\n\t\t\t\t\tif ( cells.indexOf( cell ) < 0 ) {\n\t\t\t\t\t\tcells.push( cell );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Invalid or incorrect number of columns in the ' +\n\t\t\t\t\tcells.join( ' or ' ) + '; expected ' + columns +\n\t\t\t\t\t', but found ' + len + ' columns'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t// automatically add a colgroup with col elements set to a percentage width\n\t\tfixColumnWidth : function( table ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar overallWidth, percent, $tbodies, len, index,\n\t\t\t\tc = table.config,\n\t\t\t\t$colgroup = c.$table.children( 'colgroup' );\n\t\t\t// remove plugin-added colgroup, in case we need to refresh the widths\n\t\t\tif ( $colgroup.length && $colgroup.hasClass( ts.css.colgroup ) ) {\n\t\t\t\t$colgroup.remove();\n\t\t\t}\n\t\t\tif ( c.widthFixed && c.$table.children( 'colgroup' ).length === 0 ) {\n\t\t\t\t$colgroup = $( '<colgroup class=\"' + ts.css.colgroup + '\">' );\n\t\t\t\toverallWidth = c.$table.width();\n\t\t\t\t// only add col for visible columns - fixes #371\n\t\t\t\t$tbodies = c.$tbodies.find( 'tr:first' ).children( ':visible' );\n\t\t\t\tlen = $tbodies.length;\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\tpercent = parseInt( ( $tbodies.eq( index ).width() / overallWidth ) * 1000, 10 ) / 10 + '%';\n\t\t\t\t\t$colgroup.append( $( '<col>' ).css( 'width', percent ) );\n\t\t\t\t}\n\t\t\t\tc.$table.prepend( $colgroup );\n\t\t\t}\n\t\t},\n\n\t\t// get sorter, string, empty, etc options for each column from\n\t\t// jQuery data, metadata, header option or header class name ('sorter-false')\n\t\t// priority = jQuery data > meta > headers option > header class name\n\t\tgetData : function( header, configHeader, key ) {\n\t\t\tvar meta, cl4ss,\n\t\t\t\tval = '',\n\t\t\t\t$header = $( header );\n\t\t\tif ( !$header.length ) { return ''; }\n\t\t\tmeta = $.metadata ? $header.metadata() : false;\n\t\t\tcl4ss = ' ' + ( $header.attr( 'class' ) || '' );\n\t\t\tif ( typeof $header.data( key ) !== 'undefined' ||\n\t\t\t\ttypeof $header.data( key.toLowerCase() ) !== 'undefined' ) {\n\t\t\t\t// 'data-lockedOrder' is assigned to 'lockedorder'; but 'data-locked-order' is assigned to 'lockedOrder'\n\t\t\t\t// 'data-sort-initial-order' is assigned to 'sortInitialOrder'\n\t\t\t\tval += $header.data( key ) || $header.data( key.toLowerCase() );\n\t\t\t} else if ( meta && typeof meta[ key ] !== 'undefined' ) {\n\t\t\t\tval += meta[ key ];\n\t\t\t} else if ( configHeader && typeof configHeader[ key ] !== 'undefined' ) {\n\t\t\t\tval += configHeader[ key ];\n\t\t\t} else if ( cl4ss !== ' ' && cl4ss.match( ' ' + key + '-' ) ) {\n\t\t\t\t// include sorter class name 'sorter-text', etc; now works with 'sorter-my-custom-parser'\n\t\t\t\tval = cl4ss.match( new RegExp( '\\\\s' + key + '-([\\\\w-]+)' ) )[ 1 ] || '';\n\t\t\t}\n\t\t\treturn $.trim( val );\n\t\t},\n\n\t\tgetColumnData : function( table, obj, indx, getCell, $headers ) {\n\t\t\tif ( typeof obj !== 'object' || obj === null ) {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tvar $header, key,\n\t\t\t\tc = table.config,\n\t\t\t\t$cells = ( $headers || c.$headers ),\n\t\t\t\t// c.$headerIndexed is not defined initially\n\t\t\t\t$cell = c.$headerIndexed && c.$headerIndexed[ indx ] ||\n\t\t\t\t\t$cells.find( '[data-column=\"' + indx + '\"]:last' );\n\t\t\tif ( typeof obj[ indx ] !== 'undefined' ) {\n\t\t\t\treturn getCell ? obj[ indx ] : obj[ $cells.index( $cell ) ];\n\t\t\t}\n\t\t\tfor ( key in obj ) {\n\t\t\t\tif ( typeof key === 'string' ) {\n\t\t\t\t\t$header = $cell\n\t\t\t\t\t\t// header cell with class/id\n\t\t\t\t\t\t.filter( key )\n\t\t\t\t\t\t// find elements within the header cell with cell/id\n\t\t\t\t\t\t.add( $cell.find( key ) );\n\t\t\t\t\tif ( $header.length ) {\n\t\t\t\t\t\treturn obj[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\n\t\t// *** Process table ***\n\t\t// add processing indicator\n\t\tisProcessing : function( $table, toggle, $headers ) {\n\t\t\t$table = $( $table );\n\t\t\tvar c = $table[ 0 ].config,\n\t\t\t\t// default to all headers\n\t\t\t\t$header = $headers || $table.find( '.' + ts.css.header );\n\t\t\tif ( toggle ) {\n\t\t\t\t// don't use sortList if custom $headers used\n\t\t\t\tif ( typeof $headers !== 'undefined' && c.sortList.length > 0 ) {\n\t\t\t\t\t// get headers from the sortList\n\t\t\t\t\t$header = $header.filter( function() {\n\t\t\t\t\t\t// get data-column from attr to keep compatibility with jQuery 1.2.6\n\t\t\t\t\t\treturn this.sortDisabled ?\n\t\t\t\t\t\t\tfalse :\n\t\t\t\t\t\t\tts.isValueInArray( parseFloat( $( this ).attr( 'data-column' ) ), c.sortList ) >= 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$table.add( $header ).addClass( ts.css.processing + ' ' + c.cssProcessing );\n\t\t\t} else {\n\t\t\t\t$table.add( $header ).removeClass( ts.css.processing + ' ' + c.cssProcessing );\n\t\t\t}\n\t\t},\n\n\t\t// detach tbody but save the position\n\t\t// don't use tbody because there are portions that look for a tbody index (updateCell)\n\t\tprocessTbody : function( table, $tb, getIt ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tif ( getIt ) {\n\t\t\t\ttable.isProcessing = true;\n\t\t\t\t$tb.before( '<colgroup class=\"tablesorter-savemyplace\"/>' );\n\t\t\t\treturn $.fn.detach ? $tb.detach() : $tb.remove();\n\t\t\t}\n\t\t\tvar holdr = $( table ).find( 'colgroup.tablesorter-savemyplace' );\n\t\t\t$tb.insertAfter( holdr );\n\t\t\tholdr.remove();\n\t\t\ttable.isProcessing = false;\n\t\t},\n\n\t\tclearTableBody : function( table ) {\n\t\t\t$( table )[ 0 ].config.$tbodies.children().detach();\n\t\t},\n\n\t\t// used when replacing accented characters during sorting\n\t\tcharacterEquivalents : {\n\t\t\t'a' : '\\u00e1\\u00e0\\u00e2\\u00e3\\u00e4\\u0105\\u00e5', // áàâãäąå\n\t\t\t'A' : '\\u00c1\\u00c0\\u00c2\\u00c3\\u00c4\\u0104\\u00c5', // ÁÀÂÃÄĄÅ\n\t\t\t'c' : '\\u00e7\\u0107\\u010d', // çćč\n\t\t\t'C' : '\\u00c7\\u0106\\u010c', // ÇĆČ\n\t\t\t'e' : '\\u00e9\\u00e8\\u00ea\\u00eb\\u011b\\u0119', // éèêëěę\n\t\t\t'E' : '\\u00c9\\u00c8\\u00ca\\u00cb\\u011a\\u0118', // ÉÈÊËĚĘ\n\t\t\t'i' : '\\u00ed\\u00ec\\u0130\\u00ee\\u00ef\\u0131', // íìİîïı\n\t\t\t'I' : '\\u00cd\\u00cc\\u0130\\u00ce\\u00cf', // ÍÌİÎÏ\n\t\t\t'o' : '\\u00f3\\u00f2\\u00f4\\u00f5\\u00f6\\u014d', // óòôõöō\n\t\t\t'O' : '\\u00d3\\u00d2\\u00d4\\u00d5\\u00d6\\u014c', // ÓÒÔÕÖŌ\n\t\t\t'ss': '\\u00df', // ß (s sharp)\n\t\t\t'SS': '\\u1e9e', // ẞ (Capital sharp s)\n\t\t\t'u' : '\\u00fa\\u00f9\\u00fb\\u00fc\\u016f', // úùûüů\n\t\t\t'U' : '\\u00da\\u00d9\\u00db\\u00dc\\u016e' // ÚÙÛÜŮ\n\t\t},\n\n\t\treplaceAccents : function( str ) {\n\t\t\tvar chr,\n\t\t\t\tacc = '[',\n\t\t\t\teq = ts.characterEquivalents;\n\t\t\tif ( !ts.characterRegex ) {\n\t\t\t\tts.characterRegexArray = {};\n\t\t\t\tfor ( chr in eq ) {\n\t\t\t\t\tif ( typeof chr === 'string' ) {\n\t\t\t\t\t\tacc += eq[ chr ];\n\t\t\t\t\t\tts.characterRegexArray[ chr ] = new RegExp( '[' + eq[ chr ] + ']', 'g' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tts.characterRegex = new RegExp( acc + ']' );\n\t\t\t}\n\t\t\tif ( ts.characterRegex.test( str ) ) {\n\t\t\t\tfor ( chr in eq ) {\n\t\t\t\t\tif ( typeof chr === 'string' ) {\n\t\t\t\t\t\tstr = str.replace( ts.characterRegexArray[ chr ], chr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\n\t\tvalidateOptions : function( c ) {\n\t\t\tvar setting, setting2, typ, timer,\n\t\t\t\t// ignore options containing an array\n\t\t\t\tignore = 'headers sortForce sortList sortAppend widgets'.split( ' ' ),\n\t\t\t\torig = c.originalSettings;\n\t\t\tif ( orig ) {\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\ttimer = new Date();\n\t\t\t\t}\n\t\t\t\tfor ( setting in orig ) {\n\t\t\t\t\ttyp = typeof ts.defaults[setting];\n\t\t\t\t\tif ( typ === 'undefined' ) {\n\t\t\t\t\t\tconsole.warn( 'Tablesorter Warning! \"table.config.' + setting + '\" option not recognized' );\n\t\t\t\t\t} else if ( typ === 'object' ) {\n\t\t\t\t\t\tfor ( setting2 in orig[setting] ) {\n\t\t\t\t\t\t\ttyp = ts.defaults[setting] && typeof ts.defaults[setting][setting2];\n\t\t\t\t\t\t\tif ( $.inArray( setting, ignore ) < 0 && typ === 'undefined' ) {\n\t\t\t\t\t\t\t\tconsole.warn( 'Tablesorter Warning! \"table.config.' + setting + '.' + setting2 + '\" option not recognized' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\t\tconsole.log( 'validate options time:' + ts.benchmark( timer ) );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// restore headers\n\t\trestoreHeaders : function( table ) {\n\t\t\tvar index, $cell,\n\t\t\t\tc = $( table )[ 0 ].config,\n\t\t\t\t$headers = c.$table.find( c.selectorHeaders ),\n\t\t\t\tlen = $headers.length;\n\t\t\t// don't use c.$headers here in case header cells were swapped\n\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t$cell = $headers.eq( index );\n\t\t\t\t// only restore header cells if it is wrapped\n\t\t\t\t// because this is also used by the updateAll method\n\t\t\t\tif ( $cell.find( '.' + ts.css.headerIn ).length ) {\n\t\t\t\t\t$cell.html( c.headerContent[ index ] );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdestroy : function( table, removeClasses, callback ) {\n\t\t\ttable = $( table )[ 0 ];\n\t\t\tif ( !table.hasInitialized ) { return; }\n\t\t\t// remove all widgets\n\t\t\tts.removeWidget( table, true, false );\n\t\t\tvar events,\n\t\t\t\t$t = $( table ),\n\t\t\t\tc = table.config,\n\t\t\t\t$h = $t.find( 'thead:first' ),\n\t\t\t\t$r = $h.find( 'tr.' + ts.css.headerRow ).removeClass( ts.css.headerRow + ' ' + c.cssHeaderRow ),\n\t\t\t\t$f = $t.find( 'tfoot:first > tr' ).children( 'th, td' );\n\t\t\tif ( removeClasses === false && $.inArray( 'uitheme', c.widgets ) >= 0 ) {\n\t\t\t\t// reapply uitheme classes, in case we want to maintain appearance\n\t\t\t\t$t.triggerHandler( 'applyWidgetId', [ 'uitheme' ] );\n\t\t\t\t$t.triggerHandler( 'applyWidgetId', [ 'zebra' ] );\n\t\t\t}\n\t\t\t// remove widget added rows, just in case\n\t\t\t$h.find( 'tr' ).not( $r ).remove();\n\t\t\t// disable tablesorter - not using .unbind( namespace ) because namespacing was\n\t\t\t// added in jQuery v1.4.3 - see http://api.jquery.com/event.namespace/\n\t\t\tevents = 'sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton ' +\n\t\t\t\t'appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave ' +\n\t\t\t\t'keypress sortBegin sortEnd resetToLoadState '.split( ' ' )\n\t\t\t\t.join( c.namespace + ' ' );\n\t\t\t$t\n\t\t\t\t.removeData( 'tablesorter' )\n\t\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) );\n\t\t\tc.$headers\n\t\t\t\t.add( $f )\n\t\t\t\t.removeClass( [ ts.css.header, c.cssHeader, c.cssAsc, c.cssDesc, ts.css.sortAsc, ts.css.sortDesc, ts.css.sortNone ].join( ' ' ) )\n\t\t\t\t.removeAttr( 'data-column' )\n\t\t\t\t.removeAttr( 'aria-label' )\n\t\t\t\t.attr( 'aria-disabled', 'true' );\n\t\t\t$r\n\t\t\t\t.find( c.selectorSort )\n\t\t\t\t.unbind( ( 'mousedown mouseup keypress '.split( ' ' ).join( c.namespace + ' ' ) ).replace( ts.regex.spaces, ' ' ) );\n\t\t\tts.restoreHeaders( table );\n\t\t\t$t.toggleClass( ts.css.table + ' ' + c.tableClass + ' tablesorter-' + c.theme, removeClasses === false );\n\t\t\t$t.removeClass(c.namespace.slice(1));\n\t\t\t// clear flag in case the plugin is initialized again\n\t\t\ttable.hasInitialized = false;\n\t\t\tdelete table.config.cache;\n\t\t\tif ( typeof callback === 'function' ) {\n\t\t\t\tcallback( table );\n\t\t\t}\n\t\t\tif ( ts.debug(c, 'core') ) {\n\t\t\t\tconsole.log( 'tablesorter has been removed' );\n\t\t\t}\n\t\t}\n\n\t};\n\n\t$.fn.tablesorter = function( settings ) {\n\t\treturn this.each( function() {\n\t\t\tvar table = this,\n\t\t\t// merge & extend config options\n\t\t\tc = $.extend( true, {}, ts.defaults, settings, ts.instanceMethods );\n\t\t\t// save initial settings\n\t\t\tc.originalSettings = settings;\n\t\t\t// create a table from data (build table widget)\n\t\t\tif ( !table.hasInitialized && ts.buildTable && this.nodeName !== 'TABLE' ) {\n\t\t\t\t// return the table (in case the original target is the table's container)\n\t\t\t\tts.buildTable( table, c );\n\t\t\t} else {\n\t\t\t\tts.setup( table, c );\n\t\t\t}\n\t\t});\n\t};\n\n\t// set up debug logs\n\tif ( !( window.console && window.console.log ) ) {\n\t\t// access $.tablesorter.logs for browsers that don't have a console...\n\t\tts.logs = [];\n\t\t/*jshint -W020 */\n\t\tconsole = {};\n\t\tconsole.log = console.warn = console.error = console.table = function() {\n\t\t\tvar arg = arguments.length > 1 ? arguments : arguments[0];\n\t\t\tts.logs[ ts.logs.length ] = { date: Date.now(), log: arg };\n\t\t};\n\t}\n\n\t// add default parsers\n\tts.addParser({\n\t\tid : 'no-parser',\n\t\tis : function() {\n\t\t\treturn false;\n\t\t},\n\t\tformat : function() {\n\t\t\treturn '';\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.addParser({\n\t\tid : 'text',\n\t\tis : function() {\n\t\t\treturn true;\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar c = table.config;\n\t\t\tif ( str ) {\n\t\t\t\tstr = $.trim( c.ignoreCase ? str.toLocaleLowerCase() : str );\n\t\t\t\tstr = c.sortLocaleCompare ? ts.replaceAccents( str ) : str;\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.regex.nondigit = /[^\\w,. \\-()]/g;\n\tts.addParser({\n\t\tid : 'digit',\n\t\tis : function( str ) {\n\t\t\treturn ts.isDigit( str );\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar num = ts.formatFloat( ( str || '' ).replace( ts.regex.nondigit, '' ), table );\n\t\t\treturn str && typeof num === 'number' ? num :\n\t\t\t\tstr ? $.trim( str && table.config.ignoreCase ? str.toLocaleLowerCase() : str ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.regex.currencyReplace = /[+\\-,. ]/g;\n\tts.regex.currencyTest = /^\\(?\\d+[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]|[\\u00a3$\\u20ac\\u00a4\\u00a5\\u00a2?.]\\d+\\)?$/;\n\tts.addParser({\n\t\tid : 'currency',\n\t\tis : function( str ) {\n\t\t\tstr = ( str || '' ).replace( ts.regex.currencyReplace, '' );\n\t\t\t// test for £$€¤¥¢\n\t\t\treturn ts.regex.currencyTest.test( str );\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\tvar num = ts.formatFloat( ( str || '' ).replace( ts.regex.nondigit, '' ), table );\n\t\t\treturn str && typeof num === 'number' ? num :\n\t\t\t\tstr ? $.trim( str && table.config.ignoreCase ? str.toLocaleLowerCase() : str ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// too many protocols to add them all https://en.wikipedia.org/wiki/URI_scheme\n\t// now, this regex can be updated before initialization\n\tts.regex.urlProtocolTest = /^(https?|ftp|file):\\/\\//;\n\tts.regex.urlProtocolReplace = /(https?|ftp|file):\\/\\/(www\\.)?/;\n\tts.addParser({\n\t\tid : 'url',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.urlProtocolTest.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\treturn str ? $.trim( str.replace( ts.regex.urlProtocolReplace, '' ) ) : str;\n\t\t},\n\t\ttype : 'text'\n\t});\n\n\tts.regex.dash = /-/g;\n\tts.regex.isoDate = /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}/;\n\tts.addParser({\n\t\tid : 'isoDate',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.isoDate.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\tvar date = str ? new Date( str.replace( ts.regex.dash, '/' ) ) : str;\n\t\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.regex.percent = /%/g;\n\tts.regex.percentTest = /(\\d\\s*?%|%\\s*?\\d)/;\n\tts.addParser({\n\t\tid : 'percent',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.percentTest.test( str ) && str.length < 15;\n\t\t},\n\t\tformat : function( str, table ) {\n\t\t\treturn str ? ts.formatFloat( str.replace( ts.regex.percent, '' ), table ) : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// added image parser to core v2.17.9\n\tts.addParser({\n\t\tid : 'image',\n\t\tis : function( str, table, node, $node ) {\n\t\t\treturn $node.find( 'img' ).length > 0;\n\t\t},\n\t\tformat : function( str, table, cell ) {\n\t\t\treturn $( cell ).find( 'img' ).attr( table.config.imgAttr || 'alt' ) || str;\n\t\t},\n\t\tparsed : true, // filter widget flag\n\t\ttype : 'text'\n\t});\n\n\tts.regex.dateReplace = /(\\S)([AP]M)$/i; // used by usLongDate & time parser\n\tts.regex.usLongDateTest1 = /^[A-Z]{3,10}\\.?\\s+\\d{1,2},?\\s+(\\d{4})(\\s+\\d{1,2}:\\d{2}(:\\d{2})?(\\s+[AP]M)?)?$/i;\n\tts.regex.usLongDateTest2 = /^\\d{1,2}\\s+[A-Z]{3,10}\\s+\\d{4}/i;\n\tts.addParser({\n\t\tid : 'usLongDate',\n\t\tis : function( str ) {\n\t\t\t// two digit years are not allowed cross-browser\n\t\t\t// Jan 01, 2013 12:34:56 PM or 01 Jan 2013\n\t\t\treturn ts.regex.usLongDateTest1.test( str ) || ts.regex.usLongDateTest2.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\tvar date = str ? new Date( str.replace( ts.regex.dateReplace, '$1 $2' ) ) : str;\n\t\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// testing for ##-##-#### or ####-##-##, so it's not perfect; time can be included\n\tts.regex.shortDateTest = /(^\\d{1,2}[\\/\\s]\\d{1,2}[\\/\\s]\\d{4})|(^\\d{4}[\\/\\s]\\d{1,2}[\\/\\s]\\d{1,2})/;\n\t// escaped \"-\" because JSHint in Firefox was showing it as an error\n\tts.regex.shortDateReplace = /[\\-.,]/g;\n\t// XXY covers MDY & DMY formats\n\tts.regex.shortDateXXY = /(\\d{1,2})[\\/\\s](\\d{1,2})[\\/\\s](\\d{4})/;\n\tts.regex.shortDateYMD = /(\\d{4})[\\/\\s](\\d{1,2})[\\/\\s](\\d{1,2})/;\n\tts.convertFormat = function( dateString, format ) {\n\t\tdateString = ( dateString || '' )\n\t\t\t.replace( ts.regex.spaces, ' ' )\n\t\t\t.replace( ts.regex.shortDateReplace, '/' );\n\t\tif ( format === 'mmddyyyy' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateXXY, '$3/$1/$2' );\n\t\t} else if ( format === 'ddmmyyyy' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateXXY, '$3/$2/$1' );\n\t\t} else if ( format === 'yyyymmdd' ) {\n\t\t\tdateString = dateString.replace( ts.regex.shortDateYMD, '$1/$2/$3' );\n\t\t}\n\t\tvar date = new Date( dateString );\n\t\treturn date instanceof Date && isFinite( date ) ? date.getTime() : '';\n\t};\n\n\tts.addParser({\n\t\tid : 'shortDate', // 'mmddyyyy', 'ddmmyyyy' or 'yyyymmdd'\n\t\tis : function( str ) {\n\t\t\tstr = ( str || '' ).replace( ts.regex.spaces, ' ' ).replace( ts.regex.shortDateReplace, '/' );\n\t\t\treturn ts.regex.shortDateTest.test( str );\n\t\t},\n\t\tformat : function( str, table, cell, cellIndex ) {\n\t\t\tif ( str ) {\n\t\t\t\tvar c = table.config,\n\t\t\t\t\t$header = c.$headerIndexed[ cellIndex ],\n\t\t\t\t\tformat = $header.length && $header.data( 'dateFormat' ) ||\n\t\t\t\t\t\tts.getData( $header, ts.getColumnData( table, c.headers, cellIndex ), 'dateFormat' ) ||\n\t\t\t\t\t\tc.dateFormat;\n\t\t\t\t// save format because getData can be slow...\n\t\t\t\tif ( $header.length ) {\n\t\t\t\t\t$header.data( 'dateFormat', format );\n\t\t\t\t}\n\t\t\t\treturn ts.convertFormat( str, format ) || str;\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t// match 24 hour time & 12 hours time + am/pm - see http://regexr.com/3c3tk\n\tts.regex.timeTest = /^(0?[1-9]|1[0-2]):([0-5]\\d)(\\s[AP]M)$|^((?:[01]\\d|[2][0-4]):[0-5]\\d)$/i;\n\tts.regex.timeMatch = /(0?[1-9]|1[0-2]):([0-5]\\d)(\\s[AP]M)|((?:[01]\\d|[2][0-4]):[0-5]\\d)/i;\n\tts.addParser({\n\t\tid : 'time',\n\t\tis : function( str ) {\n\t\t\treturn ts.regex.timeTest.test( str );\n\t\t},\n\t\tformat : function( str ) {\n\t\t\t// isolate time... ignore month, day and year\n\t\t\tvar temp,\n\t\t\t\ttimePart = ( str || '' ).match( ts.regex.timeMatch ),\n\t\t\t\torig = new Date( str ),\n\t\t\t\t// no time component? default to 00:00 by leaving it out, but only if str is defined\n\t\t\t\ttime = str && ( timePart !== null ? timePart[ 0 ] : '00:00 AM' ),\n\t\t\t\tdate = time ? new Date( '2000/01/01 ' + time.replace( ts.regex.dateReplace, '$1 $2' ) ) : time;\n\t\t\tif ( date instanceof Date && isFinite( date ) ) {\n\t\t\t\ttemp = orig instanceof Date && isFinite( orig ) ? orig.getTime() : 0;\n\t\t\t\t// if original string was a valid date, add it to the decimal so the column sorts in some kind of order\n\t\t\t\t// luckily new Date() ignores the decimals\n\t\t\t\treturn temp ? parseFloat( date.getTime() + '.' + orig.getTime() ) : date.getTime();\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\tts.addParser({\n\t\tid : 'metadata',\n\t\tis : function() {\n\t\t\treturn false;\n\t\t},\n\t\tformat : function( str, table, cell ) {\n\t\t\tvar c = table.config,\n\t\t\tp = ( !c.parserMetadataName ) ? 'sortValue' : c.parserMetadataName;\n\t\t\treturn $( cell ).metadata()[ p ];\n\t\t},\n\t\ttype : 'numeric'\n\t});\n\n\t/*\n\t\t██████ ██████ █████▄ █████▄ ▄████▄\n\t\t  ▄█▀  ██▄▄   ██▄▄██ ██▄▄██ ██▄▄██\n\t\t▄█▀    ██▀▀   ██▀▀██ ██▀▀█  ██▀▀██\n\t\t██████ ██████ █████▀ ██  ██ ██  ██\n\t\t*/\n\t// add default widgets\n\tts.addWidget({\n\t\tid : 'zebra',\n\t\tpriority : 90,\n\t\tformat : function( table, c, wo ) {\n\t\t\tvar $visibleRows, $row, count, isEven, tbodyIndex, rowIndex, len,\n\t\t\t\tchild = new RegExp( c.cssChildRow, 'i' ),\n\t\t\t\t$tbodies = c.$tbodies.add( $( c.namespace + '_extra_table' ).children( 'tbody:not(.' + c.cssInfoBlock + ')' ) );\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t// loop through the visible rows\n\t\t\t\tcount = 0;\n\t\t\t\t$visibleRows = $tbodies.eq( tbodyIndex ).children( 'tr:visible' ).not( c.selectorRemove );\n\t\t\t\tlen = $visibleRows.length;\n\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\n\t\t\t\t\t$row = $visibleRows.eq( rowIndex );\n\t\t\t\t\t// style child rows the same way the parent row was styled\n\t\t\t\t\tif ( !child.test( $row[ 0 ].className ) ) { count++; }\n\t\t\t\t\tisEven = ( count % 2 === 0 );\n\t\t\t\t\t$row\n\t\t\t\t\t\t.removeClass( wo.zebra[ isEven ? 1 : 0 ] )\n\t\t\t\t\t\t.addClass( wo.zebra[ isEven ? 0 : 1 ] );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove : function( table, c, wo, refreshing ) {\n\t\t\tif ( refreshing ) { return; }\n\t\t\tvar tbodyIndex, $tbody,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\ttoRemove = ( wo.zebra || [ 'even', 'odd' ] ).join( ' ' );\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody( table, $tbodies.eq( tbodyIndex ), true ); // remove tbody\n\t\t\t\t$tbody.children().removeClass( toRemove );\n\t\t\t\tts.processTbody( table, $tbody, false ); // restore tbody\n\t\t\t}\n\t\t}\n\t});\n\n})( jQuery );\n\r\n/*! Widget: storage - updated 2018-03-18 (v2.30.0) */\n/*global JSON:false */\n;(function ($, window, document) {\n\t'use strict';\n\n\tvar ts = $.tablesorter || {};\n\n\t// update defaults for validator; these values must be falsy!\n\t$.extend(true, ts.defaults, {\n\t\tfixedUrl: '',\n\t\twidgetOptions: {\n\t\t\tstorage_fixedUrl: '',\n\t\t\tstorage_group: '',\n\t\t\tstorage_page: '',\n\t\t\tstorage_storageType: '',\n\t\t\tstorage_tableId: '',\n\t\t\tstorage_useSessionStorage: ''\n\t\t}\n\t});\n\n\t// *** Store data in local storage, with a cookie fallback ***\n\t/* IE7 needs JSON library for JSON.stringify - (http://caniuse.com/#search=json)\n\t   if you need it, then include https://github.com/douglascrockford/JSON-js\n\n\t   $.parseJSON is not available is jQuery versions older than 1.4.1, using older\n\t   versions will only allow storing information for one page at a time\n\n\t   // *** Save data (JSON format only) ***\n\t   // val must be valid JSON... use http://jsonlint.com/ to ensure it is valid\n\t   var val = { \"mywidget\" : \"data1\" }; // valid JSON uses double quotes\n\t   // $.tablesorter.storage(table, key, val);\n\t   $.tablesorter.storage(table, 'tablesorter-mywidget', val);\n\n\t   // *** Get data: $.tablesorter.storage(table, key); ***\n\t   v = $.tablesorter.storage(table, 'tablesorter-mywidget');\n\t   // val may be empty, so also check for your data\n\t   val = (v && v.hasOwnProperty('mywidget')) ? v.mywidget : '';\n\t   alert(val); // 'data1' if saved, or '' if not\n\t*/\n\tts.storage = function(table, key, value, options) {\n\t\ttable = $(table)[0];\n\t\tvar cookieIndex, cookies, date,\n\t\t\thasStorage = false,\n\t\t\tvalues = {},\n\t\t\tc = table.config,\n\t\t\two = c && c.widgetOptions,\n\t\t\tdebug = ts.debug(c, 'storage'),\n\t\t\tstorageType = (\n\t\t\t\t( options && options.storageType ) || ( wo && wo.storage_storageType )\n\t\t\t).toString().charAt(0).toLowerCase(),\n\t\t\t// deprecating \"useSessionStorage\"; any storageType setting overrides it\n\t\t\tsession = storageType ? '' :\n\t\t\t\t( options && options.useSessionStorage ) || ( wo && wo.storage_useSessionStorage ),\n\t\t\t$table = $(table),\n\t\t\t// id from (1) options ID, (2) table 'data-table-group' attribute, (3) widgetOptions.storage_tableId,\n\t\t\t// (4) table ID, then (5) table index\n\t\t\tid = options && options.id ||\n\t\t\t\t$table.attr( options && options.group || wo && wo.storage_group || 'data-table-group') ||\n\t\t\t\two && wo.storage_tableId || table.id || $('.tablesorter').index( $table ),\n\t\t\t// url from (1) options url, (2) table 'data-table-page' attribute, (3) widgetOptions.storage_fixedUrl,\n\t\t\t// (4) table.config.fixedUrl (deprecated), then (5) window location path\n\t\t\turl = options && options.url ||\n\t\t\t\t$table.attr(options && options.page || wo && wo.storage_page || 'data-table-page') ||\n\t\t\t\two && wo.storage_fixedUrl || c && c.fixedUrl || window.location.pathname;\n\n\t\t// skip if using cookies\n\t\tif (storageType !== 'c') {\n\t\t\tstorageType = (storageType === 's' || session) ? 'sessionStorage' : 'localStorage';\n\t\t\t// https://gist.github.com/paulirish/5558557\n\t\t\tif (storageType in window) {\n\t\t\t\ttry {\n\t\t\t\t\twindow[storageType].setItem('_tmptest', 'temp');\n\t\t\t\t\thasStorage = true;\n\t\t\t\t\twindow[storageType].removeItem('_tmptest');\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn( storageType + ' is not supported in this browser' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (debug) {\n\t\t\tconsole.log('Storage >> Using', hasStorage ? storageType : 'cookies');\n\t\t}\n\t\t// *** get value ***\n\t\tif ($.parseJSON) {\n\t\t\tif (hasStorage) {\n\t\t\t\tvalues = $.parseJSON( window[storageType][key] || 'null' ) || {};\n\t\t\t} else {\n\t\t\t\t// old browser, using cookies\n\t\t\t\tcookies = document.cookie.split(/[;\\s|=]/);\n\t\t\t\t// add one to get from the key to the value\n\t\t\t\tcookieIndex = $.inArray(key, cookies) + 1;\n\t\t\t\tvalues = (cookieIndex !== 0) ? $.parseJSON(cookies[cookieIndex] || 'null') || {} : {};\n\t\t\t}\n\t\t}\n\t\t// allow value to be an empty string too\n\t\tif (typeof value !== 'undefined' && window.JSON && JSON.hasOwnProperty('stringify')) {\n\t\t\t// add unique identifiers = url pathname > table ID/index on page > data\n\t\t\tif (!values[url]) {\n\t\t\t\tvalues[url] = {};\n\t\t\t}\n\t\t\tvalues[url][id] = value;\n\t\t\t// *** set value ***\n\t\t\tif (hasStorage) {\n\t\t\t\twindow[storageType][key] = JSON.stringify(values);\n\t\t\t} else {\n\t\t\t\tdate = new Date();\n\t\t\t\tdate.setTime(date.getTime() + (31536e+6)); // 365 days\n\t\t\t\tdocument.cookie = key + '=' + (JSON.stringify(values)).replace(/\\\"/g, '\\\"') + '; expires=' + date.toGMTString() + '; path=/';\n\t\t\t}\n\t\t} else {\n\t\t\treturn values && values[url] ? values[url][id] : '';\n\t\t}\n\t};\n\n})(jQuery, window, document);\n\r\n/*! Widget: uitheme - updated 2018-03-18 (v2.30.0) */\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tts.themes = {\n\t\t'bootstrap' : {\n\t\t\ttable        : 'table table-bordered table-striped',\n\t\t\tcaption      : 'caption',\n\t\t\t// header class names\n\t\t\theader       : 'bootstrap-header', // give the header a gradient background (theme.bootstrap_2.css)\n\t\t\tsortNone     : '',\n\t\t\tsortAsc      : '',\n\t\t\tsortDesc     : '',\n\t\t\tactive       : '', // applied when column is sorted\n\t\t\thover        : '', // custom css required - a defined bootstrap style may not override other classes\n\t\t\t// icon class names\n\t\t\ticons        : '', // add 'bootstrap-icon-white' to make them white; this icon class is added to the <i> in the header\n\t\t\ticonSortNone : 'bootstrap-icon-unsorted', // class name added to icon when column is not sorted\n\t\t\ticonSortAsc  : 'glyphicon glyphicon-chevron-up', // class name added to icon when column has ascending sort\n\t\t\ticonSortDesc : 'glyphicon glyphicon-chevron-down', // class name added to icon when column has descending sort\n\t\t\tfilterRow    : '', // filter row class\n\t\t\tfooterRow    : '',\n\t\t\tfooterCells  : '',\n\t\t\teven         : '', // even row zebra striping\n\t\t\todd          : ''  // odd row zebra striping\n\t\t},\n\t\t'jui' : {\n\t\t\ttable        : 'ui-widget ui-widget-content ui-corner-all', // table classes\n\t\t\tcaption      : 'ui-widget-content',\n\t\t\t// header class names\n\t\t\theader       : 'ui-widget-header ui-corner-all ui-state-default', // header classes\n\t\t\tsortNone     : '',\n\t\t\tsortAsc      : '',\n\t\t\tsortDesc     : '',\n\t\t\tactive       : 'ui-state-active', // applied when column is sorted\n\t\t\thover        : 'ui-state-hover',  // hover class\n\t\t\t// icon class names\n\t\t\ticons        : 'ui-icon', // icon class added to the <i> in the header\n\t\t\ticonSortNone : 'ui-icon-carat-2-n-s ui-icon-caret-2-n-s', // class name added to icon when column is not sorted\n\t\t\ticonSortAsc  : 'ui-icon-carat-1-n ui-icon-caret-1-n', // class name added to icon when column has ascending sort\n\t\t\ticonSortDesc : 'ui-icon-carat-1-s ui-icon-caret-1-s', // class name added to icon when column has descending sort\n\t\t\tfilterRow    : '',\n\t\t\tfooterRow    : '',\n\t\t\tfooterCells  : '',\n\t\t\teven         : 'ui-widget-content', // even row zebra striping\n\t\t\todd          : 'ui-state-default'   // odd row zebra striping\n\t\t}\n\t};\n\n\t$.extend(ts.css, {\n\t\twrapper : 'tablesorter-wrapper' // ui theme & resizable\n\t});\n\n\tts.addWidget({\n\t\tid: 'uitheme',\n\t\tpriority: 10,\n\t\tformat: function(table, c, wo) {\n\t\t\tvar i, tmp, hdr, icon, time, $header, $icon, $tfoot, $h, oldtheme, oldremove, oldIconRmv, hasOldTheme,\n\t\t\t\tthemesAll = ts.themes,\n\t\t\t\t$table = c.$table.add( $( c.namespace + '_extra_table' ) ),\n\t\t\t\t$headers = c.$headers.add( $( c.namespace + '_extra_headers' ) ),\n\t\t\t\ttheme = c.theme || 'jui',\n\t\t\t\tthemes = themesAll[theme] || {},\n\t\t\t\tremove = $.trim( [ themes.sortNone, themes.sortDesc, themes.sortAsc, themes.active ].join( ' ' ) ),\n\t\t\t\ticonRmv = $.trim( [ themes.iconSortNone, themes.iconSortDesc, themes.iconSortAsc ].join( ' ' ) ),\n\t\t\t\tdebug = ts.debug(c, 'uitheme');\n\t\t\tif (debug) { time = new Date(); }\n\t\t\t// initialization code - run once\n\t\t\tif (!$table.hasClass('tablesorter-' + theme) || c.theme !== c.appliedTheme || !wo.uitheme_applied) {\n\t\t\t\two.uitheme_applied = true;\n\t\t\t\toldtheme = themesAll[c.appliedTheme] || {};\n\t\t\t\thasOldTheme = !$.isEmptyObject(oldtheme);\n\t\t\t\toldremove =  hasOldTheme ? [ oldtheme.sortNone, oldtheme.sortDesc, oldtheme.sortAsc, oldtheme.active ].join( ' ' ) : '';\n\t\t\t\toldIconRmv = hasOldTheme ? [ oldtheme.iconSortNone, oldtheme.iconSortDesc, oldtheme.iconSortAsc ].join( ' ' ) : '';\n\t\t\t\tif (hasOldTheme) {\n\t\t\t\t\two.zebra[0] = $.trim( ' ' + wo.zebra[0].replace(' ' + oldtheme.even, '') );\n\t\t\t\t\two.zebra[1] = $.trim( ' ' + wo.zebra[1].replace(' ' + oldtheme.odd, '') );\n\t\t\t\t\tc.$tbodies.children().removeClass( [ oldtheme.even, oldtheme.odd ].join(' ') );\n\t\t\t\t}\n\t\t\t\t// update zebra stripes\n\t\t\t\tif (themes.even) { wo.zebra[0] += ' ' + themes.even; }\n\t\t\t\tif (themes.odd) { wo.zebra[1] += ' ' + themes.odd; }\n\t\t\t\t// add caption style\n\t\t\t\t$table.children('caption')\n\t\t\t\t\t.removeClass(oldtheme.caption || '')\n\t\t\t\t\t.addClass(themes.caption);\n\t\t\t\t// add table/footer class names\n\t\t\t\t$tfoot = $table\n\t\t\t\t\t// remove other selected themes\n\t\t\t\t\t.removeClass( (c.appliedTheme ? 'tablesorter-' + (c.appliedTheme || '') : '') + ' ' + (oldtheme.table || '') )\n\t\t\t\t\t.addClass('tablesorter-' + theme + ' ' + (themes.table || '')) // add theme widget class name\n\t\t\t\t\t.children('tfoot');\n\t\t\t\tc.appliedTheme = c.theme;\n\n\t\t\t\tif ($tfoot.length) {\n\t\t\t\t\t$tfoot\n\t\t\t\t\t\t// if oldtheme.footerRow or oldtheme.footerCells are undefined, all class names are removed\n\t\t\t\t\t\t.children('tr').removeClass(oldtheme.footerRow || '').addClass(themes.footerRow)\n\t\t\t\t\t\t.children('th, td').removeClass(oldtheme.footerCells || '').addClass(themes.footerCells);\n\t\t\t\t}\n\t\t\t\t// update header classes\n\t\t\t\t$headers\n\t\t\t\t\t.removeClass( (hasOldTheme ? [ oldtheme.header, oldtheme.hover, oldremove ].join(' ') : '') || '' )\n\t\t\t\t\t.addClass(themes.header)\n\t\t\t\t\t.not('.sorter-false')\n\t\t\t\t\t.unbind('mouseenter.tsuitheme mouseleave.tsuitheme')\n\t\t\t\t\t.bind('mouseenter.tsuitheme mouseleave.tsuitheme', function(event) {\n\t\t\t\t\t\t// toggleClass with switch added in jQuery 1.3\n\t\t\t\t\t\t$(this)[ event.type === 'mouseenter' ? 'addClass' : 'removeClass' ](themes.hover || '');\n\t\t\t\t\t});\n\n\t\t\t\t$headers.each(function() {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tif (!$this.find('.' + ts.css.wrapper).length) {\n\t\t\t\t\t\t// Firefox needs this inner div to position the icon & resizer correctly\n\t\t\t\t\t\t$this.wrapInner('<div class=\"' + ts.css.wrapper + '\" style=\"position:relative;height:100%;width:100%\"></div>');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (c.cssIcon) {\n\t\t\t\t\t// if c.cssIcon is '', then no <i> is added to the header\n\t\t\t\t\t$headers\n\t\t\t\t\t\t.find('.' + ts.css.icon)\n\t\t\t\t\t\t.removeClass(hasOldTheme ? [ oldtheme.icons, oldIconRmv ].join(' ') : '')\n\t\t\t\t\t\t.addClass(themes.icons || '');\n\t\t\t\t}\n\t\t\t\t// filter widget initializes after uitheme\n\t\t\t\tif (ts.hasWidget( c.table, 'filter' )) {\n\t\t\t\t\ttmp = function() {\n\t\t\t\t\t\t$table.children('thead').children('.' + ts.css.filterRow)\n\t\t\t\t\t\t\t.removeClass(hasOldTheme ? oldtheme.filterRow || '' : '')\n\t\t\t\t\t\t\t.addClass(themes.filterRow || '');\n\t\t\t\t\t};\n\t\t\t\t\tif (wo.filter_initialized) {\n\t\t\t\t\t\ttmp();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$table.one('filterInit', function() {\n\t\t\t\t\t\t\ttmp();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < c.columns; i++) {\n\t\t\t\t$header = c.$headers\n\t\t\t\t\t.add($(c.namespace + '_extra_headers'))\n\t\t\t\t\t.not('.sorter-false')\n\t\t\t\t\t.filter('[data-column=\"' + i + '\"]');\n\t\t\t\t$icon = (ts.css.icon) ? $header.find('.' + ts.css.icon) : $();\n\t\t\t\t$h = $headers.not('.sorter-false').filter('[data-column=\"' + i + '\"]:last');\n\t\t\t\tif ($h.length) {\n\t\t\t\t\t$header.removeClass(remove);\n\t\t\t\t\t$icon.removeClass(iconRmv);\n\t\t\t\t\tif ($h[0].sortDisabled) {\n\t\t\t\t\t\t// no sort arrows for disabled columns!\n\t\t\t\t\t\t$icon.removeClass(themes.icons || '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\thdr = themes.sortNone;\n\t\t\t\t\t\ticon = themes.iconSortNone;\n\t\t\t\t\t\tif ($h.hasClass(ts.css.sortAsc)) {\n\t\t\t\t\t\t\thdr = [ themes.sortAsc, themes.active ].join(' ');\n\t\t\t\t\t\t\ticon = themes.iconSortAsc;\n\t\t\t\t\t\t} else if ($h.hasClass(ts.css.sortDesc)) {\n\t\t\t\t\t\t\thdr = [ themes.sortDesc, themes.active ].join(' ');\n\t\t\t\t\t\t\ticon = themes.iconSortDesc;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$header.addClass(hdr);\n\t\t\t\t\t\t$icon.addClass(icon || '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (debug) {\n\t\t\t\tconsole.log('uitheme >> Applied ' + theme + ' theme' + ts.benchmark(time));\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c, wo, refreshing) {\n\t\t\tif (!wo.uitheme_applied) { return; }\n\t\t\tvar $table = c.$table,\n\t\t\t\ttheme = c.appliedTheme || 'jui',\n\t\t\t\tthemes = ts.themes[ theme ] || ts.themes.jui,\n\t\t\t\t$headers = $table.children('thead').children(),\n\t\t\t\tremove = themes.sortNone + ' ' + themes.sortDesc + ' ' + themes.sortAsc,\n\t\t\t\ticonRmv = themes.iconSortNone + ' ' + themes.iconSortDesc + ' ' + themes.iconSortAsc;\n\t\t\t$table.removeClass('tablesorter-' + theme + ' ' + themes.table);\n\t\t\two.uitheme_applied = false;\n\t\t\tif (refreshing) { return; }\n\t\t\t$table.find(ts.css.header).removeClass(themes.header);\n\t\t\t$headers\n\t\t\t\t.unbind('mouseenter.tsuitheme mouseleave.tsuitheme') // remove hover\n\t\t\t\t.removeClass(themes.hover + ' ' + remove + ' ' + themes.active)\n\t\t\t\t.filter('.' + ts.css.filterRow)\n\t\t\t\t.removeClass(themes.filterRow);\n\t\t\t$headers.find('.' + ts.css.icon).removeClass(themes.icons + ' ' + iconRmv);\n\t\t}\n\t});\n\n})(jQuery);\n\r\n/*! Widget: columns - updated 5/24/2017 (v2.28.11) */\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tts.addWidget({\n\t\tid: 'columns',\n\t\tpriority: 65,\n\t\toptions : {\n\t\t\tcolumns : [ 'primary', 'secondary', 'tertiary' ]\n\t\t},\n\t\tformat: function(table, c, wo) {\n\t\t\tvar $tbody, tbodyIndex, $rows, rows, $row, $cells, remove, indx,\n\t\t\t$table = c.$table,\n\t\t\t$tbodies = c.$tbodies,\n\t\t\tsortList = c.sortList,\n\t\t\tlen = sortList.length,\n\t\t\t// removed c.widgetColumns support\n\t\t\tcss = wo && wo.columns || [ 'primary', 'secondary', 'tertiary' ],\n\t\t\tlast = css.length - 1;\n\t\t\tremove = css.join(' ');\n\t\t\t// check if there is a sort (on initialization there may not be one)\n\t\t\tfor (tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody(table, $tbodies.eq(tbodyIndex), true); // detach tbody\n\t\t\t\t$rows = $tbody.children('tr');\n\t\t\t\t// loop through the visible rows\n\t\t\t\t$rows.each(function() {\n\t\t\t\t\t$row = $(this);\n\t\t\t\t\tif (this.style.display !== 'none') {\n\t\t\t\t\t\t// remove all columns class names\n\t\t\t\t\t\t$cells = $row.children().removeClass(remove);\n\t\t\t\t\t\t// add appropriate column class names\n\t\t\t\t\t\tif (sortList && sortList[0]) {\n\t\t\t\t\t\t\t// primary sort column class\n\t\t\t\t\t\t\t$cells.eq(sortList[0][0]).addClass(css[0]);\n\t\t\t\t\t\t\tif (len > 1) {\n\t\t\t\t\t\t\t\tfor (indx = 1; indx < len; indx++) {\n\t\t\t\t\t\t\t\t\t// secondary, tertiary, etc sort column classes\n\t\t\t\t\t\t\t\t\t$cells.eq(sortList[indx][0]).addClass( css[indx] || css[last] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tts.processTbody(table, $tbody, false);\n\t\t\t}\n\t\t\t// add classes to thead and tfoot\n\t\t\trows = wo.columns_thead !== false ? [ 'thead tr' ] : [];\n\t\t\tif (wo.columns_tfoot !== false) {\n\t\t\t\trows.push('tfoot tr');\n\t\t\t}\n\t\t\tif (rows.length) {\n\t\t\t\t$rows = $table.find( rows.join(',') ).children().removeClass(remove);\n\t\t\t\tif (len) {\n\t\t\t\t\tfor (indx = 0; indx < len; indx++) {\n\t\t\t\t\t\t// add primary. secondary, tertiary, etc sort column classes\n\t\t\t\t\t\t$rows.filter('[data-column=\"' + sortList[indx][0] + '\"]').addClass(css[indx] || css[last]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c, wo) {\n\t\t\tvar tbodyIndex, $tbody,\n\t\t\t\t$tbodies = c.$tbodies,\n\t\t\t\tremove = (wo.columns || [ 'primary', 'secondary', 'tertiary' ]).join(' ');\n\t\t\tc.$headers.removeClass(remove);\n\t\t\tc.$table.children('tfoot').children('tr').children('th, td').removeClass(remove);\n\t\t\tfor (tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\n\t\t\t\t$tbody = ts.processTbody(table, $tbodies.eq(tbodyIndex), true); // remove tbody\n\t\t\t\t$tbody.children('tr').each(function() {\n\t\t\t\t\t$(this).children().removeClass(remove);\n\t\t\t\t});\n\t\t\t\tts.processTbody(table, $tbody, false); // restore tbody\n\t\t\t}\n\t\t}\n\t});\n\n})(jQuery);\n\r\n/*! Widget: filter - updated 2018-03-18 (v2.30.0) *//*\r\n * Requires tablesorter v2.8+ and jQuery 1.7+\r\n * by Rob Garrison\r\n */\r\n;( function ( $ ) {\r\n\t'use strict';\r\n\tvar tsf, tsfRegex,\r\n\t\tts = $.tablesorter || {},\r\n\t\ttscss = ts.css,\r\n\t\ttskeyCodes = ts.keyCodes;\r\n\r\n\t$.extend( tscss, {\r\n\t\tfilterRow      : 'tablesorter-filter-row',\r\n\t\tfilter         : 'tablesorter-filter',\r\n\t\tfilterDisabled : 'disabled',\r\n\t\tfilterRowHide  : 'hideme'\r\n\t});\r\n\r\n\t$.extend( tskeyCodes, {\r\n\t\tbackSpace : 8,\r\n\t\tescape : 27,\r\n\t\tspace : 32,\r\n\t\tleft : 37,\r\n\t\tdown : 40\r\n\t});\r\n\r\n\tts.addWidget({\r\n\t\tid: 'filter',\r\n\t\tpriority: 50,\r\n\t\toptions : {\r\n\t\t\tfilter_cellFilter    : '',    // css class name added to the filter cell ( string or array )\r\n\t\t\tfilter_childRows     : false, // if true, filter includes child row content in the search\r\n\t\t\tfilter_childByColumn : false, // ( filter_childRows must be true ) if true = search child rows by column; false = search all child row text grouped\r\n\t\t\tfilter_childWithSibs : true,  // if true, include matching child row siblings\r\n\t\t\tfilter_columnAnyMatch: true,  // if true, allows using '#:{query}' in AnyMatch searches ( column:query )\r\n\t\t\tfilter_columnFilters : true,  // if true, a filter will be added to the top of each table column\r\n\t\t\tfilter_cssFilter     : '',    // css class name added to the filter row & each input in the row ( tablesorter-filter is ALWAYS added )\r\n\t\t\tfilter_defaultAttrib : 'data-value', // data attribute in the header cell that contains the default filter value\r\n\t\t\tfilter_defaultFilter : {},    // add a default column filter type '~{query}' to make fuzzy searches default; '{q1} AND {q2}' to make all searches use a logical AND.\r\n\t\t\tfilter_excludeFilter : {},    // filters to exclude, per column\r\n\t\t\tfilter_external      : '',    // jQuery selector string ( or jQuery object ) of external filters\r\n\t\t\tfilter_filteredRow   : 'filtered', // class added to filtered rows; define in css with \"display:none\" to hide the filtered-out rows\r\n\t\t\tfilter_filterLabel   : 'Filter \"{{label}}\" column by...', // Aria-label added to filter input/select; see #1495\r\n\t\t\tfilter_formatter     : null,  // add custom filter elements to the filter row\r\n\t\t\tfilter_functions     : null,  // add custom filter functions using this option\r\n\t\t\tfilter_hideEmpty     : true,  // hide filter row when table is empty\r\n\t\t\tfilter_hideFilters   : false, // collapse filter row when mouse leaves the area\r\n\t\t\tfilter_ignoreCase    : true,  // if true, make all searches case-insensitive\r\n\t\t\tfilter_liveSearch    : true,  // if true, search column content while the user types ( with a delay )\r\n\t\t\tfilter_matchType     : { 'input': 'exact', 'select': 'exact' }, // global query settings ('exact' or 'match'); overridden by \"filter-match\" or \"filter-exact\" class\r\n\t\t\tfilter_onlyAvail     : 'filter-onlyAvail', // a header with a select dropdown & this class name will only show available ( visible ) options within the drop down\r\n\t\t\tfilter_placeholder   : { search : '', select : '' }, // default placeholder text ( overridden by any header 'data-placeholder' setting )\r\n\t\t\tfilter_reset         : null,  // jQuery selector string of an element used to reset the filters\r\n\t\t\tfilter_resetOnEsc    : true,  // Reset filter input when the user presses escape - normalized across browsers\r\n\t\t\tfilter_saveFilters   : false, // Use the $.tablesorter.storage utility to save the most recent filters\r\n\t\t\tfilter_searchDelay   : 300,   // typing delay in milliseconds before starting a search\r\n\t\t\tfilter_searchFiltered: true,  // allow searching through already filtered rows in special circumstances; will speed up searching in large tables if true\r\n\t\t\tfilter_selectSource  : null,  // include a function to return an array of values to be added to the column filter select\r\n\t\t\tfilter_selectSourceSeparator : '|', // filter_selectSource array text left of the separator is added to the option value, right into the option text\r\n\t\t\tfilter_serversideFiltering : false, // if true, must perform server-side filtering b/c client-side filtering is disabled, but the ui and events will still be used.\r\n\t\t\tfilter_startsWith    : false, // if true, filter start from the beginning of the cell contents\r\n\t\t\tfilter_useParsedData : false  // filter all data using parsed content\r\n\t\t},\r\n\t\tformat: function( table, c, wo ) {\r\n\t\t\tif ( !c.$table.hasClass( 'hasFilters' ) ) {\r\n\t\t\t\ttsf.init( table, c, wo );\r\n\t\t\t}\r\n\t\t},\r\n\t\tremove: function( table, c, wo, refreshing ) {\r\n\t\t\tvar tbodyIndex, $tbody,\r\n\t\t\t\t$table = c.$table,\r\n\t\t\t\t$tbodies = c.$tbodies,\r\n\t\t\t\tevents = (\r\n\t\t\t\t\t'addRows updateCell update updateRows updateComplete appendCache filterReset ' +\r\n\t\t\t\t\t'filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit '\r\n\t\t\t\t).split( ' ' ).join( c.namespace + 'filter ' );\r\n\t\t\t$table\r\n\t\t\t\t.removeClass( 'hasFilters' )\r\n\t\t\t\t// add filter namespace to all BUT search\r\n\t\t\t\t.unbind( events.replace( ts.regex.spaces, ' ' ) )\r\n\t\t\t\t// remove the filter row even if refreshing, because the column might have been moved\r\n\t\t\t\t.find( '.' + tscss.filterRow ).remove();\r\n\t\t\two.filter_initialized = false;\r\n\t\t\tif ( refreshing ) { return; }\r\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < $tbodies.length; tbodyIndex++ ) {\r\n\t\t\t\t$tbody = ts.processTbody( table, $tbodies.eq( tbodyIndex ), true ); // remove tbody\r\n\t\t\t\t$tbody.children().removeClass( wo.filter_filteredRow ).show();\r\n\t\t\t\tts.processTbody( table, $tbody, false ); // restore tbody\r\n\t\t\t}\r\n\t\t\tif ( wo.filter_reset ) {\r\n\t\t\t\t$( document ).undelegate( wo.filter_reset, 'click' + c.namespace + 'filter' );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\ttsf = ts.filter = {\r\n\r\n\t\t// regex used in filter 'check' functions - not for general use and not documented\r\n\t\tregex: {\r\n\t\t\tregex     : /^\\/((?:\\\\\\/|[^\\/])+)\\/([migyu]{0,5})?$/, // regex to test for regex\r\n\t\t\tchild     : /tablesorter-childRow/, // child row class name; this gets updated in the script\r\n\t\t\tfiltered  : /filtered/, // filtered (hidden) row class name; updated in the script\r\n\t\t\ttype      : /undefined|number/, // check type\r\n\t\t\texact     : /(^[\\\"\\'=]+)|([\\\"\\'=]+$)/g, // exact match (allow '==')\r\n\t\t\toperators : /[<>=]/g, // replace operators\r\n\t\t\tquery     : '(q|query)', // replace filter queries\r\n\t\t\twild01    : /\\?/g, // wild card match 0 or 1\r\n\t\t\twild0More : /\\*/g, // wild care match 0 or more\r\n\t\t\tquote     : /\\\"/g,\r\n\t\t\tisNeg1    : /(>=?\\s*-\\d)/,\r\n\t\t\tisNeg2    : /(<=?\\s*\\d)/\r\n\t\t},\r\n\t\t// function( c, data ) { }\r\n\t\t// c = table.config\r\n\t\t// data.$row = jQuery object of the row currently being processed\r\n\t\t// data.$cells = jQuery object of all cells within the current row\r\n\t\t// data.filters = array of filters for all columns ( some may be undefined )\r\n\t\t// data.filter = filter for the current column\r\n\t\t// data.iFilter = same as data.filter, except lowercase ( if wo.filter_ignoreCase is true )\r\n\t\t// data.exact = table cell text ( or parsed data if column parser enabled; may be a number & not a string )\r\n\t\t// data.iExact = same as data.exact, except lowercase ( if wo.filter_ignoreCase is true; may be a number & not a string )\r\n\t\t// data.cache = table cell text from cache, so it has been parsed ( & in all lower case if c.ignoreCase is true )\r\n\t\t// data.cacheArray = An array of parsed content from each table cell in the row being processed\r\n\t\t// data.index = column index; table = table element ( DOM )\r\n\t\t// data.parsed = array ( by column ) of boolean values ( from filter_useParsedData or 'filter-parsed' class )\r\n\t\ttypes: {\r\n\t\t\tor : function( c, data, vars ) {\r\n\t\t\t\t// look for \"|\", but not if it is inside of a regular expression\r\n\t\t\t\tif ( ( tsfRegex.orTest.test( data.iFilter ) || tsfRegex.orSplit.test( data.filter ) ) &&\r\n\t\t\t\t\t// this test for regex has potential to slow down the overall search\r\n\t\t\t\t\t!tsfRegex.regex.test( data.filter ) ) {\r\n\t\t\t\t\tvar indx, filterMatched, query, regex,\r\n\t\t\t\t\t\t// duplicate data but split filter\r\n\t\t\t\t\t\tdata2 = $.extend( {}, data ),\r\n\t\t\t\t\t\tfilter = data.filter.split( tsfRegex.orSplit ),\r\n\t\t\t\t\t\tiFilter = data.iFilter.split( tsfRegex.orSplit ),\r\n\t\t\t\t\t\tlen = filter.length;\r\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\t\tdata2.nestedFilters = true;\r\n\t\t\t\t\t\tdata2.filter = '' + ( tsf.parseFilter( c, filter[ indx ], data ) || '' );\r\n\t\t\t\t\t\tdata2.iFilter = '' + ( tsf.parseFilter( c, iFilter[ indx ], data ) || '' );\r\n\t\t\t\t\t\tquery = '(' + ( tsf.parseFilter( c, data2.filter, data ) || '' ) + ')';\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// use try/catch, because query may not be a valid regex if \"|\" is contained within a partial regex search,\r\n\t\t\t\t\t\t\t// e.g \"/(Alex|Aar\" -> Uncaught SyntaxError: Invalid regular expression: /(/(Alex)/: Unterminated group\r\n\t\t\t\t\t\t\tregex = new RegExp( data.isMatch ? query : '^' + query + '$', c.widgetOptions.filter_ignoreCase ? 'i' : '' );\r\n\t\t\t\t\t\t\t// filterMatched = data2.filter === '' && indx > 0 ? true\r\n\t\t\t\t\t\t\t// look for an exact match with the 'or' unless the 'filter-match' class is found\r\n\t\t\t\t\t\t\tfilterMatched = regex.test( data2.exact ) || tsf.processTypes( c, data2, vars );\r\n\t\t\t\t\t\t\tif ( filterMatched ) {\r\n\t\t\t\t\t\t\t\treturn filterMatched;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch ( error ) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// may be null from processing types\r\n\t\t\t\t\treturn filterMatched || false;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for an AND or && operator ( logical and )\r\n\t\t\tand : function( c, data, vars ) {\r\n\t\t\t\tif ( tsfRegex.andTest.test( data.filter ) ) {\r\n\t\t\t\t\tvar indx, filterMatched, result, query, regex,\r\n\t\t\t\t\t\t// duplicate data but split filter\r\n\t\t\t\t\t\tdata2 = $.extend( {}, data ),\r\n\t\t\t\t\t\tfilter = data.filter.split( tsfRegex.andSplit ),\r\n\t\t\t\t\t\tiFilter = data.iFilter.split( tsfRegex.andSplit ),\r\n\t\t\t\t\t\tlen = filter.length;\r\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\t\tdata2.nestedFilters = true;\r\n\t\t\t\t\t\tdata2.filter = '' + ( tsf.parseFilter( c, filter[ indx ], data ) || '' );\r\n\t\t\t\t\t\tdata2.iFilter = '' + ( tsf.parseFilter( c, iFilter[ indx ], data ) || '' );\r\n\t\t\t\t\t\tquery = ( '(' + ( tsf.parseFilter( c, data2.filter, data ) || '' ) + ')' )\r\n\t\t\t\t\t\t\t// replace wild cards since /(a*)/i will match anything\r\n\t\t\t\t\t\t\t.replace( tsfRegex.wild01, '\\\\S{1}' ).replace( tsfRegex.wild0More, '\\\\S*' );\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// use try/catch just in case RegExp is invalid\r\n\t\t\t\t\t\t\tregex = new RegExp( data.isMatch ? query : '^' + query + '$', c.widgetOptions.filter_ignoreCase ? 'i' : '' );\r\n\t\t\t\t\t\t\t// look for an exact match with the 'and' unless the 'filter-match' class is found\r\n\t\t\t\t\t\t\tresult = ( regex.test( data2.exact ) || tsf.processTypes( c, data2, vars ) );\r\n\t\t\t\t\t\t\tif ( indx === 0 ) {\r\n\t\t\t\t\t\t\t\tfilterMatched = result;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfilterMatched = filterMatched && result;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch ( error ) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// may be null from processing types\r\n\t\t\t\t\treturn filterMatched || false;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for regex\r\n\t\t\tregex: function( c, data ) {\r\n\t\t\t\tif ( tsfRegex.regex.test( data.filter ) ) {\r\n\t\t\t\t\tvar matches,\r\n\t\t\t\t\t\t// cache regex per column for optimal speed\r\n\t\t\t\t\t\tregex = data.filter_regexCache[ data.index ] || tsfRegex.regex.exec( data.filter ),\r\n\t\t\t\t\t\tisRegex = regex instanceof RegExp;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif ( !isRegex ) {\r\n\t\t\t\t\t\t\t// force case insensitive search if ignoreCase option set?\r\n\t\t\t\t\t\t\t// if ( c.ignoreCase && !regex[2] ) { regex[2] = 'i'; }\r\n\t\t\t\t\t\t\tdata.filter_regexCache[ data.index ] = regex = new RegExp( regex[1], regex[2] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmatches = regex.test( data.exact );\r\n\t\t\t\t\t} catch ( error ) {\r\n\t\t\t\t\t\tmatches = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn matches;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for operators >, >=, < or <=\r\n\t\t\toperators: function( c, data ) {\r\n\t\t\t\t// ignore empty strings... because '' < 10 is true\r\n\t\t\t\tif ( tsfRegex.operTest.test( data.iFilter ) && data.iExact !== '' ) {\r\n\t\t\t\t\tvar cachedValue, result, txt,\r\n\t\t\t\t\t\ttable = c.table,\r\n\t\t\t\t\t\tparsed = data.parsed[ data.index ],\r\n\t\t\t\t\t\tquery = ts.formatFloat( data.iFilter.replace( tsfRegex.operators, '' ), table ),\r\n\t\t\t\t\t\tparser = c.parsers[ data.index ] || {},\r\n\t\t\t\t\t\tsavedSearch = query;\r\n\t\t\t\t\t// parse filter value in case we're comparing numbers ( dates )\r\n\t\t\t\t\tif ( parsed || parser.type === 'numeric' ) {\r\n\t\t\t\t\t\ttxt = $.trim( '' + data.iFilter.replace( tsfRegex.operators, '' ) );\r\n\t\t\t\t\t\tresult = tsf.parseFilter( c, txt, data, true );\r\n\t\t\t\t\t\tquery = ( typeof result === 'number' && result !== '' && !isNaN( result ) ) ? result : query;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// iExact may be numeric - see issue #149;\r\n\t\t\t\t\t// check if cached is defined, because sometimes j goes out of range? ( numeric columns )\r\n\t\t\t\t\tif ( ( parsed || parser.type === 'numeric' ) && !isNaN( query ) &&\r\n\t\t\t\t\t\ttypeof data.cache !== 'undefined' ) {\r\n\t\t\t\t\t\tcachedValue = data.cache;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttxt = isNaN( data.iExact ) ? data.iExact.replace( ts.regex.nondigit, '' ) : data.iExact;\r\n\t\t\t\t\t\tcachedValue = ts.formatFloat( txt, table );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( tsfRegex.gtTest.test( data.iFilter ) ) {\r\n\t\t\t\t\t\tresult = tsfRegex.gteTest.test( data.iFilter ) ? cachedValue >= query : cachedValue > query;\r\n\t\t\t\t\t} else if ( tsfRegex.ltTest.test( data.iFilter ) ) {\r\n\t\t\t\t\t\tresult = tsfRegex.lteTest.test( data.iFilter ) ? cachedValue <= query : cachedValue < query;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// keep showing all rows if nothing follows the operator\r\n\t\t\t\t\tif ( !result && savedSearch === '' ) {\r\n\t\t\t\t\t\tresult = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for a not match\r\n\t\t\tnotMatch: function( c, data ) {\r\n\t\t\t\tif ( tsfRegex.notTest.test( data.iFilter ) ) {\r\n\t\t\t\t\tvar indx,\r\n\t\t\t\t\t\ttxt = data.iFilter.replace( '!', '' ),\r\n\t\t\t\t\t\tfilter = tsf.parseFilter( c, txt, data ) || '';\r\n\t\t\t\t\tif ( tsfRegex.exact.test( filter ) ) {\r\n\t\t\t\t\t\t// look for exact not matches - see #628\r\n\t\t\t\t\t\tfilter = filter.replace( tsfRegex.exact, '' );\r\n\t\t\t\t\t\treturn filter === '' ? true : $.trim( filter ) !== data.iExact;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tindx = data.iExact.search( $.trim( filter ) );\r\n\t\t\t\t\t\treturn filter === '' ? true :\r\n\t\t\t\t\t\t\t// return true if not found\r\n\t\t\t\t\t\t\tdata.anyMatch ? indx < 0 :\r\n\t\t\t\t\t\t\t// return false if found\r\n\t\t\t\t\t\t\t!( c.widgetOptions.filter_startsWith ? indx === 0 : indx >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for quotes or equals to get an exact match; ignore type since iExact could be numeric\r\n\t\t\texact: function( c, data ) {\r\n\t\t\t\t/*jshint eqeqeq:false */\r\n\t\t\t\tif ( tsfRegex.exact.test( data.iFilter ) ) {\r\n\t\t\t\t\tvar txt = data.iFilter.replace( tsfRegex.exact, '' ),\r\n\t\t\t\t\t\tfilter = tsf.parseFilter( c, txt, data ) || '';\r\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\r\n\t\t\t\t\treturn data.anyMatch ? $.inArray( filter, data.rowArray ) >= 0 : filter == data.iExact;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for a range ( using ' to ' or ' - ' ) - see issue #166; thanks matzhu!\r\n\t\t\trange : function( c, data ) {\r\n\t\t\t\tif ( tsfRegex.toTest.test( data.iFilter ) ) {\r\n\t\t\t\t\tvar result, tmp, range1, range2,\r\n\t\t\t\t\t\ttable = c.table,\r\n\t\t\t\t\t\tindex = data.index,\r\n\t\t\t\t\t\tparsed = data.parsed[index],\r\n\t\t\t\t\t\t// make sure the dash is for a range and not indicating a negative number\r\n\t\t\t\t\t\tquery = data.iFilter.split( tsfRegex.toSplit );\r\n\r\n\t\t\t\t\ttmp = query[0].replace( ts.regex.nondigit, '' ) || '';\r\n\t\t\t\t\trange1 = ts.formatFloat( tsf.parseFilter( c, tmp, data ), table );\r\n\t\t\t\t\ttmp = query[1].replace( ts.regex.nondigit, '' ) || '';\r\n\t\t\t\t\trange2 = ts.formatFloat( tsf.parseFilter( c, tmp, data ), table );\r\n\t\t\t\t\t// parse filter value in case we're comparing numbers ( dates )\r\n\t\t\t\t\tif ( parsed || c.parsers[ index ].type === 'numeric' ) {\r\n\t\t\t\t\t\tresult = c.parsers[ index ].format( '' + query[0], table, c.$headers.eq( index ), index );\r\n\t\t\t\t\t\trange1 = ( result !== '' && !isNaN( result ) ) ? result : range1;\r\n\t\t\t\t\t\tresult = c.parsers[ index ].format( '' + query[1], table, c.$headers.eq( index ), index );\r\n\t\t\t\t\t\trange2 = ( result !== '' && !isNaN( result ) ) ? result : range2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ( parsed || c.parsers[ index ].type === 'numeric' ) && !isNaN( range1 ) && !isNaN( range2 ) ) {\r\n\t\t\t\t\t\tresult = data.cache;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttmp = isNaN( data.iExact ) ? data.iExact.replace( ts.regex.nondigit, '' ) : data.iExact;\r\n\t\t\t\t\t\tresult = ts.formatFloat( tmp, table );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( range1 > range2 ) {\r\n\t\t\t\t\t\ttmp = range1; range1 = range2; range2 = tmp; // swap\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ( result >= range1 && result <= range2 ) || ( range1 === '' || range2 === '' );\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// Look for wild card: ? = single, * = multiple, or | = logical OR\r\n\t\t\twild : function( c, data ) {\r\n\t\t\t\tif ( tsfRegex.wildOrTest.test( data.iFilter ) ) {\r\n\t\t\t\t\tvar query = '' + ( tsf.parseFilter( c, data.iFilter, data ) || '' );\r\n\t\t\t\t\t// look for an exact match with the 'or' unless the 'filter-match' class is found\r\n\t\t\t\t\tif ( !tsfRegex.wildTest.test( query ) && data.nestedFilters ) {\r\n\t\t\t\t\t\tquery = data.isMatch ? query : '^(' + query + ')$';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// parsing the filter may not work properly when using wildcards =/\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\treturn new RegExp(\r\n\t\t\t\t\t\t\tquery.replace( tsfRegex.wild01, '\\\\S{1}' ).replace( tsfRegex.wild0More, '\\\\S*' ),\r\n\t\t\t\t\t\t\tc.widgetOptions.filter_ignoreCase ? 'i' : ''\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.test( data.exact );\r\n\t\t\t\t\t} catch ( error ) {\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t// fuzzy text search; modified from https://github.com/mattyork/fuzzy ( MIT license )\r\n\t\t\tfuzzy: function( c, data ) {\r\n\t\t\t\tif ( tsfRegex.fuzzyTest.test( data.iFilter ) ) {\r\n\t\t\t\t\tvar indx,\r\n\t\t\t\t\t\tpatternIndx = 0,\r\n\t\t\t\t\t\tlen = data.iExact.length,\r\n\t\t\t\t\t\ttxt = data.iFilter.slice( 1 ),\r\n\t\t\t\t\t\tpattern = tsf.parseFilter( c, txt, data ) || '';\r\n\t\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\t\tif ( data.iExact[ indx ] === pattern[ patternIndx ] ) {\r\n\t\t\t\t\t\t\tpatternIndx += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn patternIndx === pattern.length;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tinit: function( table ) {\r\n\t\t\t// filter language options\r\n\t\t\tts.language = $.extend( true, {}, {\r\n\t\t\t\tto  : 'to',\r\n\t\t\t\tor  : 'or',\r\n\t\t\t\tand : 'and'\r\n\t\t\t}, ts.language );\r\n\r\n\t\t\tvar options, string, txt, $header, column, val, fxn, noSelect,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tprocessStr = function(prefix, str, suffix) {\r\n\t\t\t\t\tstr = str.trim();\r\n\t\t\t\t\t// don't include prefix/suffix if str is empty\r\n\t\t\t\t\treturn str === '' ? '' : (prefix || '') + str + (suffix || '');\r\n\t\t\t\t};\r\n\t\t\tc.$table.addClass( 'hasFilters' );\r\n\t\t\tc.lastSearch = [];\r\n\r\n\t\t\t// define timers so using clearTimeout won't cause an undefined error\r\n\t\t\two.filter_searchTimer = null;\r\n\t\t\two.filter_initTimer = null;\r\n\t\t\two.filter_formatterCount = 0;\r\n\t\t\two.filter_formatterInit = [];\r\n\t\t\two.filter_anyColumnSelector = '[data-column=\"all\"],[data-column=\"any\"]';\r\n\t\t\two.filter_multipleColumnSelector = '[data-column*=\"-\"],[data-column*=\",\"]';\r\n\r\n\t\t\tval = '\\\\{' + tsfRegex.query + '\\\\}';\r\n\t\t\t$.extend( tsfRegex, {\r\n\t\t\t\tchild : new RegExp( c.cssChildRow ),\r\n\t\t\t\tfiltered : new RegExp( wo.filter_filteredRow ),\r\n\t\t\t\talreadyFiltered : new RegExp( '(\\\\s+(-' + processStr('|', ts.language.or) + processStr('|', ts.language.to) + ')\\\\s+)', 'i' ),\r\n\t\t\t\ttoTest : new RegExp( '\\\\s+(-' + processStr('|', ts.language.to) + ')\\\\s+', 'i' ),\r\n\t\t\t\ttoSplit : new RegExp( '(?:\\\\s+(?:-' + processStr('|', ts.language.to) + ')\\\\s+)', 'gi' ),\r\n\t\t\t\tandTest : new RegExp( '\\\\s+(' + processStr('', ts.language.and, '|') + '&&)\\\\s+', 'i' ),\r\n\t\t\t\tandSplit : new RegExp( '(?:\\\\s+(?:' + processStr('', ts.language.and, '|') + '&&)\\\\s+)', 'gi' ),\r\n\t\t\t\torTest : new RegExp( '(\\\\|' + processStr('|\\\\s+', ts.language.or, '\\\\s+') + ')', 'i' ),\r\n\t\t\t\torSplit : new RegExp( '(?:\\\\|' + processStr('|\\\\s+(?:', ts.language.or, ')\\\\s+') + ')', 'gi' ),\r\n\t\t\t\tiQuery : new RegExp( val, 'i' ),\r\n\t\t\t\tigQuery : new RegExp( val, 'ig' ),\r\n\t\t\t\toperTest : /^[<>]=?/,\r\n\t\t\t\tgtTest  : />/,\r\n\t\t\t\tgteTest : />=/,\r\n\t\t\t\tltTest  : /</,\r\n\t\t\t\tlteTest : /<=/,\r\n\t\t\t\tnotTest : /^\\!/,\r\n\t\t\t\twildOrTest : /[\\?\\*\\|]/,\r\n\t\t\t\twildTest : /\\?\\*/,\r\n\t\t\t\tfuzzyTest : /^~/,\r\n\t\t\t\texactTest : /[=\\\"\\|!]/\r\n\t\t\t});\r\n\r\n\t\t\t// don't build filter row if columnFilters is false or all columns are set to 'filter-false'\r\n\t\t\t// see issue #156\r\n\t\t\tval = c.$headers.filter( '.filter-false, .parser-false' ).length;\r\n\t\t\tif ( wo.filter_columnFilters !== false && val !== c.$headers.length ) {\r\n\t\t\t\t// build filter row\r\n\t\t\t\ttsf.buildRow( table, c, wo );\r\n\t\t\t}\r\n\r\n\t\t\ttxt = 'addRows updateCell update updateRows updateComplete appendCache filterReset ' +\r\n\t\t\t\t'filterAndSortReset filterResetSaved filterEnd search '.split( ' ' ).join( c.namespace + 'filter ' );\r\n\t\t\tc.$table.bind( txt, function( event, filter ) {\r\n\t\t\t\tval = wo.filter_hideEmpty &&\r\n\t\t\t\t\t$.isEmptyObject( c.cache ) &&\r\n\t\t\t\t\t!( c.delayInit && event.type === 'appendCache' );\r\n\t\t\t\t// hide filter row using the 'filtered' class name\r\n\t\t\t\tc.$table.find( '.' + tscss.filterRow ).toggleClass( wo.filter_filteredRow, val ); // fixes #450\r\n\t\t\t\tif ( !/(search|filter)/.test( event.type ) ) {\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\ttsf.buildDefault( table, true );\r\n\t\t\t\t}\r\n\t\t\t\t// Add filterAndSortReset - see #1361\r\n\t\t\t\tif ( event.type === 'filterReset' || event.type === 'filterAndSortReset' ) {\r\n\t\t\t\t\tc.$table.find( '.' + tscss.filter ).add( wo.filter_$externalFilters ).val( '' );\r\n\t\t\t\t\tif ( event.type === 'filterAndSortReset' ) {\r\n\t\t\t\t\t\tts.sortReset( this.config, function() {\r\n\t\t\t\t\t\t\ttsf.searching( table, [] );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttsf.searching( table, [] );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( event.type === 'filterResetSaved' ) {\r\n\t\t\t\t\tts.storage( table, 'tablesorter-filters', '' );\r\n\t\t\t\t} else if ( event.type === 'filterEnd' ) {\r\n\t\t\t\t\ttsf.buildDefault( table, true );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// send false argument to force a new search; otherwise if the filter hasn't changed,\r\n\t\t\t\t\t// it will return\r\n\t\t\t\t\tfilter = event.type === 'search' ? filter :\r\n\t\t\t\t\t\tevent.type === 'updateComplete' ? c.$table.data( 'lastSearch' ) : '';\r\n\t\t\t\t\tif ( /(update|add)/.test( event.type ) && event.type !== 'updateComplete' ) {\r\n\t\t\t\t\t\t// force a new search since content has changed\r\n\t\t\t\t\t\tc.lastCombinedFilter = null;\r\n\t\t\t\t\t\tc.lastSearch = [];\r\n\t\t\t\t\t\t// update filterFormatters after update (& small delay) - Fixes #1237\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// pass true ( skipFirst ) to prevent the tablesorter.setFilters function from skipping the first\r\n\t\t\t\t\t// input ensures all inputs are updated when a search is triggered on the table\r\n\t\t\t\t\t// $( 'table' ).trigger( 'search', [...] );\r\n\t\t\t\t\ttsf.searching( table, filter, true );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\r\n\t\t\t// reset button/link\r\n\t\t\tif ( wo.filter_reset ) {\r\n\t\t\t\tif ( wo.filter_reset instanceof $ ) {\r\n\t\t\t\t\t// reset contains a jQuery object, bind to it\r\n\t\t\t\t\two.filter_reset.click( function() {\r\n\t\t\t\t\t\tc.$table.triggerHandler( 'filterReset' );\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if ( $( wo.filter_reset ).length ) {\r\n\t\t\t\t\t// reset is a jQuery selector, use event delegation\r\n\t\t\t\t\t$( document )\r\n\t\t\t\t\t\t.undelegate( wo.filter_reset, 'click' + c.namespace + 'filter' )\r\n\t\t\t\t\t\t.delegate( wo.filter_reset, 'click' + c.namespace + 'filter', function() {\r\n\t\t\t\t\t\t\t// trigger a reset event, so other functions ( filter_formatter ) know when to reset\r\n\t\t\t\t\t\t\tc.$table.triggerHandler( 'filterReset' );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( wo.filter_functions ) {\r\n\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\r\n\t\t\t\t\tfxn = ts.getColumnData( table, wo.filter_functions, column );\r\n\t\t\t\t\tif ( fxn ) {\r\n\t\t\t\t\t\t// remove 'filter-select' from header otherwise the options added here are replaced with\r\n\t\t\t\t\t\t// all options\r\n\t\t\t\t\t\t$header = c.$headerIndexed[ column ].removeClass( 'filter-select' );\r\n\t\t\t\t\t\t// don't build select if 'filter-false' or 'parser-false' set\r\n\t\t\t\t\t\tnoSelect = !( $header.hasClass( 'filter-false' ) || $header.hasClass( 'parser-false' ) );\r\n\t\t\t\t\t\toptions = '';\r\n\t\t\t\t\t\tif ( fxn === true && noSelect ) {\r\n\t\t\t\t\t\t\ttsf.buildSelect( table, column );\r\n\t\t\t\t\t\t} else if ( typeof fxn === 'object' && noSelect ) {\r\n\t\t\t\t\t\t\t// add custom drop down list\r\n\t\t\t\t\t\t\tfor ( string in fxn ) {\r\n\t\t\t\t\t\t\t\tif ( typeof string === 'string' ) {\r\n\t\t\t\t\t\t\t\t\toptions += options === '' ?\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"\">' +\r\n\t\t\t\t\t\t\t\t\t\t\t( $header.data( 'placeholder' ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t$header.attr( 'data-placeholder' ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\two.filter_placeholder.select ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t'</option>' : '';\r\n\t\t\t\t\t\t\t\t\tval = string;\r\n\t\t\t\t\t\t\t\t\ttxt = string;\r\n\t\t\t\t\t\t\t\t\tif ( string.indexOf( wo.filter_selectSourceSeparator ) >= 0 ) {\r\n\t\t\t\t\t\t\t\t\t\tval = string.split( wo.filter_selectSourceSeparator );\r\n\t\t\t\t\t\t\t\t\t\ttxt = val[1];\r\n\t\t\t\t\t\t\t\t\t\tval = val[0];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\toptions += '<option ' +\r\n\t\t\t\t\t\t\t\t\t\t( txt === val ? '' : 'data-function-name=\"' + string + '\" ' ) +\r\n\t\t\t\t\t\t\t\t\t\t'value=\"' + val + '\">' + txt + '</option>';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tc.$table\r\n\t\t\t\t\t\t\t\t.find( 'thead' )\r\n\t\t\t\t\t\t\t\t.find( 'select.' + tscss.filter + '[data-column=\"' + column + '\"]' )\r\n\t\t\t\t\t\t\t\t.append( options );\r\n\t\t\t\t\t\t\ttxt = wo.filter_selectSource;\r\n\t\t\t\t\t\t\tfxn = typeof txt === 'function' ? true : ts.getColumnData( table, txt, column );\r\n\t\t\t\t\t\t\tif ( fxn ) {\r\n\t\t\t\t\t\t\t\t// updating so the extra options are appended\r\n\t\t\t\t\t\t\t\ttsf.buildSelect( c.table, column, '', true, $header.hasClass( wo.filter_onlyAvail ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// not really updating, but if the column has both the 'filter-select' class &\r\n\t\t\t// filter_functions set to true, it would append the same options twice.\r\n\t\t\ttsf.buildDefault( table, true );\r\n\r\n\t\t\ttsf.bindSearch( table, c.$table.find( '.' + tscss.filter ), true );\r\n\t\t\tif ( wo.filter_external ) {\r\n\t\t\t\ttsf.bindSearch( table, wo.filter_external );\r\n\t\t\t}\r\n\r\n\t\t\tif ( wo.filter_hideFilters ) {\r\n\t\t\t\ttsf.hideFilters( c );\r\n\t\t\t}\r\n\r\n\t\t\t// show processing icon\r\n\t\t\tif ( c.showProcessing ) {\r\n\t\t\t\ttxt = 'filterStart filterEnd '.split( ' ' ).join( c.namespace + 'filter-sp ' );\r\n\t\t\t\tc.$table\r\n\t\t\t\t\t.unbind( txt.replace( ts.regex.spaces, ' ' ) )\r\n\t\t\t\t\t.bind( txt, function( event, columns ) {\r\n\t\t\t\t\t// only add processing to certain columns to all columns\r\n\t\t\t\t\t$header = ( columns ) ?\r\n\t\t\t\t\t\tc.$table\r\n\t\t\t\t\t\t\t.find( '.' + tscss.header )\r\n\t\t\t\t\t\t\t.filter( '[data-column]' )\r\n\t\t\t\t\t\t\t.filter( function() {\r\n\t\t\t\t\t\t\t\treturn columns[ $( this ).data( 'column' ) ] !== '';\r\n\t\t\t\t\t\t\t}) : '';\r\n\t\t\t\t\tts.isProcessing( table, event.type === 'filterStart', columns ? $header : '' );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// set filtered rows count ( intially unfiltered )\r\n\t\t\tc.filteredRows = c.totalRows;\r\n\r\n\t\t\t// add default values\r\n\t\t\ttxt = 'tablesorter-initialized pagerBeforeInitialized '.split( ' ' ).join( c.namespace + 'filter ' );\r\n\t\t\tc.$table\r\n\t\t\t.unbind( txt.replace( ts.regex.spaces, ' ' ) )\r\n\t\t\t.bind( txt, function() {\r\n\t\t\t\ttsf.completeInit( this );\r\n\t\t\t});\r\n\t\t\t// if filter widget is added after pager has initialized; then set filter init flag\r\n\t\t\tif ( c.pager && c.pager.initialized && !wo.filter_initialized ) {\r\n\t\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\ttsf.filterInitComplete( c );\r\n\t\t\t\t}, 100 );\r\n\t\t\t} else if ( !wo.filter_initialized ) {\r\n\t\t\t\ttsf.completeInit( table );\r\n\t\t\t}\r\n\t\t},\r\n\t\tcompleteInit: function( table ) {\r\n\t\t\t// redefine 'c' & 'wo' so they update properly inside this callback\r\n\t\t\tvar c = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tfilters = tsf.setDefaults( table, c, wo ) || [];\r\n\t\t\tif ( filters.length ) {\r\n\t\t\t\t// prevent delayInit from triggering a cache build if filters are empty\r\n\t\t\t\tif ( !( c.delayInit && filters.join( '' ) === '' ) ) {\r\n\t\t\t\t\tts.setFilters( table, filters, true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\r\n\t\t\t// trigger init after setTimeout to prevent multiple filterStart/End/Init triggers\r\n\t\t\tsetTimeout( function() {\r\n\t\t\t\tif ( !wo.filter_initialized ) {\r\n\t\t\t\t\ttsf.filterInitComplete( c );\r\n\t\t\t\t}\r\n\t\t\t}, 100 );\r\n\t\t},\r\n\r\n\t\t// $cell parameter, but not the config, is passed to the filter_formatters,\r\n\t\t// so we have to work with it instead\r\n\t\tformatterUpdated: function( $cell, column ) {\r\n\t\t\t// prevent error if $cell is undefined - see #1056\r\n\t\t\tvar $table = $cell && $cell.closest( 'table' );\r\n\t\t\tvar config = $table.length && $table[0].config,\r\n\t\t\t\two = config && config.widgetOptions;\r\n\t\t\tif ( wo && !wo.filter_initialized ) {\r\n\t\t\t\t// add updates by column since this function\r\n\t\t\t\t// may be called numerous times before initialization\r\n\t\t\t\two.filter_formatterInit[ column ] = 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilterInitComplete: function( c ) {\r\n\t\t\tvar indx, len,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tcount = 0,\r\n\t\t\t\tcompleted = function() {\r\n\t\t\t\t\two.filter_initialized = true;\r\n\t\t\t\t\t// update lastSearch - it gets cleared often\r\n\t\t\t\t\tc.lastSearch = c.$table.data( 'lastSearch' );\r\n\t\t\t\t\tc.$table.triggerHandler( 'filterInit', c );\r\n\t\t\t\t\ttsf.findRows( c.table, c.lastSearch || [] );\r\n\t\t\t\t\tif (ts.debug(c, 'filter')) {\r\n\t\t\t\t\t\tconsole.log('Filter >> Widget initialized');\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\tif ( $.isEmptyObject( wo.filter_formatter ) ) {\r\n\t\t\t\tcompleted();\r\n\t\t\t} else {\r\n\t\t\t\tlen = wo.filter_formatterInit.length;\r\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\tif ( wo.filter_formatterInit[ indx ] === 1 ) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout( wo.filter_initTimer );\r\n\t\t\t\tif ( !wo.filter_initialized && count === wo.filter_formatterCount ) {\r\n\t\t\t\t\t// filter widget initialized\r\n\t\t\t\t\tcompleted();\r\n\t\t\t\t} else if ( !wo.filter_initialized ) {\r\n\t\t\t\t\t// fall back in case a filter_formatter doesn't call\r\n\t\t\t\t\t// $.tablesorter.filter.formatterUpdated( $cell, column ), and the count is off\r\n\t\t\t\t\two.filter_initTimer = setTimeout( function() {\r\n\t\t\t\t\t\tcompleted();\r\n\t\t\t\t\t}, 500 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// encode or decode filters for storage; see #1026\r\n\t\tprocessFilters: function( filters, encode ) {\r\n\t\t\tvar indx,\r\n\t\t\t\t// fixes #1237; previously returning an encoded \"filters\" value\r\n\t\t\t\tresult = [],\r\n\t\t\t\tmode = encode ? encodeURIComponent : decodeURIComponent,\r\n\t\t\t\tlen = filters.length;\r\n\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\tif ( filters[ indx ] ) {\r\n\t\t\t\t\tresult[ indx ] = mode( filters[ indx ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tsetDefaults: function( table, c, wo ) {\r\n\t\t\tvar isArray, saved, indx, col, $filters,\r\n\t\t\t\t// get current ( default ) filters\r\n\t\t\t\tfilters = ts.getFilters( table ) || [];\r\n\t\t\tif ( wo.filter_saveFilters && ts.storage ) {\r\n\t\t\t\tsaved = ts.storage( table, 'tablesorter-filters' ) || [];\r\n\t\t\t\tisArray = $.isArray( saved );\r\n\t\t\t\t// make sure we're not just getting an empty array\r\n\t\t\t\tif ( !( isArray && saved.join( '' ) === '' || !isArray ) ) {\r\n\t\t\t\t\tfilters = tsf.processFilters( saved );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if no filters saved, then check default settings\r\n\t\t\tif ( filters.join( '' ) === '' ) {\r\n\t\t\t\t// allow adding default setting to external filters\r\n\t\t\t\t$filters = c.$headers.add( wo.filter_$externalFilters )\r\n\t\t\t\t\t.filter( '[' + wo.filter_defaultAttrib + ']' );\r\n\t\t\t\tfor ( indx = 0; indx <= c.columns; indx++ ) {\r\n\t\t\t\t\t// include data-column='all' external filters\r\n\t\t\t\t\tcol = indx === c.columns ? 'all' : indx;\r\n\t\t\t\t\tfilters[ indx ] = $filters\r\n\t\t\t\t\t\t.filter( '[data-column=\"' + col + '\"]' )\r\n\t\t\t\t\t\t.attr( wo.filter_defaultAttrib ) || filters[indx] || '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tc.$table.data( 'lastSearch', filters );\r\n\t\t\treturn filters;\r\n\t\t},\r\n\t\tparseFilter: function( c, filter, data, parsed ) {\r\n\t\t\treturn parsed || data.parsed[ data.index ] ?\r\n\t\t\t\tc.parsers[ data.index ].format( filter, c.table, [], data.index ) :\r\n\t\t\t\tfilter;\r\n\t\t},\r\n\t\tbuildRow: function( table, c, wo ) {\r\n\t\t\tvar $filter, col, column, $header, makeSelect, disabled, name, ffxn, tmp,\r\n\t\t\t\t// c.columns defined in computeThIndexes()\r\n\t\t\t\tcellFilter = wo.filter_cellFilter,\r\n\t\t\t\tcolumns = c.columns,\r\n\t\t\t\tarry = $.isArray( cellFilter ),\r\n\t\t\t\tbuildFilter = '<tr role=\"search\" class=\"' + tscss.filterRow + ' ' + c.cssIgnoreRow + '\">';\r\n\t\t\tfor ( column = 0; column < columns; column++ ) {\r\n\t\t\t\tif ( c.$headerIndexed[ column ].length ) {\r\n\t\t\t\t\t// account for entire column set with colspan. See #1047\r\n\t\t\t\t\ttmp = c.$headerIndexed[ column ] && c.$headerIndexed[ column ][0].colSpan || 0;\r\n\t\t\t\t\tif ( tmp > 1 ) {\r\n\t\t\t\t\t\tbuildFilter += '<td data-column=\"' + column + '-' + ( column + tmp - 1 ) + '\" colspan=\"' + tmp + '\"';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbuildFilter += '<td data-column=\"' + column + '\"';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( arry ) {\r\n\t\t\t\t\t\tbuildFilter += ( cellFilter[ column ] ? ' class=\"' + cellFilter[ column ] + '\"' : '' );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbuildFilter += ( cellFilter !== '' ? ' class=\"' + cellFilter + '\"' : '' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuildFilter += '></td>';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tc.$filters = $( buildFilter += '</tr>' )\r\n\t\t\t\t.appendTo( c.$table.children( 'thead' ).eq( 0 ) )\r\n\t\t\t\t.children( 'td' );\r\n\t\t\t// build each filter input\r\n\t\t\tfor ( column = 0; column < columns; column++ ) {\r\n\t\t\t\tdisabled = false;\r\n\t\t\t\t// assuming last cell of a column is the main column\r\n\t\t\t\t$header = c.$headerIndexed[ column ];\r\n\t\t\t\tif ( $header && $header.length ) {\r\n\t\t\t\t\t// $filter = c.$filters.filter( '[data-column=\"' + column + '\"]' );\r\n\t\t\t\t\t$filter = tsf.getColumnElm( c, c.$filters, column );\r\n\t\t\t\t\tffxn = ts.getColumnData( table, wo.filter_functions, column );\r\n\t\t\t\t\tmakeSelect = ( wo.filter_functions && ffxn && typeof ffxn !== 'function' ) ||\r\n\t\t\t\t\t\t$header.hasClass( 'filter-select' );\r\n\t\t\t\t\t// get data from jQuery data, metadata, headers option or header class name\r\n\t\t\t\t\tcol = ts.getColumnData( table, c.headers, column );\r\n\t\t\t\t\tdisabled = ts.getData( $header[0], col, 'filter' ) === 'false' ||\r\n\t\t\t\t\t\tts.getData( $header[0], col, 'parser' ) === 'false';\r\n\r\n\t\t\t\t\tif ( makeSelect ) {\r\n\t\t\t\t\t\tbuildFilter = $( '<select>' ).appendTo( $filter );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tffxn = ts.getColumnData( table, wo.filter_formatter, column );\r\n\t\t\t\t\t\tif ( ffxn ) {\r\n\t\t\t\t\t\t\two.filter_formatterCount++;\r\n\t\t\t\t\t\t\tbuildFilter = ffxn( $filter, column );\r\n\t\t\t\t\t\t\t// no element returned, so lets go find it\r\n\t\t\t\t\t\t\tif ( buildFilter && buildFilter.length === 0 ) {\r\n\t\t\t\t\t\t\t\tbuildFilter = $filter.children( 'input' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// element not in DOM, so lets attach it\r\n\t\t\t\t\t\t\tif ( buildFilter && ( buildFilter.parent().length === 0 ||\r\n\t\t\t\t\t\t\t\t( buildFilter.parent().length && buildFilter.parent()[0] !== $filter[0] ) ) ) {\r\n\t\t\t\t\t\t\t\t$filter.append( buildFilter );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbuildFilter = $( '<input type=\"search\">' ).appendTo( $filter );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( buildFilter ) {\r\n\t\t\t\t\t\t\ttmp = $header.data( 'placeholder' ) ||\r\n\t\t\t\t\t\t\t\t$header.attr( 'data-placeholder' ) ||\r\n\t\t\t\t\t\t\t\two.filter_placeholder.search || '';\r\n\t\t\t\t\t\t\tbuildFilter.attr( 'placeholder', tmp );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( buildFilter ) {\r\n\t\t\t\t\t\t// add filter class name\r\n\t\t\t\t\t\tname = ( $.isArray( wo.filter_cssFilter ) ?\r\n\t\t\t\t\t\t\t( typeof wo.filter_cssFilter[column] !== 'undefined' ? wo.filter_cssFilter[column] || '' : '' ) :\r\n\t\t\t\t\t\t\two.filter_cssFilter ) || '';\r\n\t\t\t\t\t\t// copy data-column from table cell (it will include colspan)\r\n\t\t\t\t\t\tbuildFilter.addClass( tscss.filter + ' ' + name );\r\n\t\t\t\t\t\tname = wo.filter_filterLabel;\r\n\t\t\t\t\t\ttmp = name.match(/{{([^}]+?)}}/g);\r\n\t\t\t\t\t\tif (!tmp) {\r\n\t\t\t\t\t\t\ttmp = [ '{{label}}' ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$.each(tmp, function(indx, attr) {\r\n\t\t\t\t\t\t\tvar regex = new RegExp(attr, 'g'),\r\n\t\t\t\t\t\t\t\tdata = $header.attr('data-' + attr.replace(/{{|}}/g, '')),\r\n\t\t\t\t\t\t\t\ttext = typeof data === 'undefined' ? $header.text() : data;\r\n\t\t\t\t\t\t\tname = name.replace( regex, $.trim( text ) );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbuildFilter.attr({\r\n\t\t\t\t\t\t\t'data-column': $filter.attr( 'data-column' ),\r\n\t\t\t\t\t\t\t'aria-label': name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif ( disabled ) {\r\n\t\t\t\t\t\t\tbuildFilter.attr( 'placeholder', '' ).addClass( tscss.filterDisabled )[0].disabled = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tbindSearch: function( table, $el, internal ) {\r\n\t\t\ttable = $( table )[0];\r\n\t\t\t$el = $( $el ); // allow passing a selector string\r\n\t\t\tif ( !$el.length ) { return; }\r\n\t\t\tvar tmp,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tnamespace = c.namespace + 'filter',\r\n\t\t\t\t$ext = wo.filter_$externalFilters;\r\n\t\t\tif ( internal !== true ) {\r\n\t\t\t\t// save anyMatch element\r\n\t\t\t\ttmp = wo.filter_anyColumnSelector + ',' + wo.filter_multipleColumnSelector;\r\n\t\t\t\two.filter_$anyMatch = $el.filter( tmp );\r\n\t\t\t\tif ( $ext && $ext.length ) {\r\n\t\t\t\t\two.filter_$externalFilters = wo.filter_$externalFilters.add( $el );\r\n\t\t\t\t} else {\r\n\t\t\t\t\two.filter_$externalFilters = $el;\r\n\t\t\t\t}\r\n\t\t\t\t// update values ( external filters added after table initialization )\r\n\t\t\t\tts.setFilters( table, c.$table.data( 'lastSearch' ) || [], internal === false );\r\n\t\t\t}\r\n\t\t\t// unbind events\r\n\t\t\ttmp = ( 'keypress keyup keydown search change input '.split( ' ' ).join( namespace + ' ' ) );\r\n\t\t\t$el\r\n\t\t\t// use data attribute instead of jQuery data since the head is cloned without including\r\n\t\t\t// the data/binding\r\n\t\t\t.attr( 'data-lastSearchTime', new Date().getTime() )\r\n\t\t\t.unbind( tmp.replace( ts.regex.spaces, ' ' ) )\r\n\t\t\t.bind( 'keydown' + namespace, function( event ) {\r\n\t\t\t\tif ( event.which === tskeyCodes.escape && !table.config.widgetOptions.filter_resetOnEsc ) {\r\n\t\t\t\t\t// prevent keypress event\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.bind( 'keyup' + namespace, function( event ) {\r\n\t\t\t\two = table.config.widgetOptions; // make sure \"wo\" isn't cached\r\n\t\t\t\tvar column = parseInt( $( this ).attr( 'data-column' ), 10 ),\r\n\t\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ? wo.filter_liveSearch :\r\n\t\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\r\n\t\t\t\tif ( typeof liveSearch === 'undefined' ) {\r\n\t\t\t\t\tliveSearch = wo.filter_liveSearch.fallback || false;\r\n\t\t\t\t}\r\n\t\t\t\t$( this ).attr( 'data-lastSearchTime', new Date().getTime() );\r\n\t\t\t\t// emulate what webkit does.... escape clears the filter\r\n\t\t\t\tif ( event.which === tskeyCodes.escape ) {\r\n\t\t\t\t\t// make sure to restore the last value on escape\r\n\t\t\t\t\tthis.value = wo.filter_resetOnEsc ? '' : c.lastSearch[column];\r\n\t\t\t\t\t// don't return if the search value is empty ( all rows need to be revealed )\r\n\t\t\t\t} else if ( this.value !== '' && (\r\n\t\t\t\t\t// liveSearch can contain a min value length; ignore arrow and meta keys, but allow backspace\r\n\t\t\t\t\t( typeof liveSearch === 'number' && this.value.length < liveSearch ) ||\r\n\t\t\t\t\t// let return & backspace continue on, but ignore arrows & non-valid characters\r\n\t\t\t\t\t( event.which !== tskeyCodes.enter && event.which !== tskeyCodes.backSpace &&\r\n\t\t\t\t\t\t( event.which < tskeyCodes.space || ( event.which >= tskeyCodes.left && event.which <= tskeyCodes.down ) ) ) ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t// live search\r\n\t\t\t\t} else if ( liveSearch === false ) {\r\n\t\t\t\t\tif ( this.value !== '' && event.which !== tskeyCodes.enter ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// change event = no delay; last true flag tells getFilters to skip newest timed input\r\n\t\t\t\ttsf.searching( table, true, true, column );\r\n\t\t\t})\r\n\t\t\t// include change for select - fixes #473\r\n\t\t\t.bind( 'search change keypress input blur '.split( ' ' ).join( namespace + ' ' ), function( event ) {\r\n\t\t\t\t// don't get cached data, in case data-column changes dynamically\r\n\t\t\t\tvar column = parseInt( $( this ).attr( 'data-column' ), 10 ),\r\n\t\t\t\t\teventType = event.type,\r\n\t\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ?\r\n\t\t\t\t\t\two.filter_liveSearch :\r\n\t\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\r\n\t\t\t\tif ( table.config.widgetOptions.filter_initialized &&\r\n\t\t\t\t\t// immediate search if user presses enter\r\n\t\t\t\t\t( event.which === tskeyCodes.enter ||\r\n\t\t\t\t\t\t// immediate search if a \"search\" or \"blur\" is triggered on the input\r\n\t\t\t\t\t\t( eventType === 'search' || eventType === 'blur' ) ||\r\n\t\t\t\t\t\t// change & input events must be ignored if liveSearch !== true\r\n\t\t\t\t\t\t( eventType === 'change' || eventType === 'input' ) &&\r\n\t\t\t\t\t\t// prevent search if liveSearch is a number\r\n\t\t\t\t\t\t( liveSearch === true || liveSearch !== true && event.target.nodeName !== 'INPUT' ) &&\r\n\t\t\t\t\t\t// don't allow 'change' or 'input' event to process if the input value\r\n\t\t\t\t\t\t// is the same - fixes #685\r\n\t\t\t\t\t\tthis.value !== c.lastSearch[column]\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t// init search with no delay\r\n\t\t\t\t\t$( this ).attr( 'data-lastSearchTime', new Date().getTime() );\r\n\t\t\t\t\ttsf.searching( table, eventType !== 'keypress' || event.which === tskeyCodes.enter, true, column );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsearching: function( table, filter, skipFirst, column ) {\r\n\t\t\tvar liveSearch,\r\n\t\t\t\two = table.config.widgetOptions;\r\n\t\t\tif (typeof column === 'undefined') {\r\n\t\t\t\t// no delay\r\n\t\t\t\tliveSearch = false;\r\n\t\t\t} else {\r\n\t\t\t\tliveSearch = typeof wo.filter_liveSearch === 'boolean' ?\r\n\t\t\t\t\two.filter_liveSearch :\r\n\t\t\t\t\t// get column setting, or set to fallback value, or default to false\r\n\t\t\t\t\tts.getColumnData( table, wo.filter_liveSearch, column );\r\n\t\t\t\tif ( typeof liveSearch === 'undefined' ) {\r\n\t\t\t\t\tliveSearch = wo.filter_liveSearch.fallback || false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tclearTimeout( wo.filter_searchTimer );\r\n\t\t\tif ( typeof filter === 'undefined' || filter === true ) {\r\n\t\t\t\t// delay filtering\r\n\t\t\t\two.filter_searchTimer = setTimeout( function() {\r\n\t\t\t\t\ttsf.checkFilters( table, filter, skipFirst );\r\n\t\t\t\t}, liveSearch ? wo.filter_searchDelay : 10 );\r\n\t\t\t} else {\r\n\t\t\t\t// skip delay\r\n\t\t\t\ttsf.checkFilters( table, filter, skipFirst );\r\n\t\t\t}\r\n\t\t},\r\n\t\tequalFilters: function (c, filter1, filter2) {\r\n\t\t\tvar indx,\r\n\t\t\t\tf1 = [],\r\n\t\t\t\tf2 = [],\r\n\t\t\t\tlen = c.columns + 1; // add one to include anyMatch filter\r\n\t\t\tfilter1 = $.isArray(filter1) ? filter1 : [];\r\n\t\t\tfilter2 = $.isArray(filter2) ? filter2 : [];\r\n\t\t\tfor (indx = 0; indx < len; indx++) {\r\n\t\t\t\tf1[indx] = filter1[indx] || '';\r\n\t\t\t\tf2[indx] = filter2[indx] || '';\r\n\t\t\t}\r\n\t\t\treturn f1.join(',') === f2.join(',');\r\n\t\t},\r\n\t\tcheckFilters: function( table, filter, skipFirst ) {\r\n\t\t\tvar c = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tfilterArray = $.isArray( filter ),\r\n\t\t\t\tfilters = ( filterArray ) ? filter : ts.getFilters( table, true ),\r\n\t\t\t\tcurrentFilters = filters || []; // current filter values\r\n\t\t\t// prevent errors if delay init is set\r\n\t\t\tif ( $.isEmptyObject( c.cache ) ) {\r\n\t\t\t\t// update cache if delayInit set & pager has initialized ( after user initiates a search )\r\n\t\t\t\tif ( c.delayInit && ( !c.pager || c.pager && c.pager.initialized ) ) {\r\n\t\t\t\t\tts.updateCache( c, function() {\r\n\t\t\t\t\t\ttsf.checkFilters( table, false, skipFirst );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// add filter array back into inputs\r\n\t\t\tif ( filterArray ) {\r\n\t\t\t\tts.setFilters( table, filters, false, skipFirst !== true );\r\n\t\t\t\tif ( !wo.filter_initialized ) {\r\n\t\t\t\t\tc.lastSearch = [];\r\n\t\t\t\t\tc.lastCombinedFilter = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( wo.filter_hideFilters ) {\r\n\t\t\t\t// show/hide filter row as needed\r\n\t\t\t\tc.$table\r\n\t\t\t\t\t.find( '.' + tscss.filterRow )\r\n\t\t\t\t\t.triggerHandler( tsf.hideFiltersCheck( c ) ? 'mouseleave' : 'mouseenter' );\r\n\t\t\t}\r\n\t\t\t// return if the last search is the same; but filter === false when updating the search\r\n\t\t\t// see example-widget-filter.html filter toggle buttons\r\n\t\t\tif ( tsf.equalFilters(c, c.lastSearch, currentFilters) ) {\r\n\t\t\t\tif ( filter !== false ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// force filter refresh\r\n\t\t\t\t\tc.lastCombinedFilter = '';\r\n\t\t\t\t\tc.lastSearch = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// define filter inside it is false\r\n\t\t\tfilters = filters || [];\r\n\t\t\t// convert filters to strings - see #1070\r\n\t\t\tfilters = Array.prototype.map ?\r\n\t\t\t\tfilters.map( String ) :\r\n\t\t\t\t// for IE8 & older browsers - maybe not the best method\r\n\t\t\t\tfilters.join( '\\ufffd' ).split( '\\ufffd' );\r\n\r\n\t\t\tif ( wo.filter_initialized ) {\r\n\t\t\t\tc.$table.triggerHandler( 'filterStart', [ filters ] );\r\n\t\t\t}\r\n\t\t\tif ( c.showProcessing ) {\r\n\t\t\t\t// give it time for the processing icon to kick in\r\n\t\t\t\tsetTimeout( function() {\r\n\t\t\t\t\ttsf.findRows( table, filters, currentFilters );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}, 30 );\r\n\t\t\t} else {\r\n\t\t\t\ttsf.findRows( table, filters, currentFilters );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\thideFiltersCheck: function( c ) {\r\n\t\t\tif (typeof c.widgetOptions.filter_hideFilters === 'function') {\r\n\t\t\t\tvar val = c.widgetOptions.filter_hideFilters( c );\r\n\t\t\t\tif (typeof val === 'boolean') {\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ts.getFilters( c.$table ).join( '' ) === '';\r\n\t\t},\r\n\t\thideFilters: function( c, $table ) {\r\n\t\t\tvar timer;\r\n\t\t\t( $table || c.$table )\r\n\t\t\t\t.find( '.' + tscss.filterRow )\r\n\t\t\t\t.addClass( tscss.filterRowHide )\r\n\t\t\t\t.bind( 'mouseenter mouseleave', function( e ) {\r\n\t\t\t\t\t// save event object - http://bugs.jquery.com/ticket/12140\r\n\t\t\t\t\tvar event = e,\r\n\t\t\t\t\t\t$row = $( this );\r\n\t\t\t\t\tclearTimeout( timer );\r\n\t\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\t\tif ( /enter|over/.test( event.type ) ) {\r\n\t\t\t\t\t\t\t$row.removeClass( tscss.filterRowHide );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// don't hide if input has focus\r\n\t\t\t\t\t\t\t// $( ':focus' ) needs jQuery 1.6+\r\n\t\t\t\t\t\t\tif ( $( document.activeElement ).closest( 'tr' )[0] !== $row[0] ) {\r\n\t\t\t\t\t\t\t\t// don't hide row if any filter has a value\r\n\t\t\t\t\t\t\t\t$row.toggleClass( tscss.filterRowHide, tsf.hideFiltersCheck( c ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 200 );\r\n\t\t\t\t})\r\n\t\t\t\t.find( 'input, select' ).bind( 'focus blur', function( e ) {\r\n\t\t\t\t\tvar event = e,\r\n\t\t\t\t\t\t$row = $( this ).closest( 'tr' );\r\n\t\t\t\t\tclearTimeout( timer );\r\n\t\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\t\tclearTimeout( timer );\r\n\t\t\t\t\t\t// don't hide row if any filter has a value\r\n\t\t\t\t\t\t$row.toggleClass( tscss.filterRowHide, tsf.hideFiltersCheck( c ) && event.type !== 'focus' );\r\n\t\t\t\t\t}, 200 );\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tdefaultFilter: function( filter, mask ) {\r\n\t\t\tif ( filter === '' ) { return filter; }\r\n\t\t\tvar regex = tsfRegex.iQuery,\r\n\t\t\t\tmaskLen = mask.match( tsfRegex.igQuery ).length,\r\n\t\t\t\tquery = maskLen > 1 ? $.trim( filter ).split( /\\s/ ) : [ $.trim( filter ) ],\r\n\t\t\t\tlen = query.length - 1,\r\n\t\t\t\tindx = 0,\r\n\t\t\t\tval = mask;\r\n\t\t\tif ( len < 1 && maskLen > 1 ) {\r\n\t\t\t\t// only one 'word' in query but mask has >1 slots\r\n\t\t\t\tquery[1] = query[0];\r\n\t\t\t}\r\n\t\t\t// replace all {query} with query words...\r\n\t\t\t// if query = 'Bob', then convert mask from '!{query}' to '!Bob'\r\n\t\t\t// if query = 'Bob Joe Frank', then convert mask '{q} OR {q}' to 'Bob OR Joe OR Frank'\r\n\t\t\twhile ( regex.test( val ) ) {\r\n\t\t\t\tval = val.replace( regex, query[indx++] || '' );\r\n\t\t\t\tif ( regex.test( val ) && indx < len && ( query[indx] || '' ) !== '' ) {\r\n\t\t\t\t\tval = mask.replace( regex, val );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\t\tgetLatestSearch: function( $input ) {\r\n\t\t\tif ( $input ) {\r\n\t\t\t\treturn $input.sort( function( a, b ) {\r\n\t\t\t\t\treturn $( b ).attr( 'data-lastSearchTime' ) - $( a ).attr( 'data-lastSearchTime' );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn $input || $();\r\n\t\t},\r\n\t\tfindRange: function( c, val, ignoreRanges ) {\r\n\t\t\t// look for multiple columns '1-3,4-6,8' in data-column\r\n\t\t\tvar temp, ranges, range, start, end, singles, i, indx, len,\r\n\t\t\t\tcolumns = [];\r\n\t\t\tif ( /^[0-9]+$/.test( val ) ) {\r\n\t\t\t\t// always return an array\r\n\t\t\t\treturn [ parseInt( val, 10 ) ];\r\n\t\t\t}\r\n\t\t\t// process column range\r\n\t\t\tif ( !ignoreRanges && /-/.test( val ) ) {\r\n\t\t\t\tranges = val.match( /(\\d+)\\s*-\\s*(\\d+)/g );\r\n\t\t\t\tlen = ranges ? ranges.length : 0;\r\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\trange = ranges[indx].split( /\\s*-\\s*/ );\r\n\t\t\t\t\tstart = parseInt( range[0], 10 ) || 0;\r\n\t\t\t\t\tend = parseInt( range[1], 10 ) || ( c.columns - 1 );\r\n\t\t\t\t\tif ( start > end ) {\r\n\t\t\t\t\t\ttemp = start; start = end; end = temp; // swap\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( end >= c.columns ) {\r\n\t\t\t\t\t\tend = c.columns - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor ( ; start <= end; start++ ) {\r\n\t\t\t\t\t\tcolumns[ columns.length ] = start;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// remove processed range from val\r\n\t\t\t\t\tval = val.replace( ranges[ indx ], '' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// process single columns\r\n\t\t\tif ( !ignoreRanges && /,/.test( val ) ) {\r\n\t\t\t\tsingles = val.split( /\\s*,\\s*/ );\r\n\t\t\t\tlen = singles.length;\r\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\tif ( singles[ i ] !== '' ) {\r\n\t\t\t\t\t\tindx = parseInt( singles[ i ], 10 );\r\n\t\t\t\t\t\tif ( indx < c.columns ) {\r\n\t\t\t\t\t\t\tcolumns[ columns.length ] = indx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// return all columns\r\n\t\t\tif ( !columns.length ) {\r\n\t\t\t\tfor ( indx = 0; indx < c.columns; indx++ ) {\r\n\t\t\t\t\tcolumns[ columns.length ] = indx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn columns;\r\n\t\t},\r\n\t\tgetColumnElm: function( c, $elements, column ) {\r\n\t\t\t// data-column may contain multiple columns '1-3,5-6,8'\r\n\t\t\t// replaces: c.$filters.filter( '[data-column=\"' + column + '\"]' );\r\n\t\t\treturn $elements.filter( function() {\r\n\t\t\t\tvar cols = tsf.findRange( c, $( this ).attr( 'data-column' ) );\r\n\t\t\t\treturn $.inArray( column, cols ) > -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tmultipleColumns: function( c, $input ) {\r\n\t\t\t// look for multiple columns '1-3,4-6,8' in data-column\r\n\t\t\tvar wo = c.widgetOptions,\r\n\t\t\t\t// only target 'all' column inputs on initialization\r\n\t\t\t\t// & don't target 'all' column inputs if they don't exist\r\n\t\t\t\ttargets = wo.filter_initialized || !$input.filter( wo.filter_anyColumnSelector ).length,\r\n\t\t\t\tval = $.trim( tsf.getLatestSearch( $input ).attr( 'data-column' ) || '' );\r\n\t\t\treturn tsf.findRange( c, val, !targets );\r\n\t\t},\r\n\t\tprocessTypes: function( c, data, vars ) {\r\n\t\t\tvar ffxn,\r\n\t\t\t\tfilterMatched = null,\r\n\t\t\t\tmatches = null;\r\n\t\t\tfor ( ffxn in tsf.types ) {\r\n\t\t\t\tif ( $.inArray( ffxn, vars.excludeMatch ) < 0 && matches === null ) {\r\n\t\t\t\t\tmatches = tsf.types[ffxn]( c, data, vars );\r\n\t\t\t\t\tif ( matches !== null ) {\r\n\t\t\t\t\t\tdata.matchedOn = ffxn;\r\n\t\t\t\t\t\tfilterMatched = matches;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn filterMatched;\r\n\t\t},\r\n\t\tmatchType: function( c, columnIndex ) {\r\n\t\t\tvar isMatch,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\t$el = c.$headerIndexed[ columnIndex ];\r\n\t\t\t// filter-exact > filter-match > filter_matchType for type\r\n\t\t\tif ( $el.hasClass( 'filter-exact' ) ) {\r\n\t\t\t\tisMatch = false;\r\n\t\t\t} else if ( $el.hasClass( 'filter-match' ) ) {\r\n\t\t\t\tisMatch = true;\r\n\t\t\t} else {\r\n\t\t\t\t// filter-select is not applied when filter_functions are used, so look for a select\r\n\t\t\t\tif ( wo.filter_columnFilters ) {\r\n\t\t\t\t\t$el = c.$filters\r\n\t\t\t\t\t\t.find( '.' + tscss.filter )\r\n\t\t\t\t\t\t.add( wo.filter_$externalFilters )\r\n\t\t\t\t\t\t.filter( '[data-column=\"' + columnIndex + '\"]' );\r\n\t\t\t\t} else if ( wo.filter_$externalFilters ) {\r\n\t\t\t\t\t$el = wo.filter_$externalFilters.filter( '[data-column=\"' + columnIndex + '\"]' );\r\n\t\t\t\t}\r\n\t\t\t\tisMatch = $el.length ?\r\n\t\t\t\t\tc.widgetOptions.filter_matchType[ ( $el[ 0 ].nodeName || '' ).toLowerCase() ] === 'match' :\r\n\t\t\t\t\t// default to exact, if no inputs found\r\n\t\t\t\t\tfalse;\r\n\t\t\t}\r\n\t\t\treturn isMatch;\r\n\t\t},\r\n\t\tprocessRow: function( c, data, vars ) {\r\n\t\t\tvar result, filterMatched,\r\n\t\t\t\tfxn, ffxn, txt,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tshowRow = true,\r\n\t\t\t\thasAnyMatchInput = wo.filter_$anyMatch && wo.filter_$anyMatch.length,\r\n\r\n\t\t\t\t// if wo.filter_$anyMatch data-column attribute is changed dynamically\r\n\t\t\t\t// we don't want to do an \"anyMatch\" search on one column using data\r\n\t\t\t\t// for the entire row - see #998\r\n\t\t\t\tcolumnIndex = wo.filter_$anyMatch && wo.filter_$anyMatch.length ?\r\n\t\t\t\t\t// look for multiple columns '1-3,4-6,8'\r\n\t\t\t\t\ttsf.multipleColumns( c, wo.filter_$anyMatch ) :\r\n\t\t\t\t\t[];\r\n\t\t\tdata.$cells = data.$row.children();\r\n\t\t\tdata.matchedOn = null;\r\n\t\t\tif ( data.anyMatchFlag && columnIndex.length > 1 || ( data.anyMatchFilter && !hasAnyMatchInput ) ) {\r\n\t\t\t\tdata.anyMatch = true;\r\n\t\t\t\tdata.isMatch = true;\r\n\t\t\t\tdata.rowArray = data.$cells.map( function( i ) {\r\n\t\t\t\t\tif ( $.inArray( i, columnIndex ) > -1 || ( data.anyMatchFilter && !hasAnyMatchInput ) ) {\r\n\t\t\t\t\t\tif ( data.parsed[ i ] ) {\r\n\t\t\t\t\t\t\ttxt = data.cacheArray[ i ];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttxt = data.rawArray[ i ];\r\n\t\t\t\t\t\t\ttxt = $.trim( wo.filter_ignoreCase ? txt.toLowerCase() : txt );\r\n\t\t\t\t\t\t\tif ( c.sortLocaleCompare ) {\r\n\t\t\t\t\t\t\t\ttxt = ts.replaceAccents( txt );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn txt;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).get();\r\n\t\t\t\tdata.filter = data.anyMatchFilter;\r\n\t\t\t\tdata.iFilter = data.iAnyMatchFilter;\r\n\t\t\t\tdata.exact = data.rowArray.join( ' ' );\r\n\t\t\t\tdata.iExact = wo.filter_ignoreCase ? data.exact.toLowerCase() : data.exact;\r\n\t\t\t\tdata.cache = data.cacheArray.slice( 0, -1 ).join( ' ' );\r\n\t\t\t\tvars.excludeMatch = vars.noAnyMatch;\r\n\t\t\t\tfilterMatched = tsf.processTypes( c, data, vars );\r\n\t\t\t\tif ( filterMatched !== null ) {\r\n\t\t\t\t\tshowRow = filterMatched;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( wo.filter_startsWith ) {\r\n\t\t\t\t\t\tshowRow = false;\r\n\t\t\t\t\t\t// data.rowArray may not contain all columns\r\n\t\t\t\t\t\tcolumnIndex = Math.min( c.columns, data.rowArray.length );\r\n\t\t\t\t\t\twhile ( !showRow && columnIndex > 0 ) {\r\n\t\t\t\t\t\t\tcolumnIndex--;\r\n\t\t\t\t\t\t\tshowRow = showRow || data.rowArray[ columnIndex ].indexOf( data.iFilter ) === 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tshowRow = ( data.iExact + data.childRowText ).indexOf( data.iFilter ) >= 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdata.anyMatch = false;\r\n\t\t\t\t// no other filters to process\r\n\t\t\t\tif ( data.filters.join( '' ) === data.filter ) {\r\n\t\t\t\t\treturn showRow;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( columnIndex = 0; columnIndex < c.columns; columnIndex++ ) {\r\n\t\t\t\tdata.filter = data.filters[ columnIndex ];\r\n\t\t\t\tdata.index = columnIndex;\r\n\r\n\t\t\t\t// filter types to exclude, per column\r\n\t\t\t\tvars.excludeMatch = vars.excludeFilter[ columnIndex ];\r\n\r\n\t\t\t\t// ignore if filter is empty or disabled\r\n\t\t\t\tif ( data.filter ) {\r\n\t\t\t\t\tdata.cache = data.cacheArray[ columnIndex ];\r\n\t\t\t\t\tresult = data.parsed[ columnIndex ] ? data.cache : data.rawArray[ columnIndex ] || '';\r\n\t\t\t\t\tdata.exact = c.sortLocaleCompare ? ts.replaceAccents( result ) : result; // issue #405\r\n\t\t\t\t\tdata.iExact = !tsfRegex.type.test( typeof data.exact ) && wo.filter_ignoreCase ?\r\n\t\t\t\t\t\tdata.exact.toLowerCase() : data.exact;\r\n\t\t\t\t\tdata.isMatch = tsf.matchType( c, columnIndex );\r\n\r\n\t\t\t\t\tresult = showRow; // if showRow is true, show that row\r\n\r\n\t\t\t\t\t// in case select filter option has a different value vs text 'a - z|A through Z'\r\n\t\t\t\t\tffxn = wo.filter_columnFilters ?\r\n\t\t\t\t\t\tc.$filters.add( wo.filter_$externalFilters )\r\n\t\t\t\t\t\t\t.filter( '[data-column=\"' + columnIndex + '\"]' )\r\n\t\t\t\t\t\t\t.find( 'select option:selected' )\r\n\t\t\t\t\t\t\t.attr( 'data-function-name' ) || '' : '';\r\n\t\t\t\t\t// replace accents - see #357\r\n\t\t\t\t\tif ( c.sortLocaleCompare ) {\r\n\t\t\t\t\t\tdata.filter = ts.replaceAccents( data.filter );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// replace column specific default filters - see #1088\r\n\t\t\t\t\tif ( wo.filter_defaultFilter && tsfRegex.iQuery.test( vars.defaultColFilter[ columnIndex ] ) ) {\r\n\t\t\t\t\t\tdata.filter = tsf.defaultFilter( data.filter, vars.defaultColFilter[ columnIndex ] );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// data.iFilter = case insensitive ( if wo.filter_ignoreCase is true ),\r\n\t\t\t\t\t// data.filter = case sensitive\r\n\t\t\t\t\tdata.iFilter = wo.filter_ignoreCase ? ( data.filter || '' ).toLowerCase() : data.filter;\r\n\t\t\t\t\tfxn = vars.functions[ columnIndex ];\r\n\t\t\t\t\tfilterMatched = null;\r\n\t\t\t\t\tif ( fxn ) {\r\n\t\t\t\t\t\tif ( typeof fxn === 'function' ) {\r\n\t\t\t\t\t\t\t// filter callback( exact cell content, parser normalized content,\r\n\t\t\t\t\t\t\t// filter input value, column index, jQuery row object )\r\n\t\t\t\t\t\t\tfilterMatched = fxn( data.exact, data.cache, data.filter, columnIndex, data.$row, c, data );\r\n\t\t\t\t\t\t} else if ( typeof fxn[ ffxn || data.filter ] === 'function' ) {\r\n\t\t\t\t\t\t\t// selector option function\r\n\t\t\t\t\t\t\ttxt = ffxn || data.filter;\r\n\t\t\t\t\t\t\tfilterMatched =\r\n\t\t\t\t\t\t\t\tfxn[ txt ]( data.exact, data.cache, data.filter, columnIndex, data.$row, c, data );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( filterMatched === null ) {\r\n\t\t\t\t\t\t// cycle through the different filters\r\n\t\t\t\t\t\t// filters return a boolean or null if nothing matches\r\n\t\t\t\t\t\tfilterMatched = tsf.processTypes( c, data, vars );\r\n\t\t\t\t\t\t// select with exact match; ignore \"and\" or \"or\" within the text; fixes #1486\r\n\t\t\t\t\t\ttxt = fxn === true && (data.matchedOn === 'and' || data.matchedOn === 'or');\r\n\t\t\t\t\t\tif ( filterMatched !== null && !txt) {\r\n\t\t\t\t\t\t\tresult = filterMatched;\r\n\t\t\t\t\t\t// Look for match, and add child row data for matching\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// check fxn (filter-select in header) after filter types are checked\r\n\t\t\t\t\t\t\t// without this, the filter + jQuery UI selectmenu demo was breaking\r\n\t\t\t\t\t\t\tif ( fxn === true ) {\r\n\t\t\t\t\t\t\t\t// default selector uses exact match unless 'filter-match' class is found\r\n\t\t\t\t\t\t\t\tresult = data.isMatch ?\r\n\t\t\t\t\t\t\t\t\t// data.iExact may be a number\r\n\t\t\t\t\t\t\t\t\t( '' + data.iExact ).search( data.iFilter ) >= 0 :\r\n\t\t\t\t\t\t\t\t\tdata.filter === data.exact;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttxt = ( data.iExact + data.childRowText ).indexOf( tsf.parseFilter( c, data.iFilter, data ) );\r\n\t\t\t\t\t\t\t\tresult = ( ( !wo.filter_startsWith && txt >= 0 ) || ( wo.filter_startsWith && txt === 0 ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresult = filterMatched;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tshowRow = ( result ) ? showRow : false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn showRow;\r\n\t\t},\r\n\t\tfindRows: function( table, filters, currentFilters ) {\r\n\t\t\tif (\r\n\t\t\t\ttsf.equalFilters(table.config, table.config.lastSearch, currentFilters) ||\r\n\t\t\t\t!table.config.widgetOptions.filter_initialized\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar len, norm_rows, rowData, $rows, $row, rowIndex, tbodyIndex, $tbody, columnIndex,\r\n\t\t\t\tisChild, childRow, lastSearch, showRow, showParent, time, val, indx,\r\n\t\t\t\tnotFiltered, searchFiltered, query, injected, res, id, txt,\r\n\t\t\t\tstoredFilters = $.extend( [], filters ),\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tdebug = ts.debug(c, 'filter'),\r\n\t\t\t\t// data object passed to filters; anyMatch is a flag for the filters\r\n\t\t\t\tdata = {\r\n\t\t\t\t\tanyMatch: false,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t// regex filter type cache\r\n\t\t\t\t\tfilter_regexCache : []\r\n\t\t\t\t},\r\n\t\t\t\tvars = {\r\n\t\t\t\t\t// anyMatch really screws up with these types of filters\r\n\t\t\t\t\tnoAnyMatch: [ 'range',  'operators' ],\r\n\t\t\t\t\t// cache filter variables that use ts.getColumnData in the main loop\r\n\t\t\t\t\tfunctions : [],\r\n\t\t\t\t\texcludeFilter : [],\r\n\t\t\t\t\tdefaultColFilter : [],\r\n\t\t\t\t\tdefaultAnyFilter : ts.getColumnData( table, wo.filter_defaultFilter, c.columns, true ) || ''\r\n\t\t\t\t};\r\n\t\t\t// parse columns after formatter, in case the class is added at that point\r\n\t\t\tdata.parsed = [];\r\n\t\t\tfor ( columnIndex = 0; columnIndex < c.columns; columnIndex++ ) {\r\n\t\t\t\tdata.parsed[ columnIndex ] = wo.filter_useParsedData ||\r\n\t\t\t\t\t// parser has a \"parsed\" parameter\r\n\t\t\t\t\t( c.parsers && c.parsers[ columnIndex ] && c.parsers[ columnIndex ].parsed ||\r\n\t\t\t\t\t// getData may not return 'parsed' if other 'filter-' class names exist\r\n\t\t\t\t\t// ( e.g. <th class=\"filter-select filter-parsed\"> )\r\n\t\t\t\t\tts.getData && ts.getData( c.$headerIndexed[ columnIndex ],\r\n\t\t\t\t\t\tts.getColumnData( table, c.headers, columnIndex ), 'filter' ) === 'parsed' ||\r\n\t\t\t\t\tc.$headerIndexed[ columnIndex ].hasClass( 'filter-parsed' ) );\r\n\r\n\t\t\t\tvars.functions[ columnIndex ] =\r\n\t\t\t\t\tts.getColumnData( table, wo.filter_functions, columnIndex ) ||\r\n\t\t\t\t\tc.$headerIndexed[ columnIndex ].hasClass( 'filter-select' );\r\n\t\t\t\tvars.defaultColFilter[ columnIndex ] =\r\n\t\t\t\t\tts.getColumnData( table, wo.filter_defaultFilter, columnIndex ) || '';\r\n\t\t\t\tvars.excludeFilter[ columnIndex ] =\r\n\t\t\t\t\t( ts.getColumnData( table, wo.filter_excludeFilter, columnIndex, true ) || '' ).split( /\\s+/ );\r\n\t\t\t}\r\n\r\n\t\t\tif ( debug ) {\r\n\t\t\t\tconsole.log( 'Filter >> Starting filter widget search', filters );\r\n\t\t\t\ttime = new Date();\r\n\t\t\t}\r\n\t\t\t// filtered rows count\r\n\t\t\tc.filteredRows = 0;\r\n\t\t\tc.totalRows = 0;\r\n\t\t\tcurrentFilters = ( storedFilters || [] );\r\n\r\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < c.$tbodies.length; tbodyIndex++ ) {\r\n\t\t\t\t$tbody = ts.processTbody( table, c.$tbodies.eq( tbodyIndex ), true );\r\n\t\t\t\t// skip child rows & widget added ( removable ) rows - fixes #448 thanks to @hempel!\r\n\t\t\t\t// $rows = $tbody.children( 'tr' ).not( c.selectorRemove );\r\n\t\t\t\tcolumnIndex = c.columns;\r\n\t\t\t\t// convert stored rows into a jQuery object\r\n\t\t\t\tnorm_rows = c.cache[ tbodyIndex ].normalized;\r\n\t\t\t\t$rows = $( $.map( norm_rows, function( el ) {\r\n\t\t\t\t\treturn el[ columnIndex ].$row.get();\r\n\t\t\t\t}) );\r\n\r\n\t\t\t\tif ( currentFilters.join('') === '' || wo.filter_serversideFiltering ) {\r\n\t\t\t\t\t$rows\r\n\t\t\t\t\t\t.removeClass( wo.filter_filteredRow )\r\n\t\t\t\t\t\t.not( '.' + c.cssChildRow )\r\n\t\t\t\t\t\t.css( 'display', '' );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// filter out child rows\r\n\t\t\t\t\t$rows = $rows.not( '.' + c.cssChildRow );\r\n\t\t\t\t\tlen = $rows.length;\r\n\r\n\t\t\t\t\tif ( ( wo.filter_$anyMatch && wo.filter_$anyMatch.length ) ||\r\n\t\t\t\t\t\ttypeof filters[c.columns] !== 'undefined' ) {\r\n\t\t\t\t\t\tdata.anyMatchFlag = true;\r\n\t\t\t\t\t\tdata.anyMatchFilter = '' + (\r\n\t\t\t\t\t\t\tfilters[ c.columns ] ||\r\n\t\t\t\t\t\t\two.filter_$anyMatch && tsf.getLatestSearch( wo.filter_$anyMatch ).val() ||\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif ( wo.filter_columnAnyMatch ) {\r\n\t\t\t\t\t\t\t// specific columns search\r\n\t\t\t\t\t\t\tquery = data.anyMatchFilter.split( tsfRegex.andSplit );\r\n\t\t\t\t\t\t\tinjected = false;\r\n\t\t\t\t\t\t\tfor ( indx = 0; indx < query.length; indx++ ) {\r\n\t\t\t\t\t\t\t\tres = query[ indx ].split( ':' );\r\n\t\t\t\t\t\t\t\tif ( res.length > 1 ) {\r\n\t\t\t\t\t\t\t\t\t// make the column a one-based index ( non-developers start counting from one :P )\r\n\t\t\t\t\t\t\t\t\tif ( isNaN( res[0] ) ) {\r\n\t\t\t\t\t\t\t\t\t\t$.each( c.headerContent, function( i, txt ) {\r\n\t\t\t\t\t\t\t\t\t\t\t// multiple matches are possible\r\n\t\t\t\t\t\t\t\t\t\t\tif ( txt.toLowerCase().indexOf( res[0] ) > -1 ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tid = i;\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilters[ id ] = res[1];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tid = parseInt( res[0], 10 ) - 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif ( id >= 0 && id < c.columns ) { // if id is an integer\r\n\t\t\t\t\t\t\t\t\t\tfilters[ id ] = res[1];\r\n\t\t\t\t\t\t\t\t\t\tquery.splice( indx, 1 );\r\n\t\t\t\t\t\t\t\t\t\tindx--;\r\n\t\t\t\t\t\t\t\t\t\tinjected = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( injected ) {\r\n\t\t\t\t\t\t\t\tdata.anyMatchFilter = query.join( ' && ' );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// optimize searching only through already filtered rows - see #313\r\n\t\t\t\t\tsearchFiltered = wo.filter_searchFiltered;\r\n\t\t\t\t\tlastSearch = c.lastSearch || c.$table.data( 'lastSearch' ) || [];\r\n\t\t\t\t\tif ( searchFiltered ) {\r\n\t\t\t\t\t\t// cycle through all filters; include last ( columnIndex + 1 = match any column ). Fixes #669\r\n\t\t\t\t\t\tfor ( indx = 0; indx < columnIndex + 1; indx++ ) {\r\n\t\t\t\t\t\t\tval = filters[indx] || '';\r\n\t\t\t\t\t\t\t// break out of loop if we've already determined not to search filtered rows\r\n\t\t\t\t\t\t\tif ( !searchFiltered ) { indx = columnIndex; }\r\n\t\t\t\t\t\t\t// search already filtered rows if...\r\n\t\t\t\t\t\t\tsearchFiltered = searchFiltered && lastSearch.length &&\r\n\t\t\t\t\t\t\t\t// there are no changes from beginning of filter\r\n\t\t\t\t\t\t\t\tval.indexOf( lastSearch[indx] || '' ) === 0 &&\r\n\t\t\t\t\t\t\t\t// if there is NOT a logical 'or', or range ( 'to' or '-' ) in the string\r\n\t\t\t\t\t\t\t\t!tsfRegex.alreadyFiltered.test( val ) &&\r\n\t\t\t\t\t\t\t\t// if we are not doing exact matches, using '|' ( logical or ) or not '!'\r\n\t\t\t\t\t\t\t\t!tsfRegex.exactTest.test( val ) &&\r\n\t\t\t\t\t\t\t\t// don't search only filtered if the value is negative\r\n\t\t\t\t\t\t\t\t// ( '> -10' => '> -100' will ignore hidden rows )\r\n\t\t\t\t\t\t\t\t!( tsfRegex.isNeg1.test( val ) || tsfRegex.isNeg2.test( val ) ) &&\r\n\t\t\t\t\t\t\t\t// if filtering using a select without a 'filter-match' class ( exact match ) - fixes #593\r\n\t\t\t\t\t\t\t\t!( val !== '' && c.$filters && c.$filters.filter( '[data-column=\"' + indx + '\"]' ).find( 'select' ).length &&\r\n\t\t\t\t\t\t\t\t\t!tsf.matchType( c, indx ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnotFiltered = $rows.not( '.' + wo.filter_filteredRow ).length;\r\n\t\t\t\t\t// can't search when all rows are hidden - this happens when looking for exact matches\r\n\t\t\t\t\tif ( searchFiltered && notFiltered === 0 ) { searchFiltered = false; }\r\n\t\t\t\t\tif ( debug ) {\r\n\t\t\t\t\t\tconsole.log( 'Filter >> Searching through ' +\r\n\t\t\t\t\t\t\t( searchFiltered && notFiltered < len ? notFiltered : 'all' ) + ' rows' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( data.anyMatchFlag ) {\r\n\t\t\t\t\t\tif ( c.sortLocaleCompare ) {\r\n\t\t\t\t\t\t\t// replace accents\r\n\t\t\t\t\t\t\tdata.anyMatchFilter = ts.replaceAccents( data.anyMatchFilter );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( wo.filter_defaultFilter && tsfRegex.iQuery.test( vars.defaultAnyFilter ) ) {\r\n\t\t\t\t\t\t\tdata.anyMatchFilter = tsf.defaultFilter( data.anyMatchFilter, vars.defaultAnyFilter );\r\n\t\t\t\t\t\t\t// clear search filtered flag because default filters are not saved to the last search\r\n\t\t\t\t\t\t\tsearchFiltered = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// make iAnyMatchFilter lowercase unless both filter widget & core ignoreCase options are true\r\n\t\t\t\t\t\t// when c.ignoreCase is true, the cache contains all lower case data\r\n\t\t\t\t\t\tdata.iAnyMatchFilter = !( wo.filter_ignoreCase && c.ignoreCase ) ?\r\n\t\t\t\t\t\t\tdata.anyMatchFilter :\r\n\t\t\t\t\t\t\tdata.anyMatchFilter.toLowerCase();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// loop through the rows\r\n\t\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\r\n\r\n\t\t\t\t\t\ttxt = $rows[ rowIndex ].className;\r\n\t\t\t\t\t\t// the first row can never be a child row\r\n\t\t\t\t\t\tisChild = rowIndex && tsfRegex.child.test( txt );\r\n\t\t\t\t\t\t// skip child rows & already filtered rows\r\n\t\t\t\t\t\tif ( isChild || ( searchFiltered && tsfRegex.filtered.test( txt ) ) ) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdata.$row = $rows.eq( rowIndex );\r\n\t\t\t\t\t\tdata.rowIndex = rowIndex;\r\n\t\t\t\t\t\tdata.cacheArray = norm_rows[ rowIndex ];\r\n\t\t\t\t\t\trowData = data.cacheArray[ c.columns ];\r\n\t\t\t\t\t\tdata.rawArray = rowData.raw;\r\n\t\t\t\t\t\tdata.childRowText = '';\r\n\r\n\t\t\t\t\t\tif ( !wo.filter_childByColumn ) {\r\n\t\t\t\t\t\t\ttxt = '';\r\n\t\t\t\t\t\t\t// child row cached text\r\n\t\t\t\t\t\t\tchildRow = rowData.child;\r\n\t\t\t\t\t\t\t// so, if 'table.config.widgetOptions.filter_childRows' is true and there is\r\n\t\t\t\t\t\t\t// a match anywhere in the child row, then it will make the row visible\r\n\t\t\t\t\t\t\t// checked here so the option can be changed dynamically\r\n\t\t\t\t\t\t\tfor ( indx = 0; indx < childRow.length; indx++ ) {\r\n\t\t\t\t\t\t\t\ttxt += ' ' + childRow[indx].join( ' ' ) || '';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdata.childRowText = wo.filter_childRows ?\r\n\t\t\t\t\t\t\t\t( wo.filter_ignoreCase ? txt.toLowerCase() : txt ) :\r\n\t\t\t\t\t\t\t\t'';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshowRow = false;\r\n\t\t\t\t\t\tshowParent = tsf.processRow( c, data, vars );\r\n\t\t\t\t\t\t$row = rowData.$row;\r\n\r\n\t\t\t\t\t\t// don't pass reference to val\r\n\t\t\t\t\t\tval = showParent ? true : false;\r\n\t\t\t\t\t\tchildRow = rowData.$row.filter( ':gt(0)' );\r\n\t\t\t\t\t\tif ( wo.filter_childRows && childRow.length ) {\r\n\t\t\t\t\t\t\tif ( wo.filter_childByColumn ) {\r\n\t\t\t\t\t\t\t\tif ( !wo.filter_childWithSibs ) {\r\n\t\t\t\t\t\t\t\t\t// hide all child rows\r\n\t\t\t\t\t\t\t\t\tchildRow.addClass( wo.filter_filteredRow );\r\n\t\t\t\t\t\t\t\t\t// if only showing resulting child row, only include parent\r\n\t\t\t\t\t\t\t\t\t$row = $row.eq( 0 );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// cycle through each child row\r\n\t\t\t\t\t\t\t\tfor ( indx = 0; indx < childRow.length; indx++ ) {\r\n\t\t\t\t\t\t\t\t\tdata.$row = childRow.eq( indx );\r\n\t\t\t\t\t\t\t\t\tdata.cacheArray = rowData.child[ indx ];\r\n\t\t\t\t\t\t\t\t\tdata.rawArray = data.cacheArray;\r\n\t\t\t\t\t\t\t\t\tval = tsf.processRow( c, data, vars );\r\n\t\t\t\t\t\t\t\t\t// use OR comparison on child rows\r\n\t\t\t\t\t\t\t\t\tshowRow = showRow || val;\r\n\t\t\t\t\t\t\t\t\tif ( !wo.filter_childWithSibs && val ) {\r\n\t\t\t\t\t\t\t\t\t\tchildRow.eq( indx ).removeClass( wo.filter_filteredRow );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// keep parent row match even if no child matches... see #1020\r\n\t\t\t\t\t\t\tshowRow = showRow || showParent;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tshowRow = val;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$row\r\n\t\t\t\t\t\t\t.toggleClass( wo.filter_filteredRow, !showRow )[0]\r\n\t\t\t\t\t\t\t.display = showRow ? '' : 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tc.filteredRows += $rows.not( '.' + wo.filter_filteredRow ).length;\r\n\t\t\t\tc.totalRows += $rows.length;\r\n\t\t\t\tts.processTbody( table, $tbody, false );\r\n\t\t\t}\r\n\t\t\t// lastCombinedFilter is no longer used internally\r\n\t\t\tc.lastCombinedFilter = storedFilters.join(''); // save last search\r\n\t\t\t// don't save 'filters' directly since it may have altered ( AnyMatch column searches )\r\n\t\t\tc.lastSearch = storedFilters;\r\n\t\t\tc.$table.data( 'lastSearch', storedFilters );\r\n\t\t\tif ( wo.filter_saveFilters && ts.storage ) {\r\n\t\t\t\tts.storage( table, 'tablesorter-filters', tsf.processFilters( storedFilters, true ) );\r\n\t\t\t}\r\n\t\t\tif ( debug ) {\r\n\t\t\t\tconsole.log( 'Filter >> Completed search' + ts.benchmark(time) );\r\n\t\t\t}\r\n\t\t\tif ( wo.filter_initialized ) {\r\n\t\t\t\tc.$table.triggerHandler( 'filterBeforeEnd', c );\r\n\t\t\t\tc.$table.triggerHandler( 'filterEnd', c );\r\n\t\t\t}\r\n\t\t\tsetTimeout( function() {\r\n\t\t\t\tts.applyWidget( c.table ); // make sure zebra widget is applied\r\n\t\t\t}, 0 );\r\n\t\t},\r\n\t\tgetOptionSource: function( table, column, onlyAvail ) {\r\n\t\t\ttable = $( table )[0];\r\n\t\t\tvar c = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tarry = false,\r\n\t\t\t\tsource = wo.filter_selectSource,\r\n\t\t\t\tlast = c.$table.data( 'lastSearch' ) || [],\r\n\t\t\t\tfxn = typeof source === 'function' ? true : ts.getColumnData( table, source, column );\r\n\r\n\t\t\tif ( onlyAvail && last[column] !== '' ) {\r\n\t\t\t\tonlyAvail = false;\r\n\t\t\t}\r\n\r\n\t\t\t// filter select source option\r\n\t\t\tif ( fxn === true ) {\r\n\t\t\t\t// OVERALL source\r\n\t\t\t\tarry = source( table, column, onlyAvail );\r\n\t\t\t} else if ( fxn instanceof $ || ( $.type( fxn ) === 'string' && fxn.indexOf( '</option>' ) >= 0 ) ) {\r\n\t\t\t\t// selectSource is a jQuery object or string of options\r\n\t\t\t\treturn fxn;\r\n\t\t\t} else if ( $.isArray( fxn ) ) {\r\n\t\t\t\tarry = fxn;\r\n\t\t\t} else if ( $.type( source ) === 'object' && fxn ) {\r\n\t\t\t\t// custom select source function for a SPECIFIC COLUMN\r\n\t\t\t\tarry = fxn( table, column, onlyAvail );\r\n\t\t\t\t// abort - updating the selects from an external method\r\n\t\t\t\tif (arry === null) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( arry === false ) {\r\n\t\t\t\t// fall back to original method\r\n\t\t\t\tarry = tsf.getOptions( table, column, onlyAvail );\r\n\t\t\t}\r\n\r\n\t\t\treturn tsf.processOptions( table, column, arry );\r\n\r\n\t\t},\r\n\t\tprocessOptions: function( table, column, arry ) {\r\n\t\t\tif ( !$.isArray( arry ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\ttable = $( table )[0];\r\n\t\t\tvar cts, txt, indx, len, parsedTxt, str,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\tvalidColumn = typeof column !== 'undefined' && column !== null && column >= 0 && column < c.columns,\r\n\t\t\t\tdirection = validColumn ? c.$headerIndexed[ column ].hasClass( 'filter-select-sort-desc' ) : false,\r\n\t\t\t\tparsed = [];\r\n\t\t\t// get unique elements and sort the list\r\n\t\t\t// if $.tablesorter.sortText exists ( not in the original tablesorter ),\r\n\t\t\t// then natural sort the list otherwise use a basic sort\r\n\t\t\tarry = $.grep( arry, function( value, indx ) {\r\n\t\t\t\tif ( value.text ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn $.inArray( value, arry ) === indx;\r\n\t\t\t});\r\n\t\t\tif ( validColumn && c.$headerIndexed[ column ].hasClass( 'filter-select-nosort' ) ) {\r\n\t\t\t\t// unsorted select options\r\n\t\t\t\treturn arry;\r\n\t\t\t} else {\r\n\t\t\t\tlen = arry.length;\r\n\t\t\t\t// parse select option values\r\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\ttxt = arry[ indx ];\r\n\t\t\t\t\t// check for object\r\n\t\t\t\t\tstr = txt.text ? txt.text : txt;\r\n\t\t\t\t\t// sortNatural breaks if you don't pass it strings\r\n\t\t\t\t\tparsedTxt = ( validColumn && c.parsers && c.parsers.length &&\r\n\t\t\t\t\t\tc.parsers[ column ].format( str, table, [], column ) || str ).toString();\r\n\t\t\t\t\tparsedTxt = c.widgetOptions.filter_ignoreCase ? parsedTxt.toLowerCase() : parsedTxt;\r\n\t\t\t\t\t// parse array data using set column parser; this DOES NOT pass the original\r\n\t\t\t\t\t// table cell to the parser format function\r\n\t\t\t\t\tif ( txt.text ) {\r\n\t\t\t\t\t\ttxt.parsed = parsedTxt;\r\n\t\t\t\t\t\tparsed[ parsed.length ] = txt;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tparsed[ parsed.length ] = {\r\n\t\t\t\t\t\t\ttext : txt,\r\n\t\t\t\t\t\t\t// check parser length - fixes #934\r\n\t\t\t\t\t\t\tparsed : parsedTxt\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// sort parsed select options\r\n\t\t\t\tcts = c.textSorter || '';\r\n\t\t\t\tparsed.sort( function( a, b ) {\r\n\t\t\t\t\tvar x = direction ? b.parsed : a.parsed,\r\n\t\t\t\t\t\ty = direction ? a.parsed : b.parsed;\r\n\t\t\t\t\tif ( validColumn && typeof cts === 'function' ) {\r\n\t\t\t\t\t\t// custom OVERALL text sorter\r\n\t\t\t\t\t\treturn cts( x, y, true, column, table );\r\n\t\t\t\t\t} else if ( validColumn && typeof cts === 'object' && cts.hasOwnProperty( column ) ) {\r\n\t\t\t\t\t\t// custom text sorter for a SPECIFIC COLUMN\r\n\t\t\t\t\t\treturn cts[column]( x, y, true, column, table );\r\n\t\t\t\t\t} else if ( ts.sortNatural ) {\r\n\t\t\t\t\t\t// fall back to natural sort\r\n\t\t\t\t\t\treturn ts.sortNatural( x, y );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// using an older version! do a basic sort\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t});\r\n\t\t\t\t// rebuild arry from sorted parsed data\r\n\t\t\t\tarry = [];\r\n\t\t\t\tlen = parsed.length;\r\n\t\t\t\tfor ( indx = 0; indx < len; indx++ ) {\r\n\t\t\t\t\tarry[ arry.length ] = parsed[indx];\r\n\t\t\t\t}\r\n\t\t\t\treturn arry;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetOptions: function( table, column, onlyAvail ) {\r\n\t\t\ttable = $( table )[0];\r\n\t\t\tvar rowIndex, tbodyIndex, len, row, cache, indx, child, childLen,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tarry = [];\r\n\t\t\tfor ( tbodyIndex = 0; tbodyIndex < c.$tbodies.length; tbodyIndex++ ) {\r\n\t\t\t\tcache = c.cache[tbodyIndex];\r\n\t\t\t\tlen = c.cache[tbodyIndex].normalized.length;\r\n\t\t\t\t// loop through the rows\r\n\t\t\t\tfor ( rowIndex = 0; rowIndex < len; rowIndex++ ) {\r\n\t\t\t\t\t// get cached row from cache.row ( old ) or row data object\r\n\t\t\t\t\t// ( new; last item in normalized array )\r\n\t\t\t\t\trow = cache.row ?\r\n\t\t\t\t\t\tcache.row[ rowIndex ] :\r\n\t\t\t\t\t\tcache.normalized[ rowIndex ][ c.columns ].$row[0];\r\n\t\t\t\t\t// check if has class filtered\r\n\t\t\t\t\tif ( onlyAvail && row.className.match( wo.filter_filteredRow ) ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// get non-normalized cell content\r\n\t\t\t\t\tif ( wo.filter_useParsedData ||\r\n\t\t\t\t\t\tc.parsers[column].parsed ||\r\n\t\t\t\t\t\tc.$headerIndexed[column].hasClass( 'filter-parsed' ) ) {\r\n\t\t\t\t\t\tarry[ arry.length ] = '' + cache.normalized[ rowIndex ][ column ];\r\n\t\t\t\t\t\t// child row parsed data\r\n\t\t\t\t\t\tif ( wo.filter_childRows && wo.filter_childByColumn ) {\r\n\t\t\t\t\t\t\tchildLen = cache.normalized[ rowIndex ][ c.columns ].$row.length - 1;\r\n\t\t\t\t\t\t\tfor ( indx = 0; indx < childLen; indx++ ) {\r\n\t\t\t\t\t\t\t\tarry[ arry.length ] = '' + cache.normalized[ rowIndex ][ c.columns ].child[ indx ][ column ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// get raw cached data instead of content directly from the cells\r\n\t\t\t\t\t\tarry[ arry.length ] = cache.normalized[ rowIndex ][ c.columns ].raw[ column ];\r\n\t\t\t\t\t\t// child row unparsed data\r\n\t\t\t\t\t\tif ( wo.filter_childRows && wo.filter_childByColumn ) {\r\n\t\t\t\t\t\t\tchildLen = cache.normalized[ rowIndex ][ c.columns ].$row.length;\r\n\t\t\t\t\t\t\tfor ( indx = 1; indx < childLen; indx++ ) {\r\n\t\t\t\t\t\t\t\tchild =  cache.normalized[ rowIndex ][ c.columns ].$row.eq( indx ).children().eq( column );\r\n\t\t\t\t\t\t\t\tarry[ arry.length ] = '' + ts.getElementText( c, child, column );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn arry;\r\n\t\t},\r\n\t\tbuildSelect: function( table, column, arry, updating, onlyAvail ) {\r\n\t\t\ttable = $( table )[0];\r\n\t\t\tcolumn = parseInt( column, 10 );\r\n\t\t\tif ( !table.config.cache || $.isEmptyObject( table.config.cache ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar indx, val, txt, t, $filters, $filter, option,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tnode = c.$headerIndexed[ column ],\r\n\t\t\t\t// t.data( 'placeholder' ) won't work in jQuery older than 1.4.3\r\n\t\t\t\toptions = '<option value=\"\">' +\r\n\t\t\t\t\t( node.data( 'placeholder' ) ||\r\n\t\t\t\t\t\tnode.attr( 'data-placeholder' ) ||\r\n\t\t\t\t\t\two.filter_placeholder.select || ''\r\n\t\t\t\t\t) + '</option>',\r\n\t\t\t\t// Get curent filter value\r\n\t\t\t\tcurrentValue = c.$table\r\n\t\t\t\t\t.find( 'thead' )\r\n\t\t\t\t\t.find( 'select.' + tscss.filter + '[data-column=\"' + column + '\"]' )\r\n\t\t\t\t\t.val();\r\n\r\n\t\t\t// nothing included in arry ( external source ), so get the options from\r\n\t\t\t// filter_selectSource or column data\r\n\t\t\tif ( typeof arry === 'undefined' || arry === '' ) {\r\n\t\t\t\tarry = tsf.getOptionSource( table, column, onlyAvail );\r\n\t\t\t\t// abort, selects are updated by an external method\r\n\t\t\t\tif (arry === null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( $.isArray( arry ) ) {\r\n\t\t\t\t// build option list\r\n\t\t\t\tfor ( indx = 0; indx < arry.length; indx++ ) {\r\n\t\t\t\t\toption = arry[ indx ];\r\n\t\t\t\t\tif ( option.text ) {\r\n\t\t\t\t\t\t// OBJECT!! add data-function-name in case the value is set in filter_functions\r\n\t\t\t\t\t\toption['data-function-name'] = typeof option.value === 'undefined' ? option.text : option.value;\r\n\r\n\t\t\t\t\t\t// support jQuery < v1.8, otherwise the below code could be shortened to\r\n\t\t\t\t\t\t// options += $( '<option>', option )[ 0 ].outerHTML;\r\n\t\t\t\t\t\toptions += '<option';\r\n\t\t\t\t\t\tfor ( val in option ) {\r\n\t\t\t\t\t\t\tif ( option.hasOwnProperty( val ) && val !== 'text' ) {\r\n\t\t\t\t\t\t\t\toptions += ' ' + val + '=\"' + option[ val ].replace( tsfRegex.quote, '&quot;' ) + '\"';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !option.value ) {\r\n\t\t\t\t\t\t\toptions += ' value=\"' + option.text.replace( tsfRegex.quote, '&quot;' ) + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toptions += '>' + option.text.replace( tsfRegex.quote, '&quot;' ) + '</option>';\r\n\t\t\t\t\t\t// above code is needed in jQuery < v1.8\r\n\r\n\t\t\t\t\t\t// make sure we don't turn an object into a string (objects without a \"text\" property)\r\n\t\t\t\t\t} else if ( '' + option !== '[object Object]' ) {\r\n\t\t\t\t\t\ttxt = option = ( '' + option ).replace( tsfRegex.quote, '&quot;' );\r\n\t\t\t\t\t\tval = txt;\r\n\t\t\t\t\t\t// allow including a symbol in the selectSource array\r\n\t\t\t\t\t\t// 'a-z|A through Z' so that 'a-z' becomes the option value\r\n\t\t\t\t\t\t// and 'A through Z' becomes the option text\r\n\t\t\t\t\t\tif ( txt.indexOf( wo.filter_selectSourceSeparator ) >= 0 ) {\r\n\t\t\t\t\t\t\tt = txt.split( wo.filter_selectSourceSeparator );\r\n\t\t\t\t\t\t\tval = t[0];\r\n\t\t\t\t\t\t\ttxt = t[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// replace quotes - fixes #242 & ignore empty strings\r\n\t\t\t\t\t\t// see http://stackoverflow.com/q/14990971/145346\r\n\t\t\t\t\t\toptions += option !== '' ?\r\n\t\t\t\t\t\t\t'<option ' +\r\n\t\t\t\t\t\t\t\t( val === txt ? '' : 'data-function-name=\"' + option + '\" ' ) +\r\n\t\t\t\t\t\t\t\t'value=\"' + val + '\">' + txt +\r\n\t\t\t\t\t\t\t'</option>' : '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// clear arry so it doesn't get appended twice\r\n\t\t\t\tarry = [];\r\n\t\t\t}\r\n\r\n\t\t\t// update all selects in the same column ( clone thead in sticky headers &\r\n\t\t\t// any external selects ) - fixes 473\r\n\t\t\t$filters = ( c.$filters ? c.$filters : c.$table.children( 'thead' ) )\r\n\t\t\t\t.find( '.' + tscss.filter );\r\n\t\t\tif ( wo.filter_$externalFilters ) {\r\n\t\t\t\t$filters = $filters && $filters.length ?\r\n\t\t\t\t\t$filters.add( wo.filter_$externalFilters ) :\r\n\t\t\t\t\two.filter_$externalFilters;\r\n\t\t\t}\r\n\t\t\t$filter = $filters.filter( 'select[data-column=\"' + column + '\"]' );\r\n\r\n\t\t\t// make sure there is a select there!\r\n\t\t\tif ( $filter.length ) {\r\n\t\t\t\t$filter[ updating ? 'html' : 'append' ]( options );\r\n\t\t\t\tif ( !$.isArray( arry ) ) {\r\n\t\t\t\t\t// append options if arry is provided externally as a string or jQuery object\r\n\t\t\t\t\t// options ( default value ) was already added\r\n\t\t\t\t\t$filter.append( arry ).val( currentValue );\r\n\t\t\t\t}\r\n\t\t\t\t$filter.val( currentValue );\r\n\t\t\t}\r\n\t\t},\r\n\t\tbuildDefault: function( table, updating ) {\r\n\t\t\tvar columnIndex, $header, noSelect,\r\n\t\t\t\tc = table.config,\r\n\t\t\t\two = c.widgetOptions,\r\n\t\t\t\tcolumns = c.columns;\r\n\t\t\t// build default select dropdown\r\n\t\t\tfor ( columnIndex = 0; columnIndex < columns; columnIndex++ ) {\r\n\t\t\t\t$header = c.$headerIndexed[columnIndex];\r\n\t\t\t\tnoSelect = !( $header.hasClass( 'filter-false' ) || $header.hasClass( 'parser-false' ) );\r\n\t\t\t\t// look for the filter-select class; build/update it if found\r\n\t\t\t\tif ( ( $header.hasClass( 'filter-select' ) ||\r\n\t\t\t\t\tts.getColumnData( table, wo.filter_functions, columnIndex ) === true ) && noSelect ) {\r\n\t\t\t\t\ttsf.buildSelect( table, columnIndex, '', updating, $header.hasClass( wo.filter_onlyAvail ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// filter regex variable\r\n\ttsfRegex = tsf.regex;\r\n\r\n\tts.getFilters = function( table, getRaw, setFilters, skipFirst ) {\r\n\t\tvar i, $filters, $column, cols,\r\n\t\t\tfilters = [],\r\n\t\t\tc = table ? $( table )[0].config : '',\r\n\t\t\two = c ? c.widgetOptions : '';\r\n\t\tif ( ( getRaw !== true && wo && !wo.filter_columnFilters ) ||\r\n\t\t\t// setFilters called, but last search is exactly the same as the current\r\n\t\t\t// fixes issue #733 & #903 where calling update causes the input values to reset\r\n\t\t\t( $.isArray(setFilters) && tsf.equalFilters(c, setFilters, c.lastSearch) )\r\n\t\t) {\r\n\t\t\treturn $( table ).data( 'lastSearch' ) || [];\r\n\t\t}\r\n\t\tif ( c ) {\r\n\t\t\tif ( c.$filters ) {\r\n\t\t\t\t$filters = c.$filters.find( '.' + tscss.filter );\r\n\t\t\t}\r\n\t\t\tif ( wo.filter_$externalFilters ) {\r\n\t\t\t\t$filters = $filters && $filters.length ?\r\n\t\t\t\t\t$filters.add( wo.filter_$externalFilters ) :\r\n\t\t\t\t\two.filter_$externalFilters;\r\n\t\t\t}\r\n\t\t\tif ( $filters && $filters.length ) {\r\n\t\t\t\tfilters = setFilters || [];\r\n\t\t\t\tfor ( i = 0; i < c.columns + 1; i++ ) {\r\n\t\t\t\t\tcols = ( i === c.columns ?\r\n\t\t\t\t\t\t// 'all' columns can now include a range or set of columms ( data-column='0-2,4,6-7' )\r\n\t\t\t\t\t\two.filter_anyColumnSelector + ',' + wo.filter_multipleColumnSelector :\r\n\t\t\t\t\t\t'[data-column=\"' + i + '\"]' );\r\n\t\t\t\t\t$column = $filters.filter( cols );\r\n\t\t\t\t\tif ( $column.length ) {\r\n\t\t\t\t\t\t// move the latest search to the first slot in the array\r\n\t\t\t\t\t\t$column = tsf.getLatestSearch( $column );\r\n\t\t\t\t\t\tif ( $.isArray( setFilters ) ) {\r\n\t\t\t\t\t\t\t// skip first ( latest input ) to maintain cursor position while typing\r\n\t\t\t\t\t\t\tif ( skipFirst && $column.length > 1 ) {\r\n\t\t\t\t\t\t\t\t$column = $column.slice( 1 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( i === c.columns ) {\r\n\t\t\t\t\t\t\t\t// prevent data-column='all' from filling data-column='0,1' ( etc )\r\n\t\t\t\t\t\t\t\tcols = $column.filter( wo.filter_anyColumnSelector );\r\n\t\t\t\t\t\t\t\t$column = cols.length ? cols : $column;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$column\r\n\t\t\t\t\t\t\t\t.val( setFilters[ i ] )\r\n\t\t\t\t\t\t\t\t// must include a namespace here; but not c.namespace + 'filter'?\r\n\t\t\t\t\t\t\t\t.trigger( 'change' + c.namespace );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfilters[i] = $column.val() || '';\r\n\t\t\t\t\t\t\t// don't change the first... it will move the cursor\r\n\t\t\t\t\t\t\tif ( i === c.columns ) {\r\n\t\t\t\t\t\t\t\t// don't update range columns from 'all' setting\r\n\t\t\t\t\t\t\t\t$column\r\n\t\t\t\t\t\t\t\t\t.slice( 1 )\r\n\t\t\t\t\t\t\t\t\t.filter( '[data-column*=\"' + $column.attr( 'data-column' ) + '\"]' )\r\n\t\t\t\t\t\t\t\t\t.val( filters[ i ] );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$column\r\n\t\t\t\t\t\t\t\t\t.slice( 1 )\r\n\t\t\t\t\t\t\t\t\t.val( filters[ i ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// save any match input dynamically\r\n\t\t\t\t\t\tif ( i === c.columns && $column.length ) {\r\n\t\t\t\t\t\t\two.filter_$anyMatch = $column;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filters;\r\n\t};\r\n\r\n\tts.setFilters = function( table, filter, apply, skipFirst ) {\r\n\t\tvar c = table ? $( table )[0].config : '',\r\n\t\t\tvalid = ts.getFilters( table, true, filter, skipFirst );\r\n\t\t// default apply to \"true\"\r\n\t\tif ( typeof apply === 'undefined' ) {\r\n\t\t\tapply = true;\r\n\t\t}\r\n\t\tif ( c && apply ) {\r\n\t\t\t// ensure new set filters are applied, even if the search is the same\r\n\t\t\tc.lastCombinedFilter = null;\r\n\t\t\tc.lastSearch = [];\r\n\t\t\ttsf.searching( c.table, filter, skipFirst );\r\n\t\t\tc.$table.triggerHandler( 'filterFomatterUpdate' );\r\n\t\t}\r\n\t\treturn valid.length !== 0;\r\n\t};\r\n\r\n})( jQuery );\r\n\r\n/*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *//*\n * Requires tablesorter v2.8+ and jQuery 1.4.3+\n * by Rob Garrison\n */\n;(function ($, window) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\t$.extend(ts.css, {\n\t\tsticky    : 'tablesorter-stickyHeader', // stickyHeader\n\t\tstickyVis : 'tablesorter-sticky-visible',\n\t\tstickyHide: 'tablesorter-sticky-hidden',\n\t\tstickyWrap: 'tablesorter-sticky-wrapper'\n\t});\n\n\t// Add a resize event to table headers\n\tts.addHeaderResizeEvent = function(table, disable, settings) {\n\t\ttable = $(table)[0]; // make sure we're using a dom element\n\t\tif ( !table.config ) { return; }\n\t\tvar defaults = {\n\t\t\t\ttimer : 250\n\t\t\t},\n\t\t\toptions = $.extend({}, defaults, settings),\n\t\t\tc = table.config,\n\t\t\two = c.widgetOptions,\n\t\t\tcheckSizes = function( triggerEvent ) {\n\t\t\t\tvar index, headers, $header, sizes, width, height,\n\t\t\t\t\tlen = c.$headers.length;\n\t\t\t\two.resize_flag = true;\n\t\t\t\theaders = [];\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t$header = c.$headers.eq( index );\n\t\t\t\t\tsizes = $header.data( 'savedSizes' ) || [ 0, 0 ]; // fixes #394\n\t\t\t\t\twidth = $header[0].offsetWidth;\n\t\t\t\t\theight = $header[0].offsetHeight;\n\t\t\t\t\tif ( width !== sizes[0] || height !== sizes[1] ) {\n\t\t\t\t\t\t$header.data( 'savedSizes', [ width, height ] );\n\t\t\t\t\t\theaders.push( $header[0] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( headers.length && triggerEvent !== false ) {\n\t\t\t\t\tc.$table.triggerHandler( 'resize', [ headers ] );\n\t\t\t\t}\n\t\t\t\two.resize_flag = false;\n\t\t\t};\n\t\tclearInterval(wo.resize_timer);\n\t\tif (disable) {\n\t\t\two.resize_flag = false;\n\t\t\treturn false;\n\t\t}\n\t\tcheckSizes( false );\n\t\two.resize_timer = setInterval(function() {\n\t\t\tif (wo.resize_flag) { return; }\n\t\t\tcheckSizes();\n\t\t}, options.timer);\n\t};\n\n\tfunction getStickyOffset(c, wo) {\n\t\tvar $el = isNaN(wo.stickyHeaders_offset) ? $(wo.stickyHeaders_offset) : [];\n\t\treturn $el.length ?\n\t\t\t$el.height() || 0 :\n\t\t\tparseInt(wo.stickyHeaders_offset, 10) || 0;\n\t}\n\n\t// Sticky headers based on this awesome article:\n\t// http://css-tricks.com/13465-persistent-headers/\n\t// and https://github.com/jmosbech/StickyTableHeaders by Jonas Mosbech\n\t// **************************\n\tts.addWidget({\n\t\tid: 'stickyHeaders',\n\t\tpriority: 54, // sticky widget must be initialized after the filter & before pager widget!\n\t\toptions: {\n\t\t\tstickyHeaders : '',       // extra class name added to the sticky header row\n\t\t\tstickyHeaders_appendTo : null, // jQuery selector or object to phycially attach the sticky headers\n\t\t\tstickyHeaders_attachTo : null, // jQuery selector or object to attach scroll listener to (overridden by xScroll & yScroll settings)\n\t\t\tstickyHeaders_xScroll : null, // jQuery selector or object to monitor horizontal scroll position (defaults: xScroll > attachTo > window)\n\t\t\tstickyHeaders_yScroll : null, // jQuery selector or object to monitor vertical scroll position (defaults: yScroll > attachTo > window)\n\t\t\tstickyHeaders_offset : 0, // number or jquery selector targeting the position:fixed element\n\t\t\tstickyHeaders_filteredToTop: true, // scroll table top into view after filtering\n\t\t\tstickyHeaders_cloneId : '-sticky', // added to table ID, if it exists\n\t\t\tstickyHeaders_addResizeEvent : true, // trigger 'resize' event on headers\n\t\t\tstickyHeaders_includeCaption : true, // if false and a caption exist, it won't be included in the sticky header\n\t\t\tstickyHeaders_zIndex : 2 // The zIndex of the stickyHeaders, allows the user to adjust this to their needs\n\t\t},\n\t\tformat: function(table, c, wo) {\n\t\t\t// filter widget doesn't initialize on an empty table. Fixes #449\n\t\t\tif ( c.$table.hasClass('hasStickyHeaders') || ($.inArray('filter', c.widgets) >= 0 && !c.$table.hasClass('hasFilters')) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index, len, $t,\n\t\t\t\t$table = c.$table,\n\t\t\t\t// add position: relative to attach element, hopefully it won't cause trouble.\n\t\t\t\t$attach = $(wo.stickyHeaders_attachTo || wo.stickyHeaders_appendTo),\n\t\t\t\tnamespace = c.namespace + 'stickyheaders ',\n\t\t\t\t// element to watch for the scroll event\n\t\t\t\t$yScroll = $(wo.stickyHeaders_yScroll || wo.stickyHeaders_attachTo || window),\n\t\t\t\t$xScroll = $(wo.stickyHeaders_xScroll || wo.stickyHeaders_attachTo || window),\n\t\t\t\t$thead = $table.children('thead:first'),\n\t\t\t\t$header = $thead.children('tr').not('.sticky-false').children(),\n\t\t\t\t$tfoot = $table.children('tfoot'),\n\t\t\t\tstickyOffset = getStickyOffset(c, wo),\n\t\t\t\t// is this table nested? If so, find parent sticky header wrapper (div, not table)\n\t\t\t\t$nestedSticky = $table.parent().closest('.' + ts.css.table).hasClass('hasStickyHeaders') ?\n\t\t\t\t\t$table.parent().closest('table.tablesorter')[0].config.widgetOptions.$sticky.parent() : [],\n\t\t\t\tnestedStickyTop = $nestedSticky.length ? $nestedSticky.height() : 0,\n\t\t\t\t// clone table, then wrap to make sticky header\n\t\t\t\t$stickyTable = wo.$sticky = $table.clone()\n\t\t\t\t\t.addClass('containsStickyHeaders ' + ts.css.sticky + ' ' + wo.stickyHeaders + ' ' + c.namespace.slice(1) + '_extra_table' )\n\t\t\t\t\t.wrap('<div class=\"' + ts.css.stickyWrap + '\">'),\n\t\t\t\t$stickyWrap = $stickyTable.parent()\n\t\t\t\t\t.addClass(ts.css.stickyHide)\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition   : $attach.length ? 'absolute' : 'fixed',\n\t\t\t\t\t\tpadding    : parseInt( $stickyTable.parent().parent().css('padding-left'), 10 ),\n\t\t\t\t\t\ttop        : stickyOffset + nestedStickyTop,\n\t\t\t\t\t\tleft       : 0,\n\t\t\t\t\t\tvisibility : 'hidden',\n\t\t\t\t\t\tzIndex     : wo.stickyHeaders_zIndex || 2\n\t\t\t\t\t}),\n\t\t\t\t$stickyThead = $stickyTable.children('thead:first'),\n\t\t\t\t$stickyCells,\n\t\t\t\tlaststate = '',\n\t\t\t\tsetWidth = function($orig, $clone) {\n\t\t\t\t\tvar index, width, border, $cell, $this,\n\t\t\t\t\t\t$cells = $orig.filter(':visible'),\n\t\t\t\t\t\tlen = $cells.length;\n\t\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t\t$cell = $clone.filter(':visible').eq(index);\n\t\t\t\t\t\t$this = $cells.eq(index);\n\t\t\t\t\t\t// code from https://github.com/jmosbech/StickyTableHeaders\n\t\t\t\t\t\tif ($this.css('box-sizing') === 'border-box') {\n\t\t\t\t\t\t\twidth = $this.outerWidth();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($cell.css('border-collapse') === 'collapse') {\n\t\t\t\t\t\t\t\tif (window.getComputedStyle) {\n\t\t\t\t\t\t\t\t\twidth = parseFloat( window.getComputedStyle($this[0], null).width );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// ie8 only\n\t\t\t\t\t\t\t\t\tborder = parseFloat( $this.css('border-width') );\n\t\t\t\t\t\t\t\t\twidth = $this.outerWidth() - parseFloat( $this.css('padding-left') ) - parseFloat( $this.css('padding-right') ) - border;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidth = $this.width();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$cell.css({\n\t\t\t\t\t\t\t'width': width,\n\t\t\t\t\t\t\t'min-width': width,\n\t\t\t\t\t\t\t'max-width': width\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetLeftPosition = function(yWindow) {\n\t\t\t\t\tif (yWindow === false && $nestedSticky.length) {\n\t\t\t\t\t\treturn $table.position().left;\n\t\t\t\t\t}\n\t\t\t\t\treturn $attach.length ?\n\t\t\t\t\t\tparseInt($attach.css('padding-left'), 10) || 0 :\n\t\t\t\t\t\t$table.offset().left - parseInt($table.css('margin-left'), 10) - $(window).scrollLeft();\n\t\t\t\t},\n\t\t\t\tresizeHeader = function() {\n\t\t\t\t\t$stickyWrap.css({\n\t\t\t\t\t\tleft : getLeftPosition(),\n\t\t\t\t\t\twidth: $table.outerWidth()\n\t\t\t\t\t});\n\t\t\t\t\tsetWidth( $table, $stickyTable );\n\t\t\t\t\tsetWidth( $header, $stickyCells );\n\t\t\t\t},\n\t\t\t\tscrollSticky = function( resizing ) {\n\t\t\t\t\tif (!$table.is(':visible')) { return; } // fixes #278\n\t\t\t\t\t// Detect nested tables - fixes #724\n\t\t\t\t\tnestedStickyTop = $nestedSticky.length ? $nestedSticky.offset().top - $yScroll.scrollTop() + $nestedSticky.height() : 0;\n\t\t\t\t\tvar tmp,\n\t\t\t\t\t\toffset = $table.offset(),\n\t\t\t\t\t\tstickyOffset = getStickyOffset(c, wo),\n\t\t\t\t\t\tyWindow = $.isWindow( $yScroll[0] ), // $.isWindow needs jQuery 1.4.3\n\t\t\t\t\t\tyScroll = yWindow ?\n\t\t\t\t\t\t\t$yScroll.scrollTop() :\n\t\t\t\t\t\t\t// use parent sticky position if nested AND inside of a scrollable element - see #1512\n\t\t\t\t\t\t\t$nestedSticky.length ? parseInt($nestedSticky[0].style.top, 10) : $yScroll.offset().top,\n\t\t\t\t\t\tattachTop = $attach.length ? yScroll : $yScroll.scrollTop(),\n\t\t\t\t\t\tcaptionHeight = wo.stickyHeaders_includeCaption ? 0 : $table.children( 'caption' ).height() || 0,\n\t\t\t\t\t\tscrollTop = attachTop + stickyOffset + nestedStickyTop - captionHeight,\n\t\t\t\t\t\ttableHeight = $table.height() - ($stickyWrap.height() + ($tfoot.height() || 0)) - captionHeight,\n\t\t\t\t\t\tisVisible = ( scrollTop > offset.top ) && ( scrollTop < offset.top + tableHeight ) ? 'visible' : 'hidden',\n\t\t\t\t\t\tstate = isVisible === 'visible' ? ts.css.stickyVis : ts.css.stickyHide,\n\t\t\t\t\t\tneedsUpdating = !$stickyWrap.hasClass( state ),\n\t\t\t\t\t\tcssSettings = { visibility : isVisible };\n\t\t\t\t\tif ($attach.length) {\n\t\t\t\t\t\t// attached sticky headers always need updating\n\t\t\t\t\t\tneedsUpdating = true;\n\t\t\t\t\t\tcssSettings.top = yWindow ? scrollTop - $attach.offset().top : $attach.scrollTop();\n\t\t\t\t\t}\n\t\t\t\t\t// adjust when scrolling horizontally - fixes issue #143\n\t\t\t\t\ttmp = getLeftPosition(yWindow);\n\t\t\t\t\tif (tmp !== parseInt($stickyWrap.css('left'), 10)) {\n\t\t\t\t\t\tneedsUpdating = true;\n\t\t\t\t\t\tcssSettings.left = tmp;\n\t\t\t\t\t}\n\t\t\t\t\tcssSettings.top = ( cssSettings.top || 0 ) +\n\t\t\t\t\t\t// If nested AND inside of a scrollable element, only add parent sticky height\n\t\t\t\t\t\t(!yWindow && $nestedSticky.length ? $nestedSticky.height() : stickyOffset + nestedStickyTop);\n\t\t\t\t\tif (needsUpdating) {\n\t\t\t\t\t\t$stickyWrap\n\t\t\t\t\t\t\t.removeClass( ts.css.stickyVis + ' ' + ts.css.stickyHide )\n\t\t\t\t\t\t\t.addClass( state )\n\t\t\t\t\t\t\t.css(cssSettings);\n\t\t\t\t\t}\n\t\t\t\t\tif (isVisible !== laststate || resizing) {\n\t\t\t\t\t\t// make sure the column widths match\n\t\t\t\t\t\tresizeHeader();\n\t\t\t\t\t\tlaststate = isVisible;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t// only add a position relative if a position isn't already defined\n\t\t\tif ($attach.length && !$attach.css('position')) {\n\t\t\t\t$attach.css('position', 'relative');\n\t\t\t}\n\t\t\t// fix clone ID, if it exists - fixes #271\n\t\t\tif ($stickyTable.attr('id')) { $stickyTable[0].id += wo.stickyHeaders_cloneId; }\n\t\t\t// clear out cloned table, except for sticky header\n\t\t\t// include caption & filter row (fixes #126 & #249) - don't remove cells to get correct cell indexing\n\t\t\t$stickyTable.find('> thead:gt(0), tr.sticky-false').hide();\n\t\t\t$stickyTable.find('> tbody, > tfoot').remove();\n\t\t\t$stickyTable.find('caption').toggle(wo.stickyHeaders_includeCaption);\n\t\t\t// issue #172 - find td/th in sticky header\n\t\t\t$stickyCells = $stickyThead.children().children();\n\t\t\t$stickyTable.css({ height:0, width:0, margin: 0 });\n\t\t\t// remove resizable block\n\t\t\t$stickyCells.find('.' + ts.css.resizer).remove();\n\t\t\t// update sticky header class names to match real header after sorting\n\t\t\t$table\n\t\t\t\t.addClass('hasStickyHeaders')\n\t\t\t\t.bind('pagerComplete' + namespace, function() {\n\t\t\t\t\tresizeHeader();\n\t\t\t\t});\n\n\t\t\tts.bindEvents(table, $stickyThead.children().children('.' + ts.css.header));\n\n\t\t\tif (wo.stickyHeaders_appendTo) {\n\t\t\t\t$(wo.stickyHeaders_appendTo).append( $stickyWrap );\n\t\t\t} else {\n\t\t\t\t// add stickyheaders AFTER the table. If the table is selected by ID, the original one (first) will be returned.\n\t\t\t\t$table.after( $stickyWrap );\n\t\t\t}\n\n\t\t\t// onRenderHeader is defined, we need to do something about it (fixes #641)\n\t\t\tif (c.onRenderHeader) {\n\t\t\t\t$t = $stickyThead.children('tr').children();\n\t\t\t\tlen = $t.length;\n\t\t\t\tfor ( index = 0; index < len; index++ ) {\n\t\t\t\t\t// send second parameter\n\t\t\t\t\tc.onRenderHeader.apply( $t.eq( index ), [ index, c, $stickyTable ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// make it sticky!\n\t\t\t$xScroll.add($yScroll)\n\t\t\t\t.unbind( ('scroll resize '.split(' ').join( namespace )).replace(/\\s+/g, ' ') )\n\t\t\t\t.bind('scroll resize '.split(' ').join( namespace ), function( event ) {\n\t\t\t\t\tscrollSticky( event.type === 'resize' );\n\t\t\t\t});\n\t\t\tc.$table\n\t\t\t\t.unbind('stickyHeadersUpdate' + namespace)\n\t\t\t\t.bind('stickyHeadersUpdate' + namespace, function() {\n\t\t\t\t\tscrollSticky( true );\n\t\t\t\t});\n\n\t\t\tif (wo.stickyHeaders_addResizeEvent) {\n\t\t\t\tts.addHeaderResizeEvent(table);\n\t\t\t}\n\n\t\t\t// look for filter widget\n\t\t\tif ($table.hasClass('hasFilters') && wo.filter_columnFilters) {\n\t\t\t\t// scroll table into view after filtering, if sticky header is active - #482\n\t\t\t\t$table.bind('filterEnd' + namespace, function() {\n\t\t\t\t\t// $(':focus') needs jQuery 1.6+\n\t\t\t\t\tvar $td = $(document.activeElement).closest('td'),\n\t\t\t\t\t\tcolumn = $td.parent().children().index($td);\n\t\t\t\t\t// only scroll if sticky header is active\n\t\t\t\t\tif ($stickyWrap.hasClass(ts.css.stickyVis) && wo.stickyHeaders_filteredToTop) {\n\t\t\t\t\t\t// scroll to original table (not sticky clone)\n\t\t\t\t\t\twindow.scrollTo(0, $table.position().top);\n\t\t\t\t\t\t// give same input/select focus; check if c.$filters exists; fixes #594\n\t\t\t\t\t\tif (column >= 0 && c.$filters) {\n\t\t\t\t\t\t\tc.$filters.eq(column).find('a, select, input').filter(':visible').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tts.filter.bindSearch( $table, $stickyCells.find('.' + ts.css.filter) );\n\t\t\t\t// support hideFilters\n\t\t\t\tif (wo.filter_hideFilters) {\n\t\t\t\t\tts.filter.hideFilters(c, $stickyTable);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// resize table (Firefox)\n\t\t\tif (wo.stickyHeaders_addResizeEvent) {\n\t\t\t\t$table.bind('resize' + c.namespace + 'stickyheaders', function() {\n\t\t\t\t\tresizeHeader();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// make sure sticky is visible if page is partially scrolled\n\t\t\tscrollSticky( true );\n\t\t\t$table.triggerHandler('stickyHeadersInit');\n\n\t\t},\n\t\tremove: function(table, c, wo) {\n\t\t\tvar namespace = c.namespace + 'stickyheaders ';\n\t\t\tc.$table\n\t\t\t\t.removeClass('hasStickyHeaders')\n\t\t\t\t.unbind( ('pagerComplete resize filterEnd stickyHeadersUpdate '.split(' ').join(namespace)).replace(/\\s+/g, ' ') )\n\t\t\t\t.next('.' + ts.css.stickyWrap).remove();\n\t\t\tif (wo.$sticky && wo.$sticky.length) { wo.$sticky.remove(); } // remove cloned table\n\t\t\t$(window)\n\t\t\t\t.add(wo.stickyHeaders_xScroll)\n\t\t\t\t.add(wo.stickyHeaders_yScroll)\n\t\t\t\t.add(wo.stickyHeaders_attachTo)\n\t\t\t\t.unbind( ('scroll resize '.split(' ').join(namespace)).replace(/\\s+/g, ' ') );\n\t\t\tts.addHeaderResizeEvent(table, true);\n\t\t}\n\t});\n\n})(jQuery, window);\n\r\n/*! Widget: resizable - updated 2018-03-26 (v2.30.2) */\n/*jshint browser:true, jquery:true, unused:false */\n;(function ($, window) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\t$.extend(ts.css, {\n\t\tresizableContainer : 'tablesorter-resizable-container',\n\t\tresizableHandle    : 'tablesorter-resizable-handle',\n\t\tresizableNoSelect  : 'tablesorter-disableSelection',\n\t\tresizableStorage   : 'tablesorter-resizable'\n\t});\n\n\t// Add extra scroller css\n\t$(function() {\n\t\tvar s = '<style>' +\n\t\t\t'body.' + ts.css.resizableNoSelect + ' { -ms-user-select: none; -moz-user-select: -moz-none;' +\n\t\t\t\t'-khtml-user-select: none; -webkit-user-select: none; user-select: none; }' +\n\t\t\t'.' + ts.css.resizableContainer + ' { position: relative; height: 1px; }' +\n\t\t\t// make handle z-index > than stickyHeader z-index, so the handle stays above sticky header\n\t\t\t'.' + ts.css.resizableHandle + ' { position: absolute; display: inline-block; width: 8px;' +\n\t\t\t\t'top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }' +\n\t\t\t'</style>';\n\t\t$('head').append(s);\n\t});\n\n\tts.resizable = {\n\t\tinit : function( c, wo ) {\n\t\t\tif ( c.$table.hasClass( 'hasResizable' ) ) { return; }\n\t\t\tc.$table.addClass( 'hasResizable' );\n\n\t\t\tvar noResize, $header, column, storedSizes, tmp,\n\t\t\t\t$table = c.$table,\n\t\t\t\t$parent = $table.parent(),\n\t\t\t\tmarginTop = parseInt( $table.css( 'margin-top' ), 10 ),\n\n\t\t\t// internal variables\n\t\t\tvars = wo.resizable_vars = {\n\t\t\t\tuseStorage : ts.storage && wo.resizable !== false,\n\t\t\t\t$wrap : $parent,\n\t\t\t\tmouseXPosition : 0,\n\t\t\t\t$target : null,\n\t\t\t\t$next : null,\n\t\t\t\toverflow : $parent.css('overflow') === 'auto' ||\n\t\t\t\t\t$parent.css('overflow') === 'scroll' ||\n\t\t\t\t\t$parent.css('overflow-x') === 'auto' ||\n\t\t\t\t\t$parent.css('overflow-x') === 'scroll',\n\t\t\t\tstoredSizes : []\n\t\t\t};\n\n\t\t\t// set default widths\n\t\t\tts.resizableReset( c.table, true );\n\n\t\t\t// now get measurements!\n\t\t\tvars.tableWidth = $table.width();\n\t\t\t// attempt to autodetect\n\t\t\tvars.fullWidth = Math.abs( $parent.width() - vars.tableWidth ) < 20;\n\n\t\t\t/*\n\t\t\t// Hacky method to determine if table width is set to 'auto'\n\t\t\t// http://stackoverflow.com/a/20892048/145346\n\t\t\tif ( !vars.fullWidth ) {\n\t\t\t\ttmp = $table.width();\n\t\t\t\t$header = $table.wrap('<span>').parent(); // temp variable\n\t\t\t\tstoredSizes = parseInt( $table.css( 'margin-left' ), 10 ) || 0;\n\t\t\t\t$table.css( 'margin-left', storedSizes + 50 );\n\t\t\t\tvars.tableWidth = $header.width() > tmp ? 'auto' : tmp;\n\t\t\t\t$table.css( 'margin-left', storedSizes ? storedSizes : '' );\n\t\t\t\t$header = null;\n\t\t\t\t$table.unwrap('<span>');\n\t\t\t}\n\t\t\t*/\n\n\t\t\tif ( vars.useStorage && vars.overflow ) {\n\t\t\t\t// save table width\n\t\t\t\tts.storage( c.table, 'tablesorter-table-original-css-width', vars.tableWidth );\n\t\t\t\ttmp = ts.storage( c.table, 'tablesorter-table-resized-width' ) || 'auto';\n\t\t\t\tts.resizable.setWidth( $table, tmp, true );\n\t\t\t}\n\t\t\two.resizable_vars.storedSizes = storedSizes = ( vars.useStorage ?\n\t\t\t\tts.storage( c.table, ts.css.resizableStorage ) :\n\t\t\t\t[] ) || [];\n\t\t\tts.resizable.setWidths( c, wo, storedSizes );\n\t\t\tts.resizable.updateStoredSizes( c, wo );\n\n\t\t\two.$resizable_container = $( '<div class=\"' + ts.css.resizableContainer + '\">' )\n\t\t\t\t.css({ top : marginTop })\n\t\t\t\t.insertBefore( $table );\n\t\t\t// add container\n\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t$header = c.$headerIndexed[ column ];\n\t\t\t\ttmp = ts.getColumnData( c.table, c.headers, column );\n\t\t\t\tnoResize = ts.getData( $header, tmp, 'resizable' ) === 'false';\n\t\t\t\tif ( !noResize ) {\n\t\t\t\t\t$( '<div class=\"' + ts.css.resizableHandle + '\">' )\n\t\t\t\t\t\t.appendTo( wo.$resizable_container )\n\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\t'data-column' : column,\n\t\t\t\t\t\t\t'unselectable' : 'on'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.data( 'header', $header )\n\t\t\t\t\t\t.bind( 'selectstart', false );\n\t\t\t\t}\n\t\t\t}\n\t\t\tts.resizable.bindings( c, wo );\n\t\t},\n\n\t\tupdateStoredSizes : function( c, wo ) {\n\t\t\tvar column, $header,\n\t\t\t\tlen = c.columns,\n\t\t\t\tvars = wo.resizable_vars;\n\t\t\tvars.storedSizes = [];\n\t\t\tfor ( column = 0; column < len; column++ ) {\n\t\t\t\t$header = c.$headerIndexed[ column ];\n\t\t\t\tvars.storedSizes[ column ] = $header.is(':visible') ? $header.width() : 0;\n\t\t\t}\n\t\t},\n\n\t\tsetWidth : function( $el, width, overflow ) {\n\t\t\t// overflow tables need min & max width set as well\n\t\t\t$el.css({\n\t\t\t\t'width' : width,\n\t\t\t\t'min-width' : overflow ? width : '',\n\t\t\t\t'max-width' : overflow ? width : ''\n\t\t\t});\n\t\t},\n\n\t\tsetWidths : function( c, wo, storedSizes ) {\n\t\t\tvar column, $temp,\n\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t$extra = $( c.namespace + '_extra_headers' ),\n\t\t\t\t$col = c.$table.children( 'colgroup' ).children( 'col' );\n\t\t\tstoredSizes = storedSizes || vars.storedSizes || [];\n\t\t\t// process only if table ID or url match\n\t\t\tif ( storedSizes.length ) {\n\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t\t// set saved resizable widths\n\t\t\t\t\tts.resizable.setWidth( c.$headerIndexed[ column ], storedSizes[ column ], vars.overflow );\n\t\t\t\t\tif ( $extra.length ) {\n\t\t\t\t\t\t// stickyHeaders needs to modify min & max width as well\n\t\t\t\t\t\t$temp = $extra.eq( column ).add( $col.eq( column ) );\n\t\t\t\t\t\tts.resizable.setWidth( $temp, storedSizes[ column ], vars.overflow );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$temp = $( c.namespace + '_extra_table' );\n\t\t\t\tif ( $temp.length && !ts.hasWidget( c.table, 'scroller' ) ) {\n\t\t\t\t\tts.resizable.setWidth( $temp, c.$table.outerWidth(), vars.overflow );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetHandlePosition : function( c, wo ) {\n\t\t\tvar startPosition,\n\t\t\t\ttableHeight = c.$table.height(),\n\t\t\t\t$handles = wo.$resizable_container.children(),\n\t\t\t\thandleCenter = Math.floor( $handles.width() / 2 );\n\n\t\t\tif ( ts.hasWidget( c.table, 'scroller' ) ) {\n\t\t\t\ttableHeight = 0;\n\t\t\t\tc.$table.closest( '.' + ts.css.scrollerWrap ).children().each(function() {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t// center table has a max-height set\n\t\t\t\t\ttableHeight += $this.filter('[style*=\"height\"]').length ? $this.height() : $this.children('table').height();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( !wo.resizable_includeFooter && c.$table.children('tfoot').length ) {\n\t\t\t\ttableHeight -= c.$table.children('tfoot').height();\n\t\t\t}\n\t\t\t// subtract out table left position from resizable handles. Fixes #864\n\t\t\t// jQuery v3.3.0+ appears to include the start position with the $header.position().left; see #1544\n\t\t\tstartPosition = parseFloat($.fn.jquery) >= 3.3 ? 0 : c.$table.position().left;\n\t\t\t$handles.each( function() {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t\tcolumn = parseInt( $this.attr( 'data-column' ), 10 ),\n\t\t\t\t\tcolumns = c.columns - 1,\n\t\t\t\t\t$header = $this.data( 'header' );\n\t\t\t\tif ( !$header ) { return; } // see #859\n\t\t\t\tif (\n\t\t\t\t\t!$header.is(':visible') ||\n\t\t\t\t\t( !wo.resizable_addLastColumn && ts.resizable.checkVisibleColumns(c, column) )\n\t\t\t\t) {\n\t\t\t\t\t$this.hide();\n\t\t\t\t} else if ( column < columns || column === columns && wo.resizable_addLastColumn ) {\n\t\t\t\t\t$this.css({\n\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\theight : tableHeight,\n\t\t\t\t\t\tleft : $header.position().left - startPosition + $header.outerWidth() - handleCenter\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// Fixes #1485\n\t\tcheckVisibleColumns: function( c, column ) {\n\t\t\tvar i,\n\t\t\t\tlen = 0;\n\t\t\tfor ( i = column + 1; i < c.columns; i++ ) {\n\t\t\t\tlen += c.$headerIndexed[i].is( ':visible' ) ? 1 : 0;\n\t\t\t}\n\t\t\treturn len === 0;\n\t\t},\n\n\t\t// prevent text selection while dragging resize bar\n\t\ttoggleTextSelection : function( c, wo, toggle ) {\n\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\two.resizable_vars.disabled = toggle;\n\t\t\t$( 'body' ).toggleClass( ts.css.resizableNoSelect, toggle );\n\t\t\tif ( toggle ) {\n\t\t\t\t$( 'body' )\n\t\t\t\t\t.attr( 'unselectable', 'on' )\n\t\t\t\t\t.bind( 'selectstart' + namespace, false );\n\t\t\t} else {\n\t\t\t\t$( 'body' )\n\t\t\t\t\t.removeAttr( 'unselectable' )\n\t\t\t\t\t.unbind( 'selectstart' + namespace );\n\t\t\t}\n\t\t},\n\n\t\tbindings : function( c, wo ) {\n\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\two.$resizable_container.children().bind( 'mousedown', function( event ) {\n\t\t\t\t// save header cell and mouse position\n\t\t\t\tvar column,\n\t\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t\t$extras = $( c.namespace + '_extra_headers' ),\n\t\t\t\t\t$header = $( event.target ).data( 'header' );\n\n\t\t\t\tcolumn = parseInt( $header.attr( 'data-column' ), 10 );\n\t\t\t\tvars.$target = $header = $header.add( $extras.filter('[data-column=\"' + column + '\"]') );\n\t\t\t\tvars.target = column;\n\n\t\t\t\t// if table is not as wide as it's parent, then resize the table\n\t\t\t\tvars.$next = event.shiftKey || wo.resizable_targetLast ?\n\t\t\t\t\t$header.parent().children().not( '.resizable-false' ).filter( ':last' ) :\n\t\t\t\t\t$header.nextAll( ':not(.resizable-false)' ).eq( 0 );\n\n\t\t\t\tcolumn = parseInt( vars.$next.attr( 'data-column' ), 10 );\n\t\t\t\tvars.$next = vars.$next.add( $extras.filter('[data-column=\"' + column + '\"]') );\n\t\t\t\tvars.next = column;\n\n\t\t\t\tvars.mouseXPosition = event.pageX;\n\t\t\t\tts.resizable.updateStoredSizes( c, wo );\n\t\t\t\tts.resizable.toggleTextSelection(c, wo, true );\n\t\t\t});\n\n\t\t\t$( document )\n\t\t\t\t.bind( 'mousemove' + namespace, function( event ) {\n\t\t\t\t\tvar vars = wo.resizable_vars;\n\t\t\t\t\t// ignore mousemove if no mousedown\n\t\t\t\t\tif ( !vars.disabled || vars.mouseXPosition === 0 || !vars.$target ) { return; }\n\t\t\t\t\tif ( wo.resizable_throttle ) {\n\t\t\t\t\t\tclearTimeout( vars.timer );\n\t\t\t\t\t\tvars.timer = setTimeout( function() {\n\t\t\t\t\t\t\tts.resizable.mouseMove( c, wo, event );\n\t\t\t\t\t\t}, isNaN( wo.resizable_throttle ) ? 5 : wo.resizable_throttle );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tts.resizable.mouseMove( c, wo, event );\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.bind( 'mouseup' + namespace, function() {\n\t\t\t\t\tif (!wo.resizable_vars.disabled) { return; }\n\t\t\t\t\tts.resizable.toggleTextSelection( c, wo, false );\n\t\t\t\t\tts.resizable.stopResize( c, wo );\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t});\n\n\t\t\t// resizeEnd event triggered by scroller widget\n\t\t\t$( window ).bind( 'resize' + namespace + ' resizeEnd' + namespace, function() {\n\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t});\n\n\t\t\t// right click to reset columns to default widths\n\t\t\tc.$table\n\t\t\t\t.bind( 'columnUpdate pagerComplete resizableUpdate '.split( ' ' ).join( namespace + ' ' ), function() {\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t})\n\t\t\t\t.bind( 'resizableReset' + namespace, function() {\n\t\t\t\t\tts.resizableReset( c.table );\n\t\t\t\t})\n\t\t\t\t.find( 'thead:first' )\n\t\t\t\t.add( $( c.namespace + '_extra_table' ).find( 'thead:first' ) )\n\t\t\t\t.bind( 'contextmenu' + namespace, function() {\n\t\t\t\t\t// $.isEmptyObject() needs jQuery 1.4+; allow right click if already reset\n\t\t\t\t\tvar allowClick = wo.resizable_vars.storedSizes.length === 0;\n\t\t\t\t\tts.resizableReset( c.table );\n\t\t\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t\t\t\two.resizable_vars.storedSizes = [];\n\t\t\t\t\treturn allowClick;\n\t\t\t\t});\n\n\t\t},\n\n\t\tmouseMove : function( c, wo, event ) {\n\t\t\tif ( wo.resizable_vars.mouseXPosition === 0 || !wo.resizable_vars.$target ) { return; }\n\t\t\t// resize columns\n\t\t\tvar column,\n\t\t\t\ttotal = 0,\n\t\t\t\tvars = wo.resizable_vars,\n\t\t\t\t$next = vars.$next,\n\t\t\t\ttar = vars.storedSizes[ vars.target ],\n\t\t\t\tleftEdge = event.pageX - vars.mouseXPosition;\n\t\t\tif ( vars.overflow ) {\n\t\t\t\tif ( tar + leftEdge > 0 ) {\n\t\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\t\tts.resizable.setWidth( vars.$target, vars.storedSizes[ vars.target ], true );\n\t\t\t\t\t// update the entire table width\n\t\t\t\t\tfor ( column = 0; column < c.columns; column++ ) {\n\t\t\t\t\t\ttotal += vars.storedSizes[ column ];\n\t\t\t\t\t}\n\t\t\t\t\tts.resizable.setWidth( c.$table.add( $( c.namespace + '_extra_table' ) ), total );\n\t\t\t\t}\n\t\t\t\tif ( !$next.length ) {\n\t\t\t\t\t// if expanding right-most column, scroll the wrapper\n\t\t\t\t\tvars.$wrap[0].scrollLeft = c.$table.width();\n\t\t\t\t}\n\t\t\t} else if ( vars.fullWidth ) {\n\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\tvars.storedSizes[ vars.next ] -= leftEdge;\n\t\t\t\tts.resizable.setWidths( c, wo );\n\t\t\t} else {\n\t\t\t\tvars.storedSizes[ vars.target ] += leftEdge;\n\t\t\t\tts.resizable.setWidths( c, wo );\n\t\t\t}\n\t\t\tvars.mouseXPosition = event.pageX;\n\t\t\t// dynamically update sticky header widths\n\t\t\tc.$table.triggerHandler('stickyHeadersUpdate');\n\t\t},\n\n\t\tstopResize : function( c, wo ) {\n\t\t\tvar vars = wo.resizable_vars;\n\t\t\tts.resizable.updateStoredSizes( c, wo );\n\t\t\tif ( vars.useStorage ) {\n\t\t\t\t// save all column widths\n\t\t\t\tts.storage( c.table, ts.css.resizableStorage, vars.storedSizes );\n\t\t\t\tts.storage( c.table, 'tablesorter-table-resized-width', c.$table.width() );\n\t\t\t}\n\t\t\tvars.mouseXPosition = 0;\n\t\t\tvars.$target = vars.$next = null;\n\t\t\t// will update stickyHeaders, just in case, see #912\n\t\t\tc.$table.triggerHandler('stickyHeadersUpdate');\n\t\t\tc.$table.triggerHandler('resizableComplete');\n\t\t}\n\t};\n\n\t// this widget saves the column widths if\n\t// $.tablesorter.storage function is included\n\t// **************************\n\tts.addWidget({\n\t\tid: 'resizable',\n\t\tpriority: 40,\n\t\toptions: {\n\t\t\tresizable : true, // save column widths to storage\n\t\t\tresizable_addLastColumn : false,\n\t\t\tresizable_includeFooter: true,\n\t\t\tresizable_widths : [],\n\t\t\tresizable_throttle : false, // set to true (5ms) or any number 0-10 range\n\t\t\tresizable_targetLast : false\n\t\t},\n\t\tinit: function(table, thisWidget, c, wo) {\n\t\t\tts.resizable.init( c, wo );\n\t\t},\n\t\tformat: function( table, c, wo ) {\n\t\t\tts.resizable.setHandlePosition( c, wo );\n\t\t},\n\t\tremove: function( table, c, wo, refreshing ) {\n\t\t\tif (wo.$resizable_container) {\n\t\t\t\tvar namespace = c.namespace + 'tsresize';\n\t\t\t\tc.$table.add( $( c.namespace + '_extra_table' ) )\n\t\t\t\t\t.removeClass('hasResizable')\n\t\t\t\t\t.children( 'thead' )\n\t\t\t\t\t.unbind( 'contextmenu' + namespace );\n\n\t\t\t\two.$resizable_container.remove();\n\t\t\t\tts.resizable.toggleTextSelection( c, wo, false );\n\t\t\t\tts.resizableReset( table, refreshing );\n\t\t\t\t$( document ).unbind( 'mousemove' + namespace + ' mouseup' + namespace );\n\t\t\t}\n\t\t}\n\t});\n\n\tts.resizableReset = function( table, refreshing ) {\n\t\t$( table ).each(function() {\n\t\t\tvar index, $t,\n\t\t\t\tc = this.config,\n\t\t\t\two = c && c.widgetOptions,\n\t\t\t\tvars = wo.resizable_vars;\n\t\t\tif ( table && c && c.$headerIndexed.length ) {\n\t\t\t\t// restore the initial table width\n\t\t\t\tif ( vars.overflow && vars.tableWidth ) {\n\t\t\t\t\tts.resizable.setWidth( c.$table, vars.tableWidth, true );\n\t\t\t\t\tif ( vars.useStorage ) {\n\t\t\t\t\t\tts.storage( table, 'tablesorter-table-resized-width', vars.tableWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor ( index = 0; index < c.columns; index++ ) {\n\t\t\t\t\t$t = c.$headerIndexed[ index ];\n\t\t\t\t\tif ( wo.resizable_widths && wo.resizable_widths[ index ] ) {\n\t\t\t\t\t\tts.resizable.setWidth( $t, wo.resizable_widths[ index ], vars.overflow );\n\t\t\t\t\t} else if ( !$t.hasClass( 'resizable-false' ) ) {\n\t\t\t\t\t\t// don't clear the width of any column that is not resizable\n\t\t\t\t\t\tts.resizable.setWidth( $t, '', vars.overflow );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// reset stickyHeader widths\n\t\t\t\tc.$table.triggerHandler( 'stickyHeadersUpdate' );\n\t\t\t\tif ( ts.storage && !refreshing ) {\n\t\t\t\t\tts.storage( this, ts.css.resizableStorage, [] );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n})( jQuery, window );\n\r\n/*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *//*\n* Requires tablesorter v2.16+\n* by Rob Garrison\n*/\n;(function ($) {\n\t'use strict';\n\tvar ts = $.tablesorter || {};\n\n\tfunction getStoredSortList(c) {\n\t\tvar stored = ts.storage( c.table, 'tablesorter-savesort' );\n\t\treturn (stored && stored.hasOwnProperty('sortList') && $.isArray(stored.sortList)) ? stored.sortList : [];\n\t}\n\n\tfunction sortListChanged(c, sortList) {\n\t\treturn (sortList || getStoredSortList(c)).join(',') !== c.sortList.join(',');\n\t}\n\n\t// this widget saves the last sort only if the\n\t// saveSort widget option is true AND the\n\t// $.tablesorter.storage function is included\n\t// **************************\n\tts.addWidget({\n\t\tid: 'saveSort',\n\t\tpriority: 20,\n\t\toptions: {\n\t\t\tsaveSort : true\n\t\t},\n\t\tinit: function(table, thisWidget, c, wo) {\n\t\t\t// run widget format before all other widgets are applied to the table\n\t\t\tthisWidget.format(table, c, wo, true);\n\t\t},\n\t\tformat: function(table, c, wo, init) {\n\t\t\tvar time,\n\t\t\t\t$table = c.$table,\n\t\t\t\tsaveSort = wo.saveSort !== false, // make saveSort active/inactive; default to true\n\t\t\t\tsortList = { 'sortList' : c.sortList },\n\t\t\t\tdebug = ts.debug(c, 'saveSort');\n\t\t\tif (debug) {\n\t\t\t\ttime = new Date();\n\t\t\t}\n\t\t\tif ($table.hasClass('hasSaveSort')) {\n\t\t\t\tif (saveSort && table.hasInitialized && ts.storage && sortListChanged(c)) {\n\t\t\t\t\tts.storage( table, 'tablesorter-savesort', sortList );\n\t\t\t\t\tif (debug) {\n\t\t\t\t\t\tconsole.log('saveSort >> Saving last sort: ' + c.sortList + ts.benchmark(time));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// set table sort on initial run of the widget\n\t\t\t\t$table.addClass('hasSaveSort');\n\t\t\t\tsortList = '';\n\t\t\t\t// get data\n\t\t\t\tif (ts.storage) {\n\t\t\t\t\tsortList = getStoredSortList(c);\n\t\t\t\t\tif (debug) {\n\t\t\t\t\t\tconsole.log('saveSort >> Last sort loaded: \"' + sortList + '\"' + ts.benchmark(time));\n\t\t\t\t\t}\n\t\t\t\t\t$table.bind('saveSortReset', function(event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tts.storage( table, 'tablesorter-savesort', '' );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// init is true when widget init is run, this will run this widget before all other widgets have initialized\n\t\t\t\t// this method allows using this widget in the original tablesorter plugin; but then it will run all widgets twice.\n\t\t\t\tif (init && sortList && sortList.length > 0) {\n\t\t\t\t\tc.sortList = sortList;\n\t\t\t\t} else if (table.hasInitialized && sortList && sortList.length > 0) {\n\t\t\t\t\t// update sort change\n\t\t\t\t\tif (sortListChanged(c, sortList)) {\n\t\t\t\t\t\tts.sortOn(c, sortList);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremove: function(table, c) {\n\t\t\tc.$table.removeClass('hasSaveSort');\n\t\t\t// clear storage\n\t\t\tif (ts.storage) { ts.storage( table, 'tablesorter-savesort', '' ); }\n\t\t}\n\t});\n\n})(jQuery);\nreturn jQuery.tablesorter;}));\r\n"],"sourceRoot":""}