{"version":3,"sources":["webpack:///./node_modules/@instructure/ui-dom-utils/es/getFontSize.js","webpack:///./node_modules/@instructure/ui-utils/es/px.js","webpack:///./app/jsx/courses/notification_settings/SVG/PleaseWaitWristWatch.svg","webpack:///./app/jsx/courses/notification_settings/graphqlData/Queries.js","webpack:///./app/jsx/courses/notification_settings/graphqlData/Mutations.js","webpack:///./app/jsx/courses/notification_settings/CourseNotificationSettings.js","webpack:///./app/jsx/courses/notification_settings/CourseNotificationSettingsQuery.js","webpack:///./app/jsx/courses/notification_settings/index.js","webpack:///./app/jsx/bundles/course_notification_settings_show.js","webpack:///./node_modules/@instructure/ui-prop-types/es/makeRequirable.js","webpack:///./node_modules/@instructure/ui-prop-types/es/Children.js","webpack:///./app/jsx/shared/LoadingIndicator.js","webpack:///./node_modules/@instructure/ui-dom-utils/es/getBoundingClientRect.js","webpack:///./app/jsx/shared/components/AlertManager.js"],"names":["COMPUTED_CACHE","getFontSize","el","ignoreCache","canUseDOM","container","ownerDocument","documentElement","fontSize","parseInt","getComputedStyle","getPropertyValue","px","val","document","body","_parseUnit","parseUnit","_parseUnit2","num","unit","module","exports","COURSE_NOTIFICATIONS_ENABLED_QUERY","gql","UPDATE_COURSE_NOTIFICATION_PREFERENCES","CourseNotificationSettings","Component","state","enabled","this","props","updateNotificationPreferences","mutationFunc","setState","prevState","variables","courseId","renderCourseNotificationSettings","Flex","direction","Item","Heading","I18n","t","margin","padding","Checkbox","data-testid","label","size","variant","checked","onChange","Text","style","textAlign","alt","src","PleaseWaitWristWatch","width","handleUpdateComplete","data","errors","context","setOnFailure","setOnSuccess","render","mutation","onCompleted","onError","contextType","AlertManagerContext","LoadingIndicator","CourseNotificationSettingsQuery","useQuery","loading","error","GenericErrorPage","imageUrl","errorShipUrl","errorSubject","errorCategory","course","notificationPreferencesEnabled","client","createClient","NotificationSettings","AlertManager","ENV","COURSE","id","$","ReactDom","appendTo","makeRequirable","validator","propName","componentName","propValue","Error","concat","_len","arguments","length","rest","Array","_key","apply","Children","oneOf","validTypes","children","toArray","validTypeNames","map","type","getDisplayName","i","child","childName","indexOf","join","isRequired","oneOfEach","instanceCount","typeName","Object","keys","forEach","push","enforceOrder","validTypeGroups","validateTypes","childNames","typeNames","formatGroupTypes","typeGroups","types","formatTypes","name","displayName","as","height","renderTitle","getBoundingClientRect","rect","top","left","node","window","pageXOffset","pageYOffset","innerWidth","innerHeight","right","bottom","doc","docEl","k","boundingRect","frameElement","defaultView","frameRect","scrollTop","clientTop","scrollLeft","clientLeft","offsetWidth","offsetHeight","clientWidth","clientHeight","React","createContext","alertStatus","alertMessage","key","closeAlert","renderAlert","liveRegion","getElementById","onDismiss","screenReaderOnly","timeout","Provider","value","maxWidth","position","zIndex"],"mappings":"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","file":"course_notification_settings_show-c-e29ce28b8d.js","sourcesContent":["/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from './canUseDOM';\nimport { ownerDocument } from './ownerDocument';\nimport { getComputedStyle } from './getComputedStyle';\nvar COMPUTED_CACHE = {};\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Gets font size in px\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @returns {Object} font size in px\n */\n\nfunction getFontSize(el, ignoreCache) {\n  if (!canUseDOM) {\n    return 16;\n  }\n\n  var container = el || ownerDocument(el).documentElement; // return the cached font size if it's there\n\n  if (!ignoreCache && COMPUTED_CACHE[container]) {\n    return COMPUTED_CACHE[container];\n  }\n\n  var fontSize = parseInt(getComputedStyle(container).getPropertyValue('font-size')); // cache the computed font size so that we don't have to compute it again\n\n  COMPUTED_CACHE[container] = fontSize;\n  return fontSize;\n}\n\nexport default getFontSize;\nexport { getFontSize };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { getFontSize } from '@instructure/ui-dom-utils';\nimport { parseUnit } from './parseUnit';\n/**\n * ---\n * category: utilities\n * ---\n * Converts a unit value size combination (em, rem, px) to a number representing px\n *\n * Example inputs:\n *  - '100rem'\n *  - '20em'\n *  - '40px'\n *\n * @module px\n *\n * @param {String} val\n * @param {DomNode} el - containing element, for context measure is em (defaults to document.body)\n * @returns {Number} Returns numerical representation of pixels\n*/\n\nfunction px(val, el) {\n  var container = el || document.body;\n\n  if (!val || typeof val === 'number') {\n    return val;\n  }\n\n  var _parseUnit = parseUnit(val),\n      _parseUnit2 = _slicedToArray(_parseUnit, 2),\n      num = _parseUnit2[0],\n      unit = _parseUnit2[1];\n\n  if (unit === 'rem') {\n    return num * getFontSize();\n  } else if (unit === 'em') {\n    return num * getFontSize(container);\n  } else {\n    return num;\n  }\n}\n\nexport default px;\nexport { px };","module.exports = __webpack_public_path__ + \"d16d07114f2527a307ee9e0fcda7b591.svg\";","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport gql from 'graphql-tag'\n\nexport const COURSE_NOTIFICATIONS_ENABLED_QUERY = gql`\n  query GetNotificationPreferences($courseId: ID!) {\n    course(id: $courseId) {\n      notificationPreferencesEnabled\n    }\n  }\n`\n","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport gql from 'graphql-tag'\n\nexport const UPDATE_COURSE_NOTIFICATION_PREFERENCES = gql`\n  mutation UpdateCourseNotificationPreferences($courseId: ID!, $enabled: Boolean!) {\n    updateNotificationPreferences(\n      input: {contextType: Course, courseId: $courseId, enabled: $enabled}\n    ) {\n      course {\n        notificationPreferencesEnabled\n      }\n      errors {\n        message\n      }\n    }\n  }\n`\n","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {AlertManagerContext} from '../../shared/components/AlertManager'\nimport {bool, string} from 'prop-types'\nimport I18n from 'i18n!courses'\nimport {Mutation} from 'react-apollo'\nimport PleaseWaitWristWatch from './SVG/PleaseWaitWristWatch.svg'\nimport React, {Component} from 'react'\nimport {UPDATE_COURSE_NOTIFICATION_PREFERENCES} from './graphqlData/Mutations'\n\nimport {Checkbox} from '@instructure/ui-checkbox'\nimport {Flex} from '@instructure/ui-flex'\nimport {Heading} from '@instructure/ui-heading'\nimport {Text} from '@instructure/ui-text'\n\nexport default class CourseNotificationSettings extends Component {\n  static propTypes = {\n    courseId: string.isRequired,\n    enabled: bool.isRequired\n  }\n\n  state = {\n    enabled: this.props.enabled\n  }\n\n  handleUpdateComplete(data) {\n    if (data.updateNotificationPreferences.errors) {\n      this.context.setOnFailure(I18n.t('Failed to update course notification settings'))\n      this.setState(prevState => ({enabled: !prevState.enabled}))\n    } else {\n      this.context.setOnSuccess(I18n.t('Course notification settings updated'))\n    }\n  }\n\n  updateNotificationPreferences = mutationFunc => {\n    // optimistically toggle button\n    this.setState(prevState => {\n      mutationFunc({\n        variables: {\n          courseId: this.props.courseId,\n          enabled: !prevState.enabled\n        }\n      })\n      return {enabled: !prevState.enabled}\n    })\n  }\n\n  renderCourseNotificationSettings = mutationFunc => (\n    <Flex direction=\"column\">\n      <Flex.Item>\n        <Heading>{I18n.t('Course Notification Settings')}</Heading>\n      </Flex.Item>\n      <Flex.Item margin=\"large 0 small 0\" padding=\"xx-small\">\n        <Checkbox\n          data-testid=\"enable-notifications-toggle\"\n          label={I18n.t('Enable Notifications')}\n          size=\"small\"\n          variant=\"toggle\"\n          checked={this.state.enabled}\n          onChange={() => this.updateNotificationPreferences(mutationFunc)}\n        />\n      </Flex.Item>\n      <Flex.Item>\n        <Text>\n          {this.state.enabled\n            ? I18n.t(\n                'You are currently receiving notifications for this course. To disable course notifications, use the toggle above.'\n              )\n            : I18n.t(\n                'You will not receive any course notifications at this time. To enable course notifications, use the toggle above.'\n              )}\n        </Text>\n      </Flex.Item>\n      <Flex.Item margin=\"large 0 medium 0\">\n        <div style={{textAlign: 'center'}}>\n          <Text size=\"large\">\n            {I18n.t(\n              'Granular course notification settings will be configurable here in the future.'\n            )}\n          </Text>\n        </div>\n      </Flex.Item>\n      <Flex.Item>\n        <div style={{textAlign: 'center'}}>\n          <img alt=\"\" src={PleaseWaitWristWatch} style={{width: '200px'}} />\n        </div>\n      </Flex.Item>\n    </Flex>\n  )\n\n  render() {\n    return (\n      <Mutation\n        mutation={UPDATE_COURSE_NOTIFICATION_PREFERENCES}\n        onCompleted={data => this.handleUpdateComplete(data)}\n        onError={() =>\n          this.context.setOnFailure(I18n.t('Failed to update course notification settings'))\n        }\n      >\n        {mutationFunc => this.renderCourseNotificationSettings(mutationFunc)}\n      </Mutation>\n    )\n  }\n}\n\nCourseNotificationSettings.contextType = AlertManagerContext\n","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {COURSE_NOTIFICATIONS_ENABLED_QUERY} from './graphqlData/Queries'\nimport CourseNotificationSettings from './CourseNotificationSettings'\nimport errorShipUrl from 'jsx/shared/svg/ErrorShip.svg'\nimport GenericErrorPage from '../../shared/components/GenericErrorPage'\nimport I18n from 'i18n!courses'\nimport LoadingIndicator from '../../shared/LoadingIndicator'\nimport React from 'react'\nimport {string} from 'prop-types'\nimport {useQuery} from 'react-apollo'\n\nexport default function CourseNotificationSettingsQuery(props) {\n  const {loading, error, data} = useQuery(COURSE_NOTIFICATIONS_ENABLED_QUERY, {\n    variables: {courseId: props.courseId}\n  })\n\n  if (loading) return <LoadingIndicator />\n  if (error)\n    return (\n      <GenericErrorPage\n        imageUrl={errorShipUrl}\n        errorSubject={I18n.t('Course Notification Settings initial query error')}\n        errorCategory={I18n.t('Course Notification Settings Error Page')}\n      />\n    )\n\n  return (\n    <CourseNotificationSettings\n      courseId={props.courseId}\n      enabled={data?.course?.notificationPreferencesEnabled}\n    />\n  )\n}\n\nCourseNotificationSettingsQuery.propTypes = {\n  courseId: string.isRequired\n}\n","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport AlertManager from '../../shared/components/AlertManager'\nimport {ApolloProvider, createClient} from '../../canvas-apollo'\nimport CourseNotificationSettingsQuery from './CourseNotificationSettingsQuery'\nimport React from 'react'\n\nconst client = createClient()\n\nexport default function NotificationSettings() {\n  return (\n    <ApolloProvider client={client}>\n      <AlertManager>\n        <CourseNotificationSettingsQuery courseId={ENV.COURSE.id} />\n      </AlertManager>\n    </ApolloProvider>\n  )\n}\n","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport $ from 'jquery'\nimport NotificationSettings from '../courses/notification_settings'\nimport React from 'react'\nimport ReactDom from 'react-dom'\n\n$(() => {\n  ReactDom.render(<NotificationSettings />, $('<div/>').appendTo('#content')[0])\n})\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/PropTypes\n * ---\n * Given a validator function, extends the validator functionality to also\n * ensure that the prop has been provided if `.isRequired` is specified.\n *\n * ```js\n * function validator (props, propName, componentName) {\n *   const propValue = props[propName]\n *   if (propValue === 'purple') {\n *     return new Error(`Purple is not accepted in ${componentName}!`)\n *   }\n * }\n *\n * validator.isRequired = makeRequirable(validator)\n * ```\n *\n * @param {function} validator - a validator function\n * @returns {Error} if designated prop is not provided\n */\nfunction makeRequirable(validator) {\n  return function (props, propName, componentName) {\n    var propValue = props[propName];\n\n    if (propValue === null || typeof propValue === 'undefined') {\n      return new Error(\"The prop `\".concat(propName, \"` is marked as required in `\").concat(componentName, \"`, but its value is `\").concat(propValue, \"`\"));\n    } else {\n      for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        rest[_key - 3] = arguments[_key];\n      }\n\n      return validator.apply(void 0, [props, propName, componentName].concat(rest));\n    }\n  };\n}\n\nexport default makeRequirable;\nexport { makeRequirable };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport { makeRequirable } from './makeRequirable';\nvar Children = {\n  /**\n   * Validate that the children of a component are one of the specified types.\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.oneOf([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n   *    }\n   *  }\n   * ```\n   *\n   * This will allow children such as:\n   *\n   * ```jsx\n   *  <Example>\n   *    <Foo />\n   *  </Example>\n   * ```\n   *\n   *  OR\n   *\n   * ```jsx\n   *  <Example>\n   *    <Bar />\n   *    <Foo />\n   *  </Example>\n   * ```\n   *\n   * But will fail on something like:\n   *\n   * ```jsx\n   *  <Example>\n   *    <h1>Example</h1>\n   *    <Foo />\n   *  </Example>\n   * ```\n   * @returns {Error} if validation failed\n   */\n  oneOf: function oneOf(validTypes) {\n    function validator(props, propName, componentName) {\n      var children = React.Children.toArray(props[propName]);\n      var validTypeNames = validTypes.map(function (type) {\n        return type ? getDisplayName(type) : type;\n      });\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child && child.type) {\n          var childName = getDisplayName(child.type);\n\n          if (validTypeNames.indexOf(childName) < 0) {\n            return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found '\").concat(childName, \"'\"));\n          }\n        } else if (child) {\n          return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found an element with unknown type: \").concat(child));\n        }\n      }\n    }\n\n    validator.isRequired = makeRequirable(validator);\n    return validator;\n  },\n\n  /**\n   * Ensures that there is exactly one of each specified child\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.oneOfEach([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  * An error will be thrown\n  *  - If any of the children are not provided (ex. Foo, Bar, but missing Baz)\n  *  - If multiple children of the same type are provided (ex. Foo, Foo, Bar, and Baz)\n  *\n  * @param {Array} validTypes - Array of child types\n  * @returns {Error} if validation failed\n  */\n  oneOfEach: function oneOfEach(validTypes) {\n    return function (props, propName, componentName) {\n      var children = React.Children.toArray(props[propName]);\n      var instanceCount = {};\n      var validTypeNames = validTypes.map(function (type) {\n        var typeName = getDisplayName(type);\n        instanceCount[typeName] = 0;\n        return typeName;\n      });\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child && child.type) {\n          var childName = getDisplayName(child.type);\n\n          if (validTypeNames.indexOf(childName) < 0) {\n            return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found '\").concat(childName, \"'\"));\n          }\n\n          instanceCount[childName] = (instanceCount[childName] || 0) + 1;\n        } else if (child) {\n          return new Error(\"Expected one of \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found an element of unknown type: \").concat(child));\n        }\n      }\n\n      var errors = [];\n      Object.keys(instanceCount).forEach(function (childName) {\n        if (instanceCount[childName] > 1) {\n          errors.push(\"\".concat(instanceCount[childName], \" children of type \").concat(childName));\n        }\n\n        if (instanceCount[childName] === 0) {\n          errors.push(\"0 children of type \".concat(childName));\n        }\n      });\n\n      if (errors.length > 0) {\n        return new Error(\"Expected exactly one of each \".concat(validTypeNames.join(', '), \" in \").concat(componentName, \" but found:\\n  \").concat(errors.join('\\n')));\n      }\n    };\n  },\n\n  /**\n   * Validate the type and order of children for a component.\n   *\n   * ```js\n   *  import { Children } from '@instructure/ui-prop-types'\n   *\n   *  class Example extends Component {\n   *    static propTypes = {\n   *      children: Children.enforceOrder([Foo, Bar, Baz])\n   *    }\n   *\n   *    render () {\n   *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  * This validator will also allow various permutations of the order.\n  *\n  * ```js\n  *  import { Children } from '@instructure/ui-prop-types'\n  *\n  *  class Example extends Component {\n  *    static propTypes = {\n  *      children: Children.enforceOrder(\n  *        [Foo, Bar, Baz],\n  *        [Foo, Bar],\n  *        [Bar, Baz],\n  *      )\n  *    }\n  *\n  *    render () {\n  *      return <div>{this.props.children}</div>\n  *    }\n  *  }\n  * ```\n  *\n  * This will enforce one of the following:\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  *  OR\n  *\n  * ```jsx\n  *  <Example>\n  *    <Foo />\n  *    <Bar />\n  *  </Example>\n  * ```\n  *\n  *  OR\n  *\n  * ```jsx\n  *  <Example>\n  *    <Bar />\n  *    <Baz />\n  *  </Example>\n  * ```\n  *\n  * @param {...Array} validTypeGroups One or more Arrays of valid types\n  * @returns {Error} if validation failed\n  */\n  enforceOrder: function enforceOrder() {\n    for (var _len = arguments.length, validTypeGroups = new Array(_len), _key = 0; _key < _len; _key++) {\n      validTypeGroups[_key] = arguments[_key];\n    }\n\n    function validateTypes(childNames, typeNames) {\n      for (var i = 0; i < childNames.length; i++) {\n        if (childNames[i] !== typeNames[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function formatGroupTypes(componentName, typeGroups) {\n      return typeGroups.map(function (types) {\n        return formatTypes(componentName, types);\n      }).join('\\n\\n');\n    }\n\n    function formatTypes(componentName, types) {\n      var children = types.map(function (type) {\n        if (type) {\n          return getDisplayName(type);\n        } else {\n          return '??';\n        }\n      }).map(function (name) {\n        return \"  <\".concat(name, \" />\");\n      }).join('\\n');\n      return \"<\".concat(componentName, \">\\n\").concat(children, \"\\n</\").concat(componentName, \">\");\n    }\n\n    function validator(props, propName, componentName) {\n      var childNames = React.Children.toArray(props[propName]).map(function (child) {\n        if (child && child.type) {\n          return getDisplayName(child.type);\n        } else if (child) {\n          return null;\n        }\n      }); // Validate each group, if any of them are valid we're done\n\n      for (var i = 0; i < validTypeGroups.length; i++) {\n        var validTypeNames = validTypeGroups[i].map(function (type) {\n          if (type) {\n            return getDisplayName(type);\n          } else {\n            return '??';\n          }\n        });\n\n        if (validateTypes(childNames, validTypeNames)) {\n          return;\n        }\n      } // If we make it through the loop then children are not valid\n\n\n      return new Error(\"Expected children of \".concat(componentName, \" in one of the following formats:\\n  \").concat(formatGroupTypes(componentName, validTypeGroups), \"\\n\\n\\n  Instead of:\\n  \").concat(formatTypes(componentName, childNames)));\n    }\n\n    validator.isRequired = makeRequirable(validator);\n    return validator;\n  }\n}; // TODO: Remove when we further break up ui-utils and bringing this in no longer creates\n// a circular dep\n\nvar getDisplayName = function getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name;\n};\n\nexport default Children;\nexport {\n/**\n * ---\n * category: utilities/PropTypes\n * ---\n * @module Children\n */\nChildren };","/*\n * Copyright (C) 2020 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport I18n from 'i18n!courses'\nimport React from 'react'\nimport {Spinner} from '@instructure/ui-elements'\nimport {View} from '@instructure/ui-layout'\n\nexport default function LoadingIndicator() {\n  return (\n    <View as=\"div\" height=\"100%\" width=\"100%\" textAlign=\"center\">\n      <Spinner renderTitle={I18n.t('Loading')} size=\"large\" margin=\"0 0 0 medium\" />\n    </View>\n  )\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { findDOMNode } from './findDOMNode';\nimport { canUseDOM } from './canUseDOM';\nimport { contains } from './contains';\nimport { ownerDocument } from './ownerDocument';\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Gets the bounding rectangle of an element\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @return {object} rect - object with top, left coords and height and width\n */\n\nfunction getBoundingClientRect(el) {\n  var rect = {\n    top: 0,\n    left: 0,\n    height: 0,\n    width: 0\n  };\n\n  if (!canUseDOM) {\n    return rect;\n  }\n\n  var node = findDOMNode(el);\n\n  if (!node) {\n    return rect;\n  }\n\n  if (node === window) {\n    return {\n      left: window.pageXOffset,\n      top: window.pageYOffset,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      right: window.innerWidth + window.pageXOffset,\n      bottom: window.innerHeight + window.pageYOffset\n    };\n  }\n\n  var doc = el === document ? document : ownerDocument(node);\n  var docEl = doc && doc.documentElement;\n\n  if (!docEl || !contains(docEl, node)) {\n    return rect;\n  }\n\n  var boundingRect = node.getBoundingClientRect();\n  var k; // eslint-disable-next-line no-restricted-syntax\n\n  for (k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  if (doc !== document) {\n    var frameElement = doc.defaultView.frameElement;\n\n    if (frameElement) {\n      var frameRect = getBoundingClientRect(frameElement);\n      rect.top += frameRect.top;\n      rect.bottom += frameRect.top;\n      rect.left += frameRect.left;\n      rect.right += frameRect.left;\n    }\n  }\n  /* eslint-disable no-mixed-operators */\n\n\n  return {\n    top: rect.top + (window.pageYOffset || docEl.scrollTop) - (docEl.clientTop || 0),\n    left: rect.left + (window.pageXOffset || docEl.scrollLeft) - (docEl.clientLeft || 0),\n    width: (rect.width == null ? node.offsetWidth : rect.width) || 0,\n    height: (rect.height == null ? node.offsetHeight : rect.height) || 0,\n    right: doc.body.clientWidth - rect.width - rect.left,\n    bottom: doc.body.clientHeight - rect.height - rect.top\n  };\n  /* eslint-enable no-mixed-operators */\n}\n\nexport default getBoundingClientRect;\nexport { getBoundingClientRect };","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {Alert} from '@instructure/ui-alerts'\nimport React from 'react'\n\nexport const AlertManagerContext = React.createContext({\n  setOnFailure: {},\n  setOnSuccess: {}\n})\n\nexport default class AlertManager extends React.Component {\n  state = {\n    alertStatus: null,\n    alertMessage: null,\n    key: 0\n  }\n\n  closeAlert = () => {\n    this.setState({\n      alertMessage: null,\n      alertStatus: null\n    })\n  }\n\n  setOnFailure = alertMessage => {\n    this.setState(prevState => ({\n      alertMessage,\n      alertStatus: 'error',\n      key: prevState.key + 1\n    }))\n  }\n\n  setOnSuccess = alertMessage => {\n    this.setState(prevState => ({\n      alertMessage,\n      alertStatus: 'success',\n      key: prevState.key + 1\n    }))\n  }\n\n  renderAlert() {\n    const ALERT_TIMEOUT = 5000\n    if (this.state.alertStatus === 'success') {\n      return (\n        <Alert\n          liveRegion={() => document.getElementById('flash_screenreader_holder')}\n          onDismiss={this.closeAlert}\n          screenReaderOnly\n          timeout={ALERT_TIMEOUT}\n        >\n          {this.state.alertMessage}\n        </Alert>\n      )\n    } else if (this.state.alertStatus === 'error') {\n      return (\n        <Alert\n          liveRegion={() => document.getElementById('flash_screenreader_holder')}\n          margin=\"small\"\n          onDismiss={this.closeAlert}\n          timeout={ALERT_TIMEOUT}\n          variant=\"error\"\n        >\n          {this.state.alertMessage}\n        </Alert>\n      )\n    }\n  }\n\n  render() {\n    const alertRegion = {\n      left: '300px',\n      maxWidth: '1125px',\n      position: 'fixed',\n      right: '120px',\n      top: '80px',\n      zIndex: '101'\n    }\n\n    return (\n      <AlertManagerContext.Provider\n        value={{\n          setOnFailure: this.setOnFailure,\n          setOnSuccess: this.setOnSuccess\n        }}\n      >\n        {this.state.alertStatus && (\n          <div key={this.state.key} style={alertRegion}>\n            {this.renderAlert()}\n          </div>\n        )}\n        {this.props.children}\n      </AlertManagerContext.Provider>\n    )\n  }\n}\n"],"sourceRoot":""}