{"version":3,"sources":["webpack:///./public/javascripts/translations/pseudonyms_mobile_login.js","webpack:///./public/javascripts/dummyI18nResource.js?1bbe","webpack:///./app/jsx/bundles/mobile_login.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","removeClass","element","name","regex","RegExp","className","replace","ready","$front_back_container","document","querySelector","$flip_to_back","addEventListener","event","preventDefault","$forgot_password_form","$button","originalText","textContent","uniqueId","value","trim","disabled","getAttribute","options","xhr","window","XMLHttpRequest","headers","data","contentType","onreadystatechange","readyState","error","status","success","call","context","responseText","complete","open","type","url","Object","keys","forEach","setRequestHeader","send","ajax","encodeURIComponent","alert","ENV","RESET_SENT","RESET_ERROR","setupForgotPassword","e","template","path","signupDialog","I18n","t","setupParentSignup"],"mappings":";;;AAMA,OAAAA,EAAA,GAAsBC,KAAKC,MAAM;;ICEd,YAAKC,OAAO,2B;ACoF/B,SAASC,EAAYC,EAASC,GAC5B,MAAMC,EAAQ,IAAIC,OAAJ,iBAAqBF,EAArB;AACdD,EAAQI,UAAYJ,EAAQI,UAAUC,QAAQH,EAAO,I,MAvEvDI,GAAM,MAiBN,WACE,MAAMC,EAAwBC,SAASC,cAAc,iBAC/CC,EAAgBF,SAASC,cAAc;AAEzCC,GACFA,EAAcC,iBAvBI,QAuB4BC,IA0ClD,IAAkBZ,EAASC;AAzCrBW,EAAMC,iBA0CVd,EADgBC,EAxCHO,EAwCYN,EAxCW,WA0CpCD,EAAQI,WAAR,WAAyBH;AAtCzBO,SAASC,cAAc,kBAAkBE,iBA7BrB,QA6BqDC,IACvEA,EAAMC,iBACNd,EAAYQ,EAAuB;AAGrC,MAAMO,EAAwBN,SAASC,cAAc;AACrDK,EAAsBH,iBAAiB,SAAUC,IAC/C,MAAMG,EAAUD,EAAsBL,cAAc,4BAC9CO,EAAeD,EAAQE,YACvBC,EAAWJ,EACdL,cAAc,qDACdU,MAAMC;AACT,IAAKF,EAAU,OAAO;AACtBH,EAAQM,UAAW,EACnBN,EAAQE,YAAcF,EAAQO,aAAa,2BAC3CV,EAAMC,iBA+BV,SAAcU,GACZ,MAAMC,EAAM,IAAIC,OAAOC;AACvBH,EAAQI,QAAUJ,EAAQI,SAAW,GACrCJ,EAAQI,QAAQ,oBAAsB,iBAClCJ,EAAQK,OAASL,EAAQM,cAC3BN,EAAQM,YAAc;AACpBN,EAAQM,cAAaN,EAAQI,QAAQ,gBAAkBJ,EAAQM;AAEnEL,EAAIM,mBAAqB,KACvB,GAAuB,IAAnBN,EAAIO,WAAkB,CACxB,IAAIC,GAAQ;AACPR,EAAIS,QAAU,KAAOT,EAAIS,OAAS,KAAuB,IAAfT,EAAIS,OAC7CV,EAAQW,SAASX,EAAQW,QAAQC,KAAKZ,EAAQa,QAASZ,EAAIa,aAAc,UAAWb,IAExFQ,GAAQ,EACJT,EAAQS,OAAOT,EAAQS,MAAMG,KAAKZ,EAAQa,QAASZ,EAAK,UAE1DD,EAAQe,UAAUf,EAAQe,SAASH,KAAKZ,EAAQa,QAASZ,EAAKQ,EAAQ,QAAU,aAIxFR,EAAIe,KAAKhB,EAAQiB,KAAMjB,EAAQkB,KAAK,GACpCC,OAAOC,KAAKpB,EAAQI,SAASiB,QAAQ3C,GAAQuB,EAAIqB,iBAAiB5C,EAAMsB,EAAQI,QAAQ1B,KACxFuB,EAAIsB,KAAKvB,EAAQK,MArDfmB,CAAK,CACHP,KAAM,OACNC,IAAK,mBACLb,KAAM,sBAAF,OAAwBoB,mBAC1BlC,EAAsBL,cAAc,kCAAkCU,OADpE,kEAG6C6B,mBAAmB9B,IACpEgB,UACEe,MAAMC,IAAIC,aAEZnB,QACEiB,MAAMC,IAAIE,cAEZd,WACEvB,EAAQE,YAAcD,OAzD5BqC,GAIF,WACE,MAAMrD,EAAUQ,SAASC,cAAc;AACnCT,GACFA,EAAQW,iBATU,QASsB2C,IACtCA,EAAEzC;AACF,MAAM0C,EAAWvD,EAAQsB,aAAa,iBAChCkC,EAAOxD,EAAQsB,aAAa;AAClCmC,YAAaF,EAAUG,EAAKC,EAAE,gBAAiB,iBAAkBH,KAVrEI","file":"mobile_login-c-1604f59d29.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"تسجيل ولي الأمر\\\"}},\\\"cy\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Cofrestru Rhieni\\\"}},\\\"da\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Parent-tilmelding\\\"}},\\\"da-x-k12\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Parent-tilmelding\\\"}},\\\"de\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Elternanmeldung\\\"}},\\\"el\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Εγγραφή Γονέα\\\"}},\\\"en-AU\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Parent Signup\\\"}},\\\"en-CA\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Parent Signup\\\"}},\\\"en-GB\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Parent signup\\\"}},\\\"es\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registro para padres\\\"}},\\\"fa\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"ثبت نام والدین\\\"}},\\\"fi\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Vanhempien rekisteröityminen\\\"}},\\\"fr\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Inscription des parents\\\"}},\\\"fr-CA\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Inscription parentale\\\"}},\\\"he\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"הזדהות הורה\\\"}},\\\"ht\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Enskripsyon Paran\\\"}},\\\"hu\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Szülői regisztráció\\\"}},\\\"hy\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Ծնողի գրանցում\\\"}},\\\"is\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Skráning foreldris\\\"}},\\\"it\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registrazione genitore\\\"}},\\\"ja\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"親のサインアップ\\\"}},\\\"ko\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"부모 등록\\\"}},\\\"mi\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"mātua haina\\\"}},\\\"nb\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Påmelding for foreldre\\\"}},\\\"nb-x-k12\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Påmelding for foreldre\\\"}},\\\"nl\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Ouderlijke aanmelding\\\"}},\\\"nn\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registrering for foreldre\\\"}},\\\"pl\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Rejestracja rodziców\\\"}},\\\"pt\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Inscrição de pais\\\"}},\\\"pt-BR\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registro matriz\\\"}},\\\"ru\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Регистрация на родительском уровне\\\"}},\\\"sl\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Včlanitev starša\\\"}},\\\"sv\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registrering för vårdnadshavare\\\"}},\\\"sv-x-k12\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Registrering för vårdnadshavare\\\"}},\\\"tr\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"Ebeveyn Hesap Oluşturma\\\"}},\\\"zh-Hans\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"父级注册\\\"}},\\\"zh-Hant\\\":{\\\"pseudonyms_mobile_login\\\":{\\\"parent_signup\\\":\\\"家長註冊\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/pseudonyms_mobile_login';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('pseudonyms_mobile_login');\n  ","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!pseudonyms_mobile_login'\nimport signupDialog from 'compiled/registration/signupDialog'\nimport ready from '@instructure/ready'\n\nconst eventToBindTo = 'click'\nready(() => {\n  setupForgotPassword()\n  setupParentSignup()\n})\n\nfunction setupParentSignup() {\n  const element = document.querySelector('#coenrollment_link a')\n  if (element) {\n    element.addEventListener(eventToBindTo, e => {\n      e.preventDefault()\n      const template = element.getAttribute('data-template')\n      const path = element.getAttribute('data-path')\n      signupDialog(template, I18n.t('parent_signup', 'Parent Signup'), path)\n    })\n  }\n}\n\nfunction setupForgotPassword() {\n  const $front_back_container = document.querySelector('#f1_container')\n  const $flip_to_back = document.querySelector('.flip-to-back')\n\n  if ($flip_to_back) {\n    $flip_to_back.addEventListener(eventToBindTo, event => {\n      event.preventDefault()\n      addClass($front_back_container, 'flipped')\n    })\n  }\n\n  document.querySelector('.flip-to-front').addEventListener(eventToBindTo, event => {\n    event.preventDefault()\n    removeClass($front_back_container, 'flipped')\n  })\n\n  const $forgot_password_form = document.querySelector('#forgot_password_form')\n  $forgot_password_form.addEventListener('submit', event => {\n    const $button = $forgot_password_form.querySelector('.request-password-button')\n    const originalText = $button.textContent\n    const uniqueId = $forgot_password_form\n      .querySelector('input[name=\"pseudonym_session[unique_id_forgot]\"]')\n      .value.trim()\n    if (!uniqueId) return false\n    $button.disabled = true\n    $button.textContent = $button.getAttribute('data-text-while-loading')\n    event.preventDefault()\n    ajax({\n      type: 'POST',\n      url: '/forgot_password',\n      data: `authenticity_token=${encodeURIComponent(\n        $forgot_password_form.querySelector('input[name=authenticity_token]').value\n      )}\n            &pseudonym_session%5Bunique_id_forgot%5D=${encodeURIComponent(uniqueId)}`,\n      success() {\n        alert(ENV.RESET_SENT)\n      },\n      error() {\n        alert(ENV.RESET_ERROR)\n      },\n      complete() {\n        $button.textContent = originalText\n      }\n    })\n  })\n}\n\nfunction addClass(element, name) {\n  removeClass(element, name)\n  element.className += ` ${name}`\n}\n\nfunction removeClass(element, name) {\n  const regex = new RegExp(`(^|\\\\s)${name}(\\\\s|$)`)\n  element.className = element.className.replace(regex, '')\n}\n\nfunction ajax(options) {\n  const xhr = new window.XMLHttpRequest()\n  options.headers = options.headers || {}\n  options.headers['X-Requested-With'] = 'XMLHttpRequest'\n  if (options.data && !options.contentType)\n    options.contentType = 'application/x-www-form-urlencoded'\n  if (options.contentType) options.headers['Content-Type'] = options.contentType\n\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState === 4) {\n      let error = false\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\n        if (options.success) options.success.call(options.context, xhr.responseText, 'success', xhr)\n      } else {\n        error = true\n        if (options.error) options.error.call(options.context, xhr, 'error')\n      }\n      if (options.complete) options.complete.call(options.context, xhr, error ? 'error' : 'success')\n    }\n  }\n\n  xhr.open(options.type, options.url, true)\n  Object.keys(options.headers).forEach(name => xhr.setRequestHeader(name, options.headers[name]))\n  xhr.send(options.data)\n  return xhr\n}\n"],"sourceRoot":""}