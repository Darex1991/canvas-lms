{"version":3,"sources":["webpack:///./app/jsx/shared/hooks/useImmediate.js","webpack:///./node_modules/shallow-equal/dist/index.esm.js","webpack:///./app/jsx/shared/effects/useFetchApi.js","webpack:///./public/javascripts/translations/direct_share_course_panel.js","webpack:///./public/javascripts/dummyI18nResource.js?8f4b","webpack:///./app/jsx/shared/proptypes/contentSelection.js","webpack:///./app/jsx/shared/direct_share/DirectShareCoursePanel.js"],"names":["useImmediate","fn","newDeps","opts","priorDeps","useRef","cleanupFn","useEffect","current","deep","arrA","arrB","len","length","i","shallowEqualArrays","isEqual","depsHaveChanged","useFetchApi","success","error","loading","meta","path","convert","forceResult","params","headers","fetchAllPages","fetchOpts","aborter","AbortController","active","activeSuccess","p","activeError","activeLoading","activeMeta","abort","signal","abortable","async","nextPage","accummulatedResults","paramsWithPage","page","doFetchApi","json","response","link","result","concat","next","err","fetchLoop","mergeI18nTranslations","JSON","parse","scoped","exact","reduce","selections","type","arrayOf","oneOfType","string","number","contentSelectionShape","DirectShareCoursePanel","sourceCourseId","contentSelection","onCancel","useState","selectedCourse","setSelectedCourse","startCopyOperationPromise","setStartCopyOperationPromise","selectedModule","setSelectedModule","selectedPosition","setSelectedPosition","DirectShareOperationStatus","promise","startingMsg","I18n","t","successMsg","errorMsg","CourseAndModulePicker","selectedCourseId","id","course","selectedModuleId","setModuleItemPosition","ConfirmActionButtonBar","padding","primaryLabel","primaryDisabled","secondaryLabel","onPrimaryClick","method","body","migration_type","select","settings","source_course_id","insert_into_module_id","insert_into_module_type","Object","keys","insert_into_module_position","onSecondaryClick"],"mappings":";;;AAsCe,SAASA,EAAaC,EAAIC,EAASC,EAAO,IACvD,MAAMC,EAAYC,iBAAO,MACnBC,EAAYD,iBAAO;AAGzBE,oBACE,IAAM,KACAD,EAAUE,SAASF,EAAUE,WAEnC,MAImBN,GApBvB,SAAyBE,EAAWF,EAASC,GAC3C,OACIA,EAAKM,OCLX,SAA4BC,EAAMC,GAChC,GAAID,IAASC,EACX,OAAO;AAGT,IAAKD,IAASC,EACZ,OAAO;AAGT,IAAIC,EAAMF,EAAKG;AAEf,GAAIF,EAAKE,SAAWD,EAClB,OAAO;AAGT,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAAKE,IACvB,GAAIJ,EAAKI,KAAOH,EAAKG,GACnB,OAAO;AAIX,OAAO,EDhBWC,CAAmBX,EAAWF,IAC7CC,EAAKM,OAASO,kBAAQZ,EAAWF,GAiBJe,CAAgBb,EAAUI,QAASN,EAASC,MAEtEG,EAAUE,SAASF,EAAUE,UACjCF,EAAUE,QAAUP,IACpBG,EAAUI,QAAUN,G;AEIT,SAASgB,GAAY,QAElCC,EAFkC,MAGlCC,EAHkC,QAIlCC,EAJkC,KAKlCC,EALkC,KAQlCC,EARkC,QASlCC,EATkC,YAUlCC,EAVkC,OAWlCC,EAAS,GAXyB,QAYlCC,EAAU,GAZwB,cAoBlCC,GAAgB,EApBkB,UAsBlCC,EAAY,KAGZ7B,EACE,KACE,QAA2B,IAAhByB,EAET,YADAN,EAAQM;AAFN,QA/DV,UAAmB,QAACN,EAAD,MAAUC,EAAV,QAAiBC,EAAjB,KAA0BC,IAC3C,MAAMQ,EAAU,IAAIC;AACpB,IAAIC,GAAS;AACb,MAAO,CACLC,cAAe,IAAIC,KACbF,GAAUb,GAASA,KAAWe,IAEpCC,YAAa,IAAID,KACXF,GAAUZ,GAAOA,KAASc,IAEhCE,cAAe,IAAIF,KACbF,GAAUX,GAASA,KAAWa,IAEpCG,WAAY,IAAIH,KACVF,GAAUV,GAAMA,KAAQY,IAE9BI,MAAO,KACLN,GAAS,EACTF,EAAQQ,SAEVC,OAAQT,EAAQS,QAkDiEC,CAAU,CACvFrB,UACAC,QACAC,UACAC,SAJKW,EAPH,EAOGA,cAAeE,EAPlB,EAOkBA,YAAaC,EAP/B,EAO+BA,cAAeC,EAP9C,EAO8CA,WAAYC,EAP1D,EAO0DA,MAAOC,EAPjE,EAOiEA;AA2CrE,OApCAE,iBACE,IACEL,GAAc;AACd,IAAIM,GAAW,EACXC,EAAsB;AAC1B,EAAG,CACD,MAAMC,EAAiB,eAAIlB;AACvBgB,IAAUE,EAAeC,KAAOH;AAFnC,cAOoCI,YAAW,CAC9CvB,OACAI,UACAD,OAAQkB,EACRf,UAAW,aAACU,UAAWV,KAJlBkB,EAPN,EAOMA,KAAMC,EAPZ,EAOYA,SAAUC,EAPtB,EAOsBA,KAMjBC,EAAS1B,GAAWuB,EAAOvB,EAAQuB,GAAQA;AAI9B;AAAnB,GAHAJ,EAAsBA,EAAoBQ,OAAOD,GAEjDb,EAAW,CAACW,WAAUC,SAClBrB,EACFK,EAAcU,GACdD,EAAWO,SAAH,UAAGA,EAAMG,YAAT,aAAG,EAAYP;KAEvBZ,EAAciB,SAETR,GACT,MAAOW,GACPlB,EAAYkB,GA7Bd,QA+BEjB,GAAc,IAGlBkB,GACOhB,GAET,CACEnB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEF,CAACpB,MAAM,M;;;AChJX,OAAA8C,EAAA,GAAsBC,KAAKC,MAAM;;ICEd,YAAKC,OAAO,6B;AC4BDC,gBAhBE,CAC9B,UACA,QACA,cACA,UACA,cACA,gBACA,kBACA,oBACA,UACA,eACA,QACA,WAKwBC,OAAO,CAACC,EAAYC,KAC1CD,EAAWC,GAAQC,kBAAQC,oBAAU,CAACC,SAAQC,YACvCL,GACN;AAGUM,I;ACLA,SAASC,GAAuB,eAACC,EAAD,iBAAiBC,EAAjB,SAAmCC,IAAW,QAC/CC,mBAAS,MADsC,mBACpFC,EADoF,KACpEC,EADoE,OAEzBF,mBAAS,MAFgB,mBAEpFG,EAFoF,KAEzDC,EAFyD,OAG/CJ,mBAAS,MAHsC,mBAGpFK,EAHoF,KAGpEC,EAHoE,OAI3CN,mBAAS,MAJkC,mBAIpFO,EAJoF,KAIlEC,EAJkE;AA8B3F,OACE,oCACE,YAACC,EAAA,EAAD,CACEC,QAASP,EACTQ,YAAaC,EAAKC,EAAE,2BACpBC,WAAYF,EAAKC,EAAE,uCACnBE,SAAUH,EAAKC,EAAE,qDAEnB,YAACG,EAAA,EAAD,CACEC,iBAAkBhB,aAAF,EAAEA,EAAgBiB,GAClChB,kBAfN,SAA8BiB,GAC5Bb,EAAkB,MAClBJ,EAAkBiB,IAcdC,kBAAkBf,aAAA,EAAAA,EAAgBa,KAAM,KACxCZ,kBAAmBA,EACnBe,sBAAuBb,IAEzB,YAACc,EAAA,EAAD,CACEC,QAAQ,cACRC,aAAcrB,EAA4B,KAAOS,EAAKC,EAAE,QACxDY,gBAAoC,OAAnBxB,EACjByB,eAAgBvB,EAA4BS,EAAKC,EAAE,SAAWD,EAAKC,EAAE,UACrEc,eA5CN,WACEvB,EACE9B,YAAW,CACTsD,OAAQ,OACR7E,KAAM,mBAAF,OAAqBkD,EAAeiB,GAApC,uBACJW,KAAM,CACJC,eAAgB,uBAChBC,OAAQjC,EACRkC,SAAU,CACRC,iBAAkBpC,EAClBqC,uBAAuB7B,aAAA,EAAAA,EAAgBa,KAAM,KAC7CiB,wBAAyBrC,EAAmBsC,OAAOC,KAAKvC,GAAkB,GAAK,KAC/EwC,4BAA6B/B,QAiCjCgC,iBAAkBxC","file":"567-c-be50e0d03b.js","sourcesContent":["/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n// This hook is much like useEffect, except it doesn't wait for the DOM to\n// render and runs the function immediately. It also takes an additional options\n// parameter where you can specify {deep: true} to make it run a deep comparison\n// on the dependencies instead of the default shallow comparison.\n//\n// This is useful for starting asynchronous operations that don't depend on the\n// new DOM, such as api fetches. Because it runs immediately, it may also reduce\n// flicker in the browser by avoiding multiple DOM updates.\n\nimport {useEffect, useRef} from 'react'\nimport {isEqual} from 'lodash'\nimport {shallowEqualArrays} from 'shallow-equal'\n\nfunction depsHaveChanged(priorDeps, newDeps, opts) {\n  return (\n    (!opts.deep && !shallowEqualArrays(priorDeps, newDeps)) ||\n    (opts.deep && !isEqual(priorDeps, newDeps))\n  )\n}\n\nexport default function useImmediate(fn, newDeps, opts = {}) {\n  const priorDeps = useRef(null)\n  const cleanupFn = useRef(null)\n\n  // schedule the final cleanup for when the component unmounts\n  useEffect(\n    () => () => {\n      if (cleanupFn.current) cleanupFn.current()\n    },\n    []\n  )\n\n  // Like useEffect, we want to run the fn and its cleanup every time if deps are not specified\n  const depsChanged = !newDeps || depsHaveChanged(priorDeps.current, newDeps, opts)\n  if (depsChanged) {\n    if (cleanupFn.current) cleanupFn.current()\n    cleanupFn.current = fn()\n    priorDeps.current = newDeps\n  }\n}\n","function shallowEqualObjects(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (!objA || !objB) {\n    return false;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n  var len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    var key = aKeys[i];\n\n    if (objA[key] !== objB[key] || !Object.prototype.hasOwnProperty.call(objB, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shallowEqualArrays(arrA, arrB) {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  var len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { shallowEqualArrays, shallowEqualObjects };\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport useImmediate from '../hooks/useImmediate'\nimport doFetchApi from './doFetchApi'\n\n// utility for making it easy to abort the fetch\nfunction abortable({success, error, loading, meta}) {\n  const aborter = new AbortController()\n  let active = true\n  return {\n    activeSuccess: (...p) => {\n      if (active && success) success(...p)\n    },\n    activeError: (...p) => {\n      if (active && error) error(...p)\n    },\n    activeLoading: (...p) => {\n      if (active && loading) loading(...p)\n    },\n    activeMeta: (...p) => {\n      if (active && meta) meta(...p)\n    },\n    abort: () => {\n      active = false\n      aborter.abort()\n    },\n    signal: aborter.signal\n  }\n}\n\n// NOTE: if identity of any of the output functions changes, the prior fetch will be aborted and a\n// new fetch will start, just as if you had changed an input parameter. This will result in a react\n// error: \"too many rerenders\". An common example of this problem is this:\n//\n// useFetchApi({path: '/api/v1/foo', success: json => setSomeState(mungeApi(json))})\n//\n// The success function is recreated every time this is called, so it has a new identity. Instead of\n// doing this, you could use the convert parameter:\n//\n// useFetchApi({path: '/api/v1/foo', success: setSomeState, convert: mungeApi})\n//\n// If that doesn't suit your use case, another approach would be the useCallback hook to preserve\n// the identity of your callbacks.\nexport default function useFetchApi({\n  // data output callbacks\n  success, // (parsed json object of the response body) => {}\n  error, // (Error object from doFetchApi) => {}\n  loading, // (boolean that specifies whether a fetch is in progress) => {}\n  meta, // other information about the fetch: ({link, response}) => {}. called only when success is called.\n\n  // inputs\n  path, // the url to fetch; often a relative path\n  convert, // allows you to convert the json response data into another format before calling success\n  forceResult, // specify this to bypass the fetch and report this to success instead. meta is not called.\n  params = {}, // url parameters\n  headers = {}, // additional request headers\n\n  // Setting fetchAllPages makes useFetchApi continually fetch pages while the Link header indicates\n  // there is a next page. The success callback will be invoked for each page with a flattened array\n  // of the results accumulated thus far. The meta callback will also be called once for each page.\n  // If an error occurs on any page, the error callback will be called and pagination will stop. The\n  // loading callback will only be called with false when pagination ends. If any of the parameters\n  // change, the pagination starts over.\n  fetchAllPages = false,\n\n  fetchOpts = {} // other options to pass to fetch\n}) {\n  // useImmediate for deep comparisons and may help avoid browser flickering\n  useImmediate(\n    () => {\n      if (typeof forceResult !== 'undefined') {\n        success(forceResult)\n        return\n      }\n\n      // prevent sending results and errors from stale queries\n      const {activeSuccess, activeError, activeLoading, activeMeta, abort, signal} = abortable({\n        success,\n        error,\n        loading,\n        meta\n      })\n\n      async function fetchLoop() {\n        try {\n          activeLoading(true)\n          let nextPage = false\n          let accummulatedResults = []\n          do {\n            const paramsWithPage = {...params}\n            if (nextPage) paramsWithPage.page = nextPage\n            // we don't want to flood the server with parallel requests, and we need to wait for the\n            // \"next\" link header before we know what the next page url is, so we actually want to\n            // await in the loop.\n            // eslint-disable-next-line no-await-in-loop\n            const {json, response, link} = await doFetchApi({\n              path,\n              headers,\n              params: paramsWithPage,\n              fetchOpts: {signal, ...fetchOpts}\n            })\n            const result = convert && json ? convert(json) : json\n            accummulatedResults = accummulatedResults.concat(result)\n\n            activeMeta({response, link})\n            if (fetchAllPages) {\n              activeSuccess(accummulatedResults)\n              nextPage = link?.next?.page\n            } else {\n              activeSuccess(result)\n            }\n          } while (nextPage)\n        } catch (err) {\n          activeError(err)\n        } finally {\n          activeLoading(false)\n        }\n      }\n      fetchLoop()\n      return abort\n    },\n    [\n      success,\n      error,\n      loading,\n      meta,\n      path,\n      convert,\n      forceResult,\n      params,\n      headers,\n      fetchAllPages,\n      fetchOpts\n    ],\n    {deep: true}\n  )\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"cancel_caeb1e68\\\":\\\"إلغاء\\\",\\\"close_d634289d\\\":\\\"إغلاق\\\",\\\"copy_9748f9f\\\":\\\"نسخ\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"بدأت عملية النسخ بنجاح\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"جارٍ بدء عملية النسخ\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"حدثت مشكلة في بدء عملية النسخ\\\"},\\\"cy\\\":{\\\"cancel_caeb1e68\\\":\\\"Canslo\\\",\\\"close_d634289d\\\":\\\"Cau\\\",\\\"copy_9748f9f\\\":\\\"Copïo\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Y gwaith copïo wedi dechrau'n llwyddiannus\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Dechrau'r gwaith copïo\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Problem wrth ddechrau'r gwaith copïo\\\"},\\\"da\\\":{\\\"cancel_caeb1e68\\\":\\\"Annuller\\\",\\\"close_d634289d\\\":\\\"Luk\\\",\\\"copy_9748f9f\\\":\\\"Kopi\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopiering blev påbegyndt\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Start kopiering\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Der opstod et problem med at påbegynde kopieringen\\\"},\\\"da-x-k12\\\":{\\\"cancel_caeb1e68\\\":\\\"Annuller\\\",\\\"close_d634289d\\\":\\\"Luk\\\",\\\"copy_9748f9f\\\":\\\"Kopi\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopiering blev påbegyndt\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Start kopiering\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Der opstod et problem med at påbegynde kopieringen\\\"},\\\"de\\\":{\\\"cancel_caeb1e68\\\":\\\"Abbrechen\\\",\\\"close_d634289d\\\":\\\"Schließen\\\",\\\"copy_9748f9f\\\":\\\"Kopieren\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopiervorgang erfolgreich gestartet\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Kopiervorgang starten\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Es gab ein Problem beim Starten des Kopiervorgangs.\\\"},\\\"el\\\":{\\\"cancel_caeb1e68\\\":\\\"Ακύρωση\\\",\\\"close_d634289d\\\":\\\"Κλείσιμο\\\",\\\"copy_9748f9f\\\":\\\"Αντιγραφή\\\"},\\\"en-AU\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancel\\\",\\\"close_d634289d\\\":\\\"Close\\\",\\\"copy_9748f9f\\\":\\\"Copy\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Copy operation started successfully\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Starting copy operation\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"There was a problem starting the copy operation\\\"},\\\"en-CA\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancel\\\",\\\"close_d634289d\\\":\\\"Close\\\",\\\"copy_9748f9f\\\":\\\"Copy\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Copy operation started successfully\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Starting copy operation\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"There was a problem starting the copy operation\\\"},\\\"en-GB\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancel\\\",\\\"close_d634289d\\\":\\\"Close\\\",\\\"copy_9748f9f\\\":\\\"Copy\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Copy operation started successfully\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Starting copy operation\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"There was a problem starting the copy operation\\\"},\\\"es\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancelar\\\",\\\"close_d634289d\\\":\\\"Cerrar\\\",\\\"copy_9748f9f\\\":\\\"Copiar\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"La operación de copia comenzó correctamente\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Comenzando operación de copia\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Ocurrió un problema al comenzar la operación de copia\\\"},\\\"fa\\\":{\\\"cancel_caeb1e68\\\":\\\"لغو\\\",\\\"close_d634289d\\\":\\\"بستن\\\",\\\"copy_9748f9f\\\":\\\"کپی کردن\\\"},\\\"fi\\\":{\\\"cancel_caeb1e68\\\":\\\"Peruuta\\\",\\\"close_d634289d\\\":\\\"Sulje\\\",\\\"copy_9748f9f\\\":\\\"Kopioi\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopiointitoiminto aloitettiin onnistuneesti\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Kopiointitoiminto aloitetaan\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Kopiointitoiminnon aloittamisessa ilmeni ongelma\\\"},\\\"fr\\\":{\\\"cancel_caeb1e68\\\":\\\"Annuler\\\",\\\"close_d634289d\\\":\\\"Fermer\\\",\\\"copy_9748f9f\\\":\\\"Copier\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"L'opération de copie a été lancée avec succès\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Lancement de l'opération de copie\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Un problème est survenu lors du démarrage de l'opération de copie\\\"},\\\"fr-CA\\\":{\\\"cancel_caeb1e68\\\":\\\"Annuler\\\",\\\"close_d634289d\\\":\\\"Fermer\\\",\\\"copy_9748f9f\\\":\\\"Copier\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"L’opération de copie a démarré avec succès\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Démarrage de l'opération de copie\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Une erreur est survenue lors du démarrage de l'opération de copie\\\"},\\\"he\\\":{\\\"cancel_caeb1e68\\\":\\\"ביטול\\\",\\\"close_d634289d\\\":\\\"סגירה\\\",\\\"copy_9748f9f\\\":\\\"העתקה\\\"},\\\"ht\\\":{\\\"cancel_caeb1e68\\\":\\\"Anile\\\",\\\"close_d634289d\\\":\\\"Fèmen\\\",\\\"copy_9748f9f\\\":\\\"Kopye\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Operasyon kopi a kòmanse ak siksè\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Kòmansman kopi operasyon\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Te gen yon pwoblèm nan kòmansman operasyon kopi a\\\"},\\\"hu\\\":{\\\"cancel_caeb1e68\\\":\\\"Mégse\\\",\\\"close_d634289d\\\":\\\"Bezárás\\\",\\\"copy_9748f9f\\\":\\\"Másolás\\\"},\\\"hy\\\":{\\\"cancel_caeb1e68\\\":\\\"Չեղյալ համարել\\\",\\\"close_d634289d\\\":\\\"Փակել\\\",\\\"copy_9748f9f\\\":\\\"Պատճենել\\\"},\\\"is\\\":{\\\"cancel_caeb1e68\\\":\\\"Hætta við\\\",\\\"close_d634289d\\\":\\\"Loka\\\",\\\"copy_9748f9f\\\":\\\"Afrita\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Afritunaraðgerðin byrjaði giftusamlega\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Byrja afritunaraðgerð\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Það var vandamál við hefja afritunaraðgerðina\\\"},\\\"it\\\":{\\\"cancel_caeb1e68\\\":\\\"Annulla\\\",\\\"close_d634289d\\\":\\\"Chiudi\\\",\\\"copy_9748f9f\\\":\\\"Copia\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"L'operazione di copiatura è stata avviata con successo\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Avvio dell'operazione di copiatura\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Si è verificato un problema nell’avvio dell’operazione di copiatura\\\"},\\\"ja\\\":{\\\"cancel_caeb1e68\\\":\\\"キャンセル\\\",\\\"close_d634289d\\\":\\\"閉じる\\\",\\\"copy_9748f9f\\\":\\\"コピー\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"コピー操作が正常に開始しました\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"コピー操作を開始中\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"コピー操作を開始する際に、問題が発生しました\\\"},\\\"ko\\\":{\\\"cancel_caeb1e68\\\":\\\"취소\\\",\\\"close_d634289d\\\":\\\"닫기\\\"},\\\"mi\\\":{\\\"cancel_caeb1e68\\\":\\\"Whakakore\\\",\\\"close_d634289d\\\":\\\"Katia\\\",\\\"copy_9748f9f\\\":\\\"Tārua\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Te mahi tārua i tīmata pai\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"E timata tārua mahi ana\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"He hapa i te wā e timata ana te tārua\\\"},\\\"nb\\\":{\\\"cancel_caeb1e68\\\":\\\"Avbryt\\\",\\\"close_d634289d\\\":\\\"Lukk\\\",\\\"copy_9748f9f\\\":\\\"Kopier\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopieringsprosessen startet vellykket\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Starter kopieringsprosess\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Der oppsto et problem med å starte kopieringsprosessen\\\"},\\\"nb-x-k12\\\":{\\\"cancel_caeb1e68\\\":\\\"Avbryt\\\",\\\"close_d634289d\\\":\\\"Lukk\\\",\\\"copy_9748f9f\\\":\\\"Kopier\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopieringsprosessen startet vellykket\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Starter kopieringsprosess\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Der oppsto et problem med å starte kopieringsprosessen\\\"},\\\"nl\\\":{\\\"cancel_caeb1e68\\\":\\\"Annuleren\\\",\\\"close_d634289d\\\":\\\"Sluiten\\\",\\\"copy_9748f9f\\\":\\\"Kopiëren\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Het kopiëren is gestart\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Kopiëren starten\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Het kopiëren kan niet worden gestart\\\"},\\\"nn\\\":{\\\"cancel_caeb1e68\\\":\\\"Avbryt\\\",\\\"close_d634289d\\\":\\\"Lukk\\\",\\\"copy_9748f9f\\\":\\\"Kopi\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopieringsjobb er starta\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Startar kopieringsjobb\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Det oppstod eit problem under oppstart av kopieringsjobben\\\"},\\\"pl\\\":{\\\"cancel_caeb1e68\\\":\\\"Anuluj\\\",\\\"close_d634289d\\\":\\\"Zamknij\\\",\\\"copy_9748f9f\\\":\\\"Kopiuj\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Pomyślnie rozpoczęto operację kopiowania\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Rozpoczynanie operacji kopiowania\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Wystąpił problem z rozpoczęciem operacji kopiowania\\\"},\\\"pt\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancelar\\\",\\\"close_d634289d\\\":\\\"Fechar\\\",\\\"copy_9748f9f\\\":\\\"Copiar\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Operação de cópia iniciada com sucesso\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"A iniciar operação de cópia\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Ocorreu um problema ao iniciar a operação de cópia\\\"},\\\"pt-BR\\\":{\\\"cancel_caeb1e68\\\":\\\"Cancelar\\\",\\\"close_d634289d\\\":\\\"Fechar\\\",\\\"copy_9748f9f\\\":\\\"Copiar\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Operação de cópia iniciada com sucesso\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Iniciando operação de cópia\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Houve um problema ao começar a operação de cópia\\\"},\\\"ru\\\":{\\\"cancel_caeb1e68\\\":\\\"Отменить\\\",\\\"close_d634289d\\\":\\\"Закрыть\\\",\\\"copy_9748f9f\\\":\\\"Копировать\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Процедура копирования успешно запущена\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Запуск процедуры копирования\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Возникла проблема при запуске процедуры копирования\\\"},\\\"sl\\\":{\\\"cancel_caeb1e68\\\":\\\"Prekliči\\\",\\\"close_d634289d\\\":\\\"Zapri\\\",\\\"copy_9748f9f\\\":\\\"Kopiraj\\\"},\\\"sv\\\":{\\\"cancel_caeb1e68\\\":\\\"Avbryt\\\",\\\"close_d634289d\\\":\\\"Stäng\\\",\\\"copy_9748f9f\\\":\\\"Kopiera\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopieringen startades\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Startar kopiering\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Ett problem uppstod vid start av kopiering\\\"},\\\"sv-x-k12\\\":{\\\"cancel_caeb1e68\\\":\\\"Avbryt\\\",\\\"close_d634289d\\\":\\\"Stäng\\\",\\\"copy_9748f9f\\\":\\\"Kopiera\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopieringen startades\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"Startar kopiering\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"Ett problem uppstod vid start av kopiering\\\"},\\\"tr\\\":{\\\"cancel_caeb1e68\\\":\\\"İptal\\\",\\\"close_d634289d\\\":\\\"Kapat\\\",\\\"copy_9748f9f\\\":\\\"Kopyala\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"Kopyalama işlemi abşarılı bir şekilde başladı\\\"},\\\"uk\\\":{\\\"cancel_caeb1e68\\\":\\\"Скасувати\\\",\\\"close_d634289d\\\":\\\"Закрити\\\",\\\"copy_9748f9f\\\":\\\"Копіювати\\\"},\\\"zh-Hans\\\":{\\\"cancel_caeb1e68\\\":\\\"取消\\\",\\\"close_d634289d\\\":\\\"关闭\\\",\\\"copy_9748f9f\\\":\\\"复制\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"复制操作成功启动\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"启动复制操作\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"启动复制操作发生问题\\\"},\\\"zh-Hant\\\":{\\\"cancel_caeb1e68\\\":\\\"取消\\\",\\\"close_d634289d\\\":\\\"關閉\\\",\\\"copy_9748f9f\\\":\\\"複製\\\",\\\"copy_operation_started_successfully_b2f236a1\\\":\\\"拷貝操作已成功開始\\\",\\\"starting_copy_operation_cc46d911\\\":\\\"正在考試拷貝操作\\\",\\\"there_was_a_problem_starting_the_copy_operation_dd599cdd\\\":\\\"開始拷貝操作時出現問題\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/direct_share_course_panel';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('direct_share_course_panel');\n  ","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {arrayOf, exact, number, oneOfType, string} from 'prop-types'\n\nconst CONTENT_SELECTION_TYPES = [\n  'folders',\n  'files',\n  'attachments',\n  'quizzes',\n  'assignments',\n  'announcements',\n  'calendar_events',\n  'discussion_topics',\n  'modules',\n  'module_items',\n  'pages',\n  'rubrics'\n]\n\n// build the shape {folders: arrayOf(...), files: arrayOf(...), ...}\nconst contentSelectionShape = exact(\n  CONTENT_SELECTION_TYPES.reduce((selections, type) => {\n    selections[type] = arrayOf(oneOfType([string, number]))\n    return selections\n  }, {})\n)\n\nexport default contentSelectionShape\n","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport I18n from 'i18n!direct_share_course_panel'\n\nimport React, {useState} from 'react'\nimport {func, string} from 'prop-types'\n\nimport doFetchApi from 'jsx/shared/effects/doFetchApi'\nimport contentSelectionShape from 'jsx/shared/proptypes/contentSelection'\nimport ConfirmActionButtonBar from '../components/ConfirmActionButtonBar'\nimport CourseAndModulePicker from './CourseAndModulePicker'\nimport DirectShareOperationStatus from './DirectShareOperationStatus'\n\n// eventually this will have options for where to place the item in the new course.\n// for now, it just has the selector plus some buttons\n\nDirectShareCoursePanel.propTypes = {\n  sourceCourseId: string,\n  contentSelection: contentSelectionShape,\n  onCancel: func\n}\n\nexport default function DirectShareCoursePanel({sourceCourseId, contentSelection, onCancel}) {\n  const [selectedCourse, setSelectedCourse] = useState(null)\n  const [startCopyOperationPromise, setStartCopyOperationPromise] = useState(null)\n  const [selectedModule, setSelectedModule] = useState(null)\n  const [selectedPosition, setSelectedPosition] = useState(null)\n\n  function startCopyOperation() {\n    setStartCopyOperationPromise(\n      doFetchApi({\n        method: 'POST',\n        path: `/api/v1/courses/${selectedCourse.id}/content_migrations`,\n        body: {\n          migration_type: 'course_copy_importer',\n          select: contentSelection,\n          settings: {\n            source_course_id: sourceCourseId,\n            insert_into_module_id: selectedModule?.id || null,\n            insert_into_module_type: contentSelection ? Object.keys(contentSelection)[0] : null,\n            insert_into_module_position: selectedPosition\n          }\n        }\n      })\n    )\n  }\n\n  function handleSelectedCourse(course) {\n    setSelectedModule(null)\n    setSelectedCourse(course)\n  }\n\n  return (\n    <>\n      <DirectShareOperationStatus\n        promise={startCopyOperationPromise}\n        startingMsg={I18n.t('Starting copy operation')}\n        successMsg={I18n.t('Copy operation started successfully')}\n        errorMsg={I18n.t('There was a problem starting the copy operation')}\n      />\n      <CourseAndModulePicker\n        selectedCourseId={selectedCourse?.id}\n        setSelectedCourse={handleSelectedCourse}\n        selectedModuleId={selectedModule?.id || null}\n        setSelectedModule={setSelectedModule}\n        setModuleItemPosition={setSelectedPosition}\n      />\n      <ConfirmActionButtonBar\n        padding=\"small 0 0 0\"\n        primaryLabel={startCopyOperationPromise ? null : I18n.t('Copy')}\n        primaryDisabled={selectedCourse === null}\n        secondaryLabel={startCopyOperationPromise ? I18n.t('Close') : I18n.t('Cancel')}\n        onPrimaryClick={startCopyOperation}\n        onSecondaryClick={onCancel}\n      />\n    </>\n  )\n}\n"],"sourceRoot":""}