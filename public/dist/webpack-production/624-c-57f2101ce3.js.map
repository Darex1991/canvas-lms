{"version":3,"sources":["webpack:///./public/javascripts/translations/common_bundle.js","webpack:///./public/javascripts/dummyI18nResource.js?bd41","webpack:///./app/jsx/account_settings/alert_enforcement.js"],"names":["mergeI18nTranslations","JSON","parse","scoped","setupCSP","rootElement","csp","ENV","cspViolationFunction","showFlashAlert","message","I18n","t","type","setupCSPForIframes","_","debounce","Array","from","querySelectorAll","forEach","frame","getAttribute","setAttribute","addEventListener","MutationObserver","observe","childList","subtree"],"mappings":";;;AAMA,OAAAA,EAAA,GAAsBC,KAAKC,MAAM;;ICEd,YAAKC,OAAO,iB;ACgBhB,SAASC,EAASC,GAC/B,MAAMC,EAAMC,IAAID;AAChB,GAAIA,EAAK,CACP,MAAME,EAAuB,KAC3BC,YAAe,CACbC,QAASC,EAAKC,EACZ,yFAEFC,KAAM,WAIJC,EAAqBC,IAAEC,SAC3B,IACEC,MAAMC,KAAKb,EAAYc,iBAAiB,kCAAkCC,QAAQC,IAC3EA,EAAMC,aAAa,QACtBD,EAAME,aAAa,MAAOjB,KAGhC;AAIFQ,IAGAT,EAAYmB,iBAAiB,0BAA2BhB,GAK5B,IAAIiB,iBAAiBX,GAE7BY,QAAQrB,EAAa,CACvCsB,WAAW,EACXC,SAAS","file":"624-c-57f2101ce3.js","sourcesContent":["// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"المحتوى الموجود على هذه الصفحة يخالف سياسة الأمان، اتصل بمسؤولك للحصول على المساعدة.\\\"},\\\"cy\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Mae cynnwys ar y dudalen hon yn mynd yn groes i'r polisi diogelwch, cysylltwch â'ch gweinyddwr i gael help.\\\"},\\\"da\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Indhold på denne side overtræder sikkerhedspolitikken, kontakt din administrator for at få hjælp.\\\"},\\\"da-x-k12\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Indhold på denne side overtræder sikkerhedspolitikken, kontakt din administrator for at få hjælp.\\\"},\\\"de\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Der Content auf dieser Seite verstößt gegen die Sicherheitsrichtlinie. Wenden Sie sich an den Administrator.\\\"},\\\"en-AU\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Content on this page violates the security policy, contact your admin for assistance.\\\"},\\\"en-CA\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Content on this page violates the security policy, contact your admin for assistance.\\\"},\\\"en-GB\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Content on this page violates the security policy, contact your admin for assistance.\\\"},\\\"es\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"El contenido de esta página infringe la política de seguridad, comuníquese con su administrador para obtener asistencia.\\\"},\\\"fi\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Sisältö tällä sivulla rikkoo tietoturvaa koskevaa käytäntöä, pyydä apua järjestelmäkäyttäjältäsi.\\\"},\\\"fr\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Le contenu de cette page viole la politique de sécurité, contactez votre administrateur pour obtenir de l'aide.\\\"},\\\"fr-CA\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Le contenu de cette page enfreint la politique de sécurité. Veuillez contacter votre administrateur pour toute assistance.\\\"},\\\"ht\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Kontni paj sa a vyole politik sekirite a, pran kontak ak administratè w la pou l ka ede w.\\\"},\\\"hu\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Az oldal tartalma sérti a biztonsági szabályzatot, kérjen támogatást az adminisztrátortól.\\\"},\\\"is\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Efni á þessari síðu stríðir gegn öryggisstefnunni, hafðu samband við kerfisstjóra fyrir aðstoð.\\\"},\\\"it\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Il contenuto di questa pagina viola la politica sulla sicurezza: contatta il tuo amministratore per richiedere assistenza.\\\"},\\\"ja\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"このページの内容はセキュリティポリシーに違反しています。管理者に連絡してください。\\\"},\\\"mi\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Ihirangi i runga i tēnei whārangi e takahi ana i te kaupapa haumaru, whakapā ki tō kaiwhakahaere hei awhi\\\"},\\\"nb\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Innholdet av denne siden strider mot sikkerhetspolitikken, kontakt din admin for hjelp.\\\"},\\\"nb-x-k12\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Innholdet av denne siden strider mot sikkerhetspolitikken, kontakt din admin for hjelp.\\\"},\\\"nl\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Inhoud op deze pagina schendt het beveiligingsbeleid. Neem voor hulp contact op met de beheerder.\\\"},\\\"nn\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Innhald på denne sida strir mot tryggleiksvilkåra, kontakt admin for å få hjelp.\\\"},\\\"pl\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Zawartość na tej stronie narusza zasady bezpieczeństwa; skontaktuj się z administratorem, aby uzyskać pomoc.\\\"},\\\"pt\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"O conteúdo desta página viola a política de segurança. Entre em contato com seu administrador para obter ajuda.\\\"},\\\"pt-BR\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Conteúdo nesta página viola a política de segurança, contate o seu administrador para assistência.\\\"},\\\"ru\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Содержимое этой странице нарушает политику безопасности, обратитесь за помощью к администратору.\\\"},\\\"sv\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Innehåll på den här sidan överträder säkerhetspolicyn. Kontakta din admin för hjälp.\\\"},\\\"sv-x-k12\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"Innehåll på den här sidan överträder säkerhetspolicyn. Kontakta din admin för hjälp.\\\"},\\\"zh-Hans\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"此页面的内容违反了安全策略，请联系管理员寻求帮助。\\\"},\\\"zh-Hant\\\":{\\\"content_on_this_page_violates_the_security_policy__25685d8a\\\":\\\"此頁面的內容違反安全政策，請聯絡您的管理員尋求協助。\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/common_bundle';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('common_bundle');\n  ","/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport {showFlashAlert} from '../shared/FlashAlert'\nimport I18n from 'i18n!common_bundle'\nimport _ from 'underscore'\n\n/**\n * Sets up CSP enforcement for iframes and alerts end users to csp failures\n */\nexport default function setupCSP(rootElement) {\n  const csp = ENV.csp\n  if (csp) {\n    const cspViolationFunction = () => {\n      showFlashAlert({\n        message: I18n.t(\n          'Content on this page violates the security policy, contact your admin for assistance.'\n        ),\n        type: 'error'\n      })\n    }\n\n    const setupCSPForIframes = _.debounce(\n      () =>\n        Array.from(rootElement.querySelectorAll('iframe.attachment-html-iframe')).forEach(frame => {\n          if (!frame.getAttribute('csp')) {\n            frame.setAttribute('csp', csp)\n          }\n        }),\n      300\n    )\n\n    // Set up CSP on any iframes currently on the page\n    setupCSPForIframes()\n\n    // Handle page level violations\n    rootElement.addEventListener('securitypolicyviolation', cspViolationFunction)\n\n    // Set up handling for any iframes that might be added to the page\n    // Sometimes an iframe being added in React doesn't trigger nodes being added... :(\n    // So we just run this function on all mutations (though it is debounced)\n    const cspMutationObserver = new MutationObserver(setupCSPForIframes)\n\n    cspMutationObserver.observe(rootElement, {\n      childList: true,\n      subtree: true\n    })\n  }\n}\n"],"sourceRoot":""}