(window.canvasWebpackJsonp=window.canvasWebpackJsonp||[]).push([[512],{"1vTy":function(e,t,a){"use strict"
a.d(t,"a",(function(){return r}))
var n=a("An8g"),o=(a("q1tI"),a("17x9"),a("TSYQ")),i=a.n(o)
function r(e){return Object(n.a)("div",{className:i()({"progress-bar__bar-container":!0,"almost-done":100===e.progress})},void 0,Object(n.a)("div",{className:i()({"progress-bar__bar":!0,"almost-done":100===e.progress}),role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100","aria-label":e["aria-label"]||"",style:{width:"".concat(Math.min(e.progress,100),"%")}}))}},"2hGj":function(e,t,a){"use strict"
a.r(t)
a("hRLk")
var n=a("q1tI"),o=a.n(n),i=a("i8i4"),r=a.n(i),s=a("An8g"),c=a("VTBJ"),l=a("HvmS"),h=(a("17x9"),a("ouhR")),d=a.n(h),p=a("LvDl"),u=a.n(p),b=a("Nxtp"),m=a("As2g"),g=(a("FrYD"),a("kKOq")),f=a("dTie")
class v extends n.Component{constructor(){super(),this.save=()=>{const e=!(!this.props.sharedBrandConfigBeingEdited||!this.props.sharedBrandConfigBeingEdited.id),t={brand_config_md5:this.props.brandConfigMd5}
let a,n
if(e)a="/api/v1/accounts/".concat(this.props.accountID,"/shared_brand_configs/").concat(this.props.sharedBrandConfigBeingEdited.id),n="PUT"
else{if(!this.state.newThemeName)return void this.setState({modalIsOpen:!0})
t.name=this.state.newThemeName,a="/api/v1/accounts/".concat(this.props.accountID,"/shared_brand_configs"),n="POST"}return d.a.ajaxJSON(a,n,{shared_brand_config:t},e=>{this.setState({modalIsOpen:!1}),this.props.onSave(e)})},this.state={newThemeName:"",modalIsOpen:!1}}render(){let e,t=!1
return this.props.userNeedsToPreviewFirst?(t=!0,e=l.a.t('You need to "Preview Changes" before saving')):this.props.sharedBrandConfigBeingEdited&&this.props.sharedBrandConfigBeingEdited.brand_config_md5===this.props.brandConfigMd5?(t=!0,e=l.a.t("There are no unsaved changes")):this.props.brandConfigMd5||(t=!0),Object(s.a)("div",{className:"pull-left","data-tooltip":"left",title:e},void 0,Object(s.a)("button",{type:"button",className:"Button Button--primary",disabled:t,onClick:this.save},void 0,l.a.t("Save theme")),Object(s.a)(f.a,{size:"small",label:l.a.t("Save Theme"),open:this.state.modalIsOpen,onDismiss:()=>this.setState({modalIsOpen:!1})},void 0,Object(s.a)(f.a.Body,{},void 0,Object(s.a)("div",{className:"ic-Form-control"},void 0,Object(s.a)("label",{htmlFor:"new_theme_theme_name",className:"ic-Label"},void 0,l.a.t("Theme Name")),Object(s.a)("input",{type:"text",id:"new_theme_theme_name",className:"ic-Input",placeholder:l.a.t("Pick a name to save this theme as"),onChange:e=>this.setState({newThemeName:e.target.value})}))),Object(s.a)(f.a.Footer,{},void 0,Object(s.a)("button",{type:"button",className:"Button",onClick:()=>this.setState({modalIsOpen:!1})},void 0,l.a.t("Cancel"))," ",Object(s.a)("button",{type:"button",onClick:this.save,disabled:!this.state.newThemeName,className:"Button Button--primary"},void 0,l.a.t("Save theme")))))}}var y=a("98st"),_=a("gSD+"),j=a("1vTy")
const S=e=>e.includes("Syncing for")?e.replace("Syncing for ",""):l.a.t("Unknown Account")
function w({message:e,completion:t}){return Object(s.a)("li",{className:"Theme-editor-progress-list-item"},void 0,Object(s.a)("div",{className:"Theme-editor-progress-list-item__title"},void 0,l.a.t("%{account_name}",{account_name:S(e)})),Object(s.a)("div",{className:"Theme-editor-progress-list-item__bar"},void 0,Object(s.a)(j.a,{progress:t,title:l.a.t("Progress for %{account_name}",{account_name:S(e)})})))}function C(e){const t=e.showProgressModal||e.showSubAccountProgress
return Object(s.a)(y.a,{open:t,size:e.showProgressModal?"small":"medium"},void 0,Object(s.a)(y.a.Header,{},void 0,Object(s.a)(_.a,{},void 0,e.showProgressModal?l.a.t("Generating preview..."):l.a.t("Applying new styles to subaccounts")," ")),Object(s.a)(y.a.Body,{},void 0,e.showProgressModal?Object(s.a)(j.a,{progress:e.progress,title:l.a.t("%{percent} complete",{percent:l.a.toPercentage(e.progress,{precision:0})})}):Object(s.a)("div",{},void 0,Object(s.a)("p",{},void 0,l.a.t("Changes will still apply if you leave this page.")),Object(s.a)("ul",{className:"unstyled_list"},void 0,e.activeSubAccountProgresses.map(e=>o.a.createElement(w,e))))))}var O=a("6vK/"),U=a("S4Kx"),B=a("pQTu"),T=a("5JRF"),k=a("8CKs"),x=a("TSYQ"),N=a.n(x),I=Object(s.a)("i",{className:"icon-warning",role:"presentation"}),F=Object(s.a)("span",{role:"alert"})
class G extends n.Component{constructor(...e){super(...e),this.state={},this.showWarning=()=>this.props.userInput.invalid&&this.inputNotFocused(),this.warningLabel=()=>this.showWarning()?Object(s.a)("span",{role:"alert"},void 0,Object(s.a)("div",{className:"ic-Form-message ic-Form-message--error",tabIndex:"0"},void 0,Object(s.a)("div",{className:"ic-Form-message__Layout"},void 0,I,l.a.t("'%{chosenColor}' is not a valid color.",{chosenColor:this.props.userInput.val})))):F,this.hexVal=e=>{const t=this.changedColor(e)
return t?Object(k.a)(t)||t:""},this.inputChange=e=>{const t=!!e&&(!this.changedColor(e)||this.invalidHexString(e))
this.props.onChange(e,t),t||this.props.handleThemeStateChange(this.props.varDef.variable_name,e)},this.inputNotFocused=()=>this.textInput&&this.textInput!==document.activeElement,this.updateIfMounted=()=>{this.forceUpdate()},this.textColorInput=()=>Object(s.a)("span",{},void 0,o.a.createElement("input",{ref:e=>this.textInput=e,type:"text",id:"brand_config[variables][".concat(this.props.varDef.variable_name,"]"),className:N()({"Theme__editor-color-block_input-text":!0,"Theme__editor-color-block_input":!0,"Theme__editor-color-block_input--has-error":this.props.userInput.invalid}),placeholder:this.props.placeholder,value:this.props.themeState[this.props.varDef.variable_name],"aria-invalid":this.showWarning(),onChange:e=>this.inputChange(e.target.value),onBlur:this.updateIfMounted}))}changedColor(e){if(!e)return null
const t=document.createElement("span")
t.style.backgroundColor=e
const a=t.style.backgroundColor
return a?"transparent"===a&&"transparent"!==e?null:a:null}invalidHexString(e){return!!e.match(/#/)&&!e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)}render(){const e="none"!==this.props.placeholder?this.props.placeholder:null
return Object(s.a)("section",{className:"Theme__editor-accordion_element Theme__editor-color ic-Form-control"},void 0,Object(s.a)("div",{className:"Theme__editor-form--color"},void 0,Object(s.a)("label",{htmlFor:"brand_config[variables][".concat(this.props.varDef.variable_name,"]"),className:"Theme__editor-color_title"},void 0,this.props.varDef.human_name),Object(s.a)("div",{className:"Theme__editor-color-block"},void 0,this.textColorInput(),this.warningLabel(),Object(s.a)("label",{className:"Theme__editor-color-label Theme__editor-color-block_label-sample",style:{backgroundColor:this.props.placeholder}},void 0,Object(s.a)("input",{className:"Theme__editor-color-block_input-sample Theme__editor-color-block_input",type:"color",value:e,role:"presentation-only",onChange:e=>this.inputChange(e.target.value)})))))}}function D(e){return null==e}G.defaultProps={userInput:{},themeState:{},handleThemeStateChange(){}}
class P extends n.Component{constructor(...e){super(...e),this.setValue=e=>{let t=e
e?(this.props.handleThemeStateChange(this.props.varDef.variable_name,e.files[0]),t=window.URL.createObjectURL(e.files[0])):(this.fileInput.value="",D(this.props.userInput.val)?this.props.handleThemeStateChange(this.props.varDef.variable_name,null,{resetValue:!0,useDefault:!0}):this.props.handleThemeStateChange(this.props.varDef.variable_name,null,{resetValue:!0})),this.props.onChange(t)}}render(){const e="brand_config[variables][".concat(this.props.varDef.variable_name,"]"),t=this.props.userInput.val||this.props.placeholder
return Object(s.a)("section",{className:"Theme__editor-accordion_element Theme__editor-upload"},void 0,Object(s.a)("div",{className:"te-Flex"},void 0,Object(s.a)("div",{className:"Theme__editor-form--upload"},void 0,Object(s.a)("div",{className:"Theme__editor-upload_header"},void 0,Object(s.a)("h3",{className:"Theme__editor-upload_title"},void 0,this.props.varDef.human_name),Object(s.a)("span",{className:"Theme__editor-upload_restrictions"},void 0,this.props.varDef.helper_text)),Object(s.a)("div",{className:"Theme__editor_preview-img-container Theme__editor_preview-img-container--".concat(this.props.varDef.variable_name)},void 0,Object(s.a)("div",{className:"Theme__editor_preview-img"},void 0,t&&Object(s.a)("img",{src:t,className:"Theme__editor-placeholder",alt:""}))),Object(s.a)("div",{className:"Theme__editor-image_upload"},void 0,Object(s.a)("input",{type:"hidden",name:!this.props.userInput.val&&e,value:""===this.props.userInput.val?"":this.props.currentValue}),Object(s.a)("label",{className:"Theme__editor-image_upload-label"},void 0,Object(s.a)("span",{className:"screenreader-only"},void 0,this.props.varDef.human_name),o.a.createElement("input",{type:"file",className:"Theme__editor-input_upload",name:this.props.userInput.val&&e,accept:this.props.varDef.accept,onChange:e=>this.setValue(e.target),ref:e=>this.fileInput=e}),Object(s.a)("span",{className:"Theme__editor-button_upload Button Button--link","aria-hidden":"true"},void 0,l.a.t("Select Image"))),this.props.userInput.val||this.props.currentValue?Object(s.a)("button",{type:"button",className:"Button Button--link",onClick:()=>this.setValue(D(this.props.userInput.val)?"":null)},void 0,D(this.props.userInput.val)?l.a.t("Use Default"):l.a.t("Undo")):null))))}}P.defaultProps={userInput:{},themeState:{},handleThemeStateChange(){}}
var V=a("KIj7"),A=a("1OyB"),E=a("vuIU"),M=a("md7G"),z=a("foSv"),L=a("Ji7U"),R=a("CSQ8"),H=o.a.createElement("path",{d:"M.08 1351.938l176.13 176.13 783.988-783.865 783.74 783.864 176.13-176.13-959.87-960.118z",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),W=function(e){function t(){return Object(A.a)(this,t),Object(M.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(R.a,Object.assign({},this.props,{name:"IconArrowOpenUp",viewBox:"0 0 1920 1920"}),H)}}]),t.displayName="IconArrowOpenUpSolid",t}(n.Component)
W.glyphName="arrow-open-up",W.variant="Solid",W.propTypes=Object(c.a)({},R.a.propTypes)
function q(e){return Object(s.a)(V.a,{summary:e.summary,expanded:e.expanded,onToggle:function(t,a){e.onToggle(t,a,e.index)},icon:W,iconPosition:"end",fluidWidth:!0},void 0,e.children)}q.defaultProps={expanded:!1}
var J=a("Ff2n")
class Q extends n.Component{constructor(...e){super(...e),this.state={value:this.props.defaultValue},this.handleChange=e=>{this.setState({value:e.target.value}),this.props.onChange(e.target.value),this.props.handleThemeStateChange(this.props.variableKey,e.target.value)}}componentDidMount(){d()(this.rangeInput).on("input change",this.handleChange)}componentWillUnmount(){d()(this.rangeInput).off("input change",this.handleChange)}render(){const e=this.props,t=e.labelText,a=e.formatValue,n=(e.onChange,e.value,Object(J.a)(e,["labelText","formatValue","onChange","value"]))
return Object(s.a)("label",{className:"RangeInput"},void 0,Object(s.a)("div",{className:"RangeInput__label"},void 0,t),Object(s.a)("div",{className:"RangeInput__control"},void 0,o.a.createElement("input",Object.assign({className:"RangeInput__input",ref:e=>this.rangeInput=e,type:"range","aria-valuenow":this.props.defaultValue,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuetext":a(this.state.value),onChange:()=>{}},n)),o.a.createElement("output",{ref:e=>this.outputElement=e,htmlFor:this.props.name,className:"RangeInput__value"},a(this.state.value))))}}Q.defaultProps={step:1,onChange(){},formatValue:e=>e,themeState:{},handleThemeStateChange(){}}
class X extends o.a.Component{constructor(...e){super(...e),this.state={expandedIndex:Number(window.sessionStorage.getItem("Theme__editor-accordion-index"))},this.handleToggle=(e,t,a)=>{this.setState({expandedIndex:a},()=>{this.setStoredAccordionIndex(a)})},this.renderRow=e=>{const t={key:e.variable_name,currentValue:this.props.brandConfigVariables[e.variable_name],userInput:this.props.changedValues[e.variable_name],onChange:this.props.changeSomething.bind(null,e.variable_name),placeholder:this.props.getDisplayValue(e.variable_name),themeState:this.props.themeState,handleThemeStateChange:this.props.handleThemeStateChange,varDef:e}
switch(e.type){case"color":return o.a.createElement(G,t)
case"image":return o.a.createElement(P,t)
case"percentage":const a=t.currentValue||t.placeholder
return Object(s.a)(Q,{labelText:e.human_name,min:0,max:1,step:.1,defaultValue:a?parseFloat(a):.5,name:"brand_config[variables][".concat(e.variable_name,"]"),variableKey:e.variable_name,onChange:e=>t.onChange(e),themeState:t.themeState,handleThemeStateChange:t.handleThemeStateChange,formatValue:e=>B.default.toPercentage(100*e,{precision:0})},e.variable_name)
default:return null}}}setStoredAccordionIndex(e){window.sessionStorage.setItem("Theme__editor-accordion-index",e)}render(){return Object(s.a)("div",{},void 0,this.props.variableSchema.map((e,t)=>Object(s.a)(q,{summary:Object(s.a)(T.a,{as:"h2",weight:"bold"},void 0,e.group_name),index:t,expanded:t===this.state.expandedIndex,onToggle:this.handleToggle},e.group_name,e.variables.map(this.renderRow))))}}var Z=Object(s.a)("i",{className:"icon-reset","aria-hidden":"true"}),Y=Object(s.a)("i",{className:"icon-x","aria-hidden":"true"})
class K extends n.Component{constructor(...e){super(...e),this.state={selectedFileName:""},this.hasSomethingToReset=()=>this.props.userInput.val||""===this.props.userInput.val||this.props.currentValue,this.hasUserInput=()=>null!==this.props.userInput.val&&void 0!==this.props.userInput.val,this.handleFileChanged=e=>{const t=e.target.files[0]
this.setState({selectedFileName:t.name}),this.props.handleThemeStateChange(this.props.name,t,{customFileUpload:!0}),this.props.onChange(window.URL.createObjectURL(t))},this.handleResetClicked=()=>{this.fileInput.value="",this.setState({selectedFileName:""}),this.props.handleThemeStateChange(this.props.name,null,{customFileUpload:!0,resetValue:!0,useDefault:!this.hasUserInput()&&this.props.currentValue}),this.props.onChange(this.hasUserInput()?null:"")}}displayValue(){return!this.hasUserInput()&&this.props.currentValue?this.props.currentValue:this.props.userInput.val?this.state.selectedFileName:""}resetButtonLabel(){return this.props.userInput.val||""===this.props.userInput.val?Object(s.a)("span",{},void 0,Z,Object(s.a)("span",{className:"screenreader-only"},void 0,l.a.t("Undo"))):this.props.currentValue?Object(s.a)("span",{},void 0,Y,Object(s.a)("span",{className:"screenreader-only"},void 0,l.a.t("Clear"))):Object(s.a)("span",{className:"screenreader-only"},void 0,l.a.t("Reset"))}viewFileLink(){return!this.hasUserInput()&&this.props.currentValue?Object(s.a)("a",{href:this.props.currentValue,target:"_blank",rel:"noopener noreferrer",className:"ThemeEditorFileUpload__view-file"},void 0,l.a.t("View File")):null}render(){return Object(s.a)("div",{className:"ThemeEditorFileUpload"},void 0,Object(s.a)("div",{className:"ThemeEditorFileUpload__label ic-Label"},void 0,this.props.label," ",this.viewFileLink()),Object(s.a)("div",{className:"ic-Input-group"},void 0,Object(s.a)("button",{disabled:!this.hasSomethingToReset(),type:"button",className:"ic-Input-group__add-on Button ThemeEditorFileUpload__reset-button",onClick:this.handleResetClicked},void 0,this.resetButtonLabel()),Object(s.a)("input",{type:"hidden",name:!this.props.userInput.val&&this.props.name,value:""===this.props.userInput.val?"":this.props.currentValue}),Object(s.a)("label",{className:"ThemeEditorFileUpload__file-chooser"},void 0,Object(s.a)("span",{className:"screenreader-only"},void 0,this.props.label),o.a.createElement("input",{type:"file",name:this.props.userInput.val&&this.props.name,accept:this.props.accept,onChange:this.handleFileChanged,ref:e=>this.fileInput=e}),Object(s.a)("div",{className:"ThemeEditorFileUpload__fake-input uneditable-input ic-Input"},void 0,this.displayValue()),Object(s.a)("div",{className:"Button","aria-hidden":"true"},void 0,l.a.t("Select")))))}}K.defaultProps={userInput:{},themeState:{},handleThemeStateChange(){}}
var $=Object(s.a)("div",{className:"Theme__editor-upload-warning_icon"},void 0,Object(s.a)("i",{className:"icon-warning"}))
function ee(e){return e.allowGlobalIncludes?Object(s.a)(O.a,{variant:"minimal",size:"medium",padding:"0"},void 0,Object(s.a)(O.a.Panel,{title:l.a.t("Edit")},void 0,Object(s.a)(X,{variableSchema:e.variableSchema,brandConfigVariables:e.brandConfig.variables,getDisplayValue:e.getDisplayValue,changedValues:e.changedValues,changeSomething:e.changeSomething,themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange})),Object(s.a)(O.a.Panel,{title:l.a.t("Upload"),padding:"0"},void 0,Object(s.a)("div",{className:"Theme__editor-upload-overrides"},void 0,Object(s.a)("div",{className:"Theme__editor-upload-warning"},void 0,$,Object(s.a)("div",{},void 0,Object(s.a)("p",{className:"Theme__editor-upload-warning_text-emphasis"},void 0,l.a.t("Custom CSS and Javascript may cause accessibility issues or conflicts with future Canvas updates!")),Object(s.a)("p",{dangerouslySetInnerHTML:{__html:l.a.t("Before implementing custom CSS or Javascript, please refer to *our documentation*.",{wrappers:['<a href="https://community.canvaslms.com/docs/DOC-3010" target="_blank">$1</a>']})}}))),Object(s.a)("div",{className:"Theme__editor-upload-overrides_header"},void 0,l.a.t("File(s) will be included on all pages in the Canvas desktop application.")),Object(s.a)("div",{className:"Theme__editor-upload-overrides_form"},void 0,Object(s.a)(K,{label:l.a.t("CSS file"),accept:".css",name:"css_overrides",currentValue:e.brandConfig.css_overrides,userInput:e.changedValues.css_overrides,onChange:e.changeSomething.bind(null,"css_overrides"),themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange}),Object(s.a)(K,{label:l.a.t("JavaScript file"),accept:".js",name:"js_overrides",currentValue:e.brandConfig.js_overrides,userInput:e.changedValues.js_overrides,onChange:e.changeSomething.bind(null,"js_overrides"),themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange}))),Object(s.a)("div",{className:"Theme__editor-upload-overrides"},void 0,Object(s.a)("div",{className:"Theme__editor-upload-overrides_header"},void 0,l.a.t("File(s) will be included when user content is displayed within the Canvas iOS or Android apps, and in third-party apps built on our API.")),Object(s.a)("div",{className:"Theme__editor-upload-overrides_form"},void 0,Object(s.a)(K,{label:l.a.t("Mobile app CSS file"),accept:".css",name:"mobile_css_overrides",currentValue:e.brandConfig.mobile_css_overrides,userInput:e.changedValues.mobile_css_overrides,onChange:e.changeSomething.bind(null,"mobile_css_overrides"),themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange}),Object(s.a)(K,{label:l.a.t("Mobile app JavaScript file"),accept:".js",name:"mobile_js_overrides",currentValue:e.brandConfig.mobile_js_overrides,userInput:e.changedValues.mobile_js_overrides,onChange:e.changeSomething.bind(null,"mobile_js_overrides"),themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange}))))):Object(s.a)(U.a,{padding:"small",display:"block"},void 0,Object(s.a)(X,{variableSchema:e.variableSchema,brandConfigVariables:e.brandConfig.variables,getDisplayValue:e.getDisplayValue,changedValues:e.changedValues,changeSomething:e.changeSomething,themeState:e.themeState,handleThemeStateChange:e.handleThemeStateChange}))}ee.defaultProps={allowGlobalIncludes:!1,changedValues:{}}
var te=a("zidk")
const ae=[{id:"te-editor",label:l.a.t("Edit"),value:"edit",selected:!0},{id:"te-upload",label:l.a.t("Upload"),value:"upload",selected:!1}],ne=["js_overrides","css_overrides","mobile_js_overrides","mobile_css_overrides"]
function oe(){try{const e=sessionStorage.getItem("sharedBrandConfigBeingEdited")
if(e)return JSON.parse(e)}catch(e){console.error("Error reading sharedBrandConfigBeingEdited from sessionStore:",e)}}const ie=e=>100!==e.completion
var re=Object(s.a)("i",{className:"icon-check"}),se=Object(s.a)("div",{className:"ic-flash__icon","aria-hidden":"true"},void 0,Object(s.a)("i",{className:"icon-warning"})),ce=Object(s.a)("input",{name:"utf8",type:"hidden",value:"✓"}),le=Object(s.a)("i",{className:"icon-refresh"})
class he extends o.a.Component{constructor(e){super(),this.onProgress=e=>{this.setState({progress:e.completion})},this.onSubAccountProgress=e=>{const t=u.a.map(this.state.activeSubAccountProgresses,t=>t.tag==e.tag?e:t)
this.filterAndSetActive(t),u.a.isEmpty(this.state.activeSubAccountProgresses)&&(this.closeSubAccountProgressModal(),this.redirectToAccount())},this.getDisplayValue=(e,t)=>{let a
return t&&t.ignoreChanges||(a=this.getChangedValue(e)),a||""===a||(a=this.getBrandConfig(e)),a||(a=this.getSchemaDefault(e,t)),a},this.getChangedValue=e=>this.state.changedValues[e]&&this.state.changedValues[e].val,this.getDefault=e=>this.getDisplayValue(e,{ignoreChanges:!0}),this.getBrandConfig=e=>this.props.brandConfig[e]||this.props.brandConfig.variables[e],this.getSchemaDefault=(e,t)=>{const a=function(e,t){for(let a=0;a<e.length;a++)for(let n=0;n<e[a].variables.length;n++){const o=e[a].variables[n]
if(o.variable_name===t)return o}}(this.props.variableSchema,e),n=a?a.default:null
return n&&"$"===n[0]?this.getDisplayValue(n.slice(1),t):n},this.handleThemeStateChange=(e,t,a={})=>{let n=this.state.themeStore,o=n.files,i=n.properties
if(t instanceof File){const n={variable_name:e,value:t}
a.customFileUpload&&(n.customFileUpload=!0)
const i=o.findIndex(t=>t.variable_name===e);-1!==i?o[i]=n:o.push(n)}else i=Object(c.a)({},i,{},{[e]:t})
if(a.resetValue){i=Object(c.a)({},i,{},{[e]:this.originalThemeProperties[e]})
const t=o.findIndex(t=>t.variable_name===e);-1!==t&&(o[t].value=this.originalThemeOverrides[e])}if(a.useDefault){i[e]=this.getSchemaDefault(e)
const t=o.findIndex(t=>t.variable_name===e);-1!==t&&(o[t].value="")}this.setState({themeStore:{properties:i,files:o}})},this.somethingHasChanged=()=>u.a.some(this.state.changedValues,(e,t)=>""===e.val||e.val!==this.getDefault(t)&&null!==e.val),this.displayedMatchesSaved=()=>this.state.sharedBrandConfigBeingEdited&&this.state.sharedBrandConfigBeingEdited.brand_config_md5===this.props.brandConfig.md5,this.changeSomething=(e,t,a)=>{const n=Object(c.a)({},this.state.changedValues,{[e]:{val:t,invalid:a}})
this.setState({changedValues:n})},this.invalidForm=()=>Object.keys(this.state.changedValues).some(e=>this.state.changedValues[e].invalid),this.updateSharedBrandConfigBeingEdited=e=>{sessionStorage.setItem("sharedBrandConfigBeingEdited",JSON.stringify(e)),this.setState({sharedBrandConfigBeingEdited:e})},this.handleCancelClicked=()=>{if(this.somethingHasChanged()||!this.displayedMatchesSaved()){const e=l.a.t("You are about to lose any unsaved changes.\n\nWould you still like to proceed?")
if(!window.confirm(e))return}sessionStorage.removeItem("sharedBrandConfigBeingEdited"),Object(g.a)("/accounts/".concat(this.props.accountID,"/brand_configs"),"DELETE")},this.saveToSession=e=>{Object(g.a)("/accounts/".concat(this.props.accountID,"/brand_configs/save_to_user_session"),"POST",e)},this.handleFormSubmit=()=>{let e
this.setState({showProgressModal:!0}),d.a.ajax({url:"/accounts/".concat(this.props.accountID,"/brand_configs"),type:"POST",data:this.processThemeStoreForSubmit(),processData:!1,contentType:!1,dataType:"json"}).pipe(t=>{if(e=t.brand_config.md5,t.progress)return new m.a(t.progress).poll().progress(this.onProgress)}).pipe(()=>this.saveToSession(e)).fail(()=>{window.alert(l.a.t("An error occurred trying to generate this theme, please try again.")),this.setState({showProgressModal:!1})})},this.handleApplyClicked=()=>{const e=l.a.t("This will apply this theme to your entire account. Would you like to proceed?")
window.confirm(e)&&this.kickOffSubAcountCompilation()},this.redirectToAccount=()=>{window.location.replace("/accounts/".concat(this.props.accountID,"/brand_configs?theme_applied=1"))},this.kickOffSubAcountCompilation=()=>{this.setState({isApplying:!0}),d.a.ajax({url:"/accounts/".concat(this.props.accountID,"/brand_configs/save_to_account"),type:"POST",data:this.processThemeStoreForSubmit(),processData:!1,contentType:!1,dataType:"json"}).pipe(e=>{if(e.subAccountProgresses&&!u.a.isEmpty(e.subAccountProgresses))return this.openSubAccountProgressModal(),this.filterAndSetActive(e.subAccountProgresses),e.subAccountProgresses.map(e=>new m.a(e).poll().progress(this.onSubAccountProgress))
this.redirectToAccount()}).fail(()=>{this.setState({isApplying:!1}),window.alert(l.a.t("An error occurred trying to apply this theme, please try again."))})},this.filterAndSetActive=e=>{this.setState({activeSubAccountProgresses:e.filter(ie)})},this.openSubAccountProgressModal=()=>{this.setState({showSubAccountProgress:!0})},this.closeSubAccountProgressModal=()=>{this.setState({showSubAccountProgress:!1})},this.renderTabInputs=()=>this.props.allowGlobalIncludes?ae.map(e=>Object(s.a)("input",{type:"radio",id:e.id,name:"te-action",defaultValue:e.value,className:"Theme__editor-tabs_input",defaultChecked:e.selected},e.id)):null,this.renderTabLabels=()=>this.props.allowGlobalIncludes?ae.map(e=>Object(s.a)("label",{htmlFor:e.id,className:"Theme__editor-tabs_item",id:"".concat(e.id,"-tab")},"".concat(e.id,"-tab"),e.label)):null
const t=e.variableSchema,a=e.brandConfig,n=u.a.flatMap(t,e=>e.variables).reduce((e,t)=>Object(c.a)({},e,{},{[t.variable_name]:t.default}),{})
this.originalThemeProperties=Object(c.a)({},n,{},a.variables),this.originalThemeOverrides=u.a.pick(a,ne),this.state={themeStore:{properties:Object(c.a)({},this.originalThemeProperties),files:ne.map(e=>({customFileUpload:!0,variable_name:e,value:this.originalThemeOverrides[e]}))},changedValues:{},showProgressModal:!1,progress:0,sharedBrandConfigBeingEdited:oe(),showSubAccountProgress:!1,activeSubAccountProgresses:[]}}processThemeStoreForSubmit(){const e=new FormData,t=this.state.themeStore,a=t.properties,n=t.files
return Object.keys(a).forEach(t=>{const n=this.getSchemaDefault(t)
a[t]!==n&&a[t]&&"$"!==a[t][0]&&e.append("brand_config[variables][".concat(t,"]"),a[t])}),n.forEach(t=>{const a=t.customFileUpload?t.variable_name:"brand_config[variables][".concat(t.variable_name,"]");(!t.customFileUpload||t.customFileUpload&&null!=t.value)&&e.append(a,t.value)}),ne.forEach(t=>{e.has(t)&&"undefined"!==e.get(t)&&"null"!==e.get(t)||e.append(t,this.props.brandConfig[t]||"")}),e}renderHeader(e){return Object(s.a)("header",{className:"Theme__header ".concat(!this.props.hasUnsavedChanges&&"Theme__header--is-active-theme")},void 0,Object(s.a)("div",{className:"Theme__header-layout"},void 0,Object(s.a)("div",{className:"Theme__header-primary"},void 0,this.props.hasUnsavedChanges?Object(s.a)("span",{"data-tooltip":"right",title:e},void 0,Object(s.a)("button",{type:"button",className:"Button Button--success",disabled:!!e,onClick:this.handleApplyClicked},void 0,l.a.t("Apply theme"))):null,Object(s.a)("h2",{className:"Theme__header-theme-name"},void 0,this.props.hasUnsavedChanges||this.somethingHasChanged()?null:re,"  ",this.state.sharedBrandConfigBeingEdited?this.state.sharedBrandConfigBeingEdited.name:null)),Object(s.a)("div",{className:"Theme__header-secondary"},void 0,Object(s.a)(v,{userNeedsToPreviewFirst:this.somethingHasChanged(),sharedBrandConfigBeingEdited:this.state.sharedBrandConfigBeingEdited,accountID:this.props.accountID,brandConfigMd5:this.props.brandConfig.md5,onSave:this.updateSharedBrandConfigBeingEdited})," ",Object(s.a)("button",{type:"button",className:"Button",onClick:this.handleCancelClicked},void 0,l.a.t("Exit")))))}render(){let e=null
return this.somethingHasChanged()?e=l.a.t('You need to "Preview Changes" before you can apply this to your account'):this.props.brandConfig.md5&&!this.displayedMatchesSaved()?e=l.a.t('You need to "Save" before applying to this account'):this.state.isApplying&&(e=l.a.t("Applying, please be patient")),Object(s.a)("div",{id:"main",className:"ic-Layout-columns"},void 0,Object(s.a)("h1",{className:"screenreader-only"},void 0,l.a.t("Theme Editor")),this.props.useHighContrast&&Object(s.a)("div",{role:"alert",className:"ic-flash-static ic-flash-error"},void 0,Object(s.a)("h4",{className:"ic-flash__headline"},void 0,se,l.a.t("You will not be able to preview your changes")),Object(s.a)("p",{className:"ic-flash__text",dangerouslySetInnerHTML:{__html:l.a.t("To preview Theme Editor branding, you will need to *turn off High Contrast UI*.",{wrappers:['<a href="/profile/settings">$1</a>']})}})),o.a.createElement("form",{ref:e=>this.ThemeEditorForm=e,onSubmit:Object(b.a)(this.handleFormSubmit),encType:"multipart/form-data",acceptCharset:"UTF-8",action:"'/accounts/'+this.props.accountID+'/brand_configs",method:"POST",className:"Theme__container"},ce,Object(s.a)("input",{name:"authenticity_token",type:"hidden",value:Object(te.a)("_csrf_token")}),Object(s.a)("div",{className:"Theme__layout ".concat(!this.props.hasUnsavedChanges&&"Theme__layout--is-active-theme")},void 0,Object(s.a)("div",{className:"Theme__editor"},void 0,Object(s.a)(ee,{themeStore:this.state.themeStore,handleThemeStateChange:this.handleThemeStateChange,allowGlobalIncludes:this.props.allowGlobalIncludes,brandConfig:this.props.brandConfig,variableSchema:this.props.variableSchema,getDisplayValue:this.getDisplayValue,changeSomething:this.changeSomething,changedValues:this.state.changedValues})),Object(s.a)("div",{className:"Theme__preview"},void 0,this.somethingHasChanged()?Object(s.a)("div",{className:"Theme__preview-overlay"},void 0,Object(s.a)("button",{type:"submit",className:"Button Button--primary Button--large",disabled:this.invalidForm()},void 0,le,Object(s.a)("span",{className:"Theme__preview-button-text"},void 0,l.a.t("Preview Your Changes")))):null,Object(s.a)("iframe",{id:"previewIframe",src:"/accounts/".concat(this.props.accountID,"/theme-preview/?editing_brand_config=1"),title:l.a.t("Preview"),"aria-hidden":this.somethingHasChanged(),tabIndex:this.somethingHasChanged()?"-1":"0"}))),this.renderHeader(e)),Object(s.a)(C,{showProgressModal:this.state.showProgressModal,showSubAccountProgress:this.state.showSubAccountProgress,activeSubAccountProgresses:this.state.activeSubAccountProgresses,progress:this.state.progress}))}}window.top.location!==self.location&&(window.top.location=self.location.href),r.a.render(o.a.createElement(he,{brandConfig:window.ENV.brandConfig,hasUnsavedChanges:window.ENV.hasUnsavedChanges,variableSchema:window.ENV.variableSchema,sharedBrandConfigs:window.ENV.sharedBrandConfigs,allowGlobalIncludes:window.ENV.allowGlobalIncludes,accountID:window.ENV.account_id,useHighContrast:window.ENV.use_high_contrast}),document.body)},"5JRF":function(e,t,a){"use strict"
a.d(t,"a",(function(){return O}))
var n,o,i,r=a("rePB"),s=a("1OyB"),c=a("vuIU"),l=a("md7G"),h=a("foSv"),d=a("Ji7U"),p=a("q1tI"),u=a.n(p),b=a("17x9"),m=a.n(b),g=a("TSYQ"),f=a.n(g),v=a("mobu"),y=a("/0PT"),_=a("BDw+"),j=a("YAV+"),S=a("VTBJ")
function w(e){var t=e.typography,a=e.colors,n=e.spacing
return Object(S.a)({},t,{primaryInverseColor:a.textLightest,primaryColor:a.textDarkest,secondaryColor:a.textDark,secondaryInverseColor:a.textLight,warningColor:a.textWarning,brandColor:a.textBrand,errorColor:a.textDanger,successColor:a.textSuccess,alertColor:a.textAlert,paragraphMargin:"".concat(n.medium," 0")})}w.canvas=function(e){return{primaryColor:e["ic-brand-font-color-dark"],brandColor:e["ic-brand-primary"]}}
var C={componentId:"cjUyb",template:function(e){return"\n\n.cjUyb_bGBk{font-family:".concat(e.fontFamily||"inherit","}\n\n.cjUyb_bGBk sub,.cjUyb_bGBk sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\n\n.cjUyb_bGBk sup{top:-0.4em}\n\n.cjUyb_bGBk sub{bottom:-0.4em}\n\n.cjUyb_bGBk code,.cjUyb_bGBk pre{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-family:").concat(e.fontFamilyMonospace||"inherit",";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\n\n.cjUyb_bGBk em,.cjUyb_bGBk i{font-style:italic}\n\n.cjUyb_bGBk b,.cjUyb_bGBk strong{font-weight:").concat(e.fontWeightBold||"inherit","}\n\n.cjUyb_bGBk p{display:block;margin:").concat(e.paragraphMargin||"inherit",";padding:0}\n\ninput.cjUyb_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:0;outline:0;padding:0;text-align:start;width:100%}\n\n[dir=ltr] input.cjUyb_bGBk[type]{text-align:left}\n\n[dir=rtl] input.cjUyb_bGBk[type]{text-align:right}\n\n.cjUyb_bGBk:focus,input.cjUyb_bGBk[type]:focus{outline:none}\n\n.cjUyb_bGBk.cjUyb_qFsi,input.cjUyb_bGBk[type].cjUyb_qFsi{color:").concat(e.primaryColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_bLsb,input.cjUyb_bGBk[type].cjUyb_bLsb{color:").concat(e.secondaryColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_ezBQ,input.cjUyb_bGBk[type].cjUyb_ezBQ{color:").concat(e.primaryInverseColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_dlnd,input.cjUyb_bGBk[type].cjUyb_dlnd{color:").concat(e.secondaryInverseColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_cJLh,input.cjUyb_bGBk[type].cjUyb_cJLh{color:").concat(e.successColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_fpfC,input.cjUyb_bGBk[type].cjUyb_fpfC{color:").concat(e.brandColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_eHcp,input.cjUyb_bGBk[type].cjUyb_eHcp{color:").concat(e.warningColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_dwua,input.cjUyb_bGBk[type].cjUyb_dwua{color:").concat(e.errorColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_eZgl,input.cjUyb_bGBk[type].cjUyb_eZgl{color:").concat(e.alertColor||"inherit","}\n\n.cjUyb_bGBk.cjUyb_fbNi,input.cjUyb_bGBk[type].cjUyb_fbNi{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word}\n\n.cjUyb_bGBk.cjUyb_drST,input.cjUyb_bGBk[type].cjUyb_drST{font-weight:").concat(e.fontWeightNormal||"inherit","}\n\n.cjUyb_bGBk.cjUyb_pEgL,input.cjUyb_bGBk[type].cjUyb_pEgL{font-weight:").concat(e.fontWeightLight||"inherit","}\n\n.cjUyb_bGBk.cjUyb_bdMA,input.cjUyb_bGBk[type].cjUyb_bdMA{font-weight:").concat(e.fontWeightBold||"inherit","}\n\n.cjUyb_bGBk.cjUyb_ijuF,input.cjUyb_bGBk[type].cjUyb_ijuF{font-style:normal}\n\n.cjUyb_bGBk.cjUyb_fetN,input.cjUyb_bGBk[type].cjUyb_fetN{font-style:italic}\n\n.cjUyb_bGBk.cjUyb_dfBC,input.cjUyb_bGBk[type].cjUyb_dfBC{font-size:").concat(e.fontSizeXSmall||"inherit","}\n\n.cjUyb_bGBk.cjUyb_doqw,input.cjUyb_bGBk[type].cjUyb_doqw{font-size:").concat(e.fontSizeSmall||"inherit","}\n\n.cjUyb_bGBk.cjUyb_ycrn,input.cjUyb_bGBk[type].cjUyb_ycrn{font-size:").concat(e.fontSizeMedium||"inherit","}\n\n.cjUyb_bGBk.cjUyb_cMDj,input.cjUyb_bGBk[type].cjUyb_cMDj{font-size:").concat(e.fontSizeLarge||"inherit","}\n\n.cjUyb_bGBk.cjUyb_eoMd,input.cjUyb_bGBk[type].cjUyb_eoMd{font-size:").concat(e.fontSizeXLarge||"inherit","}\n\n.cjUyb_bGBk.cjUyb_fdca,input.cjUyb_bGBk[type].cjUyb_fdca{font-size:").concat(e.fontSizeXXLarge||"inherit","}\n\n.cjUyb_bGBk.cjUyb_fEWX,input.cjUyb_bGBk[type].cjUyb_fEWX{line-height:").concat(e.lineHeight||"inherit","}\n\n.cjUyb_bGBk.cjUyb_fNIu,input.cjUyb_bGBk[type].cjUyb_fNIu{line-height:").concat(e.lineHeightFit||"inherit","}\n\n.cjUyb_bGBk.cjUyb_dfDs,input.cjUyb_bGBk[type].cjUyb_dfDs{line-height:").concat(e.lineHeightCondensed||"inherit","}\n\n.cjUyb_bGBk.cjUyb_bDjL,input.cjUyb_bGBk[type].cjUyb_bDjL{line-height:").concat(e.lineHeightDouble||"inherit","}\n\n.cjUyb_bGBk.cjUyb_eQnG,input.cjUyb_bGBk[type].cjUyb_eQnG{letter-spacing:").concat(e.letterSpacingNormal||"inherit","}\n\n.cjUyb_bGBk.cjUyb_bbUA,input.cjUyb_bGBk[type].cjUyb_bbUA{letter-spacing:").concat(e.letterSpacingCondensed||"inherit","}\n\n.cjUyb_bGBk.cjUyb_bRWU,input.cjUyb_bGBk[type].cjUyb_bRWU{letter-spacing:").concat(e.letterSpacingExpanded||"inherit","}\n\n.cjUyb_bGBk.cjUyb_wZsr,input.cjUyb_bGBk[type].cjUyb_wZsr{text-transform:none}\n\n.cjUyb_bGBk.cjUyb_fCZK,input.cjUyb_bGBk[type].cjUyb_fCZK{text-transform:capitalize}\n\n.cjUyb_bGBk.cjUyb_dsRi,input.cjUyb_bGBk[type].cjUyb_dsRi{text-transform:uppercase}\n\n.cjUyb_bGBk.cjUyb_bLtD,input.cjUyb_bGBk[type].cjUyb_bLtD{text-transform:lowercase}")},root:"cjUyb_bGBk","color-primary":"cjUyb_qFsi","color-secondary":"cjUyb_bLsb","color-primary-inverse":"cjUyb_ezBQ","color-secondary-inverse":"cjUyb_dlnd","color-success":"cjUyb_cJLh","color-brand":"cjUyb_fpfC","color-warning":"cjUyb_eHcp","color-error":"cjUyb_dwua","color-alert":"cjUyb_eZgl","wrap-break-word":"cjUyb_fbNi","weight-normal":"cjUyb_drST","weight-light":"cjUyb_pEgL","weight-bold":"cjUyb_bdMA","style-normal":"cjUyb_ijuF","style-italic":"cjUyb_fetN","x-small":"cjUyb_dfBC",small:"cjUyb_doqw",medium:"cjUyb_ycrn",large:"cjUyb_cMDj","x-large":"cjUyb_eoMd","xx-large":"cjUyb_fdca","lineHeight-default":"cjUyb_fEWX","lineHeight-fit":"cjUyb_fNIu","lineHeight-condensed":"cjUyb_dfDs","lineHeight-double":"cjUyb_bDjL","letterSpacing-normal":"cjUyb_eQnG","letterSpacing-condensed":"cjUyb_bbUA","letterSpacing-expanded":"cjUyb_bRWU","transform-none":"cjUyb_wZsr","transform-capitalize":"cjUyb_fCZK","transform-uppercase":"cjUyb_dsRi","transform-lowercase":"cjUyb_bLtD"},O=Object(y.a)("7.0.0",null,"Use Text from ui-text instead.")(n=Object(v.g)(w,C)((i=o=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,a=this.props,n=a.wrap,o=a.weight,i=a.fontStyle,s=a.size,c=a.lineHeight,l=a.letterSpacing,h=a.transform,d=a.color,p=a.children,b=Object(_.a)(t,this.props)
return u.a.createElement(b,Object.assign({},Object(j.a)(this.props,t.propTypes),{className:f()((e={},Object(r.a)(e,C.root,!0),Object(r.a)(e,C[s],s),Object(r.a)(e,C["wrap-".concat(n)],n),Object(r.a)(e,C["weight-".concat(o)],o),Object(r.a)(e,C["style-".concat(i)],i),Object(r.a)(e,C["transform-".concat(h)],h),Object(r.a)(e,C["lineHeight-".concat(c)],c),Object(r.a)(e,C["letterSpacing-".concat(l)],l),Object(r.a)(e,C["color-".concat(d)],d),e)),ref:this.props.elementRef}),p)}}]),t.displayName="Text",t}(p.Component),o.propTypes={as:m.a.elementType,wrap:m.a.oneOf(["normal","break-word"]),weight:m.a.oneOf(["normal","light","bold"]),fontStyle:m.a.oneOf(["italic","normal"]),size:m.a.oneOf(["x-small","small","medium","large","x-large","xx-large"]),lineHeight:m.a.oneOf(["default","fit","condensed","double"]),letterSpacing:m.a.oneOf(["normal","condensed","expanded"]),transform:m.a.oneOf(["none","capitalize","uppercase","lowercase"]),color:m.a.oneOf(["primary","secondary","primary-inverse","secondary-inverse","success","error","alert","warning","brand"]),children:m.a.node,elementRef:m.a.func},o.defaultProps={as:"span",wrap:"normal",size:"medium",letterSpacing:"normal",children:null,elementRef:void 0,color:void 0,transform:void 0,lineHeight:void 0,fontStyle:void 0,weight:void 0},n=i))||n)||n},"8CKs":function(e,t,a){"use strict"
function n(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}a.d(t,"a",(function(){return n}))},As2g:function(e,t,a){"use strict"
var n=a("FIFq"),o=a("ouhR"),i=a.n(o),r=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,a=this.length;t<a;t++)if(t in this&&this[t]===e)return t
return-1}
t.a=function(e){function t(){return this.onPoll=r(this.onPoll,this),this.poll=r(this.poll,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var a in t)s.call(t,a)&&(e[a]=t[a])
function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.prototype.defaults={completion:0,url:null,timeout:1e3},t.prototype.pollStates=["queued","running"],t.prototype.isPolling=function(){var e
return e=this.get("workflow_state"),c.call(this.pollStates,e)>=0},t.prototype.isSuccess=function(){return"completed"===this.get("workflow_state")},t.prototype.initialize=function(){var e
return this.pollDfd=new i.a.Deferred,this.on("change:url",(e=this,function(){if(e.isPolling())return e.poll()})),i()(window).on("beforeunload",function(e){return function(){return clearTimeout(e.timeout)}}(this))},t.prototype.url=function(){return this.get("url")},t.prototype.poll=function(){var e
return this.fetch().then(this.onPoll,(e=this,function(){return e.pollDfd.rejectWith(e,arguments)})),this.pollDfd},t.prototype.onPoll=function(e){return this.pollDfd.notify(e),this.isPolling()?this.timeout=setTimeout(this.poll,this.get("timeout")):(this.pollDfd[this.isSuccess()?"resolve":"reject"](e),this.trigger("complete"))},t}(n.Model)},"gSD+":function(e,t,a){"use strict"
a.d(t,"a",(function(){return B}))
var n,o,i,r=a("rePB"),s=a("1OyB"),c=a("vuIU"),l=a("md7G"),h=a("foSv"),d=a("Ji7U"),p=a("q1tI"),u=a.n(p),b=a("17x9"),m=a.n(b),g=a("TSYQ"),f=a.n(g),v=a("Ji63"),y=a("mobu"),_=a("RhCJ"),j=a("/0PT"),S=a("BDw+"),w=a("YAV+"),C=a("oXx0")
function O(e){var t=e.borders,a=e.colors,n=e.spacing,o=e.typography
return{fontFamily:o.fontFamily,fontWeight:o.fontWeightNormal,lineHeight:o.lineHeightFit,h1FontSize:o.fontSizeXXLarge,h1FontWeight:o.fontWeightLight,h2FontSize:o.fontSizeXLarge,h2FontWeight:o.fontWeightNormal,h3FontSize:o.fontSizeLarge,h3FontWeight:o.fontWeightBold,h4FontSize:o.fontSizeMedium,h4FontWeight:o.fontWeightBold,h5FontSize:o.fontSizeSmall,h5FontWeight:o.fontWeightNormal,primaryInverseColor:a.textLightest,primaryColor:a.textDarkest,secondaryColor:a.textDark,secondaryInverseColor:a.textLight,brandColor:a.textBrand,warningColor:a.textWarning,errorColor:a.textDanger,successColor:a.textSuccess,borderPadding:n.xxxSmall,borderColor:a.borderMedium,borderWidth:t.widthSmall,borderStyle:t.style}}O.canvas=function(e){return{primaryColor:e["ic-brand-font-color-dark"],brandColor:e["ic-brand-primary"]}}
var U={componentId:"emyav",template:function(e){return"\n\n.emyav_bGBk{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:".concat(e.fontFamily||"inherit",";line-height:").concat(e.lineHeight||"inherit",";margin:0;text-rendering:optimizeLegibility}\n\ninput.emyav_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:-6px 0 0 0;outline:0;padding:0;text-align:start;width:100%}\n\n[dir=ltr] input.emyav_bGBk[type]{text-align:left}\n\n[dir=rtl] input.emyav_bGBk[type]{text-align:right}\n\ninput.emyav_bGBk[type]:focus{outline:none}\n\n.emyav_fIqS{font-size:").concat(e.h1FontSize||"inherit",";font-weight:").concat(e.h1FontWeight||"inherit","}\n\n.emyav_eABG{font-size:").concat(e.h2FontSize||"inherit",";font-weight:").concat(e.h2FontWeight||"inherit","}\n\n.emyav_dlZd{font-size:").concat(e.h3FontSize||"inherit",";font-weight:").concat(e.h3FontWeight||"inherit","}\n\n.emyav_bAmB{font-size:").concat(e.h4FontSize||"inherit",";font-weight:").concat(e.h4FontWeight||"inherit","}\n\n.emyav_eRZv{font-size:").concat(e.h5FontSize||"inherit",";font-weight:").concat(e.h5FontWeight||"inherit","}\n\n.emyav_dTMd{border-top:").concat(e.borderWidth||"inherit"," ").concat(e.borderStyle||"inherit"," ").concat(e.borderColor||"inherit",";padding-top:").concat(e.borderPadding||"inherit","}\n\n.emyav_evMo{border-bottom:").concat(e.borderWidth||"inherit"," ").concat(e.borderStyle||"inherit"," ").concat(e.borderColor||"inherit",";padding-bottom:").concat(e.borderPadding||"inherit","}\n\n.emyav_fAVi{color:inherit}\n\n.emyav_qFsi{color:").concat(e.primaryColor||"inherit","}\n\n.emyav_bLsb{color:").concat(e.secondaryColor||"inherit","}\n\n.emyav_ezBQ{color:").concat(e.primaryInverseColor||"inherit","}\n\n.emyav_dlnd{color:").concat(e.secondaryInverseColor||"inherit","}\n\n.emyav_ZpoW{font-size:inherit;font-weight:inherit;line-height:inherit;margin:0}\n\n.emyav_bOQC{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")},root:"emyav_bGBk",h1:"emyav_fIqS",h2:"emyav_eABG",h3:"emyav_dlZd",h4:"emyav_bAmB",h5:"emyav_eRZv","border-top":"emyav_dTMd","border-bottom":"emyav_evMo","color-inherit":"emyav_fAVi","color-primary":"emyav_qFsi","color-secondary":"emyav_bLsb","color-primary-inverse":"emyav_ezBQ","color-secondary-inverse":"emyav_dlnd",reset:"emyav_ZpoW",ellipsis:"emyav_bOQC"},B=Object(j.a)("7.0.0",null,"Use Heading from ui-heading instead.")(n=Object(C.a)()(n=Object(y.g)(O,U)((i=o=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,a=this.props,n=a.border,o=a.children,i=a.color,s=a.level,c=a.ellipsis,l=a.margin,h=a.elementRef,d=Object(S.a)(t,this.props,(function(){return"reset"===s?"span":s})),p=v.a.omitViewProps(Object(w.a)(this.props,t.propTypes),t)
return u.a.createElement(v.a,Object.assign({},p,{className:f()((e={},Object(r.a)(e,U.root,!0),Object(r.a)(e,U[s],!0),Object(r.a)(e,U["color-".concat(i)],i),Object(r.a)(e,U["border-".concat(n)],"none"!==n),Object(r.a)(e,U.ellipsis,c),e)),as:d,margin:l,elementRef:h}),o)}}]),t.displayName="Heading",t}(p.Component),o.propTypes={border:m.a.oneOf(["none","top","bottom"]),children:_.a,color:m.a.oneOf(["primary","secondary","primary-inverse","secondary-inverse","inherit"]),level:m.a.oneOf(["h1","h2","h3","h4","h5","reset"]),as:m.a.elementType,ellipsis:m.a.bool,margin:y.a.spacing,elementRef:m.a.func},o.defaultProps={children:null,margin:void 0,elementRef:void 0,border:"none",color:"inherit",level:"h2",ellipsis:!1},n=i))||n)||n)||n},hRLk:function(e,t,a){(function(e){!function(){var t
function a(e){var t=0
return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){e!=Array.prototype&&e!=Object.prototype&&(e[t]=a.value)},o="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this
function i(){i=function(){},o.Symbol||(o.Symbol=l)}function r(e,t){this.s=e,n(this,"description",{configurable:!0,writable:!0,value:t})}r.prototype.toString=function(){return this.s}
var s,c,l=(s=0,function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor")
return new r("jscomp_symbol_"+(t||"")+"_"+s++,t)})
function h(){i()
var e=o.Symbol.iterator
e||(e=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&n(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return function(e){return h(),(e={next:e})[o.Symbol.iterator]=function(){return this},e}(a(this))}}),h=function(){}}function d(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator]
return t?t.call(e):{next:a(e)}}if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf
else{var p
e:{var u={}
try{u.__proto__={v:!0},p=u.v
break e}catch(e){}p=!1}c=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible")
return e}:null}var b=c
function m(){this.h=!1,this.c=null,this.o=void 0,this.b=1,this.m=this.w=0,this.g=null}function g(e){if(e.h)throw new TypeError("Generator is already running")
e.h=!0}function f(e,t,a){return e.b=a,{value:t}}function v(e){for(var t in this.C=e,this.l=[],e)this.l.push(t)
this.l.reverse()}function y(e){this.a=new m,this.D=e}function _(e,t,a,n){try{var o=t.call(e.a.c,a)
if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object")
if(!o.done)return e.a.h=!1,o
var i=o.value}catch(t){return e.a.c=null,e.a.j(t),j(e)}return e.a.c=null,n.call(e.a,i),j(e)}function j(e){for(;e.a.b;)try{var t=e.D(e.a)
if(t)return e.a.h=!1,{value:t.value,done:!1}}catch(t){e.a.o=void 0,e.a.j(t)}if(e.a.h=!1,e.a.g){if(t=e.a.g,e.a.g=null,t.B)throw t.A
return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return e.i(t)},this.throw=function(t){return e.j(t)},this.return=function(t){return function(e,t){g(e.a)
var a=e.a.c
return a?_(e,"return"in a?a.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),j(e))}(e,t)},h(),this[Symbol.iterator]=function(){return this}}function w(e,t){var a=new S(new y(t))
return b&&b(a,e.prototype),a}if(m.prototype.i=function(e){this.o=e},m.prototype.j=function(e){this.g={A:e,B:!0},this.b=this.w||this.m},m.prototype.return=function(e){this.g={return:e},this.b=this.m},y.prototype.i=function(e){return g(this.a),this.a.c?_(this,this.a.c.next,e,this.a.i):(this.a.i(e),j(this))},y.prototype.j=function(e){return g(this.a),this.a.c?_(this,this.a.c.throw,e,this.a.i):(this.a.j(e),j(this))},"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var C=function(e,t){for(var a=0;a<e.length;a++)t(e[a])},O=function(e,t,a){return t instanceof Blob?[String(e),t,void 0!==a?a+"":"string"==typeof t.name?t.name:"blob"]:[String(e),String(t)]},U=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},B=function(e){var t=d(e)
return e=t.next().value,t=t.next().value,e instanceof Blob&&(e=new File([e],t,{type:e.type,lastModified:e.lastModified})),e},T="object"==typeof window?window:"object"==typeof self?self:this,k=T.FormData,x=T.XMLHttpRequest&&T.XMLHttpRequest.prototype.send,N=T.Request&&T.fetch,I=T.navigator&&T.navigator.sendBeacon
i()
var F=T.Symbol&&Symbol.toStringTag
F&&(Blob.prototype[F]||(Blob.prototype[F]="Blob"),"File"in T&&!File.prototype[F]&&(File.prototype[F]="File"))
try{new File([],"")}catch(e){T.File=function(e,t,a){return e=new Blob(e,a),a=a&&void 0!==a.lastModified?new Date(a.lastModified):new Date,Object.defineProperties(e,{name:{value:t},lastModifiedDate:{value:a},lastModified:{value:+a},toString:{value:function(){return"[object File]"}}}),F&&Object.defineProperty(e,F,{value:"File"}),e}}i(),h()
var G=function(e){if(this.f=Object.create(null),!e)return this
var t=this
C(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type)if("file"===e.type){var a=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})]
C(a,(function(a){t.append(e.name,a)}))}else"select-multiple"===e.type||"select-one"===e.type?C(e.options,(function(a){!a.disabled&&a.selected&&t.append(e.name,a.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(a="textarea"===e.type?e.value.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n"):e.value,t.append(e.name,a))}))}
if((t=G.prototype).append=function(e,t,a){U(arguments,2)
var n=d(O.apply(null,arguments))
e=n.next().value,t=n.next().value,a=n.next().value,(n=this.f)[e]||(n[e]=[]),n[e].push([t,a])},t.delete=function(e){U(arguments,1),delete this.f[String(e)]},t.entries=function e(){var t,a,n,o,i,r,s=this
return w(e,(function(e){switch(e.b){case 1:t=s.f,n=new v(t)
case 2:var c
e:{for(c=n;0<c.l.length;){var l=c.l.pop()
if(l in c.C){c=l
break e}}c=null}if(null==(a=c)){e.b=0
break}o=d(t[a]),i=o.next()
case 5:if(i.done){e.b=2
break}return r=i.value,f(e,[a,B(r)],6)
case 6:i=o.next(),e.b=5}}))},t.forEach=function(e,t){U(arguments,1)
for(var a=d(this),n=a.next();!n.done;n=a.next()){var o=d(n.value)
n=o.next().value,o=o.next().value,e.call(t,o,n,this)}},t.get=function(e){U(arguments,1)
var t=this.f
return t[e=String(e)]?B(t[e][0]):null},t.getAll=function(e){return U(arguments,1),(this.f[String(e)]||[]).map(B)},t.has=function(e){return U(arguments,1),String(e)in this.f},t.keys=function e(){var t,a,n,o,i=this
return w(e,(function(e){if(1==e.b&&(t=d(i),a=t.next()),3!=e.b)return a.done?void(e.b=0):(n=a.value,o=d(n),f(e,o.next().value,3))
a=t.next(),e.b=2}))},t.set=function(e,t,a){U(arguments,2)
var n=O.apply(null,arguments)
this.f[n[0]]=[[n[1],n[2]]]},t.values=function e(){var t,a,n,o,i=this
return w(e,(function(e){if(1==e.b&&(t=d(i),a=t.next()),3!=e.b)return a.done?void(e.b=0):(n=a.value,(o=d(n)).next(),f(e,o.next().value,3))
a=t.next(),e.b=2}))},G.prototype._asNative=function(){for(var e=new k,t=d(this),a=t.next();!a.done;a=t.next()){var n=d(a.value)
a=n.next().value,n=n.next().value,e.append(a,n)}return e},G.prototype._blob=function(){for(var e="----formdata-polyfill-"+Math.random(),t=[],a=d(this),n=a.next();!n.done;n=a.next()){var o=d(n.value)
n=o.next().value,o=o.next().value,t.push("--"+e+"\r\n"),o instanceof Blob?t.push('Content-Disposition: form-data; name="'+n+'"; filename="'+o.name+'"\r\n',"Content-Type: "+(o.type||"application/octet-stream")+"\r\n\r\n",o,"\r\n"):t.push('Content-Disposition: form-data; name="'+n+'"\r\n\r\n'+o+"\r\n")}return t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},G.prototype[Symbol.iterator]=function(){return this.entries()},G.prototype.toString=function(){return"[object FormData]"},F&&(G.prototype[F]="FormData"),x){var D=T.XMLHttpRequest.prototype.setRequestHeader
T.XMLHttpRequest.prototype.setRequestHeader=function(e,t){D.call(this,e,t),"content-type"===e.toLowerCase()&&(this.u=!0)},T.XMLHttpRequest.prototype.send=function(e){e instanceof G?(e=e._blob(),this.u||this.setRequestHeader("Content-Type",e.type),x.call(this,e)):x.call(this,e)}}if(N){var P=T.fetch
T.fetch=function(e,t){return t&&t.body&&t.body instanceof G&&(t.body=t.body._blob()),P.call(this,e,t)}}I&&(T.navigator.sendBeacon=function(e,t){return t instanceof G&&(t=t._asNative()),I.call(this,e,t)}),T.FormData=G}}()}).call(this,a("yLpj"))}}])

//# sourceMappingURL=theme_editor-c-8345237c01.js.map