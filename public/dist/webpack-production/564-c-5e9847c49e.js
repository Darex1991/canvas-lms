(window.canvasWebpackJsonp=window.canvasWebpackJsonp||[]).push([[564],{"+iUZ":function(e,a,d){"use strict"
var i=d("pQTu"),r=d("m0r6")
Object(r.a)(JSON.parse('{"ar":{"_5a374287":"..."},"cy":{"_5a374287":"..."},"da":{"_5a374287":"..."},"da-x-k12":{"_5a374287":"..."},"de":{"_5a374287":"..."},"el":{"_5a374287":"..."},"en-AU":{"_5a374287":"..."},"en-CA":{"_5a374287":"..."},"en-GB":{"_5a374287":"..."},"es":{"_5a374287":"..."},"fa":{"_5a374287":"..."},"fi":{"_5a374287":"..."},"fr":{"_5a374287":"..."},"fr-CA":{"_5a374287":"..."},"he":{"_5a374287":"..."},"ht":{"_5a374287":"..."},"hu":{"_5a374287":"..."},"hy":{"_5a374287":"..."},"is":{"_5a374287":"..."},"it":{"_5a374287":"..."},"ja":{"_5a374287":"..."},"ko":{"_5a374287":"..."},"mi":{"_5a374287":"..."},"nb":{"_5a374287":"..."},"nb-x-k12":{"_5a374287":"..."},"nl":{"_5a374287":"..."},"nn":{"_5a374287":"..."},"pl":{"_5a374287":"..."},"pt":{"_5a374287":"..."},"pt-BR":{"_5a374287":"..."},"ru":{"_5a374287":"..."},"sv":{"_5a374287":"..."},"sv-x-k12":{"_5a374287":"..."},"tr":{"_5a374287":"..."},"zh-Hans":{"_5a374287":"..."},"zh-Hant":{"_5a374287":"..."}}'))
d("jQeR"),d("0sPK")
var o=i.default.scoped("assignments_2_elide_string")
a.a=e=>e.length>21?"".concat(e.substr(0,9)).concat(o.t("...")).concat(e.substr(-9)):e},jpk2:function(e,a,d){"use strict"
d.r(a),d.d(a,"VIDEO_SIZE_OPTIONS",(function(){return S})),d.d(a,"default",(function(){return T}))
var i=d("An8g"),r=(d("yLL3"),d("17x9"),d("/1jZ")),o=d("+iUZ"),t=d("pQTu"),n=d("m0r6")
Object(n.a)(JSON.parse('{"ar":{"add_media_cfa37b54":"إضافة وسائط","record_upload_35dfb2ab":"تسجيل/تحميل","remove_filename_dab5c02e":"إزالة %{filename}"},"cy":{"add_media_cfa37b54":"Ychwanegu Cyfryngau","record_upload_35dfb2ab":"Recordio/ Llwytho i fyny","remove_filename_dab5c02e":"Tynnu %{filename}"},"da":{"add_media_cfa37b54":"Tilføj medie","record_upload_35dfb2ab":"Optag / upload","remove_filename_dab5c02e":"Fjern %{filename}"},"da-x-k12":{"add_media_cfa37b54":"Tilføj medie","record_upload_35dfb2ab":"Optag / upload","remove_filename_dab5c02e":"Fjern %{filename}"},"de":{"add_media_cfa37b54":"Medien hinzufügen","record_upload_35dfb2ab":"Aufzeichnen/Hochladen","remove_filename_dab5c02e":"%{filename} entfernen"},"en-AU":{"add_media_cfa37b54":"Add Media","record_upload_35dfb2ab":"Record/Upload","remove_filename_dab5c02e":"Remove %{filename}"},"en-CA":{"add_media_cfa37b54":"Add Media","record_upload_35dfb2ab":"Record/Upload","remove_filename_dab5c02e":"Remove %{filename}"},"en-GB":{"add_media_cfa37b54":"Add Media","record_upload_35dfb2ab":"Record/Upload","remove_filename_dab5c02e":"Remove %{filename}"},"es":{"add_media_cfa37b54":"Agregar multimedia","record_upload_35dfb2ab":"Grabar/cargar","remove_filename_dab5c02e":"Eliminar %{filename}"},"fi":{"add_media_cfa37b54":"Lisää tietoväline","record_upload_35dfb2ab":"Nauhoita/lataa","remove_filename_dab5c02e":"Poista %{filename}"},"fr":{"add_media_cfa37b54":"Ajouter support média","record_upload_35dfb2ab":"Enregistrer/Envoyer","remove_filename_dab5c02e":"Supprimer %{filename}"},"fr-CA":{"add_media_cfa37b54":"Ajouter support média","record_upload_35dfb2ab":"Enregistrer/téléverser","remove_filename_dab5c02e":"Retirer %{filename}"},"ht":{"add_media_cfa37b54":"Ajoute Medya","record_upload_35dfb2ab":"Anrejistre/Transfere","remove_filename_dab5c02e":"Elimine %{filename}"},"hu":{"remove_filename_dab5c02e":"%{filename}eltávolítása"},"is":{"add_media_cfa37b54":"Bæta við margmiðlunarefni","record_upload_35dfb2ab":"Taka/hlaða upp","remove_filename_dab5c02e":"Fjarlægja %{filename}"},"it":{"add_media_cfa37b54":"Aggiungi file multimediale","record_upload_35dfb2ab":"Registra/Carica","remove_filename_dab5c02e":"Rimuovi %{filename}"},"ja":{"add_media_cfa37b54":"メディアを追加","record_upload_35dfb2ab":"記録/アップロード","remove_filename_dab5c02e":"%{filename}を削除する"},"mi":{"add_media_cfa37b54":"Tāpiri pāpāho","record_upload_35dfb2ab":"Tāhopu/Kaweake","remove_filename_dab5c02e":"Tango %{filename}"},"nb":{"add_media_cfa37b54":"Legg til medie","record_upload_35dfb2ab":"Gjør opptak/last opp","remove_filename_dab5c02e":"Fjern %{filename}"},"nb-x-k12":{"add_media_cfa37b54":"Legg til medie","record_upload_35dfb2ab":"Gjør opptak/last opp","remove_filename_dab5c02e":"Fjern %{filename}"},"nl":{"add_media_cfa37b54":"Media toevoegen","record_upload_35dfb2ab":"Opnemen/uploaden","remove_filename_dab5c02e":"Verwijder %{filename}"},"nn":{"add_media_cfa37b54":"Legg til media","record_upload_35dfb2ab":"Ta opp / last opp","remove_filename_dab5c02e":"Fjern %{filename}"},"pl":{"add_media_cfa37b54":"Dodaj multimedia","record_upload_35dfb2ab":"Rejestruj/prześlij","remove_filename_dab5c02e":"Usuń %{filename}"},"pt":{"add_media_cfa37b54":"Adicionar mídia","record_upload_35dfb2ab":"Gravar/Carregar","remove_filename_dab5c02e":"Remover %{filename}"},"pt-BR":{"add_media_cfa37b54":"Adicionar mídia","record_upload_35dfb2ab":"Gravar/Carregar","remove_filename_dab5c02e":"Remover %{filename}"},"ru":{"add_media_cfa37b54":"Добавить носитель","record_upload_35dfb2ab":"Записать / загрузить","remove_filename_dab5c02e":"Удалить %{filename}"},"sv":{"add_media_cfa37b54":"Lägg till media","record_upload_35dfb2ab":"Spela in/ladda upp","remove_filename_dab5c02e":"Ta bort %{filename}"},"sv-x-k12":{"add_media_cfa37b54":"Lägg till media","record_upload_35dfb2ab":"Spela in/ladda upp","remove_filename_dab5c02e":"Ta bort %{filename}"},"zh-Hans":{"add_media_cfa37b54":"添加媒体","record_upload_35dfb2ab":"记录/上传","remove_filename_dab5c02e":"移除 %{filename}"},"zh-Hant":{"add_media_cfa37b54":"添加媒體","record_upload_35dfb2ab":"錄製/上傳","remove_filename_dab5c02e":"移除 %{filename}"}}'))
d("jQeR"),d("0sPK")
var m=t.default.scoped("assignments_2_media_attempt"),_=d("bKqk"),s=d("xHhu"),l=d("flbL"),c=d("q1tI"),b=d.n(c),f=d("WfMV"),p=(d("+M3D"),d("JobW")),u=d("q6TY"),v=d("agq5"),h=d("Xx/m"),g=d("TstA"),j=d("oBTd"),O=d("S4Kx")
const R=Object.keys(r.a).map(e=>({id:e,label:r.a[e]})),S={height:"400px",width:"768px"}
var y=Object(i.a)(_.a,{color:"brand"}),k=Object(i.a)(l.a,{})
class T extends b.a.Component{constructor(...e){super(...e),this.state={mediaModalOpen:!1,iframeURL:""},this.onComplete=(e,a)=>{this.props.updateUploadingFiles(!0),a.mediaObject.embedded_iframe_url&&this.setState({iframeURL:a.mediaObject.embedded_iframe_url}),this.props.createSubmissionDraft({variables:{id:this.props.submission.id,activeSubmissionType:"media_recording",attempt:this.props.submission.attempt||1,mediaId:a.mediaObject.media_object.media_id}})},this.onDismiss=()=>{this.setState({mediaModalOpen:!1})},this.handleRemoveFile=()=>{this.props.updateUploadingFiles(!0),this.props.createSubmissionDraft({variables:{id:this.props.submission.id,activeSubmissionType:"media_recording",attempt:this.props.submission.attempt||1}}),this.setState({iframeURL:""})},this.renderMediaPlayer=(e,a)=>{e.mediaSources.forEach(e=>{e.label="".concat(e.width,"x").concat(e.height)})
const d=e.mediaTracks.map(a=>({src:"/media_objects/".concat(e._id,"/media_tracks/").concat(a._id),label:a.locale,type:a.kind,language:a.locale})),r=0===e.mediaSources.length&&this.state.iframeURL
return Object(i.a)(g.a,{direction:"column",alignItems:"center"},void 0,Object(i.a)(g.a.Item,{"data-testid":"media-recording",width:"100%"},void 0,r?Object(i.a)("div",{style:{position:"relative",width:"100%",height:"0",paddingBottom:"56.25%"}},void 0,Object(i.a)("iframe",{src:this.state.iframeURL,title:"preview",style:{position:"absolute",border:"none",minWidth:"100%",minHeight:"100%"}})):Object(i.a)(j.d,{tracks:d,sources:e.mediaSources})),Object(i.a)(g.a.Item,{overflowY:"visible",margin:"medium 0"},void 0,Object(i.a)("span",{"aria-hidden":!0,title:e.title},void 0,Object(o.a)(e.title)),Object(i.a)(f.a,{},void 0,e.title),a&&Object(i.a)(h.a,{"data-testid":"remove-media-recording",icon:s.a,id:e.id,margin:"0 0 0 x-small",onClick:this.handleRemoveFile,size:"small"},void 0,Object(i.a)(f.a,{},void 0,m.t("Remove %{filename}",{filename:e.title})))))},this.renderSubmissionDraft=()=>{const e=this.props.submission.submissionDraft.mediaObject
return this.renderMediaPlayer(e,!0)},this.renderSubmission=()=>{const e=this.props.submission.mediaObject
return this.renderMediaPlayer(e,!1)},this.renderMediaUpload=()=>Object(i.a)(O.a,{as:"div",borderWidth:"small"},void 0,Object(i.a)(p.default,{onUploadComplete:this.onComplete,onDismiss:this.onDismiss,contextId:this.props.assignment.env.courseId,contextType:"course",open:this.state.mediaModalOpen,tabs:{embed:!1,record:!0,upload:!0},uploadMediaTranslations:{UploadMediaStrings:u.b,MediaCaptureStrings:u.a},liveRegion:()=>document.getElementById("flash_screenreader_holder"),languages:R}),Object(i.a)(v.a,{heading:m.t("Add Media"),hero:y,message:Object(i.a)(h.a,{size:"small","data-testid":"media-modal-launch-button",variant:"primary",onClick:()=>this.setState({mediaModalOpen:!0})},void 0,m.t("Record/Upload"))}))}render(){var e,a
return this.props.uploadingFiles?k:["submitted","graded"].includes(this.props.submission.state)?this.renderSubmission():(null===(e=this.props.submission.submissionDraft)||void 0===e||null===(a=e.mediaObject)||void 0===a?void 0:a._id)?this.renderSubmissionDraft():this.renderMediaUpload()}}}}])

//# sourceMappingURL=564-c-5e9847c49e.js.map