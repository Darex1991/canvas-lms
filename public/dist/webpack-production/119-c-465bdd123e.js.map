{"version":3,"sources":["webpack:///./node_modules/redux-devtools-extension/developmentOnly.js","webpack:///./node_modules/parse-link-header/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/getCssText.js","webpack:///./node_modules/redux-actions/es/utils/isMap.js","webpack:///./node_modules/redux-actions/es/constants.js","webpack:///./packages/canvas-planner/lib/components/responsiviser.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/parseCss.js","webpack:///./node_modules/redux-promise/lib/index.js","webpack:///./node_modules/to-no-case/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/index.js","webpack:///./node_modules/@instructure/ui-elements/es/Text/theme.js","webpack:///./node_modules/esrever/esrever.js","webpack:///./node_modules/pascal-case/pascal-case.js","webpack:///./node_modules/@instructure/ui-expandable/node_modules/@instructure/uid/es/uid.js","webpack:///./node_modules/@instructure/ui-expandable/es/Expandable/index.js","webpack:///./node_modules/@instructure/ui-expandable/node_modules/@instructure/ui-react-utils/es/polyfill.js","webpack:///./app/jsx/shared/helpers/createStore.js","webpack:///./node_modules/@instructure/ui-utils/es/cloneArray.js","webpack:///./node_modules/lower-case/lower-case.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/applyCustomMediaToCss.js","webpack:///./node_modules/is-lower-case/is-lower-case.js","webpack:///./node_modules/redux-actions/es/utils/identity.js","webpack:///./node_modules/to-camel-case/index.js","webpack:///./node_modules/redux-actions/es/utils/isArray.js","webpack:///./node_modules/redux-actions/es/utils/isString.js","webpack:///./node_modules/redux-actions/es/utils/getLastElement.js","webpack:///./node_modules/redux-actions/es/utils/camelCase.js","webpack:///./node_modules/redux-actions/es/utils/arrayToObject.js","webpack:///./node_modules/redux-actions/es/utils/flattenActionMap.js","webpack:///./node_modules/redux-actions/es/utils/unflattenActionCreators.js","webpack:///./node_modules/redux-actions/es/utils/isEmpty.js","webpack:///./node_modules/redux-actions/es/createActions.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/customPropertiesSupported.js","webpack:///./node_modules/no-case/vendor/non-word-regexp.js","webpack:///./node_modules/constant-case/constant-case.js","webpack:///./node_modules/is-promise/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/formatVariableName.js","webpack:///./node_modules/path-case/path-case.js","webpack:///./node_modules/redux-actions/es/utils/toString.js","webpack:///./node_modules/redux-actions/es/handleAction.js","webpack:///./node_modules/redux-actions/es/utils/isUndefined.js","webpack:///./node_modules/to-space-case/index.js","webpack:///./node_modules/@instructure/ui-dom-utils/es/isVisible.js","webpack:///./node_modules/no-case/no-case.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ThemeRegistry.js","webpack:///./node_modules/no-case/vendor/camel-case-regexp.js","webpack:///./node_modules/xtend/immutable.js","webpack:///./node_modules/redux-actions/es/utils/isFunction.js","webpack:///./node_modules/swap-case/swap-case.js","webpack:///./node_modules/redux-actions/es/utils/get.js","webpack:///./node_modules/velocity-animate/velocity.js","webpack:///./node_modules/upper-case-first/upper-case-first.js","webpack:///./node_modules/no-case/vendor/camel-case-upper-regexp.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/formatVariableNames.js","webpack:///./node_modules/react-moment-proptypes/src/index.js","webpack:///./node_modules/change-case/change-case.js","webpack:///./node_modules/redux-actions/es/utils/isNull.js","webpack:///./node_modules/redux-actions/es/createAction.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/flux-standard-action/lib/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/uid/es/uid.js","webpack:///./node_modules/redux-actions/es/utils/flattenWhenNode.js","webpack:///./node_modules/react-moment-proptypes/src/moment-validation-wrapper.js","webpack:///./node_modules/lower-case-first/lower-case-first.js","webpack:///./node_modules/reduce-reducers/es/index.js","webpack:///./node_modules/redux-actions/es/utils/flattenReducerMap.js","webpack:///./node_modules/redux-actions/es/utils/hasGeneratorInterface.js","webpack:///./node_modules/redux-actions/es/handleActions.js","webpack:///./node_modules/redux-actions/es/utils/ownKeys.js","webpack:///./node_modules/camel-case/camel-case.js","webpack:///./node_modules/is-upper-case/is-upper-case.js","webpack:///./node_modules/dot-case/dot-case.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/transformCss.js","webpack:///./node_modules/react-moment-proptypes/src/core.js","webpack:///./node_modules/upper-case/upper-case.js","webpack:///./node_modules/snake-case/snake-case.js","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js","webpack:///./node_modules/sentence-case/sentence-case.js","webpack:///./node_modules/header-case/header-case.js","webpack:///./node_modules/param-case/param-case.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/safeCloneElement.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/ensureSingleChild.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ThemeContext.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ApplyTheme/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ThemeablePropValues.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/applyVariablesToNode.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/getShorthandPropValue.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/makeThemeVars.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/mirrorShorthand.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/mirrorShorthandCorners.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/setTextDirection.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ThemeablePropTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/cleanCss.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/ruleTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/createThemeAdapter.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-decorator/es/decorator.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/getTextDirection.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/TextDirectionContext.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/bidirectional.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/getElementType.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/View/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/passthroughProps.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/View/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/deprecated.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-view/es/View/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-view/es/View/themeAdapter.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-view/es/View/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/callRenderProp.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-spinner/es/Spinner/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-spinner/es/Spinner/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Spinner/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Spinner/theme.js","webpack:///./packages/canvas-planner/lib/components/plannerPropTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Heading/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Heading/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Text/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Text/theme.js","webpack:///./packages/canvas-planner/lib/format-message.js","webpack:///./packages/canvas-planner/lib/utilities/dateUtils.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Avatar/index.js","webpack:///./packages/canvas-planner/lib/components/Grouping/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Avatar/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Tooltip/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Tooltip/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Pill/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/debounce/es/debounce.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/hack.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/utils/measureText.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/utils/cleanString.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/utils/cleanData.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/utils/truncate.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Pill/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-svg-images/es/InlineSVG/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/TruncateText/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-svg-images/es/InlineSVG/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-svg-images/es/SVGIcon/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-svg-images/es/SVGIcon/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconCheckMarkSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/CheckboxFacade/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/CheckboxFacade/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormPropTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/getDisplayName.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/matchComponentTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/GridCol/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/GridRow/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/Grid/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldLabel/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/GridCol/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/GridRow/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-grid/es/Grid/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldLabel/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldMessage/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldMessage/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldMessages/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldLayout/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldMessages/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldLayout/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormField/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldGroup/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-form-field/es/FormFieldGroup/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconCheckSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconXSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/ToggleFacade/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/ToggleFacade/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/ScreenReaderContent/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/PresentationContent/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-checkbox/es/Checkbox/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/getInteraction.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/BaseButton/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/BaseButton/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/DeprecatedButton/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/DeprecatedButton/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/Button/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/Button/themeAdapter.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/Button/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconAssignmentLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconQuizLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconDiscussionLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconAnnouncementLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconCalendarMonthLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconDocumentLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconPeerReviewLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconEditLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/jsonToMediaQuery.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Badge/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/LayoutPropTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Badge/theme.js","webpack:///./packages/canvas-planner/lib/components/NotificationBadge/Indicator.js","webpack:///./packages/canvas-planner/lib/components/NotificationBadge/MissingIndicator.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animatable.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/middleware.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animatable-registry.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animator.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animation.js","webpack:///./packages/canvas-planner/lib/utilities/daysUtils.js","webpack:///./packages/canvas-planner/lib/utilities/statusUtils.js","webpack:///./packages/canvas-planner/lib/utilities/apiUtils.js","webpack:///./packages/canvas-planner/lib/utilities/alertUtils.js","webpack:///./packages/canvas-planner/lib/actions/loading-actions.js","webpack:///./packages/canvas-planner/lib/utilities/redux-identifiable-thunk.js","webpack:///./packages/canvas-planner/lib/actions/sidebar-actions.js","webpack:///./packages/canvas-planner/lib/utilities/configureAxios.js","webpack:///./packages/canvas-planner/lib/actions/index.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/util.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/scroll-to-today.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animation-collection.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/continue-initial-load.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/scroll-to-new-activity.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/scroll-to-last-loaded-new-activity.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/maintain-scroll-position-when-scrolling-into-the-past.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/focus-prior-item-on-load-more.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/focus-item-on-save.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/return-focus-on-cancel-editing.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/focus-prior-item-on-delete.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/animations/scroll-to-loaded-today.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/manager.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/notifier.js","webpack:///./packages/canvas-planner/lib/dynamic-ui/provider.js","webpack:///./packages/canvas-planner/lib/components/NotificationBadge/NewActivityIndicator.js","webpack:///./packages/canvas-planner/lib/components/NotificationBadge/index.js","webpack:///./packages/canvas-planner/lib/components/NotificationBadge/theme.js","webpack:///./packages/canvas-planner/lib/components/BadgeList/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/CloseButton/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/List/ListItem/index.js","webpack:///./packages/canvas-planner/lib/components/BadgeList/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/CloseButton/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/List/ListItem/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/List/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/List/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/polyfill.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-motion/es/Transition/BaseTransition.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-motion/es/Transition/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-portal/es/Portal/ReactPortal.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-portal/es/Portal/SubtreePortal.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-motion/es/Transition/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-portal/es/Portal/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Mask/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Mask/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalHeader/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalBody/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalFooter/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalHeader/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalBody/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/ModalFooter/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Modal/theme.js","webpack:///./packages/canvas-planner/lib/utilities/contentUtils.js","webpack:///./packages/canvas-planner/lib/components/CalendarEventModal/index.js","webpack:///./packages/canvas-planner/lib/components/PlannerItem/theme.js","webpack:///./packages/canvas-planner/lib/components/PlannerItem/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowOpenEndSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowOpenDownSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-toggle-details/es/ToggleDetails/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-toggle-details/es/ToggleDetails/theme.js","webpack:///./packages/canvas-planner/lib/components/CompletedItemsFacade/index.js","webpack:///./packages/canvas-planner/lib/components/CompletedItemsFacade/theme.js","webpack:///./packages/canvas-planner/lib/components/Grouping/index.js","webpack:///./packages/canvas-planner/lib/components/Day/index.js","webpack:///./packages/canvas-planner/lib/components/Day/theme.js","webpack:///./packages/canvas-planner/lib/components/EmptyDays/index.js","webpack:///./packages/canvas-planner/lib/components/EmptyDays/theme.js","webpack:///./packages/canvas-planner/lib/components/ShowOnFocusButton/index.js","webpack:///./packages/canvas-planner/lib/components/ShowOnFocusButton/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconNoSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconInfoBorderlessSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconWarningBorderlessSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-alerts/es/Alert/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-alerts/es/Alert/theme.js","webpack:///./packages/canvas-planner/lib/components/ErrorAlert/index.js","webpack:///./packages/canvas-planner/lib/components/LoadingFutureIndicator/index.js","webpack:///./packages/canvas-planner/lib/components/LoadingPastIndicator/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Link/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-elements/es/Link/theme.js","webpack:///./packages/canvas-planner/lib/components/PlannerEmptyState/index.js","webpack:///./packages/canvas-planner/lib/components/PlannerEmptyState/theme.js","webpack:///./packages/canvas-planner/lib/components/PlannerApp/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/AccessibleContent/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconAlertsLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconPlusLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconGradebookLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-react-utils/es/ComponentIdentifier.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Popover/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Tray/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-overlays/es/Tray/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/DateTime.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/Locale.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-i18n/es/I18nPropTypes.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-text-input/es/TextInput/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-text-input/es/TextInput/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-buttons/es/IconButton/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowOpenStartSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/DatePicker/DatePickerPagination/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/DatePicker/DatePickerPagination/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/DatePicker/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/utils/dateHelpers.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/DatePicker/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateInput/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/Position/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-layout/es/Position/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowOpenDownLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectOptionsList/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/utils/getOptionId.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectOptionsList/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectField/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectField/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectSingle/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tag/es/Tag/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tag/es/Tag/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectMultiple/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/SelectMultiple/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/Select/utils/parseOptions.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/TimeInput/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/TimeInput/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-forms/es/DateTimeInput/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-text-area/es/TextArea/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-text-area/es/TextArea/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowOpenUpLine.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-select/es/Select/Option/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-select/es/Select/Group/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-select/es/Select/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-select/es/Select/theme.js","webpack:///./packages/canvas-planner/lib/CanvasSelect.js","webpack:///./packages/canvas-planner/lib/components/UpdateItemTray/index.js","webpack:///./packages/canvas-planner/lib/components/UpdateItemTray/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/findFocusable.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/findTabbable.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-a11y/es/scopeTab.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-focusable/es/Focusable/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/Tab/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/Tab/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/Panel/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/Panel/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-tabs/es/Tabs/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconXLine.js","webpack:///./packages/canvas-planner/lib/components/Opportunity/index.js","webpack:///./packages/canvas-planner/lib/components/Opportunity/theme.js","webpack:///./packages/canvas-planner/lib/components/Opportunities/index.js","webpack:///./packages/canvas-planner/lib/components/Opportunities/theme.js","webpack:///./packages/canvas-planner/lib/components/GradesDisplay/theme.js","webpack:///./packages/canvas-planner/lib/components/GradesDisplay/index.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowUpSolid.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconArrowDownLine.js","webpack:///./packages/canvas-planner/lib/components/StickyButton/theme.js","webpack:///./packages/canvas-planner/lib/components/StickyButton/index.js","webpack:///./packages/canvas-planner/lib/components/PlannerHeader/index.js","webpack:///./packages/canvas-planner/lib/components/PlannerHeader/theme.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-icons/es/IconNoteLine.js","webpack:///./packages/canvas-planner/lib/components/ToDoSidebar/ToDoItem.js","webpack:///./packages/canvas-planner/lib/components/ToDoSidebar/index.js","webpack:///./packages/canvas-planner/lib/i18n/flip-message.js","webpack:///./packages/canvas-planner/lib/i18n/indexLocales.js","webpack:///./packages/canvas-planner/lib/i18n/index.js","webpack:///./node_modules/redux-saga/es/internal/utils.js","webpack:///./node_modules/redux-saga/es/internal/buffers.js","webpack:///./node_modules/redux-saga/es/internal/scheduler.js","webpack:///./node_modules/redux-saga/es/internal/channel.js","webpack:///./node_modules/redux-saga/es/internal/io.js","webpack:///./node_modules/redux-saga/es/internal/proc.js","webpack:///./node_modules/redux-saga/es/internal/runSaga.js","webpack:///./node_modules/redux-saga/es/internal/middleware.js","webpack:///./node_modules/redux-saga/es/internal/sagaHelpers/fsmIterator.js","webpack:///./node_modules/redux-saga/es/internal/sagaHelpers/takeEvery.js","webpack:///./node_modules/redux-saga/es/internal/io-helpers.js","webpack:///./node_modules/redux-saga/es/index.js","webpack:///./packages/canvas-planner/lib/reducers/days-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/loading-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/courses-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/groups-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/opportunities-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/todo-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/ui-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/save-item-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/sidebar-reducer.js","webpack:///./packages/canvas-planner/lib/reducers/index.js","webpack:///./packages/canvas-planner/lib/actions/saga-actions.js","webpack:///./packages/canvas-planner/lib/actions/sagas.js","webpack:///./packages/canvas-planner/lib/utilities/scrollUtils.js","webpack:///./packages/canvas-planner/lib/index.js","webpack:///./packages/canvas-planner/lib/store/configureStore.js","webpack:///./node_modules/redux-actions/es/utils/isPlainObject.js","webpack:///./node_modules/redux-actions/es/utils/isNil.js","webpack:///./packages/canvas-planner/node_modules/@instructure/ui-themeable/es/replaceValuesWithVariableNames.js","webpack:///./node_modules/title-case/title-case.js"],"names":["compose","exports","__esModule","composeWithDevTools","arguments","length","apply","devToolsEnhancer","noop","qs","url","xtend","hasRel","x","rel","intoRels","acc","split","forEach","createObjects","p","m","match","parseLink","link","linkUrl","parts","parsedUrl","parse","qry","query","shift","info","reduce","e","module","linkHeader","map","filter","getCssText","getCssTextWithVariables","this","getCssTextWithPolyfill","template","variables","cssText","customMedia","prefix","variablesToCSSText","join","rules","key","Object","prototype","hasOwnProperty","call","push","concat","Map","value","DEFAULT_NAMESPACE","ACTION_TYPE_DELIMITER","responsiviser","ComposedComponent","ResponsiveComponent","Component","props","super","size","mqwatcher","add","state","remove","event","setState","createElement","assign","responsiveSize","propTypes","defaultProps","displayName","interestedParties","mediaQueries","onChangeLayout","newSize","target","small","matches","medium","notifyAll","window","matchMedia","onchange","handleResize","clearTimeout","resizeTimer","setTimeout","onChangeSize","addEventListener","removeEventListener","interestedParty","setup","i","indexOf","splice","teardown","g","parseCss","cleaned","cleanCss","parseLexed","lex","ruleTypes","style","keyframes","media","text","replace","rootNode","start","end","node","char","parent","previous","parseSelector","selector","substring","lastIndexOf","trim","parseRuleType","type","rule","defineProperty","default","_ref","dispatch","next","action","_fluxStandardAction","isFSA","_isPromise","payload","then","result","_objectSpread","catch","error","Promise","reject","obj","source","ownKeys","keys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","enumerable","_defineProperty","configurable","writable","string","hasSpace","test","toLowerCase","hasSeparator","separatorSplitter","unseparate","hasCamel","camelSplitter","uppers","uncamelize","originalModule","webpackPolyfill","create","children","get","l","_class","_class2","_temp","generator","typography","colors","spacing","primaryInverseColor","textLightest","primaryColor","textDarkest","secondaryColor","textDark","secondaryInverseColor","textLight","warningColor","textWarning","brandColor","textBrand","errorColor","textDanger","successColor","textSuccess","alertColor","textAlert","paragraphMargin","canvas","styles","componentId","theme","fontFamily","fontFamilyMonospace","fontWeightBold","fontWeightNormal","fontWeightLight","fontSizeXSmall","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeXLarge","fontSizeXXLarge","lineHeight","lineHeightFit","lineHeightCondensed","lineHeightDouble","letterSpacingNormal","letterSpacingCondensed","letterSpacingExpanded","deprecated","_dec","_dec2","_Component","Text","_classnames","_this$props","wrap","weight","fontStyle","letterSpacing","transform","color","ElementType","getElementType","className","root","ref","elementRef","as","elementType","oneOf","func","freeExports","freeGlobal","global","regexSymbolWithCombiningMarks","regexSurrogatePair","reverse","index","$0","$1","$2","charAt","esrever","camelCase","upperCaseFirst","locale","mergeNumbers","dictionary","dictionaryLengthMinus1","uid","id","_uid","_random","Math","floor","random","_ignored","idLength","bytes","toggleExpanded","expanded","Expandable","_this","handleToggle","isControlled","onToggle","defaultExpanded","_contentId","_this2","_this$props$render","render","getToggleProps","onClick","createChainedFunction","getDetailsProps","nextProps","controllable","bool","createStore","initialState","events","Backbone","Events","newState","emitChange","getState","clearState","addChangeListener","listener","on","removeChangeListener","off","trigger","cloneArray","arr","copy","Array","isArray","slice","LANGUAGES","tr","regexp","az","lt","str","lang","String","applyCustomMediaToCss","regex","matcher","lastIndex","RegExp","exec","getMatches","vars","lowerCase","space","letter","toUpperCase","array","partialObject","element","callback","flattenWhenNode","isPlainObject","unflattenActionCreators","flatActionCreators","_ref$namespace","namespace","nestedActionCreators","getOwnPropertyNames","unprefixedType","unflatten","flatActionType","partialNestedActionCreators","partialFlatActionTypePath","nextNamespace","createActions","actionMap","_len","identityActions","_key","options","getLastElement","pop","every","isString","actionCreatorsFromIdentityActions","actionCreatorsFromActionMap","actionMapToActionCreators","flattenActionMap","arrayToObject","partialActionCreators","_objectSpread2","actionMapValue","isFunction","isNil","_actionMapValue$","identity","meta","isValidActionMapValue","prefixedType","actionCreator","createAction","actionCreators","partialActionMap","_objectSpread3","_objectSpread4","cachedReturnVal","customPropertiesSupported","environmentIsJSDOM","navigator","userAgent","includes","browserSupportsCustomProperties","CSS","supports","upperCase","snakeCase","formatVariableName","variableName","name","noCase","toString","handleAction","reducer","defaultState","types","undefined","throw","aReducer","nextReducer","throwReducer","actionType","clean","isVisible","el","recursive","document","body","parentNode","nodeType","display","visibility","opacity","overflow","position","clip","rect","zeros","a","NON_WORD_REGEXP","CAMEL_CASE_REGEXP","CAMEL_CASE_UPPER_REGEXP","replacement","symbolObservablePonyfill","Symbol","observable","DEFAULT_THEME_KEY","makeRegistry","styleSheet","defaultThemeKey","components","themes","registered","setRegistry","registry","clearRegistry","defaultRegistry","validateRegistry","c","u","jQuery","$","context","fn","init","isWindow","class2type","constructor","hasOwn","each","args","isArraylike","data","getId","expando","store","cache","setId","uuid","removeData","_","extend","src","copyIsArray","clone","deep","queue","elem","results","ret","q","first","second","len","j","dequeue","elems","unshift","Error","offset","box","getBoundingClientRect","top","left","pageYOffset","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","offsetParent","nodeName","offsetParentFn","parentOffset","parseFloat","marginTop","marginLeft","borderTopWidth","borderLeftWidth","Date","getTime","Velocity","Utilities","factory","timeLast","IE","documentMode","div","innerHTML","getElementsByTagName","rAFShim","webkitRequestAnimationFrame","mozRequestAnimationFrame","timeDelta","timeCurrent","max","performance","perf","now","nowOffset","timing","navigationStart","_slice","documentElement","begin","cloned","min","_inArray","val","sanitizeElements","elements","Type","isWrapped","isNode","isNumber","variable","isSVG","SVGElement","isEmptyObject","isJQuery","jquery","State","isMobile","isAndroid","isGingerbread","isChrome","chrome","isFirefox","prefixElement","prefixMatches","scrollAnchor","scrollPropertyLeft","scrollPropertyTop","isTicking","calls","delayedElements","count","Redirects","Easings","defaults","duration","easing","complete","progress","loop","delay","mobileHA","_cacheValues","promiseRejectEmpty","isAnimating","computedStyle","tweensContainer","rootPropertyValueCache","transformCache","hook","mock","version","major","minor","patch","debug","timestamp","pauseAll","queueName","currentTime","activeCall","resume","k","pauseDelayOnElement","resumeAll","resumeDelayOnElement","generateSpringRK4","springAccelerationForState","tension","friction","v","springEvaluateStateWithDerivative","dt","derivative","dx","dv","springIntegrateState","b","d","dxdt","dvdt","springRK4Factory","have_duration","last_state","initState","path","time_lapsed","abs","percentComplete","linear","swing","cos","PI","spring","exp","easingArray","generateBezier","RegEx","isHex","valueUnwrap","wrappedValueAlreadyExtracted","valueSplit","Lists","transformsBase","transforms3D","units","colorNames","Hooks","templates","register","rgbComponents","rootProperty","hookTemplate","hookNames","defaultValues","fullHookName","hookPosition","getRoot","property","hookData","getUnit","unit","substr","fixColors","cleanRootPropertyValue","rootPropertyValue","Values","isCSSNullValue","extractValue","hookRoot","injectValue","hookValue","rootPropertyValueParts","Normalizations","propertyValue","extracted","blur","blurComponent","zoom","parseInt","transformName","Data","invalid","colorName","converted","black","blue","gray","green","red","white","hexToRgb","augmentDimension","wantInner","getPropertyValue","augment","sides","fields","isNaN","getDimension","innerWidth","innerHeight","outerWidth","outerHeight","Names","subMatch","SVGAttribute","SVGAttributes","prefixCheck","vendors","vendorsLength","propertyPrefixed","hex","rgbParts","r","getUnitType","getDisplayType","tagName","addClass","classList","currentClass","getAttribute","setAttribute","removeClass","forceStyleLookup","computePropertyValue","computedValue","css","toggleDisplay","setPropertyValue","revertDisplay","contentBoxHeight","offsetHeight","contentBoxWidth","offsetWidth","getComputedStyle","normalizedPropertyName","normalizedPropertyValue","getBBox","console","log","scrollData","propertyName","container","direction","scrollTo","alternateValue","hookName","flushTransformCache","transformString","getTransformFloat","transformProperty","SVGTransforms","translate","skewX","skewY","scale","rotate","transformValue","perspective","arg2","arg3","adjustedSet","animate","opts","getChain","isUtility","promiseData","promise","elementsWrapped","argumentIndex","propertiesMap","syntacticSugar","properties","names","resolver","rejecter","resolve","o","elementsLength","elementsIndex","startingArgumentPosition","found","activeElement","delayTimer","item","callsToStop","activeTween","endValue","currentValue","completeCall","durationOriginal","delayOriginal","backwards","elementIndex","stagger","drag","abortError","callUnitConversionData","lastParent","lastPosition","lastFontSize","lastPercentToPxWidth","lastPercentToPxHeight","lastEmToPx","remToPx","vwToPx","vhToPx","processElement","reverseCallsCount","reverseOptions","elementArrayIndex","elementUnitConversionData","clearQueue","velocityQueueEntryFlag","callIndex","delayComplete","delayBegin","buildQueue","lastTweensContainer","scrollPositionCurrent","scrollPositionCurrentAlternate","scrollPositionEnd","scrollDirection","axis","scrollOffset","scroll","startValue","unitType","lastTween","lastStartValue","JSON","stringify","parsePropertyValue","valueData","skipResolvingEasing","getEasing","fixPropertyValue","pattern","separatedValue","endValueUnitType","startValueUnitType","operator","separateValue","numericValue","iStart","iEnd","aStart","aEnd","inCalc","inRGB","inRGBA","cStart","cEnd","tStart","tEnd","dotStart","dotEnd","uStart","uEnd","nStart","nEnd","sameRatioIndicators","myParent","fontSize","samePercentRatio","sameEmRatio","unitRatios","emToPx","percentToPxWidth","percentToPxHeight","dummy","createElementNS","appendChild","measurement","removeChild","calculateUnitRatios","colorComponents","endValueRGB","startValueRGB","dataArray","tick","ticker","requestAnimationFrame","hidden","updateTicker","velocity","elementsSize","inlineValues","computedValues","height","marginBottom","paddingTop","paddingBottom","response","delayPaused","delayRemaining","generateStep","steps","round","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","isFinite","mSampleValues","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","newtonRaphsonIterate","aX","aGuessT","currentSlope","calcSampleValues","binarySubdivide","aA","aB","currentX","currentT","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","_precomputed","precompute","f","getControlPoints","y","callsLength","compactSparseArray","callContainer","timeStart","firstTick","tweenDummyValue","pauseObject","millisecondsEllapsed","callLength","transformPropertyExists","flexValue","tween","patternReplace","tweenDelta","adjustedSetData","translate3d","isStopped","remainingCallsExist","transformHAPropertyExists","defaultValue","tweenContainer","oldStartValue","Zepto","formatVariableNames","formatted","moment","momentValidationWrapper","core","momentObj","createMomentChecker","isValidMoment","momentString","momentDurationObj","isDuration","no","dot","dotCase","swap","swapCase","pathCase","upper","lower","camel","snake","title","titleCase","param","paramCase","kebab","kebabCase","hyphen","hyphenCase","header","headerCase","pascal","pascalCase","constant","constantCase","sentence","sentenceCase","isUpper","isUpperCase","isLower","isLowerCase","ucFirst","lcFirst","lowerCaseFirst","payloadCreator","metaCreator","isNull","finalPayloadCreator","head","hasMeta","typeString","self","isError","_lodash","isValidKey","flatten","partialFlatMap","partialFlatActionType","connectPrefix","_ref2","partials","t","connectNamespace","mapValue","predicate","testMoment","isMoment","isValid","reducers","TypeError","prevState","_len2","_key2","prevStateIsUndefined","valueIsUndefined","isMap","handler","hasOnlyInterfaceNames","ownKey","handleActions","handlers","flattenedReducerMap","flattenReducerMap","object","from","Reflect","transformCss","transformNode","transformed","toCssText","isKeyframesSelector","toRules","_cssText","suffix","messages","invalidPredicate","invalidPropValidator","requiredCore","invalidTypeCore","predicateFailureCore","anonymousMessage","baseInvalidMessage","constructPropValidatorVariations","propValidator","requiredPropValidator","bind","isRequired","withPredicate","basePropValidator","createInvalidRequiredErrorMessage","propName","componentName","typeValidator","validator","momentType","location","propFullName","propValue","propType","preValidationRequireCheckValue","isPropValueUndefined","isPropValueNull","preValidationRequireCheck","predicateName","mergeI18nTranslations","scoped","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","html","attr","mathmlSpan","toMediaCommentLink","$link","htmlEscape","convert","$dummy","find","replaceWith","forEditing","$this","uniqueId","ENV","files_domain","$form","append","submit","I18n","equationImage","removeAttr","after","safeCloneElement","cloneRef","originalRef","mergedProps","prop","cloneElement","component","ensureSingleChild","child","childCount","ThemeContext","CONTEXT_KEY","makeThemeContext","immutable","getThemeContext","ApplyTheme","parentThemeContext","mergeDeep","childContextTypes","contextTypes","generateTheme","ThemeablePropValues","SHADOW_TYPES","resting","above","topmost","none","STACKING_TYPES","deepest","below","BORDER_WIDTHS","large","BORDER_RADII","circle","pill","BACKGROUNDS","inverse","transparent","SIZES","xSmall","xLarge","SPACING","auto","xxxSmall","xxSmall","xxLarge","getShorthandPropValue","componentTheme","shortHandValue","themeVariableName","camelize","themeVariableValue","makeThemeVars","themeVars","mirrorShorthandEdges","values","valuesArr","mirrorShorthandCorners","_ref3","ThemeablePropTypes","shadow","stacking","borderWidth","shorthandPropType","borderRadius","background","validValues","propValueType","propValues","valuesLength","_ref$map","_ref$shouldIncludeOld","shouldIncludeOldValues","_ref2$theme","entries","_ref4","updatedThemeVars","updatedVar","decorator","decorate","DecoratedComponent","defaultDir","dirAttribute","observer","DIRECTION","ltr","rtl","TextDirectionContext","shape","dir","makeTextDirectionContext","getTextDirectionContext","getTextDirection","canUseDOM","htmlEl","MutationObserver","observe","attributes","_ComposedComponent","BidirectionalComponent","getDefault","href","to","omitProps","exclude","originalObject","newObject","omit","pickProps","include","res","idx","pick","validProps","borders","shadows","breakpoints","transitions","oxford","borderStyle","borderColorDefault","borderMedium","borderColorSuccess","borderSuccess","borderColorBrand","borderBrand","borderColorInfo","borderInfo","borderColorAlert","borderAlert","borderColorWarning","borderWarning","borderColorDanger","borderDanger","borderColorInverse","borderRadiusSmall","radiusSmall","borderRadiusMedium","radiusMedium","borderRadiusLarge","radiusLarge","colorInverse","debugOutlineColor","borderDebug","backgroundLightest","backgroundLight","backgroundInverse","backgroundBrandSecondary","backgroundBrand","backgroundAlert","backgroundInfo","backgroundSuccess","backgroundDanger","backgroundWarning","arrowSize","focusOutlineStyle","focusOutlineWidth","widthMedium","focusOutlineOffset","focusOutlineInset","focusColorInfo","focusColorDanger","focusColorSuccess","focusColorInverse","borderLightest","xSmallMaxWidth","smallMaxWidth","mediumMaxWidth","largeMaxWidth","stackingTopmost","stackingAbove","stackingBelow","stackingDeepest","shadowTopmost","shadowResting","shadowAbove","focusOutlineColorDefault","View","_getPrototypeOf2","handleElementRef","_element","verifyUniformValues","input","inputValue","textAlign","width","minWidth","minHeight","maxWidth","maxHeight","overflowX","overflowY","focusPosition","focusColor","shouldAnimateFocus","borderColor","focusOutlineClasses","focusRingRadius","classes","hasBorder","focused","isFocused","spacingStyle","offsetStyle","styleProps","_this$props2","_this$props3","_this$props4","margin","padding","_this$props5","insetBlockStart","insetBlockEnd","insetInlineStart","insetInlineEnd","blockStart","blockEnd","bottom","horizontalOffsets","right","_this$props6","cursor","whitelisted","oneOfType","number","omitViewProps","_deprecated","deprecatePropValues","warnDeprecatedProps","warnDeprecatedComponent","changedPackageWarning","colorPrimaryInverse","borderColorPrimary","borderColorSecondary","borderDark","borderColorTransparent","backgroundPrimary","backgroundSecondary","backgroundPrimaryInverse","backgroundDarkest","themeAdapter","visualDebug","_dec3","initialValue","withVisualDebug","withFocusOutline","focus","shouldUseBrowserFocus","focusAnimation","withBorder","_this$props$borderRad","callRenderProp","isReactComponent","trackColor","xSmallSize","xSmallBorderWidth","smallSize","smallBorderWidth","mediumSize","mediumBorderWidth","largeSize","largeBorderWidth","inverseColor","testable","Spinner","titleId","_classes","variant","ie11","isIE11","passthroughProps","renderTitle","role","focusable","circleTrack","cx","cy","radius","circleSpin","inverseTrackColor","userShape","avatarUrl","badgeShape","courseShape","longName","enrollmentType","itemShape","opportunityShape","items","arrayOf","nextUrl","sizeShape","statusShape","excused","graded","has_feedback","late","missing","needs_grading","submitted","feedbackShape","author_avatar_url","author_name","comment","is_media","fontWeight","h1FontSize","h1FontWeight","h2FontSize","h2FontWeight","h3FontSize","h3FontWeight","h4FontSize","h4FontWeight","h5FontSize","h5FontWeight","borderPadding","widthSmall","Heading","border","level","ellipsis","childrenOrValue","dateTimeFormatters","getTodaysDetails","today","yesterday","subtract","tomorrow","isToday","date","momentizedDate","isSame","isInMomentRange","checkMoment","firstMoment","lastMoment","isOnOrAfterFirst","isAfter","isOnOrBeforeLast","isBefore","getFullDate","_getTodaysDetails","some","sd","isSpecialDay","format","getShortDate","timeString","timeZone","toISOString","timezone","dateTimeString","datetimeString","formatDayKey","ISO_8601","getFirstLoadedMoment","days","tz","startOf","firstLoadedDay","firstLoadedItem","dateBucketMoment","groupColor","brand","borderTopWidthTablet","heroMinHeight","heroWidth","heroWidthLarge","heroPadding","heroColor","heroBorderRadius","overlayOpacity","titleFontSize","titleFontSizeTablet","titleFontWeight","titleLetterSpacing","titleBackground","titleTextTransform","titlePadding","titleOverflowGradientHeight","titleTextDecoration","titleTextDecorationHover","titleColor","borderWidthSmall","borderWidthMedium","heroTextDecoration","heroTextDecorationHover","licorice","Avatar","loaded","handleImageLoaded","onImageLoaded","loadImage","alt","onLoad","initials","makeInitialsFromName","backgroundImage","inline","renderLoadImage","renderInitials","Tooltip","tip","placement","mountNode","positionTarget","constrain","renderTip","PositionPropTypes","textTransformStyle","textFontSize","textFontWeight","dangerColor","messageColor","focusOutlineColor","debounce","lastArgs","lastThis","lastCallTime","wait","lastInvokeTime","timers","cancelled","leading","maxing","trailing","maxWait","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastInvoke","shouldInvoke","timeSinceLastCall","trailingEdge","clearAllTimers","cancel","flush","timerId","debounced","isInvoking","borderDarkest","hack","measure","domNode","createDocumentFragment","getContext","letterOffset","font","measureText","nodes","textContent","cleanString","ignore","repeat","firstChar","lastChar","cleanData","stringData","truncate","newData","ellipsisNode","ellipsisIndex","findEllipsis","nodeData","before","prevNode","prevNodeIndex","nextNode","nextNodeIndex","_node","_before","_prevNode","_prevNodeIndex","_lastChar","lastItem","Truncator","_options","parentElement","maxLines","shouldTruncateWhenInvisible","_stage","_parent","_truncatedText","_isTruncated","_this$_options","actualLineHeight","firstChild","nodeDataIndexes","_nodeMap","getNodeMap","_defaultStringData","_nodeDataIndexes","_maxHeight","_maxWidth","_maxLines","_this$_options2","childNodes","shouldTruncate","mapItem","safeText","att","nodeValue","domString","fits","_this$_options3","middle","truncated","nodeIndex","dataIndex","truncatedText","matrix","getNodeIndexes","checkFit","halves","isTruncated","constraints","lines","truncator","_dec4","TruncateText","update","checkChildren","_text","_resizeListener","addResizeListener","_debounced","prevProps","onUpdate","_this$state","needsSecondRender","_wasTruncated","renderChildren","truncatedElement","childElements","nodeText","spacer","Children","_classNames","_this3","istruncated","Pill","getTriggerProps","handleTruncation","renderPill","InlineSVG","descId","desc","prepareSrc","dangerouslySetInnerHTML","__html","description","namesAndValuesRegExp","attributesMatches","attributesString","excludes","parseAttributes","labelledBy","block","renderDesc","renderContent","ids","sizeXSmall","sizeSmall","sizeMedium","sizeLarge","sizeXLarge","SVGIcon","bidirectional","fillRule","stroke","strokeWidth","IconCheckMarkSolid","viewBox","glyphName","marginRight","checkedBackground","checkedBorderColor","hoverBorderColor","focusBorderColor","focusBorderWidth","focusBorderStyle","labelColor","checkedLabelColor","labelFontFamily","labelFontWeight","labelLineHeight","facadeSizeSmall","facadeSizeMedium","facadeSizeLarge","labelFontSizeSmall","labelFontSizeMedium","labelFontSizeLarge","iconSizeSmall","iconSizeMedium","iconSizeLarge","CheckboxFacade","indeterminate","checked","hovered","facade","renderIcon","label","FormPropTypes","message","getDisplayName","matchComponentTypes","componentInstance","displayNames","spacingSmall","spacingMedium","spacingLarge","COL_WIDTHS","GridCol","startAt","capitalizeFirstLetter","colSpacing","rowSpacing","breakpoint","enabledBreakpoints","breakpointIsEnabled","startAtClass","vAlign","colSpacingClass","rowSpacingClass","lastRow","isLastRow","lastCol","isLastCol","breakpointClass","breakpointIsEnabledForWidth","breakpointOffsetClass","breakpointIsEnabledForOffset","hAlign","GridRow","Grid","toArray","Row","Col","FormFieldLabel","hasVisibleChildren","colorHint","colorError","colorSuccess","FormFieldMessage","topMargin","FormFieldMessages","msg","FormFieldLayout","handleInputContainerRef","inputContainerRef","_messagesId","messagesId","layout","hasVisibleLabel","labelAlign","inlineContainerAndLabel","hasMessages","renderLegend","renderLabel","renderVisibleMessages","FormField","htmlFor","errorBorderColor","errorFieldsPadding","FormFieldGroup","renderColumns","disabled","renderFields","findIndex","IconCheckSolid","IconXSolid","forms","marginEnd","marginStart","marginVertical","uncheckedIconColor","checkedIconColor","toggleBackground","toggleShadow","depth1","baseSizeSmall","inputHeightSmall","baseSizeMedium","inputHeightMedium","baseSizeLarge","inputHeightLarge","ToggleFacade","iconSVG","labelPlacement","_classes2","rootClasses","icon","iconToggle","readOnly","Checkbox","handleChange","onChange","preventDefault","handleKeyDown","keyCode","codes","enter","return","_input","click","handleFocus","handleBlur","handleMouseOver","handleMouseOut","defaultChecked","_defaultId","onKeyDown","onFocus","onBlur","onMouseOver","onMouseOut","control","renderFacade","isActiveElement","ScreenReaderContent","PresentationContent","getInteraction","_ref$props","_ref$interactionTypes","interactionTypes","interaction","activeShadow","textColor","ghostTextColor","backgroundColor","_ref$ghostBorderColor","ghostBorderColor","darken","alpha","_ref3$borders","_ref3$colors","_ref3$forms","_ref3$spacing","_ref3$typography","hoverTransform","textTransform","smallHeight","smallFontSize","smallPaddingHorizontal","smallPaddingTop","smallPaddingBottom","mediumHeight","mediumFontSize","mediumPaddingHorizontal","mediumPaddingTop","mediumPaddingBottom","largeHeight","largeFontSize","largePaddingHorizontal","largePaddingTop","largePaddingBottom","borderLight","primaryInverseBorderColor","primaryInverseHoverBackground","primaryInverseActiveBackground","primaryInverseActiveBoxShadow","successGhostHoverBackground","primaryGhostHoverBackground","_ref5","secondaryBorderColor","primaryBackground","primaryBorderColor","secondaryBackground","primaryInverseBackground","successBackground","successBorderColor","dangerBackground","dangerBorderColor","primaryGhostBackground","primaryGhostBorderColor","primaryGhostColor","secondaryGhostBackground","secondaryGhostBorderColor","secondaryGhostColor","primaryInverseGhostBackground","primaryInverseGhostBorderColor","primaryInverseGhostColor","successGhostBackground","successGhostBorderColor","successGhostColor","dangerGhostBackground","dangerGhostBorderColor","dangerGhostColor","primaryActiveBackground","primaryActiveBoxShadow","secondaryActiveBackground","secondaryActiveBoxShadow","successActiveBackground","successActiveBoxShadow","dangerActiveBackground","dangerActiveBoxShadow","primaryGhostActiveBackground","primaryGhostActiveBoxShadow","secondaryGhostActiveBackground","secondaryGhostActiveBoxShadow","primaryInverseGhostActiveBackground","primaryInverseGhostActiveBoxShadow","successGhostActiveBackground","successGhostActiveBoxShadow","dangerGhostActiveBackground","dangerGhostActiveBoxShadow","primaryHoverBackground","secondaryHoverBackground","successHoverBackground","dangerHoverBackground","secondaryGhostHoverBackground","primaryInverseGhostHoverBackground","dangerGhostHoverBackground","BaseButton","_rootElement","handleClick","stopPropagation","_keycode$codes","isCondensed","wrappedChildren","hasOnlyIconVisible","wrappedIcon","flexChildren","Flex","Item","shouldShrink","flexProps","justifyItems","withBackground","tabIndex","isDisabled","isReadOnly","isEnabled","content","withoutBackground","withoutBorder","focusShadow","mainColor","_ref2$colors","_ref2$borders","_ref2$forms","_ref2$spacing","_ref2$typography","smallPadding","mediumPadding","largePadding","focusBorder","lightBackground","lightBorderColor","lightBorderStyle","lightColor","lightHoverBackground","lightActiveBackground","lightActiveBoxShadow","ghostBackground","ghostBorderStyle","ghostColor","ghostHoverBackground","ghostActiveBackground","ghostActiveBoxShadow","ghostInverseBackground","ghostInverseBorderColor","ghostInverseBorderStyle","ghostInverseColor","ghostInverseHoverBackground","ghostInverseActiveBackground","ghostInverseActiveBoxShadow","linkColor","textLink","linkBorderColor","linkFocusBorderColor","linkHoverColor","linkTextDecoration","linkInverseColor","inverseFocusBorder","iconBorderColor","iconPadding","iconColor","iconHoverColor","iconActiveColor","iconFocusBoxShadow","iconPlusTextFontSize","iconPlusTextMargin","iconInverseColor","iconInverseHoverColor","iconInverseFocusBoxShadow","fluidWidthLineHeight","defaultBorderColor","circleDefaultBorderColor","defaultBackground","defaultColor","defaultHoverBackground","defaultActiveBackground","defaultActiveBoxShadow","circleDefaultBackground","circleDefaultColor","circleDefaultHoverBackground","circleDefaultActiveBackground","circleDefaultActiveBoxShadow","circlePrimaryBackground","circlePrimaryBorderColor","circlePrimaryColor","circlePrimaryHoverBackground","circlePrimaryActiveBackground","circlePrimaryActiveBoxShadow","circleDangerBackground","circleDangerBorderColor","circleDangerColor","circleDangerHoverBackground","circleDangerActiveBackground","circleDangerActiveBoxShadow","circleVariants","squareVariants","DeprecatedButton","_button","Icon","hasOnlyIcon","fluidWidth","buttonRef","IHaveVisibleChildren","hasTextAndIcon","buttonWidth","buttonBorderRadius","shouldGrow","button","fullyAccessibleBrand","Button","_buttonComponent","handleButtonRef","scopeTheme","_assertThisInitialize2","deprecatedTheme","deprecatedKeys","_this$theme","buttonProps","__dangerouslyIgnoreExperimentalWarnings","IconAssignmentLine","IconQuizLine","IconDiscussionLine","IconAnnouncementLine","IconCalendarMonthLine","IconDocumentLine","IconPeerReviewLine","IconEditLine","jsonToMediaQuery","validKeys","hyphenateQueryKey","px","LayoutPropTypes","validQuery","colorDanger","colorPrimary","countOffset","notificationOffset","notificationZIndex","sizeNotification","pulseBorderThickness","Badge","countUntil","formatOverflowText","formatOutput","formattedCount","countOverflow","pulse","standalone","badge","renderOutput","renderBadge","wrapper","indicatorRef","MissingIndicator","badgeMessage","animatable","WrappedComponent","registerAnimatable","componentIds","dynamicUiManager","deregisterAnimatable","createDynamicUiMiddleware","uiManager","setStore","beforeState","uiStateUnchanged","registries","day","group","opportunity","validateType","minItemId","minBy","maxItemId","maxBy","chain","sortBy","sortedUniqBy","entryValue","sortedDays","getSortedComponents","flatMap","getUniqSortedComponents","sortedGroups","getAllGroupsSorted","nai","animationQueue","fixedElement","fixedElementsInitialPositionInViewport","runAnimationQueue","animationFn","elt","queueAnimation","memo","newWindowScrollPosition","onComplete","isOffScreen","pushType","doc","clientHeight","isAboveScreen","isBelowScreen","expectedActions","manager","acceptedActions","executing","_manager","acceptedActionsLength","fixedElementPositionMemo","animator","maintainViewportPositionFromMemo","expectedActionIndex","acceptsName","accepted","removeAcceptedActionsAfter","elementPositionMemo","uiWillUpdate","uiDidUpdate","reset","isExpectedAction","getRegistry","getAnimator","getStore","getApp","getDocument","getWindow","getStickyOffset","totalOffset","actionIndex","mergeNewItemsIntoDays","newItems","daysHashToDays","daysHash","newDaysHash","itemsToDaysHash","mergeDaysHashes","mergeNewItemsIntoDaysHash","daysToDaysHash","mergeDays","oldDays","newDays","oldDaysHash","mergeWith","oldDayItems","newDayItems","oldItems","newItemsMap","oldItem","newItem","delete","sort","orderItems","mergeItems","groupBy","fromPairs","toPairs","itemsToDays","daysToItems","findItemInDays","dayIndex","itemIndex","itemToCheck","deleteItemFromDaysAt","newDay","deleteItemFromDays","doomedItem","_findItemInDays","purgeDuplicateDays","purgedDaysHash","cmpopts","numeric","MOMENT_LOCALE","getItemGroupTitle","orderItemsByTimeAndTitle","originallyCompleted","allDay","valueOf","localeCompare","order","namea","nameb","orderItemsByGrouping","PILL_MAPPING","new_grades","new_feedback","new_replies","isNewActivityItem","newActivity","anyNewActivityDays","anyNewActivity","didWeFindToday","isTodayOrBefore","showPillForOverdueStatus","status","getBadgesForItems","badges","unread_count","TYPE_MAPPING","quiz","discussion_topic","assignment","wiki_page","announcement","planner_note","calendar_event","assessment_request","findNextLink","headers","parsedLinks","transformApiToInternalItem","apiResponse","courses","groups","contextInfo","context_type","contextId","course","getCourseContext","image_url","getGroupContext","details","plannable","plannable_type","planner_override","plannableId","page_id","course_id","completed","isComplete","points","points_possible","html_url","overrideId","overrideAssignId","assignment_id","location_name","address","location_address","dateStyle","todo_date","feedback","submissions","all_day","end_at","plannable_date","endTime","getItemDetailsFromPlannable","plannableDate","plannable_id","plannableType","new_activity","toggleAPIPending","transformPlannerNoteApiToInternalItem","plannerItemApiResponse","plannerNote","transformInternalToApiOverride","internalItem","userId","overrideType","findKey","partial","isEqual","user_id","marked_complete","transformApiToInternalGrade","apiResult","courseId","hasGradingPeriods","has_grading_periods","enrollment","enrollments","score","computed_current_score","grade","computed_current_grade","current_period_computed_current_score","current_period_computed_current_grade","shortName","image","workflow_state","visualSuccessFunc","visualErrorFunc","srAlertFunc","srAlert","_createActions","startLoadingItems","continueLoadingInitialItems","foundFirstNewActivityDate","gettingFutureItems","gotItemsError","allFutureItemsLoaded","allPastItemsLoaded","startLoadingPastSaga","startLoadingFutureSaga","startLoadingPastUntilNewActivitySaga","startLoadingGradesSaga","gotGradesSuccess","gotGradesError","startLoadingPastUntilTodaySaga","peekIntoPastSaga","peekedIntoPast","gettingPastItems","seekingNewActivity","gotDaysSuccess","internalDays","gotPartialFutureDays","gotPartialPastDays","getPlannerItems","fromMoment","axios","getFirstNewActivityDate","loadFutureItems","loadMoreButtonClicked","loading","scrollIntoPastAction","loadPastItems","byScrolling","loadPastUntilNewActivity","sendFetchRequest","loadingOptions","_fetchParams","timeParam","linkField","intoThePast","nextPageUrl","params","perPage","per_page","fetchParams","_fetchParams2","urlPrefix","transformedItems","transformItems","handleFetchResponse","identifiableThunk","thunk","fnArgs","identifiableFn","rememberThunk","sidebarItemsLoading","sidebarItemsLoaded","sidebarItemsLoadingFailed","sidebarEnoughItemsLoaded","incompleteItems","sidebar","desiredSidebarItemsAreLoaded","handleSidebarLoadingResponse","sidebarLoadNextItems","context_codes","current_user_id","maybeUpdateTodoSidebar","updateItemPromise","axiosInstance","xsrfCookieName","xsrfHeaderName","originalDefaults","common","Accept","configureAxios","initialOptions","addOpportunities","startLoadingOpportunities","startDismissingOpportunity","allOpportunitiesLoaded","savingPlannerItem","savedPlannerItem","dismissedOpportunity","deletingPlannerItem","deletedPlannerItem","updateTodo","clearUpdateTodo","openEditingPlannerItem","setNaiAboveScreen","scrollToNewActivity","scrollToToday","canceledEditingPlannerItem","saveExistingPlannerOverride","apiOverride","method","saveNewPlannerOverride","togglePlannerItemCompletion","plannerItem","savingItem","show","isNewItem","wasToggled","currentUser","updateOverrideDataOnItem","updatedItem","specialFallbackFocusId","scrollAndFocusTodayItem","todayElem","_findTodayOrNearest","allItems","getAllItemsSorted","lastInPast","firstInFuture","when","findTodayOrNearest","getScrollable","forceScrollTo","getFocusable","focusElement","AnimationCollection","actionsToAnimations","animations","expected","expectedEvents","animation","AnimationClass","animationClass","entry","acceptAction","isReady","invokeUiWillUpdate","invokeUiDidUpdate","isOnScreen","app","fixedElementForItemScrolling","stickyOffset","getAllNewActivityIndicatorsSorted","indicator","findNaiAboveScreen","maintainViewportPositionOfFixedElement","scrollToTop","newActivityItemIds","acceptedAction","newActivityDayComponentIds","getLastComponent","intersection","newActivityIndicator","firstNewItem","allRegisteredItemComponents","indexOfPriorItemComponent","itemComponent","priorItemComponent","savedItemUniqueId","itemComponentToFocus","getComponent","savedActiveElement","querySelector","contains","setItemFocusUniqueId","doomedItemComponentId","sortedItemComponents","priorComponentIndex","optsParam","animatableRegistry","deregister","preTriggerUpdates","plannerActive","animationCollection","triggerUpdates","animationPlan","ready","focusOpportunity","triggerFocusOpportunity","clearAnimationPlan","handlerSuffix","alertLoading","handleStartLoadingItems","handleGettingFutureItems","handleGettingPastItems","handleGotDaysSuccess","handleStartLoadingGradesSaga","handleGotGradesSuccess","handleDismissedOpportunity","doomedComponentId","planDeletedComponent","defaultOptions","plannerHeaderId","newActivityButtonId","getElementById","getAdditionalOffset","expectedActionsFor","nextAnimationPlan","oppToFocus","naiThreshold","ui","naiAboveScreen","newActivityIndicators","doomedComponentType","sortedComponents","sortedComponentsFor","doomedComponentIndex","newComponentIndex","findFocusIndexAfterDelete","animationPlanFocusField","componentType","getAllOpportunitiesSorted","sortedFocusables","doomedFocusableIndex","newFocusableIndex","notifier","_args","triggerDynamicUiUpdates","preTriggerDynamicUiUpdates","uiManagerShape","only","animatableIndex","itemIds","newProps","indicatorElt","activityIndicatorPadding","activityIndicatorWidth","activityIndicatorClasses","activityIndicator","hasBadge","activityIndicatorBorderSize","activityIndicatorBackground","itemMargin","zIndex","offsetXSmall","offsetSmall","offsetMedium","CloseButton","screenReaderLabel","inlineColor","inlineLineHeight","noneSpacing","pipeSpacing","slashSpacing","arrowSpacing","marginBottomDefault","spacingXXXSmall","spacingXXSmall","spacingXSmall","spacingXLarge","spacingXXLarge","delimiterDashedBorder","delimiterSolidBorder","ListItem","delimiter","noDelimiter","noSpacing","pipeColor","defaultListPadding","orderedNumberFontWeight","orderedNumberMargin","List","itemSpacing","unordered","ordered","STATES","EXITED","EXITING","ENTERING","ENTERED","_React$Component","BaseTransition","_timeouts","transitioning","startTransition","transitionIn","transitionOnStart","transitionEnter","transitionExit","exit","transition","toState","fromState","transitionCallback","transitionDuration","_unmounted","getClassList","transitionClassName","getTransitionClassName","prevTransitionClassName","baseTransitionClassName","transitionEnabled","onTransition","onEnter","onEntering","onEntered","enterDelay","onExit","onExiting","onExited","exitDelay","in","transitionOnMount","cancelPrematurely","clearTransition","timeout","transitionState","exitedClassName","enteringClassName","enteredClassName","exitingClassName","unmountOnExit","states","Transition","handleExited","handleEntered","classNames","exited","exiting","entering","entered","ReactPortal","findMountNode","open","onOpen","DOMNode","onClose","removeNode","createPortal","insertNode","insertAt","insertBefore","SubtreePortal","renderPortal","nextState","shallowEqual","removePortal","passThroughProps","isInitialMount","unstable_renderSubtreeIntoContainer","unmounted","unmountComponentAtNode","set","IS_CREATE_PORTAL_SUPPORTED","Portal","Mask","contentRef","_content","fullscreen","onDismiss","inverseBackground","inverseBorderColor","ModalHeader","usesCloseButton","withCloseButton","ModalBody","isFit","ModalFooter","boxShadow","inverseTextColor","autoMinWidth","depth3","Modal","handlePortalOpen","applyTheme","handleTransitionExited","_classnames2","shouldCloseOnDocumentClick","shouldReturnFocus","liveRegion","dialog","Dialog","defaultFocusElement","shouldCloseOnEscape","shouldContainFocus","fullscreenLayout","maskPlacement","portalIsOpen","constrainContext","renderModal","_DOMNode","enforceOrder","Header","Body","Footer","externalConversion","firstColumnContent","secondColumnContent","startTime","dateString","startDate","endDate","dayOfYear","startDateTime","endDateTime","dateRangeString","renderRow","renderTimeString","calendarName","courseName","convertedHtml","requestClose","renderCalendarRow","renderDateTimeRow","renderLocationRow","renderAddressRow","renderDetails","paddingMedium","paddingLarge","gutterWidth","gutterWidthXLarge","bottomMargin","tiara","iconFontSize","badgeMargin","metricsPadding","typeMargin","titleLineHeight","toDoLinkClick","updateTodoItem","registerRootDivRef","rootDivRef","registerFocusElementRef","checkboxRef","which","itemLink","renderDateField","associated_item","showEndTime","hasDueTime","openCalendarEventModal","calendarEventModalOpen","closeCalendarEventModal","renderBadges","renderItemSubMetric","editButton","renderItemMetrics","secondaryClasses","secondary","hasBadges","secondary_no_badges","metricsClasses","metrics","with_end_time","due","renderType","assignmentType","renderItemDetails","details_no_badges","getCheckboxTheme","datetimeformat","datetime","linkProps","linkLabel","renderCalendarEventModal","showNotificationBadge","IndicatorComponent","feedbackAvatar","feedbackComment","checkboxLabel","getLayout","renderNotificationBadge","toggleCompletion","avatar","innerLayout","renderExtraInfo","ResponsivePlannerItem","IconArrowOpenEndSolid","IconArrowOpenDownSolid","smallIconSize","mediumIconSize","largeIconSize","iconMargin","togglePadding","toggleBorderRadius","toggleBorderWidth","toggleBorderStyle","toggleFocusBorderColor","filledBackgroundColor","filledBorderWidth","filledBorderStyle","filledBorderColor","filledBorderRadius","filledPadding","ToggleDetails","shouldAnimateContent","getButtonRef","summary","iconPosition","summaryText","toggleProps","renderSummary","toggle","_classnames3","iconExpanded","iconStart","iconEnd","detailsProps","_classnames4","hiddenDetails","expandedDetails","indentDetails","positionIconAtEnd","renderToggle","buttonPadding","animatableItemIds","rootDiv","notificationBadge","itemCount","contentPrimary","contentSecondary","bottomMarginPhoneUp","heroLinkTextDecoration","groupingLinkRef","groupingLink","handleFacadeClick","showCompletedItems","badgeMap","setupItemBadgeMap","itemUniqueIds","mapping","all","getBadgesForItem","plannerNoteHero","_partition","_partition2","completedItems","itemsToRender","componentsToRender","renderItems","showNotificationBadgeOnItem","theDay","completedItemIds","renderToDoText","clazz","overlay","withImage","hero","renderGroupLinkBackground","renderGroupLinkTitle","heroHover","renderGroupLink","renderItemsAndFacade","ResponsiveGrouping","tzMomentizedDate","friendlyName","_getTodaysDetails2","getFriendlyDate","fullDate","itemsForDay","groupKey","groupItems","courseInfo","groupings","currGroupItems","currGroupKey","nItems","renderGrouping","thisIsToday","hasItems","renderGroupings","paddingWidth","fill","xlinkHref","mask","xmlns","xmlnsXlink","endday","endOf","includesToday","renderDate","nothingPlannedContent","nothingPlannedContainer","nothingPlanned","defualtProps","visible","btnRef","btn","srProps","renderButton","renderInvisibleButton","IconNoSolid","IconInfoBorderlessSolid","IconWarningBorderlessSolid","contentPadding","contentFontSize","contentFontFamily","contentFontWeight","contentLineHeight","closeButtonMarginTop","closeButtonMarginRight","successIconBackground","infoBorderColor","infoIconBackground","warningBorderColor","warningIconBackground","dangerIconBackground","depth2","closeButtonLabel","Alert","handleTimeout","close","onExitTransition","clearTimeouts","removeScreenreaderAlert","handleKeyUp","renderCloseButtonLabel","esc","alert","success","warning","n","lr","isDOMNode","liveRegionPoliteness","isLiveRegionAtomic","getLiveRegion","srid","createScreenreaderContentNode","removeAttribute","initLiveRegion","createScreenreaderAlert","updateScreenreaderAlert","variantUI","alertIcon","closeButton","onKeyUp","renderCloseButton","screenReaderOnly","renderAlert","renderDetail","instanceOf","handleLoadMoreButton","onLoadMore","loadingFuture","loadingError","renderError","renderLoadMore","renderLoading","renderEverythingLoaded","strokeLinecap","loadingPast","renderNoMore","textDecoration","textDecorationOutsideText","hoverColor","hoverTextDecoration","focusInverseOutlineColor","focusInverseIconOutlineColor","iconSize","Link","findDOMNode","_link","iconPlacement","linkRef","_elementRef","isWithinText","truncates","containsTruncateText","findFocusable","truncateText","largeSpacing","xxLargeSpacing","smallSpacing","lightWeight","handleDashboardCardLinkClick","changeDashboardView","onAddToDo","desert","subtitlebox","subtitle","renderAddToDoButton","balloons","isCompletelyEmpty","renderNothingAtAll","renderNothingLeft","whiterails","fixedElementRef","onResize","beforeLayoutChange","afterLayoutChange","fixedResponsiveMemo","_plannerElem","appRef","loadPriorButton","focusFallback","removeEventListenet","plannerTop","fixedResponsiveElem","list","querySelectorAll","findFirstVisible","isLoading","loadPastButtonClicked","dayHash","firstEmptyDay","lastDay","trialDay","trialDayKey","numEmptyDays","workingDay","workingDayKey","dayItems","renderOneDay","endingDayKey","countEmptyDays","renderEmptyDays","renderEmptyDayStretch","dayBeforeYesterday","pastChildren","renderPast","presentChildren","renderPresent","futureChildren","renderFuture","renderLoadPastButton","renderLoadingPast","renderNoAssignments","renderDays","renderBody","ResponsivePlannerApp","mapDispatchToProps","hasSomeItems","partialPastDays","partialFutureDays","AccessibleContent","IconAlertsLine","IconPlusLine","IconGradebookLine","ComponentIdentifier","_class3","_class4","_temp2","_class5","_class6","_temp3","_ComponentIdentifier","PopoverTrigger","_ComponentIdentifier2","PopoverContent","_dec5","Popover","_popover","hide","documentClick","defaultShow","alignArrow","trackPosition","onShow","Trigger","Content","isShowingContent","defaultIsShowingContent","shouldAlignArrow","shouldTrackPosition","onShowContent","onHideContent","onPositioned","renderTrigger","shown","withArrow","shouldRenderOffscreen","offsetX","offsetY","onPositionChanged","shouldFocusContentOnTriggerBlur","closeButtonRef","xSmallWidth","smallWidth","regularWidth","mediumWidth","largeWidth","Tray","handleTransitionComplete","_closeButton","_checkParams","DateTime","browserTimeZone","guess","toLocaleString","Locale","defaultLocale","browserLocale","nav","hasDOM","language","documentLanguage","hasNavigatorLanguages","languages","hasNavigatorLanguage","browserLanguage","I18nPropTypes","iso8601","makeRequirable","errorOutlineColor","placeholderColor","required","TextInput","handleInputRef","inputRef","hasFocus","_inputClasses","htmlSize","placeholder","inputClasses","descriptionIds","_facadeClasses","renderBeforeInput","renderAfterInput","shouldNotWrap","renderBeforeOrAfter","facadeClasses","renderInput","IconButton","_baseButton","IconArrowOpenStartSolid","buttonIconSize","DatePickerPagination","handlePrevClick","onPrev","handleNextClick","onNext","arrowIcon","previousLabel","nextLabel","labelMargin","labelPadding","headerFontWeight","cellPadding","cellMinWidth","cellMinHeight","cellBorderWidth","cellBorderStyle","todayBackground","todayBorderRadius","todayColor","selectedBackground","selectedColor","otherMonthColor","focusOutline","isSameMonth","isSameDay","isDayDisabled","disabledDaysOfWeek","disabledDays","disabledDay","disabledDayOfWeek","weekday","DatePicker","findNextEnabledDay","eventKeycode","currentIteration","iterationMax","up","down","handleCalendarKeyDown","focusedDate","parseDate","focusedValue","newFocusedDate","newFocusedString","updatePagination","handlePaginationPrev","sliderString","renderedValue","fireRenderedChange","handlePaginationNext","handleDateClick","clickedString","selectedValue","fireSelectedChange","handleDateFocus","focusedString","_locale","_timezone","defaultTodayValue","hour","minute","millisecond","todayValue","_validateDateProp","defaultSelectedValue","defaultRenderedValue","validateDateProp","_focusedDay","dateStr","fallbackDateStr","isEmpty","_parseDate","newValueString","newValueMoment","newMonth","month","newYear","year","renderedMoment","renderedMonth","renderedYear","newRenderedString","onRenderedChange","newSelectedString","onSelectedChange","rendered","firstDay","renderHeaderCell","selected","_this4","cell","outside","_this5","week","renderDayCell","_this6","weekIncrement","firstOfWeek","renderWeekRow","_this7","_calendar","calendar","table","renderHeader","renderCalendar","DateInput","textInputRef","handleTextInputChange","textInputValue","showCalendar","handleTextInputKeyDown","acceptValue","handleTextInputClick","handleTextInputBlur","handleCalendarSelect","newValue","parsedDate","hideCalendar","handleCalendarDismiss","initialDateValue","dateValue","defaultDateValue","_parsedDate","computeState","valueChanged","acceptedValue","toggleCalendar","rawAcceptedValue","acceptedValueChanged","validOrEmptyChanged","isValidOrEmpty","dateIsDisabled","onDateChange","rawValue","textInputProps","calendarSelectedValue","datePickerRef","validationFeedback","disabledDateMessage","invalidDateMessage","isoValue","rawConversionFailed","PositionTarget","locatorAttribute","PositionContent","Position","over","renderTarget","Target","shouldPositionOverTarget","IconArrowOpenDownLine","getOptionId","option","groupFontWeight","highlightedBackground","activeBackground","backgroundDark","activeLabelColor","iconPaddingEnd","groupPadding","SelectOptionsList","optionHeight","groupLabel","onSelect","onStaticClick","optionsId","loadingText","emptyOption","selectedOption","onHighlightOption","highlightedIndex","renderStaticOption","groupItem","onMouseEnter","highlighted","menuRef","visibleOptionsCount","optionsList","nativeEvent","stopImmediatePropagation","renderOptions","inputPadding","SelectField","_menu","_inputContainer","timeoutId","highlightSelectedOption","select","closeOnSelect","selectedIndex","highlightOption","onHighlight","menu","parentTop","elemTop","offsetTop","parentBottom","elemBottom","handleHomeKey","handleEndKey","handleEnterKey","handleUpArrowKey","handleDownArrowKey","handleSpaceKey","keyMap","home","handlePositioned","positioned","editable","handleMouseDown","persist","stillFocused","relatedTarget","containsActiveElement","onInputChange","handleMenuRef","getSelectedIndex","_optionsId","_assistId","inputIcon","assistiveText","inputProps","highlightedOption","wrappedLabel","onMouseDown","inputWidth","inputContainer","inputLayout","autoComplete","optionsMaxWidth","optionType","SelectSingle","_props","matchSelectedOption","filteredOptions","handleClose","newSelectedOption","allowEmpty","filterText","allowCustom","handleInputChange","handleSelect","getSelectedOptionFromProps","findSelectedOption","defaultSelectedOption","optionsChanged","selectedChanged","onOptionsChange","tagVariant","heightSmall","heightMedium","heightLarge","paddingSmall","transitionTiming","defaultIconColor","defaultIconHoverColor","defaultBorderWidth","defaultBorderStyle","defaultBorderRadius","defaultBackgroundHover","inlineBackground","inlineBorderWidth","inlineBorderStyle","inlineBorderColor","inlineBorderRadius","inlineBackgroundHover","inlineIconColor","inlineIconHoverColor","Tag","_container","handleRef","dismissible","tagRoot","tagTopMargin","tagStartMargin","SelectMultiple","cleanInput","matchSelectedOptions","amendMatchesToState","getFilteredOptions","dismiss","newOption","tag","tagId","_selectedOption","optionMap","getOptionMap","foundOption","findSelectedOptions","dismissibleProps","formatSelectedOption","_field","renderTags","renderInputs","parseOptions","_child$props","groupValue","_option$props","Select","_subComponent","multiple","defaultOption","startsWith","TimeInput","defaultToFirstOption","step","selectProps","getDefaultOption","getSelectedOption","_select","getBaseDateForRendering","minutes","baseValue","DateTimeInput","_this$parseISO","parseISO","iso","handleDateChange","combineDateAndTime","handleTimeChange","getErrorMessage","dateInputComponentRef","_dateInput","timeInputComponentRef","_timeInput","rawDateValue","rawTimeValue","invalidDateTimeMessage","parsed","messageFormat","dateISO","timeISO","datePlaceholder","dateLabel","dateNextLabel","datePreviousLabel","dateFormat","dateInputRef","timeLabel","timeFormat","timeStep","timeInputRef","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","TextArea","_textareaResize","evt","textareaHeight","_textarea","_height","_manuallyResized","grow","scrollHeight","autoGrow","handleContainerRef","_listener","_textareaResizeListener","_request","textareaRef","resize","textarea","outline","IconArrowOpenUpLine","Option","isHighlighted","isSelected","renderBeforeLabel","renderAfterLabel","Group","Options","Separator","hasInputRef","_list","_optionIds","_optionHeight","handleListRef","listRef","scrollToOption","highlightedOptionId","_listView","listItem","onRequestHighlightOption","isShowingOptions","_onRequestShowOptions","onRequestShowOptions","_onRequestHideOptions","onRequestHideOptions","_onRequestSelectOption","onRequestSelectOption","selectedOptionId","highlightId","onRequestHighlightFirstOption","onRequestHighlightLastOption","getOptionProps","getDisabledOptionProps","optionProps","isFirstChild","isLastChild","afterGroup","_group$props","rest","groupChildren","renderOption","getListProps","lastWasGroup","viewProps","renderGroup","getInputProps","isInline","_getTriggerProps","triggerProps","isEditable","overrideProps","Selectable","getEventHandlers","_ref7","getRootProps","getDescriptionProps","renderList","CanvasSelectOption","CanvasSelectGroup","backupKey","_event","handleShowOptions","handleHideOptions","getOptionLabelById","handleHighlightOption","nowOpen","handleSelectOption","prevSelection","getOptionByFieldValue","_option","otherProps","noOptionsLabel","Fragment","renderNoOptionsOption","oid","field","foundOpt","groupOptions","o2","updateMessages","updates","dateMessages","handleSave","onSavePlannerItem","handleCourseIdChange","handleTitleChange","titleMessages","isoDate","onInvalidDateTimeMessage","handleDeleteClick","confirm","onDeletePlannerItem","noteItem","_updates","getNoteUpdates","cloneDeep","_rawTimeValue","errmsg","editingExistingNote","findCurrentValue","datevalue","noneOption","courseOptions","renderTrayHeader","renderTitleInput","renderDateInput","renderCourseSelect","renderDetailsInput","renderDeleteButton","renderSaveButton","shouldSearchRootNode","focusableSelector","elementMatches","cs","POS","findTabbable","scopeTab","onLeavingFinalTabbable","tabbable","getActiveElement","finalTabbable","shiftKey","Focusable","_focusListener","_blurListener","_inputModeListener","handleInputModeChange","forceUpdate","removeFocusListener","removeBlurListener","addFocusableListeners","addInputModeListener","onInputModeChange","removeFocusableListeners","isKeyboardMode","isContentEditable","inputTypes","_this$props2$render","focusVisible","isFocusVisible","focusableCount","_this$state2","search","tel","email","password","defaultlHoverBorderColor","defaultSelectedBorderColor","secondarySelectedBackground","secondarySelectedBorderColor","secondarySelectedColor","defaultHoverBorderColor","Tab","controls","Panel","isHidden","Tabs","handleTabClick","nextTab","getNextTab","fireOnChange","handleTabKeyDown","handleFocusableRef","_focusable","shouldFocusOnRender","startIndex","tabs","change","nextIndex","onRequestTabChange","generatedId","panel","panels","selectedChildIndex","createTab","clonePanel","IconXLine","nameFontSize","closeButtonIconSize","namePaddingTop","titleMargin","footerPadding","statusPadding","pointsFontSize","pointsLineHeight","pointsNumberFontSize","dueFontSize","dueMargin","dueTextFontWeight","plannerOverride","dueAt","_getTodaysDetails3","getFullDateAndTime","isDismissed","dismissed","opportunityName","opportunityTitle","pointsNumber","oppNameAndTitle","oppName","footer","dueText","renderPoints","slate","borderBottom","itemPadding","OPPORTUNITY_SPECIAL_FALLBACK_FOCUS_ID","handleTabChange","tab","escape","togglePopover","courseAttr","getTabPanelContentDivRefFromList","ol","tabPanelContentDiv","innerMaxHeight","setMaxHeight","mxht","opportunities","oppIndex","due_at","newOpportunities","renderOpportunities","dismissedOpportunities","srtitle","renderNewOpportunities","renderDismissedOpportunities","courseColor","fixedScore","toFixed","courseNameStyles","scoreString","renderSpinner","renderGrades","renderCaveat","IconArrowUpSolid","IconArrowDownLine","backgroundHover","hasIconRightPadding","focusRingWidth","focusRingColor","descriptionId","newActivityButton","renderDescription","handleSavePlannerItem","handleCloseTray","savePlannerItem","handleDeletePlannerItem","deletePlannerItem","setUpdateItemTray","handleToggleTray","trayOpen","toggleAriaHiddenStuff","ariaHideElement","toggleGradesTray","gradesTrayOpen","loadingGrades","gradesLoaded","handleTodayClick","handleNewActivityClick","closeOpportunitiesDropdown","_doToggleOpportunitiesDropdown","openOpportunitiesDropdown","toggleOpportunitiesDropdown","opportunitiesOpen","getTrayLabel","todo","_this$segregateOpport","segregateOpportunities","_this$segregateOpport2","getInitialOpportunities","_this$segregateOpport3","_this$segregateOpport4","loadingOpportunities","getNextOpportunities","cancelEditingPlannerItem","openOrClosed","opportunitiesButton","opportunitiesHtmlButton","buffer","minRoom","firstNewActivityDate","firstLoadedMoment","auxElement","newActivityAboveView","stickyButtonId","stickyZIndex","newActivityButtonRef","buttonMargin","badgeProps","verticalRoom","getPopupVerticalRoom","buttonMarginRight","renderToday","addNoteBtn","renderOpportunitiesButton","dismissOpportunity","gradesLoadingError","renderNewActivity","setFocusAfterLoad","firstNewDayKey","futureNextUrl","pastNextUrl","Element","ResponsivePlannerHeader","NotifierPlannerHeader","overrideData","getOverrideDataOnItem","apiItem","transformInternalToApiItem","saveNewPlannerItem","saveExistingPlannerItem","IconNoteLine","handleDismissClick","getInformationRow","toDisplay","numPoints","itemTitle","titleComponent","itemType","getIconComponent","getContextShortName","dismissedItemIndex","titleFocus","visibleToDos","getVisibleItems","sidebarLoadInitialItems","forCourse","previousIndex","todoItemComponents","sidebarCompleteItem","renderShowAll","currentMoment","firstMomentDate","start_date","PREFIX_EMOJI","POSTFIX_EMOJI","INVERTED","h","w","E","F","G","H","I","J","L","M","N","P","T","U","V","Y","flip","flipElement","flipOptions","flipped","strings","enflip","en","ar","da","de","es","fr","he","ht","hu","hy","it","ja","ko","mi","nl","nn","pl","pt","ru","sv","zh","missingTranslation","translations","generateId","_extends","_typeof","iterator","TASK","HELPER","MATCH","CANCEL","SAGA_ACTION","SELF_CANCELLATION","konst","kTrue","ident","check","is","notUndef","undef","s","iterable","task","ob","subscribe","buf","take","put","pat","channel","ch","helper","stringableFunc","deferred","def","autoInc","seed","kThrow","err","kReturn","done","makeIterator","thro","isHelper","stack","deprecate","deprecationWarning","updateIncentive","preferred","internalErr","createSetContextWarning","ctx","wrapSagaDispatch","zeroBuffer","ringBuffer","limit","overflowAction","pushIndex","popIndex","doubledLimit","buffers","semaphore","suspend","release","asap","END","isEnd","emitter","subscribers","sub","emit","INVALID_BUFFER","closed","takers","checkForbiddenStates","cb","eventChannel","chan","__closed__","unsubscribe","IO","TAKE","patternOrChannel","maybe","eff","effects","getFnCallDesc","meth","_fn","_fn2","fork","_len3","_key3","_len7","_key7","sync","createAsEffectType","effect","asEffect","race","cps","actionChannel","setContext","_defineEnumerableProperties","descs","NOT_ITERATOR_ERROR","CHANNEL_END","TASK_CANCEL","matchers","patterns","_predicate","forkQueue","mainTask","tasks","abort","cancelAll","addTask","cont","isErr","getTasks","taskNames","createTaskIterator","pc","arg","wrapHelper","proc","parentContext","parentEffectId","effectsString","runParallelEffect","runAllEffect","sagaMonitor","logger","onError","logError","sagaStack","stdChannel","taskContext","newTask","cancelMain","isRunning","taskQueue","isCancelled","_isRunning","_isCancelled","isMainRunning","runEffect","_error","_isAborted","_deferredEnd","_result","joiners","effectId","effectTriggered","effectSettled","currCb","effectRejected","effectResolved","effectCancelled","resolvePromise","runForkEffect","resolveIterator","runTakeEffect","runPutEffect","runRaceEffect","runCallEffect","runCPSEffect","runJoinEffect","runCancelEffect","runSelectEffect","runChannelEffect","runFlushEffect","runCancelledEffect","runGetContextEffect","runSetContextEffect","cancelPromise","takeCb","inp","cpsCb","_ref6","detached","taskIterator","_task","joiner","isAborted","taskToCancel","completedCount","childCbs","chCbAtKey","_response","_ref8","_ref9","_mutatorMap","NON_GENERATOR_ERR","RUN_SAGA_SIGNATURE","runSaga","storeInterface","saga","_storeInterface","actionDispatched","_objectWithoutProperties","qEnd","safeName","fsmIterator","fsm","q0","updateState","qNext","_fsm$qNext","output","_updateState","takeEvery","worker","yTake","yFork","ac","setAction","q1","q2","_ref$context","sagaMiddleware","sagaEmitter","run","GOT_DAYS_SUCCESS","DELETED_PLANNER_ITEM","currentState","loadingState","getNextUrls","linkState","nextLink","findNextLinkFromAction","plannerLoaded","GOT_ITEMS_ERROR","GOT_PARTIAL_PAST_DAYS","GOT_PARTIAL_FUTURE_DAYS","START_LOADING_OPPORTUNITIES","START_LOADING_ITEMS","GETTING_PAST_ITEMS","PEEKED_INTO_PAST","GETTING_FUTURE_ITEMS","SAVED_PLANNER_ITEM","ALL_FUTURE_ITEMS_LOADED","ALL_OPPORTUNITIES_LOADED","ALL_PAST_ITEMS_LOADED","ADD_OPPORTUNITIES","START_LOADING_GRADES_SAGA","GOT_GRADES_SUCCESS","GOT_GRADES_ERROR","INITIAL_OPTIONS","env","STUDENT_PLANNER_COURSES","grades","newCourse","STUDENT_PLANNER_GROUPS","payitem","stateitem","DISMISSED_OPPORTUNITY","stateCopy","UPDATE_TODO","CLEAR_UPDATE_TODO","SET_NAI_ABOVE_SCREEN","momentForDayAtIndex","itemInRange","firstDayMoment","lastDayMoment","itemMoment","isFirstOrAfter","isLastOrBefore","itemDateIsLoaded","nextDays","itemIsInNearPast","nextPartial","itemIsInNearFuture","SIDEBAR_ITEMS_LOADED","sortItems","doomedIndex","SIDEBAR_ITEMS_LOADING","SIDEBAR_ENOUGH_ITEMS_LOADED","SIDEBAR_ITEMS_LOADING_FAILED","range","combinedReducer","TIMEZONE","user","current_user","userColor","PREFERENCES","custom_colors","display_name","avatar_is_fallback","avatar_image_url","combinedReducers","changed","oldItemIndex","savedItemReducer","finalReducer","mergeFutureItems","newFutureItems","mergeCompleteDays","extractCompleteDays","mergePastItems","newPastItems","mergePastItemsFor","foundPredicate","completeDays","mergePastItemsForNewActivity","mergePastItemsForToday","consumePeekIntoPast","allItemsLoaded","daysArray","everythingCompleted","partialDays","allSagas","watchForSagas","loadPastSaga","loadFutureSaga","loadPastUntilNewActivitySaga","loadGradesSaga","loadPastUntilTodaySaga","loadingLoop","fromMomentFunction","continueLoading","_yield$call","stopLoading","fromMomentPast","fromMomentFuture","enrollment_type","enrollment_state","loadingUrl","gradesData","apiData","internalGrade","links","lastLoadedDay","loadedItem","getLastLoadedMoment","isScrollPositionAtTop","wind","isScrollPositionAtBottom","handleScrollAttempt","handleWindowWheel","pastCb","futureCb","deltaY","isWheelUpEvent","isWheelDownEvent","externalPlannerActive","ongoingTouch","handleTouchStart","changedTouches","handleWindowTouchMove","thisTouch","identifier","screenY","handleTouchEnd","ScrollHandler","scrollCb","mostRecentScrollPosition","callbackThrottle","throttledScrollEvent","handleScrollEvent","registerScrollEvents","scrollIntoPast","scrollIntoPastCb","scrollIntoFuture","scrollIntoFutureCb","scrollPositionChange","boundWindowWheel","boundTouchMove","middlewares","configureStore","handleScrollIntoPastAttempt","handleScrollIntoFutureAttempt","getActiveApp","defaultEnv","initializedOptions","initializePlanner","newOpts","mergeDefaultOptions","flashError","flashMessage","srFlashMessage","convertApiUserContent","formatters","externalFallbackFocusable","i18n","setDefault","visualSuccessCallback","visualErrorCallback","srAlertCallback","initialize","initializeContent","plannerNewActivityButtonId","setOffsetElementIds","dc","assetString","dg","initializeCourseAndGroupColors","renderToDoSidebar","loadPlannerDashboard","headerElement","headerAuxElement","pos","handleScrollPositionChange","setApp","proto","getPrototypeOf","replaceValuesWithVariableNames"],"mappings":"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","file":"119-c-465bdd123e.js","sourcesContent":["\"use strict\";\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools = (\n  process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ :\n    function() {\n      if (arguments.length === 0) return undefined;\n      if (typeof arguments[0] === 'object') return compose;\n      return compose.apply(null, arguments);\n    }\n);\n\nexports.devToolsEnhancer = (\n  process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' &&\n  window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION__ :\n    function() { return function(noop) { return noop; } }\n);\n","'use strict';\n\nvar qs = require('querystring')\n  , url = require('url')\n  , xtend = require('xtend');\n\nfunction hasRel(x) {\n  return x && x.rel;\n}\n\nfunction intoRels (acc, x) {\n  function splitRel (rel) {\n    acc[rel] = xtend(x, { rel: rel });\n  }\n\n  x.rel.split(/\\s+/).forEach(splitRel);\n\n  return acc;\n}\n\nfunction createObjects (acc, p) {\n  // rel=\"next\" => 1: rel 2: next\n  var m = p.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/)\n  if (m) acc[m[1]] = m[2];\n  return acc;\n}\n\nfunction parseLink(link) {\n  try {\n    var m         =  link.match(/<?([^>]*)>(.*)/)\n      , linkUrl   =  m[1]\n      , parts     =  m[2].split(';')\n      , parsedUrl =  url.parse(linkUrl)\n      , qry       =  qs.parse(parsedUrl.query);\n\n    parts.shift();\n\n    var info = parts\n      .reduce(createObjects, {});\n    \n    info = xtend(qry, info);\n    info.url = linkUrl;\n    return info;\n  } catch (e) {\n    return null;\n  }\n}\n\nmodule.exports = function (linkHeader) {\n  if (!linkHeader) return null;\n\n  return linkHeader.split(/,\\s*</)\n   .map(parseLink)\n   .filter(hasRel)\n   .reduce(intoRels, {});\n};\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { replaceValuesWithVariableNames } from './replaceValuesWithVariableNames';\nimport { formatVariableNames } from './formatVariableNames';\nimport { applyCustomMediaToCss } from './applyCustomMediaToCss';\nimport { customPropertiesSupported } from './customPropertiesSupported';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Returns the CSS as a string with variables applied\n * @module getCssText\n * @param {Function} template A template function that returns the CSS as a string with variables injected\n * @param {Object} variables JS variables\n * @param {string} prefix CSS variable prefix/namespace\n * @returns {String} css text\n */\n\nfunction getCssText() {\n  if (customPropertiesSupported()) {\n    return getCssTextWithVariables.apply(this, arguments);\n  } else {\n    return getCssTextWithPolyfill.apply(this, arguments);\n  }\n}\n\nfunction getCssTextWithPolyfill(template, variables) {\n  // inject variable values\n  var cssText = template(variables); // inject valules for @custom-media rules\n\n  var customMedia = variables ? formatVariableNames(variables) : {};\n  cssText = applyCustomMediaToCss(cssText, customMedia);\n  return cssText;\n}\n\nfunction getCssTextWithVariables(template, variables, prefix) {\n  var variableNames = variables ? replaceValuesWithVariableNames(variables, prefix) : {}; // inject the CSS variable names into the style template\n\n  var cssText = template(variableNames); // inject values for @custom-media rules (https://www.w3.org/TR/2016/WD-mediaqueries-4-20160126/#custom-mq)\n\n  var customMedia = variables ? function () {\n    return formatVariableNames(variables);\n  } : {};\n  cssText = applyCustomMediaToCss(cssText, customMedia);\n  var cssVariablesString = variables ? formatVariableNames(variables, prefix) : ''; // append the CSS variables (defaults) to the result\n\n  cssText = [cssText, variablesToCSSText(cssVariablesString)].join('\\n');\n  return cssText;\n}\n\nfunction variablesToCSSText() {\n  var variables = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  var rules = [];\n\n  for (var key in variables) {\n    if (Object.prototype.hasOwnProperty.call(variables, key) && typeof variables[key] !== 'undefined') {\n      rules.push(\"\".concat(key, \": \").concat(variables[key]));\n    }\n  }\n\n  if (rules.length > 0) {\n    return \"\\n      :root {\\n        \".concat(rules.join(';\\n'), \";\\n      }\\n    \");\n  } else {\n    return '';\n  }\n}\n\nexport default getCssText;\nexport { getCssText, getCssTextWithPolyfill, getCssTextWithVariables };","export default (function (value) {\n  return typeof Map !== 'undefined' && value instanceof Map;\n});","export var DEFAULT_NAMESPACE = '/';\nexport var ACTION_TYPE_DELIMITER = '||';","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react'; // Watches for changes in the match state of a media-query\n\nclass MediaQueryWatcher {\n  constructor() {\n    this.size = 'large';\n    this.interestedParties = [];\n    this.mediaQueries = {};\n\n    this.onChangeLayout = event => {\n      let newSize = 'large';\n\n      if (event.target === this.mediaQueries.small) {\n        newSize = event.matches ? 'small' : 'medium';\n      } else if (event.target === this.mediaQueries.medium) {\n        newSize = event.matches ? 'medium' : 'large';\n      }\n\n      if (newSize !== this.size) {\n        this.size = newSize;\n        this.notifyAll();\n      }\n    };\n  }\n\n  // initialize the mediaQueryList with our media-query of interest\n  setup() {\n    if (!window.matchMedia) return; // or unit tests fail\n    // Note: specifying max-widths in ems so planner will adjust its layout\n    // even if the browser window is physicallly wide, but the font-size is\n    // enlarged. This will make for a better experience.\n\n    this.mediaQueries.small = window.matchMedia('(max-width: 37em)'); // == 592px\n\n    this.mediaQueries.medium = window.matchMedia('(max-width: 56em)'); // == 896px\n\n    if (this.mediaQueries.small.matches) {\n      this.size = 'small';\n    } else if (this.mediaQueries.medium.matches) {\n      this.size = 'medium';\n    } else {\n      this.size = 'large';\n    } // some browsers support mediaQueryList.onchange. Use it if we can\n\n\n    if ('onchange' in this.mediaQueries.medium) {\n      this.mediaQueries.medium.onchange = this.onChangeLayout;\n      this.mediaQueries.small.onchange = this.onChangeLayout;\n    } else {\n      // add a window.resize event handler. When the user stops\n      // resizing for 100ms, check the state of the mediaQueryList's\n      // match state.\n      this.handleResize = () => {\n        window.clearTimeout(this.resizeTimer);\n        this.resizeTimer = window.setTimeout(() => {\n          this.resizeTimer = 0;\n          this.onChangeSize();\n        }, 100);\n      };\n\n      window.addEventListener('resize', this.handleResize);\n    }\n  }\n\n  teardown() {\n    if ('onchange' in this.mediaQueries.medium) {\n      this.mediaQueries.medium.onchange = null;\n      this.mediaQueries.small.onchange = null;\n    } else {\n      window.clearTimeout(this.resizeTimer);\n      window.removeEventListener('resize', this.handleResize);\n    }\n  } // add a component that's interested in being notified when the media-query\n  // match state changes\n\n\n  add(interestedParty) {\n    if (!this.mediaQueries.medium) {\n      this.setup();\n    }\n\n    this.interestedParties.push(interestedParty);\n    return this.size;\n  } // remove a component that's no longer interested\n\n\n  remove(interestedParty) {\n    const i = this.interestedParties.indexOf(interestedParty);\n    this.interestedParties.splice(i, 1);\n\n    if (this.mediaQueries.medium && this.interestedParties.length === 0) {\n      this.teardown();\n      this.mediaQueries.medium = null;\n    }\n  } // tell everyone that's interested something has changed\n\n\n  notifyAll() {\n    this.interestedParties.forEach(g => {\n      g.onChangeSize({\n        size: this.size\n      });\n    });\n  } // we just noticed a change in media-query match state\n\n\n  // the window was resized, check the media-query match states\n  onChangeSize() {\n    let newSize = 'large';\n\n    if (this.mediaQueries.small.matches) {\n      newSize = 'small';\n    } else if (this.mediaQueries.medium.matches) {\n      newSize = 'medium';\n    }\n\n    if (newSize !== this.size) {\n      this.size = newSize;\n      this.notifyAll();\n    }\n  }\n\n} // take any react component have it respond to media query state\n// e.g.  const ResponsiveFoo = responsiviser()(Foo)\n// The media query is currently hard-coded to deal with small v. medium v. large\n// This has the advantage over instui Responsive in that it only requires\n// one listener and has interested parties register to be notified of\n// a change in state.\n\n\nfunction responsiviser() {\n  return function (ComposedComponent) {\n    class ResponsiveComponent extends React.Component {\n      constructor(props) {\n        super(props);\n        const size = responsiviser.mqwatcher.add(this);\n        this.state = {\n          size\n        };\n      }\n\n      componentWillUnmount() {\n        responsiviser.mqwatcher.remove(this);\n      }\n\n      onChangeSize(event) {\n        this.setState({\n          size: event.size\n        });\n      }\n\n      render() {\n        return /*#__PURE__*/React.createElement(ComposedComponent, Object.assign({}, this.props, {\n          responsiveSize: this.state.size\n        }));\n      }\n\n    }\n\n    ResponsiveComponent.propTypes = _objectSpread({}, ComposedComponent.propTypes);\n    ResponsiveComponent.defaultProps = ComposedComponent.defaultProps ? _objectSpread({}, ComposedComponent.defaultProps) : null;\n    ResponsiveComponent.displayName = \"Responsive\".concat(ComposedComponent.displayName);\n    return ResponsiveComponent;\n  };\n}\n\nresponsiviser.mqwatcher = new MediaQueryWatcher(); // create the one and only one (for now)\n\nexport default responsiviser;","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n* ---\n* category: utilities/themes\n* ---\n* Parses a CSS string into an AST object\n* @module parseCss\n* @param {String} cssText CSS string to parse\n* @returns {Object} AST for the CSS string\n*/\nfunction parseCss() {\n  var cssText = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  var cleaned = cleanCss(cssText);\n  return parseLexed(lex(cleaned), cleaned);\n}\n/**\n* CSSRule types (https://developer.mozilla.org/en-US/docs/Web/API/CSSRule)\n*/\n\n\nvar ruleTypes = {\n  style: 1,\n  keyframes: 7,\n  media: 4\n};\n/**\n* Removes comments and import statements from a CSS string\n* (to prep for parsing and applying transforms)\n* @param {String} cssText CSS string to parse\n* @returns {String} cleaned CSS string\n*/\n\nfunction cleanCss() {\n  var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  // remove comments and imports\n  return text.replace(/\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim, '').replace(/@import[^;]*;/gim, '');\n}\n\nfunction lex(text) {\n  var rootNode = {\n    start: 0,\n    end: text.length\n  };\n  var node = rootNode;\n  var chars = text.split('');\n  chars.forEach(function (char, i) {\n    switch (char) {\n      case '{':\n        {\n          if (!node.rules) {\n            node.rules = [];\n          }\n\n          var parent = node;\n          var previous = parent.rules[parent.rules.length - 1];\n          node = {\n            start: i + 1,\n            parent: parent,\n            previous: previous\n          };\n          parent.rules.push(node);\n          break;\n        }\n\n      case '}':\n        {\n          node.end = i + 1;\n          node = node.parent || rootNode;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n  });\n  return rootNode;\n}\n\nfunction parseSelector(node, text) {\n  var start = node.previous ? node.previous.end : node.parent.start;\n  var end = node.start - 1;\n  var selector = text.substring(start, end);\n  selector = selector.replace(/\\s+/g, ' ');\n  selector = selector.substring(selector.lastIndexOf(';') + 1);\n  return selector.trim();\n}\n\nfunction parseRuleType(selector) {\n  if (selector.indexOf('@') === 0) {\n    if (selector.indexOf('@media') === 0) {\n      return ruleTypes.media;\n    } else if (selector.match(/^@[^\\s]*keyframes/)) {\n      return ruleTypes.keyframes;\n    }\n  } else {\n    return ruleTypes.style;\n  }\n}\n\nfunction parseLexed(node) {\n  var text = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : '';\n\n  /* eslint-disable no-param-reassign */\n  if (node.parent) {\n    node.selector = parseSelector(node, text);\n    node.type = parseRuleType(node.selector);\n  }\n\n  node.cssText = text.substring(node.start, node.end - 1).trim();\n\n  if (node.rules && node.rules.length > 0) {\n    node.rules = node.rules.map(function (rule) {\n      return parseLexed(rule, text);\n    });\n  }\n  /* eslint-enable no-param-reassign */\n\n\n  return node;\n}\n\nexport default parseCss;\nexport { parseCss, cleanCss, ruleTypes };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = promiseMiddleware;\n\nvar _isPromise = _interopRequireDefault(require(\"is-promise\"));\n\nvar _fluxStandardAction = require(\"flux-standard-action\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction promiseMiddleware(_ref) {\n  var dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (!(0, _fluxStandardAction.isFSA)(action)) {\n        return (0, _isPromise.default)(action) ? action.then(dispatch) : next(action);\n      }\n\n      return (0, _isPromise.default)(action.payload) ? action.payload.then(function (result) {\n        return dispatch(_objectSpread({}, action, {\n          payload: result\n        }));\n      }).catch(function (error) {\n        dispatch(_objectSpread({}, action, {\n          payload: error,\n          error: true\n        }));\n        return Promise.reject(error);\n      }) : next(action);\n    };\n  };\n}","\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'cjUyb',\n  template: function template(theme) {\n    return \"\\n\\n.cjUyb_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \"}\\n\\n.cjUyb_bGBk sub,.cjUyb_bGBk sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\\n\\n.cjUyb_bGBk sup{top:-0.4em}\\n\\n.cjUyb_bGBk sub{bottom:-0.4em}\\n\\n.cjUyb_bGBk code,.cjUyb_bGBk pre{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamilyMonospace || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n.cjUyb_bGBk em,.cjUyb_bGBk i{font-style:italic}\\n\\n.cjUyb_bGBk b,.cjUyb_bGBk strong{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk p{display:block;margin:\").concat(theme.paragraphMargin || 'inherit', \";padding:0}\\n\\ninput.cjUyb_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.cjUyb_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.cjUyb_bGBk[type]{text-align:right}\\n\\n.cjUyb_bGBk:focus,input.cjUyb_bGBk[type]:focus{outline:none}\\n\\n.cjUyb_bGBk.cjUyb_qFsi,input.cjUyb_bGBk[type].cjUyb_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bLsb,input.cjUyb_bGBk[type].cjUyb_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ezBQ,input.cjUyb_bGBk[type].cjUyb_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dlnd,input.cjUyb_bGBk[type].cjUyb_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cJLh,input.cjUyb_bGBk[type].cjUyb_cJLh{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fpfC,input.cjUyb_bGBk[type].cjUyb_fpfC{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eHcp,input.cjUyb_bGBk[type].cjUyb_eHcp{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dwua,input.cjUyb_bGBk[type].cjUyb_dwua{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eZgl,input.cjUyb_bGBk[type].cjUyb_eZgl{color:\").concat(theme.alertColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fbNi,input.cjUyb_bGBk[type].cjUyb_fbNi{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word}\\n\\n.cjUyb_bGBk.cjUyb_drST,input.cjUyb_bGBk[type].cjUyb_drST{font-weight:\").concat(theme.fontWeightNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_pEgL,input.cjUyb_bGBk[type].cjUyb_pEgL{font-weight:\").concat(theme.fontWeightLight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bdMA,input.cjUyb_bGBk[type].cjUyb_bdMA{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ijuF,input.cjUyb_bGBk[type].cjUyb_ijuF{font-style:normal}\\n\\n.cjUyb_bGBk.cjUyb_fetN,input.cjUyb_bGBk[type].cjUyb_fetN{font-style:italic}\\n\\n.cjUyb_bGBk.cjUyb_dfBC,input.cjUyb_bGBk[type].cjUyb_dfBC{font-size:\").concat(theme.fontSizeXSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_doqw,input.cjUyb_bGBk[type].cjUyb_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ycrn,input.cjUyb_bGBk[type].cjUyb_ycrn{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cMDj,input.cjUyb_bGBk[type].cjUyb_cMDj{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eoMd,input.cjUyb_bGBk[type].cjUyb_eoMd{font-size:\").concat(theme.fontSizeXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fdca,input.cjUyb_bGBk[type].cjUyb_fdca{font-size:\").concat(theme.fontSizeXXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fEWX,input.cjUyb_bGBk[type].cjUyb_fEWX{line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fNIu,input.cjUyb_bGBk[type].cjUyb_fNIu{line-height:\").concat(theme.lineHeightFit || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dfDs,input.cjUyb_bGBk[type].cjUyb_dfDs{line-height:\").concat(theme.lineHeightCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bDjL,input.cjUyb_bGBk[type].cjUyb_bDjL{line-height:\").concat(theme.lineHeightDouble || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eQnG,input.cjUyb_bGBk[type].cjUyb_eQnG{letter-spacing:\").concat(theme.letterSpacingNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bbUA,input.cjUyb_bGBk[type].cjUyb_bbUA{letter-spacing:\").concat(theme.letterSpacingCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bRWU,input.cjUyb_bGBk[type].cjUyb_bRWU{letter-spacing:\").concat(theme.letterSpacingExpanded || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_wZsr,input.cjUyb_bGBk[type].cjUyb_wZsr{text-transform:none}\\n\\n.cjUyb_bGBk.cjUyb_fCZK,input.cjUyb_bGBk[type].cjUyb_fCZK{text-transform:capitalize}\\n\\n.cjUyb_bGBk.cjUyb_dsRi,input.cjUyb_bGBk[type].cjUyb_dsRi{text-transform:uppercase}\\n\\n.cjUyb_bGBk.cjUyb_bLtD,input.cjUyb_bGBk[type].cjUyb_bLtD{text-transform:lowercase}\");\n  },\n  'root': 'cjUyb_bGBk',\n  'color-primary': 'cjUyb_qFsi',\n  'color-secondary': 'cjUyb_bLsb',\n  'color-primary-inverse': 'cjUyb_ezBQ',\n  'color-secondary-inverse': 'cjUyb_dlnd',\n  'color-success': 'cjUyb_cJLh',\n  'color-brand': 'cjUyb_fpfC',\n  'color-warning': 'cjUyb_eHcp',\n  'color-error': 'cjUyb_dwua',\n  'color-alert': 'cjUyb_eZgl',\n  'wrap-break-word': 'cjUyb_fbNi',\n  'weight-normal': 'cjUyb_drST',\n  'weight-light': 'cjUyb_pEgL',\n  'weight-bold': 'cjUyb_bdMA',\n  'style-normal': 'cjUyb_ijuF',\n  'style-italic': 'cjUyb_fetN',\n  'x-small': 'cjUyb_dfBC',\n  'small': 'cjUyb_doqw',\n  'medium': 'cjUyb_ycrn',\n  'large': 'cjUyb_cMDj',\n  'x-large': 'cjUyb_eoMd',\n  'xx-large': 'cjUyb_fdca',\n  'lineHeight-default': 'cjUyb_fEWX',\n  'lineHeight-fit': 'cjUyb_fNIu',\n  'lineHeight-condensed': 'cjUyb_dfDs',\n  'lineHeight-double': 'cjUyb_bDjL',\n  'letterSpacing-normal': 'cjUyb_eQnG',\n  'letterSpacing-condensed': 'cjUyb_bbUA',\n  'letterSpacing-expanded': 'cjUyb_bRWU',\n  'transform-none': 'cjUyb_wZsr',\n  'transform-capitalize': 'cjUyb_fCZK',\n  'transform-uppercase': 'cjUyb_dsRi',\n  'transform-lowercase': 'cjUyb_bLtD'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedText\n---\n**/\n\nvar Text = (_dec = deprecated('7.0.0', null, 'Use Text from ui-text instead.'), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Text, _Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          wrap = _this$props.wrap,\n          weight = _this$props.weight,\n          fontStyle = _this$props.fontStyle,\n          size = _this$props.size,\n          lineHeight = _this$props.lineHeight,\n          letterSpacing = _this$props.letterSpacing,\n          transform = _this$props.transform,\n          color = _this$props.color,\n          children = _this$props.children;\n      var ElementType = getElementType(Text, this.props);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, Text.propTypes), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[size], size), _defineProperty(_classnames, styles[\"wrap-\".concat(wrap)], wrap), _defineProperty(_classnames, styles[\"weight-\".concat(weight)], weight), _defineProperty(_classnames, styles[\"style-\".concat(fontStyle)], fontStyle), _defineProperty(_classnames, styles[\"transform-\".concat(transform)], transform), _defineProperty(_classnames, styles[\"lineHeight-\".concat(lineHeight)], lineHeight), _defineProperty(_classnames, styles[\"letterSpacing-\".concat(letterSpacing)], letterSpacing), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _classnames)),\n        ref: this.props.elementRef\n      }), children);\n    }\n  }]);\n\n  Text.displayName = \"Text\";\n  return Text;\n}(Component), _class2.propTypes = {\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n  wrap: PropTypes.oneOf(['normal', 'break-word']),\n  weight: PropTypes.oneOf(['normal', 'light', 'bold']),\n  fontStyle: PropTypes.oneOf(['italic', 'normal']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  lineHeight: PropTypes.oneOf(['default', 'fit', 'condensed', 'double']),\n  letterSpacing: PropTypes.oneOf(['normal', 'condensed', 'expanded']),\n  transform: PropTypes.oneOf(['none', 'capitalize', 'uppercase', 'lowercase']),\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand']),\n  children: PropTypes.node,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  as: 'span',\n  wrap: 'normal',\n  size: 'medium',\n  letterSpacing: 'normal',\n  children: null,\n  elementRef: void 0,\n  color: void 0,\n  transform: void 0,\n  lineHeight: void 0,\n  fontStyle: void 0,\n  weight: void 0\n}, _temp)) || _class) || _class);\nexport default Text;\nexport { Text };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      spacing = _ref.spacing;\n  return _objectSpread({}, typography, {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    alertColor: colors.textAlert,\n    paragraphMargin: \"\".concat(spacing.medium, \" 0\")\n  });\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","/*! https://mths.be/esrever v0.2.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar regexSymbolWithCombiningMarks = /([\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])([\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F]+)/g;\n\tvar regexSurrogatePair = /([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])/g;\n\n\tvar reverse = function(string) {\n\t\t// Step 1: deal with combining marks and astral symbols (surrogate pairs)\n\t\tstring = string\n\t\t\t// Swap symbols with their combining marks so the combining marks go first\n\t\t\t.replace(regexSymbolWithCombiningMarks, function($0, $1, $2) {\n\t\t\t\t// Reverse the combining marks so they will end up in the same order\n\t\t\t\t// later on (after another round of reversing)\n\t\t\t\treturn reverse($2) + $1;\n\t\t\t})\n\t\t\t// Swap high and low surrogates so the low surrogates go first\n\t\t\t.replace(regexSurrogatePair, '$2$1');\n\t\t// Step 2: reverse the code units in the string\n\t\tvar result = '';\n\t\tvar index = string.length;\n\t\twhile (index--) {\n\t\t\tresult += string.charAt(index);\n\t\t}\n\t\treturn result;\n\t};\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar esrever = {\n\t\t'version': '0.2.0',\n\t\t'reverse': reverse\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn esrever;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = esrever;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in esrever) {\n\t\t\t\tesrever.hasOwnProperty(key) && (freeExports[key] = esrever[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.esrever = esrever;\n\t}\n\n}(this));\n","var camelCase = require('camel-case')\nvar upperCaseFirst = require('upper-case-first')\n\n/**\n * Pascal case a string.\n *\n * @param  {string}  value\n * @param  {string}  [locale]\n * @param  {boolean} [mergeNumbers]\n * @return {string}\n */\nmodule.exports = function (value, locale, mergeNumbers) {\n  return upperCaseFirst(camelCase(value, locale, mergeNumbers), locale)\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n//  based on: https://github.com/ai/nanoid/blob/master/non-secure.js\nvar dictionary = 'getRandomVcryp0123456789bfhijklqsuvwxzABCDEFGHIJKLMNOPQSTUWXYZ';\nvar dictionaryLengthMinus1 = dictionary.length - 1;\n/**\n * ---\n * category: utilities\n * ---\n * Generate a unique (CSS-safe) id string\n *\n * @module uid\n * @param {String} prefix a string to prefix the id for debugging in non-production env\n * @param {Number} length id length (in characters, minus the prefix)\n * @returns {String} a unique id\n */\n\nfunction uid() {\n  var prefix = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = \"u\".concat(_uid('', length - 1));\n\n  if (prefix && process.env.NODE_ENV !== 'production') {\n    return \"\".concat(prefix, \"__\").concat(id);\n  } else {\n    return id;\n  }\n}\n\nfunction _random(size) {\n  var result = [];\n\n  while (0 < size--) {\n    /* eslint-disable-line no-param-reassign */\n    result.push(Math.floor(Math.random() * 256));\n  }\n\n  return result;\n}\n\nfunction _uid(_ignored) {\n  var idLength = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = '';\n\n  var bytes = _random(idLength);\n\n  while (0 < idLength--) {\n    /* eslint-disable-line no-param-reassign */\n    id += dictionary[bytes[idLength] & dictionaryLengthMinus1];\n  }\n\n  return id;\n}\n\nexport default uid;\nexport { uid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { uid } from '@instructure/uid';\nimport { polyfill } from '@instructure/ui-react-utils';\nimport { createChainedFunction } from '@instructure/ui-utils';\n\nvar toggleExpanded = function toggleExpanded(_ref) {\n  var expanded = _ref.expanded;\n  return {\n    expanded: !expanded\n  };\n};\n/**\n---\ncategory: components/utilities\n---\n*/\n\n\nvar Expandable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Expandable, _Component);\n\n  function Expandable(props) {\n    var _this;\n\n    _classCallCheck(this, Expandable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Expandable).call(this));\n\n    _this.handleToggle = function (event) {\n      if (!_this.isControlled()) {\n        _this.setState(toggleExpanded);\n      }\n\n      _this.props.onToggle(event, !_this.expanded);\n    };\n\n    _this.state = {\n      expanded: _this.isControlled(props) ? props.expanded : !!props.defaultExpanded\n    };\n    _this._contentId = uid('Expandable__content');\n    return _this;\n  }\n\n  _createClass(Expandable, [{\n    key: \"isControlled\",\n    value: function isControlled() {\n      var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.props;\n      return typeof props.expanded === 'boolean';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          _this$props$render = _this$props.render,\n          render = _this$props$render === void 0 ? children : _this$props$render;\n\n      if (typeof render === 'function') {\n        return render({\n          expanded: this.expanded,\n          getToggleProps: function getToggleProps() {\n            var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n            return _objectSpread({\n              'aria-controls': _this2._contentId,\n              'aria-expanded': _this2.expanded,\n              onClick: createChainedFunction(_this2.handleToggle, props.onClick)\n            }, props);\n          },\n          getDetailsProps: function getDetailsProps(props) {\n            return {\n              id: _this2._contentId\n            };\n          }\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"expanded\",\n    get: function get() {\n      return this.isControlled() ? this.props.expanded : this.state.expanded;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, state) {\n      if ( // if component is controlled, keep internal state up to date\n      // with the `expanded` prop value\n      typeof nextProps.expanded === 'boolean' && nextProps.expanded !== state.expanded) {\n        return {\n          expanded: nextProps.expanded\n        };\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  Expandable.displayName = \"Expandable\";\n  return Expandable;\n}(Component);\n\nExpandable.propTypes = {\n  /**\n  * Whether the content is expanded or hidden\n  */\n  expanded: controllable(PropTypes.bool, 'onToggle', 'defaultExpanded'),\n\n  /**\n  * Whether the content is initially expanded or hidden (uncontrolled)\n  */\n  defaultExpanded: PropTypes.bool,\n  onToggle: PropTypes.func,\n\n  /**\n  * @param {Object} renderProps\n  * @param {Boolean} expanded\n  * @param {Function} renderProps.getToggleProps - Props to be spread onto the trigger element\n  * @param {Function} renderProps.getDetailsProps - Props to be spread onto the details element\n  */\n  children: PropTypes.func,\n\n  /**\n  * Identical to children\n  */\n  render: PropTypes.func\n};\nExpandable.defaultProps = {\n  defaultExpanded: false,\n  onToggle: function onToggle(event, expanded) {},\n  expanded: void 0,\n  children: null,\n  render: void 0\n};\npolyfill(Expandable);\nexport default Expandable;\nexport { Expandable };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { polyfill as _polyfill } from 'react-lifecycles-compat';\nexport var polyfill = function polyfill() {\n  return _polyfill.apply(void 0, arguments);\n};","/*\n * Copyright (C) 2014 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Backbone from 'Backbone'\n\n/**\n * Creates a data store with some initial state.\n *\n * ```js\n * var UserStore = createStore({loaded: false, users: []});\n *\n * UserStore.load = function() {\n *   $.getJSON('/users', function(users) {\n *     UserStore.setState({loaded: true, users});\n *   });\n * };\n * ```\n *\n * Then in a component:\n *\n * ```js\n * var UsersView = React.createClass({\n *   getInitialState () {\n *     return UserStore.getState();\n *   },\n *\n *   componentDidMount () {\n *     UserStore.addChangeListener(this.handleStoreChange);\n *     UserStore.load();\n *   },\n *\n *   handleStoreChange () {\n *     this.setState(UserStore.getState());\n *   }\n * });\n * ```\n */\n\nfunction createStore(initialState) {\n  const events = {...Backbone.Events}\n  let state = initialState || {}\n\n  return {\n    setState(newState) {\n      Object.assign(state, newState)\n      this.emitChange()\n    },\n\n    getState() {\n      return state\n    },\n\n    clearState() {\n      state = {}\n      this.emitChange()\n    },\n\n    addChangeListener(listener) {\n      events.on('change', listener)\n    },\n\n    removeChangeListener(listener) {\n      events.off('change', listener)\n    },\n\n    emitChange() {\n      events.trigger('change')\n    }\n  }\n}\n\nexport default createStore\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities\n * ---\n * Deep clones an array with sub arrays\n *\n * @param {Array} arr\n * @returns {Array} Returns a copy of the array\n*/\nfunction cloneArray(arr) {\n  var copy;\n\n  if (Array.isArray(arr)) {\n    copy = arr.slice(0);\n\n    for (var i = 0; i < copy.length; i++) {\n      copy[i] = cloneArray(copy[i]);\n    }\n\n    return copy;\n  } else {\n    return arr;\n  }\n}\n\nexport default cloneArray;\nexport { cloneArray };","/**\n * Special language-specific overrides.\n *\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n *\n * @type {Object}\n */\nvar LANGUAGES = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      '\\u0130': '\\u0069',\n      '\\u0049': '\\u0131',\n      '\\u0049\\u0307': '\\u0069'\n    }\n  },\n  az: {\n    regexp: /[\\u0130]/g,\n    map: {\n      '\\u0130': '\\u0069',\n      '\\u0049': '\\u0131',\n      '\\u0049\\u0307': '\\u0069'\n    }\n  },\n  lt: {\n    regexp: /[\\u0049\\u004A\\u012E\\u00CC\\u00CD\\u0128]/g,\n    map: {\n      '\\u0049': '\\u0069\\u0307',\n      '\\u004A': '\\u006A\\u0307',\n      '\\u012E': '\\u012F\\u0307',\n      '\\u00CC': '\\u0069\\u0307\\u0300',\n      '\\u00CD': '\\u0069\\u0307\\u0301',\n      '\\u0128': '\\u0069\\u0307\\u0303'\n    }\n  }\n}\n\n/**\n * Lowercase a string.\n *\n * @param  {String} str\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  var lang = LANGUAGES[locale]\n\n  str = str == null ? '' : String(str)\n\n  if (lang) {\n    str = str.replace(lang.regexp, function (m) { return lang.map[m] })\n  }\n\n  return str.toLowerCase()\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * Polyfill custom media for [themeable](#themeable) components.\n * Searches for strings like `(--mediumMin)` and replaces it with the\n * variable value (e.g. `variables.mediumMin`)\n * @param {String} cssText the CSS text to apply the custom media to\n * @param {Object|Function} variables object containing custom media variables, or a function that returns the variables object that will be lazy-evaluated only if there are matched media query\n * @returns {String} CSS text with custom media values applied\n */\nfunction applyCustomMediaToCss(cssText, variables) {\n  var matches = getMatches(cssText, /@media\\s*[^(]*\\((--[^)]+)\\)?/g);\n  var result = cssText;\n\n  if (matches.length > 0) {\n    var vars = typeof variables === 'function' ? variables() : variables;\n    matches.forEach(function (match) {\n      var matcher = new RegExp(match[1].replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'gm');\n      result = result.replace(matcher, vars[match[1]]);\n    });\n  }\n\n  return result;\n}\n\nfunction getMatches(str, regex) {\n  var matches = [];\n  var match;\n  var matcher = regex;\n  matcher.lastIndex = 0;\n  matcher = new RegExp(matcher.source, 'g'); // eslint-disable-next-line no-cond-assign\n\n  while ((match = matcher.exec(str)) !== null) {\n    matches.push(match);\n\n    if (matcher.lastIndex === match.index) {\n      matcher.lastIndex++;\n    }\n  }\n\n  return matches;\n}\n\nexport default applyCustomMediaToCss;\nexport { applyCustomMediaToCss };","var lowerCase = require('lower-case')\n\n/**\n * Check if a string is lower case.\n *\n * @param  {String}  string\n * @param  {String}  [locale]\n * @return {Boolean}\n */\nmodule.exports = function (string, locale) {\n  return lowerCase(string, locale) === string\n}\n","export default (function (value) {\n  return value;\n});","\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n","export default (function (value) {\n  return Array.isArray(value);\n});","export default (function (value) {\n  return typeof value === 'string';\n});","export default (function (array) {\n  return array[array.length - 1];\n});","import camelCase from 'to-camel-case';\nvar namespacer = '/';\nexport default (function (type) {\n  return type.indexOf(namespacer) === -1 ? camelCase(type) : type.split(namespacer).map(camelCase).join(namespacer);\n});","export default (function (array, callback) {\n  return array.reduce(function (partialObject, element) {\n    return callback(partialObject, element);\n  }, {});\n});","import isPlainObject from './isPlainObject';\nimport flattenWhenNode from './flattenWhenNode';\nexport default flattenWhenNode(isPlainObject);","import { DEFAULT_NAMESPACE } from '../constants';\nimport isEmpty from './isEmpty';\nimport camelCase from './camelCase';\nexport default function unflattenActionCreators(flatActionCreators, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n      prefix = _ref.prefix;\n\n  function unflatten(flatActionType, partialNestedActionCreators, partialFlatActionTypePath) {\n    var nextNamespace = camelCase(partialFlatActionTypePath.shift());\n\n    if (isEmpty(partialFlatActionTypePath)) {\n      partialNestedActionCreators[nextNamespace] = flatActionCreators[flatActionType];\n    } else {\n      if (!partialNestedActionCreators[nextNamespace]) {\n        partialNestedActionCreators[nextNamespace] = {};\n      }\n\n      unflatten(flatActionType, partialNestedActionCreators[nextNamespace], partialFlatActionTypePath);\n    }\n  }\n\n  var nestedActionCreators = {};\n  Object.getOwnPropertyNames(flatActionCreators).forEach(function (type) {\n    var unprefixedType = prefix ? type.replace(\"\" + prefix + namespace, '') : type;\n    return unflatten(type, nestedActionCreators, unprefixedType.split(namespace));\n  });\n  return nestedActionCreators;\n}","export default (function (value) {\n  return value.length === 0;\n});","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport invariant from 'invariant';\nimport isPlainObject from './utils/isPlainObject';\nimport isFunction from './utils/isFunction';\nimport identity from './utils/identity';\nimport isArray from './utils/isArray';\nimport isString from './utils/isString';\nimport isNil from './utils/isNil';\nimport getLastElement from './utils/getLastElement';\nimport camelCase from './utils/camelCase';\nimport arrayToObject from './utils/arrayToObject';\nimport flattenActionMap from './utils/flattenActionMap';\nimport unflattenActionCreators from './utils/unflattenActionCreators';\nimport createAction from './createAction';\nimport { DEFAULT_NAMESPACE } from './constants';\nexport default function createActions(actionMap) {\n  for (var _len = arguments.length, identityActions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    identityActions[_key - 1] = arguments[_key];\n  }\n\n  var options = isPlainObject(getLastElement(identityActions)) ? identityActions.pop() : {};\n  invariant(identityActions.every(isString) && (isString(actionMap) || isPlainObject(actionMap)), 'Expected optional object followed by string action types');\n\n  if (isString(actionMap)) {\n    return actionCreatorsFromIdentityActions([actionMap].concat(identityActions), options);\n  }\n\n  return _objectSpread({}, actionCreatorsFromActionMap(actionMap, options), actionCreatorsFromIdentityActions(identityActions, options));\n}\n\nfunction actionCreatorsFromActionMap(actionMap, options) {\n  var flatActionMap = flattenActionMap(actionMap, options);\n  var flatActionCreators = actionMapToActionCreators(flatActionMap);\n  return unflattenActionCreators(flatActionCreators, options);\n}\n\nfunction actionMapToActionCreators(actionMap, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      prefix = _ref.prefix,\n      _ref$namespace = _ref.namespace,\n      namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace;\n\n  function isValidActionMapValue(actionMapValue) {\n    if (isFunction(actionMapValue) || isNil(actionMapValue)) {\n      return true;\n    }\n\n    if (isArray(actionMapValue)) {\n      var _actionMapValue$ = actionMapValue[0],\n          payload = _actionMapValue$ === void 0 ? identity : _actionMapValue$,\n          meta = actionMapValue[1];\n      return isFunction(payload) && isFunction(meta);\n    }\n\n    return false;\n  }\n\n  return arrayToObject(Object.keys(actionMap), function (partialActionCreators, type) {\n    var _objectSpread2;\n\n    var actionMapValue = actionMap[type];\n    invariant(isValidActionMapValue(actionMapValue), 'Expected function, undefined, null, or array with payload and meta ' + (\"functions for \" + type));\n    var prefixedType = prefix ? \"\" + prefix + namespace + type : type;\n    var actionCreator = isArray(actionMapValue) ? createAction.apply(void 0, [prefixedType].concat(actionMapValue)) : createAction(prefixedType, actionMapValue);\n    return _objectSpread({}, partialActionCreators, (_objectSpread2 = {}, _objectSpread2[type] = actionCreator, _objectSpread2));\n  });\n}\n\nfunction actionCreatorsFromIdentityActions(identityActions, options) {\n  var actionMap = arrayToObject(identityActions, function (partialActionMap, type) {\n    var _objectSpread3;\n\n    return _objectSpread({}, partialActionMap, (_objectSpread3 = {}, _objectSpread3[type] = identity, _objectSpread3));\n  });\n  var actionCreators = actionMapToActionCreators(actionMap, options);\n  return arrayToObject(Object.keys(actionCreators), function (partialActionCreators, type) {\n    var _objectSpread4;\n\n    return _objectSpread({}, partialActionCreators, (_objectSpread4 = {}, _objectSpread4[camelCase(type)] = actionCreators[type], _objectSpread4));\n  });\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from '@instructure/ui-dom-utils';\nimport { isEdge } from '@instructure/ui-utils';\nvar cachedReturnVal;\n/**\n * ---\n * category: utilities/DOM\n * ---\n * check if CSS custom properties (CSS variables) are supported\n * @returns {Boolean} true if the DOM is available and CSS variables are supported\n */\n\nfunction customPropertiesSupported() {\n  if (typeof cachedReturnVal !== 'undefined') return cachedReturnVal; // Since JSDOM doesn't need to support CSS Custom properties to work correctly, we will\n  // say that they are supported if we are in JSDOM. This will keep unnecessary style tags\n  // from being added to the DOM, keeping test output clean.\n\n  var environmentIsJSDOM = navigator && navigator.userAgent && navigator.userAgent.includes('jsdom');\n  var browserSupportsCustomProperties = window.CSS && window.CSS.supports && window.CSS.supports('color', 'var(--primary)');\n  return cachedReturnVal = canUseDOM && !isEdge && ( // polyfill edge until improved css variable support\n  browserSupportsCustomProperties || environmentIsJSDOM);\n}\n\nexport default customPropertiesSupported;\nexport { customPropertiesSupported };","module.exports = /[^A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC0-9\\xB2\\xB3\\xB9\\xBC-\\xBE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]+/g\n","var upperCase = require('upper-case')\nvar snakeCase = require('snake-case')\n\n/**\n * Constant case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return upperCase(snakeCase(value, locale), locale)\n}\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * Formats a variable as a CSS variable (prefixed with `--`)\n * @param {String} variableName\n * @param {String} prefix an optional prefix to add to the variable name\n * @returns {String} formatted variable name\n */\nfunction formatVariableName(variableName, prefix) {\n  var name = prefix ? \"\".concat(prefix, \"-\").concat(variableName) : variableName;\n  return \"--\".concat(name);\n}\n\nexport default formatVariableName;\nexport { formatVariableName };","var noCase = require('no-case')\n\n/**\n * Path case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale, '/')\n}\n","export default (function (value) {\n  return value.toString();\n});","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport isPlainObject from './utils/isPlainObject';\nimport identity from './utils/identity';\nimport isNil from './utils/isNil';\nimport isUndefined from './utils/isUndefined';\nimport toString from './utils/toString';\nimport { ACTION_TYPE_DELIMITER } from './constants';\nexport default function handleAction(type, reducer, defaultState) {\n  if (reducer === void 0) {\n    reducer = identity;\n  }\n\n  var types = toString(type).split(ACTION_TYPE_DELIMITER);\n  invariant(!isUndefined(defaultState), \"defaultState for reducer handling \" + types.join(', ') + \" should be defined\");\n  invariant(isFunction(reducer) || isPlainObject(reducer), 'Expected reducer to be a function or object with next and throw reducers');\n\n  var _ref = isFunction(reducer) ? [reducer, reducer] : [reducer.next, reducer.throw].map(function (aReducer) {\n    return isNil(aReducer) ? identity : aReducer;\n  }),\n      nextReducer = _ref[0],\n      throwReducer = _ref[1];\n\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    var actionType = action.type;\n\n    if (!actionType || types.indexOf(toString(actionType)) === -1) {\n      return state;\n    }\n\n    return (action.error === true ? throwReducer : nextReducer)(state, action);\n  };\n}","export default (function (value) {\n  return value === undefined;\n});","\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { findDOMNode } from './findDOMNode';\nimport { getComputedStyle } from './getComputedStyle';\n/**\n * ---\n * category: utilities/DOM\n * ---\n *\n * Determine if an element is visible.\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @param {boolean} recursive - by default all parent elements are checked\n * recursively to accurately determine visibility. setting this to `false`\n * will determine visibility based only on the styles of the given node.\n * @returns {boolean} if the element is visible\n */\n\nfunction isVisible(el) {\n  var recursive = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n  var node = el && findDOMNode(el); // skip document or window nodes\n\n  if (node === window || node === document || node === document.body) {\n    return true;\n  }\n\n  var parent = node.parentNode; // skip text node, check parent\n\n  if (node.nodeType === 3) {\n    return isVisible(parent, recursive);\n  }\n\n  var style = getComputedStyle(node); // physically and visually hidden\n\n  if (style.display === 'none') {\n    return false;\n  } // visually hidden\n\n\n  if (style.visibility === 'hidden' || style.opacity === '0') {\n    return false;\n  } // hidden by clipping\n\n\n  if (style.overflow === 'hidden' && style.position === 'absolute' && style.clip !== 'auto') {\n    var rect = style.clip.substring(5).slice(0, -1).split(', ');\n    var zeros = true;\n    rect.forEach(function (a) {\n      if (a !== '0px') {\n        zeros = false;\n      }\n    });\n\n    if (zeros) {\n      return false;\n    }\n  }\n\n  if (recursive && parent) {\n    // recursively check parent visibility\n    return isVisible(parent);\n  } else {\n    return true;\n  }\n}\n\nexport default isVisible;\nexport { isVisible };","var lowerCase = require('lower-case')\n\nvar NON_WORD_REGEXP = require('./vendor/non-word-regexp')\nvar CAMEL_CASE_REGEXP = require('./vendor/camel-case-regexp')\nvar CAMEL_CASE_UPPER_REGEXP = require('./vendor/camel-case-upper-regexp')\n\n/**\n * Sentence case a string.\n *\n * @param  {string} str\n * @param  {string} locale\n * @param  {string} replacement\n * @return {string}\n */\nmodule.exports = function (str, locale, replacement) {\n  if (str == null) {\n    return ''\n  }\n\n  replacement = typeof replacement !== 'string' ? ' ' : replacement\n\n  function replace (match, index, value) {\n    if (index === 0 || index === (value.length - match.length)) {\n      return ''\n    }\n\n    return replacement\n  }\n\n  str = String(str)\n    // Support camel case (\"camelCase\" -> \"camel Case\").\n    .replace(CAMEL_CASE_REGEXP, '$1 $2')\n    // Support odd camel case (\"CAMELCase\" -> \"CAMEL Case\").\n    .replace(CAMEL_CASE_UPPER_REGEXP, '$1 $2')\n    // Remove all non-word characters and replace with a single space.\n    .replace(NON_WORD_REGEXP, replace)\n\n  // Lower case the entire string.\n  return lowerCase(str, locale)\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { warn as _warn } from \"@instructure/console\";\nimport { error as _error } from \"@instructure/console\";\nimport { mergeDeep, isEmpty } from '@instructure/ui-utils';\nimport { StyleSheet } from '@instructure/ui-stylesheet';\nimport { uid } from '@instructure/uid';\nimport { getCssText } from './getCssText';\nimport { toRules } from './transformCss';\nvar DEFAULT_THEME_KEY = '@@themeableDefaultTheme';\nvar GLOBAL_THEME_REGISTRY = 'GLOBAL_THEME_REGISTRY'; // initialize the registry:\n\nif (global[GLOBAL_THEME_REGISTRY]) {\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(false, \"[themeable] A theme registry has already been initialized. Ensure that you are importing only one copy of '@instructure/ui-themeable'.\"); // initialize the registry using whatever has been previously defined:\n\n\n  setRegistry(validateRegistry(global[GLOBAL_THEME_REGISTRY]));\n} else {\n  // initialize the registry to the default/empty state:\n  clearRegistry();\n}\n\nfunction makeRegistry() {\n  return {\n    styleSheet: StyleSheet,\n    defaultThemeKey: null,\n    components: _defineProperty({}, DEFAULT_THEME_KEY, {}),\n    themes: {},\n    registered: [] // the theme keys in the order they are registered\n\n  };\n}\n\nfunction validateRegistry(registry) {\n  var defaultRegistry = makeRegistry();\n\n  if (typeof registry === 'undefined') {\n    return defaultRegistry;\n  }\n\n  var valid = true;\n  Object.keys(defaultRegistry).forEach(function (key) {\n    if (typeof registry[key] === 'undefined') {\n      valid = false;\n    }\n  });\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(valid, '[themeable] Invalid global theme registry!');\n\n  return registry;\n}\n/**\n* Get the global theme registry\n* @return {object} The theme registry\n*/\n\n\nfunction getRegistry() {\n  return global[GLOBAL_THEME_REGISTRY];\n}\n/**\n* Set the global theme registry\n*/\n\n\nfunction setRegistry(registry) {\n  global[GLOBAL_THEME_REGISTRY] = registry;\n}\n/**\n* Clear/reset the global theme registry\n*/\n\n\nfunction clearRegistry() {\n  setRegistry(makeRegistry());\n}\n/**\n* Get the default theme key\n* @return {String} the default theme key\n*/\n\n\nfunction getDefaultThemeKey() {\n  var _getRegistry = getRegistry(),\n      defaultThemeKey = _getRegistry.defaultThemeKey,\n      registered = _getRegistry.registered;\n\n  return defaultThemeKey || registered[registered.length - 1] || DEFAULT_THEME_KEY;\n}\n/**\n* Get the default theme key\n* @param {String} the default theme key\n* @param {Object} overrides for the theme variables\n*/\n\n\nfunction setDefaultTheme(themeKey, overrides) {\n  var registry = getRegistry();\n  var theme = registry.themes[themeKey];\n\n  if (!theme) {\n    if (themeKey !== DEFAULT_THEME_KEY) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(theme, \"[themeable] Could not find theme: '\".concat(themeKey, \"' in the registry.\"));\n    }\n\n    theme = {};\n  }\n\n  registry.defaultThemeKey = themeKey;\n  registry.overrides = overrides;\n  return theme;\n}\n/**\n * Wraps a theme and provides a method to set as default and toggle between a11y and base\n *\n * @param {String} themeKey\n * @param {Object} options Provide the base theme and an optional accessible version\n */\n\n\nfunction makeTheme(_ref) {\n  var key = _ref.key,\n      variables = _ref.variables,\n      a11y = _ref.a11y,\n      immutable = _ref.immutable,\n      description = _ref.description;\n  var themeKey = key || uid();\n  return {\n    key: themeKey,\n    immutable: immutable,\n    variables: _objectSpread({}, variables),\n    description: description,\n    use: function use() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n          accessible = _ref2.accessible,\n          overrides = _ref2.overrides;\n\n      if (accessible) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warn(a11y && a11y.key, \"[themeable] No accessible theme provided for \".concat(themeKey, \".\"));\n\n        if (a11y && a11y.key) {\n          setDefaultTheme(a11y.key);\n        }\n      } else {\n        setDefaultTheme(themeKey, overrides);\n      }\n    }\n  };\n}\n\nfunction registerTheme(theme) {\n  var registry = getRegistry();\n  var registeredTheme;\n\n  if (theme.key && registry.themes[theme.key]) {\n    registeredTheme = registry.themes[theme.key];\n  } else {\n    registeredTheme = makeTheme(theme);\n    registry.themes[registeredTheme.key] = registeredTheme;\n    registry.registered.push(registeredTheme.key);\n  }\n\n  return registeredTheme;\n}\n\nfunction getRegisteredTheme(themeKey) {\n  var defaultTheme = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  if (!themeKey) return defaultTheme;\n  var theme = getRegistry().themes[themeKey];\n\n  if (theme) {\n    return theme;\n  } else {\n    if (themeKey !== DEFAULT_THEME_KEY) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(theme, \"[themeable] Could not find theme: '\".concat(themeKey, \"' in the registry.\"));\n    }\n\n    return defaultTheme;\n  }\n}\n\nfunction getVariablesWithOverrides(themeKey, overrides) {\n  var theme = getRegisteredTheme(themeKey);\n  var variables = theme.variables || {};\n  var overridesIsEmpty = isEmpty(overrides);\n\n  if (!overridesIsEmpty && theme.immutable) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn(false, \"[themeable] Theme, '\".concat(theme.key, \"', is immutable. Cannot apply overrides: \").concat(JSON.stringify(overrides)));\n\n    return variables;\n  }\n\n  var variablesIsEmpty = isEmpty(variables);\n  if (!variablesIsEmpty && !overridesIsEmpty) return mergeDeep(variables, overrides);\n  if (variablesIsEmpty) return overrides || {};\n  return variables;\n}\n/**\n* Merge theme variables for 'themeKey' with the defaults (and overrides)\n* @private\n* @param {String} themeKey\n* @param {Object} variable Theme overrides\n* @return {Object} A merged variables object\n*/\n\n\nfunction mergeWithDefaultThemeVariables(themeKey, overrides) {\n  var variables;\n\n  if (themeKey) {\n    variables = getVariablesWithOverrides(themeKey, overrides);\n  } else {\n    // fall back to defaults, but still apply overrides\n    var defaultOverrides = getRegistry().overrides;\n    var defaultOverridesIsEmpty = isEmpty(defaultOverrides);\n\n    if (!defaultOverridesIsEmpty && !isEmpty(overrides)) {\n      variables = mergeDeep(defaultOverrides, overrides);\n    } else if (defaultOverridesIsEmpty) {\n      variables = overrides;\n    } else {\n      variables = defaultOverrides;\n    }\n  }\n\n  return getVariablesWithOverrides(getDefaultThemeKey(), variables);\n}\n/**\n * Wraps a component theme function to merge its return values with the return\n * values of the default function\n * @private\n * @param {Function} componentThemeFunction\n * @param {String} themeKey\n * @return {Object} A wrapped theme object\n */\n\n\nfunction makeComponentTheme(componentThemeFunction, themeKey) {\n  return function (variables) {\n    var theme = {};\n\n    if (typeof componentThemeFunction === 'function') {\n      theme = componentThemeFunction(variables);\n    } // so that the components for the themeKey can\n    // just specify overrides we merge them with defaults here\n\n\n    var defaultComponentTheme = {};\n\n    if (typeof componentThemeFunction[themeKey] === 'function') {\n      defaultComponentTheme = componentThemeFunction[themeKey](variables);\n    }\n\n    if (!isEmpty(defaultComponentTheme) && !isEmpty(theme)) {\n      theme = _objectSpread({}, theme, {}, defaultComponentTheme);\n    } else if (isEmpty(theme)) {\n      theme = defaultComponentTheme;\n    }\n\n    return theme;\n  };\n}\n/**\n* Register a component theme function\n*\n* @param {String} key The theme key for the component (e.g., [Link.theme])\n* @param {Function} componentThemeFunction The function to use for preparing this component's theme\n*/\n\n\nfunction registerComponentTheme(componentKey, componentThemeFunction) {\n  var _getRegistry2 = getRegistry(),\n      components = _getRegistry2.components;\n\n  if (typeof componentThemeFunction !== 'function') {\n    return;\n  }\n\n  components[DEFAULT_THEME_KEY][componentKey] = componentThemeFunction;\n  Object.keys(componentThemeFunction).forEach(function (themeKey) {\n    if (!components.hasOwnProperty(themeKey)) {\n      // eslint-disable-line no-prototype-builtins\n      components[themeKey] = {};\n    }\n\n    components[themeKey][componentKey] = makeComponentTheme(componentThemeFunction, themeKey);\n  });\n}\n\nfunction getRegisteredComponents(themeKey) {\n  var _getRegistry3 = getRegistry(),\n      components = _getRegistry3.components;\n\n  var t = themeKey || getDefaultThemeKey(); // fall back to the default component theme functions\n\n  return _objectSpread({}, components[DEFAULT_THEME_KEY], {}, components[t]);\n}\n\nfunction getRegisteredComponent(themeKey, componentKey) {\n  var _getRegistry4 = getRegistry(),\n      components = _getRegistry4.components;\n\n  return components[themeKey] && components[themeKey][componentKey] || components[DEFAULT_THEME_KEY][componentKey];\n}\n/**\n* Generate themes for all registered [@themeable](#themeable) components,\n* to be used by [`<ApplyTheme />`](#ApplyTheme).\n*\n* @param {String} themeKey The theme to use (for global theme variables across components)\n* @param {Object} overrides theme variable overrides (usually for user defined values)\n* @return {Object} A theme config to use with `<ApplyTheme />`\n*/\n\n\nfunction generateTheme(themeKey, overrides) {\n  var registry = getRegistry();\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _error(registry.registered.length > 0, '[themeable] No themes have been registered. ' + 'Import a theme from @instructure/ui-themes or register a custom theme with registerTheme ' + '(see @instructure/ui-themeable).');\n\n  var components = getRegisteredComponents(themeKey);\n  var theme = {};\n  var variables = mergeWithDefaultThemeVariables(themeKey, overrides);\n\n  if (isEmpty(variables)) {\n    return;\n  }\n\n  Object.getOwnPropertySymbols(components).forEach(function (componentKey) {\n    theme[componentKey] = components[componentKey](variables);\n  });\n  return theme;\n}\n/**\n * Generate theme variables for a @themeable component.\n * If no themeKey is provided, the default theme will be generated.\n *\n * @param {Symbol} key The theme key for the component (e.g., [Link.theme])\n * @param {String} themeKey The theme to use to generate the variables (falls back to the default theme)\n * @param {Object} overrides overrides for component level theme variables (usually user defined)\n * @return {Object} A theme config for the component\n */\n\n\nfunction generateComponentTheme(componentKey, themeKey, overrides) {\n  var t = themeKey || getDefaultThemeKey();\n  var theme = getRegisteredTheme(t);\n  var componentTheme = {};\n  var cachedComponentTheme = theme[componentKey];\n\n  if (cachedComponentTheme) {\n    // use the cached component theme if it exists\n    componentTheme = cachedComponentTheme;\n  } else {\n    var variables = _objectSpread({\n      borders: {},\n      breakpoints: {},\n      colors: {},\n      forms: {},\n      media: {},\n      shadows: {},\n      spacing: {},\n      stacking: {},\n      transitions: {},\n      typography: {}\n    }, mergeWithDefaultThemeVariables(themeKey));\n\n    var componentThemeFunction = getRegisteredComponent(t, componentKey);\n\n    if (typeof componentThemeFunction === 'function') {\n      try {\n        componentTheme = componentThemeFunction(variables);\n      } catch (e) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(false, \"[themeable] \".concat(e));\n      }\n    }\n  }\n\n  if (isEmpty(overrides)) {\n    return theme[componentKey] = componentTheme;\n  } else if (theme.immutable) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn(false, \"[themeable] Theme '\".concat(t, \"' is immutable. Cannot apply overrides for '\").concat(componentKey.toString(), \"': \").concat(JSON.stringify(overrides)));\n\n    return componentTheme;\n  } else if (isEmpty(componentTheme)) {\n    return overrides;\n  } else {\n    return _objectSpread({}, componentTheme, {}, overrides);\n  }\n}\n\nfunction getRegisteredThemes() {\n  return getRegistry().themes;\n}\n\nfunction mountComponentStyles(template, defaultTheme, componentId) {\n  var _getRegistry5 = getRegistry(),\n      styleSheet = _getRegistry5.styleSheet;\n\n  if (styleSheet && !styleSheet.mounted(componentId)) {\n    var cssText = getCssText(template, defaultTheme, componentId);\n    styleSheet.mount(componentId, toRules(cssText));\n  }\n}\n\nfunction flushComponentStyles() {\n  var _getRegistry6 = getRegistry(),\n      styleSheet = _getRegistry6.styleSheet;\n\n  styleSheet && styleSheet.flush();\n}\n\nvar ThemeRegistry = {\n  getRegistry: getRegistry,\n  clearRegistry: clearRegistry,\n  setRegistry: setRegistry,\n  generateComponentTheme: generateComponentTheme,\n  generateTheme: generateTheme,\n  getRegisteredThemes: getRegisteredThemes,\n  registerComponentTheme: registerComponentTheme,\n  registerTheme: registerTheme,\n  mountComponentStyles: mountComponentStyles,\n  flushComponentStyles: flushComponentStyles\n};\nexport default ThemeRegistry;\nexport { ThemeRegistry, getRegistry, clearRegistry, setRegistry, generateComponentTheme, generateTheme, getRegisteredThemes, registerComponentTheme, registerTheme, mountComponentStyles, flushComponentStyles };","module.exports = /([a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0529\\u052B\\u052D\\u052F\\u0561-\\u0587\\u13F8-\\u13FD\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6\\u1FC7\\u1FD0-\\u1FD3\\u1FD6\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6\\u1FF7\\u210A\\u210E\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA699\\uA69B\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793-\\uA795\\uA797\\uA799\\uA79B\\uA79D\\uA79F\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7B5\\uA7B7\\uA7FA\\uAB30-\\uAB5A\\uAB60-\\uAB65\\uAB70-\\uABBF\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A0-9\\xB2\\xB3\\xB9\\xBC-\\xBE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19])([A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AD\\uA7B0-\\uA7B4\\uA7B6\\uFF21-\\uFF3A])/g\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","export default (function (value) {\n  return typeof value === 'function';\n});","var upperCase = require('upper-case')\nvar lowerCase = require('lower-case')\n\n/**\n * Swap the case of a string. Manually iterate over every character and check\n * instead of replacing certain characters for better unicode support.\n *\n * @param  {String} str\n * @param  {String} [locale]\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  if (str == null) {\n    return ''\n  }\n\n  var result = ''\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str[i]\n    var u = upperCase(c, locale)\n\n    result += u === c ? lowerCase(c, locale) : u\n  }\n\n  return result\n}\n","import isMap from './isMap';\nexport default function get(key, x) {\n  return isMap(x) ? x.get(key) : x[key];\n}","/*! VelocityJS.org (1.5.2). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */\r\n\r\n/*************************\r\n Velocity jQuery Shim\r\n *************************/\r\n\r\n/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */\r\n\r\n/* This file contains the jQuery functions that Velocity relies on, thereby removing Velocity's dependency on a full copy of jQuery, and allowing it to work in any environment. */\r\n/* These shimmed functions are only used if jQuery isn't present. If both this shim and jQuery are loaded, Velocity defaults to jQuery proper. */\r\n/* Browser support: Using this shim instead of jQuery proper removes support for IE8. */\r\n\r\n(function(window) {\r\n\t\"use strict\";\r\n\t/***************\r\n\t Setup\r\n\t ***************/\r\n\r\n\t/* If jQuery is already loaded, there's no point in loading this shim. */\r\n\tif (window.jQuery) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/* jQuery base. */\r\n\tvar $ = function(selector, context) {\r\n\t\treturn new $.fn.init(selector, context);\r\n\t};\r\n\r\n\t/********************\r\n\t Private Methods\r\n\t ********************/\r\n\r\n\t/* jQuery */\r\n\t$.isWindow = function(obj) {\r\n\t\t/* jshint eqeqeq: false */\r\n\t\treturn obj && obj === obj.window;\r\n\t};\r\n\r\n\t/* jQuery */\r\n\t$.type = function(obj) {\r\n\t\tif (!obj) {\r\n\t\t\treturn obj + \"\";\r\n\t\t}\r\n\r\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\t\t\tclass2type[toString.call(obj)] || \"object\" :\r\n\t\t\t\ttypeof obj;\r\n\t};\r\n\r\n\t/* jQuery */\r\n\t$.isArray = Array.isArray || function(obj) {\r\n\t\treturn $.type(obj) === \"array\";\r\n\t};\r\n\r\n\t/* jQuery */\r\n\tfunction isArraylike(obj) {\r\n\t\tvar length = obj.length,\r\n\t\t\t\ttype = $.type(obj);\r\n\r\n\t\tif (type === \"function\" || $.isWindow(obj)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (obj.nodeType === 1 && length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn type === \"array\" || length === 0 || typeof length === \"number\" && length > 0 && (length - 1) in obj;\r\n\t}\r\n\r\n\t/***************\r\n\t $ Methods\r\n\t ***************/\r\n\r\n\t/* jQuery: Support removed for IE<9. */\r\n\t$.isPlainObject = function(obj) {\r\n\t\tvar key;\r\n\r\n\t\tif (!obj || $.type(obj) !== \"object\" || obj.nodeType || $.isWindow(obj)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tif (obj.constructor &&\r\n\t\t\t\t\t!hasOwn.call(obj, \"constructor\") &&\r\n\t\t\t\t\t!hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (key in obj) {\r\n\t\t}\r\n\r\n\t\treturn key === undefined || hasOwn.call(obj, key);\r\n\t};\r\n\r\n\t/* jQuery */\r\n\t$.each = function(obj, callback, args) {\r\n\t\tvar value,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tlength = obj.length,\r\n\t\t\t\tisArray = isArraylike(obj);\r\n\r\n\t\tif (args) {\r\n\t\t\tif (isArray) {\r\n\t\t\t\tfor (; i < length; i++) {\r\n\t\t\t\t\tvalue = callback.apply(obj[i], args);\r\n\r\n\t\t\t\t\tif (value === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i in obj) {\r\n\t\t\t\t\tif (!obj.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue = callback.apply(obj[i], args);\r\n\r\n\t\t\t\t\tif (value === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (isArray) {\r\n\t\t\t\tfor (; i < length; i++) {\r\n\t\t\t\t\tvalue = callback.call(obj[i], i, obj[i]);\r\n\r\n\t\t\t\t\tif (value === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i in obj) {\r\n\t\t\t\t\tif (!obj.hasOwnProperty(i)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue = callback.call(obj[i], i, obj[i]);\r\n\r\n\t\t\t\t\tif (value === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t};\r\n\r\n\t/* Custom */\r\n\t$.data = function(node, key, value) {\r\n\t\t/* $.getData() */\r\n\t\tif (value === undefined) {\r\n\t\t\tvar getId = node[$.expando],\r\n\t\t\t\t\tstore = getId && cache[getId];\r\n\r\n\t\t\tif (key === undefined) {\r\n\t\t\t\treturn store;\r\n\t\t\t} else if (store) {\r\n\t\t\t\tif (key in store) {\r\n\t\t\t\t\treturn store[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/* $.setData() */\r\n\t\t} else if (key !== undefined) {\r\n\t\t\tvar setId = node[$.expando] || (node[$.expando] = ++$.uuid);\r\n\r\n\t\t\tcache[setId] = cache[setId] || {};\r\n\t\t\tcache[setId][key] = value;\r\n\r\n\t\t\treturn value;\r\n\t\t}\r\n\t};\r\n\r\n\t/* Custom */\r\n\t$.removeData = function(node, keys) {\r\n\t\tvar id = node[$.expando],\r\n\t\t\t\tstore = id && cache[id];\r\n\r\n\t\tif (store) {\r\n\t\t\t// Cleanup the entire store if no keys are provided.\r\n\t\t\tif (!keys) {\r\n\t\t\t\tdelete cache[id];\r\n\t\t\t} else {\r\n\t\t\t\t$.each(keys, function(_, key) {\r\n\t\t\t\t\tdelete store[key];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/* jQuery */\r\n\t$.extend = function() {\r\n\t\tvar src, copyIsArray, copy, name, options, clone,\r\n\t\t\t\ttarget = arguments[0] || {},\r\n\t\t\t\ti = 1,\r\n\t\t\t\tlength = arguments.length,\r\n\t\t\t\tdeep = false;\r\n\r\n\t\tif (typeof target === \"boolean\") {\r\n\t\t\tdeep = target;\r\n\r\n\t\t\ttarget = arguments[i] || {};\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tif (typeof target !== \"object\" && $.type(target) !== \"function\") {\r\n\t\t\ttarget = {};\r\n\t\t}\r\n\r\n\t\tif (i === length) {\r\n\t\t\ttarget = this;\r\n\t\t\ti--;\r\n\t\t}\r\n\r\n\t\tfor (; i < length; i++) {\r\n\t\t\tif ((options = arguments[i])) {\r\n\t\t\t\tfor (name in options) {\r\n\t\t\t\t\tif (!options.hasOwnProperty(name)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc = target[name];\r\n\t\t\t\t\tcopy = options[name];\r\n\r\n\t\t\t\t\tif (target === copy) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\r\n\t\t\t\t\t\tif (copyIsArray) {\r\n\t\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\r\n\r\n\t\t\t\t\t} else if (copy !== undefined) {\r\n\t\t\t\t\t\ttarget[name] = copy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t};\r\n\r\n\t/* jQuery 1.4.3 */\r\n\t$.queue = function(elem, type, data) {\r\n\t\tfunction $makeArray(arr, results) {\r\n\t\t\tvar ret = results || [];\r\n\r\n\t\t\tif (arr) {\r\n\t\t\t\tif (isArraylike(Object(arr))) {\r\n\t\t\t\t\t/* $.merge */\r\n\t\t\t\t\t(function(first, second) {\r\n\t\t\t\t\t\tvar len = +second.length,\r\n\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\ti = first.length;\r\n\r\n\t\t\t\t\t\twhile (j < len) {\r\n\t\t\t\t\t\t\tfirst[i++] = second[j++];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (len !== len) {\r\n\t\t\t\t\t\t\twhile (second[j] !== undefined) {\r\n\t\t\t\t\t\t\t\tfirst[i++] = second[j++];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfirst.length = i;\r\n\r\n\t\t\t\t\t\treturn first;\r\n\t\t\t\t\t})(ret, typeof arr === \"string\" ? [arr] : arr);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t[].push.call(ret, arr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tif (!elem) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttype = (type || \"fx\") + \"queue\";\r\n\r\n\t\tvar q = $.data(elem, type);\r\n\r\n\t\tif (!data) {\r\n\t\t\treturn q || [];\r\n\t\t}\r\n\r\n\t\tif (!q || $.isArray(data)) {\r\n\t\t\tq = $.data(elem, type, $makeArray(data));\r\n\t\t} else {\r\n\t\t\tq.push(data);\r\n\t\t}\r\n\r\n\t\treturn q;\r\n\t};\r\n\r\n\t/* jQuery 1.4.3 */\r\n\t$.dequeue = function(elems, type) {\r\n\t\t/* Custom: Embed element iteration. */\r\n\t\t$.each(elems.nodeType ? [elems] : elems, function(i, elem) {\r\n\t\t\ttype = type || \"fx\";\r\n\r\n\t\t\tvar queue = $.queue(elem, type),\r\n\t\t\t\t\tfn = queue.shift();\r\n\r\n\t\t\tif (fn === \"inprogress\") {\r\n\t\t\t\tfn = queue.shift();\r\n\t\t\t}\r\n\r\n\t\t\tif (fn) {\r\n\t\t\t\tif (type === \"fx\") {\r\n\t\t\t\t\tqueue.unshift(\"inprogress\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfn.call(elem, function() {\r\n\t\t\t\t\t$.dequeue(elem, type);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t/******************\r\n\t $.fn Methods\r\n\t ******************/\r\n\r\n\t/* jQuery */\r\n\t$.fn = $.prototype = {\r\n\t\tinit: function(selector) {\r\n\t\t\t/* Just return the element wrapped inside an array; don't proceed with the actual jQuery node wrapping process. */\r\n\t\t\tif (selector.nodeType) {\r\n\t\t\t\tthis[0] = selector;\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"Not a DOM node.\");\r\n\t\t\t}\r\n\t\t},\r\n\t\toffset: function() {\r\n\t\t\t/* jQuery altered code: Dropped disconnected DOM node checking. */\r\n\t\t\tvar box = this[0].getBoundingClientRect ? this[0].getBoundingClientRect() : {top: 0, left: 0};\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: box.top + (window.pageYOffset || document.scrollTop || 0) - (document.clientTop || 0),\r\n\t\t\t\tleft: box.left + (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || 0)\r\n\t\t\t};\r\n\t\t},\r\n\t\tposition: function() {\r\n\t\t\t/* jQuery */\r\n\t\t\tfunction offsetParentFn(elem) {\r\n\t\t\t\tvar offsetParent = elem.offsetParent;\r\n\r\n\t\t\t\twhile (offsetParent && (offsetParent.nodeName.toLowerCase() !== \"html\" && offsetParent.style && offsetParent.style.position.toLowerCase() === \"static\")) {\r\n\t\t\t\t\toffsetParent = offsetParent.offsetParent;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn offsetParent || document;\r\n\t\t\t}\r\n\r\n\t\t\t/* Zepto */\r\n\t\t\tvar elem = this[0],\r\n\t\t\t\t\toffsetParent = offsetParentFn(elem),\r\n\t\t\t\t\toffset = this.offset(),\r\n\t\t\t\t\tparentOffset = /^(?:body|html)$/i.test(offsetParent.nodeName) ? {top: 0, left: 0} : $(offsetParent).offset();\r\n\r\n\t\t\toffset.top -= parseFloat(elem.style.marginTop) || 0;\r\n\t\t\toffset.left -= parseFloat(elem.style.marginLeft) || 0;\r\n\r\n\t\t\tif (offsetParent.style) {\r\n\t\t\t\tparentOffset.top += parseFloat(offsetParent.style.borderTopWidth) || 0;\r\n\t\t\t\tparentOffset.left += parseFloat(offsetParent.style.borderLeftWidth) || 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: offset.top - parentOffset.top,\r\n\t\t\t\tleft: offset.left - parentOffset.left\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\t/**********************\r\n\t Private Variables\r\n\t **********************/\r\n\r\n\t/* For $.data() */\r\n\tvar cache = {};\r\n\t$.expando = \"velocity\" + (new Date().getTime());\r\n\t$.uuid = 0;\r\n\r\n\t/* For $.queue() */\r\n\tvar class2type = {},\r\n\t\t\thasOwn = class2type.hasOwnProperty,\r\n\t\t\ttoString = class2type.toString;\r\n\r\n\tvar types = \"Boolean Number String Function Array Date RegExp Object Error\".split(\" \");\r\n\tfor (var i = 0; i < types.length; i++) {\r\n\t\tclass2type[\"[object \" + types[i] + \"]\"] = types[i].toLowerCase();\r\n\t}\r\n\r\n\t/* Makes $(node) possible, without having to call init. */\r\n\t$.fn.init.prototype = $.fn;\r\n\r\n\t/* Globalize Velocity onto the window, and assign its Utilities property. */\r\n\twindow.Velocity = {Utilities: $};\r\n})(window);\r\n\r\n/******************\r\n Velocity.js\r\n ******************/\r\n\r\n(function(factory) {\r\n\t\"use strict\";\r\n\t/* CommonJS module. */\r\n\tif (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n\t\tmodule.exports = factory();\r\n\t\t/* AMD module. */\r\n\t} else if (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(factory);\r\n\t\t/* Browser globals. */\r\n\t} else {\r\n\t\tfactory();\r\n\t}\r\n}(function() {\r\n\t\"use strict\";\r\n\treturn function(global, window, document, undefined) {\r\n\r\n\t\t/***************\r\n\t\t Summary\r\n\t\t ***************/\r\n\r\n\t\t/*\r\n\t\t - CSS: CSS stack that works independently from the rest of Velocity.\r\n\t\t - animate(): Core animation method that iterates over the targeted elements and queues the incoming call onto each element individually.\r\n\t\t - Pre-Queueing: Prepare the element for animation by instantiating its data cache and processing the call's options.\r\n\t\t - Queueing: The logic that runs once the call has reached its point of execution in the element's $.queue() stack.\r\n\t\t Most logic is placed here to avoid risking it becoming stale (if the element's properties have changed).\r\n\t\t - Pushing: Consolidation of the tween data followed by its push onto the global in-progress calls container.\r\n\t\t - tick(): The single requestAnimationFrame loop responsible for tweening all in-progress calls.\r\n\t\t - completeCall(): Handles the cleanup process for each Velocity call.\r\n\t\t */\r\n\r\n\t\t/*********************\r\n\t\t Helper Functions\r\n\t\t *********************/\r\n\r\n\t\t/* IE detection. Gist: https://gist.github.com/julianshapiro/9098609 */\r\n\t\tvar IE = (function() {\r\n\t\t\tif (document.documentMode) {\r\n\t\t\t\treturn document.documentMode;\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 7; i > 4; i--) {\r\n\t\t\t\t\tvar div = document.createElement(\"div\");\r\n\r\n\t\t\t\t\tdiv.innerHTML = \"<!--[if IE \" + i + \"]><span></span><![endif]-->\";\r\n\r\n\t\t\t\t\tif (div.getElementsByTagName(\"span\").length) {\r\n\t\t\t\t\t\tdiv = null;\r\n\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn undefined;\r\n\t\t})();\r\n\r\n\t\t/* rAF shim. Gist: https://gist.github.com/julianshapiro/9497513 */\r\n\t\tvar rAFShim = (function() {\r\n\t\t\tvar timeLast = 0;\r\n\r\n\t\t\treturn window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\r\n\t\t\t\tvar timeCurrent = (new Date()).getTime(),\r\n\t\t\t\t\t\ttimeDelta;\r\n\r\n\t\t\t\t/* Dynamically set delay on a per-tick basis to match 60fps. */\r\n\t\t\t\t/* Technique by Erik Moller. MIT license: https://gist.github.com/paulirish/1579671 */\r\n\t\t\t\ttimeDelta = Math.max(0, 16 - (timeCurrent - timeLast));\r\n\t\t\t\ttimeLast = timeCurrent + timeDelta;\r\n\r\n\t\t\t\treturn setTimeout(function() {\r\n\t\t\t\t\tcallback(timeCurrent + timeDelta);\r\n\t\t\t\t}, timeDelta);\r\n\t\t\t};\r\n\t\t})();\r\n\r\n\t\tvar performance = (function() {\r\n\t\t\tvar perf = window.performance || {};\r\n\r\n\t\t\tif (typeof perf.now !== \"function\") {\r\n\t\t\t\tvar nowOffset = perf.timing && perf.timing.navigationStart ? perf.timing.navigationStart : (new Date()).getTime();\r\n\r\n\t\t\t\tperf.now = function() {\r\n\t\t\t\t\treturn (new Date()).getTime() - nowOffset;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn perf;\r\n\t\t})();\r\n\r\n\t\t/* Array compacting. Copyright Lo-Dash. MIT License: https://github.com/lodash/lodash/blob/master/LICENSE.txt */\r\n\t\tfunction compactSparseArray(array) {\r\n\t\t\tvar index = -1,\r\n\t\t\t\t\tlength = array ? array.length : 0,\r\n\t\t\t\t\tresult = [];\r\n\r\n\t\t\twhile (++index < length) {\r\n\t\t\t\tvar value = array[index];\r\n\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tresult.push(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Shim for \"fixing\" IE's lack of support (IE < 9) for applying slice\r\n\t\t * on host objects like NamedNodeMap, NodeList, and HTMLCollection\r\n\t\t * (technically, since host objects have been implementation-dependent,\r\n\t\t * at least before ES2015, IE hasn't needed to work this way).\r\n\t\t * Also works on strings, fixes IE < 9 to allow an explicit undefined\r\n\t\t * for the 2nd argument (as in Firefox), and prevents errors when\r\n\t\t * called on other DOM objects.\r\n\t\t */\r\n\t\tvar _slice = (function() {\r\n\t\t\tvar slice = Array.prototype.slice;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Can't be used with DOM elements in IE < 9\r\n\t\t\t\tslice.call(document.documentElement);\r\n\t\t\t\treturn slice;\r\n\t\t\t} catch (e) { // Fails in IE < 9\r\n\r\n\t\t\t\t// This will work for genuine arrays, array-like objects, \r\n\t\t\t\t// NamedNodeMap (attributes, entities, notations),\r\n\t\t\t\t// NodeList (e.g., getElementsByTagName), HTMLCollection (e.g., childNodes),\r\n\t\t\t\t// and will not fail on other DOM objects (as do DOM elements in IE < 9)\r\n\t\t\t\treturn function(begin, end) {\r\n\t\t\t\t\tvar len = this.length;\r\n\r\n\t\t\t\t\tif (typeof begin !== \"number\") {\r\n\t\t\t\t\t\tbegin = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// IE < 9 gets unhappy with an undefined end argument\r\n\t\t\t\t\tif (typeof end !== \"number\") {\r\n\t\t\t\t\t\tend = len;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// For native Array objects, we use the native slice function\r\n\t\t\t\t\tif (this.slice) {\r\n\t\t\t\t\t\treturn slice.call(this, begin, end);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// For array like object we handle it ourselves.\r\n\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\tcloned = [],\r\n\t\t\t\t\t\t\t// Handle negative value for \"begin\"\r\n\t\t\t\t\t\t\tstart = (begin >= 0) ? begin : Math.max(0, len + begin),\r\n\t\t\t\t\t\t\t// Handle negative value for \"end\"\r\n\t\t\t\t\t\t\tupTo = end < 0 ? len + end : Math.min(end, len),\r\n\t\t\t\t\t\t\t// Actual expected size of the slice\r\n\t\t\t\t\t\t\tsize = upTo - start;\r\n\r\n\t\t\t\t\tif (size > 0) {\r\n\t\t\t\t\t\tcloned = new Array(size);\r\n\t\t\t\t\t\tif (this.charAt) {\r\n\t\t\t\t\t\t\tfor (i = 0; i < size; i++) {\r\n\t\t\t\t\t\t\t\tcloned[i] = this.charAt(start + i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (i = 0; i < size; i++) {\r\n\t\t\t\t\t\t\t\tcloned[i] = this[start + i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn cloned;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t})();\r\n\r\n\t\t/* .indexOf doesn't exist in IE<9 */\r\n\t\tvar _inArray = (function() {\r\n\t\t\tif (Array.prototype.includes) {\r\n\t\t\t\treturn function(arr, val) {\r\n\t\t\t\t\treturn arr.includes(val);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (Array.prototype.indexOf) {\r\n\t\t\t\treturn function(arr, val) {\r\n\t\t\t\t\treturn arr.indexOf(val) >= 0;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn function(arr, val) {\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tif (arr[i] === val) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tfunction sanitizeElements(elements) {\r\n\t\t\t/* Unwrap jQuery/Zepto objects. */\r\n\t\t\tif (Type.isWrapped(elements)) {\r\n\t\t\t\telements = _slice.call(elements);\r\n\t\t\t\t/* Wrap a single element in an array so that $.each() can iterate with the element instead of its node's children. */\r\n\t\t\t} else if (Type.isNode(elements)) {\r\n\t\t\t\telements = [elements];\r\n\t\t\t}\r\n\r\n\t\t\treturn elements;\r\n\t\t}\r\n\r\n\t\tvar Type = {\r\n\t\t\tisNumber: function(variable) {\r\n\t\t\t\treturn (typeof variable === \"number\");\r\n\t\t\t},\r\n\t\t\tisString: function(variable) {\r\n\t\t\t\treturn (typeof variable === \"string\");\r\n\t\t\t},\r\n\t\t\tisArray: Array.isArray || function(variable) {\r\n\t\t\t\treturn Object.prototype.toString.call(variable) === \"[object Array]\";\r\n\t\t\t},\r\n\t\t\tisFunction: function(variable) {\r\n\t\t\t\treturn Object.prototype.toString.call(variable) === \"[object Function]\";\r\n\t\t\t},\r\n\t\t\tisNode: function(variable) {\r\n\t\t\t\treturn variable && variable.nodeType;\r\n\t\t\t},\r\n\t\t\t/* Determine if variable is an array-like wrapped jQuery, Zepto or similar element, or even a NodeList etc. */\r\n\t\t\t/* NOTE: HTMLFormElements also have a length. */\r\n\t\t\tisWrapped: function(variable) {\r\n\t\t\t\treturn variable\r\n\t\t\t\t\t\t&& variable !== window\r\n\t\t\t\t\t\t&& Type.isNumber(variable.length)\r\n\t\t\t\t\t\t&& !Type.isString(variable)\r\n\t\t\t\t\t\t&& !Type.isFunction(variable)\r\n\t\t\t\t\t\t&& !Type.isNode(variable)\r\n\t\t\t\t\t\t&& (variable.length === 0 || Type.isNode(variable[0]));\r\n\t\t\t},\r\n\t\t\tisSVG: function(variable) {\r\n\t\t\t\treturn window.SVGElement && (variable instanceof window.SVGElement);\r\n\t\t\t},\r\n\t\t\tisEmptyObject: function(variable) {\r\n\t\t\t\tfor (var name in variable) {\r\n\t\t\t\t\tif (variable.hasOwnProperty(name)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/*****************\r\n\t\t Dependencies\r\n\t\t *****************/\r\n\r\n\t\tvar $,\r\n\t\t\t\tisJQuery = false;\r\n\r\n\t\tif (global.fn && global.fn.jquery) {\r\n\t\t\t$ = global;\r\n\t\t\tisJQuery = true;\r\n\t\t} else {\r\n\t\t\t$ = window.Velocity.Utilities;\r\n\t\t}\r\n\r\n\t\tif (IE <= 8 && !isJQuery) {\r\n\t\t\tthrow new Error(\"Velocity: IE8 and below require jQuery to be loaded before Velocity.\");\r\n\t\t} else if (IE <= 7) {\r\n\t\t\t/* Revert to jQuery's $.animate(), and lose Velocity's extra features. */\r\n\t\t\tjQuery.fn.velocity = jQuery.fn.animate;\r\n\r\n\t\t\t/* Now that $.fn.velocity is aliased, abort this Velocity declaration. */\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t/*****************\r\n\t\t Constants\r\n\t\t *****************/\r\n\r\n\t\tvar DURATION_DEFAULT = 400,\r\n\t\t\t\tEASING_DEFAULT = \"swing\";\r\n\r\n\t\t/*************\r\n\t\t State\r\n\t\t *************/\r\n\r\n\t\tvar Velocity = {\r\n\t\t\t/* Container for page-wide Velocity state data. */\r\n\t\t\tState: {\r\n\t\t\t\t/* Detect mobile devices to determine if mobileHA should be turned on. */\r\n\t\t\t\tisMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),\r\n\t\t\t\t/* The mobileHA option's behavior changes on older Android devices (Gingerbread, versions 2.3.3-2.3.7). */\r\n\t\t\t\tisAndroid: /Android/i.test(window.navigator.userAgent),\r\n\t\t\t\tisGingerbread: /Android 2\\.3\\.[3-7]/i.test(window.navigator.userAgent),\r\n\t\t\t\tisChrome: window.chrome,\r\n\t\t\t\tisFirefox: /Firefox/i.test(window.navigator.userAgent),\r\n\t\t\t\t/* Create a cached element for re-use when checking for CSS property prefixes. */\r\n\t\t\t\tprefixElement: document.createElement(\"div\"),\r\n\t\t\t\t/* Cache every prefix match to avoid repeating lookups. */\r\n\t\t\t\tprefixMatches: {},\r\n\t\t\t\t/* Cache the anchor used for animating window scrolling. */\r\n\t\t\t\tscrollAnchor: null,\r\n\t\t\t\t/* Cache the browser-specific property names associated with the scroll anchor. */\r\n\t\t\t\tscrollPropertyLeft: null,\r\n\t\t\t\tscrollPropertyTop: null,\r\n\t\t\t\t/* Keep track of whether our RAF tick is running. */\r\n\t\t\t\tisTicking: false,\r\n\t\t\t\t/* Container for every in-progress call to Velocity. */\r\n\t\t\t\tcalls: [],\r\n\t\t\t\tdelayedElements: {\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* Velocity's custom CSS stack. Made global for unit testing. */\r\n\t\t\tCSS: {/* Defined below. */},\r\n\t\t\t/* A shim of the jQuery utility functions used by Velocity -- provided by Velocity's optional jQuery shim. */\r\n\t\t\tUtilities: $,\r\n\t\t\t/* Container for the user's custom animation redirects that are referenced by name in place of the properties map argument. */\r\n\t\t\tRedirects: {/* Manually registered by the user. */},\r\n\t\t\tEasings: {/* Defined below. */},\r\n\t\t\t/* Attempt to use ES6 Promises by default. Users can override this with a third-party promises library. */\r\n\t\t\tPromise: window.Promise,\r\n\t\t\t/* Velocity option defaults, which can be overriden by the user. */\r\n\t\t\tdefaults: {\r\n\t\t\t\tqueue: \"\",\r\n\t\t\t\tduration: DURATION_DEFAULT,\r\n\t\t\t\teasing: EASING_DEFAULT,\r\n\t\t\t\tbegin: undefined,\r\n\t\t\t\tcomplete: undefined,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\tdisplay: undefined,\r\n\t\t\t\tvisibility: undefined,\r\n\t\t\t\tloop: false,\r\n\t\t\t\tdelay: false,\r\n\t\t\t\tmobileHA: true,\r\n\t\t\t\t/* Advanced: Set to false to prevent property values from being cached between consecutive Velocity-initiated chain calls. */\r\n\t\t\t\t_cacheValues: true,\r\n\t\t\t\t/* Advanced: Set to false if the promise should always resolve on empty element lists. */\r\n\t\t\t\tpromiseRejectEmpty: true\r\n\t\t\t},\r\n\t\t\t/* A design goal of Velocity is to cache data wherever possible in order to avoid DOM requerying. Accordingly, each element has a data cache. */\r\n\t\t\tinit: function(element) {\r\n\t\t\t\t$.data(element, \"velocity\", {\r\n\t\t\t\t\t/* Store whether this is an SVG element, since its properties are retrieved and updated differently than standard HTML elements. */\r\n\t\t\t\t\tisSVG: Type.isSVG(element),\r\n\t\t\t\t\t/* Keep track of whether the element is currently being animated by Velocity.\r\n\t\t\t\t\t This is used to ensure that property values are not transferred between non-consecutive (stale) calls. */\r\n\t\t\t\t\tisAnimating: false,\r\n\t\t\t\t\t/* A reference to the element's live computedStyle object. Learn more here: https://developer.mozilla.org/en/docs/Web/API/window.getComputedStyle */\r\n\t\t\t\t\tcomputedStyle: null,\r\n\t\t\t\t\t/* Tween data is cached for each animation on the element so that data can be passed across calls --\r\n\t\t\t\t\t in particular, end values are used as subsequent start values in consecutive Velocity calls. */\r\n\t\t\t\t\ttweensContainer: null,\r\n\t\t\t\t\t/* The full root property values of each CSS hook being animated on this element are cached so that:\r\n\t\t\t\t\t 1) Concurrently-animating hooks sharing the same root can have their root values' merged into one while tweening.\r\n\t\t\t\t\t 2) Post-hook-injection root values can be transferred over to consecutively chained Velocity calls as starting root values. */\r\n\t\t\t\t\trootPropertyValueCache: {},\r\n\t\t\t\t\t/* A cache for transform updates, which must be manually flushed via CSS.flushTransformCache(). */\r\n\t\t\t\t\ttransformCache: {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/* A parallel to jQuery's $.css(), used for getting/setting Velocity's hooked CSS properties. */\r\n\t\t\thook: null, /* Defined below. */\r\n\t\t\t/* Velocity-wide animation time remapping for testing purposes. */\r\n\t\t\tmock: false,\r\n\t\t\tversion: {major: 1, minor: 5, patch: 2},\r\n\t\t\t/* Set to 1 or 2 (most verbose) to output debug info to console. */\r\n\t\t\tdebug: false,\r\n\t\t\t/* Use rAF high resolution timestamp when available */\r\n\t\t\ttimestamp: true,\r\n\t\t\t/* Pause all animations */\r\n\t\t\tpauseAll: function(queueName) {\r\n\t\t\t\tvar currentTime = (new Date()).getTime();\r\n\r\n\t\t\t\t$.each(Velocity.State.calls, function(i, activeCall) {\r\n\r\n\t\t\t\t\tif (activeCall) {\r\n\r\n\t\t\t\t\t\t/* If we have a queueName and this call is not on that queue, skip */\r\n\t\t\t\t\t\tif (queueName !== undefined && ((activeCall[2].queue !== queueName) || (activeCall[2].queue === false))) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Set call to paused */\r\n\t\t\t\t\t\tactiveCall[5] = {\r\n\t\t\t\t\t\t\tresume: false\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t/* Pause timers on any currently delayed calls */\r\n\t\t\t\t$.each(Velocity.State.delayedElements, function(k, element) {\r\n\t\t\t\t\tif (!element) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpauseDelayOnElement(element, currentTime);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/* Resume all animations */\r\n\t\t\tresumeAll: function(queueName) {\r\n\t\t\t\tvar currentTime = (new Date()).getTime();\r\n\r\n\t\t\t\t$.each(Velocity.State.calls, function(i, activeCall) {\r\n\r\n\t\t\t\t\tif (activeCall) {\r\n\r\n\t\t\t\t\t\t/* If we have a queueName and this call is not on that queue, skip */\r\n\t\t\t\t\t\tif (queueName !== undefined && ((activeCall[2].queue !== queueName) || (activeCall[2].queue === false))) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Set call to resumed if it was paused */\r\n\t\t\t\t\t\tif (activeCall[5]) {\r\n\t\t\t\t\t\t\tactiveCall[5].resume = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t/* Resume timers on any currently delayed calls */\r\n\t\t\t\t$.each(Velocity.State.delayedElements, function(k, element) {\r\n\t\t\t\t\tif (!element) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresumeDelayOnElement(element, currentTime);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/* Retrieve the appropriate scroll anchor and property name for the browser: https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY */\r\n\t\tif (window.pageYOffset !== undefined) {\r\n\t\t\tVelocity.State.scrollAnchor = window;\r\n\t\t\tVelocity.State.scrollPropertyLeft = \"pageXOffset\";\r\n\t\t\tVelocity.State.scrollPropertyTop = \"pageYOffset\";\r\n\t\t} else {\r\n\t\t\tVelocity.State.scrollAnchor = document.documentElement || document.body.parentNode || document.body;\r\n\t\t\tVelocity.State.scrollPropertyLeft = \"scrollLeft\";\r\n\t\t\tVelocity.State.scrollPropertyTop = \"scrollTop\";\r\n\t\t}\r\n\r\n\t\t/* Shorthand alias for jQuery's $.data() utility. */\r\n\t\tfunction Data(element) {\r\n\t\t\t/* Hardcode a reference to the plugin name. */\r\n\t\t\tvar response = $.data(element, \"velocity\");\r\n\r\n\t\t\t/* jQuery <=1.4.2 returns null instead of undefined when no match is found. We normalize this behavior. */\r\n\t\t\treturn response === null ? undefined : response;\r\n\t\t}\r\n\r\n\t\t/**************\r\n\t\t Delay Timer\r\n\t\t **************/\r\n\r\n\t\tfunction pauseDelayOnElement(element, currentTime) {\r\n\t\t\t/* Check for any delay timers, and pause the set timeouts (while preserving time data)\r\n\t\t\t to be resumed when the \"resume\" command is issued */\r\n\t\t\tvar data = Data(element);\r\n\t\t\tif (data && data.delayTimer && !data.delayPaused) {\r\n\t\t\t\tdata.delayRemaining = data.delay - currentTime + data.delayBegin;\r\n\t\t\t\tdata.delayPaused = true;\r\n\t\t\t\tclearTimeout(data.delayTimer.setTimeout);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction resumeDelayOnElement(element, currentTime) {\r\n\t\t\t/* Check for any paused timers and resume */\r\n\t\t\tvar data = Data(element);\r\n\t\t\tif (data && data.delayTimer && data.delayPaused) {\r\n\t\t\t\t/* If the element was mid-delay, re initiate the timeout with the remaining delay */\r\n\t\t\t\tdata.delayPaused = false;\r\n\t\t\t\tdata.delayTimer.setTimeout = setTimeout(data.delayTimer.next, data.delayRemaining);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**************\r\n\t\t Easing\r\n\t\t **************/\r\n\r\n\t\t/* Step easing generator. */\r\n\t\tfunction generateStep(steps) {\r\n\t\t\treturn function(p) {\r\n\t\t\t\treturn Math.round(p * steps) * (1 / steps);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t/* Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */\r\n\t\tfunction generateBezier(mX1, mY1, mX2, mY2) {\r\n\t\t\tvar NEWTON_ITERATIONS = 4,\r\n\t\t\t\t\tNEWTON_MIN_SLOPE = 0.001,\r\n\t\t\t\t\tSUBDIVISION_PRECISION = 0.0000001,\r\n\t\t\t\t\tSUBDIVISION_MAX_ITERATIONS = 10,\r\n\t\t\t\t\tkSplineTableSize = 11,\r\n\t\t\t\t\tkSampleStepSize = 1.0 / (kSplineTableSize - 1.0),\r\n\t\t\t\t\tfloat32ArraySupported = \"Float32Array\" in window;\r\n\r\n\t\t\t/* Must contain four arguments. */\r\n\t\t\tif (arguments.length !== 4) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t/* Arguments must be numbers. */\r\n\t\t\tfor (var i = 0; i < 4; ++i) {\r\n\t\t\t\tif (typeof arguments[i] !== \"number\" || isNaN(arguments[i]) || !isFinite(arguments[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* X values must be in the [0, 1] range. */\r\n\t\t\tmX1 = Math.min(mX1, 1);\r\n\t\t\tmX2 = Math.min(mX2, 1);\r\n\t\t\tmX1 = Math.max(mX1, 0);\r\n\t\t\tmX2 = Math.max(mX2, 0);\r\n\r\n\t\t\tvar mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n\r\n\t\t\tfunction A(aA1, aA2) {\r\n\t\t\t\treturn 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n\t\t\t}\r\n\t\t\tfunction B(aA1, aA2) {\r\n\t\t\t\treturn 3.0 * aA2 - 6.0 * aA1;\r\n\t\t\t}\r\n\t\t\tfunction C(aA1) {\r\n\t\t\t\treturn 3.0 * aA1;\r\n\t\t\t}\r\n\r\n\t\t\tfunction calcBezier(aT, aA1, aA2) {\r\n\t\t\t\treturn ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n\t\t\t}\r\n\r\n\t\t\tfunction getSlope(aT, aA1, aA2) {\r\n\t\t\t\treturn 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n\t\t\t}\r\n\r\n\t\t\tfunction newtonRaphsonIterate(aX, aGuessT) {\r\n\t\t\t\tfor (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n\t\t\t\t\tvar currentSlope = getSlope(aGuessT, mX1, mX2);\r\n\r\n\t\t\t\t\tif (currentSlope === 0.0) {\r\n\t\t\t\t\t\treturn aGuessT;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n\t\t\t\t\taGuessT -= currentX / currentSlope;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn aGuessT;\r\n\t\t\t}\r\n\r\n\t\t\tfunction calcSampleValues() {\r\n\t\t\t\tfor (var i = 0; i < kSplineTableSize; ++i) {\r\n\t\t\t\t\tmSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction binarySubdivide(aX, aA, aB) {\r\n\t\t\t\tvar currentX, currentT, i = 0;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\tcurrentT = aA + (aB - aA) / 2.0;\r\n\t\t\t\t\tcurrentX = calcBezier(currentT, mX1, mX2) - aX;\r\n\t\t\t\t\tif (currentX > 0.0) {\r\n\t\t\t\t\t\taB = currentT;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taA = currentT;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n\r\n\t\t\t\treturn currentT;\r\n\t\t\t}\r\n\r\n\t\t\tfunction getTForX(aX) {\r\n\t\t\t\tvar intervalStart = 0.0,\r\n\t\t\t\t\t\tcurrentSample = 1,\r\n\t\t\t\t\t\tlastSample = kSplineTableSize - 1;\r\n\r\n\t\t\t\tfor (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n\t\t\t\t\tintervalStart += kSampleStepSize;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t--currentSample;\r\n\r\n\t\t\t\tvar dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\r\n\t\t\t\t\t\tguessForT = intervalStart + dist * kSampleStepSize,\r\n\t\t\t\t\t\tinitialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n\t\t\t\tif (initialSlope >= NEWTON_MIN_SLOPE) {\r\n\t\t\t\t\treturn newtonRaphsonIterate(aX, guessForT);\r\n\t\t\t\t} else if (initialSlope === 0.0) {\r\n\t\t\t\t\treturn guessForT;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar _precomputed = false;\r\n\r\n\t\t\tfunction precompute() {\r\n\t\t\t\t_precomputed = true;\r\n\t\t\t\tif (mX1 !== mY1 || mX2 !== mY2) {\r\n\t\t\t\t\tcalcSampleValues();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar f = function(aX) {\r\n\t\t\t\tif (!_precomputed) {\r\n\t\t\t\t\tprecompute();\r\n\t\t\t\t}\r\n\t\t\t\tif (mX1 === mY1 && mX2 === mY2) {\r\n\t\t\t\t\treturn aX;\r\n\t\t\t\t}\r\n\t\t\t\tif (aX === 0) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (aX === 1) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn calcBezier(getTForX(aX), mY1, mY2);\r\n\t\t\t};\r\n\r\n\t\t\tf.getControlPoints = function() {\r\n\t\t\t\treturn [{x: mX1, y: mY1}, {x: mX2, y: mY2}];\r\n\t\t\t};\r\n\r\n\t\t\tvar str = \"generateBezier(\" + [mX1, mY1, mX2, mY2] + \")\";\r\n\t\t\tf.toString = function() {\r\n\t\t\t\treturn str;\r\n\t\t\t};\r\n\r\n\t\t\treturn f;\r\n\t\t}\r\n\r\n\t\t/* Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\r\n\t\t/* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\r\n\t\t then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\r\n\t\tvar generateSpringRK4 = (function() {\r\n\t\t\tfunction springAccelerationForState(state) {\r\n\t\t\t\treturn (-state.tension * state.x) - (state.friction * state.v);\r\n\t\t\t}\r\n\r\n\t\t\tfunction springEvaluateStateWithDerivative(initialState, dt, derivative) {\r\n\t\t\t\tvar state = {\r\n\t\t\t\t\tx: initialState.x + derivative.dx * dt,\r\n\t\t\t\t\tv: initialState.v + derivative.dv * dt,\r\n\t\t\t\t\ttension: initialState.tension,\r\n\t\t\t\t\tfriction: initialState.friction\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn {dx: state.v, dv: springAccelerationForState(state)};\r\n\t\t\t}\r\n\r\n\t\t\tfunction springIntegrateState(state, dt) {\r\n\t\t\t\tvar a = {\r\n\t\t\t\t\tdx: state.v,\r\n\t\t\t\t\tdv: springAccelerationForState(state)\r\n\t\t\t\t},\r\n\t\t\t\t\t\tb = springEvaluateStateWithDerivative(state, dt * 0.5, a),\r\n\t\t\t\t\t\tc = springEvaluateStateWithDerivative(state, dt * 0.5, b),\r\n\t\t\t\t\t\td = springEvaluateStateWithDerivative(state, dt, c),\r\n\t\t\t\t\t\tdxdt = 1.0 / 6.0 * (a.dx + 2.0 * (b.dx + c.dx) + d.dx),\r\n\t\t\t\t\t\tdvdt = 1.0 / 6.0 * (a.dv + 2.0 * (b.dv + c.dv) + d.dv);\r\n\r\n\t\t\t\tstate.x = state.x + dxdt * dt;\r\n\t\t\t\tstate.v = state.v + dvdt * dt;\r\n\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn function springRK4Factory(tension, friction, duration) {\r\n\r\n\t\t\t\tvar initState = {\r\n\t\t\t\t\tx: -1,\r\n\t\t\t\t\tv: 0,\r\n\t\t\t\t\ttension: null,\r\n\t\t\t\t\tfriction: null\r\n\t\t\t\t},\r\n\t\t\t\t\t\tpath = [0],\r\n\t\t\t\t\t\ttime_lapsed = 0,\r\n\t\t\t\t\t\ttolerance = 1 / 10000,\r\n\t\t\t\t\t\tDT = 16 / 1000,\r\n\t\t\t\t\t\thave_duration, dt, last_state;\r\n\r\n\t\t\t\ttension = parseFloat(tension) || 500;\r\n\t\t\t\tfriction = parseFloat(friction) || 20;\r\n\t\t\t\tduration = duration || null;\r\n\r\n\t\t\t\tinitState.tension = tension;\r\n\t\t\t\tinitState.friction = friction;\r\n\r\n\t\t\t\thave_duration = duration !== null;\r\n\r\n\t\t\t\t/* Calculate the actual time it takes for this animation to complete with the provided conditions. */\r\n\t\t\t\tif (have_duration) {\r\n\t\t\t\t\t/* Run the simulation without a duration. */\r\n\t\t\t\t\ttime_lapsed = springRK4Factory(tension, friction);\r\n\t\t\t\t\t/* Compute the adjusted time delta. */\r\n\t\t\t\t\tdt = time_lapsed / duration * DT;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdt = DT;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\t/* Next/step function .*/\r\n\t\t\t\t\tlast_state = springIntegrateState(last_state || initState, dt);\r\n\t\t\t\t\t/* Store the position. */\r\n\t\t\t\t\tpath.push(1 + last_state.x);\r\n\t\t\t\t\ttime_lapsed += 16;\r\n\t\t\t\t\t/* If the change threshold is reached, break. */\r\n\t\t\t\t\tif (!(Math.abs(last_state.x) > tolerance && Math.abs(last_state.v) > tolerance)) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\r\n\t\t\t\t computed path and returns a snapshot of the position according to a given percentComplete. */\r\n\t\t\t\treturn !have_duration ? time_lapsed : function(percentComplete) {\r\n\t\t\t\t\treturn path[ (percentComplete * (path.length - 1)) | 0 ];\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t}());\r\n\r\n\t\t/* jQuery easings. */\r\n\t\tVelocity.Easings = {\r\n\t\t\tlinear: function(p) {\r\n\t\t\t\treturn p;\r\n\t\t\t},\r\n\t\t\tswing: function(p) {\r\n\t\t\t\treturn 0.5 - Math.cos(p * Math.PI) / 2;\r\n\t\t\t},\r\n\t\t\t/* Bonus \"spring\" easing, which is a less exaggerated version of easeInOutElastic. */\r\n\t\t\tspring: function(p) {\r\n\t\t\t\treturn 1 - (Math.cos(p * 4.5 * Math.PI) * Math.exp(-p * 6));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/* CSS3 and Robert Penner easings. */\r\n\t\t$.each(\r\n\t\t\t\t[\r\n\t\t\t\t\t[\"ease\", [0.25, 0.1, 0.25, 1.0]],\r\n\t\t\t\t\t[\"ease-in\", [0.42, 0.0, 1.00, 1.0]],\r\n\t\t\t\t\t[\"ease-out\", [0.00, 0.0, 0.58, 1.0]],\r\n\t\t\t\t\t[\"ease-in-out\", [0.42, 0.0, 0.58, 1.0]],\r\n\t\t\t\t\t[\"easeInSine\", [0.47, 0, 0.745, 0.715]],\r\n\t\t\t\t\t[\"easeOutSine\", [0.39, 0.575, 0.565, 1]],\r\n\t\t\t\t\t[\"easeInOutSine\", [0.445, 0.05, 0.55, 0.95]],\r\n\t\t\t\t\t[\"easeInQuad\", [0.55, 0.085, 0.68, 0.53]],\r\n\t\t\t\t\t[\"easeOutQuad\", [0.25, 0.46, 0.45, 0.94]],\r\n\t\t\t\t\t[\"easeInOutQuad\", [0.455, 0.03, 0.515, 0.955]],\r\n\t\t\t\t\t[\"easeInCubic\", [0.55, 0.055, 0.675, 0.19]],\r\n\t\t\t\t\t[\"easeOutCubic\", [0.215, 0.61, 0.355, 1]],\r\n\t\t\t\t\t[\"easeInOutCubic\", [0.645, 0.045, 0.355, 1]],\r\n\t\t\t\t\t[\"easeInQuart\", [0.895, 0.03, 0.685, 0.22]],\r\n\t\t\t\t\t[\"easeOutQuart\", [0.165, 0.84, 0.44, 1]],\r\n\t\t\t\t\t[\"easeInOutQuart\", [0.77, 0, 0.175, 1]],\r\n\t\t\t\t\t[\"easeInQuint\", [0.755, 0.05, 0.855, 0.06]],\r\n\t\t\t\t\t[\"easeOutQuint\", [0.23, 1, 0.32, 1]],\r\n\t\t\t\t\t[\"easeInOutQuint\", [0.86, 0, 0.07, 1]],\r\n\t\t\t\t\t[\"easeInExpo\", [0.95, 0.05, 0.795, 0.035]],\r\n\t\t\t\t\t[\"easeOutExpo\", [0.19, 1, 0.22, 1]],\r\n\t\t\t\t\t[\"easeInOutExpo\", [1, 0, 0, 1]],\r\n\t\t\t\t\t[\"easeInCirc\", [0.6, 0.04, 0.98, 0.335]],\r\n\t\t\t\t\t[\"easeOutCirc\", [0.075, 0.82, 0.165, 1]],\r\n\t\t\t\t\t[\"easeInOutCirc\", [0.785, 0.135, 0.15, 0.86]]\r\n\t\t\t\t], function(i, easingArray) {\r\n\t\t\tVelocity.Easings[easingArray[0]] = generateBezier.apply(null, easingArray[1]);\r\n\t\t});\r\n\r\n\t\t/* Determine the appropriate easing type given an easing input. */\r\n\t\tfunction getEasing(value, duration) {\r\n\t\t\tvar easing = value;\r\n\r\n\t\t\t/* The easing option can either be a string that references a pre-registered easing,\r\n\t\t\t or it can be a two-/four-item array of integers to be converted into a bezier/spring function. */\r\n\t\t\tif (Type.isString(value)) {\r\n\t\t\t\t/* Ensure that the easing has been assigned to jQuery's Velocity.Easings object. */\r\n\t\t\t\tif (!Velocity.Easings[value]) {\r\n\t\t\t\t\teasing = false;\r\n\t\t\t\t}\r\n\t\t\t} else if (Type.isArray(value) && value.length === 1) {\r\n\t\t\t\teasing = generateStep.apply(null, value);\r\n\t\t\t} else if (Type.isArray(value) && value.length === 2) {\r\n\t\t\t\t/* springRK4 must be passed the animation's duration. */\r\n\t\t\t\t/* Note: If the springRK4 array contains non-numbers, generateSpringRK4() returns an easing\r\n\t\t\t\t function generated with default tension and friction values. */\r\n\t\t\t\teasing = generateSpringRK4.apply(null, value.concat([duration]));\r\n\t\t\t} else if (Type.isArray(value) && value.length === 4) {\r\n\t\t\t\t/* Note: If the bezier array contains non-numbers, generateBezier() returns false. */\r\n\t\t\t\teasing = generateBezier.apply(null, value);\r\n\t\t\t} else {\r\n\t\t\t\teasing = false;\r\n\t\t\t}\r\n\r\n\t\t\t/* Revert to the Velocity-wide default easing type, or fall back to \"swing\" (which is also jQuery's default)\r\n\t\t\t if the Velocity-wide default has been incorrectly modified. */\r\n\t\t\tif (easing === false) {\r\n\t\t\t\tif (Velocity.Easings[Velocity.defaults.easing]) {\r\n\t\t\t\t\teasing = Velocity.defaults.easing;\r\n\t\t\t\t} else {\r\n\t\t\t\t\teasing = EASING_DEFAULT;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn easing;\r\n\t\t}\r\n\r\n\t\t/*****************\r\n\t\t CSS Stack\r\n\t\t *****************/\r\n\r\n\t\t/* The CSS object is a highly condensed and performant CSS stack that fully replaces jQuery's.\r\n\t\t It handles the validation, getting, and setting of both standard CSS properties and CSS property hooks. */\r\n\t\t/* Note: A \"CSS\" shorthand is aliased so that our code is easier to read. */\r\n\t\tvar CSS = Velocity.CSS = {\r\n\t\t\t/*************\r\n\t\t\t RegEx\r\n\t\t\t *************/\r\n\r\n\t\t\tRegEx: {\r\n\t\t\t\tisHex: /^#([A-f\\d]{3}){1,2}$/i,\r\n\t\t\t\t/* Unwrap a property value's surrounding text, e.g. \"rgba(4, 3, 2, 1)\" ==> \"4, 3, 2, 1\" and \"rect(4px 3px 2px 1px)\" ==> \"4px 3px 2px 1px\". */\r\n\t\t\t\tvalueUnwrap: /^[A-z]+\\((.*)\\)$/i,\r\n\t\t\t\twrappedValueAlreadyExtracted: /[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,\r\n\t\t\t\t/* Split a multi-value property into an array of subvalues, e.g. \"rgba(4, 3, 2, 1) 4px 3px 2px 1px\" ==> [ \"rgba(4, 3, 2, 1)\", \"4px\", \"3px\", \"2px\", \"1px\" ]. */\r\n\t\t\t\tvalueSplit: /([A-z]+\\(.+\\))|(([A-z0-9#-.]+?)(?=\\s|$))/ig\r\n\t\t\t},\r\n\t\t\t/************\r\n\t\t\t Lists\r\n\t\t\t ************/\r\n\r\n\t\t\tLists: {\r\n\t\t\t\tcolors: [\"fill\", \"stroke\", \"stopColor\", \"color\", \"backgroundColor\", \"borderColor\", \"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\", \"outlineColor\"],\r\n\t\t\t\ttransformsBase: [\"translateX\", \"translateY\", \"scale\", \"scaleX\", \"scaleY\", \"skewX\", \"skewY\", \"rotateZ\"],\r\n\t\t\t\ttransforms3D: [\"transformPerspective\", \"translateZ\", \"scaleZ\", \"rotateX\", \"rotateY\"],\r\n\t\t\t\tunits: [\r\n\t\t\t\t\t\"%\", // relative\r\n\t\t\t\t\t\"em\", \"ex\", \"ch\", \"rem\", // font relative\r\n\t\t\t\t\t\"vw\", \"vh\", \"vmin\", \"vmax\", // viewport relative\r\n\t\t\t\t\t\"cm\", \"mm\", \"Q\", \"in\", \"pc\", \"pt\", \"px\", // absolute lengths\r\n\t\t\t\t\t\"deg\", \"grad\", \"rad\", \"turn\", // angles\r\n\t\t\t\t\t\"s\", \"ms\" // time\r\n\t\t\t\t],\r\n\t\t\t\tcolorNames: {\r\n\t\t\t\t\t\"aliceblue\": \"240,248,255\",\r\n\t\t\t\t\t\"antiquewhite\": \"250,235,215\",\r\n\t\t\t\t\t\"aquamarine\": \"127,255,212\",\r\n\t\t\t\t\t\"aqua\": \"0,255,255\",\r\n\t\t\t\t\t\"azure\": \"240,255,255\",\r\n\t\t\t\t\t\"beige\": \"245,245,220\",\r\n\t\t\t\t\t\"bisque\": \"255,228,196\",\r\n\t\t\t\t\t\"black\": \"0,0,0\",\r\n\t\t\t\t\t\"blanchedalmond\": \"255,235,205\",\r\n\t\t\t\t\t\"blueviolet\": \"138,43,226\",\r\n\t\t\t\t\t\"blue\": \"0,0,255\",\r\n\t\t\t\t\t\"brown\": \"165,42,42\",\r\n\t\t\t\t\t\"burlywood\": \"222,184,135\",\r\n\t\t\t\t\t\"cadetblue\": \"95,158,160\",\r\n\t\t\t\t\t\"chartreuse\": \"127,255,0\",\r\n\t\t\t\t\t\"chocolate\": \"210,105,30\",\r\n\t\t\t\t\t\"coral\": \"255,127,80\",\r\n\t\t\t\t\t\"cornflowerblue\": \"100,149,237\",\r\n\t\t\t\t\t\"cornsilk\": \"255,248,220\",\r\n\t\t\t\t\t\"crimson\": \"220,20,60\",\r\n\t\t\t\t\t\"cyan\": \"0,255,255\",\r\n\t\t\t\t\t\"darkblue\": \"0,0,139\",\r\n\t\t\t\t\t\"darkcyan\": \"0,139,139\",\r\n\t\t\t\t\t\"darkgoldenrod\": \"184,134,11\",\r\n\t\t\t\t\t\"darkgray\": \"169,169,169\",\r\n\t\t\t\t\t\"darkgrey\": \"169,169,169\",\r\n\t\t\t\t\t\"darkgreen\": \"0,100,0\",\r\n\t\t\t\t\t\"darkkhaki\": \"189,183,107\",\r\n\t\t\t\t\t\"darkmagenta\": \"139,0,139\",\r\n\t\t\t\t\t\"darkolivegreen\": \"85,107,47\",\r\n\t\t\t\t\t\"darkorange\": \"255,140,0\",\r\n\t\t\t\t\t\"darkorchid\": \"153,50,204\",\r\n\t\t\t\t\t\"darkred\": \"139,0,0\",\r\n\t\t\t\t\t\"darksalmon\": \"233,150,122\",\r\n\t\t\t\t\t\"darkseagreen\": \"143,188,143\",\r\n\t\t\t\t\t\"darkslateblue\": \"72,61,139\",\r\n\t\t\t\t\t\"darkslategray\": \"47,79,79\",\r\n\t\t\t\t\t\"darkturquoise\": \"0,206,209\",\r\n\t\t\t\t\t\"darkviolet\": \"148,0,211\",\r\n\t\t\t\t\t\"deeppink\": \"255,20,147\",\r\n\t\t\t\t\t\"deepskyblue\": \"0,191,255\",\r\n\t\t\t\t\t\"dimgray\": \"105,105,105\",\r\n\t\t\t\t\t\"dimgrey\": \"105,105,105\",\r\n\t\t\t\t\t\"dodgerblue\": \"30,144,255\",\r\n\t\t\t\t\t\"firebrick\": \"178,34,34\",\r\n\t\t\t\t\t\"floralwhite\": \"255,250,240\",\r\n\t\t\t\t\t\"forestgreen\": \"34,139,34\",\r\n\t\t\t\t\t\"fuchsia\": \"255,0,255\",\r\n\t\t\t\t\t\"gainsboro\": \"220,220,220\",\r\n\t\t\t\t\t\"ghostwhite\": \"248,248,255\",\r\n\t\t\t\t\t\"gold\": \"255,215,0\",\r\n\t\t\t\t\t\"goldenrod\": \"218,165,32\",\r\n\t\t\t\t\t\"gray\": \"128,128,128\",\r\n\t\t\t\t\t\"grey\": \"128,128,128\",\r\n\t\t\t\t\t\"greenyellow\": \"173,255,47\",\r\n\t\t\t\t\t\"green\": \"0,128,0\",\r\n\t\t\t\t\t\"honeydew\": \"240,255,240\",\r\n\t\t\t\t\t\"hotpink\": \"255,105,180\",\r\n\t\t\t\t\t\"indianred\": \"205,92,92\",\r\n\t\t\t\t\t\"indigo\": \"75,0,130\",\r\n\t\t\t\t\t\"ivory\": \"255,255,240\",\r\n\t\t\t\t\t\"khaki\": \"240,230,140\",\r\n\t\t\t\t\t\"lavenderblush\": \"255,240,245\",\r\n\t\t\t\t\t\"lavender\": \"230,230,250\",\r\n\t\t\t\t\t\"lawngreen\": \"124,252,0\",\r\n\t\t\t\t\t\"lemonchiffon\": \"255,250,205\",\r\n\t\t\t\t\t\"lightblue\": \"173,216,230\",\r\n\t\t\t\t\t\"lightcoral\": \"240,128,128\",\r\n\t\t\t\t\t\"lightcyan\": \"224,255,255\",\r\n\t\t\t\t\t\"lightgoldenrodyellow\": \"250,250,210\",\r\n\t\t\t\t\t\"lightgray\": \"211,211,211\",\r\n\t\t\t\t\t\"lightgrey\": \"211,211,211\",\r\n\t\t\t\t\t\"lightgreen\": \"144,238,144\",\r\n\t\t\t\t\t\"lightpink\": \"255,182,193\",\r\n\t\t\t\t\t\"lightsalmon\": \"255,160,122\",\r\n\t\t\t\t\t\"lightseagreen\": \"32,178,170\",\r\n\t\t\t\t\t\"lightskyblue\": \"135,206,250\",\r\n\t\t\t\t\t\"lightslategray\": \"119,136,153\",\r\n\t\t\t\t\t\"lightsteelblue\": \"176,196,222\",\r\n\t\t\t\t\t\"lightyellow\": \"255,255,224\",\r\n\t\t\t\t\t\"limegreen\": \"50,205,50\",\r\n\t\t\t\t\t\"lime\": \"0,255,0\",\r\n\t\t\t\t\t\"linen\": \"250,240,230\",\r\n\t\t\t\t\t\"magenta\": \"255,0,255\",\r\n\t\t\t\t\t\"maroon\": \"128,0,0\",\r\n\t\t\t\t\t\"mediumaquamarine\": \"102,205,170\",\r\n\t\t\t\t\t\"mediumblue\": \"0,0,205\",\r\n\t\t\t\t\t\"mediumorchid\": \"186,85,211\",\r\n\t\t\t\t\t\"mediumpurple\": \"147,112,219\",\r\n\t\t\t\t\t\"mediumseagreen\": \"60,179,113\",\r\n\t\t\t\t\t\"mediumslateblue\": \"123,104,238\",\r\n\t\t\t\t\t\"mediumspringgreen\": \"0,250,154\",\r\n\t\t\t\t\t\"mediumturquoise\": \"72,209,204\",\r\n\t\t\t\t\t\"mediumvioletred\": \"199,21,133\",\r\n\t\t\t\t\t\"midnightblue\": \"25,25,112\",\r\n\t\t\t\t\t\"mintcream\": \"245,255,250\",\r\n\t\t\t\t\t\"mistyrose\": \"255,228,225\",\r\n\t\t\t\t\t\"moccasin\": \"255,228,181\",\r\n\t\t\t\t\t\"navajowhite\": \"255,222,173\",\r\n\t\t\t\t\t\"navy\": \"0,0,128\",\r\n\t\t\t\t\t\"oldlace\": \"253,245,230\",\r\n\t\t\t\t\t\"olivedrab\": \"107,142,35\",\r\n\t\t\t\t\t\"olive\": \"128,128,0\",\r\n\t\t\t\t\t\"orangered\": \"255,69,0\",\r\n\t\t\t\t\t\"orange\": \"255,165,0\",\r\n\t\t\t\t\t\"orchid\": \"218,112,214\",\r\n\t\t\t\t\t\"palegoldenrod\": \"238,232,170\",\r\n\t\t\t\t\t\"palegreen\": \"152,251,152\",\r\n\t\t\t\t\t\"paleturquoise\": \"175,238,238\",\r\n\t\t\t\t\t\"palevioletred\": \"219,112,147\",\r\n\t\t\t\t\t\"papayawhip\": \"255,239,213\",\r\n\t\t\t\t\t\"peachpuff\": \"255,218,185\",\r\n\t\t\t\t\t\"peru\": \"205,133,63\",\r\n\t\t\t\t\t\"pink\": \"255,192,203\",\r\n\t\t\t\t\t\"plum\": \"221,160,221\",\r\n\t\t\t\t\t\"powderblue\": \"176,224,230\",\r\n\t\t\t\t\t\"purple\": \"128,0,128\",\r\n\t\t\t\t\t\"red\": \"255,0,0\",\r\n\t\t\t\t\t\"rosybrown\": \"188,143,143\",\r\n\t\t\t\t\t\"royalblue\": \"65,105,225\",\r\n\t\t\t\t\t\"saddlebrown\": \"139,69,19\",\r\n\t\t\t\t\t\"salmon\": \"250,128,114\",\r\n\t\t\t\t\t\"sandybrown\": \"244,164,96\",\r\n\t\t\t\t\t\"seagreen\": \"46,139,87\",\r\n\t\t\t\t\t\"seashell\": \"255,245,238\",\r\n\t\t\t\t\t\"sienna\": \"160,82,45\",\r\n\t\t\t\t\t\"silver\": \"192,192,192\",\r\n\t\t\t\t\t\"skyblue\": \"135,206,235\",\r\n\t\t\t\t\t\"slateblue\": \"106,90,205\",\r\n\t\t\t\t\t\"slategray\": \"112,128,144\",\r\n\t\t\t\t\t\"snow\": \"255,250,250\",\r\n\t\t\t\t\t\"springgreen\": \"0,255,127\",\r\n\t\t\t\t\t\"steelblue\": \"70,130,180\",\r\n\t\t\t\t\t\"tan\": \"210,180,140\",\r\n\t\t\t\t\t\"teal\": \"0,128,128\",\r\n\t\t\t\t\t\"thistle\": \"216,191,216\",\r\n\t\t\t\t\t\"tomato\": \"255,99,71\",\r\n\t\t\t\t\t\"turquoise\": \"64,224,208\",\r\n\t\t\t\t\t\"violet\": \"238,130,238\",\r\n\t\t\t\t\t\"wheat\": \"245,222,179\",\r\n\t\t\t\t\t\"whitesmoke\": \"245,245,245\",\r\n\t\t\t\t\t\"white\": \"255,255,255\",\r\n\t\t\t\t\t\"yellowgreen\": \"154,205,50\",\r\n\t\t\t\t\t\"yellow\": \"255,255,0\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/************\r\n\t\t\t Hooks\r\n\t\t\t ************/\r\n\r\n\t\t\t/* Hooks allow a subproperty (e.g. \"boxShadowBlur\") of a compound-value CSS property\r\n\t\t\t (e.g. \"boxShadow: X Y Blur Spread Color\") to be animated as if it were a discrete property. */\r\n\t\t\t/* Note: Beyond enabling fine-grained property animation, hooking is necessary since Velocity only\r\n\t\t\t tweens properties with single numeric values; unlike CSS transitions, Velocity does not interpolate compound-values. */\r\n\t\t\tHooks: {\r\n\t\t\t\t/********************\r\n\t\t\t\t Registration\r\n\t\t\t\t ********************/\r\n\r\n\t\t\t\t/* Templates are a concise way of indicating which subproperties must be individually registered for each compound-value CSS property. */\r\n\t\t\t\t/* Each template consists of the compound-value's base name, its constituent subproperty names, and those subproperties' default values. */\r\n\t\t\t\ttemplates: {\r\n\t\t\t\t\t\"textShadow\": [\"Color X Y Blur\", \"black 0px 0px 0px\"],\r\n\t\t\t\t\t\"boxShadow\": [\"Color X Y Blur Spread\", \"black 0px 0px 0px 0px\"],\r\n\t\t\t\t\t\"clip\": [\"Top Right Bottom Left\", \"0px 0px 0px 0px\"],\r\n\t\t\t\t\t\"backgroundPosition\": [\"X Y\", \"0% 0%\"],\r\n\t\t\t\t\t\"transformOrigin\": [\"X Y Z\", \"50% 50% 0px\"],\r\n\t\t\t\t\t\"perspectiveOrigin\": [\"X Y\", \"50% 50%\"]\r\n\t\t\t\t},\r\n\t\t\t\t/* A \"registered\" hook is one that has been converted from its template form into a live,\r\n\t\t\t\t tweenable property. It contains data to associate it with its root property. */\r\n\t\t\t\tregistered: {\r\n\t\t\t\t\t/* Note: A registered hook looks like this ==> textShadowBlur: [ \"textShadow\", 3 ],\r\n\t\t\t\t\t which consists of the subproperty's name, the associated root property's name,\r\n\t\t\t\t\t and the subproperty's position in the root's value. */\r\n\t\t\t\t},\r\n\t\t\t\t/* Convert the templates into individual hooks then append them to the registered object above. */\r\n\t\t\t\tregister: function() {\r\n\t\t\t\t\t/* Color hooks registration: Colors are defaulted to white -- as opposed to black -- since colors that are\r\n\t\t\t\t\t currently set to \"transparent\" default to their respective template below when color-animated,\r\n\t\t\t\t\t and white is typically a closer match to transparent than black is. An exception is made for text (\"color\"),\r\n\t\t\t\t\t which is almost always set closer to black than white. */\r\n\t\t\t\t\tfor (var i = 0; i < CSS.Lists.colors.length; i++) {\r\n\t\t\t\t\t\tvar rgbComponents = (CSS.Lists.colors[i] === \"color\") ? \"0 0 0 1\" : \"255 255 255 1\";\r\n\t\t\t\t\t\tCSS.Hooks.templates[CSS.Lists.colors[i]] = [\"Red Green Blue Alpha\", rgbComponents];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar rootProperty,\r\n\t\t\t\t\t\t\thookTemplate,\r\n\t\t\t\t\t\t\thookNames;\r\n\r\n\t\t\t\t\t/* In IE, color values inside compound-value properties are positioned at the end the value instead of at the beginning.\r\n\t\t\t\t\t Thus, we re-arrange the templates accordingly. */\r\n\t\t\t\t\tif (IE) {\r\n\t\t\t\t\t\tfor (rootProperty in CSS.Hooks.templates) {\r\n\t\t\t\t\t\t\tif (!CSS.Hooks.templates.hasOwnProperty(rootProperty)) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thookTemplate = CSS.Hooks.templates[rootProperty];\r\n\t\t\t\t\t\t\thookNames = hookTemplate[0].split(\" \");\r\n\r\n\t\t\t\t\t\t\tvar defaultValues = hookTemplate[1].match(CSS.RegEx.valueSplit);\r\n\r\n\t\t\t\t\t\t\tif (hookNames[0] === \"Color\") {\r\n\t\t\t\t\t\t\t\t/* Reposition both the hook's name and its default value to the end of their respective strings. */\r\n\t\t\t\t\t\t\t\thookNames.push(hookNames.shift());\r\n\t\t\t\t\t\t\t\tdefaultValues.push(defaultValues.shift());\r\n\r\n\t\t\t\t\t\t\t\t/* Replace the existing template for the hook's root property. */\r\n\t\t\t\t\t\t\t\tCSS.Hooks.templates[rootProperty] = [hookNames.join(\" \"), defaultValues.join(\" \")];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Hook registration. */\r\n\t\t\t\t\tfor (rootProperty in CSS.Hooks.templates) {\r\n\t\t\t\t\t\tif (!CSS.Hooks.templates.hasOwnProperty(rootProperty)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thookTemplate = CSS.Hooks.templates[rootProperty];\r\n\t\t\t\t\t\thookNames = hookTemplate[0].split(\" \");\r\n\r\n\t\t\t\t\t\tfor (var j in hookNames) {\r\n\t\t\t\t\t\t\tif (!hookNames.hasOwnProperty(j)) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar fullHookName = rootProperty + hookNames[j],\r\n\t\t\t\t\t\t\t\t\thookPosition = j;\r\n\r\n\t\t\t\t\t\t\t/* For each hook, register its full name (e.g. textShadowBlur) with its root property (e.g. textShadow)\r\n\t\t\t\t\t\t\t and the hook's position in its template's default value string. */\r\n\t\t\t\t\t\t\tCSS.Hooks.registered[fullHookName] = [rootProperty, hookPosition];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t/*****************************\r\n\t\t\t\t Injection and Extraction\r\n\t\t\t\t *****************************/\r\n\r\n\t\t\t\t/* Look up the root property associated with the hook (e.g. return \"textShadow\" for \"textShadowBlur\"). */\r\n\t\t\t\t/* Since a hook cannot be set directly (the browser won't recognize it), style updating for hooks is routed through the hook's root property. */\r\n\t\t\t\tgetRoot: function(property) {\r\n\t\t\t\t\tvar hookData = CSS.Hooks.registered[property];\r\n\r\n\t\t\t\t\tif (hookData) {\r\n\t\t\t\t\t\treturn hookData[0];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* If there was no hook match, return the property name untouched. */\r\n\t\t\t\t\t\treturn property;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgetUnit: function(str, start) {\r\n\t\t\t\t\tvar unit = (str.substr(start || 0, 5).match(/^[a-z%]+/) || [])[0] || \"\";\r\n\r\n\t\t\t\t\tif (unit && _inArray(CSS.Lists.units, unit)) {\r\n\t\t\t\t\t\treturn unit;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t},\r\n\t\t\t\tfixColors: function(str) {\r\n\t\t\t\t\treturn str.replace(/(rgba?\\(\\s*)?(\\b[a-z]+\\b)/g, function($0, $1, $2) {\r\n\t\t\t\t\t\tif (CSS.Lists.colorNames.hasOwnProperty($2)) {\r\n\t\t\t\t\t\t\treturn ($1 ? $1 : \"rgba(\") + CSS.Lists.colorNames[$2] + ($1 ? \"\" : \",1)\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn $1 + $2;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\t/* Convert any rootPropertyValue, null or otherwise, into a space-delimited list of hook values so that\r\n\t\t\t\t the targeted hook can be injected or extracted at its standard position. */\r\n\t\t\t\tcleanRootPropertyValue: function(rootProperty, rootPropertyValue) {\r\n\t\t\t\t\t/* If the rootPropertyValue is wrapped with \"rgb()\", \"clip()\", etc., remove the wrapping to normalize the value before manipulation. */\r\n\t\t\t\t\tif (CSS.RegEx.valueUnwrap.test(rootPropertyValue)) {\r\n\t\t\t\t\t\trootPropertyValue = rootPropertyValue.match(CSS.RegEx.valueUnwrap)[1];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* If rootPropertyValue is a CSS null-value (from which there's inherently no hook value to extract),\r\n\t\t\t\t\t default to the root's default value as defined in CSS.Hooks.templates. */\r\n\t\t\t\t\t/* Note: CSS null-values include \"none\", \"auto\", and \"transparent\". They must be converted into their\r\n\t\t\t\t\t zero-values (e.g. textShadow: \"none\" ==> textShadow: \"0px 0px 0px black\") for hook manipulation to proceed. */\r\n\t\t\t\t\tif (CSS.Values.isCSSNullValue(rootPropertyValue)) {\r\n\t\t\t\t\t\trootPropertyValue = CSS.Hooks.templates[rootProperty][1];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn rootPropertyValue;\r\n\t\t\t\t},\r\n\t\t\t\t/* Extracted the hook's value from its root property's value. This is used to get the starting value of an animating hook. */\r\n\t\t\t\textractValue: function(fullHookName, rootPropertyValue) {\r\n\t\t\t\t\tvar hookData = CSS.Hooks.registered[fullHookName];\r\n\r\n\t\t\t\t\tif (hookData) {\r\n\t\t\t\t\t\tvar hookRoot = hookData[0],\r\n\t\t\t\t\t\t\t\thookPosition = hookData[1];\r\n\r\n\t\t\t\t\t\trootPropertyValue = CSS.Hooks.cleanRootPropertyValue(hookRoot, rootPropertyValue);\r\n\r\n\t\t\t\t\t\t/* Split rootPropertyValue into its constituent hook values then grab the desired hook at its standard position. */\r\n\t\t\t\t\t\treturn rootPropertyValue.toString().match(CSS.RegEx.valueSplit)[hookPosition];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* If the provided fullHookName isn't a registered hook, return the rootPropertyValue that was passed in. */\r\n\t\t\t\t\t\treturn rootPropertyValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t/* Inject the hook's value into its root property's value. This is used to piece back together the root property\r\n\t\t\t\t once Velocity has updated one of its individually hooked values through tweening. */\r\n\t\t\t\tinjectValue: function(fullHookName, hookValue, rootPropertyValue) {\r\n\t\t\t\t\tvar hookData = CSS.Hooks.registered[fullHookName];\r\n\r\n\t\t\t\t\tif (hookData) {\r\n\t\t\t\t\t\tvar hookRoot = hookData[0],\r\n\t\t\t\t\t\t\t\thookPosition = hookData[1],\r\n\t\t\t\t\t\t\t\trootPropertyValueParts,\r\n\t\t\t\t\t\t\t\trootPropertyValueUpdated;\r\n\r\n\t\t\t\t\t\trootPropertyValue = CSS.Hooks.cleanRootPropertyValue(hookRoot, rootPropertyValue);\r\n\r\n\t\t\t\t\t\t/* Split rootPropertyValue into its individual hook values, replace the targeted value with hookValue,\r\n\t\t\t\t\t\t then reconstruct the rootPropertyValue string. */\r\n\t\t\t\t\t\trootPropertyValueParts = rootPropertyValue.toString().match(CSS.RegEx.valueSplit);\r\n\t\t\t\t\t\trootPropertyValueParts[hookPosition] = hookValue;\r\n\t\t\t\t\t\trootPropertyValueUpdated = rootPropertyValueParts.join(\" \");\r\n\r\n\t\t\t\t\t\treturn rootPropertyValueUpdated;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* If the provided fullHookName isn't a registered hook, return the rootPropertyValue that was passed in. */\r\n\t\t\t\t\t\treturn rootPropertyValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*******************\r\n\t\t\t Normalizations\r\n\t\t\t *******************/\r\n\r\n\t\t\t/* Normalizations standardize CSS property manipulation by pollyfilling browser-specific implementations (e.g. opacity)\r\n\t\t\t and reformatting special properties (e.g. clip, rgba) to look like standard ones. */\r\n\t\t\tNormalizations: {\r\n\t\t\t\t/* Normalizations are passed a normalization target (either the property's name, its extracted value, or its injected value),\r\n\t\t\t\t the targeted element (which may need to be queried), and the targeted property value. */\r\n\t\t\t\tregistered: {\r\n\t\t\t\t\tclip: function(type, element, propertyValue) {\r\n\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\treturn \"clip\";\r\n\t\t\t\t\t\t\t\t/* Clip needs to be unwrapped and stripped of its commas during extraction. */\r\n\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\tvar extracted;\r\n\r\n\t\t\t\t\t\t\t\t/* If Velocity also extracted this value, skip extraction. */\r\n\t\t\t\t\t\t\t\tif (CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\textracted = propertyValue;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t/* Remove the \"rect()\" wrapper. */\r\n\t\t\t\t\t\t\t\t\textracted = propertyValue.toString().match(CSS.RegEx.valueUnwrap);\r\n\r\n\t\t\t\t\t\t\t\t\t/* Strip off commas. */\r\n\t\t\t\t\t\t\t\t\textracted = extracted ? extracted[1].replace(/,(\\s+)?/g, \" \") : propertyValue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn extracted;\r\n\t\t\t\t\t\t\t\t/* Clip needs to be re-wrapped during injection. */\r\n\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\treturn \"rect(\" + propertyValue + \")\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tblur: function(type, element, propertyValue) {\r\n\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\treturn Velocity.State.isFirefox ? \"filter\" : \"-webkit-filter\";\r\n\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\tvar extracted = parseFloat(propertyValue);\r\n\r\n\t\t\t\t\t\t\t\t/* If extracted is NaN, meaning the value isn't already extracted. */\r\n\t\t\t\t\t\t\t\tif (!(extracted || extracted === 0)) {\r\n\t\t\t\t\t\t\t\t\tvar blurComponent = propertyValue.toString().match(/blur\\(([0-9]+[A-z]+)\\)/i);\r\n\r\n\t\t\t\t\t\t\t\t\t/* If the filter string had a blur component, return just the blur value and unit type. */\r\n\t\t\t\t\t\t\t\t\tif (blurComponent) {\r\n\t\t\t\t\t\t\t\t\t\textracted = blurComponent[1];\r\n\t\t\t\t\t\t\t\t\t\t/* If the component doesn't exist, default blur to 0. */\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\textracted = 0;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn extracted;\r\n\t\t\t\t\t\t\t\t/* Blur needs to be re-wrapped during injection. */\r\n\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t/* For the blur effect to be fully de-applied, it needs to be set to \"none\" instead of 0. */\r\n\t\t\t\t\t\t\t\tif (!parseFloat(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\treturn \"none\";\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn \"blur(\" + propertyValue + \")\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t/* <=IE8 do not support the standard opacity property. They use filter:alpha(opacity=INT) instead. */\r\n\t\t\t\t\topacity: function(type, element, propertyValue) {\r\n\t\t\t\t\t\tif (IE <= 8) {\r\n\t\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\t\treturn \"filter\";\r\n\t\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\t\t/* <=IE8 return a \"filter\" value of \"alpha(opacity=\\d{1,3})\".\r\n\t\t\t\t\t\t\t\t\t Extract the value and convert it to a decimal value to match the standard CSS opacity property's formatting. */\r\n\t\t\t\t\t\t\t\t\tvar extracted = propertyValue.toString().match(/alpha\\(opacity=(.*)\\)/i);\r\n\r\n\t\t\t\t\t\t\t\t\tif (extracted) {\r\n\t\t\t\t\t\t\t\t\t\t/* Convert to decimal value. */\r\n\t\t\t\t\t\t\t\t\t\tpropertyValue = extracted[1] / 100;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t/* When extracting opacity, default to 1 since a null value means opacity hasn't been set. */\r\n\t\t\t\t\t\t\t\t\t\tpropertyValue = 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\treturn propertyValue;\r\n\t\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t\t/* Opacified elements are required to have their zoom property set to a non-zero value. */\r\n\t\t\t\t\t\t\t\t\telement.style.zoom = 1;\r\n\r\n\t\t\t\t\t\t\t\t\t/* Setting the filter property on elements with certain font property combinations can result in a\r\n\t\t\t\t\t\t\t\t\t highly unappealing ultra-bolding effect. There's no way to remedy this throughout a tween, but dropping the\r\n\t\t\t\t\t\t\t\t\t value altogether (when opacity hits 1) at leasts ensures that the glitch is gone post-tweening. */\r\n\t\t\t\t\t\t\t\t\tif (parseFloat(propertyValue) >= 1) {\r\n\t\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t/* As per the filter property's spec, convert the decimal value to a whole number and wrap the value. */\r\n\t\t\t\t\t\t\t\t\t\treturn \"alpha(opacity=\" + parseInt(parseFloat(propertyValue) * 100, 10) + \")\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* With all other browsers, normalization is not required; return the same values that were passed in. */\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\t\treturn \"opacity\";\r\n\t\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\t\treturn propertyValue;\r\n\t\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t\treturn propertyValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t/*****************************\r\n\t\t\t\t Batched Registrations\r\n\t\t\t\t *****************************/\r\n\r\n\t\t\t\t/* Note: Batched normalizations extend the CSS.Normalizations.registered object. */\r\n\t\t\t\tregister: function() {\r\n\r\n\t\t\t\t\t/*****************\r\n\t\t\t\t\t Transforms\r\n\t\t\t\t\t *****************/\r\n\r\n\t\t\t\t\t/* Transforms are the subproperties contained by the CSS \"transform\" property. Transforms must undergo normalization\r\n\t\t\t\t\t so that they can be referenced in a properties map by their individual names. */\r\n\t\t\t\t\t/* Note: When transforms are \"set\", they are actually assigned to a per-element transformCache. When all transform\r\n\t\t\t\t\t setting is complete complete, CSS.flushTransformCache() must be manually called to flush the values to the DOM.\r\n\t\t\t\t\t Transform setting is batched in this way to improve performance: the transform style only needs to be updated\r\n\t\t\t\t\t once when multiple transform subproperties are being animated simultaneously. */\r\n\t\t\t\t\t/* Note: IE9 and Android Gingerbread have support for 2D -- but not 3D -- transforms. Since animating unsupported\r\n\t\t\t\t\t transform properties results in the browser ignoring the *entire* transform string, we prevent these 3D values\r\n\t\t\t\t\t from being normalized for these browsers so that tweening skips these properties altogether\r\n\t\t\t\t\t (since it will ignore them as being unsupported by the browser.) */\r\n\t\t\t\t\tif ((!IE || IE > 9) && !Velocity.State.isGingerbread) {\r\n\t\t\t\t\t\t/* Note: Since the standalone CSS \"perspective\" property and the CSS transform \"perspective\" subproperty\r\n\t\t\t\t\t\t share the same name, the latter is given a unique token within Velocity: \"transformPerspective\". */\r\n\t\t\t\t\t\tCSS.Lists.transformsBase = CSS.Lists.transformsBase.concat(CSS.Lists.transforms3D);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var i = 0; i < CSS.Lists.transformsBase.length; i++) {\r\n\t\t\t\t\t\t/* Wrap the dynamically generated normalization function in a new scope so that transformName's value is\r\n\t\t\t\t\t\t paired with its respective function. (Otherwise, all functions would take the final for loop's transformName.) */\r\n\t\t\t\t\t\t(function() {\r\n\t\t\t\t\t\t\tvar transformName = CSS.Lists.transformsBase[i];\r\n\r\n\t\t\t\t\t\t\tCSS.Normalizations.registered[transformName] = function(type, element, propertyValue) {\r\n\t\t\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\t\t\t/* The normalized property name is the parent \"transform\" property -- the property that is actually set in CSS. */\r\n\t\t\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\t\t\treturn \"transform\";\r\n\t\t\t\t\t\t\t\t\t\t/* Transform values are cached onto a per-element transformCache object. */\r\n\t\t\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\t\t\t/* If this transform has yet to be assigned a value, return its null value. */\r\n\t\t\t\t\t\t\t\t\t\tif (Data(element) === undefined || Data(element).transformCache[transformName] === undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* Scale CSS.Lists.transformsBase default to 1 whereas all other transform properties default to 0. */\r\n\t\t\t\t\t\t\t\t\t\t\treturn /^scale/i.test(transformName) ? 1 : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t/* When transform values are set, they are wrapped in parentheses as per the CSS spec.\r\n\t\t\t\t\t\t\t\t\t\t\t Thus, when extracting their values (for tween calculations), we strip off the parentheses. */\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn Data(element).transformCache[transformName].replace(/[()]/g, \"\");\r\n\t\t\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t\t\tvar invalid = false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* If an individual transform property contains an unsupported unit type, the browser ignores the *entire* transform property.\r\n\t\t\t\t\t\t\t\t\t\t Thus, protect users from themselves by skipping setting for transform values supplied with invalid unit types. */\r\n\t\t\t\t\t\t\t\t\t\t/* Switch on the base transform type; ignore the axis by removing the last letter from the transform's name. */\r\n\t\t\t\t\t\t\t\t\t\tswitch (transformName.substr(0, transformName.length - 1)) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* Whitelist unit types for each transform. */\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"translate\":\r\n\t\t\t\t\t\t\t\t\t\t\t\tinvalid = !/(%|px|em|rem|vw|vh|\\d)$/i.test(propertyValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* Since an axis-free \"scale\" property is supported as well, a little hack is used here to detect it by chopping off its last letter. */\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"scal\":\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"scale\":\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* Chrome on Android has a bug in which scaled elements blur if their initial scale\r\n\t\t\t\t\t\t\t\t\t\t\t\t value is below 1 (which can happen with forcefeeding). Thus, we detect a yet-unset scale property\r\n\t\t\t\t\t\t\t\t\t\t\t\t and ensure that its first value is always 1. More info: http://stackoverflow.com/questions/10417890/css3-animations-with-transform-causes-blurred-elements-on-webkit/10417962#10417962 */\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (Velocity.State.isAndroid && Data(element).transformCache[transformName] === undefined && propertyValue < 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpropertyValue = 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tinvalid = !/(\\d)$/i.test(propertyValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"skew\":\r\n\t\t\t\t\t\t\t\t\t\t\t\tinvalid = !/(deg|\\d)$/i.test(propertyValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\tcase \"rotate\":\r\n\t\t\t\t\t\t\t\t\t\t\t\tinvalid = !/(deg|\\d)$/i.test(propertyValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (!invalid) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* As per the CSS spec, wrap the value in parentheses. */\r\n\t\t\t\t\t\t\t\t\t\t\tData(element).transformCache[transformName] = \"(\" + propertyValue + \")\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Although the value is set on the transformCache object, return the newly-updated value for the calling code to process as normal. */\r\n\t\t\t\t\t\t\t\t\t\treturn Data(element).transformCache[transformName];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/*************\r\n\t\t\t\t\t Colors\r\n\t\t\t\t\t *************/\r\n\r\n\t\t\t\t\t/* Since Velocity only animates a single numeric value per property, color animation is achieved by hooking the individual RGBA components of CSS color properties.\r\n\t\t\t\t\t Accordingly, color values must be normalized (e.g. \"#ff0000\", \"red\", and \"rgb(255, 0, 0)\" ==> \"255 0 0 1\") so that their components can be injected/extracted by CSS.Hooks logic. */\r\n\t\t\t\t\tfor (var j = 0; j < CSS.Lists.colors.length; j++) {\r\n\t\t\t\t\t\t/* Wrap the dynamically generated normalization function in a new scope so that colorName's value is paired with its respective function.\r\n\t\t\t\t\t\t (Otherwise, all functions would take the final for loop's colorName.) */\r\n\t\t\t\t\t\t(function() {\r\n\t\t\t\t\t\t\tvar colorName = CSS.Lists.colors[j];\r\n\r\n\t\t\t\t\t\t\t/* Note: In IE<=8, which support rgb but not rgba, color properties are reverted to rgb by stripping off the alpha component. */\r\n\t\t\t\t\t\t\tCSS.Normalizations.registered[colorName] = function(type, element, propertyValue) {\r\n\t\t\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\t\t\treturn colorName;\r\n\t\t\t\t\t\t\t\t\t\t/* Convert all color values into the rgb format. (Old IE can return hex values and color names instead of rgb/rgba.) */\r\n\t\t\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\t\t\tvar extracted;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* If the color is already in its hookable form (e.g. \"255 255 255 1\") due to having been previously extracted, skip extraction. */\r\n\t\t\t\t\t\t\t\t\t\tif (CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\t\t\textracted = propertyValue;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvar converted,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolorNames = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tblack: \"rgb(0, 0, 0)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tblue: \"rgb(0, 0, 255)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgray: \"rgb(128, 128, 128)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgreen: \"rgb(0, 128, 0)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tred: \"rgb(255, 0, 0)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twhite: \"rgb(255, 255, 255)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t/* Convert color names to rgb. */\r\n\t\t\t\t\t\t\t\t\t\t\tif (/^[A-z]+$/i.test(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (colorNames[propertyValue] !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconverted = colorNames[propertyValue];\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* If an unmatched color name is provided, default to black. */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconverted = colorNames.black;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* Convert hex values to rgb. */\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (CSS.RegEx.isHex.test(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconverted = \"rgb(\" + CSS.Values.hexToRgb(propertyValue).join(\" \") + \")\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* If the provided color doesn't match any of the accepted color formats, default to black. */\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (!(/^rgba?\\(/i.test(propertyValue))) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconverted = colorNames.black;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t/* Remove the surrounding \"rgb/rgba()\" string then replace commas with spaces and strip\r\n\t\t\t\t\t\t\t\t\t\t\t repeated spaces (in case the value included spaces to begin with). */\r\n\t\t\t\t\t\t\t\t\t\t\textracted = (converted || propertyValue).toString().match(CSS.RegEx.valueUnwrap)[1].replace(/,(\\s+)?/g, \" \");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* So long as this isn't <=IE8, add a fourth (alpha) component if it's missing and default it to 1 (visible). */\r\n\t\t\t\t\t\t\t\t\t\tif ((!IE || IE > 8) && extracted.split(\" \").length === 3) {\r\n\t\t\t\t\t\t\t\t\t\t\textracted += \" 1\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn extracted;\r\n\t\t\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t\t\t/* If we have a pattern then it might already have the right values */\r\n\t\t\t\t\t\t\t\t\t\tif (/^rgb/.test(propertyValue)) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn propertyValue;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* If this is IE<=8 and an alpha component exists, strip it off. */\r\n\t\t\t\t\t\t\t\t\t\tif (IE <= 8) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (propertyValue.split(\" \").length === 4) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.split(/\\s+/).slice(0, 3).join(\" \");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/* Otherwise, add a fourth (alpha) component if it's missing and default it to 1 (visible). */\r\n\t\t\t\t\t\t\t\t\t\t} else if (propertyValue.split(\" \").length === 3) {\r\n\t\t\t\t\t\t\t\t\t\t\tpropertyValue += \" 1\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Re-insert the browser-appropriate wrapper(\"rgb/rgba()\"), insert commas, and strip off decimal units\r\n\t\t\t\t\t\t\t\t\t\t on all values but the fourth (R, G, and B only accept whole numbers). */\r\n\t\t\t\t\t\t\t\t\t\treturn (IE <= 8 ? \"rgb\" : \"rgba\") + \"(\" + propertyValue.replace(/\\s+/g, \",\").replace(/\\.(\\d)+(?=,)/g, \"\") + \")\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/**************\r\n\t\t\t\t\t Dimensions\r\n\t\t\t\t\t **************/\r\n\t\t\t\t\tfunction augmentDimension(name, element, wantInner) {\r\n\t\t\t\t\t\tvar isBorderBox = CSS.getPropertyValue(element, \"boxSizing\").toString().toLowerCase() === \"border-box\";\r\n\r\n\t\t\t\t\t\tif (isBorderBox === (wantInner || false)) {\r\n\t\t\t\t\t\t\t/* in box-sizing mode, the CSS width / height accessors already give the outerWidth / outerHeight. */\r\n\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\taugment = 0,\r\n\t\t\t\t\t\t\t\t\tsides = name === \"width\" ? [\"Left\", \"Right\"] : [\"Top\", \"Bottom\"],\r\n\t\t\t\t\t\t\t\t\tfields = [\"padding\" + sides[0], \"padding\" + sides[1], \"border\" + sides[0] + \"Width\", \"border\" + sides[1] + \"Width\"];\r\n\r\n\t\t\t\t\t\t\tfor (i = 0; i < fields.length; i++) {\r\n\t\t\t\t\t\t\t\tvalue = parseFloat(CSS.getPropertyValue(element, fields[i]));\r\n\t\t\t\t\t\t\t\tif (!isNaN(value)) {\r\n\t\t\t\t\t\t\t\t\taugment += value;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn wantInner ? -augment : augment;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunction getDimension(name, wantInner) {\r\n\t\t\t\t\t\treturn function(type, element, propertyValue) {\r\n\t\t\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\t\t\tcase \"name\":\r\n\t\t\t\t\t\t\t\t\treturn name;\r\n\t\t\t\t\t\t\t\tcase \"extract\":\r\n\t\t\t\t\t\t\t\t\treturn parseFloat(propertyValue) + augmentDimension(name, element, wantInner);\r\n\t\t\t\t\t\t\t\tcase \"inject\":\r\n\t\t\t\t\t\t\t\t\treturn (parseFloat(propertyValue) - augmentDimension(name, element, wantInner)) + \"px\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tCSS.Normalizations.registered.innerWidth = getDimension(\"width\", true);\r\n\t\t\t\t\tCSS.Normalizations.registered.innerHeight = getDimension(\"height\", true);\r\n\t\t\t\t\tCSS.Normalizations.registered.outerWidth = getDimension(\"width\");\r\n\t\t\t\t\tCSS.Normalizations.registered.outerHeight = getDimension(\"height\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/************************\r\n\t\t\t CSS Property Names\r\n\t\t\t ************************/\r\n\r\n\t\t\tNames: {\r\n\t\t\t\t/* Camelcase a property name into its JavaScript notation (e.g. \"background-color\" ==> \"backgroundColor\").\r\n\t\t\t\t Camelcasing is used to normalize property names between and across calls. */\r\n\t\t\t\tcamelCase: function(property) {\r\n\t\t\t\t\treturn property.replace(/-(\\w)/g, function(match, subMatch) {\r\n\t\t\t\t\t\treturn subMatch.toUpperCase();\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\t/* For SVG elements, some properties (namely, dimensional ones) are GET/SET via the element's HTML attributes (instead of via CSS styles). */\r\n\t\t\t\tSVGAttribute: function(property) {\r\n\t\t\t\t\tvar SVGAttributes = \"width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2\";\r\n\r\n\t\t\t\t\t/* Certain browsers require an SVG transform to be applied as an attribute. (Otherwise, application via CSS is preferable due to 3D support.) */\r\n\t\t\t\t\tif (IE || (Velocity.State.isAndroid && !Velocity.State.isChrome)) {\r\n\t\t\t\t\t\tSVGAttributes += \"|transform\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn new RegExp(\"^(\" + SVGAttributes + \")$\", \"i\").test(property);\r\n\t\t\t\t},\r\n\t\t\t\t/* Determine whether a property should be set with a vendor prefix. */\r\n\t\t\t\t/* If a prefixed version of the property exists, return it. Otherwise, return the original property name.\r\n\t\t\t\t If the property is not at all supported by the browser, return a false flag. */\r\n\t\t\t\tprefixCheck: function(property) {\r\n\t\t\t\t\t/* If this property has already been checked, return the cached value. */\r\n\t\t\t\t\tif (Velocity.State.prefixMatches[property]) {\r\n\t\t\t\t\t\treturn [Velocity.State.prefixMatches[property], true];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar vendors = [\"\", \"Webkit\", \"Moz\", \"ms\", \"O\"];\r\n\r\n\t\t\t\t\t\tfor (var i = 0, vendorsLength = vendors.length; i < vendorsLength; i++) {\r\n\t\t\t\t\t\t\tvar propertyPrefixed;\r\n\r\n\t\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\t\tpropertyPrefixed = property;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/* Capitalize the first letter of the property to conform to JavaScript vendor prefix notation (e.g. webkitFilter). */\r\n\t\t\t\t\t\t\t\tpropertyPrefixed = vendors[i] + property.replace(/^\\w/, function(match) {\r\n\t\t\t\t\t\t\t\t\treturn match.toUpperCase();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Check if the browser supports this property as prefixed. */\r\n\t\t\t\t\t\t\tif (Type.isString(Velocity.State.prefixElement.style[propertyPrefixed])) {\r\n\t\t\t\t\t\t\t\t/* Cache the match. */\r\n\t\t\t\t\t\t\t\tVelocity.State.prefixMatches[property] = propertyPrefixed;\r\n\r\n\t\t\t\t\t\t\t\treturn [propertyPrefixed, true];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* If the browser doesn't support this property in any form, include a false flag so that the caller can decide how to proceed. */\r\n\t\t\t\t\t\treturn [property, false];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/************************\r\n\t\t\t CSS Property Values\r\n\t\t\t ************************/\r\n\r\n\t\t\tValues: {\r\n\t\t\t\t/* Hex to RGB conversion. Copyright Tim Down: http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb */\r\n\t\t\t\thexToRgb: function(hex) {\r\n\t\t\t\t\tvar shortformRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\r\n\t\t\t\t\t\t\tlongformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i,\r\n\t\t\t\t\t\t\trgbParts;\r\n\r\n\t\t\t\t\thex = hex.replace(shortformRegex, function(m, r, g, b) {\r\n\t\t\t\t\t\treturn r + r + g + g + b + b;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\trgbParts = longformRegex.exec(hex);\r\n\r\n\t\t\t\t\treturn rgbParts ? [parseInt(rgbParts[1], 16), parseInt(rgbParts[2], 16), parseInt(rgbParts[3], 16)] : [0, 0, 0];\r\n\t\t\t\t},\r\n\t\t\t\tisCSSNullValue: function(value) {\r\n\t\t\t\t\t/* The browser defaults CSS values that have not been set to either 0 or one of several possible null-value strings.\r\n\t\t\t\t\t Thus, we check for both falsiness and these special strings. */\r\n\t\t\t\t\t/* Null-value checking is performed to default the special strings to 0 (for the sake of tweening) or their hook\r\n\t\t\t\t\t templates as defined as CSS.Hooks (for the sake of hook injection/extraction). */\r\n\t\t\t\t\t/* Note: Chrome returns \"rgba(0, 0, 0, 0)\" for an undefined color whereas IE returns \"transparent\". */\r\n\t\t\t\t\treturn (!value || /^(none|auto|transparent|(rgba\\(0, ?0, ?0, ?0\\)))$/i.test(value));\r\n\t\t\t\t},\r\n\t\t\t\t/* Retrieve a property's default unit type. Used for assigning a unit type when one is not supplied by the user. */\r\n\t\t\t\tgetUnitType: function(property) {\r\n\t\t\t\t\tif (/^(rotate|skew)/i.test(property)) {\r\n\t\t\t\t\t\treturn \"deg\";\r\n\t\t\t\t\t} else if (/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(property)) {\r\n\t\t\t\t\t\t/* The above properties are unitless. */\r\n\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* Default to px for all other properties. */\r\n\t\t\t\t\t\treturn \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t/* HTML elements default to an associated display type when they're not set to display:none. */\r\n\t\t\t\t/* Note: This function is used for correctly setting the non-\"none\" display value in certain Velocity redirects, such as fadeIn/Out. */\r\n\t\t\t\tgetDisplayType: function(element) {\r\n\t\t\t\t\tvar tagName = element && element.tagName.toString().toLowerCase();\r\n\r\n\t\t\t\t\tif (/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(tagName)) {\r\n\t\t\t\t\t\treturn \"inline\";\r\n\t\t\t\t\t} else if (/^(li)$/i.test(tagName)) {\r\n\t\t\t\t\t\treturn \"list-item\";\r\n\t\t\t\t\t} else if (/^(tr)$/i.test(tagName)) {\r\n\t\t\t\t\t\treturn \"table-row\";\r\n\t\t\t\t\t} else if (/^(table)$/i.test(tagName)) {\r\n\t\t\t\t\t\treturn \"table\";\r\n\t\t\t\t\t} else if (/^(tbody)$/i.test(tagName)) {\r\n\t\t\t\t\t\treturn \"table-row-group\";\r\n\t\t\t\t\t\t/* Default to \"block\" when no match is found. */\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn \"block\";\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t/* The class add/remove functions are used to temporarily apply a \"velocity-animating\" class to elements while they're animating. */\r\n\t\t\t\taddClass: function(element, className) {\r\n\t\t\t\t\tif (element) {\r\n\t\t\t\t\t\tif (element.classList) {\r\n\t\t\t\t\t\t\telement.classList.add(className);\r\n\t\t\t\t\t\t} else if (Type.isString(element.className)) {\r\n\t\t\t\t\t\t\t// Element.className is around 15% faster then set/getAttribute\r\n\t\t\t\t\t\t\telement.className += (element.className.length ? \" \" : \"\") + className;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Work around for IE strict mode animating SVG - and anything else that doesn't behave correctly - the same way jQuery does it\r\n\t\t\t\t\t\t\tvar currentClass = element.getAttribute(IE <= 7 ? \"className\" : \"class\") || \"\";\r\n\r\n\t\t\t\t\t\t\telement.setAttribute(\"class\", currentClass + (currentClass ? \" \" : \"\") + className);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tremoveClass: function(element, className) {\r\n\t\t\t\t\tif (element) {\r\n\t\t\t\t\t\tif (element.classList) {\r\n\t\t\t\t\t\t\telement.classList.remove(className);\r\n\t\t\t\t\t\t} else if (Type.isString(element.className)) {\r\n\t\t\t\t\t\t\t// Element.className is around 15% faster then set/getAttribute\r\n\t\t\t\t\t\t\t// TODO: Need some jsperf tests on performance - can we get rid of the regex and maybe use split / array manipulation?\r\n\t\t\t\t\t\t\telement.className = element.className.toString().replace(new RegExp(\"(^|\\\\s)\" + className.split(\" \").join(\"|\") + \"(\\\\s|$)\", \"gi\"), \" \");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Work around for IE strict mode animating SVG - and anything else that doesn't behave correctly - the same way jQuery does it\r\n\t\t\t\t\t\t\tvar currentClass = element.getAttribute(IE <= 7 ? \"className\" : \"class\") || \"\";\r\n\r\n\t\t\t\t\t\t\telement.setAttribute(\"class\", currentClass.replace(new RegExp(\"(^|\\s)\" + className.split(\" \").join(\"|\") + \"(\\s|$)\", \"gi\"), \" \"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/****************************\r\n\t\t\t Style Getting & Setting\r\n\t\t\t ****************************/\r\n\r\n\t\t\t/* The singular getPropertyValue, which routes the logic for all normalizations, hooks, and standard CSS properties. */\r\n\t\t\tgetPropertyValue: function(element, property, rootPropertyValue, forceStyleLookup) {\r\n\t\t\t\t/* Get an element's computed property value. */\r\n\t\t\t\t/* Note: Retrieving the value of a CSS property cannot simply be performed by checking an element's\r\n\t\t\t\t style attribute (which only reflects user-defined values). Instead, the browser must be queried for a property's\r\n\t\t\t\t *computed* value. You can read more about getComputedStyle here: https://developer.mozilla.org/en/docs/Web/API/window.getComputedStyle */\r\n\t\t\t\tfunction computePropertyValue(element, property) {\r\n\t\t\t\t\t/* When box-sizing isn't set to border-box, height and width style values are incorrectly computed when an\r\n\t\t\t\t\t element's scrollbars are visible (which expands the element's dimensions). Thus, we defer to the more accurate\r\n\t\t\t\t\t offsetHeight/Width property, which includes the total dimensions for interior, border, padding, and scrollbar.\r\n\t\t\t\t\t We subtract border and padding to get the sum of interior + scrollbar. */\r\n\t\t\t\t\tvar computedValue = 0;\r\n\r\n\t\t\t\t\t/* IE<=8 doesn't support window.getComputedStyle, thus we defer to jQuery, which has an extensive array\r\n\t\t\t\t\t of hacks to accurately retrieve IE8 property values. Re-implementing that logic here is not worth bloating the\r\n\t\t\t\t\t codebase for a dying browser. The performance repercussions of using jQuery here are minimal since\r\n\t\t\t\t\t Velocity is optimized to rarely (and sometimes never) query the DOM. Further, the $.css() codepath isn't that slow. */\r\n\t\t\t\t\tif (IE <= 8) {\r\n\t\t\t\t\t\tcomputedValue = $.css(element, property); /* GET */\r\n\t\t\t\t\t\t/* All other browsers support getComputedStyle. The returned live object reference is cached onto its\r\n\t\t\t\t\t\t associated element so that it does not need to be refetched upon every GET. */\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* Browsers do not return height and width values for elements that are set to display:\"none\". Thus, we temporarily\r\n\t\t\t\t\t\t toggle display to the element type's default value. */\r\n\t\t\t\t\t\tvar toggleDisplay = false;\r\n\r\n\t\t\t\t\t\tif (/^(width|height)$/.test(property) && CSS.getPropertyValue(element, \"display\") === 0) {\r\n\t\t\t\t\t\t\ttoggleDisplay = true;\r\n\t\t\t\t\t\t\tCSS.setPropertyValue(element, \"display\", CSS.Values.getDisplayType(element));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar revertDisplay = function() {\r\n\t\t\t\t\t\t\tif (toggleDisplay) {\r\n\t\t\t\t\t\t\t\tCSS.setPropertyValue(element, \"display\", \"none\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif (!forceStyleLookup) {\r\n\t\t\t\t\t\t\tif (property === \"height\" && CSS.getPropertyValue(element, \"boxSizing\").toString().toLowerCase() !== \"border-box\") {\r\n\t\t\t\t\t\t\t\tvar contentBoxHeight = element.offsetHeight - (parseFloat(CSS.getPropertyValue(element, \"borderTopWidth\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"borderBottomWidth\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"paddingTop\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"paddingBottom\")) || 0);\r\n\t\t\t\t\t\t\t\trevertDisplay();\r\n\r\n\t\t\t\t\t\t\t\treturn contentBoxHeight;\r\n\t\t\t\t\t\t\t} else if (property === \"width\" && CSS.getPropertyValue(element, \"boxSizing\").toString().toLowerCase() !== \"border-box\") {\r\n\t\t\t\t\t\t\t\tvar contentBoxWidth = element.offsetWidth - (parseFloat(CSS.getPropertyValue(element, \"borderLeftWidth\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"borderRightWidth\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"paddingLeft\")) || 0) - (parseFloat(CSS.getPropertyValue(element, \"paddingRight\")) || 0);\r\n\t\t\t\t\t\t\t\trevertDisplay();\r\n\r\n\t\t\t\t\t\t\t\treturn contentBoxWidth;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar computedStyle;\r\n\r\n\t\t\t\t\t\t/* For elements that Velocity hasn't been called on directly (e.g. when Velocity queries the DOM on behalf\r\n\t\t\t\t\t\t of a parent of an element its animating), perform a direct getComputedStyle lookup since the object isn't cached. */\r\n\t\t\t\t\t\tif (Data(element) === undefined) {\r\n\t\t\t\t\t\t\tcomputedStyle = window.getComputedStyle(element, null); /* GET */\r\n\t\t\t\t\t\t\t/* If the computedStyle object has yet to be cached, do so now. */\r\n\t\t\t\t\t\t} else if (!Data(element).computedStyle) {\r\n\t\t\t\t\t\t\tcomputedStyle = Data(element).computedStyle = window.getComputedStyle(element, null); /* GET */\r\n\t\t\t\t\t\t\t/* If computedStyle is cached, use it. */\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcomputedStyle = Data(element).computedStyle;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* IE and Firefox do not return a value for the generic borderColor -- they only return individual values for each border side's color.\r\n\t\t\t\t\t\t Also, in all browsers, when border colors aren't all the same, a compound value is returned that Velocity isn't setup to parse.\r\n\t\t\t\t\t\t So, as a polyfill for querying individual border side colors, we just return the top border's color and animate all borders from that value. */\r\n\t\t\t\t\t\tif (property === \"borderColor\") {\r\n\t\t\t\t\t\t\tproperty = \"borderTopColor\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* IE9 has a bug in which the \"filter\" property must be accessed from computedStyle using the getPropertyValue method\r\n\t\t\t\t\t\t instead of a direct property lookup. The getPropertyValue method is slower than a direct lookup, which is why we avoid it by default. */\r\n\t\t\t\t\t\tif (IE === 9 && property === \"filter\") {\r\n\t\t\t\t\t\t\tcomputedValue = computedStyle.getPropertyValue(property); /* GET */\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcomputedValue = computedStyle[property];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Fall back to the property's style value (if defined) when computedValue returns nothing,\r\n\t\t\t\t\t\t which can happen when the element hasn't been painted. */\r\n\t\t\t\t\t\tif (computedValue === \"\" || computedValue === null) {\r\n\t\t\t\t\t\t\tcomputedValue = element.style[property];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trevertDisplay();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* For top, right, bottom, and left (TRBL) values that are set to \"auto\" on elements of \"fixed\" or \"absolute\" position,\r\n\t\t\t\t\t defer to jQuery for converting \"auto\" to a numeric value. (For elements with a \"static\" or \"relative\" position, \"auto\" has the same\r\n\t\t\t\t\t effect as being set to 0, so no conversion is necessary.) */\r\n\t\t\t\t\t/* An example of why numeric conversion is necessary: When an element with \"position:absolute\" has an untouched \"left\"\r\n\t\t\t\t\t property, which reverts to \"auto\", left's value is 0 relative to its parent element, but is often non-zero relative\r\n\t\t\t\t\t to its *containing* (not parent) element, which is the nearest \"position:relative\" ancestor or the viewport (and always the viewport in the case of \"position:fixed\"). */\r\n\t\t\t\t\tif (computedValue === \"auto\" && /^(top|right|bottom|left)$/i.test(property)) {\r\n\t\t\t\t\t\tvar position = computePropertyValue(element, \"position\"); /* GET */\r\n\r\n\t\t\t\t\t\t/* For absolute positioning, jQuery's $.position() only returns values for top and left;\r\n\t\t\t\t\t\t right and bottom will have their \"auto\" value reverted to 0. */\r\n\t\t\t\t\t\t/* Note: A jQuery object must be created here since jQuery doesn't have a low-level alias for $.position().\r\n\t\t\t\t\t\t Not a big deal since we're currently in a GET batch anyway. */\r\n\t\t\t\t\t\tif (position === \"fixed\" || (position === \"absolute\" && /top|left/i.test(property))) {\r\n\t\t\t\t\t\t\t/* Note: jQuery strips the pixel unit from its returned values; we re-add it here to conform with computePropertyValue's behavior. */\r\n\t\t\t\t\t\t\tcomputedValue = $(element).position()[property] + \"px\"; /* GET */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn computedValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar propertyValue;\r\n\r\n\t\t\t\t/* If this is a hooked property (e.g. \"clipLeft\" instead of the root property of \"clip\"),\r\n\t\t\t\t extract the hook's value from a normalized rootPropertyValue using CSS.Hooks.extractValue(). */\r\n\t\t\t\tif (CSS.Hooks.registered[property]) {\r\n\t\t\t\t\tvar hook = property,\r\n\t\t\t\t\t\t\thookRoot = CSS.Hooks.getRoot(hook);\r\n\r\n\t\t\t\t\t/* If a cached rootPropertyValue wasn't passed in (which Velocity always attempts to do in order to avoid requerying the DOM),\r\n\t\t\t\t\t query the DOM for the root property's value. */\r\n\t\t\t\t\tif (rootPropertyValue === undefined) {\r\n\t\t\t\t\t\t/* Since the browser is now being directly queried, use the official post-prefixing property name for this lookup. */\r\n\t\t\t\t\t\trootPropertyValue = CSS.getPropertyValue(element, CSS.Names.prefixCheck(hookRoot)[0]); /* GET */\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* If this root has a normalization registered, peform the associated normalization extraction. */\r\n\t\t\t\t\tif (CSS.Normalizations.registered[hookRoot]) {\r\n\t\t\t\t\t\trootPropertyValue = CSS.Normalizations.registered[hookRoot](\"extract\", element, rootPropertyValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Extract the hook's value. */\r\n\t\t\t\t\tpropertyValue = CSS.Hooks.extractValue(hook, rootPropertyValue);\r\n\r\n\t\t\t\t\t/* If this is a normalized property (e.g. \"opacity\" becomes \"filter\" in <=IE8) or \"translateX\" becomes \"transform\"),\r\n\t\t\t\t\t normalize the property's name and value, and handle the special case of transforms. */\r\n\t\t\t\t\t/* Note: Normalizing a property is mutually exclusive from hooking a property since hook-extracted values are strictly\r\n\t\t\t\t\t numerical and therefore do not require normalization extraction. */\r\n\t\t\t\t} else if (CSS.Normalizations.registered[property]) {\r\n\t\t\t\t\tvar normalizedPropertyName,\r\n\t\t\t\t\t\t\tnormalizedPropertyValue;\r\n\r\n\t\t\t\t\tnormalizedPropertyName = CSS.Normalizations.registered[property](\"name\", element);\r\n\r\n\t\t\t\t\t/* Transform values are calculated via normalization extraction (see below), which checks against the element's transformCache.\r\n\t\t\t\t\t At no point do transform GETs ever actually query the DOM; initial stylesheet values are never processed.\r\n\t\t\t\t\t This is because parsing 3D transform matrices is not always accurate and would bloat our codebase;\r\n\t\t\t\t\t thus, normalization extraction defaults initial transform values to their zero-values (e.g. 1 for scaleX and 0 for translateX). */\r\n\t\t\t\t\tif (normalizedPropertyName !== \"transform\") {\r\n\t\t\t\t\t\tnormalizedPropertyValue = computePropertyValue(element, CSS.Names.prefixCheck(normalizedPropertyName)[0]); /* GET */\r\n\r\n\t\t\t\t\t\t/* If the value is a CSS null-value and this property has a hook template, use that zero-value template so that hooks can be extracted from it. */\r\n\t\t\t\t\t\tif (CSS.Values.isCSSNullValue(normalizedPropertyValue) && CSS.Hooks.templates[property]) {\r\n\t\t\t\t\t\t\tnormalizedPropertyValue = CSS.Hooks.templates[property][1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpropertyValue = CSS.Normalizations.registered[property](\"extract\", element, normalizedPropertyValue);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* If a (numeric) value wasn't produced via hook extraction or normalization, query the DOM. */\r\n\t\t\t\tif (!/^[\\d-]/.test(propertyValue)) {\r\n\t\t\t\t\t/* For SVG elements, dimensional properties (which SVGAttribute() detects) are tweened via\r\n\t\t\t\t\t their HTML attribute values instead of their CSS style values. */\r\n\t\t\t\t\tvar data = Data(element);\r\n\r\n\t\t\t\t\tif (data && data.isSVG && CSS.Names.SVGAttribute(property)) {\r\n\t\t\t\t\t\t/* Since the height/width attribute values must be set manually, they don't reflect computed values.\r\n\t\t\t\t\t\t Thus, we use use getBBox() to ensure we always get values for elements with undefined height/width attributes. */\r\n\t\t\t\t\t\tif (/^(height|width)$/i.test(property)) {\r\n\t\t\t\t\t\t\t/* Firefox throws an error if .getBBox() is called on an SVG that isn't attached to the DOM. */\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tpropertyValue = element.getBBox()[property];\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tpropertyValue = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* Otherwise, access the attribute value directly. */\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpropertyValue = element.getAttribute(property);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpropertyValue = computePropertyValue(element, CSS.Names.prefixCheck(property)[0]); /* GET */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Since property lookups are for animation purposes (which entails computing the numeric delta between start and end values),\r\n\t\t\t\t convert CSS null-values to an integer of value 0. */\r\n\t\t\t\tif (CSS.Values.isCSSNullValue(propertyValue)) {\r\n\t\t\t\t\tpropertyValue = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Velocity.debug >= 2) {\r\n\t\t\t\t\tconsole.log(\"Get \" + property + \": \" + propertyValue);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn propertyValue;\r\n\t\t\t},\r\n\t\t\t/* The singular setPropertyValue, which routes the logic for all normalizations, hooks, and standard CSS properties. */\r\n\t\t\tsetPropertyValue: function(element, property, propertyValue, rootPropertyValue, scrollData) {\r\n\t\t\t\tvar propertyName = property;\r\n\r\n\t\t\t\t/* In order to be subjected to call options and element queueing, scroll animation is routed through Velocity as if it were a standard CSS property. */\r\n\t\t\t\tif (property === \"scroll\") {\r\n\t\t\t\t\t/* If a container option is present, scroll the container instead of the browser window. */\r\n\t\t\t\t\tif (scrollData.container) {\r\n\t\t\t\t\t\tscrollData.container[\"scroll\" + scrollData.direction] = propertyValue;\r\n\t\t\t\t\t\t/* Otherwise, Velocity defaults to scrolling the browser window. */\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (scrollData.direction === \"Left\") {\r\n\t\t\t\t\t\t\twindow.scrollTo(propertyValue, scrollData.alternateValue);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\twindow.scrollTo(scrollData.alternateValue, propertyValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/* Transforms (translateX, rotateZ, etc.) are applied to a per-element transformCache object, which is manually flushed via flushTransformCache().\r\n\t\t\t\t\t Thus, for now, we merely cache transforms being SET. */\r\n\t\t\t\t\tif (CSS.Normalizations.registered[property] && CSS.Normalizations.registered[property](\"name\", element) === \"transform\") {\r\n\t\t\t\t\t\t/* Perform a normalization injection. */\r\n\t\t\t\t\t\t/* Note: The normalization logic handles the transformCache updating. */\r\n\t\t\t\t\t\tCSS.Normalizations.registered[property](\"inject\", element, propertyValue);\r\n\r\n\t\t\t\t\t\tpropertyName = \"transform\";\r\n\t\t\t\t\t\tpropertyValue = Data(element).transformCache[property];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/* Inject hooks. */\r\n\t\t\t\t\t\tif (CSS.Hooks.registered[property]) {\r\n\t\t\t\t\t\t\tvar hookName = property,\r\n\t\t\t\t\t\t\t\t\thookRoot = CSS.Hooks.getRoot(property);\r\n\r\n\t\t\t\t\t\t\t/* If a cached rootPropertyValue was not provided, query the DOM for the hookRoot's current value. */\r\n\t\t\t\t\t\t\trootPropertyValue = rootPropertyValue || CSS.getPropertyValue(element, hookRoot); /* GET */\r\n\r\n\t\t\t\t\t\t\tpropertyValue = CSS.Hooks.injectValue(hookName, propertyValue, rootPropertyValue);\r\n\t\t\t\t\t\t\tproperty = hookRoot;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Normalize names and values. */\r\n\t\t\t\t\t\tif (CSS.Normalizations.registered[property]) {\r\n\t\t\t\t\t\t\tpropertyValue = CSS.Normalizations.registered[property](\"inject\", element, propertyValue);\r\n\t\t\t\t\t\t\tproperty = CSS.Normalizations.registered[property](\"name\", element);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Assign the appropriate vendor prefix before performing an official style update. */\r\n\t\t\t\t\t\tpropertyName = CSS.Names.prefixCheck(property)[0];\r\n\r\n\t\t\t\t\t\t/* A try/catch is used for IE<=8, which throws an error when \"invalid\" CSS values are set, e.g. a negative width.\r\n\t\t\t\t\t\t Try/catch is avoided for other browsers since it incurs a performance overhead. */\r\n\t\t\t\t\t\tif (IE <= 8) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\telement.style[propertyName] = propertyValue;\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Browser does not support [\" + propertyValue + \"] for [\" + propertyName + \"]\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* SVG elements have their dimensional properties (width, height, x, y, cx, etc.) applied directly as attributes instead of as styles. */\r\n\t\t\t\t\t\t\t/* Note: IE8 does not support SVG elements, so it's okay that we skip it for SVG animation. */\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar data = Data(element);\r\n\r\n\t\t\t\t\t\t\tif (data && data.isSVG && CSS.Names.SVGAttribute(property)) {\r\n\t\t\t\t\t\t\t\t/* Note: For SVG attributes, vendor-prefixed property names are never used. */\r\n\t\t\t\t\t\t\t\t/* Note: Not all CSS properties can be animated via attributes, but the browser won't throw an error for unsupported properties. */\r\n\t\t\t\t\t\t\t\telement.setAttribute(property, propertyValue);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telement.style[propertyName] = propertyValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (Velocity.debug >= 2) {\r\n\t\t\t\t\t\t\tconsole.log(\"Set \" + property + \" (\" + propertyName + \"): \" + propertyValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Return the normalized property name and value in case the caller wants to know how these values were modified before being applied to the DOM. */\r\n\t\t\t\treturn [propertyName, propertyValue];\r\n\t\t\t},\r\n\t\t\t/* To increase performance by batching transform updates into a single SET, transforms are not directly applied to an element until flushTransformCache() is called. */\r\n\t\t\t/* Note: Velocity applies transform properties in the same order that they are chronogically introduced to the element's CSS styles. */\r\n\t\t\tflushTransformCache: function(element) {\r\n\t\t\t\tvar transformString = \"\",\r\n\t\t\t\t\t\tdata = Data(element);\r\n\r\n\t\t\t\t/* Certain browsers require that SVG transforms be applied as an attribute. However, the SVG transform attribute takes a modified version of CSS's transform string\r\n\t\t\t\t (units are dropped and, except for skewX/Y, subproperties are merged into their master property -- e.g. scaleX and scaleY are merged into scale(X Y). */\r\n\t\t\t\tif ((IE || (Velocity.State.isAndroid && !Velocity.State.isChrome)) && data && data.isSVG) {\r\n\t\t\t\t\t/* Since transform values are stored in their parentheses-wrapped form, we use a helper function to strip out their numeric values.\r\n\t\t\t\t\t Further, SVG transform properties only take unitless (representing pixels) values, so it's okay that parseFloat() strips the unit suffixed to the float value. */\r\n\t\t\t\t\tvar getTransformFloat = function(transformProperty) {\r\n\t\t\t\t\t\treturn parseFloat(CSS.getPropertyValue(element, transformProperty));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/* Create an object to organize all the transforms that we'll apply to the SVG element. To keep the logic simple,\r\n\t\t\t\t\t we process *all* transform properties -- even those that may not be explicitly applied (since they default to their zero-values anyway). */\r\n\t\t\t\t\tvar SVGTransforms = {\r\n\t\t\t\t\t\ttranslate: [getTransformFloat(\"translateX\"), getTransformFloat(\"translateY\")],\r\n\t\t\t\t\t\tskewX: [getTransformFloat(\"skewX\")], skewY: [getTransformFloat(\"skewY\")],\r\n\t\t\t\t\t\t/* If the scale property is set (non-1), use that value for the scaleX and scaleY values\r\n\t\t\t\t\t\t (this behavior mimics the result of animating all these properties at once on HTML elements). */\r\n\t\t\t\t\t\tscale: getTransformFloat(\"scale\") !== 1 ? [getTransformFloat(\"scale\"), getTransformFloat(\"scale\")] : [getTransformFloat(\"scaleX\"), getTransformFloat(\"scaleY\")],\r\n\t\t\t\t\t\t/* Note: SVG's rotate transform takes three values: rotation degrees followed by the X and Y values\r\n\t\t\t\t\t\t defining the rotation's origin point. We ignore the origin values (default them to 0). */\r\n\t\t\t\t\t\trotate: [getTransformFloat(\"rotateZ\"), 0, 0]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/* Iterate through the transform properties in the user-defined property map order.\r\n\t\t\t\t\t (This mimics the behavior of non-SVG transform animation.) */\r\n\t\t\t\t\t$.each(Data(element).transformCache, function(transformName) {\r\n\t\t\t\t\t\t/* Except for with skewX/Y, revert the axis-specific transform subproperties to their axis-free master\r\n\t\t\t\t\t\t properties so that they match up with SVG's accepted transform properties. */\r\n\t\t\t\t\t\tif (/^translate/i.test(transformName)) {\r\n\t\t\t\t\t\t\ttransformName = \"translate\";\r\n\t\t\t\t\t\t} else if (/^scale/i.test(transformName)) {\r\n\t\t\t\t\t\t\ttransformName = \"scale\";\r\n\t\t\t\t\t\t} else if (/^rotate/i.test(transformName)) {\r\n\t\t\t\t\t\t\ttransformName = \"rotate\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Check that we haven't yet deleted the property from the SVGTransforms container. */\r\n\t\t\t\t\t\tif (SVGTransforms[transformName]) {\r\n\t\t\t\t\t\t\t/* Append the transform property in the SVG-supported transform format. As per the spec, surround the space-delimited values in parentheses. */\r\n\t\t\t\t\t\t\ttransformString += transformName + \"(\" + SVGTransforms[transformName].join(\" \") + \")\" + \" \";\r\n\r\n\t\t\t\t\t\t\t/* After processing an SVG transform property, delete it from the SVGTransforms container so we don't\r\n\t\t\t\t\t\t\t re-insert the same master property if we encounter another one of its axis-specific properties. */\r\n\t\t\t\t\t\t\tdelete SVGTransforms[transformName];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar transformValue,\r\n\t\t\t\t\t\t\tperspective;\r\n\r\n\t\t\t\t\t/* Transform properties are stored as members of the transformCache object. Concatenate all the members into a string. */\r\n\t\t\t\t\t$.each(Data(element).transformCache, function(transformName) {\r\n\t\t\t\t\t\ttransformValue = Data(element).transformCache[transformName];\r\n\r\n\t\t\t\t\t\t/* Transform's perspective subproperty must be set first in order to take effect. Store it temporarily. */\r\n\t\t\t\t\t\tif (transformName === \"transformPerspective\") {\r\n\t\t\t\t\t\t\tperspective = transformValue;\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* IE9 only supports one rotation type, rotateZ, which it refers to as \"rotate\". */\r\n\t\t\t\t\t\tif (IE === 9 && transformName === \"rotateZ\") {\r\n\t\t\t\t\t\t\ttransformName = \"rotate\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttransformString += transformName + transformValue + \" \";\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* If present, set the perspective subproperty first. */\r\n\t\t\t\t\tif (perspective) {\r\n\t\t\t\t\t\ttransformString = \"perspective\" + perspective + \" \" + transformString;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tCSS.setPropertyValue(element, \"transform\", transformString);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/* Register hooks and normalizations. */\r\n\t\tCSS.Hooks.register();\r\n\t\tCSS.Normalizations.register();\r\n\r\n\t\t/* Allow hook setting in the same fashion as jQuery's $.css(). */\r\n\t\tVelocity.hook = function(elements, arg2, arg3) {\r\n\t\t\tvar value;\r\n\r\n\t\t\telements = sanitizeElements(elements);\r\n\r\n\t\t\t$.each(elements, function(i, element) {\r\n\t\t\t\t/* Initialize Velocity's per-element data cache if this element hasn't previously been animated. */\r\n\t\t\t\tif (Data(element) === undefined) {\r\n\t\t\t\t\tVelocity.init(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Get property value. If an element set was passed in, only return the value for the first element. */\r\n\t\t\t\tif (arg3 === undefined) {\r\n\t\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\t\tvalue = CSS.getPropertyValue(element, arg2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* Set property value. */\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/* sPV returns an array of the normalized propertyName/propertyValue pair used to update the DOM. */\r\n\t\t\t\t\tvar adjustedSet = CSS.setPropertyValue(element, arg2, arg3);\r\n\r\n\t\t\t\t\t/* Transform properties don't automatically set. They have to be flushed to the DOM. */\r\n\t\t\t\t\tif (adjustedSet[0] === \"transform\") {\r\n\t\t\t\t\t\tVelocity.CSS.flushTransformCache(element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvalue = adjustedSet;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn value;\r\n\t\t};\r\n\r\n\t\t/*****************\r\n\t\t Animation\r\n\t\t *****************/\r\n\r\n\t\tvar animate = function() {\r\n\t\t\tvar opts;\r\n\r\n\t\t\t/******************\r\n\t\t\t Call Chain\r\n\t\t\t ******************/\r\n\r\n\t\t\t/* Logic for determining what to return to the call stack when exiting out of Velocity. */\r\n\t\t\tfunction getChain() {\r\n\t\t\t\t/* If we are using the utility function, attempt to return this call's promise. If no promise library was detected,\r\n\t\t\t\t default to null instead of returning the targeted elements so that utility function's return value is standardized. */\r\n\t\t\t\tif (isUtility) {\r\n\t\t\t\t\treturn promiseData.promise || null;\r\n\t\t\t\t\t/* Otherwise, if we're using $.fn, return the jQuery-/Zepto-wrapped element set. */\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn elementsWrapped;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*************************\r\n\t\t\t Arguments Assignment\r\n\t\t\t *************************/\r\n\r\n\t\t\t/* To allow for expressive CoffeeScript code, Velocity supports an alternative syntax in which \"elements\" (or \"e\"), \"properties\" (or \"p\"), and \"options\" (or \"o\")\r\n\t\t\t objects are defined on a container object that's passed in as Velocity's sole argument. */\r\n\t\t\t/* Note: Some browsers automatically populate arguments with a \"properties\" object. We detect it by checking for its default \"names\" property. */\r\n\t\t\tvar syntacticSugar = (arguments[0] && (arguments[0].p || (($.isPlainObject(arguments[0].properties) && !arguments[0].properties.names) || Type.isString(arguments[0].properties)))),\r\n\t\t\t\t\t/* Whether Velocity was called via the utility function (as opposed to on a jQuery/Zepto object). */\r\n\t\t\t\t\tisUtility,\r\n\t\t\t\t\t/* When Velocity is called via the utility function ($.Velocity()/Velocity()), elements are explicitly\r\n\t\t\t\t\t passed in as the first parameter. Thus, argument positioning varies. We normalize them here. */\r\n\t\t\t\t\telementsWrapped,\r\n\t\t\t\t\targumentIndex;\r\n\r\n\t\t\tvar elements,\r\n\t\t\t\t\tpropertiesMap,\r\n\t\t\t\t\toptions;\r\n\r\n\t\t\t/* Detect jQuery/Zepto elements being animated via the $.fn method. */\r\n\t\t\tif (Type.isWrapped(this)) {\r\n\t\t\t\tisUtility = false;\r\n\r\n\t\t\t\targumentIndex = 0;\r\n\t\t\t\telements = this;\r\n\t\t\t\telementsWrapped = this;\r\n\t\t\t\t/* Otherwise, raw elements are being animated via the utility function. */\r\n\t\t\t} else {\r\n\t\t\t\tisUtility = true;\r\n\r\n\t\t\t\targumentIndex = 1;\r\n\t\t\t\telements = syntacticSugar ? (arguments[0].elements || arguments[0].e) : arguments[0];\r\n\t\t\t}\r\n\r\n\t\t\t/***************\r\n\t\t\t Promises\r\n\t\t\t ***************/\r\n\r\n\t\t\tvar promiseData = {\r\n\t\t\t\tpromise: null,\r\n\t\t\t\tresolver: null,\r\n\t\t\t\trejecter: null\r\n\t\t\t};\r\n\r\n\t\t\t/* If this call was made via the utility function (which is the default method of invocation when jQuery/Zepto are not being used), and if\r\n\t\t\t promise support was detected, create a promise object for this call and store references to its resolver and rejecter methods. The resolve\r\n\t\t\t method is used when a call completes naturally or is prematurely stopped by the user. In both cases, completeCall() handles the associated\r\n\t\t\t call cleanup and promise resolving logic. The reject method is used when an invalid set of arguments is passed into a Velocity call. */\r\n\t\t\t/* Note: Velocity employs a call-based queueing architecture, which means that stopping an animating element actually stops the full call that\r\n\t\t\t triggered it -- not that one element exclusively. Similarly, there is one promise per call, and all elements targeted by a Velocity call are\r\n\t\t\t grouped together for the purposes of resolving and rejecting a promise. */\r\n\t\t\tif (isUtility && Velocity.Promise) {\r\n\t\t\t\tpromiseData.promise = new Velocity.Promise(function(resolve, reject) {\r\n\t\t\t\t\tpromiseData.resolver = resolve;\r\n\t\t\t\t\tpromiseData.rejecter = reject;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (syntacticSugar) {\r\n\t\t\t\tpropertiesMap = arguments[0].properties || arguments[0].p;\r\n\t\t\t\toptions = arguments[0].options || arguments[0].o;\r\n\t\t\t} else {\r\n\t\t\t\tpropertiesMap = arguments[argumentIndex];\r\n\t\t\t\toptions = arguments[argumentIndex + 1];\r\n\t\t\t}\r\n\r\n\t\t\telements = sanitizeElements(elements);\r\n\r\n\t\t\tif (!elements) {\r\n\t\t\t\tif (promiseData.promise) {\r\n\t\t\t\t\tif (!propertiesMap || !options || options.promiseRejectEmpty !== false) {\r\n\t\t\t\t\t\tpromiseData.rejecter();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpromiseData.resolver();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t/* The length of the element set (in the form of a nodeList or an array of elements) is defaulted to 1 in case a\r\n\t\t\t single raw DOM element is passed in (which doesn't contain a length property). */\r\n\t\t\tvar elementsLength = elements.length,\r\n\t\t\t\t\telementsIndex = 0;\r\n\r\n\t\t\t/***************************\r\n\t\t\t Argument Overloading\r\n\t\t\t ***************************/\r\n\r\n\t\t\t/* Support is included for jQuery's argument overloading: $.animate(propertyMap [, duration] [, easing] [, complete]).\r\n\t\t\t Overloading is detected by checking for the absence of an object being passed into options. */\r\n\t\t\t/* Note: The stop/finish/pause/resume actions do not accept animation options, and are therefore excluded from this check. */\r\n\t\t\tif (!/^(stop|finish|finishAll|pause|resume)$/i.test(propertiesMap) && !$.isPlainObject(options)) {\r\n\t\t\t\t/* The utility function shifts all arguments one position to the right, so we adjust for that offset. */\r\n\t\t\t\tvar startingArgumentPosition = argumentIndex + 1;\r\n\r\n\t\t\t\toptions = {};\r\n\r\n\t\t\t\t/* Iterate through all options arguments */\r\n\t\t\t\tfor (var i = startingArgumentPosition; i < arguments.length; i++) {\r\n\t\t\t\t\t/* Treat a number as a duration. Parse it out. */\r\n\t\t\t\t\t/* Note: The following RegEx will return true if passed an array with a number as its first item.\r\n\t\t\t\t\t Thus, arrays are skipped from this check. */\r\n\t\t\t\t\tif (!Type.isArray(arguments[i]) && (/^(fast|normal|slow)$/i.test(arguments[i]) || /^\\d/.test(arguments[i]))) {\r\n\t\t\t\t\t\toptions.duration = arguments[i];\r\n\t\t\t\t\t\t/* Treat strings and arrays as easings. */\r\n\t\t\t\t\t} else if (Type.isString(arguments[i]) || Type.isArray(arguments[i])) {\r\n\t\t\t\t\t\toptions.easing = arguments[i];\r\n\t\t\t\t\t\t/* Treat a function as a complete callback. */\r\n\t\t\t\t\t} else if (Type.isFunction(arguments[i])) {\r\n\t\t\t\t\t\toptions.complete = arguments[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*********************\r\n\t\t\t Action Detection\r\n\t\t\t *********************/\r\n\r\n\t\t\t/* Velocity's behavior is categorized into \"actions\": Elements can either be specially scrolled into view,\r\n\t\t\t or they can be started, stopped, paused, resumed, or reversed . If a literal or referenced properties map is passed in as Velocity's\r\n\t\t\t first argument, the associated action is \"start\". Alternatively, \"scroll\", \"reverse\", \"pause\", \"resume\" or \"stop\" can be passed in \r\n\t\t\t instead of a properties map. */\r\n\t\t\tvar action;\r\n\r\n\t\t\tswitch (propertiesMap) {\r\n\t\t\t\tcase \"scroll\":\r\n\t\t\t\t\taction = \"scroll\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"reverse\":\r\n\t\t\t\t\taction = \"reverse\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"pause\":\r\n\r\n\t\t\t\t\t/*******************\r\n\t\t\t\t\t Action: Pause\r\n\t\t\t\t\t *******************/\r\n\r\n\t\t\t\t\tvar currentTime = (new Date()).getTime();\r\n\r\n\t\t\t\t\t/* Handle delay timers */\r\n\t\t\t\t\t$.each(elements, function(i, element) {\r\n\t\t\t\t\t\tpauseDelayOnElement(element, currentTime);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* Pause and Resume are call-wide (not on a per element basis). Thus, calling pause or resume on a \r\n\t\t\t\t\t single element will cause any calls that containt tweens for that element to be paused/resumed\r\n\t\t\t\t\t as well. */\r\n\r\n\t\t\t\t\t/* Iterate through all calls and pause any that contain any of our elements */\r\n\t\t\t\t\t$.each(Velocity.State.calls, function(i, activeCall) {\r\n\r\n\t\t\t\t\t\tvar found = false;\r\n\t\t\t\t\t\t/* Inactive calls are set to false by the logic inside completeCall(). Skip them. */\r\n\t\t\t\t\t\tif (activeCall) {\r\n\t\t\t\t\t\t\t/* Iterate through the active call's targeted elements. */\r\n\t\t\t\t\t\t\t$.each(activeCall[1], function(k, activeElement) {\r\n\t\t\t\t\t\t\t\tvar queueName = (options === undefined) ? \"\" : options;\r\n\r\n\t\t\t\t\t\t\t\tif (queueName !== true && (activeCall[2].queue !== queueName) && !(options === undefined && activeCall[2].queue === false)) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* Iterate through the calls targeted by the stop command. */\r\n\t\t\t\t\t\t\t\t$.each(elements, function(l, element) {\r\n\t\t\t\t\t\t\t\t\t/* Check that this call was applied to the target element. */\r\n\t\t\t\t\t\t\t\t\tif (element === activeElement) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Set call to paused */\r\n\t\t\t\t\t\t\t\t\t\tactiveCall[5] = {\r\n\t\t\t\t\t\t\t\t\t\t\tresume: false\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Once we match an element, we can bounce out to the next call entirely */\r\n\t\t\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t/* Proceed to check next call if we have already matched */\r\n\t\t\t\t\t\t\t\tif (found) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* Since pause creates no new tweens, exit out of Velocity. */\r\n\t\t\t\t\treturn getChain();\r\n\r\n\t\t\t\tcase \"resume\":\r\n\r\n\t\t\t\t\t/*******************\r\n\t\t\t\t\t Action: Resume\r\n\t\t\t\t\t *******************/\r\n\r\n\t\t\t\t\t/* Handle delay timers */\r\n\t\t\t\t\t$.each(elements, function(i, element) {\r\n\t\t\t\t\t\tresumeDelayOnElement(element, currentTime);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* Pause and Resume are call-wide (not on a per elemnt basis). Thus, calling pause or resume on a \r\n\t\t\t\t\t single element will cause any calls that containt tweens for that element to be paused/resumed\r\n\t\t\t\t\t as well. */\r\n\r\n\t\t\t\t\t/* Iterate through all calls and pause any that contain any of our elements */\r\n\t\t\t\t\t$.each(Velocity.State.calls, function(i, activeCall) {\r\n\t\t\t\t\t\tvar found = false;\r\n\t\t\t\t\t\t/* Inactive calls are set to false by the logic inside completeCall(). Skip them. */\r\n\t\t\t\t\t\tif (activeCall) {\r\n\t\t\t\t\t\t\t/* Iterate through the active call's targeted elements. */\r\n\t\t\t\t\t\t\t$.each(activeCall[1], function(k, activeElement) {\r\n\t\t\t\t\t\t\t\tvar queueName = (options === undefined) ? \"\" : options;\r\n\r\n\t\t\t\t\t\t\t\tif (queueName !== true && (activeCall[2].queue !== queueName) && !(options === undefined && activeCall[2].queue === false)) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* Skip any calls that have never been paused */\r\n\t\t\t\t\t\t\t\tif (!activeCall[5]) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* Iterate through the calls targeted by the stop command. */\r\n\t\t\t\t\t\t\t\t$.each(elements, function(l, element) {\r\n\t\t\t\t\t\t\t\t\t/* Check that this call was applied to the target element. */\r\n\t\t\t\t\t\t\t\t\tif (element === activeElement) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Flag a pause object to be resumed, which will occur during the next tick. In\r\n\t\t\t\t\t\t\t\t\t\t addition, the pause object will at that time be deleted */\r\n\t\t\t\t\t\t\t\t\t\tactiveCall[5].resume = true;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* Once we match an element, we can bounce out to the next call entirely */\r\n\t\t\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t/* Proceed to check next call if we have already matched */\r\n\t\t\t\t\t\t\t\tif (found) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* Since resume creates no new tweens, exit out of Velocity. */\r\n\t\t\t\t\treturn getChain();\r\n\r\n\t\t\t\tcase \"finish\":\r\n\t\t\t\tcase \"finishAll\":\r\n\t\t\t\tcase \"stop\":\r\n\t\t\t\t\t/*******************\r\n\t\t\t\t\t Action: Stop\r\n\t\t\t\t\t *******************/\r\n\r\n\t\t\t\t\t/* Clear the currently-active delay on each targeted element. */\r\n\t\t\t\t\t$.each(elements, function(i, element) {\r\n\t\t\t\t\t\tif (Data(element) && Data(element).delayTimer) {\r\n\t\t\t\t\t\t\t/* Stop the timer from triggering its cached next() function. */\r\n\t\t\t\t\t\t\tclearTimeout(Data(element).delayTimer.setTimeout);\r\n\r\n\t\t\t\t\t\t\t/* Manually call the next() function so that the subsequent queue items can progress. */\r\n\t\t\t\t\t\t\tif (Data(element).delayTimer.next) {\r\n\t\t\t\t\t\t\t\tData(element).delayTimer.next();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdelete Data(element).delayTimer;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* If we want to finish everything in the queue, we have to iterate through it\r\n\t\t\t\t\t\t and call each function. This will make them active calls below, which will\r\n\t\t\t\t\t\t cause them to be applied via the duration setting. */\r\n\t\t\t\t\t\tif (propertiesMap === \"finishAll\" && (options === true || Type.isString(options))) {\r\n\t\t\t\t\t\t\t/* Iterate through the items in the element's queue. */\r\n\t\t\t\t\t\t\t$.each($.queue(element, Type.isString(options) ? options : \"\"), function(_, item) {\r\n\t\t\t\t\t\t\t\t/* The queue array can contain an \"inprogress\" string, which we skip. */\r\n\t\t\t\t\t\t\t\tif (Type.isFunction(item)) {\r\n\t\t\t\t\t\t\t\t\titem();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* Clearing the $.queue() array is achieved by resetting it to []. */\r\n\t\t\t\t\t\t\t$.queue(element, Type.isString(options) ? options : \"\", []);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar callsToStop = [];\r\n\r\n\t\t\t\t\t/* When the stop action is triggered, the elements' currently active call is immediately stopped. The active call might have\r\n\t\t\t\t\t been applied to multiple elements, in which case all of the call's elements will be stopped. When an element\r\n\t\t\t\t\t is stopped, the next item in its animation queue is immediately triggered. */\r\n\t\t\t\t\t/* An additional argument may be passed in to clear an element's remaining queued calls. Either true (which defaults to the \"fx\" queue)\r\n\t\t\t\t\t or a custom queue string can be passed in. */\r\n\t\t\t\t\t/* Note: The stop command runs prior to Velocity's Queueing phase since its behavior is intended to take effect *immediately*,\r\n\t\t\t\t\t regardless of the element's current queue state. */\r\n\r\n\t\t\t\t\t/* Iterate through every active call. */\r\n\t\t\t\t\t$.each(Velocity.State.calls, function(i, activeCall) {\r\n\t\t\t\t\t\t/* Inactive calls are set to false by the logic inside completeCall(). Skip them. */\r\n\t\t\t\t\t\tif (activeCall) {\r\n\t\t\t\t\t\t\t/* Iterate through the active call's targeted elements. */\r\n\t\t\t\t\t\t\t$.each(activeCall[1], function(k, activeElement) {\r\n\t\t\t\t\t\t\t\t/* If true was passed in as a secondary argument, clear absolutely all calls on this element. Otherwise, only\r\n\t\t\t\t\t\t\t\t clear calls associated with the relevant queue. */\r\n\t\t\t\t\t\t\t\t/* Call stopping logic works as follows:\r\n\t\t\t\t\t\t\t\t - options === true --> stop current default queue calls (and queue:false calls), including remaining queued ones.\r\n\t\t\t\t\t\t\t\t - options === undefined --> stop current queue:\"\" call and all queue:false calls.\r\n\t\t\t\t\t\t\t\t - options === false --> stop only queue:false calls.\r\n\t\t\t\t\t\t\t\t - options === \"custom\" --> stop current queue:\"custom\" call, including remaining queued ones (there is no functionality to only clear the currently-running queue:\"custom\" call). */\r\n\t\t\t\t\t\t\t\tvar queueName = (options === undefined) ? \"\" : options;\r\n\r\n\t\t\t\t\t\t\t\tif (queueName !== true && (activeCall[2].queue !== queueName) && !(options === undefined && activeCall[2].queue === false)) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* Iterate through the calls targeted by the stop command. */\r\n\t\t\t\t\t\t\t\t$.each(elements, function(l, element) {\r\n\t\t\t\t\t\t\t\t\t/* Check that this call was applied to the target element. */\r\n\t\t\t\t\t\t\t\t\tif (element === activeElement) {\r\n\t\t\t\t\t\t\t\t\t\t/* Optionally clear the remaining queued calls. If we're doing \"finishAll\" this won't find anything,\r\n\t\t\t\t\t\t\t\t\t\t due to the queue-clearing above. */\r\n\t\t\t\t\t\t\t\t\t\tif (options === true || Type.isString(options)) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* Iterate through the items in the element's queue. */\r\n\t\t\t\t\t\t\t\t\t\t\t$.each($.queue(element, Type.isString(options) ? options : \"\"), function(_, item) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* The queue array can contain an \"inprogress\" string, which we skip. */\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (Type.isFunction(item)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Pass the item's callback a flag indicating that we want to abort from the queue call.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t (Specifically, the queue will resolve the call's associated promise then abort.)  */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem(null, true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t/* Clearing the $.queue() array is achieved by resetting it to []. */\r\n\t\t\t\t\t\t\t\t\t\t\t$.queue(element, Type.isString(options) ? options : \"\", []);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (propertiesMap === \"stop\") {\r\n\t\t\t\t\t\t\t\t\t\t\t/* Since \"reverse\" uses cached start values (the previous call's endValues), these values must be\r\n\t\t\t\t\t\t\t\t\t\t\t changed to reflect the final value that the elements were actually tweened to. */\r\n\t\t\t\t\t\t\t\t\t\t\t/* Note: If only queue:false/queue:\"custom\" animations are currently running on an element, it won't have a tweensContainer\r\n\t\t\t\t\t\t\t\t\t\t\t object. Also, queue:false/queue:\"custom\" animations can't be reversed. */\r\n\t\t\t\t\t\t\t\t\t\t\tvar data = Data(element);\r\n\t\t\t\t\t\t\t\t\t\t\tif (data && data.tweensContainer && (queueName === true || queueName === \"\")) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(data.tweensContainer, function(m, activeTween) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tactiveTween.endValue = activeTween.currentValue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcallsToStop.push(i);\r\n\t\t\t\t\t\t\t\t\t\t} else if (propertiesMap === \"finish\" || propertiesMap === \"finishAll\") {\r\n\t\t\t\t\t\t\t\t\t\t\t/* To get active tweens to finish immediately, we forcefully shorten their durations to 1ms so that\r\n\t\t\t\t\t\t\t\t\t\t\t they finish upon the next rAf tick then proceed with normal call completion logic. */\r\n\t\t\t\t\t\t\t\t\t\t\tactiveCall[2].duration = 1;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* Prematurely call completeCall() on each matched active call. Pass an additional flag for \"stop\" to indicate\r\n\t\t\t\t\t that the complete callback and display:none setting should be skipped since we're completing prematurely. */\r\n\t\t\t\t\tif (propertiesMap === \"stop\") {\r\n\t\t\t\t\t\t$.each(callsToStop, function(i, j) {\r\n\t\t\t\t\t\t\tcompleteCall(j, true);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (promiseData.promise) {\r\n\t\t\t\t\t\t\t/* Immediately resolve the promise associated with this stop call since stop runs synchronously. */\r\n\t\t\t\t\t\t\tpromiseData.resolver(elements);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Since we're stopping, and not proceeding with queueing, exit out of Velocity. */\r\n\t\t\t\t\treturn getChain();\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t/* Treat a non-empty plain object as a literal properties map. */\r\n\t\t\t\t\tif ($.isPlainObject(propertiesMap) && !Type.isEmptyObject(propertiesMap)) {\r\n\t\t\t\t\t\taction = \"start\";\r\n\r\n\t\t\t\t\t\t/****************\r\n\t\t\t\t\t\t Redirects\r\n\t\t\t\t\t\t ****************/\r\n\r\n\t\t\t\t\t\t/* Check if a string matches a registered redirect (see Redirects above). */\r\n\t\t\t\t\t} else if (Type.isString(propertiesMap) && Velocity.Redirects[propertiesMap]) {\r\n\t\t\t\t\t\topts = $.extend({}, options);\r\n\r\n\t\t\t\t\t\tvar durationOriginal = opts.duration,\r\n\t\t\t\t\t\t\t\tdelayOriginal = opts.delay || 0;\r\n\r\n\t\t\t\t\t\t/* If the backwards option was passed in, reverse the element set so that elements animate from the last to the first. */\r\n\t\t\t\t\t\tif (opts.backwards === true) {\r\n\t\t\t\t\t\t\telements = $.extend(true, [], elements).reverse();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Individually trigger the redirect for each element in the set to prevent users from having to handle iteration logic in their redirect. */\r\n\t\t\t\t\t\t$.each(elements, function(elementIndex, element) {\r\n\t\t\t\t\t\t\t/* If the stagger option was passed in, successively delay each element by the stagger value (in ms). Retain the original delay value. */\r\n\t\t\t\t\t\t\tif (parseFloat(opts.stagger)) {\r\n\t\t\t\t\t\t\t\topts.delay = delayOriginal + (parseFloat(opts.stagger) * elementIndex);\r\n\t\t\t\t\t\t\t} else if (Type.isFunction(opts.stagger)) {\r\n\t\t\t\t\t\t\t\topts.delay = delayOriginal + opts.stagger.call(element, elementIndex, elementsLength);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* If the drag option was passed in, successively increase/decrease (depending on the presense of opts.backwards)\r\n\t\t\t\t\t\t\t the duration of each element's animation, using floors to prevent producing very short durations. */\r\n\t\t\t\t\t\t\tif (opts.drag) {\r\n\t\t\t\t\t\t\t\t/* Default the duration of UI pack effects (callouts and transitions) to 1000ms instead of the usual default duration of 400ms. */\r\n\t\t\t\t\t\t\t\topts.duration = parseFloat(durationOriginal) || (/^(callout|transition)/.test(propertiesMap) ? 1000 : DURATION_DEFAULT);\r\n\r\n\t\t\t\t\t\t\t\t/* For each element, take the greater duration of: A) animation completion percentage relative to the original duration,\r\n\t\t\t\t\t\t\t\t B) 75% of the original duration, or C) a 200ms fallback (in case duration is already set to a low value).\r\n\t\t\t\t\t\t\t\t The end result is a baseline of 75% of the redirect's duration that increases/decreases as the end of the element set is approached. */\r\n\t\t\t\t\t\t\t\topts.duration = Math.max(opts.duration * (opts.backwards ? 1 - elementIndex / elementsLength : (elementIndex + 1) / elementsLength), opts.duration * 0.75, 200);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Pass in the call's opts object so that the redirect can optionally extend it. It defaults to an empty object instead of null to\r\n\t\t\t\t\t\t\t reduce the opts checking logic required inside the redirect. */\r\n\t\t\t\t\t\t\tVelocity.Redirects[propertiesMap].call(element, element, opts || {}, elementIndex, elementsLength, elements, promiseData.promise ? promiseData : undefined);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/* Since the animation logic resides within the redirect's own code, abort the remainder of this call.\r\n\t\t\t\t\t\t (The performance overhead up to this point is virtually non-existant.) */\r\n\t\t\t\t\t\t/* Note: The jQuery call chain is kept intact by returning the complete element set. */\r\n\t\t\t\t\t\treturn getChain();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar abortError = \"Velocity: First argument (\" + propertiesMap + \") was not a property map, a known action, or a registered redirect. Aborting.\";\r\n\r\n\t\t\t\t\t\tif (promiseData.promise) {\r\n\t\t\t\t\t\t\tpromiseData.rejecter(new Error(abortError));\r\n\t\t\t\t\t\t} else if (window.console) {\r\n\t\t\t\t\t\t\tconsole.log(abortError);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn getChain();\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**************************\r\n\t\t\t Call-Wide Variables\r\n\t\t\t **************************/\r\n\r\n\t\t\t/* A container for CSS unit conversion ratios (e.g. %, rem, and em ==> px) that is used to cache ratios across all elements\r\n\t\t\t being animated in a single Velocity call. Calculating unit ratios necessitates DOM querying and updating, and is therefore\r\n\t\t\t avoided (via caching) wherever possible. This container is call-wide instead of page-wide to avoid the risk of using stale\r\n\t\t\t conversion metrics across Velocity animations that are not immediately consecutively chained. */\r\n\t\t\tvar callUnitConversionData = {\r\n\t\t\t\tlastParent: null,\r\n\t\t\t\tlastPosition: null,\r\n\t\t\t\tlastFontSize: null,\r\n\t\t\t\tlastPercentToPxWidth: null,\r\n\t\t\t\tlastPercentToPxHeight: null,\r\n\t\t\t\tlastEmToPx: null,\r\n\t\t\t\tremToPx: null,\r\n\t\t\t\tvwToPx: null,\r\n\t\t\t\tvhToPx: null\r\n\t\t\t};\r\n\r\n\t\t\t/* A container for all the ensuing tween data and metadata associated with this call. This container gets pushed to the page-wide\r\n\t\t\t Velocity.State.calls array that is processed during animation ticking. */\r\n\t\t\tvar call = [];\r\n\r\n\t\t\t/************************\r\n\t\t\t Element Processing\r\n\t\t\t ************************/\r\n\r\n\t\t\t/* Element processing consists of three parts -- data processing that cannot go stale and data processing that *can* go stale (i.e. third-party style modifications):\r\n\t\t\t 1) Pre-Queueing: Element-wide variables, including the element's data storage, are instantiated. Call options are prepared. If triggered, the Stop action is executed.\r\n\t\t\t 2) Queueing: The logic that runs once this call has reached its point of execution in the element's $.queue() stack. Most logic is placed here to avoid risking it becoming stale.\r\n\t\t\t 3) Pushing: Consolidation of the tween data followed by its push onto the global in-progress calls container.\r\n\t\t\t `elementArrayIndex` allows passing index of the element in the original array to value functions.\r\n\t\t\t If `elementsIndex` were used instead the index would be determined by the elements' per-element queue.\r\n\t\t\t */\r\n\t\t\tfunction processElement(element, elementArrayIndex) {\r\n\r\n\t\t\t\t/*************************\r\n\t\t\t\t Part I: Pre-Queueing\r\n\t\t\t\t *************************/\r\n\r\n\t\t\t\t/***************************\r\n\t\t\t\t Element-Wide Variables\r\n\t\t\t\t ***************************/\r\n\r\n\t\t\t\tvar /* The runtime opts object is the extension of the current call's options and Velocity's page-wide option defaults. */\r\n\t\t\t\t\t\topts = $.extend({}, Velocity.defaults, options),\r\n\t\t\t\t\t\t/* A container for the processed data associated with each property in the propertyMap.\r\n\t\t\t\t\t\t (Each property in the map produces its own \"tween\".) */\r\n\t\t\t\t\t\ttweensContainer = {},\r\n\t\t\t\t\t\telementUnitConversionData;\r\n\r\n\t\t\t\t/******************\r\n\t\t\t\t Element Init\r\n\t\t\t\t ******************/\r\n\r\n\t\t\t\tif (Data(element) === undefined) {\r\n\t\t\t\t\tVelocity.init(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/******************\r\n\t\t\t\t Option: Delay\r\n\t\t\t\t ******************/\r\n\r\n\t\t\t\t/* Since queue:false doesn't respect the item's existing queue, we avoid injecting its delay here (it's set later on). */\r\n\t\t\t\t/* Note: Velocity rolls its own delay function since jQuery doesn't have a utility alias for $.fn.delay()\r\n\t\t\t\t (and thus requires jQuery element creation, which we avoid since its overhead includes DOM querying). */\r\n\t\t\t\tif (parseFloat(opts.delay) && opts.queue !== false) {\r\n\t\t\t\t\t$.queue(element, opts.queue, function(next, clearQueue) {\r\n\t\t\t\t\t\tif (clearQueue === true) {\r\n\t\t\t\t\t\t\t/* Do not continue with animation queueing. */\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* This is a flag used to indicate to the upcoming completeCall() function that this queue entry was initiated by Velocity. See completeCall() for further details. */\r\n\t\t\t\t\t\tVelocity.velocityQueueEntryFlag = true;\r\n\r\n\t\t\t\t\t\t/* The ensuing queue item (which is assigned to the \"next\" argument that $.queue() automatically passes in) will be triggered after a setTimeout delay.\r\n\t\t\t\t\t\t The setTimeout is stored so that it can be subjected to clearTimeout() if this animation is prematurely stopped via Velocity's \"stop\" command, and\r\n\t\t\t\t\t\t delayBegin/delayTime is used to ensure we can \"pause\" and \"resume\" a tween that is still mid-delay. */\r\n\r\n\t\t\t\t\t\t/* Temporarily store delayed elements to facilite access for global pause/resume */\r\n\t\t\t\t\t\tvar callIndex = Velocity.State.delayedElements.count++;\r\n\t\t\t\t\t\tVelocity.State.delayedElements[callIndex] = element;\r\n\r\n\t\t\t\t\t\tvar delayComplete = (function(index) {\r\n\t\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\t\t/* Clear the temporary element */\r\n\t\t\t\t\t\t\t\tVelocity.State.delayedElements[index] = false;\r\n\r\n\t\t\t\t\t\t\t\t/* Finally, issue the call */\r\n\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})(callIndex);\r\n\r\n\r\n\t\t\t\t\t\tData(element).delayBegin = (new Date()).getTime();\r\n\t\t\t\t\t\tData(element).delay = parseFloat(opts.delay);\r\n\t\t\t\t\t\tData(element).delayTimer = {\r\n\t\t\t\t\t\t\tsetTimeout: setTimeout(next, parseFloat(opts.delay)),\r\n\t\t\t\t\t\t\tnext: delayComplete\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*********************\r\n\t\t\t\t Option: Duration\r\n\t\t\t\t *********************/\r\n\r\n\t\t\t\t/* Support for jQuery's named durations. */\r\n\t\t\t\tswitch (opts.duration.toString().toLowerCase()) {\r\n\t\t\t\t\tcase \"fast\":\r\n\t\t\t\t\t\topts.duration = 200;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"normal\":\r\n\t\t\t\t\t\topts.duration = DURATION_DEFAULT;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"slow\":\r\n\t\t\t\t\t\topts.duration = 600;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t/* Remove the potential \"ms\" suffix and default to 1 if the user is attempting to set a duration of 0 (in order to produce an immediate style change). */\r\n\t\t\t\t\t\topts.duration = parseFloat(opts.duration) || 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/************************\r\n\t\t\t\t Global Option: Mock\r\n\t\t\t\t ************************/\r\n\r\n\t\t\t\tif (Velocity.mock !== false) {\r\n\t\t\t\t\t/* In mock mode, all animations are forced to 1ms so that they occur immediately upon the next rAF tick.\r\n\t\t\t\t\t Alternatively, a multiplier can be passed in to time remap all delays and durations. */\r\n\t\t\t\t\tif (Velocity.mock === true) {\r\n\t\t\t\t\t\topts.duration = opts.delay = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\topts.duration *= parseFloat(Velocity.mock) || 1;\r\n\t\t\t\t\t\topts.delay *= parseFloat(Velocity.mock) || 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*******************\r\n\t\t\t\t Option: Easing\r\n\t\t\t\t *******************/\r\n\r\n\t\t\t\topts.easing = getEasing(opts.easing, opts.duration);\r\n\r\n\t\t\t\t/**********************\r\n\t\t\t\t Option: Callbacks\r\n\t\t\t\t **********************/\r\n\r\n\t\t\t\t/* Callbacks must functions. Otherwise, default to null. */\r\n\t\t\t\tif (opts.begin && !Type.isFunction(opts.begin)) {\r\n\t\t\t\t\topts.begin = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (opts.progress && !Type.isFunction(opts.progress)) {\r\n\t\t\t\t\topts.progress = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (opts.complete && !Type.isFunction(opts.complete)) {\r\n\t\t\t\t\topts.complete = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*********************************\r\n\t\t\t\t Option: Display & Visibility\r\n\t\t\t\t *********************************/\r\n\r\n\t\t\t\t/* Refer to Velocity's documentation (VelocityJS.org/#displayAndVisibility) for a description of the display and visibility options' behavior. */\r\n\t\t\t\t/* Note: We strictly check for undefined instead of falsiness because display accepts an empty string value. */\r\n\t\t\t\tif (opts.display !== undefined && opts.display !== null) {\r\n\t\t\t\t\topts.display = opts.display.toString().toLowerCase();\r\n\r\n\t\t\t\t\t/* Users can pass in a special \"auto\" value to instruct Velocity to set the element to its default display value. */\r\n\t\t\t\t\tif (opts.display === \"auto\") {\r\n\t\t\t\t\t\topts.display = Velocity.CSS.Values.getDisplayType(element);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (opts.visibility !== undefined && opts.visibility !== null) {\r\n\t\t\t\t\topts.visibility = opts.visibility.toString().toLowerCase();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**********************\r\n\t\t\t\t Option: mobileHA\r\n\t\t\t\t **********************/\r\n\r\n\t\t\t\t/* When set to true, and if this is a mobile device, mobileHA automatically enables hardware acceleration (via a null transform hack)\r\n\t\t\t\t on animating elements. HA is removed from the element at the completion of its animation. */\r\n\t\t\t\t/* Note: Android Gingerbread doesn't support HA. If a null transform hack (mobileHA) is in fact set, it will prevent other tranform subproperties from taking effect. */\r\n\t\t\t\t/* Note: You can read more about the use of mobileHA in Velocity's documentation: VelocityJS.org/#mobileHA. */\r\n\t\t\t\topts.mobileHA = (opts.mobileHA && Velocity.State.isMobile && !Velocity.State.isGingerbread);\r\n\r\n\t\t\t\t/***********************\r\n\t\t\t\t Part II: Queueing\r\n\t\t\t\t ***********************/\r\n\r\n\t\t\t\t/* When a set of elements is targeted by a Velocity call, the set is broken up and each element has the current Velocity call individually queued onto it.\r\n\t\t\t\t In this way, each element's existing queue is respected; some elements may already be animating and accordingly should not have this current Velocity call triggered immediately. */\r\n\t\t\t\t/* In each queue, tween data is processed for each animating property then pushed onto the call-wide calls array. When the last element in the set has had its tweens processed,\r\n\t\t\t\t the call array is pushed to Velocity.State.calls for live processing by the requestAnimationFrame tick. */\r\n\t\t\t\tfunction buildQueue(next) {\r\n\t\t\t\t\tvar data, lastTweensContainer;\r\n\r\n\t\t\t\t\t/*******************\r\n\t\t\t\t\t Option: Begin\r\n\t\t\t\t\t *******************/\r\n\r\n\t\t\t\t\t/* The begin callback is fired once per call -- not once per elemenet -- and is passed the full raw DOM element set as both its context and its first argument. */\r\n\t\t\t\t\tif (opts.begin && elementsIndex === 0) {\r\n\t\t\t\t\t\t/* We throw callbacks in a setTimeout so that thrown errors don't halt the execution of Velocity itself. */\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\topts.begin.call(elements, elements);\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/*****************************************\r\n\t\t\t\t\t Tween Data Construction (for Scroll)\r\n\t\t\t\t\t *****************************************/\r\n\r\n\t\t\t\t\t/* Note: In order to be subjected to chaining and animation options, scroll's tweening is routed through Velocity as if it were a standard CSS property animation. */\r\n\t\t\t\t\tif (action === \"scroll\") {\r\n\t\t\t\t\t\t/* The scroll action uniquely takes an optional \"offset\" option -- specified in pixels -- that offsets the targeted scroll position. */\r\n\t\t\t\t\t\tvar scrollDirection = (/^x$/i.test(opts.axis) ? \"Left\" : \"Top\"),\r\n\t\t\t\t\t\t\t\tscrollOffset = parseFloat(opts.offset) || 0,\r\n\t\t\t\t\t\t\t\tscrollPositionCurrent,\r\n\t\t\t\t\t\t\t\tscrollPositionCurrentAlternate,\r\n\t\t\t\t\t\t\t\tscrollPositionEnd;\r\n\r\n\t\t\t\t\t\t/* Scroll also uniquely takes an optional \"container\" option, which indicates the parent element that should be scrolled --\r\n\t\t\t\t\t\t as opposed to the browser window itself. This is useful for scrolling toward an element that's inside an overflowing parent element. */\r\n\t\t\t\t\t\tif (opts.container) {\r\n\t\t\t\t\t\t\t/* Ensure that either a jQuery object or a raw DOM element was passed in. */\r\n\t\t\t\t\t\t\tif (Type.isWrapped(opts.container) || Type.isNode(opts.container)) {\r\n\t\t\t\t\t\t\t\t/* Extract the raw DOM element from the jQuery wrapper. */\r\n\t\t\t\t\t\t\t\topts.container = opts.container[0] || opts.container;\r\n\t\t\t\t\t\t\t\t/* Note: Unlike other properties in Velocity, the browser's scroll position is never cached since it so frequently changes\r\n\t\t\t\t\t\t\t\t (due to the user's natural interaction with the page). */\r\n\t\t\t\t\t\t\t\tscrollPositionCurrent = opts.container[\"scroll\" + scrollDirection]; /* GET */\r\n\r\n\t\t\t\t\t\t\t\t/* $.position() values are relative to the container's currently viewable area (without taking into account the container's true dimensions\r\n\t\t\t\t\t\t\t\t -- say, for example, if the container was not overflowing). Thus, the scroll end value is the sum of the child element's position *and*\r\n\t\t\t\t\t\t\t\t the scroll container's current scroll position. */\r\n\t\t\t\t\t\t\t\tscrollPositionEnd = (scrollPositionCurrent + $(element).position()[scrollDirection.toLowerCase()]) + scrollOffset; /* GET */\r\n\t\t\t\t\t\t\t\t/* If a value other than a jQuery object or a raw DOM element was passed in, default to null so that this option is ignored. */\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\topts.container = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t/* If the window itself is being scrolled -- not a containing element -- perform a live scroll position lookup using\r\n\t\t\t\t\t\t\t the appropriate cached property names (which differ based on browser type). */\r\n\t\t\t\t\t\t\tscrollPositionCurrent = Velocity.State.scrollAnchor[Velocity.State[\"scrollProperty\" + scrollDirection]]; /* GET */\r\n\t\t\t\t\t\t\t/* When scrolling the browser window, cache the alternate axis's current value since window.scrollTo() doesn't let us change only one value at a time. */\r\n\t\t\t\t\t\t\tscrollPositionCurrentAlternate = Velocity.State.scrollAnchor[Velocity.State[\"scrollProperty\" + (scrollDirection === \"Left\" ? \"Top\" : \"Left\")]]; /* GET */\r\n\r\n\t\t\t\t\t\t\t/* Unlike $.position(), $.offset() values are relative to the browser window's true dimensions -- not merely its currently viewable area --\r\n\t\t\t\t\t\t\t and therefore end values do not need to be compounded onto current values. */\r\n\t\t\t\t\t\t\tscrollPositionEnd = $(element).offset()[scrollDirection.toLowerCase()] + scrollOffset; /* GET */\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Since there's only one format that scroll's associated tweensContainer can take, we create it manually. */\r\n\t\t\t\t\t\ttweensContainer = {\r\n\t\t\t\t\t\t\tscroll: {\r\n\t\t\t\t\t\t\t\trootPropertyValue: false,\r\n\t\t\t\t\t\t\t\tstartValue: scrollPositionCurrent,\r\n\t\t\t\t\t\t\t\tcurrentValue: scrollPositionCurrent,\r\n\t\t\t\t\t\t\t\tendValue: scrollPositionEnd,\r\n\t\t\t\t\t\t\t\tunitType: \"\",\r\n\t\t\t\t\t\t\t\teasing: opts.easing,\r\n\t\t\t\t\t\t\t\tscrollData: {\r\n\t\t\t\t\t\t\t\t\tcontainer: opts.container,\r\n\t\t\t\t\t\t\t\t\tdirection: scrollDirection,\r\n\t\t\t\t\t\t\t\t\talternateValue: scrollPositionCurrentAlternate\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\telement: element\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\tconsole.log(\"tweensContainer (scroll): \", tweensContainer.scroll, element);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/******************************************\r\n\t\t\t\t\t\t Tween Data Construction (for Reverse)\r\n\t\t\t\t\t\t ******************************************/\r\n\r\n\t\t\t\t\t\t/* Reverse acts like a \"start\" action in that a property map is animated toward. The only difference is\r\n\t\t\t\t\t\t that the property map used for reverse is the inverse of the map used in the previous call. Thus, we manipulate\r\n\t\t\t\t\t\t the previous call to construct our new map: use the previous map's end values as our new map's start values. Copy over all other data. */\r\n\t\t\t\t\t\t/* Note: Reverse can be directly called via the \"reverse\" parameter, or it can be indirectly triggered via the loop option. (Loops are composed of multiple reverses.) */\r\n\t\t\t\t\t\t/* Note: Reverse calls do not need to be consecutively chained onto a currently-animating element in order to operate on cached values;\r\n\t\t\t\t\t\t there is no harm to reverse being called on a potentially stale data cache since reverse's behavior is simply defined\r\n\t\t\t\t\t\t as reverting to the element's values as they were prior to the previous *Velocity* call. */\r\n\t\t\t\t\t} else if (action === \"reverse\") {\r\n\t\t\t\t\t\tdata = Data(element);\r\n\r\n\t\t\t\t\t\t/* Abort if there is no prior animation data to reverse to. */\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!data.tweensContainer) {\r\n\t\t\t\t\t\t\t/* Dequeue the element so that this queue entry releases itself immediately, allowing subsequent queue entries to run. */\r\n\t\t\t\t\t\t\t$.dequeue(element, opts.queue);\r\n\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t/*********************\r\n\t\t\t\t\t\t\t Options Parsing\r\n\t\t\t\t\t\t\t *********************/\r\n\r\n\t\t\t\t\t\t\t/* If the element was hidden via the display option in the previous call,\r\n\t\t\t\t\t\t\t revert display to \"auto\" prior to reversal so that the element is visible again. */\r\n\t\t\t\t\t\t\tif (data.opts.display === \"none\") {\r\n\t\t\t\t\t\t\t\tdata.opts.display = \"auto\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.opts.visibility === \"hidden\") {\r\n\t\t\t\t\t\t\t\tdata.opts.visibility = \"visible\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* If the loop option was set in the previous call, disable it so that \"reverse\" calls aren't recursively generated.\r\n\t\t\t\t\t\t\t Further, remove the previous call's callback options; typically, users do not want these to be refired. */\r\n\t\t\t\t\t\t\tdata.opts.loop = false;\r\n\t\t\t\t\t\t\tdata.opts.begin = null;\r\n\t\t\t\t\t\t\tdata.opts.complete = null;\r\n\r\n\t\t\t\t\t\t\t/* Since we're extending an opts object that has already been extended with the defaults options object,\r\n\t\t\t\t\t\t\t we remove non-explicitly-defined properties that are auto-assigned values. */\r\n\t\t\t\t\t\t\tif (!options.easing) {\r\n\t\t\t\t\t\t\t\tdelete opts.easing;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!options.duration) {\r\n\t\t\t\t\t\t\t\tdelete opts.duration;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* The opts object used for reversal is an extension of the options object optionally passed into this\r\n\t\t\t\t\t\t\t reverse call plus the options used in the previous Velocity call. */\r\n\t\t\t\t\t\t\topts = $.extend({}, data.opts, opts);\r\n\r\n\t\t\t\t\t\t\t/*************************************\r\n\t\t\t\t\t\t\t Tweens Container Reconstruction\r\n\t\t\t\t\t\t\t *************************************/\r\n\r\n\t\t\t\t\t\t\t/* Create a deepy copy (indicated via the true flag) of the previous call's tweensContainer. */\r\n\t\t\t\t\t\t\tlastTweensContainer = $.extend(true, {}, data ? data.tweensContainer : null);\r\n\r\n\t\t\t\t\t\t\t/* Manipulate the previous tweensContainer by replacing its end values and currentValues with its start values. */\r\n\t\t\t\t\t\t\tfor (var lastTween in lastTweensContainer) {\r\n\t\t\t\t\t\t\t\t/* In addition to tween data, tweensContainers contain an element property that we ignore here. */\r\n\t\t\t\t\t\t\t\tif (lastTweensContainer.hasOwnProperty(lastTween) && lastTween !== \"element\") {\r\n\t\t\t\t\t\t\t\t\tvar lastStartValue = lastTweensContainer[lastTween].startValue;\r\n\r\n\t\t\t\t\t\t\t\t\tlastTweensContainer[lastTween].startValue = lastTweensContainer[lastTween].currentValue = lastTweensContainer[lastTween].endValue;\r\n\t\t\t\t\t\t\t\t\tlastTweensContainer[lastTween].endValue = lastStartValue;\r\n\r\n\t\t\t\t\t\t\t\t\t/* Easing is the only option that embeds into the individual tween data (since it can be defined on a per-property basis).\r\n\t\t\t\t\t\t\t\t\t Accordingly, every property's easing value must be updated when an options object is passed in with a reverse call.\r\n\t\t\t\t\t\t\t\t\t The side effect of this extensibility is that all per-property easing values are forcefully reset to the new value. */\r\n\t\t\t\t\t\t\t\t\tif (!Type.isEmptyObject(options)) {\r\n\t\t\t\t\t\t\t\t\t\tlastTweensContainer[lastTween].easing = opts.easing;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"reverse tweensContainer (\" + lastTween + \"): \" + JSON.stringify(lastTweensContainer[lastTween]), element);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttweensContainer = lastTweensContainer;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*****************************************\r\n\t\t\t\t\t\t Tween Data Construction (for Start)\r\n\t\t\t\t\t\t *****************************************/\r\n\r\n\t\t\t\t\t} else if (action === \"start\") {\r\n\r\n\t\t\t\t\t\t/*************************\r\n\t\t\t\t\t\t Value Transferring\r\n\t\t\t\t\t\t *************************/\r\n\r\n\t\t\t\t\t\t/* If this queue entry follows a previous Velocity-initiated queue entry *and* if this entry was created\r\n\t\t\t\t\t\t while the element was in the process of being animated by Velocity, then this current call is safe to use\r\n\t\t\t\t\t\t the end values from the prior call as its start values. Velocity attempts to perform this value transfer\r\n\t\t\t\t\t\t process whenever possible in order to avoid requerying the DOM. */\r\n\t\t\t\t\t\t/* If values aren't transferred from a prior call and start values were not forcefed by the user (more on this below),\r\n\t\t\t\t\t\t then the DOM is queried for the element's current values as a last resort. */\r\n\t\t\t\t\t\t/* Note: Conversely, animation reversal (and looping) *always* perform inter-call value transfers; they never requery the DOM. */\r\n\r\n\t\t\t\t\t\tdata = Data(element);\r\n\r\n\t\t\t\t\t\t/* The per-element isAnimating flag is used to indicate whether it's safe (i.e. the data isn't stale)\r\n\t\t\t\t\t\t to transfer over end values to use as start values. If it's set to true and there is a previous\r\n\t\t\t\t\t\t Velocity call to pull values from, do so. */\r\n\t\t\t\t\t\tif (data && data.tweensContainer && data.isAnimating === true) {\r\n\t\t\t\t\t\t\tlastTweensContainer = data.tweensContainer;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/***************************\r\n\t\t\t\t\t\t Tween Data Calculation\r\n\t\t\t\t\t\t ***************************/\r\n\r\n\t\t\t\t\t\t/* This function parses property data and defaults endValue, easing, and startValue as appropriate. */\r\n\t\t\t\t\t\t/* Property map values can either take the form of 1) a single value representing the end value,\r\n\t\t\t\t\t\t or 2) an array in the form of [ endValue, [, easing] [, startValue] ].\r\n\t\t\t\t\t\t The optional third parameter is a forcefed startValue to be used instead of querying the DOM for\r\n\t\t\t\t\t\t the element's current value. Read Velocity's docmentation to learn more about forcefeeding: VelocityJS.org/#forcefeeding */\r\n\t\t\t\t\t\tvar parsePropertyValue = function(valueData, skipResolvingEasing) {\r\n\t\t\t\t\t\t\tvar endValue, easing, startValue;\r\n\r\n\t\t\t\t\t\t\t/* If we have a function as the main argument then resolve it first, in case it returns an array that needs to be split */\r\n\t\t\t\t\t\t\tif (Type.isFunction(valueData)) {\r\n\t\t\t\t\t\t\t\tvalueData = valueData.call(element, elementArrayIndex, elementsLength);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Handle the array format, which can be structured as one of three potential overloads:\r\n\t\t\t\t\t\t\t A) [ endValue, easing, startValue ], B) [ endValue, easing ], or C) [ endValue, startValue ] */\r\n\t\t\t\t\t\t\tif (Type.isArray(valueData)) {\r\n\t\t\t\t\t\t\t\t/* endValue is always the first item in the array. Don't bother validating endValue's value now\r\n\t\t\t\t\t\t\t\t since the ensuing property cycling logic does that. */\r\n\t\t\t\t\t\t\t\tendValue = valueData[0];\r\n\r\n\t\t\t\t\t\t\t\t/* Two-item array format: If the second item is a number, function, or hex string, treat it as a\r\n\t\t\t\t\t\t\t\t start value since easings can only be non-hex strings or arrays. */\r\n\t\t\t\t\t\t\t\tif ((!Type.isArray(valueData[1]) && /^[\\d-]/.test(valueData[1])) || Type.isFunction(valueData[1]) || CSS.RegEx.isHex.test(valueData[1])) {\r\n\t\t\t\t\t\t\t\t\tstartValue = valueData[1];\r\n\t\t\t\t\t\t\t\t\t/* Two or three-item array: If the second item is a non-hex string easing name or an array, treat it as an easing. */\r\n\t\t\t\t\t\t\t\t} else if ((Type.isString(valueData[1]) && !CSS.RegEx.isHex.test(valueData[1]) && Velocity.Easings[valueData[1]]) || Type.isArray(valueData[1])) {\r\n\t\t\t\t\t\t\t\t\teasing = skipResolvingEasing ? valueData[1] : getEasing(valueData[1], opts.duration);\r\n\r\n\t\t\t\t\t\t\t\t\t/* Don't bother validating startValue's value now since the ensuing property cycling logic inherently does that. */\r\n\t\t\t\t\t\t\t\t\tstartValue = valueData[2];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstartValue = valueData[1] || valueData[2];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/* Handle the single-value format. */\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tendValue = valueData;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Default to the call's easing if a per-property easing type was not defined. */\r\n\t\t\t\t\t\t\tif (!skipResolvingEasing) {\r\n\t\t\t\t\t\t\t\teasing = easing || opts.easing;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* If functions were passed in as values, pass the function the current element as its context,\r\n\t\t\t\t\t\t\t plus the element's index and the element set's size as arguments. Then, assign the returned value. */\r\n\t\t\t\t\t\t\tif (Type.isFunction(endValue)) {\r\n\t\t\t\t\t\t\t\tendValue = endValue.call(element, elementArrayIndex, elementsLength);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (Type.isFunction(startValue)) {\r\n\t\t\t\t\t\t\t\tstartValue = startValue.call(element, elementArrayIndex, elementsLength);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Allow startValue to be left as undefined to indicate to the ensuing code that its value was not forcefed. */\r\n\t\t\t\t\t\t\treturn [endValue || 0, easing, startValue];\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tvar fixPropertyValue = function(property, valueData) {\r\n\t\t\t\t\t\t\t/* In case this property is a hook, there are circumstances where we will intend to work on the hook's root property and not the hooked subproperty. */\r\n\t\t\t\t\t\t\tvar rootProperty = CSS.Hooks.getRoot(property),\r\n\t\t\t\t\t\t\t\t\trootPropertyValue = false,\r\n\t\t\t\t\t\t\t\t\t/* Parse out endValue, easing, and startValue from the property's data. */\r\n\t\t\t\t\t\t\t\t\tendValue = valueData[0],\r\n\t\t\t\t\t\t\t\t\teasing = valueData[1],\r\n\t\t\t\t\t\t\t\t\tstartValue = valueData[2],\r\n\t\t\t\t\t\t\t\t\tpattern;\r\n\r\n\t\t\t\t\t\t\t/**************************\r\n\t\t\t\t\t\t\t Start Value Sourcing\r\n\t\t\t\t\t\t\t **************************/\r\n\r\n\t\t\t\t\t\t\t/* Other than for the dummy tween property, properties that are not supported by the browser (and do not have an associated normalization) will\r\n\t\t\t\t\t\t\t inherently produce no style changes when set, so they are skipped in order to decrease animation tick overhead.\r\n\t\t\t\t\t\t\t Property support is determined via prefixCheck(), which returns a false flag when no supported is detected. */\r\n\t\t\t\t\t\t\t/* Note: Since SVG elements have some of their properties directly applied as HTML attributes,\r\n\t\t\t\t\t\t\t there is no way to check for their explicit browser support, and so we skip skip this check for them. */\r\n\t\t\t\t\t\t\tif ((!data || !data.isSVG) && rootProperty !== \"tween\" && CSS.Names.prefixCheck(rootProperty)[1] === false && CSS.Normalizations.registered[rootProperty] === undefined) {\r\n\t\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Skipping [\" + rootProperty + \"] due to a lack of browser support.\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* If the display option is being set to a non-\"none\" (e.g. \"block\") and opacity (filter on IE<=8) is being\r\n\t\t\t\t\t\t\t animated to an endValue of non-zero, the user's intention is to fade in from invisible, thus we forcefeed opacity\r\n\t\t\t\t\t\t\t a startValue of 0 if its startValue hasn't already been sourced by value transferring or prior forcefeeding. */\r\n\t\t\t\t\t\t\tif (((opts.display !== undefined && opts.display !== null && opts.display !== \"none\") || (opts.visibility !== undefined && opts.visibility !== \"hidden\")) && /opacity|filter/.test(property) && !startValue && endValue !== 0) {\r\n\t\t\t\t\t\t\t\tstartValue = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* If values have been transferred from the previous Velocity call, extract the endValue and rootPropertyValue\r\n\t\t\t\t\t\t\t for all of the current call's properties that were *also* animated in the previous call. */\r\n\t\t\t\t\t\t\t/* Note: Value transferring can optionally be disabled by the user via the _cacheValues option. */\r\n\t\t\t\t\t\t\tif (opts._cacheValues && lastTweensContainer && lastTweensContainer[property]) {\r\n\t\t\t\t\t\t\t\tif (startValue === undefined) {\r\n\t\t\t\t\t\t\t\t\tstartValue = lastTweensContainer[property].endValue + lastTweensContainer[property].unitType;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* The previous call's rootPropertyValue is extracted from the element's data cache since that's the\r\n\t\t\t\t\t\t\t\t instance of rootPropertyValue that gets freshly updated by the tweening process, whereas the rootPropertyValue\r\n\t\t\t\t\t\t\t\t attached to the incoming lastTweensContainer is equal to the root property's value prior to any tweening. */\r\n\t\t\t\t\t\t\t\trootPropertyValue = data.rootPropertyValueCache[rootProperty];\r\n\t\t\t\t\t\t\t\t/* If values were not transferred from a previous Velocity call, query the DOM as needed. */\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t/* Handle hooked properties. */\r\n\t\t\t\t\t\t\t\tif (CSS.Hooks.registered[property]) {\r\n\t\t\t\t\t\t\t\t\tif (startValue === undefined) {\r\n\t\t\t\t\t\t\t\t\t\trootPropertyValue = CSS.getPropertyValue(element, rootProperty); /* GET */\r\n\t\t\t\t\t\t\t\t\t\t/* Note: The following getPropertyValue() call does not actually trigger a DOM query;\r\n\t\t\t\t\t\t\t\t\t\t getPropertyValue() will extract the hook from rootPropertyValue. */\r\n\t\t\t\t\t\t\t\t\t\tstartValue = CSS.getPropertyValue(element, property, rootPropertyValue);\r\n\t\t\t\t\t\t\t\t\t\t/* If startValue is already defined via forcefeeding, do not query the DOM for the root property's value;\r\n\t\t\t\t\t\t\t\t\t\t just grab rootProperty's zero-value template from CSS.Hooks. This overwrites the element's actual\r\n\t\t\t\t\t\t\t\t\t\t root property value (if one is set), but this is acceptable since the primary reason users forcefeed is\r\n\t\t\t\t\t\t\t\t\t\t to avoid DOM queries, and thus we likewise avoid querying the DOM for the root property's value. */\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t/* Grab this hook's zero-value template, e.g. \"0px 0px 0px black\". */\r\n\t\t\t\t\t\t\t\t\t\trootPropertyValue = CSS.Hooks.templates[rootProperty][1];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/* Handle non-hooked properties that haven't already been defined via forcefeeding. */\r\n\t\t\t\t\t\t\t\t} else if (startValue === undefined) {\r\n\t\t\t\t\t\t\t\t\tstartValue = CSS.getPropertyValue(element, property); /* GET */\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/**************************\r\n\t\t\t\t\t\t\t Value Data Extraction\r\n\t\t\t\t\t\t\t **************************/\r\n\r\n\t\t\t\t\t\t\tvar separatedValue,\r\n\t\t\t\t\t\t\t\t\tendValueUnitType,\r\n\t\t\t\t\t\t\t\t\tstartValueUnitType,\r\n\t\t\t\t\t\t\t\t\toperator = false;\r\n\r\n\t\t\t\t\t\t\t/* Separates a property value into its numeric value and its unit type. */\r\n\t\t\t\t\t\t\tvar separateValue = function(property, value) {\r\n\t\t\t\t\t\t\t\tvar unitType,\r\n\t\t\t\t\t\t\t\t\t\tnumericValue;\r\n\r\n\t\t\t\t\t\t\t\tnumericValue = (value || \"0\")\r\n\t\t\t\t\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t\t\t\t/* Match the unit type at the end of the value. */\r\n\t\t\t\t\t\t\t\t\t\t.replace(/[%A-z]+$/, function(match) {\r\n\t\t\t\t\t\t\t\t\t\t\t/* Grab the unit type. */\r\n\t\t\t\t\t\t\t\t\t\t\tunitType = match;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t/* Strip the unit type off of value. */\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t/* If no unit type was supplied, assign one that is appropriate for this property (e.g. \"deg\" for rotateZ or \"px\" for width). */\r\n\t\t\t\t\t\t\t\tif (!unitType) {\r\n\t\t\t\t\t\t\t\t\tunitType = CSS.Values.getUnitType(property);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn [numericValue, unitType];\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tif (startValue !== endValue && Type.isString(startValue) && Type.isString(endValue)) {\r\n\t\t\t\t\t\t\t\tpattern = \"\";\r\n\t\t\t\t\t\t\t\tvar iStart = 0, // index in startValue\r\n\t\t\t\t\t\t\t\t\t\tiEnd = 0, // index in endValue\r\n\t\t\t\t\t\t\t\t\t\taStart = [], // array of startValue numbers\r\n\t\t\t\t\t\t\t\t\t\taEnd = [], // array of endValue numbers\r\n\t\t\t\t\t\t\t\t\t\tinCalc = 0, // Keep track of being inside a \"calc()\" so we don't duplicate it\r\n\t\t\t\t\t\t\t\t\t\tinRGB = 0, // Keep track of being inside an RGB as we can't use fractional values\r\n\t\t\t\t\t\t\t\t\t\tinRGBA = 0; // Keep track of being inside an RGBA as we must pass fractional for the alpha channel\r\n\r\n\t\t\t\t\t\t\t\tstartValue = CSS.Hooks.fixColors(startValue);\r\n\t\t\t\t\t\t\t\tendValue = CSS.Hooks.fixColors(endValue);\r\n\t\t\t\t\t\t\t\twhile (iStart < startValue.length && iEnd < endValue.length) {\r\n\t\t\t\t\t\t\t\t\tvar cStart = startValue[iStart],\r\n\t\t\t\t\t\t\t\t\t\t\tcEnd = endValue[iEnd];\r\n\r\n\t\t\t\t\t\t\t\t\tif (/[\\d\\.-]/.test(cStart) && /[\\d\\.-]/.test(cEnd)) {\r\n\t\t\t\t\t\t\t\t\t\tvar tStart = cStart, // temporary character buffer\r\n\t\t\t\t\t\t\t\t\t\t\t\ttEnd = cEnd, // temporary character buffer\r\n\t\t\t\t\t\t\t\t\t\t\t\tdotStart = \".\", // Make sure we can only ever match a single dot in a decimal\r\n\t\t\t\t\t\t\t\t\t\t\t\tdotEnd = \".\"; // Make sure we can only ever match a single dot in a decimal\r\n\r\n\t\t\t\t\t\t\t\t\t\twhile (++iStart < startValue.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tcStart = startValue[iStart];\r\n\t\t\t\t\t\t\t\t\t\t\tif (cStart === dotStart) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdotStart = \"..\"; // Can never match two characters\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (!/\\d/.test(cStart)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ttStart += cStart;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\twhile (++iEnd < endValue.length) {\r\n\t\t\t\t\t\t\t\t\t\t\tcEnd = endValue[iEnd];\r\n\t\t\t\t\t\t\t\t\t\t\tif (cEnd === dotEnd) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdotEnd = \"..\"; // Can never match two characters\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (!/\\d/.test(cEnd)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ttEnd += cEnd;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvar uStart = CSS.Hooks.getUnit(startValue, iStart), // temporary unit type\r\n\t\t\t\t\t\t\t\t\t\t\t\tuEnd = CSS.Hooks.getUnit(endValue, iEnd); // temporary unit type\r\n\r\n\t\t\t\t\t\t\t\t\t\tiStart += uStart.length;\r\n\t\t\t\t\t\t\t\t\t\tiEnd += uEnd.length;\r\n\t\t\t\t\t\t\t\t\t\tif (uStart === uEnd) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Same units\r\n\t\t\t\t\t\t\t\t\t\t\tif (tStart === tEnd) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Same numbers, so just copy over\r\n\t\t\t\t\t\t\t\t\t\t\t\tpattern += tStart + uStart;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Different numbers, so store them\r\n\t\t\t\t\t\t\t\t\t\t\t\tpattern += \"{\" + aStart.length + (inRGB ? \"!\" : \"\") + \"}\" + uStart;\r\n\t\t\t\t\t\t\t\t\t\t\t\taStart.push(parseFloat(tStart));\r\n\t\t\t\t\t\t\t\t\t\t\t\taEnd.push(parseFloat(tEnd));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// Different units, so put into a \"calc(from + to)\" and animate each side to/from zero\r\n\t\t\t\t\t\t\t\t\t\t\tvar nStart = parseFloat(tStart),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnEnd = parseFloat(tEnd);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tpattern += (inCalc < 5 ? \"calc\" : \"\") + \"(\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ (nStart ? \"{\" + aStart.length + (inRGB ? \"!\" : \"\") + \"}\" : \"0\") + uStart\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ \" + \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ (nEnd ? \"{\" + (aStart.length + (nStart ? 1 : 0)) + (inRGB ? \"!\" : \"\") + \"}\" : \"0\") + uEnd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ \")\";\r\n\t\t\t\t\t\t\t\t\t\t\tif (nStart) {\r\n\t\t\t\t\t\t\t\t\t\t\t\taStart.push(nStart);\r\n\t\t\t\t\t\t\t\t\t\t\t\taEnd.push(0);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif (nEnd) {\r\n\t\t\t\t\t\t\t\t\t\t\t\taStart.push(0);\r\n\t\t\t\t\t\t\t\t\t\t\t\taEnd.push(nEnd);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else if (cStart === cEnd) {\r\n\t\t\t\t\t\t\t\t\t\tpattern += cStart;\r\n\t\t\t\t\t\t\t\t\t\tiStart++;\r\n\t\t\t\t\t\t\t\t\t\tiEnd++;\r\n\t\t\t\t\t\t\t\t\t\t// Keep track of being inside a calc()\r\n\t\t\t\t\t\t\t\t\t\tif (inCalc === 0 && cStart === \"c\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inCalc === 1 && cStart === \"a\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inCalc === 2 && cStart === \"l\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inCalc === 3 && cStart === \"c\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inCalc >= 4 && cStart === \"(\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinCalc++;\r\n\t\t\t\t\t\t\t\t\t\t} else if ((inCalc && inCalc < 5)\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inCalc >= 4 && cStart === \")\" && --inCalc < 5) {\r\n\t\t\t\t\t\t\t\t\t\t\tinCalc = 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// Keep track of being inside an rgb() / rgba()\r\n\t\t\t\t\t\t\t\t\t\tif (inRGB === 0 && cStart === \"r\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inRGB === 1 && cStart === \"g\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inRGB === 2 && cStart === \"b\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inRGB === 3 && cStart === \"a\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inRGB >= 3 && cStart === \"(\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (inRGB === 3 && cStart === \"a\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinRGBA = 1;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tinRGB++;\r\n\t\t\t\t\t\t\t\t\t\t} else if (inRGBA && cStart === \",\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif (++inRGBA > 3) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinRGB = inRGBA = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else if ((inRGBA && inRGB < (inRGBA ? 5 : 4))\r\n\t\t\t\t\t\t\t\t\t\t\t\t|| inRGB >= (inRGBA ? 4 : 3) && cStart === \")\" && --inRGB < (inRGBA ? 5 : 4)) {\r\n\t\t\t\t\t\t\t\t\t\t\tinRGB = inRGBA = 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tinCalc = 0;\r\n\t\t\t\t\t\t\t\t\t\t// TODO: changing units, fixing colours\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (iStart !== startValue.length || iEnd !== endValue.length) {\r\n\t\t\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.error(\"Trying to pattern match mis-matched strings [\\\"\" + endValue + \"\\\", \\\"\" + startValue + \"\\\"]\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tpattern = undefined;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\t\t\t\tif (aStart.length) {\r\n\t\t\t\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Pattern found \\\"\" + pattern + \"\\\" -> \", aStart, aEnd, \"[\" + startValue + \",\" + endValue + \"]\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tstartValue = aStart;\r\n\t\t\t\t\t\t\t\t\t\tendValue = aEnd;\r\n\t\t\t\t\t\t\t\t\t\tendValueUnitType = startValueUnitType = \"\";\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tpattern = undefined;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!pattern) {\r\n\t\t\t\t\t\t\t\t/* Separate startValue. */\r\n\t\t\t\t\t\t\t\tseparatedValue = separateValue(property, startValue);\r\n\t\t\t\t\t\t\t\tstartValue = separatedValue[0];\r\n\t\t\t\t\t\t\t\tstartValueUnitType = separatedValue[1];\r\n\r\n\t\t\t\t\t\t\t\t/* Separate endValue, and extract a value operator (e.g. \"+=\", \"-=\") if one exists. */\r\n\t\t\t\t\t\t\t\tseparatedValue = separateValue(property, endValue);\r\n\t\t\t\t\t\t\t\tendValue = separatedValue[0].replace(/^([+-\\/*])=/, function(match, subMatch) {\r\n\t\t\t\t\t\t\t\t\toperator = subMatch;\r\n\r\n\t\t\t\t\t\t\t\t\t/* Strip the operator off of the value. */\r\n\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tendValueUnitType = separatedValue[1];\r\n\r\n\t\t\t\t\t\t\t\t/* Parse float values from endValue and startValue. Default to 0 if NaN is returned. */\r\n\t\t\t\t\t\t\t\tstartValue = parseFloat(startValue) || 0;\r\n\t\t\t\t\t\t\t\tendValue = parseFloat(endValue) || 0;\r\n\r\n\t\t\t\t\t\t\t\t/***************************************\r\n\t\t\t\t\t\t\t\t Property-Specific Value Conversion\r\n\t\t\t\t\t\t\t\t ***************************************/\r\n\r\n\t\t\t\t\t\t\t\t/* Custom support for properties that don't actually accept the % unit type, but where pollyfilling is trivial and relatively foolproof. */\r\n\t\t\t\t\t\t\t\tif (endValueUnitType === \"%\") {\r\n\t\t\t\t\t\t\t\t\t/* A %-value fontSize/lineHeight is relative to the parent's fontSize (as opposed to the parent's dimensions),\r\n\t\t\t\t\t\t\t\t\t which is identical to the em unit's behavior, so we piggyback off of that. */\r\n\t\t\t\t\t\t\t\t\tif (/^(fontSize|lineHeight)$/.test(property)) {\r\n\t\t\t\t\t\t\t\t\t\t/* Convert % into an em decimal value. */\r\n\t\t\t\t\t\t\t\t\t\tendValue = endValue / 100;\r\n\t\t\t\t\t\t\t\t\t\tendValueUnitType = \"em\";\r\n\t\t\t\t\t\t\t\t\t\t/* For scaleX and scaleY, convert the value into its decimal format and strip off the unit type. */\r\n\t\t\t\t\t\t\t\t\t} else if (/^scale/.test(property)) {\r\n\t\t\t\t\t\t\t\t\t\tendValue = endValue / 100;\r\n\t\t\t\t\t\t\t\t\t\tendValueUnitType = \"\";\r\n\t\t\t\t\t\t\t\t\t\t/* For RGB components, take the defined percentage of 255 and strip off the unit type. */\r\n\t\t\t\t\t\t\t\t\t} else if (/(Red|Green|Blue)$/i.test(property)) {\r\n\t\t\t\t\t\t\t\t\t\tendValue = (endValue / 100) * 255;\r\n\t\t\t\t\t\t\t\t\t\tendValueUnitType = \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/***************************\r\n\t\t\t\t\t\t\t Unit Ratio Calculation\r\n\t\t\t\t\t\t\t ***************************/\r\n\r\n\t\t\t\t\t\t\t/* When queried, the browser returns (most) CSS property values in pixels. Therefore, if an endValue with a unit type of\r\n\t\t\t\t\t\t\t %, em, or rem is animated toward, startValue must be converted from pixels into the same unit type as endValue in order\r\n\t\t\t\t\t\t\t for value manipulation logic (increment/decrement) to proceed. Further, if the startValue was forcefed or transferred\r\n\t\t\t\t\t\t\t from a previous call, startValue may also not be in pixels. Unit conversion logic therefore consists of two steps:\r\n\t\t\t\t\t\t\t 1) Calculating the ratio of %/em/rem/vh/vw relative to pixels\r\n\t\t\t\t\t\t\t 2) Converting startValue into the same unit of measurement as endValue based on these ratios. */\r\n\t\t\t\t\t\t\t/* Unit conversion ratios are calculated by inserting a sibling node next to the target node, copying over its position property,\r\n\t\t\t\t\t\t\t setting values with the target unit type then comparing the returned pixel value. */\r\n\t\t\t\t\t\t\t/* Note: Even if only one of these unit types is being animated, all unit ratios are calculated at once since the overhead\r\n\t\t\t\t\t\t\t of batching the SETs and GETs together upfront outweights the potential overhead\r\n\t\t\t\t\t\t\t of layout thrashing caused by re-querying for uncalculated ratios for subsequently-processed properties. */\r\n\t\t\t\t\t\t\t/* Todo: Shift this logic into the calls' first tick instance so that it's synced with RAF. */\r\n\t\t\t\t\t\t\tvar calculateUnitRatios = function() {\r\n\r\n\t\t\t\t\t\t\t\t/************************\r\n\t\t\t\t\t\t\t\t Same Ratio Checks\r\n\t\t\t\t\t\t\t\t ************************/\r\n\r\n\t\t\t\t\t\t\t\t/* The properties below are used to determine whether the element differs sufficiently from this call's\r\n\t\t\t\t\t\t\t\t previously iterated element to also differ in its unit conversion ratios. If the properties match up with those\r\n\t\t\t\t\t\t\t\t of the prior element, the prior element's conversion ratios are used. Like most optimizations in Velocity,\r\n\t\t\t\t\t\t\t\t this is done to minimize DOM querying. */\r\n\t\t\t\t\t\t\t\tvar sameRatioIndicators = {\r\n\t\t\t\t\t\t\t\t\tmyParent: element.parentNode || document.body, /* GET */\r\n\t\t\t\t\t\t\t\t\tposition: CSS.getPropertyValue(element, \"position\"), /* GET */\r\n\t\t\t\t\t\t\t\t\tfontSize: CSS.getPropertyValue(element, \"fontSize\") /* GET */\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t/* Determine if the same % ratio can be used. % is based on the element's position value and its parent's width and height dimensions. */\r\n\t\t\t\t\t\t\t\t\t\tsamePercentRatio = ((sameRatioIndicators.position === callUnitConversionData.lastPosition) && (sameRatioIndicators.myParent === callUnitConversionData.lastParent)),\r\n\t\t\t\t\t\t\t\t\t\t/* Determine if the same em ratio can be used. em is relative to the element's fontSize. */\r\n\t\t\t\t\t\t\t\t\t\tsameEmRatio = (sameRatioIndicators.fontSize === callUnitConversionData.lastFontSize);\r\n\r\n\t\t\t\t\t\t\t\t/* Store these ratio indicators call-wide for the next element to compare against. */\r\n\t\t\t\t\t\t\t\tcallUnitConversionData.lastParent = sameRatioIndicators.myParent;\r\n\t\t\t\t\t\t\t\tcallUnitConversionData.lastPosition = sameRatioIndicators.position;\r\n\t\t\t\t\t\t\t\tcallUnitConversionData.lastFontSize = sameRatioIndicators.fontSize;\r\n\r\n\t\t\t\t\t\t\t\t/***************************\r\n\t\t\t\t\t\t\t\t Element-Specific Units\r\n\t\t\t\t\t\t\t\t ***************************/\r\n\r\n\t\t\t\t\t\t\t\t/* Note: IE8 rounds to the nearest pixel when returning CSS values, thus we perform conversions using a measurement\r\n\t\t\t\t\t\t\t\t of 100 (instead of 1) to give our ratios a precision of at least 2 decimal values. */\r\n\t\t\t\t\t\t\t\tvar measurement = 100,\r\n\t\t\t\t\t\t\t\t\t\tunitRatios = {};\r\n\r\n\t\t\t\t\t\t\t\tif (!sameEmRatio || !samePercentRatio) {\r\n\t\t\t\t\t\t\t\t\tvar dummy = data && data.isSVG ? document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\") : document.createElement(\"div\");\r\n\r\n\t\t\t\t\t\t\t\t\tVelocity.init(dummy);\r\n\t\t\t\t\t\t\t\t\tsameRatioIndicators.myParent.appendChild(dummy);\r\n\r\n\t\t\t\t\t\t\t\t\t/* To accurately and consistently calculate conversion ratios, the element's cascaded overflow and box-sizing are stripped.\r\n\t\t\t\t\t\t\t\t\t Similarly, since width/height can be artificially constrained by their min-/max- equivalents, these are controlled for as well. */\r\n\t\t\t\t\t\t\t\t\t/* Note: Overflow must be also be controlled for per-axis since the overflow property overwrites its per-axis values. */\r\n\t\t\t\t\t\t\t\t\t$.each([\"overflow\", \"overflowX\", \"overflowY\"], function(i, property) {\r\n\t\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, property, \"hidden\");\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, \"position\", sameRatioIndicators.position);\r\n\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, \"fontSize\", sameRatioIndicators.fontSize);\r\n\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, \"boxSizing\", \"content-box\");\r\n\r\n\t\t\t\t\t\t\t\t\t/* width and height act as our proxy properties for measuring the horizontal and vertical % ratios. */\r\n\t\t\t\t\t\t\t\t\t$.each([\"minWidth\", \"maxWidth\", \"width\", \"minHeight\", \"maxHeight\", \"height\"], function(i, property) {\r\n\t\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, property, measurement + \"%\");\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t/* paddingLeft arbitrarily acts as our proxy property for the em ratio. */\r\n\t\t\t\t\t\t\t\t\tVelocity.CSS.setPropertyValue(dummy, \"paddingLeft\", measurement + \"em\");\r\n\r\n\t\t\t\t\t\t\t\t\t/* Divide the returned value by the measurement to get the ratio between 1% and 1px. Default to 1 since working with 0 can produce Infinite. */\r\n\t\t\t\t\t\t\t\t\tunitRatios.percentToPxWidth = callUnitConversionData.lastPercentToPxWidth = (parseFloat(CSS.getPropertyValue(dummy, \"width\", null, true)) || 1) / measurement; /* GET */\r\n\t\t\t\t\t\t\t\t\tunitRatios.percentToPxHeight = callUnitConversionData.lastPercentToPxHeight = (parseFloat(CSS.getPropertyValue(dummy, \"height\", null, true)) || 1) / measurement; /* GET */\r\n\t\t\t\t\t\t\t\t\tunitRatios.emToPx = callUnitConversionData.lastEmToPx = (parseFloat(CSS.getPropertyValue(dummy, \"paddingLeft\")) || 1) / measurement; /* GET */\r\n\r\n\t\t\t\t\t\t\t\t\tsameRatioIndicators.myParent.removeChild(dummy);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tunitRatios.emToPx = callUnitConversionData.lastEmToPx;\r\n\t\t\t\t\t\t\t\t\tunitRatios.percentToPxWidth = callUnitConversionData.lastPercentToPxWidth;\r\n\t\t\t\t\t\t\t\t\tunitRatios.percentToPxHeight = callUnitConversionData.lastPercentToPxHeight;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/***************************\r\n\t\t\t\t\t\t\t\t Element-Agnostic Units\r\n\t\t\t\t\t\t\t\t ***************************/\r\n\r\n\t\t\t\t\t\t\t\t/* Whereas % and em ratios are determined on a per-element basis, the rem unit only needs to be checked\r\n\t\t\t\t\t\t\t\t once per call since it's exclusively dependant upon document.body's fontSize. If this is the first time\r\n\t\t\t\t\t\t\t\t that calculateUnitRatios() is being run during this call, remToPx will still be set to its default value of null,\r\n\t\t\t\t\t\t\t\t so we calculate it now. */\r\n\t\t\t\t\t\t\t\tif (callUnitConversionData.remToPx === null) {\r\n\t\t\t\t\t\t\t\t\t/* Default to browsers' default fontSize of 16px in the case of 0. */\r\n\t\t\t\t\t\t\t\t\tcallUnitConversionData.remToPx = parseFloat(CSS.getPropertyValue(document.body, \"fontSize\")) || 16; /* GET */\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t/* Similarly, viewport units are %-relative to the window's inner dimensions. */\r\n\t\t\t\t\t\t\t\tif (callUnitConversionData.vwToPx === null) {\r\n\t\t\t\t\t\t\t\t\tcallUnitConversionData.vwToPx = parseFloat(window.innerWidth) / 100; /* GET */\r\n\t\t\t\t\t\t\t\t\tcallUnitConversionData.vhToPx = parseFloat(window.innerHeight) / 100; /* GET */\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tunitRatios.remToPx = callUnitConversionData.remToPx;\r\n\t\t\t\t\t\t\t\tunitRatios.vwToPx = callUnitConversionData.vwToPx;\r\n\t\t\t\t\t\t\t\tunitRatios.vhToPx = callUnitConversionData.vhToPx;\r\n\r\n\t\t\t\t\t\t\t\tif (Velocity.debug >= 1) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Unit ratios: \" + JSON.stringify(unitRatios), element);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn unitRatios;\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t/********************\r\n\t\t\t\t\t\t\t Unit Conversion\r\n\t\t\t\t\t\t\t ********************/\r\n\r\n\t\t\t\t\t\t\t/* The * and / operators, which are not passed in with an associated unit, inherently use startValue's unit. Skip value and unit conversion. */\r\n\t\t\t\t\t\t\tif (/[\\/*]/.test(operator)) {\r\n\t\t\t\t\t\t\t\tendValueUnitType = startValueUnitType;\r\n\t\t\t\t\t\t\t\t/* If startValue and endValue differ in unit type, convert startValue into the same unit type as endValue so that if endValueUnitType\r\n\t\t\t\t\t\t\t\t is a relative unit (%, em, rem), the values set during tweening will continue to be accurately relative even if the metrics they depend\r\n\t\t\t\t\t\t\t\t on are dynamically changing during the course of the animation. Conversely, if we always normalized into px and used px for setting values, the px ratio\r\n\t\t\t\t\t\t\t\t would become stale if the original unit being animated toward was relative and the underlying metrics change during the animation. */\r\n\t\t\t\t\t\t\t\t/* Since 0 is 0 in any unit type, no conversion is necessary when startValue is 0 -- we just start at 0 with endValueUnitType. */\r\n\t\t\t\t\t\t\t} else if ((startValueUnitType !== endValueUnitType) && startValue !== 0) {\r\n\t\t\t\t\t\t\t\t/* Unit conversion is also skipped when endValue is 0, but *startValueUnitType* must be used for tween values to remain accurate. */\r\n\t\t\t\t\t\t\t\t/* Note: Skipping unit conversion here means that if endValueUnitType was originally a relative unit, the animation won't relatively\r\n\t\t\t\t\t\t\t\t match the underlying metrics if they change, but this is acceptable since we're animating toward invisibility instead of toward visibility,\r\n\t\t\t\t\t\t\t\t which remains past the point of the animation's completion. */\r\n\t\t\t\t\t\t\t\tif (endValue === 0) {\r\n\t\t\t\t\t\t\t\t\tendValueUnitType = startValueUnitType;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t/* By this point, we cannot avoid unit conversion (it's undesirable since it causes layout thrashing).\r\n\t\t\t\t\t\t\t\t\t If we haven't already, we trigger calculateUnitRatios(), which runs once per element per call. */\r\n\t\t\t\t\t\t\t\t\telementUnitConversionData = elementUnitConversionData || calculateUnitRatios();\r\n\r\n\t\t\t\t\t\t\t\t\t/* The following RegEx matches CSS properties that have their % values measured relative to the x-axis. */\r\n\t\t\t\t\t\t\t\t\t/* Note: W3C spec mandates that all of margin and padding's properties (even top and bottom) are %-relative to the *width* of the parent element. */\r\n\t\t\t\t\t\t\t\t\tvar axis = (/margin|padding|left|right|width|text|word|letter/i.test(property) || /X$/.test(property) || property === \"x\") ? \"x\" : \"y\";\r\n\r\n\t\t\t\t\t\t\t\t\t/* In order to avoid generating n^2 bespoke conversion functions, unit conversion is a two-step process:\r\n\t\t\t\t\t\t\t\t\t 1) Convert startValue into pixels. 2) Convert this new pixel value into endValue's unit type. */\r\n\t\t\t\t\t\t\t\t\tswitch (startValueUnitType) {\r\n\t\t\t\t\t\t\t\t\t\tcase \"%\":\r\n\t\t\t\t\t\t\t\t\t\t\t/* Note: translateX and translateY are the only properties that are %-relative to an element's own dimensions -- not its parent's dimensions.\r\n\t\t\t\t\t\t\t\t\t\t\t Velocity does not include a special conversion process to account for this behavior. Therefore, animating translateX/Y from a % value\r\n\t\t\t\t\t\t\t\t\t\t\t to a non-% value will produce an incorrect start value. Fortunately, this sort of cross-unit conversion is rarely done by users in practice. */\r\n\t\t\t\t\t\t\t\t\t\t\tstartValue *= (axis === \"x\" ? elementUnitConversionData.percentToPxWidth : elementUnitConversionData.percentToPxHeight);\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase \"px\":\r\n\t\t\t\t\t\t\t\t\t\t\t/* px acts as our midpoint in the unit conversion process; do nothing. */\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tstartValue *= elementUnitConversionData[startValueUnitType + \"ToPx\"];\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t/* Invert the px ratios to convert into to the target unit. */\r\n\t\t\t\t\t\t\t\t\tswitch (endValueUnitType) {\r\n\t\t\t\t\t\t\t\t\t\tcase \"%\":\r\n\t\t\t\t\t\t\t\t\t\t\tstartValue *= 1 / (axis === \"x\" ? elementUnitConversionData.percentToPxWidth : elementUnitConversionData.percentToPxHeight);\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase \"px\":\r\n\t\t\t\t\t\t\t\t\t\t\t/* startValue is already in px, do nothing; we're done. */\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tstartValue *= 1 / elementUnitConversionData[endValueUnitType + \"ToPx\"];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/*********************\r\n\t\t\t\t\t\t\t Relative Values\r\n\t\t\t\t\t\t\t *********************/\r\n\r\n\t\t\t\t\t\t\t/* Operator logic must be performed last since it requires unit-normalized start and end values. */\r\n\t\t\t\t\t\t\t/* Note: Relative *percent values* do not behave how most people think; while one would expect \"+=50%\"\r\n\t\t\t\t\t\t\t to increase the property 1.5x its current value, it in fact increases the percent units in absolute terms:\r\n\t\t\t\t\t\t\t 50 points is added on top of the current % value. */\r\n\t\t\t\t\t\t\tswitch (operator) {\r\n\t\t\t\t\t\t\t\tcase \"+\":\r\n\t\t\t\t\t\t\t\t\tendValue = startValue + endValue;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"-\":\r\n\t\t\t\t\t\t\t\t\tendValue = startValue - endValue;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"*\":\r\n\t\t\t\t\t\t\t\t\tendValue = startValue * endValue;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"/\":\r\n\t\t\t\t\t\t\t\t\tendValue = startValue / endValue;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/**************************\r\n\t\t\t\t\t\t\t tweensContainer Push\r\n\t\t\t\t\t\t\t **************************/\r\n\r\n\t\t\t\t\t\t\t/* Construct the per-property tween object, and push it to the element's tweensContainer. */\r\n\t\t\t\t\t\t\ttweensContainer[property] = {\r\n\t\t\t\t\t\t\t\trootPropertyValue: rootPropertyValue,\r\n\t\t\t\t\t\t\t\tstartValue: startValue,\r\n\t\t\t\t\t\t\t\tcurrentValue: startValue,\r\n\t\t\t\t\t\t\t\tendValue: endValue,\r\n\t\t\t\t\t\t\t\tunitType: endValueUnitType,\r\n\t\t\t\t\t\t\t\teasing: easing\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\t\t\ttweensContainer[property].pattern = pattern;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (Velocity.debug) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"tweensContainer (\" + property + \"): \" + JSON.stringify(tweensContainer[property]), element);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t/* Create a tween out of each property, and append its associated data to tweensContainer. */\r\n\t\t\t\t\t\tfor (var property in propertiesMap) {\r\n\r\n\t\t\t\t\t\t\tif (!propertiesMap.hasOwnProperty(property)) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* The original property name's format must be used for the parsePropertyValue() lookup,\r\n\t\t\t\t\t\t\t but we then use its camelCase styling to normalize it for manipulation. */\r\n\t\t\t\t\t\t\tvar propertyName = CSS.Names.camelCase(property),\r\n\t\t\t\t\t\t\t\t\tvalueData = parsePropertyValue(propertiesMap[property]);\r\n\r\n\t\t\t\t\t\t\t/* Find shorthand color properties that have been passed a hex string. */\r\n\t\t\t\t\t\t\t/* Would be quicker to use CSS.Lists.colors.includes() if possible */\r\n\t\t\t\t\t\t\tif (_inArray(CSS.Lists.colors, propertyName)) {\r\n\t\t\t\t\t\t\t\t/* Parse the value data for each shorthand. */\r\n\t\t\t\t\t\t\t\tvar endValue = valueData[0],\r\n\t\t\t\t\t\t\t\t\t\teasing = valueData[1],\r\n\t\t\t\t\t\t\t\t\t\tstartValue = valueData[2];\r\n\r\n\t\t\t\t\t\t\t\tif (CSS.RegEx.isHex.test(endValue)) {\r\n\t\t\t\t\t\t\t\t\t/* Convert the hex strings into their RGB component arrays. */\r\n\t\t\t\t\t\t\t\t\tvar colorComponents = [\"Red\", \"Green\", \"Blue\"],\r\n\t\t\t\t\t\t\t\t\t\t\tendValueRGB = CSS.Values.hexToRgb(endValue),\r\n\t\t\t\t\t\t\t\t\t\t\tstartValueRGB = startValue ? CSS.Values.hexToRgb(startValue) : undefined;\r\n\r\n\t\t\t\t\t\t\t\t\t/* Inject the RGB component tweens into propertiesMap. */\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < colorComponents.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tvar dataArray = [endValueRGB[i]];\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (easing) {\r\n\t\t\t\t\t\t\t\t\t\t\tdataArray.push(easing);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (startValueRGB !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tdataArray.push(startValueRGB[i]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tfixPropertyValue(propertyName + colorComponents[i], dataArray);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/* If we have replaced a shortcut color value then don't update the standard property name */\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfixPropertyValue(propertyName, valueData);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Along with its property data, store a reference to the element itself onto tweensContainer. */\r\n\t\t\t\t\t\ttweensContainer.element = element;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/*****************\r\n\t\t\t\t\t Call Push\r\n\t\t\t\t\t *****************/\r\n\r\n\t\t\t\t\t/* Note: tweensContainer can be empty if all of the properties in this call's property map were skipped due to not\r\n\t\t\t\t\t being supported by the browser. The element property is used for checking that the tweensContainer has been appended to. */\r\n\t\t\t\t\tif (tweensContainer.element) {\r\n\t\t\t\t\t\t/* Apply the \"velocity-animating\" indicator class. */\r\n\t\t\t\t\t\tCSS.Values.addClass(element, \"velocity-animating\");\r\n\r\n\t\t\t\t\t\t/* The call array houses the tweensContainers for each element being animated in the current call. */\r\n\t\t\t\t\t\tcall.push(tweensContainer);\r\n\r\n\t\t\t\t\t\tdata = Data(element);\r\n\r\n\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t/* Store the tweensContainer and options if we're working on the default effects queue, so that they can be used by the reverse command. */\r\n\t\t\t\t\t\t\tif (opts.queue === \"\") {\r\n\r\n\t\t\t\t\t\t\t\tdata.tweensContainer = tweensContainer;\r\n\t\t\t\t\t\t\t\tdata.opts = opts;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Switch on the element's animating flag. */\r\n\t\t\t\t\t\t\tdata.isAnimating = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Once the final element in this call's element set has been processed, push the call array onto\r\n\t\t\t\t\t\t Velocity.State.calls for the animation tick to immediately begin processing. */\r\n\t\t\t\t\t\tif (elementsIndex === elementsLength - 1) {\r\n\t\t\t\t\t\t\t/* Add the current call plus its associated metadata (the element set and the call's options) onto the global call container.\r\n\t\t\t\t\t\t\t Anything on this call container is subjected to tick() processing. */\r\n\t\t\t\t\t\t\tVelocity.State.calls.push([call, elements, opts, null, promiseData.resolver, null, 0]);\r\n\r\n\t\t\t\t\t\t\t/* If the animation tick isn't running, start it. (Velocity shuts it off when there are no active calls to process.) */\r\n\t\t\t\t\t\t\tif (Velocity.State.isTicking === false) {\r\n\t\t\t\t\t\t\t\tVelocity.State.isTicking = true;\r\n\r\n\t\t\t\t\t\t\t\t/* Start the tick loop. */\r\n\t\t\t\t\t\t\t\ttick();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telementsIndex++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* When the queue option is set to false, the call skips the element's queue and fires immediately. */\r\n\t\t\t\tif (opts.queue === false) {\r\n\t\t\t\t\t/* Since this buildQueue call doesn't respect the element's existing queue (which is where a delay option would have been appended),\r\n\t\t\t\t\t we manually inject the delay property here with an explicit setTimeout. */\r\n\t\t\t\t\tif (opts.delay) {\r\n\r\n\t\t\t\t\t\t/* Temporarily store delayed elements to facilitate access for global pause/resume */\r\n\t\t\t\t\t\tvar callIndex = Velocity.State.delayedElements.count++;\r\n\t\t\t\t\t\tVelocity.State.delayedElements[callIndex] = element;\r\n\r\n\t\t\t\t\t\tvar delayComplete = (function(index) {\r\n\t\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\t\t/* Clear the temporary element */\r\n\t\t\t\t\t\t\t\tVelocity.State.delayedElements[index] = false;\r\n\r\n\t\t\t\t\t\t\t\t/* Finally, issue the call */\r\n\t\t\t\t\t\t\t\tbuildQueue();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})(callIndex);\r\n\r\n\t\t\t\t\t\tData(element).delayBegin = (new Date()).getTime();\r\n\t\t\t\t\t\tData(element).delay = parseFloat(opts.delay);\r\n\t\t\t\t\t\tData(element).delayTimer = {\r\n\t\t\t\t\t\t\tsetTimeout: setTimeout(buildQueue, parseFloat(opts.delay)),\r\n\t\t\t\t\t\t\tnext: delayComplete\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbuildQueue();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* Otherwise, the call undergoes element queueing as normal. */\r\n\t\t\t\t\t/* Note: To interoperate with jQuery, Velocity uses jQuery's own $.queue() stack for queuing logic. */\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.queue(element, opts.queue, function(next, clearQueue) {\r\n\t\t\t\t\t\t/* If the clearQueue flag was passed in by the stop command, resolve this call's promise. (Promises can only be resolved once,\r\n\t\t\t\t\t\t so it's fine if this is repeatedly triggered for each element in the associated call.) */\r\n\t\t\t\t\t\tif (clearQueue === true) {\r\n\t\t\t\t\t\t\tif (promiseData.promise) {\r\n\t\t\t\t\t\t\t\tpromiseData.resolver(elements);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/* Do not continue with animation queueing. */\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* This flag indicates to the upcoming completeCall() function that this queue entry was initiated by Velocity.\r\n\t\t\t\t\t\t See completeCall() for further details. */\r\n\t\t\t\t\t\tVelocity.velocityQueueEntryFlag = true;\r\n\r\n\t\t\t\t\t\tbuildQueue(next);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*********************\r\n\t\t\t\t Auto-Dequeuing\r\n\t\t\t\t *********************/\r\n\r\n\t\t\t\t/* As per jQuery's $.queue() behavior, to fire the first non-custom-queue entry on an element, the element\r\n\t\t\t\t must be dequeued if its queue stack consists *solely* of the current call. (This can be determined by checking\r\n\t\t\t\t for the \"inprogress\" item that jQuery prepends to active queue stack arrays.) Regardless, whenever the element's\r\n\t\t\t\t queue is further appended with additional items -- including $.delay()'s or even $.animate() calls, the queue's\r\n\t\t\t\t first entry is automatically fired. This behavior contrasts that of custom queues, which never auto-fire. */\r\n\t\t\t\t/* Note: When an element set is being subjected to a non-parallel Velocity call, the animation will not begin until\r\n\t\t\t\t each one of the elements in the set has reached the end of its individually pre-existing queue chain. */\r\n\t\t\t\t/* Note: Unfortunately, most people don't fully grasp jQuery's powerful, yet quirky, $.queue() function.\r\n\t\t\t\t Lean more here: http://stackoverflow.com/questions/1058158/can-somebody-explain-jquery-queue-to-me */\r\n\t\t\t\tif ((opts.queue === \"\" || opts.queue === \"fx\") && $.queue(element)[0] !== \"inprogress\") {\r\n\t\t\t\t\t$.dequeue(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**************************\r\n\t\t\t Element Set Iteration\r\n\t\t\t **************************/\r\n\r\n\t\t\t/* If the \"nodeType\" property exists on the elements variable, we're animating a single element.\r\n\t\t\t Place it in an array so that $.each() can iterate over it. */\r\n\t\t\t$.each(elements, function(i, element) {\r\n\t\t\t\t/* Ensure each element in a set has a nodeType (is a real element) to avoid throwing errors. */\r\n\t\t\t\tif (Type.isNode(element)) {\r\n\t\t\t\t\tprocessElement(element, i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t/******************\r\n\t\t\t Option: Loop\r\n\t\t\t ******************/\r\n\r\n\t\t\t/* The loop option accepts an integer indicating how many times the element should loop between the values in the\r\n\t\t\t current call's properties map and the element's property values prior to this call. */\r\n\t\t\t/* Note: The loop option's logic is performed here -- after element processing -- because the current call needs\r\n\t\t\t to undergo its queue insertion prior to the loop option generating its series of constituent \"reverse\" calls,\r\n\t\t\t which chain after the current call. Two reverse calls (two \"alternations\") constitute one loop. */\r\n\t\t\topts = $.extend({}, Velocity.defaults, options);\r\n\t\t\topts.loop = parseInt(opts.loop, 10);\r\n\t\t\tvar reverseCallsCount = (opts.loop * 2) - 1;\r\n\r\n\t\t\tif (opts.loop) {\r\n\t\t\t\t/* Double the loop count to convert it into its appropriate number of \"reverse\" calls.\r\n\t\t\t\t Subtract 1 from the resulting value since the current call is included in the total alternation count. */\r\n\t\t\t\tfor (var x = 0; x < reverseCallsCount; x++) {\r\n\t\t\t\t\t/* Since the logic for the reverse action occurs inside Queueing and therefore this call's options object\r\n\t\t\t\t\t isn't parsed until then as well, the current call's delay option must be explicitly passed into the reverse\r\n\t\t\t\t\t call so that the delay logic that occurs inside *Pre-Queueing* can process it. */\r\n\t\t\t\t\tvar reverseOptions = {\r\n\t\t\t\t\t\tdelay: opts.delay,\r\n\t\t\t\t\t\tprogress: opts.progress\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/* If a complete callback was passed into this call, transfer it to the loop redirect's final \"reverse\" call\r\n\t\t\t\t\t so that it's triggered when the entire redirect is complete (and not when the very first animation is complete). */\r\n\t\t\t\t\tif (x === reverseCallsCount - 1) {\r\n\t\t\t\t\t\treverseOptions.display = opts.display;\r\n\t\t\t\t\t\treverseOptions.visibility = opts.visibility;\r\n\t\t\t\t\t\treverseOptions.complete = opts.complete;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimate(elements, \"reverse\", reverseOptions);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/***************\r\n\t\t\t Chaining\r\n\t\t\t ***************/\r\n\r\n\t\t\t/* Return the elements back to the call chain, with wrapped elements taking precedence in case Velocity was called via the $.fn. extension. */\r\n\t\t\treturn getChain();\r\n\t\t};\r\n\r\n\t\t/* Turn Velocity into the animation function, extended with the pre-existing Velocity object. */\r\n\t\tVelocity = $.extend(animate, Velocity);\r\n\t\t/* For legacy support, also expose the literal animate method. */\r\n\t\tVelocity.animate = animate;\r\n\r\n\t\t/**************\r\n\t\t Timing\r\n\t\t **************/\r\n\r\n\t\t/* Ticker function. */\r\n\t\tvar ticker = window.requestAnimationFrame || rAFShim;\r\n\r\n\t\t/* Inactive browser tabs pause rAF, which results in all active animations immediately sprinting to their completion states when the tab refocuses.\r\n\t\t To get around this, we dynamically switch rAF to setTimeout (which the browser *doesn't* pause) when the tab loses focus. We skip this for mobile\r\n\t\t devices to avoid wasting battery power on inactive tabs. */\r\n\t\t/* Note: Tab focus detection doesn't work on older versions of IE, but that's okay since they don't support rAF to begin with. */\r\n\t\tif (!Velocity.State.isMobile && document.hidden !== undefined) {\r\n\t\t\tvar updateTicker = function() {\r\n\t\t\t\t/* Reassign the rAF function (which the global tick() function uses) based on the tab's focus state. */\r\n\t\t\t\tif (document.hidden) {\r\n\t\t\t\t\tticker = function(callback) {\r\n\t\t\t\t\t\t/* The tick function needs a truthy first argument in order to pass its internal timestamp check. */\r\n\t\t\t\t\t\treturn setTimeout(function() {\r\n\t\t\t\t\t\t\tcallback(true);\r\n\t\t\t\t\t\t}, 16);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/* The rAF loop has been paused by the browser, so we manually restart the tick. */\r\n\t\t\t\t\ttick();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tticker = window.requestAnimationFrame || rAFShim;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t/* Page could be sitting in the background at this time (i.e. opened as new tab) so making sure we use correct ticker from the start */\r\n\t\t\tupdateTicker();\r\n\r\n\t\t\t/* And then run check again every time visibility changes */\r\n\t\t\tdocument.addEventListener(\"visibilitychange\", updateTicker);\r\n\t\t}\r\n\r\n\t\t/************\r\n\t\t Tick\r\n\t\t ************/\r\n\r\n\t\t/* Note: All calls to Velocity are pushed to the Velocity.State.calls array, which is fully iterated through upon each tick. */\r\n\t\tfunction tick(timestamp) {\r\n\t\t\t/* An empty timestamp argument indicates that this is the first tick occurence since ticking was turned on.\r\n\t\t\t We leverage this metadata to fully ignore the first tick pass since RAF's initial pass is fired whenever\r\n\t\t\t the browser's next tick sync time occurs, which results in the first elements subjected to Velocity\r\n\t\t\t calls being animated out of sync with any elements animated immediately thereafter. In short, we ignore\r\n\t\t\t the first RAF tick pass so that elements being immediately consecutively animated -- instead of simultaneously animated\r\n\t\t\t by the same Velocity call -- are properly batched into the same initial RAF tick and consequently remain in sync thereafter. */\r\n\t\t\tif (timestamp) {\r\n\t\t\t\t/* We normally use RAF's high resolution timestamp but as it can be significantly offset when the browser is\r\n\t\t\t\t under high stress we give the option for choppiness over allowing the browser to drop huge chunks of frames.\r\n\t\t\t\t We use performance.now() and shim it if it doesn't exist for when the tab is hidden. */\r\n\t\t\t\tvar timeCurrent = Velocity.timestamp && timestamp !== true ? timestamp : performance.now();\r\n\r\n\t\t\t\t/********************\r\n\t\t\t\t Call Iteration\r\n\t\t\t\t ********************/\r\n\r\n\t\t\t\tvar callsLength = Velocity.State.calls.length;\r\n\r\n\t\t\t\t/* To speed up iterating over this array, it is compacted (falsey items -- calls that have completed -- are removed)\r\n\t\t\t\t when its length has ballooned to a point that can impact tick performance. This only becomes necessary when animation\r\n\t\t\t\t has been continuous with many elements over a long period of time; whenever all active calls are completed, completeCall() clears Velocity.State.calls. */\r\n\t\t\t\tif (callsLength > 10000) {\r\n\t\t\t\t\tVelocity.State.calls = compactSparseArray(Velocity.State.calls);\r\n\t\t\t\t\tcallsLength = Velocity.State.calls.length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Iterate through each active call. */\r\n\t\t\t\tfor (var i = 0; i < callsLength; i++) {\r\n\t\t\t\t\t/* When a Velocity call is completed, its Velocity.State.calls entry is set to false. Continue on to the next call. */\r\n\t\t\t\t\tif (!Velocity.State.calls[i]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/************************\r\n\t\t\t\t\t Call-Wide Variables\r\n\t\t\t\t\t ************************/\r\n\r\n\t\t\t\t\tvar callContainer = Velocity.State.calls[i],\r\n\t\t\t\t\t\t\tcall = callContainer[0],\r\n\t\t\t\t\t\t\topts = callContainer[2],\r\n\t\t\t\t\t\t\ttimeStart = callContainer[3],\r\n\t\t\t\t\t\t\tfirstTick = !timeStart,\r\n\t\t\t\t\t\t\ttweenDummyValue = null,\r\n\t\t\t\t\t\t\tpauseObject = callContainer[5],\r\n\t\t\t\t\t\t\tmillisecondsEllapsed = callContainer[6];\r\n\r\n\r\n\r\n\t\t\t\t\t/* If timeStart is undefined, then this is the first time that this call has been processed by tick().\r\n\t\t\t\t\t We assign timeStart now so that its value is as close to the real animation start time as possible.\r\n\t\t\t\t\t (Conversely, had timeStart been defined when this call was added to Velocity.State.calls, the delay\r\n\t\t\t\t\t between that time and now would cause the first few frames of the tween to be skipped since\r\n\t\t\t\t\t percentComplete is calculated relative to timeStart.) */\r\n\t\t\t\t\t/* Further, subtract 16ms (the approximate resolution of RAF) from the current time value so that the\r\n\t\t\t\t\t first tick iteration isn't wasted by animating at 0% tween completion, which would produce the\r\n\t\t\t\t\t same style value as the element's current value. */\r\n\t\t\t\t\tif (!timeStart) {\r\n\t\t\t\t\t\ttimeStart = Velocity.State.calls[i][3] = timeCurrent - 16;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* If a pause object is present, skip processing unless it has been set to resume */\r\n\t\t\t\t\tif (pauseObject) {\r\n\t\t\t\t\t\tif (pauseObject.resume === true) {\r\n\t\t\t\t\t\t\t/* Update the time start to accomodate the paused completion amount */\r\n\t\t\t\t\t\t\ttimeStart = callContainer[3] = Math.round(timeCurrent - millisecondsEllapsed - 16);\r\n\r\n\t\t\t\t\t\t\t/* Remove pause object after processing */\r\n\t\t\t\t\t\t\tcallContainer[5] = null;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmillisecondsEllapsed = callContainer[6] = timeCurrent - timeStart;\r\n\r\n\t\t\t\t\t/* The tween's completion percentage is relative to the tween's start time, not the tween's start value\r\n\t\t\t\t\t (which would result in unpredictable tween durations since JavaScript's timers are not particularly accurate).\r\n\t\t\t\t\t Accordingly, we ensure that percentComplete does not exceed 1. */\r\n\t\t\t\t\tvar percentComplete = Math.min((millisecondsEllapsed) / opts.duration, 1);\r\n\r\n\t\t\t\t\t/**********************\r\n\t\t\t\t\t Element Iteration\r\n\t\t\t\t\t **********************/\r\n\r\n\t\t\t\t\t/* For every call, iterate through each of the elements in its set. */\r\n\t\t\t\t\tfor (var j = 0, callLength = call.length; j < callLength; j++) {\r\n\t\t\t\t\t\tvar tweensContainer = call[j],\r\n\t\t\t\t\t\t\t\telement = tweensContainer.element;\r\n\r\n\t\t\t\t\t\t/* Check to see if this element has been deleted midway through the animation by checking for the\r\n\t\t\t\t\t\t continued existence of its data cache. If it's gone, or the element is currently paused, skip animating this element. */\r\n\t\t\t\t\t\tif (!Data(element)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar transformPropertyExists = false;\r\n\r\n\t\t\t\t\t\t/**********************************\r\n\t\t\t\t\t\t Display & Visibility Toggling\r\n\t\t\t\t\t\t **********************************/\r\n\r\n\t\t\t\t\t\t/* If the display option is set to non-\"none\", set it upfront so that the element can become visible before tweening begins.\r\n\t\t\t\t\t\t (Otherwise, display's \"none\" value is set in completeCall() once the animation has completed.) */\r\n\t\t\t\t\t\tif (opts.display !== undefined && opts.display !== null && opts.display !== \"none\") {\r\n\t\t\t\t\t\t\tif (opts.display === \"flex\") {\r\n\t\t\t\t\t\t\t\tvar flexValues = [\"-webkit-box\", \"-moz-box\", \"-ms-flexbox\", \"-webkit-flex\"];\r\n\r\n\t\t\t\t\t\t\t\t$.each(flexValues, function(i, flexValue) {\r\n\t\t\t\t\t\t\t\t\tCSS.setPropertyValue(element, \"display\", flexValue);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tCSS.setPropertyValue(element, \"display\", opts.display);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Same goes with the visibility option, but its \"none\" equivalent is \"hidden\". */\r\n\t\t\t\t\t\tif (opts.visibility !== undefined && opts.visibility !== \"hidden\") {\r\n\t\t\t\t\t\t\tCSS.setPropertyValue(element, \"visibility\", opts.visibility);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/************************\r\n\t\t\t\t\t\t Property Iteration\r\n\t\t\t\t\t\t ************************/\r\n\r\n\t\t\t\t\t\t/* For every element, iterate through each property. */\r\n\t\t\t\t\t\tfor (var property in tweensContainer) {\r\n\t\t\t\t\t\t\t/* Note: In addition to property tween data, tweensContainer contains a reference to its associated element. */\r\n\t\t\t\t\t\t\tif (tweensContainer.hasOwnProperty(property) && property !== \"element\") {\r\n\t\t\t\t\t\t\t\tvar tween = tweensContainer[property],\r\n\t\t\t\t\t\t\t\t\t\tcurrentValue,\r\n\t\t\t\t\t\t\t\t\t\t/* Easing can either be a pre-genereated function or a string that references a pre-registered easing\r\n\t\t\t\t\t\t\t\t\t\t on the Velocity.Easings object. In either case, return the appropriate easing *function*. */\r\n\t\t\t\t\t\t\t\t\t\teasing = Type.isString(tween.easing) ? Velocity.Easings[tween.easing] : tween.easing;\r\n\r\n\t\t\t\t\t\t\t\t/******************************\r\n\t\t\t\t\t\t\t\t Current Value Calculation\r\n\t\t\t\t\t\t\t\t ******************************/\r\n\r\n\t\t\t\t\t\t\t\tif (Type.isString(tween.pattern)) {\r\n\t\t\t\t\t\t\t\t\tvar patternReplace = percentComplete === 1 ?\r\n\t\t\t\t\t\t\t\t\t\t\tfunction($0, index, round) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar result = tween.endValue[index];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn round ? Math.round(result) : result;\r\n\t\t\t\t\t\t\t\t\t\t\t} :\r\n\t\t\t\t\t\t\t\t\t\t\tfunction($0, index, round) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar startValue = tween.startValue[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttweenDelta = tween.endValue[index] - startValue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult = startValue + (tweenDelta * easing(percentComplete, opts, tweenDelta));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn round ? Math.round(result) : result;\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcurrentValue = tween.pattern.replace(/{(\\d+)(!)?}/g, patternReplace);\r\n\t\t\t\t\t\t\t\t} else if (percentComplete === 1) {\r\n\t\t\t\t\t\t\t\t\t/* If this is the last tick pass (if we've reached 100% completion for this tween),\r\n\t\t\t\t\t\t\t\t\t ensure that currentValue is explicitly set to its target endValue so that it's not subjected to any rounding. */\r\n\t\t\t\t\t\t\t\t\tcurrentValue = tween.endValue;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t/* Otherwise, calculate currentValue based on the current delta from startValue. */\r\n\t\t\t\t\t\t\t\t\tvar tweenDelta = tween.endValue - tween.startValue;\r\n\r\n\t\t\t\t\t\t\t\t\tcurrentValue = tween.startValue + (tweenDelta * easing(percentComplete, opts, tweenDelta));\r\n\t\t\t\t\t\t\t\t\t/* If no value change is occurring, don't proceed with DOM updating. */\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!firstTick && (currentValue === tween.currentValue)) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ttween.currentValue = currentValue;\r\n\r\n\t\t\t\t\t\t\t\t/* If we're tweening a fake 'tween' property in order to log transition values, update the one-per-call variable so that\r\n\t\t\t\t\t\t\t\t it can be passed into the progress callback. */\r\n\t\t\t\t\t\t\t\tif (property === \"tween\") {\r\n\t\t\t\t\t\t\t\t\ttweenDummyValue = currentValue;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t/******************\r\n\t\t\t\t\t\t\t\t\t Hooks: Part I\r\n\t\t\t\t\t\t\t\t\t ******************/\r\n\t\t\t\t\t\t\t\t\tvar hookRoot;\r\n\r\n\t\t\t\t\t\t\t\t\t/* For hooked properties, the newly-updated rootPropertyValueCache is cached onto the element so that it can be used\r\n\t\t\t\t\t\t\t\t\t for subsequent hooks in this call that are associated with the same root property. If we didn't cache the updated\r\n\t\t\t\t\t\t\t\t\t rootPropertyValue, each subsequent update to the root property in this tick pass would reset the previous hook's\r\n\t\t\t\t\t\t\t\t\t updates to rootPropertyValue prior to injection. A nice performance byproduct of rootPropertyValue caching is that\r\n\t\t\t\t\t\t\t\t\t subsequently chained animations using the same hookRoot but a different hook can use this cached rootPropertyValue. */\r\n\t\t\t\t\t\t\t\t\tif (CSS.Hooks.registered[property]) {\r\n\t\t\t\t\t\t\t\t\t\thookRoot = CSS.Hooks.getRoot(property);\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar rootPropertyValueCache = Data(element).rootPropertyValueCache[hookRoot];\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (rootPropertyValueCache) {\r\n\t\t\t\t\t\t\t\t\t\t\ttween.rootPropertyValue = rootPropertyValueCache;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t/*****************\r\n\t\t\t\t\t\t\t\t\t DOM Update\r\n\t\t\t\t\t\t\t\t\t *****************/\r\n\r\n\t\t\t\t\t\t\t\t\t/* setPropertyValue() returns an array of the property name and property value post any normalization that may have been performed. */\r\n\t\t\t\t\t\t\t\t\t/* Note: To solve an IE<=8 positioning bug, the unit type is dropped when setting a property value of 0. */\r\n\t\t\t\t\t\t\t\t\tvar adjustedSetData = CSS.setPropertyValue(element, /* SET */\r\n\t\t\t\t\t\t\t\t\t\t\tproperty,\r\n\t\t\t\t\t\t\t\t\t\t\ttween.currentValue + (IE < 9 && parseFloat(currentValue) === 0 ? \"\" : tween.unitType),\r\n\t\t\t\t\t\t\t\t\t\t\ttween.rootPropertyValue,\r\n\t\t\t\t\t\t\t\t\t\t\ttween.scrollData);\r\n\r\n\t\t\t\t\t\t\t\t\t/*******************\r\n\t\t\t\t\t\t\t\t\t Hooks: Part II\r\n\t\t\t\t\t\t\t\t\t *******************/\r\n\r\n\t\t\t\t\t\t\t\t\t/* Now that we have the hook's updated rootPropertyValue (the post-processed value provided by adjustedSetData), cache it onto the element. */\r\n\t\t\t\t\t\t\t\t\tif (CSS.Hooks.registered[property]) {\r\n\t\t\t\t\t\t\t\t\t\t/* Since adjustedSetData contains normalized data ready for DOM updating, the rootPropertyValue needs to be re-extracted from its normalized form. ?? */\r\n\t\t\t\t\t\t\t\t\t\tif (CSS.Normalizations.registered[hookRoot]) {\r\n\t\t\t\t\t\t\t\t\t\t\tData(element).rootPropertyValueCache[hookRoot] = CSS.Normalizations.registered[hookRoot](\"extract\", null, adjustedSetData[1]);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tData(element).rootPropertyValueCache[hookRoot] = adjustedSetData[1];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t/***************\r\n\t\t\t\t\t\t\t\t\t Transforms\r\n\t\t\t\t\t\t\t\t\t ***************/\r\n\r\n\t\t\t\t\t\t\t\t\t/* Flag whether a transform property is being animated so that flushTransformCache() can be triggered once this tick pass is complete. */\r\n\t\t\t\t\t\t\t\t\tif (adjustedSetData[0] === \"transform\") {\r\n\t\t\t\t\t\t\t\t\t\ttransformPropertyExists = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/****************\r\n\t\t\t\t\t\t mobileHA\r\n\t\t\t\t\t\t ****************/\r\n\r\n\t\t\t\t\t\t/* If mobileHA is enabled, set the translate3d transform to null to force hardware acceleration.\r\n\t\t\t\t\t\t It's safe to override this property since Velocity doesn't actually support its animation (hooks are used in its place). */\r\n\t\t\t\t\t\tif (opts.mobileHA) {\r\n\t\t\t\t\t\t\t/* Don't set the null transform hack if we've already done so. */\r\n\t\t\t\t\t\t\tif (Data(element).transformCache.translate3d === undefined) {\r\n\t\t\t\t\t\t\t\t/* All entries on the transformCache object are later concatenated into a single transform string via flushTransformCache(). */\r\n\t\t\t\t\t\t\t\tData(element).transformCache.translate3d = \"(0px, 0px, 0px)\";\r\n\r\n\t\t\t\t\t\t\t\ttransformPropertyExists = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (transformPropertyExists) {\r\n\t\t\t\t\t\t\tCSS.flushTransformCache(element);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* The non-\"none\" display value is only applied to an element once -- when its associated call is first ticked through.\r\n\t\t\t\t\t Accordingly, it's set to false so that it isn't re-processed by this call in the next tick. */\r\n\t\t\t\t\tif (opts.display !== undefined && opts.display !== \"none\") {\r\n\t\t\t\t\t\tVelocity.State.calls[i][2].display = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (opts.visibility !== undefined && opts.visibility !== \"hidden\") {\r\n\t\t\t\t\t\tVelocity.State.calls[i][2].visibility = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Pass the elements and the timing data (percentComplete, msRemaining, timeStart, tweenDummyValue) into the progress callback. */\r\n\t\t\t\t\tif (opts.progress) {\r\n\t\t\t\t\t\topts.progress.call(callContainer[1],\r\n\t\t\t\t\t\t\t\tcallContainer[1],\r\n\t\t\t\t\t\t\t\tpercentComplete,\r\n\t\t\t\t\t\t\t\tMath.max(0, (timeStart + opts.duration) - timeCurrent),\r\n\t\t\t\t\t\t\t\ttimeStart,\r\n\t\t\t\t\t\t\t\ttweenDummyValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* If this call has finished tweening, pass its index to completeCall() to handle call cleanup. */\r\n\t\t\t\t\tif (percentComplete === 1) {\r\n\t\t\t\t\t\tcompleteCall(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* Note: completeCall() sets the isTicking flag to false when the last call on Velocity.State.calls has completed. */\r\n\t\t\tif (Velocity.State.isTicking) {\r\n\t\t\t\tticker(tick);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**********************\r\n\t\t Call Completion\r\n\t\t **********************/\r\n\r\n\t\t/* Note: Unlike tick(), which processes all active calls at once, call completion is handled on a per-call basis. */\r\n\t\tfunction completeCall(callIndex, isStopped) {\r\n\t\t\t/* Ensure the call exists. */\r\n\t\t\tif (!Velocity.State.calls[callIndex]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t/* Pull the metadata from the call. */\r\n\t\t\tvar call = Velocity.State.calls[callIndex][0],\r\n\t\t\t\t\telements = Velocity.State.calls[callIndex][1],\r\n\t\t\t\t\topts = Velocity.State.calls[callIndex][2],\r\n\t\t\t\t\tresolver = Velocity.State.calls[callIndex][4];\r\n\r\n\t\t\tvar remainingCallsExist = false;\r\n\r\n\t\t\t/*************************\r\n\t\t\t Element Finalization\r\n\t\t\t *************************/\r\n\r\n\t\t\tfor (var i = 0, callLength = call.length; i < callLength; i++) {\r\n\t\t\t\tvar element = call[i].element;\r\n\r\n\t\t\t\t/* If the user set display to \"none\" (intending to hide the element), set it now that the animation has completed. */\r\n\t\t\t\t/* Note: display:none isn't set when calls are manually stopped (via Velocity(\"stop\"). */\r\n\t\t\t\t/* Note: Display gets ignored with \"reverse\" calls and infinite loops, since this behavior would be undesirable. */\r\n\t\t\t\tif (!isStopped && !opts.loop) {\r\n\t\t\t\t\tif (opts.display === \"none\") {\r\n\t\t\t\t\t\tCSS.setPropertyValue(element, \"display\", opts.display);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (opts.visibility === \"hidden\") {\r\n\t\t\t\t\t\tCSS.setPropertyValue(element, \"visibility\", opts.visibility);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* If the element's queue is empty (if only the \"inprogress\" item is left at position 0) or if its queue is about to run\r\n\t\t\t\t a non-Velocity-initiated entry, turn off the isAnimating flag. A non-Velocity-initiatied queue entry's logic might alter\r\n\t\t\t\t an element's CSS values and thereby cause Velocity's cached value data to go stale. To detect if a queue entry was initiated by Velocity,\r\n\t\t\t\t we check for the existence of our special Velocity.queueEntryFlag declaration, which minifiers won't rename since the flag\r\n\t\t\t\t is assigned to jQuery's global $ object and thus exists out of Velocity's own scope. */\r\n\t\t\t\tvar data = Data(element);\r\n\r\n\t\t\t\tif (opts.loop !== true && ($.queue(element)[1] === undefined || !/\\.velocityQueueEntryFlag/i.test($.queue(element)[1]))) {\r\n\t\t\t\t\t/* The element may have been deleted. Ensure that its data cache still exists before acting on it. */\r\n\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\tdata.isAnimating = false;\r\n\t\t\t\t\t\t/* Clear the element's rootPropertyValueCache, which will become stale. */\r\n\t\t\t\t\t\tdata.rootPropertyValueCache = {};\r\n\r\n\t\t\t\t\t\tvar transformHAPropertyExists = false;\r\n\t\t\t\t\t\t/* If any 3D transform subproperty is at its default value (regardless of unit type), remove it. */\r\n\t\t\t\t\t\t$.each(CSS.Lists.transforms3D, function(i, transformName) {\r\n\t\t\t\t\t\t\tvar defaultValue = /^scale/.test(transformName) ? 1 : 0,\r\n\t\t\t\t\t\t\t\t\tcurrentValue = data.transformCache[transformName];\r\n\r\n\t\t\t\t\t\t\tif (data.transformCache[transformName] !== undefined && new RegExp(\"^\\\\(\" + defaultValue + \"[^.]\").test(currentValue)) {\r\n\t\t\t\t\t\t\t\ttransformHAPropertyExists = true;\r\n\r\n\t\t\t\t\t\t\t\tdelete data.transformCache[transformName];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/* Mobile devices have hardware acceleration removed at the end of the animation in order to avoid hogging the GPU's memory. */\r\n\t\t\t\t\t\tif (opts.mobileHA) {\r\n\t\t\t\t\t\t\ttransformHAPropertyExists = true;\r\n\t\t\t\t\t\t\tdelete data.transformCache.translate3d;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Flush the subproperty removals to the DOM. */\r\n\t\t\t\t\t\tif (transformHAPropertyExists) {\r\n\t\t\t\t\t\t\tCSS.flushTransformCache(element);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Remove the \"velocity-animating\" indicator class. */\r\n\t\t\t\t\t\tCSS.Values.removeClass(element, \"velocity-animating\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*********************\r\n\t\t\t\t Option: Complete\r\n\t\t\t\t *********************/\r\n\r\n\t\t\t\t/* Complete is fired once per call (not once per element) and is passed the full raw DOM element set as both its context and its first argument. */\r\n\t\t\t\t/* Note: Callbacks aren't fired when calls are manually stopped (via Velocity(\"stop\"). */\r\n\t\t\t\tif (!isStopped && opts.complete && !opts.loop && (i === callLength - 1)) {\r\n\t\t\t\t\t/* We throw callbacks in a setTimeout so that thrown errors don't halt the execution of Velocity itself. */\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\topts.complete.call(elements, elements);\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/**********************\r\n\t\t\t\t Promise Resolving\r\n\t\t\t\t **********************/\r\n\r\n\t\t\t\t/* Note: Infinite loops don't return promises. */\r\n\t\t\t\tif (resolver && opts.loop !== true) {\r\n\t\t\t\t\tresolver(elements);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/****************************\r\n\t\t\t\t Option: Loop (Infinite)\r\n\t\t\t\t ****************************/\r\n\r\n\t\t\t\tif (data && opts.loop === true && !isStopped) {\r\n\t\t\t\t\t/* If a rotateX/Y/Z property is being animated by 360 deg with loop:true, swap tween start/end values to enable\r\n\t\t\t\t\t continuous iterative rotation looping. (Otherise, the element would just rotate back and forth.) */\r\n\t\t\t\t\t$.each(data.tweensContainer, function(propertyName, tweenContainer) {\r\n\t\t\t\t\t\tif (/^rotate/.test(propertyName) && ((parseFloat(tweenContainer.startValue) - parseFloat(tweenContainer.endValue)) % 360 === 0)) {\r\n\t\t\t\t\t\t\tvar oldStartValue = tweenContainer.startValue;\r\n\r\n\t\t\t\t\t\t\ttweenContainer.startValue = tweenContainer.endValue;\r\n\t\t\t\t\t\t\ttweenContainer.endValue = oldStartValue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (/^backgroundPosition/.test(propertyName) && parseFloat(tweenContainer.endValue) === 100 && tweenContainer.unitType === \"%\") {\r\n\t\t\t\t\t\t\ttweenContainer.endValue = 0;\r\n\t\t\t\t\t\t\ttweenContainer.startValue = 100;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tVelocity(element, \"reverse\", {loop: true, delay: opts.delay});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/***************\r\n\t\t\t\t Dequeueing\r\n\t\t\t\t ***************/\r\n\r\n\t\t\t\t/* Fire the next call in the queue so long as this call's queue wasn't set to false (to trigger a parallel animation),\r\n\t\t\t\t which would have already caused the next call to fire. Note: Even if the end of the animation queue has been reached,\r\n\t\t\t\t $.dequeue() must still be called in order to completely clear jQuery's animation queue. */\r\n\t\t\t\tif (opts.queue !== false) {\r\n\t\t\t\t\t$.dequeue(element, opts.queue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/************************\r\n\t\t\t Calls Array Cleanup\r\n\t\t\t ************************/\r\n\r\n\t\t\t/* Since this call is complete, set it to false so that the rAF tick skips it. This array is later compacted via compactSparseArray().\r\n\t\t\t (For performance reasons, the call is set to false instead of being deleted from the array: http://www.html5rocks.com/en/tutorials/speed/v8/) */\r\n\t\t\tVelocity.State.calls[callIndex] = false;\r\n\r\n\t\t\t/* Iterate through the calls array to determine if this was the final in-progress animation.\r\n\t\t\t If so, set a flag to end ticking and clear the calls array. */\r\n\t\t\tfor (var j = 0, callsLength = Velocity.State.calls.length; j < callsLength; j++) {\r\n\t\t\t\tif (Velocity.State.calls[j] !== false) {\r\n\t\t\t\t\tremainingCallsExist = true;\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (remainingCallsExist === false) {\r\n\t\t\t\t/* tick() will detect this flag upon its next iteration and subsequently turn itself off. */\r\n\t\t\t\tVelocity.State.isTicking = false;\r\n\r\n\t\t\t\t/* Clear the calls array so that its length is reset. */\r\n\t\t\t\tdelete Velocity.State.calls;\r\n\t\t\t\tVelocity.State.calls = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/******************\r\n\t\t Frameworks\r\n\t\t ******************/\r\n\r\n\t\t/* Both jQuery and Zepto allow their $.fn object to be extended to allow wrapped elements to be subjected to plugin calls.\r\n\t\t If either framework is loaded, register a \"velocity\" extension pointing to Velocity's core animate() method.  Velocity\r\n\t\t also registers itself onto a global container (window.jQuery || window.Zepto || window) so that certain features are\r\n\t\t accessible beyond just a per-element scope. This master object contains an .animate() method, which is later assigned to $.fn\r\n\t\t (if jQuery or Zepto are present). Accordingly, Velocity can both act on wrapped DOM elements and stand alone for targeting raw DOM elements. */\r\n\t\tglobal.Velocity = Velocity;\r\n\r\n\t\tif (global !== window) {\r\n\t\t\t/* Assign the element function to Velocity's core animate() method. */\r\n\t\t\tglobal.fn.velocity = animate;\r\n\t\t\t/* Assign the object function's defaults to Velocity's global defaults object. */\r\n\t\t\tglobal.fn.velocity.defaults = Velocity.defaults;\r\n\t\t}\r\n\r\n\t\t/***********************\r\n\t\t Packaged Redirects\r\n\t\t ***********************/\r\n\r\n\t\t/* slideUp, slideDown */\r\n\t\t$.each([\"Down\", \"Up\"], function(i, direction) {\r\n\t\t\tVelocity.Redirects[\"slide\" + direction] = function(element, options, elementsIndex, elementsSize, elements, promiseData) {\r\n\t\t\t\tvar opts = $.extend({}, options),\r\n\t\t\t\t\t\tbegin = opts.begin,\r\n\t\t\t\t\t\tcomplete = opts.complete,\r\n\t\t\t\t\t\tinlineValues = {},\r\n\t\t\t\t\t\tcomputedValues = {height: \"\", marginTop: \"\", marginBottom: \"\", paddingTop: \"\", paddingBottom: \"\"};\r\n\r\n\t\t\t\tif (opts.display === undefined) {\r\n\t\t\t\t\t/* Show the element before slideDown begins and hide the element after slideUp completes. */\r\n\t\t\t\t\t/* Note: Inline elements cannot have dimensions animated, so they're reverted to inline-block. */\r\n\t\t\t\t\topts.display = (direction === \"Down\" ? (Velocity.CSS.Values.getDisplayType(element) === \"inline\" ? \"inline-block\" : \"block\") : \"none\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\topts.begin = function() {\r\n\t\t\t\t\t/* If the user passed in a begin callback, fire it now. */\r\n\t\t\t\t\tif (elementsIndex === 0 && begin) {\r\n\t\t\t\t\t\tbegin.call(elements, elements);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Cache the elements' original vertical dimensional property values so that we can animate back to them. */\r\n\t\t\t\t\tfor (var property in computedValues) {\r\n\t\t\t\t\t\tif (!computedValues.hasOwnProperty(property)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinlineValues[property] = element.style[property];\r\n\r\n\t\t\t\t\t\t/* For slideDown, use forcefeeding to animate all vertical properties from 0. For slideUp,\r\n\t\t\t\t\t\t use forcefeeding to start from computed values and animate down to 0. */\r\n\t\t\t\t\t\tvar propertyValue = CSS.getPropertyValue(element, property);\r\n\t\t\t\t\t\tcomputedValues[property] = (direction === \"Down\") ? [propertyValue, 0] : [0, propertyValue];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* Force vertical overflow content to clip so that sliding works as expected. */\r\n\t\t\t\t\tinlineValues.overflow = element.style.overflow;\r\n\t\t\t\t\telement.style.overflow = \"hidden\";\r\n\t\t\t\t};\r\n\r\n\t\t\t\topts.complete = function() {\r\n\t\t\t\t\t/* Reset element to its pre-slide inline values once its slide animation is complete. */\r\n\t\t\t\t\tfor (var property in inlineValues) {\r\n\t\t\t\t\t\tif (inlineValues.hasOwnProperty(property)) {\r\n\t\t\t\t\t\t\telement.style[property] = inlineValues[property];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* If the user passed in a complete callback, fire it now. */\r\n\t\t\t\t\tif (elementsIndex === elementsSize - 1) {\r\n\t\t\t\t\t\tif (complete) {\r\n\t\t\t\t\t\t\tcomplete.call(elements, elements);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (promiseData) {\r\n\t\t\t\t\t\t\tpromiseData.resolver(elements);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tVelocity(element, computedValues, opts);\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t/* fadeIn, fadeOut */\r\n\t\t$.each([\"In\", \"Out\"], function(i, direction) {\r\n\t\t\tVelocity.Redirects[\"fade\" + direction] = function(element, options, elementsIndex, elementsSize, elements, promiseData) {\r\n\t\t\t\tvar opts = $.extend({}, options),\r\n\t\t\t\t\t\tcomplete = opts.complete,\r\n\t\t\t\t\t\tpropertiesMap = {opacity: (direction === \"In\") ? 1 : 0};\r\n\r\n\t\t\t\t/* Since redirects are triggered individually for each element in the animated set, avoid repeatedly triggering\r\n\t\t\t\t callbacks by firing them only when the final element has been reached. */\r\n\t\t\t\tif (elementsIndex !== 0) {\r\n\t\t\t\t\topts.begin = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (elementsIndex !== elementsSize - 1) {\r\n\t\t\t\t\topts.complete = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\topts.complete = function() {\r\n\t\t\t\t\t\tif (complete) {\r\n\t\t\t\t\t\t\tcomplete.call(elements, elements);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (promiseData) {\r\n\t\t\t\t\t\t\tpromiseData.resolver(elements);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* If a display was passed in, use it. Otherwise, default to \"none\" for fadeOut or the element-specific default for fadeIn. */\r\n\t\t\t\t/* Note: We allow users to pass in \"null\" to skip display setting altogether. */\r\n\t\t\t\tif (opts.display === undefined) {\r\n\t\t\t\t\topts.display = (direction === \"In\" ? \"auto\" : \"none\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tVelocity(this, propertiesMap, opts);\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn Velocity;\r\n\t}((window.jQuery || window.Zepto || window), window, (window ? window.document : undefined));\r\n}));\r\n\r\n/******************\r\n Known Issues\r\n ******************/\r\n\r\n/* The CSS spec mandates that the translateX/Y/Z transforms are %-relative to the element itself -- not its parent.\r\n Velocity, however, doesn't make this distinction. Thus, converting to or from the % unit with these subproperties\r\n will produce an inaccurate conversion value. The same issue exists with the cx/cy attributes of SVG circles and ellipses. */\r\n","var upperCase = require('upper-case')\n\n/**\n * Upper case the first character of a string.\n *\n * @param  {String} str\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  if (str == null) {\n    return ''\n  }\n\n  str = String(str)\n\n  return upperCase(str.charAt(0), locale) + str.substr(1)\n}\n","module.exports = /([A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AD\\uA7B0-\\uA7B4\\uA7B6\\uFF21-\\uFF3A])([A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AD\\uA7B0-\\uA7B4\\uA7B6\\uFF21-\\uFF3A][a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0529\\u052B\\u052D\\u052F\\u0561-\\u0587\\u13F8-\\u13FD\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6\\u1FC7\\u1FD0-\\u1FD3\\u1FD6\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6\\u1FF7\\u210A\\u210E\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA699\\uA69B\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793-\\uA795\\uA797\\uA799\\uA79B\\uA79D\\uA79F\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7B5\\uA7B7\\uA7FA\\uAB30-\\uAB5A\\uAB60-\\uAB65\\uAB70-\\uABBF\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A])/g\n","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { formatVariableName } from './formatVariableName';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Formats object keys as a CSS variable (prefixed with `--`)\n * @param {Object} variables\n * @param {String} prefix an optional prefix to add to the variable names\n * @returns {Object} variables object with the keys formatted as CSS variables\n */\n\nfunction formatVariableNames(variables, prefix) {\n  var formatted = {};\n  Object.keys(variables || {}).forEach(function (key) {\n    formatted[formatVariableName(key, prefix)] = variables[key];\n  });\n  return formatted;\n}\n\nexport default formatVariableNames;\nexport { formatVariableNames };","var moment = require('moment');\nvar momentValidationWrapper = require('./moment-validation-wrapper');\nvar core = require('./core');\n\nmodule.exports = {\n\n  momentObj : core.createMomentChecker(\n    'object',\n    function(obj) {\n      return typeof obj === 'object';\n    },\n    function isValid(value) {\n      return momentValidationWrapper.isValidMoment(value);\n    },\n    'Moment'\n  ),\n\n  momentString : core.createMomentChecker(\n    'string',\n    function(str) {\n      return typeof str === 'string';\n    },\n    function isValid(value) {\n      return momentValidationWrapper.isValidMoment(moment(value));\n    },\n    'Moment'\n  ),\n\n  momentDurationObj : core.createMomentChecker(\n    'object',\n    function(obj) {\n      return typeof obj === 'object';\n    },\n    function isValid(value) {\n      return moment.isDuration(value);\n    },\n    'Duration'\n  ),\n\n};\n","exports.no = exports.noCase = require('no-case')\nexports.dot = exports.dotCase = require('dot-case')\nexports.swap = exports.swapCase = require('swap-case')\nexports.path = exports.pathCase = require('path-case')\nexports.upper = exports.upperCase = require('upper-case')\nexports.lower = exports.lowerCase = require('lower-case')\nexports.camel = exports.camelCase = require('camel-case')\nexports.snake = exports.snakeCase = require('snake-case')\nexports.title = exports.titleCase = require('title-case')\nexports.param = exports.paramCase = require('param-case')\nexports.kebab = exports.kebabCase = exports.paramCase\nexports.hyphen = exports.hyphenCase = exports.paramCase\nexports.header = exports.headerCase = require('header-case')\nexports.pascal = exports.pascalCase = require('pascal-case')\nexports.constant = exports.constantCase = require('constant-case')\nexports.sentence = exports.sentenceCase = require('sentence-case')\nexports.isUpper = exports.isUpperCase = require('is-upper-case')\nexports.isLower = exports.isLowerCase = require('is-lower-case')\nexports.ucFirst = exports.upperCaseFirst = require('upper-case-first')\nexports.lcFirst = exports.lowerCaseFirst = require('lower-case-first')\n","export default (function (value) {\n  return value === null;\n});","import invariant from 'invariant';\nimport isFunction from './utils/isFunction';\nimport identity from './utils/identity';\nimport isNull from './utils/isNull';\nexport default function createAction(type, payloadCreator, metaCreator) {\n  if (payloadCreator === void 0) {\n    payloadCreator = identity;\n  }\n\n  invariant(isFunction(payloadCreator) || isNull(payloadCreator), 'Expected payloadCreator to be a function, undefined or null');\n  var finalPayloadCreator = isNull(payloadCreator) || payloadCreator === identity ? identity : function (head) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return head instanceof Error ? head : payloadCreator.apply(void 0, [head].concat(args));\n  };\n  var hasMeta = isFunction(metaCreator);\n  var typeString = type.toString();\n\n  var actionCreator = function actionCreator() {\n    var payload = finalPayloadCreator.apply(void 0, arguments);\n    var action = {\n      type: type\n    };\n\n    if (payload instanceof Error) {\n      action.error = true;\n    }\n\n    if (payload !== undefined) {\n      action.payload = payload;\n    }\n\n    if (hasMeta) {\n      action.meta = metaCreator.apply(void 0, arguments);\n    }\n\n    return action;\n  };\n\n  actionCreator.toString = function () {\n    return typeString;\n  };\n\n  return actionCreator;\n}","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFSA = isFSA;\nexports.isError = isError;\n\nvar _lodash = require(\"lodash\");\n\nfunction isFSA(action) {\n  return (0, _lodash.isPlainObject)(action) && (0, _lodash.isString)(action.type) && Object.keys(action).every(isValidKey);\n}\n\nfunction isError(action) {\n  return isFSA(action) && action.error === true;\n}\n\nfunction isValidKey(key) {\n  return ['type', 'payload', 'error', 'meta'].indexOf(key) > -1;\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n//  based on: https://github.com/ai/nanoid/blob/master/non-secure.js\nvar dictionary = 'getRandomVcryp0123456789bfhijklqsuvwxzABCDEFGHIJKLMNOPQSTUWXYZ';\nvar dictionaryLengthMinus1 = dictionary.length - 1;\n/**\n * ---\n * category: utilities\n * ---\n * Generate a unique (CSS-safe) id string\n *\n * @module uid\n * @param {String} prefix a string to prefix the id for debugging in non-production env\n * @param {Number} length id length (in characters, minus the prefix)\n * @returns {String} a unique id\n */\n\nfunction uid() {\n  var prefix = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n  var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = \"u\".concat(_uid('', length - 1));\n\n  if (prefix && process.env.NODE_ENV !== 'production') {\n    return \"\".concat(prefix, \"__\").concat(id);\n  } else {\n    return id;\n  }\n}\n\nfunction _random(size) {\n  var result = [];\n\n  while (0 < size--) {\n    /* eslint-disable-line no-param-reassign */\n    result.push(Math.floor(Math.random() * 256));\n  }\n\n  return result;\n}\n\nfunction _uid(_ignored) {\n  var idLength = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 12;\n  var id = '';\n\n  var bytes = _random(idLength);\n\n  while (0 < idLength--) {\n    /* eslint-disable-line no-param-reassign */\n    id += dictionary[bytes[idLength] & dictionaryLengthMinus1];\n  }\n\n  return id;\n}\n\nexport default uid;\nexport { uid };","import { DEFAULT_NAMESPACE, ACTION_TYPE_DELIMITER } from '../constants';\nimport ownKeys from './ownKeys';\nimport get from './get';\nexport default (function (predicate) {\n  return function flatten(map, _temp, partialFlatMap, partialFlatActionType) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$namespace = _ref.namespace,\n        namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n        prefix = _ref.prefix;\n\n    if (partialFlatMap === void 0) {\n      partialFlatMap = {};\n    }\n\n    if (partialFlatActionType === void 0) {\n      partialFlatActionType = '';\n    }\n\n    function connectNamespace(type) {\n      var _ref2;\n\n      if (!partialFlatActionType) return type;\n      var types = type.toString().split(ACTION_TYPE_DELIMITER);\n      var partials = partialFlatActionType.split(ACTION_TYPE_DELIMITER);\n      return (_ref2 = []).concat.apply(_ref2, partials.map(function (p) {\n        return types.map(function (t) {\n          return \"\" + p + namespace + t;\n        });\n      })).join(ACTION_TYPE_DELIMITER);\n    }\n\n    function connectPrefix(type) {\n      if (partialFlatActionType || !prefix || prefix && new RegExp(\"^\" + prefix + namespace).test(type)) {\n        return type;\n      }\n\n      return \"\" + prefix + namespace + type;\n    }\n\n    ownKeys(map).forEach(function (type) {\n      var nextNamespace = connectPrefix(connectNamespace(type));\n      var mapValue = get(type, map);\n\n      if (predicate(mapValue)) {\n        flatten(mapValue, {\n          namespace: namespace,\n          prefix: prefix\n        }, partialFlatMap, nextNamespace);\n      } else {\n        partialFlatMap[nextNamespace] = mapValue;\n      }\n    });\n    return partialFlatMap;\n  };\n});","var moment = require('moment');\n\nfunction isValidMoment(testMoment) {\n  if (typeof moment.isMoment === 'function' && !moment.isMoment(testMoment)) {\n    return false;\n  }\n\n  /* istanbul ignore else  */\n  if (typeof testMoment.isValid === 'function') {\n    // moment 1.7.0+\n    return testMoment.isValid();\n  }\n\n  /* istanbul ignore next */\n  return !isNaN(testMoment);\n}\n\nmodule.exports = {\n  isValidMoment : isValidMoment,\n};\n","var lowerCase = require('lower-case')\n\n/**\n * Lower case the first character of a string.\n *\n * @param  {String} str\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  if (str == null) {\n    return ''\n  }\n\n  str = String(str)\n\n  return lowerCase(str.charAt(0), locale) + str.substr(1)\n}\n","export default (function () {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var initialState = typeof args[args.length - 1] !== 'function' && args.pop();\n  var reducers = args;\n\n  if (typeof initialState === 'undefined') {\n    throw new TypeError('The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.');\n  }\n\n  return function (prevState, value) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    var prevStateIsUndefined = typeof prevState === 'undefined';\n    var valueIsUndefined = typeof value === 'undefined';\n\n    if (prevStateIsUndefined && valueIsUndefined && initialState) {\n      return initialState;\n    }\n\n    return reducers.reduce(function (newState, reducer) {\n      return reducer.apply(undefined, [newState, value].concat(args));\n    }, prevStateIsUndefined && !valueIsUndefined && initialState ? initialState : prevState);\n  };\n});","import isPlainObject from './isPlainObject';\nimport isMap from './isMap';\nimport hasGeneratorInterface from './hasGeneratorInterface';\nimport flattenWhenNode from './flattenWhenNode';\nexport default flattenWhenNode(function (node) {\n  return (isPlainObject(node) || isMap(node)) && !hasGeneratorInterface(node);\n});","import ownKeys from './ownKeys';\nexport default function hasGeneratorInterface(handler) {\n  var keys = ownKeys(handler);\n  var hasOnlyInterfaceNames = keys.every(function (ownKey) {\n    return ownKey === 'next' || ownKey === 'throw';\n  });\n  return keys.length && keys.length <= 2 && hasOnlyInterfaceNames;\n}","import reduceReducers from 'reduce-reducers';\nimport invariant from 'invariant';\nimport isPlainObject from './utils/isPlainObject';\nimport isMap from './utils/isMap';\nimport ownKeys from './utils/ownKeys';\nimport flattenReducerMap from './utils/flattenReducerMap';\nimport handleAction from './handleAction';\nimport get from './utils/get';\nexport default function handleActions(handlers, defaultState, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  invariant(isPlainObject(handlers) || isMap(handlers), 'Expected handlers to be a plain object.');\n  var flattenedReducerMap = flattenReducerMap(handlers, options);\n  var reducers = ownKeys(flattenedReducerMap).map(function (type) {\n    return handleAction(type, get(type, flattenedReducerMap), defaultState);\n  });\n  var reducer = reduceReducers.apply(void 0, reducers.concat([defaultState]));\n  return function (state, action) {\n    if (state === void 0) {\n      state = defaultState;\n    }\n\n    return reducer(state, action);\n  };\n}","import isMap from './isMap';\nexport default function ownKeys(object) {\n  if (isMap(object)) {\n    // We are using loose transforms in babel. Here we are trying to convert an\n    // interable to an array. Loose mode expects everything to already be an\n    // array. The problem is that our eslint rules encourage us to prefer\n    // spread over Array.from.\n    //\n    // Instead of disabling loose mode we simply disable the warning.\n    // eslint-disable-next-line unicorn/prefer-spread\n    return Array.from(object.keys());\n  }\n\n  if (typeof Reflect !== 'undefined' && typeof Reflect.ownKeys === 'function') {\n    return Reflect.ownKeys(object);\n  }\n\n  var keys = Object.getOwnPropertyNames(object);\n\n  if (typeof Object.getOwnPropertySymbols === 'function') {\n    keys = keys.concat(Object.getOwnPropertySymbols(object));\n  }\n\n  return keys;\n}","var upperCase = require('upper-case')\nvar noCase = require('no-case')\n\n/**\n * Camel case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale, mergeNumbers) {\n  var result = noCase(value, locale)\n\n  // Replace periods between numeric entities with an underscore.\n  if (!mergeNumbers) {\n    result = result.replace(/ (?=\\d)/g, '_')\n  }\n\n  // Replace spaces between words with an upper cased character.\n  return result.replace(/ (.)/g, function (m, $1) {\n    return upperCase($1, locale)\n  })\n}\n","var upperCase = require('upper-case')\n\n/**\n * Check if a string is upper case.\n *\n * @param  {String}  string\n * @param  {String}  [locale]\n * @return {Boolean}\n */\nmodule.exports = function (string, locale) {\n  return upperCase(string, locale) === string\n}\n","var noCase = require('no-case')\n\n/**\n * Dot case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale, '.')\n}\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { parseCss, ruleTypes } from './parseCss';\n\nfunction transformCss(cssText, transform) {\n  var node = parseCss(cssText);\n\n  if (typeof transform === 'function') {\n    node = transformNode(node, transform);\n  }\n\n  return toCssText(node);\n}\n\nfunction isKeyframesSelector(rule) {\n  return rule.parent && rule.parent.type === ruleTypes.keyframes;\n}\n\nfunction toRules(cssText) {\n  var node = parseCss(cssText);\n  var rules = [];\n\n  if (node.rules && node.rules.length > 0) {\n    rules = node.rules.map(function (rule) {\n      return toCssText(rule);\n    });\n  } else {\n    var _cssText = toCssText(node);\n\n    if (_cssText) {\n      rules = [_cssText];\n    }\n  }\n\n  return rules;\n}\n\nfunction transformNode(node, transform) {\n  if (!node) {\n    return;\n  }\n\n  if (node.type === ruleTypes.style) {\n    return transform(node);\n  }\n\n  var rules = node.rules || [];\n\n  var transformed = _objectSpread({}, node);\n\n  transformed.rules = rules.map(function (rule) {\n    return transformNode(rule, transform);\n  });\n  return transformed;\n}\n\nfunction toCssText(node, text) {\n  var cssText = '';\n  var result = text || '';\n\n  if (node.rules && node.rules.length > 0) {\n    cssText = node.rules.map(function (rule) {\n      return toCssText(rule, cssText);\n    }).join('\\n');\n  } else {\n    cssText = node.cssText.trim();\n\n    if (cssText) {\n      cssText = \"  \".concat(cssText, \"\\n\");\n    }\n  }\n\n  if (cssText) {\n    var prefix = node.selector ? \"\".concat(node.selector, \" {\\n\") : '';\n    var suffix = node.selector ? '}\\n' : '';\n    result += \"\".concat(prefix).concat(cssText).concat(suffix);\n  }\n\n  return result;\n}\n\nexport default transformCss;\nexport { transformCss, toRules, isKeyframesSelector };","var messages = {\n  invalidPredicate: '`predicate` must be a function',\n  invalidPropValidator: '`propValidator` must be a function',\n  requiredCore: 'is marked as required',\n  invalidTypeCore: 'Invalid input type',\n  predicateFailureCore: 'Failed to succeed with predicate',\n  anonymousMessage: '<<anonymous>>',\n  baseInvalidMessage: 'Invalid ',\n};\n\nfunction constructPropValidatorVariations(propValidator) {\n  if (typeof propValidator !== 'function') {\n    throw new Error(messages.invalidPropValidator);\n  }\n\n  var requiredPropValidator = propValidator.bind(null, false, null);\n  requiredPropValidator.isRequired = propValidator.bind(null, true, null);\n\n  requiredPropValidator.withPredicate = function predicateApplication(predicate) {\n    if (typeof predicate !== 'function') {\n      throw new Error(messages.invalidPredicate);\n    }\n    var basePropValidator = propValidator.bind(null, false, predicate);\n    basePropValidator.isRequired = propValidator.bind(null, true, predicate);\n    return basePropValidator;\n  };\n\n  return requiredPropValidator;\n}\n\nfunction createInvalidRequiredErrorMessage(propName, componentName, value) {\n  return new Error(\n    'The prop `' + propName + '` ' + messages.requiredCore +\n    ' in `' + componentName + '`, but its value is `' + value + '`.'\n  );\n}\n\nvar independentGuardianValue = -1;\n\nfunction preValidationRequireCheck(isRequired, componentName, propFullName, propValue) {\n  var isPropValueUndefined = typeof propValue === 'undefined';\n  var isPropValueNull = propValue === null;\n\n  if (isRequired) {\n    if (isPropValueUndefined) {\n      return createInvalidRequiredErrorMessage(propFullName, componentName, 'undefined');\n    } else if (isPropValueNull) {\n      return createInvalidRequiredErrorMessage(propFullName, componentName, 'null');\n    }\n  }\n\n  if (isPropValueUndefined || isPropValueNull) {\n    return null;\n  }\n\n  return independentGuardianValue;\n}\n\nfunction createMomentChecker(type, typeValidator, validator, momentType) {\n\n  function propValidator(\n    isRequired, // Bound parameter to indicate with the propType is required\n    predicate, // Bound parameter to allow user to add dynamic validation\n    props,\n    propName,\n    componentName,\n    location,\n    propFullName\n  ) {\n    var propValue = props[ propName ];\n    var propType = typeof propValue;\n\n    componentName = componentName || messages.anonymousMessage;\n    propFullName = propFullName || propName;\n\n    var preValidationRequireCheckValue = preValidationRequireCheck(\n      isRequired, componentName, propFullName, propValue\n    );\n\n    if (preValidationRequireCheckValue !== independentGuardianValue) {\n      return preValidationRequireCheckValue;\n    }\n\n    if (typeValidator && !typeValidator(propValue)) {\n      return new Error(\n        messages.invalidTypeCore + ': `' + propName + '` of type `' + propType + '` ' +\n        'supplied to `' + componentName + '`, expected `' + type + '`.'\n      );\n    }\n\n    if (!validator(propValue)) {\n      return new Error(\n        messages.baseInvalidMessage + location + ' `' + propName + '` of type `' + propType + '` ' +\n        'supplied to `' + componentName + '`, expected `' + momentType + '`.'\n      );\n    }\n\n    if (predicate && !predicate(propValue)) {\n      var predicateName = predicate.name || messages.anonymousMessage;\n      return new Error(\n        messages.baseInvalidMessage + location + ' `' + propName + '` of type `' + propType + '` ' +\n        'supplied to `' + componentName + '`. ' + messages.predicateFailureCore + ' `' +\n        predicateName + '`.'\n      );\n    }\n\n    return null;\n\n  }\n\n  return constructPropValidatorVariations(propValidator);\n\n}\n\nmodule.exports = {\n  constructPropValidatorVariations: constructPropValidatorVariations,\n  createMomentChecker: createMomentChecker,\n  messages: messages,\n};\n","/**\n * Special language-specific overrides.\n *\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n *\n * @type {Object}\n */\nvar LANGUAGES = {\n  tr: {\n    regexp: /[\\u0069]/g,\n    map: {\n      '\\u0069': '\\u0130'\n    }\n  },\n  az: {\n    regexp: /[\\u0069]/g,\n    map: {\n      '\\u0069': '\\u0130'\n    }\n  },\n  lt: {\n    regexp: /[\\u0069\\u006A\\u012F]\\u0307|\\u0069\\u0307[\\u0300\\u0301\\u0303]/g,\n    map: {\n      '\\u0069\\u0307': '\\u0049',\n      '\\u006A\\u0307': '\\u004A',\n      '\\u012F\\u0307': '\\u012E',\n      '\\u0069\\u0307\\u0300': '\\u00CC',\n      '\\u0069\\u0307\\u0301': '\\u00CD',\n      '\\u0069\\u0307\\u0303': '\\u0128'\n    }\n  }\n}\n\n/**\n * Upper case a string.\n *\n * @param  {String} str\n * @return {String}\n */\nmodule.exports = function (str, locale) {\n  var lang = LANGUAGES[locale]\n\n  str = str == null ? '' : String(str)\n\n  if (lang) {\n    str = str.replace(lang.regexp, function (m) { return lang.map[m] })\n  }\n\n  return str.toUpperCase()\n}\n","var noCase = require('no-case')\n\n/**\n * Snake case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale, '_')\n}\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوى المستخدم\\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Περιεχόμενο Χρήστη\\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\"محتوای کاربر\\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Käyttäjän sisältö\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\"תוכן משתמש\\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizatè\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasználói tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"ユーザーコンテンツ\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawartość użytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Conteúdo do Usuário\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент пользователя\\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Användarinnehåll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanıcı İçeriği\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Контент користувача\\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"用户内容\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"使用者內容\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n","var noCase = require('no-case')\nvar upperCaseFirst = require('upper-case-first')\n\n/**\n * Sentence case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return upperCaseFirst(noCase(value, locale), locale)\n}\n","var noCase = require('no-case')\nvar upperCase = require('upper-case')\n\n/**\n * Header case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale, '-').replace(/^.|-./g, function (m) {\n    return upperCase(m, locale)\n  })\n}\n","var noCase = require('no-case')\n\n/**\n * Param case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale, '-')\n}\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport { createChainedFunction } from '@instructure/ui-utils';\n/**\n* ---\n* category: utilities/react\n* ---\n* Clone a React element without overwriting refs.\n* @module safeCloneElement\n* @param {ReactElement} element\n* @param {object} props\n* @return {ReactElement}\n*/\n\nfunction safeCloneElement(element, props) {\n  var cloneRef = props.ref;\n  var originalRef = element.ref;\n  var originalRefIsAFunction = typeof originalRef === 'function';\n\n  var mergedProps = _objectSpread({}, props);\n\n  if (element.props.style && props.style) {\n    // merge with existing styles\n    mergedProps.style = _objectSpread({}, element.props.style, {}, props.style);\n  } // prevent overriding existing keys\n\n\n  mergedProps.key = element.key || props.key; // Add chained function to preserve existing event handlers\n\n  Object.keys(props).forEach(function (prop) {\n    // If prop looks like an event handler \"on*\" and either\n    // props[props] or element.props[prop] is a function create a chained function.\n    // If only one is a function it will just use that function with no extra overhead.\n    // This is necessary in cases where props[prop] is `null` or `undefined` which would\n    // otherwise unwantedly override element.props[prop].\n    if (prop.indexOf('on') === 0 && (typeof props[prop] === 'function' || typeof element.props[prop] === 'function')) {\n      mergedProps[prop] = createChainedFunction(element.props[prop], props[prop]);\n    }\n  });\n\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  if (originalRef == null || cloneRef == null) {\n    return React.cloneElement.apply(React, [element, mergedProps].concat(children));\n  }\n\n  /*#__PURE__*/\n\n  /*#__PURE__*/\n  _warn(originalRefIsAFunction, \"Cloning an element with a ref that will be overwritten because the ref is not a function. Use a composable callback-style ref instead. Ignoring ref: \".concat(originalRef));\n\n  return React.cloneElement.apply(React, [element, _objectSpread({}, mergedProps, {\n    ref: function ref(component) {\n      cloneRef(component);\n      originalRef(component);\n    }\n  })].concat(children));\n}\n\nexport default safeCloneElement;\nexport { safeCloneElement };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children } from 'react';\nimport { safeCloneElement } from './safeCloneElement';\n/**\n * ---\n * category: utilities/react\n * ---\n *\n * Ensure a single child. If it is a child of length 1, return a\n * cloned instance of the child. If it is a child of length > 1,\n * wrap in a span and return the child. Return null if child has\n * no length.\n *\n * @param {ReactElement} child\n * @param {Object} props - props for child\n * @returns {ReactElement} cloned instance for a single child, or children wrapped in a span\n */\n\nfunction ensureSingleChild(child) {\n  var props = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var childCount = Children.count(child);\n\n  if (childCount === 0) {\n    return null;\n  } else if (typeof child === 'string' && child.length > 0 || childCount > 1) {\n    return React.createElement(\"span\", props, child);\n  } else {\n    return safeCloneElement(Array.isArray(child) ? child[0] : child, props);\n  }\n}\n\nexport default ensureSingleChild;\nexport { ensureSingleChild };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * @module ThemeContext\n */\nimport PropTypes from 'prop-types';\nvar CONTEXT_KEY = '@@themeable';\nvar ThemeContext = {\n  CONTEXT_KEY: CONTEXT_KEY,\n\n  /**\n   * React context types for [themeable](#themeable) components and\n   * the [ApplyTheme](#ApplyTheme) component.\n   */\n  types: _defineProperty({}, CONTEXT_KEY, PropTypes.object),\n\n  /**\n   * create theme context\n   * @param {Object} theme an object containing [themeable](#themeable) component themes\n   * @param {Boolean} immutable prevent theme overrides?\n   */\n  makeThemeContext: function makeThemeContext(theme, immutable) {\n    return _defineProperty({}, CONTEXT_KEY, {\n      theme: theme,\n      immutable: immutable\n    });\n  },\n\n  /**\n   * get a theme context\n   * @param {ReactContext} context React context object\n   */\n  getThemeContext: function getThemeContext(context) {\n    if (context) {\n      return context[CONTEXT_KEY];\n    }\n  }\n};\nexport default ThemeContext;\nexport { ThemeContext };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { mergeDeep } from '@instructure/ui-utils';\nimport { ensureSingleChild } from '@instructure/ui-react-utils';\nimport { ThemeContext } from '../ThemeContext';\nimport { themeable } from '../themeable';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar ApplyTheme =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ApplyTheme, _Component);\n\n  function ApplyTheme() {\n    _classCallCheck(this, ApplyTheme);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ApplyTheme).apply(this, arguments));\n  }\n\n  _createClass(ApplyTheme, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var theme = this.props.theme || {};\n      var parentThemeContext = ThemeContext.getThemeContext(this.context) || {};\n\n      if (parentThemeContext.immutable && parentThemeContext.theme) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warn(!this.props.theme, '[ApplyTheme] Parent theme is immutable. Cannot apply theme: %O', this.props.theme);\n\n        theme = parentThemeContext.theme;\n      } else if (parentThemeContext.theme) {\n        theme = mergeDeep(parentThemeContext.theme, theme);\n      }\n\n      return ThemeContext.makeThemeContext(theme, parentThemeContext.immutable || this.props.immutable);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return ensureSingleChild(this.props.children);\n    }\n  }]);\n\n  ApplyTheme.displayName = \"ApplyTheme\";\n  return ApplyTheme;\n}(Component);\n\nApplyTheme.propTypes = {\n  /**\n  * set theme variables to override the defaults\n  */\n  theme: PropTypes.object,\n\n  /**\n  * accepts only one child (children must be wrapped in a single component/element)\n  */\n  children: PropTypes.node,\n\n  /**\n  * Prevent overriding this theme via a child ApplyTheme component or theme props\n  */\n  immutable: PropTypes.bool\n};\nApplyTheme.defaultProps = {\n  theme: void 0,\n  children: null,\n  immutable: false\n};\nApplyTheme.childContextTypes = ThemeContext.types;\nApplyTheme.contextTypes = ThemeContext.types;\nApplyTheme.generateTheme = themeable.generateTheme;\nexport default ApplyTheme;\nexport { ApplyTheme };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar ThemeablePropValues = {\n  SHADOW_TYPES: {\n    resting: 'resting',\n    above: 'above',\n    topmost: 'topmost',\n    none: 'none'\n  },\n  STACKING_TYPES: {\n    deepest: 'deepest',\n    below: 'below',\n    resting: 'resting',\n    above: 'above',\n    topmost: 'topmost'\n  },\n  BORDER_WIDTHS: {\n    '0': '0',\n    none: 'none',\n    small: 'small',\n    medium: 'medium',\n    large: 'large'\n  },\n  BORDER_RADII: {\n    '0': '0',\n    none: 'none',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    circle: 'circle',\n    pill: 'pill'\n  },\n  BACKGROUNDS: {\n    default: 'default',\n    inverse: 'inverse',\n    transparent: 'transparent'\n  },\n  SIZES: {\n    xSmall: 'x-small',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    xLarge: 'x-large'\n  },\n  SPACING: {\n    '0': '0',\n    none: 'none',\n    auto: 'auto',\n    xxxSmall: 'xxx-small',\n    xxSmall: 'xx-small',\n    xSmall: 'x-small',\n    small: 'small',\n    medium: 'medium',\n    large: 'large',\n    xLarge: 'x-large',\n    xxLarge: 'xx-large'\n  }\n};\nexport default ThemeablePropValues;\nexport { ThemeablePropValues };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { isEmpty } from '@instructure/ui-utils';\nimport { scopeStylesToNode } from './scopeStylesToNode';\nimport { formatVariableNames } from './formatVariableNames';\nimport { pickOverrides } from './pickOverrides';\nimport { customPropertiesSupported } from './customPropertiesSupported';\nimport { getCssTextWithPolyfill } from './getCssText';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Apply theme variables to a DOM node (as CSS variables, with polyfill)\n * @module applyVariablesToNode\n * @param {Element} domNode HTML element to apply variables to using the style attribute\n * @param {Object} variables JS variables\n * @param {Object} defaults Default JS variables\n * @param {String} prefix A variable prefix/namespace\n * @param {Function} template (for IE) A template function that returns the CSS as a string with variables injected\n * @param {String} scope (for IE) A scope to apply to the styles applied to domNode\n */\n\nfunction applyVariablesToNode() {\n  if (customPropertiesSupported()) {\n    applyVariablesToNodeStyle.apply(this, arguments);\n  } else {\n    applyVariablesPolyfillToNode.apply(this, arguments);\n  }\n}\n\nfunction applyVariablesPolyfillToNode(domNode, variables, defaults, prefix, template, scope) {\n  if (!domNode || isEmpty(variables)) {\n    return;\n  }\n\n  var overrides = pickOverrides(defaults, variables);\n  var cssText = '';\n\n  if (overrides && Object.keys(overrides).length > 0) {\n    cssText = getCssTextWithPolyfill(template, _objectSpread({}, defaults, {}, variables));\n  }\n\n  scopeStylesToNode(domNode, cssText, scope);\n}\n\nfunction applyVariablesToNodeStyle(domNode, variables, defaults, prefix) {\n  if (!domNode || isEmpty(variables)) {\n    return;\n  }\n\n  clearCustomProperties(domNode, prefix);\n  var overrides = pickOverrides(defaults, variables);\n\n  if (overrides && !isEmpty(overrides)) {\n    setCustomProperties(domNode, formatVariableNames(overrides, prefix));\n  }\n}\n\nfunction clearCustomProperties(domNode, prefix) {\n  var styles = domNode.style;\n\n  for (var i = styles.length - 1; i >= 0; i--) {\n    var prop = styles[i];\n\n    if (prop.indexOf(\"--\".concat(prefix, \"-\")) >= 0) {\n      domNode.style.removeProperty(prop);\n    }\n  }\n}\n\nfunction setCustomProperties(domNode, properties) {\n  Object.keys(properties).forEach(function (propertyName) {\n    var value = properties[propertyName];\n\n    if (value) {\n      domNode.style.setProperty(propertyName, value);\n    }\n  });\n}\n\nexport default applyVariablesToNode;\nexport { applyVariablesToNode, applyVariablesPolyfillToNode, applyVariablesToNodeStyle };","import { error as _error } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { isEmpty, camelize } from '@instructure/ui-utils';\n\nfunction getShorthandPropValue(componentName, componentTheme, propValue, propName) {\n  if (typeof propValue !== 'string' || isEmpty(componentTheme)) {\n    return;\n  }\n\n  return propValue.split(' ').map(function (shortHandValue) {\n    if (shortHandValue === 'auto' || shortHandValue === '0') {\n      return shortHandValue;\n    }\n\n    if (shortHandValue === 'none') {\n      return '0';\n    }\n\n    if (shortHandValue === 'circle') {\n      return '100%';\n    }\n\n    if (shortHandValue === 'pill') {\n      return '999em';\n    }\n\n    var themeVariableName = camelize(\"\".concat(propName, \"-\").concat(shortHandValue));\n    var themeVariableValue = componentTheme[themeVariableName];\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(themeVariableValue, \"[\".concat(componentName, \"] '\").concat(themeVariableName, \"' is an invalid '\").concat(propName, \"' value.\"));\n\n    return themeVariableValue || '0';\n  }).join(' ').trim();\n}\n\nexport default getShorthandPropValue;\nexport { getShorthandPropValue };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { camelize } from '@instructure/ui-utils';\n/**\n * ---\n * category: utilities/themes\n * ---\n * Given a prefix and a theme object, prepends the object keys with\n * the designated prefix and camel cases the concatenation.\n *\n * @param {String} prefix - a string to prepend to object keys\n * @param {Object} vars - an object\n * @returns {Object} a modified object with prefixed keys\n */\n\nfunction makeThemeVars(prefix, vars) {\n  var themeVars = {};\n  Object.keys(vars).forEach(function (variable) {\n    themeVars[camelize(\"\".concat(prefix, \"-\").concat(variable))] = vars[variable];\n  });\n  return themeVars;\n}\n\nexport default makeThemeVars;\nexport { makeThemeVars };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/themes\n * ---\n * @module mirrorShorthand\n */\n\n/**\n * Mirror shorthand CSS properties for bidirectional text\n *\n * Given a string representing a CSS shorthand for edges,\n * swaps the values such that 4 value syntax is RTL instead\n * of LTR.\n *\n * See the following for further reference:\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties\n *\n * @param {String} values - space delimited string values representing a CSS shorthand\n * @returns {String} a space delimited CSS shorthand string converted to RTL\n */\nfunction mirrorShorthandEdges(values) {\n  if (typeof values !== 'string') {\n    return;\n  }\n\n  var valuesArr = values.split(' ');\n\n  if (valuesArr.length === 4) {\n    // swap the 2nd and 4th values\n    var _ref = [valuesArr[3], valuesArr[1]];\n    valuesArr[1] = _ref[0];\n    valuesArr[3] = _ref[1];\n  }\n\n  return valuesArr.join(' ');\n}\n/**\n * Convert shorthand CSS properties for corners to rtl\n *\n * Given a string representing a CSS shorthand for corners,\n * swaps the values such that 2,3 and 4 value syntax is rtl\n * instead of ltr.\n *\n * See the following for further reference:\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties\n *\n * @param {String} values - space delimited string values representing a CSS shorthand\n * @returns {String} a space delimited CSS shorthand string converted to RTL\n */\n\n\nfunction mirrorShorthandCorners(values) {\n  if (typeof values !== 'string') {\n    return;\n  }\n\n  var valuesArr = values.split(' ');\n\n  if (valuesArr.length === 2) {\n    // swap the 1st and 2nd values\n    var _ref2 = [valuesArr[1], valuesArr[0]];\n    valuesArr[0] = _ref2[0];\n    valuesArr[1] = _ref2[1];\n  }\n\n  if (valuesArr.length === 3) {\n    // convert 3 value syntax to 4 value syntax\n    valuesArr.push(valuesArr[1]);\n  }\n\n  if (valuesArr.length === 4) {\n    var _ref3 = [valuesArr[1], valuesArr[0], valuesArr[3], valuesArr[2]];\n    valuesArr[0] = _ref3[0];\n    valuesArr[1] = _ref3[1];\n    valuesArr[2] = _ref3[2];\n    valuesArr[3] = _ref3[3];\n  }\n\n  return valuesArr.join(' ');\n}\n\nexport { mirrorShorthandEdges, mirrorShorthandCorners };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { mirrorShorthandCorners } from './mirrorShorthand';\nexport default mirrorShorthandCorners;\nexport { mirrorShorthandCorners };","import { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM } from '@instructure/ui-dom-utils';\nvar hasRan = false;\n/**\n* ---\n* category: utilities/themes\n* ---\n* Sets the document text direction as it's required for themeable component\n* bidirectional styles.\n*/\n\nfunction setTextDirection() {\n  if (hasRan) return;\n  hasRan = true;\n\n  if (canUseDOM) {\n    var dir = document.documentElement.getAttribute('dir');\n\n    if (!dir) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warn(dir, \"[themeable] component styles require setting a 'dir' attribute on the HTML element.\\n        To prevent breaking changes, we'll set it to a default value: 'ltr'.\");\n\n      document.documentElement.setAttribute('dir', 'ltr');\n    }\n  }\n}\n\nexport default setTextDirection;\nexport { setTextDirection };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\nimport { ThemeablePropValues } from './ThemeablePropValues';\nvar SHADOW_TYPES = ThemeablePropValues.SHADOW_TYPES,\n    STACKING_TYPES = ThemeablePropValues.STACKING_TYPES,\n    BORDER_WIDTHS = ThemeablePropValues.BORDER_WIDTHS,\n    BORDER_RADII = ThemeablePropValues.BORDER_RADII,\n    BACKGROUNDS = ThemeablePropValues.BACKGROUNDS,\n    SIZES = ThemeablePropValues.SIZES,\n    SPACING = ThemeablePropValues.SPACING;\n/**\n * ---\n * category: utilities/themes\n * ---\n * Custom prop types for themeable React components.\n * @module ThemeablePropTypes\n */\n\nvar ThemeablePropTypes = {\n  shadow: PropTypes.oneOf(Object.values(SHADOW_TYPES)),\n  stacking: PropTypes.oneOf(Object.values(STACKING_TYPES)),\n  borderWidth: shorthandPropType(Object.values(BORDER_WIDTHS)),\n  borderRadius: shorthandPropType(Object.values(BORDER_RADII)),\n  background: PropTypes.oneOf(Object.values(BACKGROUNDS)),\n  size: PropTypes.oneOf(Object.values(SIZES)),\n  spacing: shorthandPropType(Object.values(SPACING))\n};\n\nfunction shorthandPropType(validValues) {\n  return function (props, propName, componentName, location) {\n    var propValue = props[propName];\n\n    if (typeof propValue === 'undefined') {\n      return;\n    }\n\n    var propValueType = typeof propValue;\n\n    if (propValueType !== 'string') {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` of type `\").concat(propValueType, \"` supplied to `\").concat(componentName, \"`, expected \") + \"a string.\");\n    }\n\n    var propValues = propValue.split(' ');\n    var valuesLength = propValues.length;\n\n    if (valuesLength > 0 && valuesLength < 5) {\n      for (var i = 0; i < valuesLength; i++) {\n        var valueIndex = validValues.indexOf(propValues[i]);\n\n        if (valueIndex === -1) {\n          return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` `\").concat(propValues[i], \"` supplied to `\").concat(componentName, \"`, expected \") + \"a one of `\".concat(validValues.join(', '), \"`.\"));\n        }\n      }\n    } else {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` `\").concat(propValue, \"` supplied to `\").concat(componentName, \"`, expected \") + \"between one and four of the following valid values: `\".concat(validValues.join(', '), \"`.\"));\n    }\n  };\n}\n\nexport default ThemeablePropTypes;\nexport { ThemeablePropTypes, shorthandPropType };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { cleanCss } from './parseCss';\nexport default cleanCss;\nexport { cleanCss };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { ruleTypes } from './parseCss';\nexport default ruleTypes;\nexport { ruleTypes };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { warnDeprecated as _warnDeprecated } from \"@instructure/console\";\nexport var createThemeAdapter = function createThemeAdapter() {\n  var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref$map = _ref.map,\n      map = _ref$map === void 0 ? {} : _ref$map,\n      version = _ref.version,\n      _ref$shouldIncludeOld = _ref.shouldIncludeOldValues,\n      shouldIncludeOldValues = _ref$shouldIncludeOld === void 0 ? false : _ref$shouldIncludeOld;\n\n  return function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n        _ref2$theme = _ref2.theme,\n        theme = _ref2$theme === void 0 ? {} : _ref2$theme,\n        displayName = _ref2.displayName;\n\n    return Object.entries(theme).reduce(function (result, _ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (map[key]) {\n        if (Array.isArray(map[key])) {\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _warnDeprecated(false, \"[\".concat(displayName, \"] The theme variable `\").concat(key, \"` has been split into the following values `\").concat(map[key].join(', '), \"`.\").concat(version ? \" In version \".concat(version, \", `\").concat(key, \"` will no longer work as an override. Override each value individually instead.\") : ''));\n        } else {\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _warnDeprecated(false, \"[\".concat(displayName, \"] The theme variable `\").concat(key, \"` has been changed to `\").concat(map[key], \"`.\").concat(version ? \" In version \".concat(version, \", `\").concat(key, \"` will no longer work as an override. Use `\").concat(map[key], \"` instead.\") : ''));\n        }\n\n        var updatedThemeVars = {};\n\n        if (Array.isArray(map[key])) {\n          updatedThemeVars = map[key].reduce(function (result, updatedVar) {\n            return _objectSpread({}, result, _defineProperty({}, updatedVar, value));\n          }, {});\n        } else {\n          updatedThemeVars = _defineProperty({}, map[key], value);\n        }\n\n        return shouldIncludeOldValues ? _objectSpread({}, result, {}, updatedThemeVars, _defineProperty({}, key, value)) : _objectSpread({}, result, {}, updatedThemeVars);\n      }\n\n      return _objectSpread({}, result, _defineProperty({}, key, value));\n    }, {});\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities\n * ---\n * Wraps (decorates) a React component to add additional functionality\n *\n * @module decorator\n * @param {Function} decorator a function that returns a decorated component\n * @returns {Class} a decorated component class\n */\nfunction decorator(decorate) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return function (ComposedComponent) {\n      if (typeof decorate === 'function') {\n        var displayName = ComposedComponent.displayName || ComposedComponent.name;\n        var DecoratedComponent = decorate.apply(void 0, [ComposedComponent].concat(args));\n        DecoratedComponent.displayName = displayName;\n        return DecoratedComponent;\n      } else {\n        return ComposedComponent;\n      }\n    };\n  };\n}\n\nexport default decorator;\nexport { decorator };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2018 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { canUseDOM, getComputedStyle } from '@instructure/ui-dom-utils';\nvar defaultDir, dirAttribute, observer;\n\nvar getDefaultDir = function getDefaultDir() {\n  /**\n   * use a cached value for the default of <html> element's \"dir\" so we don't\n   * have to call the expensive getComputedStyle to look it it up every time\n   */\n  if (defaultDir) {\n    return defaultDir;\n  }\n\n  if (canUseDOM) {\n    var htmlEl = document.documentElement;\n    dirAttribute = htmlEl.getAttribute('dir');\n    defaultDir = dirAttribute || getComputedStyle(htmlEl).direction;\n\n    if (!observer) {\n      observer = new MutationObserver(function () {\n        var attr = htmlEl.getAttribute('dir');\n\n        if (attr && attr !== dirAttribute) {\n          dirAttribute = defaultDir = attr;\n        }\n      });\n      observer.observe(htmlEl, {\n        attributes: true\n      });\n    }\n\n    return defaultDir;\n  }\n};\n/**\n * ---\n * category: utilities/i18n\n * ---\n *\n * Return the direction ('ltr' or 'rtl') of an element\n * @param {Element} element will use the <html> element by default\n * @returns {String} 'ltr' or 'rtl' (or `undefined` if no DOM is present)\n */\n\n\nfunction getTextDirection(element) {\n  if (canUseDOM) {\n    if (typeof element === 'undefined' || element === document.documentElement) return getDefaultDir();\n    return element.getAttribute('dir') || getComputedStyle(element).direction;\n  }\n}\n\nexport default getTextDirection;\nexport { getTextDirection };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\n/**\n * ---\n * category: utilities/i18n\n * ---\n * @module TextDirectionContext\n */\n\nvar CONTEXT_KEY = '@@bidirectional';\nvar DIRECTION = {\n  ltr: 'ltr',\n  rtl: 'rtl'\n};\nvar TextDirectionContext = {\n  CONTEXT_KEY: CONTEXT_KEY,\n  DIRECTION: DIRECTION,\n\n  /**\n   * React context types for [bidirectional](#bidirectional) components and\n   * the [ApplyTextDirection](#ApplyTextDirection) component.\n   */\n  types: _defineProperty({}, CONTEXT_KEY, PropTypes.shape({\n    dir: PropTypes.oneOf(Object.values(DIRECTION))\n  })),\n\n  /**\n   * create direction context\n   * @param {string} dir\n   */\n  makeTextDirectionContext: function makeTextDirectionContext(dir) {\n    return _defineProperty({}, CONTEXT_KEY, {\n      dir: dir\n    });\n  },\n\n  /**\n   * get a direction context from a context object\n   * @param {ReactContext} context React context object\n   * @returns {Object} a direction context object\n   */\n  getTextDirectionContext: function getTextDirectionContext(context) {\n    if (context) {\n      return context[CONTEXT_KEY];\n    }\n  }\n};\nexport default TextDirectionContext;\nexport { TextDirectionContext };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\nimport { decorator } from '@instructure/ui-decorator';\nimport { TextDirectionContext } from './TextDirectionContext';\nimport { getTextDirection } from './getTextDirection';\nvar DIRECTION = TextDirectionContext.DIRECTION,\n    getTextDirectionContext = TextDirectionContext.getTextDirectionContext;\n/**\n* ---\n* category: utilities/i18n\n* ---\n* A decorator or higher order component that makes a component `bidirectional`.\n*\n* As a HOC:\n*\n* ```js\n* import { bidirectional } from '@instructure/ui-i18n'\n*\n* class Example extends React.Component {\n*   render () {\n*     return this.dir === bidirectional.DIRECTION.rtl ? <div>rtl</div> : <div>ltr</div>\n*   }\n* }\n*\n* export default bidirectional()(Example)\n* ```\n*\n* When used as a child of [ApplyTextDirection](#ApplyTextDirection), bidirectional components use\n* the direction provided in the context. When used without [ApplyTextDirection](#ApplyTextDirection),\n* the direction can be supplied explicitly via the `dir` prop. If no `dir` prop is provided,\n* bidirectional components query the documentElement for the `dir` attribute, defaulting to `ltr`\n* if it is not present.\n*\n* @return {function} composes the bidirectional component.\n*/\n\nvar bidirectional = decorator(function (ComposedComponent) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_ComposedComponent) {\n    _inherits(BidirectionalComponent, _ComposedComponent);\n\n    function BidirectionalComponent() {\n      _classCallCheck(this, BidirectionalComponent);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(BidirectionalComponent).apply(this, arguments));\n    }\n\n    _createClass(BidirectionalComponent, [{\n      key: \"dir\",\n      get: function get() {\n        var context = getTextDirectionContext(this.context) || {};\n        return context.dir || this.props.dir || getTextDirection();\n      }\n    }, {\n      key: \"rtl\",\n      get: function get() {\n        return this.dir === DIRECTION.rtl;\n      }\n    }, {\n      key: \"ltr\",\n      get: function get() {\n        return this.dir === DIRECTION.ltr;\n      }\n    }]);\n\n    return BidirectionalComponent;\n  }(ComposedComponent), _class.propTypes = _objectSpread({}, ComposedComponent.propTypes, {\n    dir: PropTypes.oneOf(Object.values(TextDirectionContext.DIRECTION))\n  }), _class.contextTypes = _objectSpread({}, ComposedComponent.contextTypes, {}, TextDirectionContext.types), _temp;\n});\nbidirectional.DIRECTION = DIRECTION;\nexport default bidirectional;\nexport { bidirectional };","import { warn as _warn } from \"@instructure/console\";\n\nfunction getElementType(Component, props, getDefault) {\n  if (props.as && props.as !== Component.defaultProps.as) {\n    return props.as;\n  }\n\n  if (typeof getDefault === 'function') {\n    return getDefault();\n  }\n\n  if (props.href) {\n    return 'a';\n  }\n\n  if (props.to) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn( // if to prop is used without as\n    !props.as, \"[\".concat(Component.displayName, \"] `as` prop should be provided when using `to`\"));\n\n    return 'a';\n  }\n\n  if (typeof props.onClick === 'function') {\n    return 'button';\n  }\n\n  return Component.defaultProps.as || 'span';\n}\n\nexport default getElementType;\nexport { getElementType };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable, getShorthandPropValue, ThemeablePropTypes, mirrorShorthandEdges, mirrorShorthandCorners } from '@instructure/ui-themeable';\nimport { getComputedStyle } from '@instructure/ui-dom-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { cursor as cursorPropTypes } from '@instructure/ui-prop-types';\nimport { getElementType, omitProps, pickProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'MYpOQ',\n  template: function template(theme) {\n    return \"\\n\\n.MYpOQ_bGBk{box-sizing:border-box;font-family:\".concat(theme.fontFamily || 'inherit', \";max-width:100%}\\n\\n.MYpOQ_UeJS{display:block}\\n\\n.MYpOQ_cuDs{display:inline-block;vertical-align:middle}\\n\\n.MYpOQ_desw{display:flex}\\n\\n.MYpOQ_cKQL{display:inline-flex;vertical-align:middle}\\n\\n.MYpOQ_EMjX{text-align:start}\\n\\n[dir=ltr] .MYpOQ_EMjX{text-align:left}\\n\\n[dir=rtl] .MYpOQ_EMjX{text-align:right}\\n\\n.MYpOQ_ImeN,[dir=ltr] .MYpOQ_ImeN,[dir=rtl] .MYpOQ_ImeN{text-align:center}\\n\\n.MYpOQ_dBtH{text-align:end}\\n\\n[dir=ltr] .MYpOQ_dBtH{text-align:right}\\n\\n[dir=rtl] .MYpOQ_dBtH{text-align:left}\\n\\n.MYpOQ_bQna{outline:0.0625rem dashed \").concat(theme.debugOutlineColor || 'inherit', \"}\\n\\n.MYpOQ_cMwr{border-style:\").concat(theme.borderStyle || 'inherit', \"}\\n\\n.MYpOQ_dsNY{border-color:\").concat(theme.borderColorDefault || 'inherit', \"}\\n\\n.MYpOQ_eiMX{border-color:\").concat(theme.borderColorInverse || 'inherit', \"}\\n\\n.MYpOQ_cLjf{border-color:\").concat(theme.borderColorBrand || 'inherit', \"}\\n\\n.MYpOQ_cXDj{border-color:\").concat(theme.borderColorInfo || 'inherit', \"}\\n\\n.MYpOQ_fjbA{border-color:\").concat(theme.borderColorSuccess || 'inherit', \"}\\n\\n.MYpOQ_fBpf{border-color:\").concat(theme.borderColorWarning || 'inherit', \"}\\n\\n.MYpOQ_bMrG{border-color:\").concat(theme.borderColorAlert || 'inherit', \"}\\n\\n.MYpOQ_fdvn{border-color:\").concat(theme.borderColorDanger || 'inherit', \"}\\n\\n.MYpOQ_fZwI{background:\").concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.MYpOQ_fzxW{background:\").concat(theme.backgroundInverse || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_dUgE{background:\").concat(theme.backgroundLight || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.MYpOQ_NGNZ{background:\").concat(theme.backgroundBrand || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_feZy{background:\").concat(theme.backgroundAlert || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_fYBY{background:\").concat(theme.backgroundInfo || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_qidh{background:\").concat(theme.backgroundSuccess || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_fKOP{background:\").concat(theme.backgroundDanger || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_eOYc{background:\").concat(theme.backgroundWarning || 'inherit', \";color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.MYpOQ_fQrx{z-index:\").concat(theme.stackingTopmost || 'inherit', \"}\\n\\n.MYpOQ_dtZX{z-index:\").concat(theme.stackingAbove || 'inherit', \"}\\n\\n.MYpOQ_fCiV{z-index:\").concat(theme.stackingBelow || 'inherit', \"}\\n\\n.MYpOQ_dJEE{z-index:\").concat(theme.stackingDeepest || 'inherit', \"}\\n\\n.MYpOQ_fxuY{box-shadow:\").concat(theme.shadowTopmost || 'inherit', \"}\\n\\n.MYpOQ_bxuL{box-shadow:\").concat(theme.shadowResting || 'inherit', \"}\\n\\n.MYpOQ_bIta{box-shadow:\").concat(theme.shadowAbove || 'inherit', \"}\\n\\n.MYpOQ_fhgP{overflow-x:hidden}\\n\\n.MYpOQ_dzYG{overflow-x:auto}\\n\\n.MYpOQ_divt{overflow-y:hidden}\\n\\n.MYpOQ_fKlg{overflow-y:auto}\\n\\n.MYpOQ_cBHs{position:relative}\\n\\n.MYpOQ_cBHs:before{border-color:\").concat(theme.focusOutlineColorDefault || 'inherit', \";border-style:\").concat(theme.focusOutlineStyle || 'inherit', \";border-width:\").concat(theme.focusOutlineWidth || 'inherit', \";content:\\\"\\\";opacity:0;pointer-events:none;position:absolute}\\n\\n.MYpOQ_cBHs.MYpOQ_cnfU:before{transform:scale(0.95);transition:all 0.2s}\\n\\n.MYpOQ_cBHs.MYpOQ_cBtr:before{bottom:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);left:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);right:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);top:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1)}\\n\\n.MYpOQ_cBHs.MYpOQ_bFwB:before{bottom:\").concat(theme.focusOutlineInset || 'inherit', \";left:\").concat(theme.focusOutlineInset || 'inherit', \";right:\").concat(theme.focusOutlineInset || 'inherit', \";top:\").concat(theme.focusOutlineInset || 'inherit', \"}\\n\\n.MYpOQ_cBHs.MYpOQ_beQo:before{border-radius:inherit}\\n\\n.MYpOQ_cBHs.MYpOQ_bnCe:before{border-radius:0}\\n\\n.MYpOQ_cBHs.MYpOQ_cBtr.MYpOQ_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_cBtr.MYpOQ_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_cBtr.MYpOQ_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_bFwB.MYpOQ_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_bFwB.MYpOQ_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_bFwB.MYpOQ_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.MYpOQ_cBHs.MYpOQ_cVYB{outline:none}\\n\\n.MYpOQ_cBHs.MYpOQ_cVYB:before{opacity:1;transform:scale(1)}\\n\\n.MYpOQ_cBHs.MYpOQ_fuTR:before{border-color:\").concat(theme.focusColorInfo || 'inherit', \"}\\n\\n.MYpOQ_cBHs.MYpOQ_dwHj:before{border-color:\").concat(theme.focusColorInverse || 'inherit', \"}\\n\\n.MYpOQ_cBHs.MYpOQ_NhxI:before{border-color:\").concat(theme.focusColorSuccess || 'inherit', \"}\\n\\n.MYpOQ_cBHs.MYpOQ_fsVi:before{border-color:\").concat(theme.focusColorDanger || 'inherit', \"}\\n\\n.MYpOQ_cSap{position:fixed}\\n\\n.MYpOQ_fuLp{position:absolute}\\n\\n.MYpOQ_bZzT{position:-webkit-sticky;position:sticky}\");\n  },\n  'root': 'MYpOQ_bGBk',\n  'display--block': 'MYpOQ_UeJS',\n  'display--inline-block': 'MYpOQ_cuDs',\n  'display--flex': 'MYpOQ_desw',\n  'display--inline-flex': 'MYpOQ_cKQL',\n  'textAlign--start': 'MYpOQ_EMjX',\n  'textAlign--center': 'MYpOQ_ImeN',\n  'textAlign--end': 'MYpOQ_dBtH',\n  'debug': 'MYpOQ_bQna',\n  'hasBorder': 'MYpOQ_cMwr',\n  'borderColor--default': 'MYpOQ_dsNY',\n  'borderColor--inverse': 'MYpOQ_eiMX',\n  'borderColor--brand': 'MYpOQ_cLjf',\n  'borderColor--info': 'MYpOQ_cXDj',\n  'borderColor--success': 'MYpOQ_fjbA',\n  'borderColor--warning': 'MYpOQ_fBpf',\n  'borderColor--alert': 'MYpOQ_bMrG',\n  'borderColor--danger': 'MYpOQ_fdvn',\n  'background--default': 'MYpOQ_fZwI',\n  'background--inverse': 'MYpOQ_fzxW',\n  'background--light': 'MYpOQ_dUgE',\n  'background--brand': 'MYpOQ_NGNZ',\n  'background--alert': 'MYpOQ_feZy',\n  'background--info': 'MYpOQ_fYBY',\n  'background--success': 'MYpOQ_qidh',\n  'background--danger': 'MYpOQ_fKOP',\n  'background--warning': 'MYpOQ_eOYc',\n  'stacking--topmost': 'MYpOQ_fQrx',\n  'stacking--above': 'MYpOQ_dtZX',\n  'stacking--below': 'MYpOQ_fCiV',\n  'stacking--deepest': 'MYpOQ_dJEE',\n  'shadow--topmost': 'MYpOQ_fxuY',\n  'shadow--resting': 'MYpOQ_bxuL',\n  'shadow--above': 'MYpOQ_bIta',\n  'overflowX--hidden': 'MYpOQ_fhgP',\n  'overflowX--auto': 'MYpOQ_dzYG',\n  'overflowY--hidden': 'MYpOQ_divt',\n  'overflowY--auto': 'MYpOQ_fKlg',\n  'position--relative': 'MYpOQ_cBHs',\n  'focusAnimation': 'MYpOQ_cnfU',\n  'focusPosition--offset': 'MYpOQ_cBtr',\n  'focusPosition--inset': 'MYpOQ_bFwB',\n  'focusRing--radiusInherit': 'MYpOQ_beQo',\n  'focusRing--radiusNone': 'MYpOQ_bnCe',\n  'focusRing--radiusSmall': 'MYpOQ_cmRt',\n  'focusRing--radiusMedium': 'MYpOQ_eeJl',\n  'focusRing--radiusLarge': 'MYpOQ_TYCL',\n  'focused': 'MYpOQ_cVYB',\n  'focusColor--info': 'MYpOQ_fuTR',\n  'focusColor--inverse': 'MYpOQ_dwHj',\n  'focusColor--success': 'MYpOQ_NhxI',\n  'focusColor--danger': 'MYpOQ_fsVi',\n  'position--fixed': 'MYpOQ_cSap',\n  'position--absolute': 'MYpOQ_fuLp',\n  'position--sticky': 'MYpOQ_bZzT'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedView\n---\n**/\n\nvar View = (_dec = bidirectional(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(View, _Component);\n\n  function View() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, View);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(View)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      if (typeof _this.props.elementRef === 'function') {\n        _this.props.elementRef(el);\n      }\n\n      _this._element = el;\n    };\n\n    _this.verifyUniformValues = function (value, input) {\n      if (typeof input !== \"string\") return false;\n      return input.trim().split(\" \").every(function (inputValue) {\n        return inputValue === value;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Not calling getComputedStyle can save hundreds of ms in tests and production\n      if (process.env.NODE_ENV === 'development') {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(!\n        /*#__PURE__*/\n        function verifySpanMargin(element, margin) {\n          if (!element) {\n            return;\n          }\n\n          var marginValues = margin ? margin.split(' ') : null;\n          var display = getComputedStyle(element).display;\n          var verticalMargin = false; // either top or bottom margin are set\n\n          if (margin) {\n            if (marginValues[0] && marginValues[0] !== 'none' && marginValues[0] !== '0') {\n              verticalMargin = true;\n            }\n\n            if (marginValues[2] && marginValues[2] !== 'none' && marginValues[2] !== '0') {\n              verticalMargin = true;\n            }\n          }\n\n          return verticalMargin && display === 'inline';\n        }(this._element, this.props.margin), \"[View] display style is set to 'inline' and will allow for horizontal margins only.\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref, _objectSpread2;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          textAlign = _this$props.textAlign,\n          background = _this$props.background,\n          display = _this$props.display,\n          debug = _this$props.debug,\n          width = _this$props.width,\n          height = _this$props.height,\n          minWidth = _this$props.minWidth,\n          minHeight = _this$props.minHeight,\n          maxWidth = _this$props.maxWidth,\n          maxHeight = _this$props.maxHeight,\n          overflowX = _this$props.overflowX,\n          overflowY = _this$props.overflowY,\n          stacking = _this$props.stacking,\n          shadow = _this$props.shadow,\n          position = _this$props.position,\n          focusPosition = _this$props.focusPosition,\n          focusColor = _this$props.focusColor,\n          shouldAnimateFocus = _this$props.shouldAnimateFocus,\n          borderColor = _this$props.borderColor,\n          size = _this$props.size,\n          className = _this$props.className;\n      var ElementType = getElementType(View, this.props);\n      var focusOutlineClasses = position === 'relative' ? (_ref = {}, _defineProperty(_ref, styles[this.focusRingRadius], true), _defineProperty(_ref, styles[\"focusPosition--\".concat(focusPosition)], true), _defineProperty(_ref, styles[\"focusColor--\".concat(focusColor)], true), _defineProperty(_ref, styles[\"focusAnimation\"], shouldAnimateFocus), _ref) : {};\n      var classes = classnames(_objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, styles.root, true), _defineProperty(_objectSpread2, styles.debug, debug), _defineProperty(_objectSpread2, styles.hasBorder, this.hasBorder), _defineProperty(_objectSpread2, styles[\"borderColor--\".concat(borderColor)], this.hasBorder && borderColor !== 'inverse'), _defineProperty(_objectSpread2, styles['borderColor--inverse'], this.hasBorder && background === 'inverse'), _defineProperty(_objectSpread2, styles[\"textAlign--\".concat(textAlign)], textAlign), _defineProperty(_objectSpread2, styles[\"background--\".concat(background)], background), _defineProperty(_objectSpread2, styles[\"display--\".concat(display)], display && display !== 'auto'), _defineProperty(_objectSpread2, styles[\"overflowX--\".concat(overflowX)], overflowX && overflowX !== 'visible'), _defineProperty(_objectSpread2, styles[\"overflowY--\".concat(overflowY)], overflowY && overflowY !== 'visible'), _defineProperty(_objectSpread2, styles[\"size--\".concat(size)], size && size !== 'auto'), _defineProperty(_objectSpread2, styles[\"stacking--\".concat(stacking)], stacking), _defineProperty(_objectSpread2, styles[\"shadow--\".concat(shadow)], shadow && shadow !== 'none'), _defineProperty(_objectSpread2, styles[\"position--\".concat(position)], position !== 'static'), _defineProperty(_objectSpread2, styles.focused, this.isFocused), _objectSpread2), focusOutlineClasses, _defineProperty({}, className, className)));\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, View.propTypes), {\n        className: classes,\n        style: _objectSpread({}, this.spacingStyle, {}, this.borderStyle, {}, this.offsetStyle, {\n          width: width,\n          height: height,\n          minWidth: minWidth,\n          minHeight: minHeight,\n          maxWidth: maxWidth,\n          maxHeight: maxHeight\n        }, this.styleProps),\n        ref: this.handleElementRef\n      }), children);\n    }\n  }, {\n    key: \"isFocused\",\n    get: function get() {\n      var _this$props2 = this.props,\n          focused = _this$props2.focused,\n          position = _this$props2.position;\n\n      if (focused) {\n        if (position === 'relative') {\n          return true;\n        } else {\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _error(position === 'relative', '[View] the focus ring will only display if the `position` prop is `relative`.');\n\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"focusRingRadius\",\n    get: function get() {\n      var borderRadius = this.props.borderRadius;\n\n      if (this.verifyUniformValues('circle', borderRadius) || this.verifyUniformValues('pill', borderRadius)) {\n        // if pill or circle, ok for focus ring to inherit parent radius\n        return 'focusRing--radiusInherit';\n      } else if (this.verifyUniformValues('small', borderRadius)) {\n        return 'focusRing--radiusSmall';\n      } else if (this.verifyUniformValues('medium', borderRadius)) {\n        return 'focusRing--radiusMedium';\n      } else if (this.verifyUniformValues('large', borderRadius)) {\n        return 'focusRing--radiusLarge';\n      } else {\n        // for shapes with irregular borders (e.g., `large medium`), leave focus ring square\n        return 'focusRing--radiusNone';\n      }\n    }\n  }, {\n    key: \"hasBorder\",\n    get: function get() {\n      var borderWidth = this.props.borderWidth;\n      return borderWidth && borderWidth !== '0' && borderWidth !== 'none';\n    }\n  }, {\n    key: \"borderStyle\",\n    get: function get() {\n      var _this$props3 = this.props,\n          borderRadius = _this$props3.borderRadius,\n          borderWidth = _this$props3.borderWidth;\n\n      if (this.dir === bidirectional.DIRECTION.rtl) {\n        borderRadius = mirrorShorthandCorners(borderRadius);\n        borderWidth = mirrorShorthandEdges(borderWidth);\n      }\n\n      return {\n        borderRadius: getShorthandPropValue('View', this.theme, borderRadius, 'borderRadius'),\n        borderWidth: getShorthandPropValue('View', this.theme, borderWidth, 'borderWidth')\n      };\n    }\n  }, {\n    key: \"spacingStyle\",\n    get: function get() {\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          padding = _this$props4.padding;\n\n      if (this.dir === 'rtl') {\n        margin = mirrorShorthandEdges(margin);\n        padding = mirrorShorthandEdges(padding);\n      }\n\n      return {\n        margin: getShorthandPropValue('View', this.theme, margin, 'margin'),\n        padding: getShorthandPropValue('View', this.theme, padding, 'padding')\n      };\n    }\n  }, {\n    key: \"offsetStyle\",\n    get: function get() {\n      var _this$props5 = this.props,\n          insetBlockStart = _this$props5.insetBlockStart,\n          insetBlockEnd = _this$props5.insetBlockEnd,\n          insetInlineStart = _this$props5.insetInlineStart,\n          insetInlineEnd = _this$props5.insetInlineEnd;\n      var rtl = this.dir === 'rtl';\n      var blockStart = {\n        top: insetBlockStart,\n        insetBlockStart: insetBlockStart\n      };\n      var blockEnd = {\n        bottom: insetBlockEnd,\n        insetBlockEnd: insetBlockEnd\n      };\n      var horizontalOffsets = {\n        left: rtl ? insetInlineEnd : insetInlineStart,\n        right: rtl ? insetInlineStart : insetInlineEnd,\n        insetInlineStart: insetInlineStart,\n        insetInlineEnd: insetInlineEnd\n      };\n      return _objectSpread({}, blockStart, {}, blockEnd, {}, horizontalOffsets);\n    }\n  }, {\n    key: \"styleProps\",\n    get: function get() {\n      var _this$props6 = this.props,\n          cursor = _this$props6.cursor,\n          style = _this$props6.style; // eslint-disable-line react/prop-types\n\n      var whitelisted = pickProps(style || {}, {}, [// Position/calculateElementPosition:\n      'top', 'left', 'position', 'display', 'transform', 'overflow', 'minWidth', 'minHeight', // Img:\n      'filter', // Flex.Item:\n      'flexBasis', // Avatar:\n      'backgroundImage']);\n\n      if (cursor) {\n        whitelisted.cursor = cursor;\n      }\n\n      return whitelisted;\n    }\n  }]);\n\n  View.displayName = \"View\";\n  return View;\n}(Component), _class2.propTypes = {\n  /**\n  * The element to render as the component root, `span` by default\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func,\n\n  /**\n  * By default the display prop is 'auto', meaning it takes on the\n  * display rules of the html element it's rendered as (see `as` prop).\n  */\n  display: PropTypes.oneOf(['auto', 'block', 'inline-block', 'flex', 'inline-flex']),\n  overflowX: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n  overflowY: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n\n  /**\n  * Set the margin using familiar CSS shorthand\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Set the padding using familiar CSS shorthand\n  */\n  padding: ThemeablePropTypes.spacing,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * The children to render inside the `<View />`\n  */\n  children: PropTypes.node,\n\n  /**\n  * Designates the text alignment within the `<View />`\n  */\n  textAlign: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n  * Accepts the familiar CSS shorthand to designate border widths corresponding\n  * to edges\n  */\n  borderWidth: ThemeablePropTypes.borderWidth,\n\n  /**\n  * Accepts `small`, `medium`, `large`, `circle`, and `pill`. Border radius can be\n  * assigned to individual corners in CSS shorthand style (e.g., `\"medium large none pill\"`).\n  */\n  borderRadius: ThemeablePropTypes.borderRadius,\n\n  /**\n  * Sets the color of the View border\n  */\n  borderColor: PropTypes.oneOf(['default', 'inverse', 'brand', 'info', 'success', 'warning', 'alert', 'danger']),\n\n  /**\n  * Designates the background style of the `<View />`\n  */\n  background: PropTypes.oneOf(['default', 'inverse', 'light', 'transparent', 'brand', 'alert', 'info', 'success', 'danger', 'warning']),\n\n  /**\n  * Controls the shadow depth for the `<View />`\n  */\n  shadow: ThemeablePropTypes.shadow,\n\n  /**\n  * Controls the z-index depth for the `<View />`\n  */\n  stacking: ThemeablePropTypes.stacking,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the `<View />`\n   */\n  cursor: cursorPropTypes,\n\n  /**\n  * Specify a value for the CSS position property. Use `relative` if `focusable` will be true.\n  */\n  position: PropTypes.oneOf(['static', 'absolute', 'relative', 'sticky', 'fixed']),\n\n  /**\n  * The `left` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineStart: PropTypes.string,\n\n  /**\n  * The `right` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineEnd: PropTypes.string,\n\n  /**\n  * The `top` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockStart: PropTypes.string,\n\n  /**\n  * The `bottom` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockEnd: PropTypes.string,\n\n  /**\n   * When true and position prop is `relative`, show focus outline.\n   */\n  focused: PropTypes.bool,\n\n  /**\n   * Determines whether the focus outline displays offset or inset from the focused View\n   */\n  focusPosition: PropTypes.oneOf(['offset', 'inset']),\n\n  /**\n  * Determines the color of the focus outline\n  */\n  focusColor: PropTypes.oneOf(['info', 'inverse', 'success', 'danger']),\n  shouldAnimateFocus: PropTypes.bool,\n\n  /**\n  * Activate a dotted outline around the component to make building your\n  * layout easier\n  */\n  debug: PropTypes.bool\n}, _class2.defaultProps = {\n  display: 'auto',\n  // Note:\n  // - `as` will default to type span via getElementType, so for consistency and\n  // compatibility with Container we are leaving it undefined here. Otherwise\n  // it modifies behavior for consuming components because of the logic around\n  // default props in getElementType\n  as: void 0,\n  // - `textAlign` is undefined by default so that View can inherit text alignment\n  // from parents\n  textAlign: void 0,\n  // - Any props used to set inline styles should be undefined so that they\n  // don't break consuming components' CSS\n  overflowX: 'visible',\n  overflowY: 'visible',\n  shadow: void 0,\n  stacking: void 0,\n  debug: false,\n  cursor: void 0,\n  borderWidth: void 0,\n  borderRadius: void 0,\n  borderColor: 'default',\n  margin: void 0,\n  padding: void 0,\n  elementRef: void 0,\n  background: void 0,\n  children: null,\n  width: void 0,\n  height: void 0,\n  maxWidth: void 0,\n  maxHeight: void 0,\n  minWidth: void 0,\n  minHeight: void 0,\n  position: 'static',\n  focused: false,\n  focusPosition: 'offset',\n  focusColor: 'info',\n  insetInlineStart: void 0,\n  insetInlineEnd: void 0,\n  insetBlockStart: void 0,\n  insetBlockEnd: void 0,\n  shouldAnimateFocus: true\n}, _temp)) || _class) || _class); // omitViewProps needs to be called on the composed View component so that the\n// View.propTypes in the method matches the View.propTypes that will be called in\n// the consumers. Otherwise the discrepency could cause unexpected props being\n// allowed through.\n\nView.omitViewProps = function (props, Component) {\n  if (process.env.NODE_ENV !== 'production') {\n    Object.keys(pickProps(props, View.propTypes)).forEach(function (prop) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(false, \"[\".concat(Component.displayName, \"] prop '\").concat(prop, \"' is not allowed.\"));\n    });\n  }\n\n  return omitProps(props, View.propTypes);\n};\n\nexport default View;\nexport { View };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport isPropValid from '@emotion/is-prop-valid'; // list of \"valid\" props https://github.com/emotion-js/emotion/blob/master/packages/is-prop-valid/src/props.js\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar omit = function omit(originalObject, keys) {\n  // code based on babel's _objectWithoutProperties\n  var newObject = {};\n\n  for (var key in originalObject) {\n    // special case because we always want to omit these and === is faster than concat'ing them in\n    if (key === 'theme' || key === 'children' || key === 'className' || key === 'style') continue;\n    if (keys.includes(key) || !hasOwnProperty.call(originalObject, key)) continue;\n    newObject[key] = originalObject[key];\n  }\n\n  return newObject;\n};\n\nfunction omitProps(props, propTypes, exclude) {\n  var keys = Object.keys(propTypes || {});\n  var combined = exclude ? keys.concat(exclude) : keys;\n  return omit(props, combined);\n} // this was the fastest implementation from testing: https://jsperf.com/pick-props\n\n\nfunction pick(obj, keys) {\n  var res = {};\n  var len = keys.length;\n  var idx = -1;\n  var key;\n\n  while (++idx < len) {\n    key = keys[idx];\n\n    if (key in obj) {\n      res[key] = obj[key];\n    }\n  }\n\n  return res;\n}\n\nfunction pickProps(props, propTypes, include) {\n  var keys = Object.keys(propTypes || {});\n  var combined = include ? keys.concat(include) : keys;\n  return pick(props, combined);\n}\n\nfunction passthroughProps(props) {\n  var validProps = {};\n  Object.keys(props) // style and className need to be explicitly passed through\n  .filter(function (propName) {\n    return isPropValid(propName) && propName !== 'style' && propName !== 'className' && propName !== 'children';\n  }).forEach(function (propName) {\n    validProps[propName] = props[propName];\n  });\n  return validProps;\n}\n\nexport { pickProps, omitProps, passthroughProps };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nimport { makeThemeVars } from '@instructure/ui-themeable';\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      shadows = _ref.shadows,\n      stacking = _ref.stacking,\n      breakpoints = _ref.breakpoints,\n      transitions = _ref.transitions;\n  return _objectSpread({\n    fontFamily: typography.fontFamily,\n    color: colors.oxford,\n    borderStyle: borders.style,\n    borderColorDefault: colors.borderMedium,\n    borderColorSuccess: colors.borderSuccess,\n    borderColorBrand: colors.borderBrand,\n    borderColorInfo: colors.borderInfo,\n    borderColorAlert: colors.borderAlert,\n    borderColorWarning: colors.borderWarning,\n    borderColorDanger: colors.borderDanger,\n    borderColorInverse: 'transparent',\n    borderRadiusSmall: borders.radiusSmall,\n    borderRadiusMedium: borders.radiusMedium,\n    borderRadiusLarge: borders.radiusLarge,\n    colorInverse: colors.white,\n    debugOutlineColor: colors.borderDebug,\n    background: colors.backgroundLightest,\n    backgroundLight: colors.backgroundLight,\n    backgroundInverse: colors.backgroundBrandSecondary,\n    backgroundBrand: colors.backgroundBrand,\n    backgroundAlert: colors.backgroundAlert,\n    backgroundInfo: colors.backgroundInfo,\n    backgroundSuccess: colors.backgroundSuccess,\n    backgroundDanger: colors.backgroundDanger,\n    backgroundWarning: colors.backgroundWarning,\n    arrowSize: '0.5rem',\n    focusOutlineStyle: borders.style,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineOffset: '0.3125rem',\n    focusOutlineInset: '0rem',\n    // do not use unitless zero (for CSS calc())\n    focusColorInfo: colors.borderInfo,\n    focusColorDanger: colors.borderDanger,\n    focusColorSuccess: colors.borderSuccess,\n    focusColorInverse: colors.borderLightest,\n    xSmallMaxWidth: breakpoints.xSmall,\n    smallMaxWidth: breakpoints.small,\n    mediumMaxWidth: breakpoints.medium,\n    largeMaxWidth: breakpoints.large\n  }, makeThemeVars('margin', spacing), {}, makeThemeVars('padding', spacing), {}, makeThemeVars('shadow', shadows), {}, makeThemeVars('stacking', stacking), {}, makeThemeVars('border', borders));\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    focusColorInfo: variables['ic-brand-primary'],\n    backgroundBrand: variables['ic-brand-primary'],\n    backgroundInfo: variables['ic-brand-primary'],\n    borderColorBrand: variables['ic-brand-primary'],\n    borderColorInfo: variables['ic-brand-primary']\n  };\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warnDeprecated as _warnDeprecated } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { decorator } from '@instructure/ui-decorator';\n\nvar deprecated = function () {\n  if (process.env.NODE_ENV === 'production') {\n    var _deprecated = function _deprecated() {\n      return function (ComposedComponent) {\n        return ComposedComponent;\n      };\n    };\n\n    _deprecated.deprecatePropValues = function () {};\n\n    _deprecated.warnDeprecatedProps = function () {};\n\n    _deprecated.warnDeprecatedComponent = function () {};\n\n    _deprecated.changedPackageWarning = function () {};\n\n    return _deprecated;\n  }\n\n  var deprecated = decorator(function (ComposedComponent, version, oldProps, message) {\n    /**\n    * ---\n    * category: utilities/react\n    * ---\n    * Deprecate React component props. Warnings will display in the console when deprecated\n    * props are used. Include the version number when the deprecated component will be removed.\n    *\n    * ```js\n    *  class Example extends Component {\n    *    static propTypes = {\n    *      currentProp: PropTypes.func\n    *    }\n    *  }\n    *  export default deprecated('7.0.0', {\n    *    deprecatedProp: 'currentProp',\n    *    nowNonExistentProp: true\n    *  })(Example)\n    * ```\n    *\n    * @param {string} version\n    * @param {object} oldProps (if this argument is null or undefined, the entire component is deprecated)\n    * @param {string} message\n    * @return {function} React component with deprecated props behavior\n    * @module deprecated\n    */\n    var DeprecatedComponent =\n    /*#__PURE__*/\n    function (_ComposedComponent) {\n      _inherits(DeprecatedComponent, _ComposedComponent);\n\n      function DeprecatedComponent() {\n        _classCallCheck(this, DeprecatedComponent);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(DeprecatedComponent).apply(this, arguments));\n      }\n\n      return DeprecatedComponent;\n    }(ComposedComponent);\n\n    DeprecatedComponent.prototype.componentDidMount = function () {\n      if (oldProps) {\n        warnDeprecatedProps(ComposedComponent.displayName, version, this.props, oldProps, message);\n      } else {\n        warnDeprecatedComponent(version, ComposedComponent.displayName, message);\n      }\n\n      if (ComposedComponent.prototype.componentDidMount) {\n        ComposedComponent.prototype.componentDidMount.call(this);\n      }\n    };\n\n    DeprecatedComponent.prototype.componentDidUpdate = function (prevProps, prevState, prevContext) {\n      if (oldProps) {\n        warnDeprecatedProps(ComposedComponent.displayName, version, this.props, oldProps, message);\n      } else {\n        warnDeprecatedComponent(version, ComposedComponent.displayName, message);\n      }\n\n      if (ComposedComponent.prototype.componentDidUpdate) {\n        ComposedComponent.prototype.componentDidUpdate.call(this, prevProps, prevState, prevContext);\n      }\n    };\n\n    return DeprecatedComponent;\n  });\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * Trigger a console warning if the specified prop variant is deprecated\n   *\n   * @param {function} propType - validates the prop type. Returns null if valid, error otherwise\n   * @param {array} deprecated - an array of the deprecated variant names\n   * @param {string|function} message - a string with additional information (like the version the prop will be removed) or a function returning a string\n   */\n\n  deprecated.deprecatePropValues = function (propType) {\n    var deprecated = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    var message = arguments.length > 2 ? arguments[2] : void 0;\n    return function (props, propName, componentName) {\n      var isDeprecatedValue = deprecated.includes(props[propName]);\n      var warningMessage = message && typeof message === 'function' ? message({\n        props: props,\n        propName: propName,\n        propValue: props[propName]\n      }) : \"The '\".concat(props[propName], \"' value for the `\").concat(propName, \"` prop is deprecated. \").concat(message || '');\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warnDeprecated(!isDeprecatedValue, \"[\".concat(componentName, \"] \").concat(warningMessage));\n\n      for (var _len = arguments.length, rest = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        rest[_key - 3] = arguments[_key];\n      }\n\n      return isDeprecatedValue ? null : propType.apply(void 0, [props, propName, componentName].concat(rest));\n    };\n  };\n\n  function warnDeprecatedProps(componentName, version, props, oldProps) {\n    var message = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : '';\n    Object.keys(oldProps).forEach(function (oldProp) {\n      if (typeof props[oldProp] !== 'undefined') {\n        var newProp = typeof oldProps[oldProp] === 'string' ? oldProps[oldProp] : null;\n        var newPropMessage = newProp ? \". Use `\".concat(newProp, \"` instead\") : '';\n\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _warnDeprecated(false, \"[\".concat(componentName, \"] `\").concat(oldProp, \"` is deprecated and will be removed in version \").concat(version).concat(newPropMessage, \". \").concat(message));\n      }\n    });\n  }\n\n  deprecated.warnDeprecatedProps = warnDeprecatedProps;\n\n  function warnDeprecatedComponent(version, componentName, message) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warnDeprecated(false, \"[\".concat(componentName, \"] is deprecated and will be removed in version \").concat(version, \". \").concat(message || ''));\n  }\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * @param {String} version the version of the package in which the component or function was deprecated\n   * @param {String} componentName the displayName of the component or Function.name of the utility function\n   * @param {String} message a message to display as a console error in DEV env when condition is false\n   */\n\n\n  deprecated.warnDeprecatedComponent = warnDeprecatedComponent;\n  /**\n   * ---\n   * category: utilities\n   * ---\n   * @param {String} prevPackage the previous name of the package\n   * @param {String} newPackage the new version of the package\n   * @return {String} the formatted warning string\n   */\n\n  deprecated.changedPackageWarning = function (prevPackage, newPackage) {\n    return \"It has been moved from @instructure/\".concat(prevPackage, \" to @instructure/\").concat(newPackage, \".\");\n  };\n\n  return deprecated;\n}();\n\nexport default deprecated;\nexport { deprecated };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nimport { makeThemeVars } from '@instructure/ui-themeable';\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      shadows = _ref.shadows,\n      stacking = _ref.stacking,\n      breakpoints = _ref.breakpoints,\n      transitions = _ref.transitions;\n  return _objectSpread({\n    fontFamily: typography.fontFamily,\n    color: colors.textDarkest,\n    colorPrimaryInverse: colors.textLightest,\n    borderStyle: borders.style,\n    borderColorPrimary: colors.borderMedium,\n    borderColorSecondary: colors.borderDark,\n    borderColorSuccess: colors.borderSuccess,\n    borderColorBrand: colors.borderBrand,\n    borderColorInfo: colors.borderInfo,\n    borderColorAlert: colors.borderAlert,\n    borderColorWarning: colors.borderWarning,\n    borderColorDanger: colors.borderDanger,\n    borderColorTransparent: 'transparent',\n    borderRadiusSmall: borders.radiusSmall,\n    borderRadiusMedium: borders.radiusMedium,\n    borderRadiusLarge: borders.radiusLarge,\n    debugOutlineColor: colors.borderDebug,\n    backgroundPrimary: colors.backgroundLightest,\n    backgroundSecondary: colors.backgroundLight,\n    backgroundPrimaryInverse: colors.backgroundDarkest,\n    backgroundBrand: colors.backgroundBrand,\n    backgroundInfo: colors.backgroundInfo,\n    backgroundAlert: colors.backgroundAlert,\n    backgroundSuccess: colors.backgroundSuccess,\n    backgroundDanger: colors.backgroundDanger,\n    backgroundWarning: colors.backgroundWarning,\n    arrowSize: '0.5rem',\n    focusOutlineStyle: borders.style,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineOffset: '0.3125rem',\n    focusOutlineInset: '0rem',\n    // do not use unitless zero (for CSS calc())\n    focusColorInfo: colors.borderInfo,\n    focusColorDanger: colors.borderDanger,\n    focusColorSuccess: colors.borderSuccess,\n    focusColorInverse: colors.borderLightest,\n    xSmallMaxWidth: breakpoints.xSmall,\n    smallMaxWidth: breakpoints.small,\n    mediumMaxWidth: breakpoints.medium,\n    largeMaxWidth: breakpoints.large\n  }, makeThemeVars('margin', spacing), {}, makeThemeVars('padding', spacing), {}, makeThemeVars('shadow', shadows), {}, makeThemeVars('stacking', stacking), {}, makeThemeVars('border', borders));\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusColorInfo: variables['ic-brand-primary'],\n    backgroundBrand: variables['ic-brand-primary'],\n    backgroundInfo: variables['ic-brand-primary'],\n    borderColorBrand: variables['ic-brand-primary'],\n    borderColorInfo: variables['ic-brand-primary']\n  };\n};\n\ngenerator['canvas-ams'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    focusColorInfo: colors.borderBrand\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { createThemeAdapter } from '@instructure/ui-themeable';\nvar map = {\n  borderColorDefault: 'borderColorPrimary',\n  borderColorInverse: 'borderColorTransparent',\n  colorInverse: 'colorPrimaryInverse',\n  background: 'backgroundPrimary',\n  backgroundLight: 'backgroundSecondary',\n  backgroundInverse: 'backgroundPrimaryInverse'\n};\nexport var themeAdapter = createThemeAdapter({\n  map: map,\n  version: '8.0.0'\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable, getShorthandPropValue, ThemeablePropTypes, mirrorShorthandEdges, mirrorShorthandCorners } from '@instructure/ui-themeable';\nimport { getComputedStyle } from '@instructure/ui-dom-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { cursor as cursorPropTypes } from '@instructure/ui-prop-types';\nimport { getElementType, omitProps, pickProps, passthroughProps, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fOyUs',\n  template: function template(theme) {\n    return \"\\n\\n.fOyUs_bGBk{box-sizing:border-box;font-family:\".concat(theme.fontFamily || 'inherit', \";max-width:100%;overflow:visible}\\n\\n.fOyUs_bMes{display:inline}\\n\\n.fOyUs_UeJS{display:block}\\n\\n.fOyUs_cuDs{display:inline-block;vertical-align:middle}\\n\\n.fOyUs_desw{display:flex}\\n\\n.fOyUs_cKQL{display:inline-flex;vertical-align:middle}\\n\\n.fOyUs_EMjX{text-align:start}\\n\\n[dir=ltr] .fOyUs_EMjX{text-align:left}\\n\\n[dir=rtl] .fOyUs_EMjX{text-align:right}\\n\\n.fOyUs_ImeN,[dir=ltr] .fOyUs_ImeN,[dir=rtl] .fOyUs_ImeN{text-align:center}\\n\\n.fOyUs_dBtH{text-align:end}\\n\\n[dir=ltr] .fOyUs_dBtH{text-align:right}\\n\\n[dir=rtl] .fOyUs_dBtH{text-align:left}\\n\\n.fOyUs_fFew{outline:0.0625rem dashed \").concat(theme.debugOutlineColor || 'inherit', \"}\\n\\n.fOyUs_dnJm{border-style:\").concat(theme.borderStyle || 'inherit', \"}\\n\\n.fOyUs_eiMX,.fOyUs_dzKA{border-color:\").concat(theme.borderColorTransparent || 'inherit', \"}\\n\\n.fOyUs_dsNY,.fOyUs_tIxX{border-color:\").concat(theme.borderColorPrimary || 'inherit', \"}\\n\\n.fOyUs_fuLg{border-color:\").concat(theme.borderColorSecondary || 'inherit', \"}\\n\\n.fOyUs_cLjf{border-color:\").concat(theme.borderColorBrand || 'inherit', \"}\\n\\n.fOyUs_cXDj{border-color:\").concat(theme.borderColorInfo || 'inherit', \"}\\n\\n.fOyUs_fjbA{border-color:\").concat(theme.borderColorSuccess || 'inherit', \"}\\n\\n.fOyUs_fBpf{border-color:\").concat(theme.borderColorWarning || 'inherit', \"}\\n\\n.fOyUs_bMrG{border-color:\").concat(theme.borderColorAlert || 'inherit', \"}\\n\\n.fOyUs_fdvn{border-color:\").concat(theme.borderColorDanger || 'inherit', \"}\\n\\n.fOyUs_fKyb{background:none;color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_fZwI,.fOyUs_kXoP{background:\").concat(theme.backgroundPrimary || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_dUgE,.fOyUs_bvKN{background:\").concat(theme.backgroundSecondary || 'inherit', \";color:\").concat(theme.color || 'inherit', \"}\\n\\n.fOyUs_fzxW,.fOyUs_elGp{background:\").concat(theme.backgroundPrimaryInverse || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_NGNZ{background:\").concat(theme.backgroundBrand || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fYBY{background:\").concat(theme.backgroundInfo || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_feZy{background:\").concat(theme.backgroundAlert || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_qidh{background:\").concat(theme.backgroundSuccess || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fKOP{background:\").concat(theme.backgroundDanger || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_eOYc{background:\").concat(theme.backgroundWarning || 'inherit', \";color:\").concat(theme.colorPrimaryInverse || 'inherit', \"}\\n\\n.fOyUs_fQrx{z-index:\").concat(theme.stackingTopmost || 'inherit', \"}\\n\\n.fOyUs_dtZX{z-index:\").concat(theme.stackingAbove || 'inherit', \"}\\n\\n.fOyUs_fCiV{z-index:\").concat(theme.stackingBelow || 'inherit', \"}\\n\\n.fOyUs_dJEE{z-index:\").concat(theme.stackingDeepest || 'inherit', \"}\\n\\n.fOyUs_fxuY{box-shadow:\").concat(theme.shadowTopmost || 'inherit', \"}\\n\\n.fOyUs_bxuL{box-shadow:\").concat(theme.shadowResting || 'inherit', \"}\\n\\n.fOyUs_bIta{box-shadow:\").concat(theme.shadowAbove || 'inherit', \"}\\n\\n.fOyUs_fhgP{overflow-x:hidden}\\n\\n.fOyUs_dzYG{overflow-x:auto}\\n\\n.fOyUs_divt{overflow-y:hidden}\\n\\n.fOyUs_fKlg{overflow-y:auto}\\n\\n.fOyUs_cBHs{position:relative}\\n\\n.fOyUs_cSap{position:fixed}\\n\\n.fOyUs_fuLp{position:absolute}\\n\\n.fOyUs_bZzT{position:-webkit-sticky;position:sticky}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs:before{border-color:\").concat(theme.focusOutlineColorDefault || 'inherit', \";border-style:\").concat(theme.focusOutlineStyle || 'inherit', \";border-width:\").concat(theme.focusOutlineWidth || 'inherit', \";content:\\\"\\\";opacity:0;pointer-events:none;position:absolute}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cnfU:before{transform:scale(0.95);transition:all 0.2s}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr:before{bottom:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);left:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);right:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1);top:calc(\").concat(theme.focusOutlineOffset || 'inherit', \"*-1)}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB:before{bottom:\").concat(theme.focusOutlineInset || 'inherit', \";left:\").concat(theme.focusOutlineInset || 'inherit', \";right:\").concat(theme.focusOutlineInset || 'inherit', \";top:\").concat(theme.focusOutlineInset || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_beQo:before{border-radius:inherit}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bnCe:before{border-radius:0}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_cBtr.fOyUs_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" + \").concat(theme.focusOutlineOffset || 'inherit', \" - \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_cmRt:before{border-radius:calc(\").concat(theme.borderRadiusSmall || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_eeJl:before{border-radius:calc(\").concat(theme.borderRadiusMedium || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_bFwB.fOyUs_TYCL:before{border-radius:calc(\").concat(theme.borderRadiusLarge || 'inherit', \" - \").concat(theme.focusOutlineInset || 'inherit', \" + \").concat(theme.focusOutlineWidth || 'inherit', \")}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs:focus{outline:none}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fmDy:focus:before,.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_dvYc:before{opacity:1;transform:scale(1)}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fuTR:before{border-color:\").concat(theme.focusColorInfo || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_dwHj:before{border-color:\").concat(theme.focusColorInverse || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_NhxI:before{border-color:\").concat(theme.focusColorSuccess || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_cBHs.fOyUs_fsVi:before{border-color:\").concat(theme.focusColorDanger || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes{outline-style:none}\\n\\n.fOyUs_eWbJ.fOyUs_bMes:before{border-style:none}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_bFwB.fOyUs_fmDy:focus,.fOyUs_eWbJ.fOyUs_bMes.fOyUs_bFwB.fOyUs_dvYc{outline-style:\").concat(theme.focusOutlineStyle || 'inherit', \";outline-width:\").concat(theme.focusOutlineWidth || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_fuTR{outline-color:\").concat(theme.focusColorInfo || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_dwHj{outline-color:\").concat(theme.focusColorInverse || 'inherit', \"}\\n\\n.fOyUs_eWbJ.fOyUs_bMes.fOyUs_fsVi{outline-color:\").concat(theme.focusColorDanger || 'inherit', \"}\");\n  },\n  'root': 'fOyUs_bGBk',\n  'display--inline': 'fOyUs_bMes',\n  'display--block': 'fOyUs_UeJS',\n  'display--inline-block': 'fOyUs_cuDs',\n  'display--flex': 'fOyUs_desw',\n  'display--inline-flex': 'fOyUs_cKQL',\n  'textAlign--start': 'fOyUs_EMjX',\n  'textAlign--center': 'fOyUs_ImeN',\n  'textAlign--end': 'fOyUs_dBtH',\n  'withVisualDebug': 'fOyUs_fFew',\n  'withBorder': 'fOyUs_dnJm',\n  'borderColor--inverse': 'fOyUs_eiMX',\n  'borderColor--transparent': 'fOyUs_dzKA',\n  'borderColor--default': 'fOyUs_dsNY',\n  'borderColor--primary': 'fOyUs_tIxX',\n  'borderColor--secondary': 'fOyUs_fuLg',\n  'borderColor--brand': 'fOyUs_cLjf',\n  'borderColor--info': 'fOyUs_cXDj',\n  'borderColor--success': 'fOyUs_fjbA',\n  'borderColor--warning': 'fOyUs_fBpf',\n  'borderColor--alert': 'fOyUs_bMrG',\n  'borderColor--danger': 'fOyUs_fdvn',\n  'background--transparent': 'fOyUs_fKyb',\n  'background--default': 'fOyUs_fZwI',\n  'background--primary': 'fOyUs_kXoP',\n  'background--light': 'fOyUs_dUgE',\n  'background--secondary': 'fOyUs_bvKN',\n  'background--inverse': 'fOyUs_fzxW',\n  'background--primary-inverse': 'fOyUs_elGp',\n  'background--brand': 'fOyUs_NGNZ',\n  'background--info': 'fOyUs_fYBY',\n  'background--alert': 'fOyUs_feZy',\n  'background--success': 'fOyUs_qidh',\n  'background--danger': 'fOyUs_fKOP',\n  'background--warning': 'fOyUs_eOYc',\n  'stacking--topmost': 'fOyUs_fQrx',\n  'stacking--above': 'fOyUs_dtZX',\n  'stacking--below': 'fOyUs_fCiV',\n  'stacking--deepest': 'fOyUs_dJEE',\n  'shadow--topmost': 'fOyUs_fxuY',\n  'shadow--resting': 'fOyUs_bxuL',\n  'shadow--above': 'fOyUs_bIta',\n  'overflowX--hidden': 'fOyUs_fhgP',\n  'overflowX--auto': 'fOyUs_dzYG',\n  'overflowY--hidden': 'fOyUs_divt',\n  'overflowY--auto': 'fOyUs_fKlg',\n  'position--relative': 'fOyUs_cBHs',\n  'position--fixed': 'fOyUs_cSap',\n  'position--absolute': 'fOyUs_fuLp',\n  'position--sticky': 'fOyUs_bZzT',\n  'focus': 'fOyUs_eWbJ',\n  'focusAnimation': 'fOyUs_cnfU',\n  'focusPosition--offset': 'fOyUs_cBtr',\n  'focusPosition--inset': 'fOyUs_bFwB',\n  'focusRing--radiusInherit': 'fOyUs_beQo',\n  'focusRing--radiusNone': 'fOyUs_bnCe',\n  'focusRing--radiusSmall': 'fOyUs_cmRt',\n  'focusRing--radiusMedium': 'fOyUs_eeJl',\n  'focusRing--radiusLarge': 'fOyUs_TYCL',\n  'shouldUseBrowserFocus': 'fOyUs_fmDy',\n  'withFocusOutline': 'fOyUs_dvYc',\n  'focusColor--info': 'fOyUs_fuTR',\n  'focusColor--inverse': 'fOyUs_dwHj',\n  'focusColor--success': 'fOyUs_NhxI',\n  'focusColor--danger': 'fOyUs_fsVi'\n};\nimport theme from './theme';\nimport { themeAdapter } from './themeAdapter';\n/**\n---\ncategory: components\n---\n@module View\n**/\n\nvar View = (_dec = deprecated('8.0.0', {\n  focused: 'withFocusOutline',\n  visualDebug: 'withVisualDebug'\n}), _dec2 = bidirectional(), _dec3 = themeable(theme, styles, themeAdapter), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(View, _Component);\n\n  function View() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, View);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(View)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      if (typeof _this.props.elementRef === 'function') {\n        _this.props.elementRef(el);\n      }\n\n      _this._element = el;\n    };\n\n    _this.verifyUniformValues = function (initialValue, input) {\n      if (typeof input !== 'string') return false;\n      return input.trim().split(' ').every(function (value) {\n        return initialValue === value;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Not calling getComputedStyle can save hundreds of ms in tests and production\n      if (process.env.NODE_ENV === 'development') {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(!\n        /*#__PURE__*/\n        function verifySpanMargin(element, margin) {\n          if (!element) {\n            return;\n          }\n\n          var marginValues = margin ? margin.split(' ') : null;\n          var display = getComputedStyle(element).display;\n          var verticalMargin = false; // either top or bottom margin are set\n\n          if (margin) {\n            if (marginValues[0] && marginValues[0] !== 'none' && marginValues[0] !== '0') {\n              verticalMargin = true;\n            }\n\n            if (marginValues[2] && marginValues[2] !== 'none' && marginValues[2] !== '0') {\n              verticalMargin = true;\n            }\n          }\n\n          return verticalMargin && display === 'inline';\n        }(this._element, this.props.margin), \"[View] display style is set to 'inline' and will allow for horizontal margins only.\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref, _objectSpread2;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          textAlign = _this$props.textAlign,\n          background = _this$props.background,\n          display = _this$props.display,\n          withVisualDebug = _this$props.withVisualDebug,\n          width = _this$props.width,\n          height = _this$props.height,\n          minWidth = _this$props.minWidth,\n          minHeight = _this$props.minHeight,\n          maxWidth = _this$props.maxWidth,\n          maxHeight = _this$props.maxHeight,\n          overflowX = _this$props.overflowX,\n          overflowY = _this$props.overflowY,\n          stacking = _this$props.stacking,\n          shadow = _this$props.shadow,\n          position = _this$props.position,\n          focusPosition = _this$props.focusPosition,\n          focusColor = _this$props.focusColor,\n          shouldAnimateFocus = _this$props.shouldAnimateFocus,\n          borderColor = _this$props.borderColor,\n          className = _this$props.className,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"textAlign\", \"background\", \"display\", \"withVisualDebug\", \"width\", \"height\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\", \"overflowX\", \"overflowY\", \"stacking\", \"shadow\", \"position\", \"focusPosition\", \"focusColor\", \"shouldAnimateFocus\", \"borderColor\", \"className\"]);\n\n      var ElementType = getElementType(View, this.props);\n      var withFocusOutline = this.withFocusOutline;\n      var focusOutlineClasses = position === 'relative' || display === 'inline' && focusPosition === 'inset' ? (_ref = {}, _defineProperty(_ref, styles.focus, true), _defineProperty(_ref, styles.withFocusOutline, withFocusOutline), _defineProperty(_ref, styles.shouldUseBrowserFocus, typeof withFocusOutline === 'undefined'), _defineProperty(_ref, styles[this.focusRingRadius], true), _defineProperty(_ref, styles[\"focusPosition--\".concat(focusPosition)], true), _defineProperty(_ref, styles[\"focusColor--\".concat(focusColor)], true), _defineProperty(_ref, styles.focusAnimation, shouldAnimateFocus), _ref) : {};\n      var classes = classnames(_objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, styles.root, true), _defineProperty(_objectSpread2, styles.withVisualDebug, withVisualDebug || this.props.visualDebug), _defineProperty(_objectSpread2, styles.withBorder, this.withBorder), _defineProperty(_objectSpread2, styles[\"borderColor--\".concat(borderColor)], this.withBorder), _defineProperty(_objectSpread2, styles[\"textAlign--\".concat(textAlign)], textAlign), _defineProperty(_objectSpread2, styles[\"background--\".concat(background)], background), _defineProperty(_objectSpread2, styles[\"display--\".concat(display)], display && display !== 'auto'), _defineProperty(_objectSpread2, styles[\"overflowX--\".concat(overflowX)], overflowX && overflowX !== 'visible'), _defineProperty(_objectSpread2, styles[\"overflowY--\".concat(overflowY)], overflowY && overflowY !== 'visible'), _defineProperty(_objectSpread2, styles[\"stacking--\".concat(stacking)], stacking), _defineProperty(_objectSpread2, styles[\"shadow--\".concat(shadow)], shadow && shadow !== 'none'), _defineProperty(_objectSpread2, styles[\"position--\".concat(position)], position !== 'static'), _objectSpread2), focusOutlineClasses, _defineProperty({}, className, className)));\n      return React.createElement(ElementType, Object.assign({}, passthroughProps(props), {\n        className: classes,\n        style: _objectSpread({}, this.spacingStyle, {}, this.borderStyle, {}, this.offsetStyle, {\n          width: width,\n          height: height,\n          minWidth: minWidth,\n          minHeight: minHeight,\n          maxWidth: maxWidth,\n          maxHeight: maxHeight\n        }, this.styleProps),\n        ref: this.handleElementRef\n      }), children);\n    }\n  }, {\n    key: \"withFocusOutline\",\n    get: function get() {\n      if (typeof this.props.withFocusOutline === 'undefined' && typeof this.props.focused === 'undefined') {\n        return void 0;\n      }\n\n      var _this$props2 = this.props,\n          position = _this$props2.position,\n          display = _this$props2.display,\n          focusPosition = _this$props2.focusPosition;\n      var withFocusOutline = this.props.focused || this.props.withFocusOutline;\n\n      if (withFocusOutline) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(display === 'inline' || position === 'relative', '[View] the focus outline will only show if the `position` prop is `relative`.');\n\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(display !== 'inline' || focusPosition === 'inset', '[View] when display is set to `inline` the focus outline will only show if `focusPosition` is set to `inset`.');\n      }\n\n      return withFocusOutline;\n    }\n  }, {\n    key: \"focusRingRadius\",\n    get: function get() {\n      var _this$props$borderRad = this.props.borderRadius,\n          borderRadius = _this$props$borderRad === void 0 ? '' : _this$props$borderRad;\n      var baseRadiusStyle = 'focusRing--radius';\n      var initialValue = borderRadius.trim().split(' ')[0];\n\n      if (this.verifyUniformValues(initialValue, borderRadius)) {\n        var capitalize = function capitalize(str) {\n          return \"\".concat(str.charAt(0).toUpperCase()).concat(str.slice(1));\n        };\n\n        if (['small', 'medium', 'large'].includes(initialValue)) return \"\".concat(baseRadiusStyle).concat(capitalize(initialValue));\n        if (['circle', 'pill'].includes(initialValue)) return \"\".concat(baseRadiusStyle, \"Inherit\");\n      }\n\n      return \"\".concat(baseRadiusStyle, \"None\");\n    }\n  }, {\n    key: \"withBorder\",\n    get: function get() {\n      var borderWidth = this.props.borderWidth;\n      return borderWidth && borderWidth !== '0' && borderWidth !== 'none';\n    }\n  }, {\n    key: \"borderStyle\",\n    get: function get() {\n      var _this$props3 = this.props,\n          borderRadius = _this$props3.borderRadius,\n          borderWidth = _this$props3.borderWidth;\n\n      if (this.dir === bidirectional.DIRECTION.rtl) {\n        borderRadius = mirrorShorthandCorners(borderRadius);\n        borderWidth = mirrorShorthandEdges(borderWidth);\n      }\n\n      return {\n        borderRadius: getShorthandPropValue('View', this.theme, borderRadius, 'borderRadius'),\n        borderWidth: getShorthandPropValue('View', this.theme, borderWidth, 'borderWidth')\n      };\n    }\n  }, {\n    key: \"spacingStyle\",\n    get: function get() {\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          padding = _this$props4.padding;\n\n      if (this.dir === 'rtl') {\n        margin = mirrorShorthandEdges(margin);\n        padding = mirrorShorthandEdges(padding);\n      }\n\n      return {\n        margin: getShorthandPropValue('View', this.theme, margin, 'margin'),\n        padding: getShorthandPropValue('View', this.theme, padding, 'padding')\n      };\n    }\n  }, {\n    key: \"offsetStyle\",\n    get: function get() {\n      var _this$props5 = this.props,\n          insetBlockStart = _this$props5.insetBlockStart,\n          insetBlockEnd = _this$props5.insetBlockEnd,\n          insetInlineStart = _this$props5.insetInlineStart,\n          insetInlineEnd = _this$props5.insetInlineEnd;\n      var rtl = this.dir === 'rtl';\n      var blockStart = {\n        top: insetBlockStart,\n        insetBlockStart: insetBlockStart\n      };\n      var blockEnd = {\n        bottom: insetBlockEnd,\n        insetBlockEnd: insetBlockEnd\n      };\n      var horizontalOffsets = {\n        left: rtl ? insetInlineEnd : insetInlineStart,\n        right: rtl ? insetInlineStart : insetInlineEnd,\n        insetInlineStart: insetInlineStart,\n        insetInlineEnd: insetInlineEnd\n      };\n      return _objectSpread({}, blockStart, {}, blockEnd, {}, horizontalOffsets);\n    }\n  }, {\n    key: \"styleProps\",\n    get: function get() {\n      var _this$props6 = this.props,\n          cursor = _this$props6.cursor,\n          style = _this$props6.style; // eslint-disable-line react/prop-types\n\n      var whitelisted = pickProps(style || {}, {}, [// Position/calculateElementPosition:\n      'top', 'left', 'position', 'display', 'transform', 'overflow', 'minWidth', 'minHeight', // Img:\n      'filter', // Flex.Item:\n      'flexBasis', // Avatar:\n      'backgroundImage']);\n\n      if (cursor) {\n        whitelisted.cursor = cursor;\n      }\n\n      return whitelisted;\n    }\n  }]);\n\n  View.displayName = \"View\";\n  return View;\n}(Component), _class2.propTypes = {\n  /**\n  * The element to render as the component root, `span` by default\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func,\n\n  /**\n  * By default the display prop is 'auto', meaning it takes on the\n  * display rules of the html element it's rendered as (see `as` prop).\n  */\n  display: PropTypes.oneOf(['auto', 'inline', 'block', 'inline-block', 'flex', 'inline-flex']),\n  overflowX: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n  overflowY: PropTypes.oneOf(['auto', 'hidden', 'visible']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n   * Valid values are `0`, `none`, `xxx-small`, `xx-small`, `x-small`,\n   * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n   * familiar CSS-like shorthand. For example: `padding=\"small x-large large\"`.\n   */\n  padding: ThemeablePropTypes.spacing,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * The children to render inside the `<View />`\n  */\n  children: PropTypes.node,\n\n  /**\n  * Designates the text alignment within the `<View />`\n  */\n  textAlign: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n  * Accepts the familiar CSS shorthand to designate border widths corresponding\n  * to edges\n  */\n  borderWidth: ThemeablePropTypes.borderWidth,\n\n  /**\n  * Accepts `small`, `medium`, `large`, `circle`, and `pill`. Border radius can be\n  * assigned to individual corners in CSS shorthand style (e.g., `\"medium large none pill\"`).\n  */\n  borderRadius: ThemeablePropTypes.borderRadius,\n\n  /**\n  * Sets the color of the View border\n  */\n  borderColor: deprecated.deprecatePropValues(PropTypes.oneOf(['transparent', 'primary', 'secondary', 'brand', 'info', 'success', 'warning', 'alert', 'danger', 'default', 'inverse']), ['default', 'inverse'], function (_ref2) {\n    var propName = _ref2.propName,\n        propValue = _ref2.propValue;\n    return \"In version 8.0.0, the value '\".concat(propValue, \"' for `\").concat(propName, \"` will be changed to \").concat(function () {\n      if (propValue === 'default') return \"'primary'\";\n      if (propValue === 'inverse') return \"'transparent'\";\n    }(), \". Use that value instead.\");\n  }),\n\n  /**\n  * Designates the background style of the `<View />`\n  */\n  background: deprecated.deprecatePropValues(PropTypes.oneOf(['transparent', 'primary', 'secondary', 'primary-inverse', 'brand', 'info', 'alert', 'success', 'danger', 'warning', 'default', 'light', 'inverse']), ['default', 'inverse', 'light'], function (_ref3) {\n    var propName = _ref3.propName,\n        propValue = _ref3.propValue;\n    return \"In version 8.0.0, the value '\".concat(propValue, \"' for `\").concat(propName, \"` will be changed to \").concat(function () {\n      if (propValue === 'default') return \"'primary'\";\n      if (propValue === 'light') return \"'secondary'\";\n      if (propValue === 'inverse') return \"'primary-inverse'\";\n    }(), \". Use that value instead.\");\n  }),\n\n  /**\n  * Controls the shadow depth for the `<View />`\n  */\n  shadow: ThemeablePropTypes.shadow,\n\n  /**\n  * Controls the z-index depth for the `<View />`\n  */\n  stacking: ThemeablePropTypes.stacking,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the `<View />`\n   */\n  cursor: cursorPropTypes,\n\n  /**\n  * Specify a value for the CSS position property. Use `relative` if `focusable` will be true.\n  */\n  position: PropTypes.oneOf(['static', 'absolute', 'relative', 'sticky', 'fixed']),\n\n  /**\n  * The `left` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineStart: PropTypes.string,\n\n  /**\n  * The `right` CSS property in left-to-right interfaces. Will not do anything if `position === \"static\"`.\n  */\n  insetInlineEnd: PropTypes.string,\n\n  /**\n  * The `top` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockStart: PropTypes.string,\n\n  /**\n  * The `bottom` CSS property. Will not do anything if `position === \"static\"`.\n  */\n  insetBlockEnd: PropTypes.string,\n\n  /**\n   * Manually control if the `View` should display a focus outline. When left undefined (which is the default)\n   * the focus outline will display automatically if the `View` is focusable and receives focus. Note: the focus\n   * outline only will display when the `position` prop is set to `relative`.\n   */\n  withFocusOutline: PropTypes.bool,\n\n  /**\n   * Determines whether the focus outline displays offset or inset from the focused View\n   */\n  focusPosition: PropTypes.oneOf(['offset', 'inset']),\n\n  /**\n  * Determines the color of the focus outline\n  */\n  focusColor: PropTypes.oneOf(['info', 'inverse', 'success', 'danger']),\n\n  /**\n  * Determines if the focus ring should animate when it appears\n  */\n  shouldAnimateFocus: PropTypes.bool,\n\n  /**\n  * Activate a dotted outline around the component to make building your\n  * layout easier\n  */\n  withVisualDebug: PropTypes.bool,\n\n  /* eslint-disable react/require-default-props */\n\n  /**\n  * __Deprecated - use 'withFocusOutline'__\n  */\n  focused: PropTypes.bool,\n\n  /**\n  * __Deprecated - use 'withVisualDebug'__\n  */\n  visualDebug: PropTypes.bool\n  /* eslint-enable react/require-default-props */\n\n}, _class2.defaultProps = {\n  display: 'auto',\n  // Note:\n  // - `as` will default to type span via getElementType, so for consistency and\n  // compatibility with Container we are leaving it undefined here. Otherwise\n  // it modifies behavior for consuming components because of the logic around\n  // default props in getElementType\n  as: void 0,\n  // - `textAlign` is undefined by default so that View can inherit text alignment\n  // from parents\n  textAlign: void 0,\n  // - Any props used to set inline styles should be undefined so that they\n  // don't break consuming components' CSS\n  overflowX: 'visible',\n  overflowY: 'visible',\n  shadow: void 0,\n  stacking: void 0,\n  withVisualDebug: false,\n  cursor: void 0,\n  borderWidth: void 0,\n  borderRadius: void 0,\n  borderColor: 'primary',\n  margin: void 0,\n  padding: void 0,\n  elementRef: void 0,\n  background: void 0,\n  children: null,\n  width: void 0,\n  height: void 0,\n  maxWidth: void 0,\n  maxHeight: void 0,\n  minWidth: void 0,\n  minHeight: void 0,\n  position: 'static',\n  withFocusOutline: void 0,\n  focusPosition: 'offset',\n  focusColor: 'info',\n  insetInlineStart: void 0,\n  insetInlineEnd: void 0,\n  insetBlockStart: void 0,\n  insetBlockEnd: void 0,\n  shouldAnimateFocus: true\n}, _temp)) || _class) || _class) || _class); // TODO: Remove this code once all components are using passthroughProps in place\n// of omitProps and have removed this function\n// omitViewProps needs to be called on the composed View component so that the\n// View.propTypes in the method matches the View.propTypes that will be called in\n// the consumers. Otherwise the discrepency could cause unexpected props being\n// allowed through.\n\nView.omitViewProps = function (props, Component) {\n  if (process.env.NODE_ENV !== 'production') {\n    Object.keys(pickProps(props, View.propTypes)).forEach(function (prop) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(false, \"[\".concat(Component.displayName, \"] prop '\").concat(prop, \"' is not allowed.\"));\n    });\n  }\n\n  return omitProps(props, View.propTypes);\n};\n\nexport default View;\nexport { View };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\n/**\n* ---\n* category: utilities/react\n* ---\n* Evaluate a provided value to create a renderable React element.\n*\n* @param {ReactElement|ReactClass|function} value\n* @param {object} props\n* @return {ReactElement} A renderable React element\n*/\n\nfunction callRenderProp(value) {\n  var props = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n\n  if (typeof value === 'function') {\n    // TODO: Simplify this when we drop React 15\n    // In react 16, `createElement` accepts a function. In react 15 we get an\n    // error on rendering the result. Evaluate the function here if it is not a\n    // react component.\n    if (!(value.prototype && // fat arrow functions don't have a prototype\n    value.prototype.isReactComponent)) {\n      return value(props);\n    }\n\n    return React.createElement(value, props);\n  }\n\n  return value;\n}\n\nexport default callRenderProp;\nexport { callRenderProp };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { callRenderProp, deprecated, omitProps } from '@instructure/ui-react-utils';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { isIE11 } from '@instructure/ui-utils';\nimport { uid } from '@instructure/uid';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'eHQDY',\n  template: function template(theme) {\n    return \"\\n\\n@keyframes eHQDY_dpDr{to{transform:rotate(360deg)}}\\n\\n@keyframes eHQDY_buIf{0%{stroke-dashoffset:190%}50%{stroke-dashoffset:50%;transform:rotate(90deg)}to{stroke-dashoffset:190%;transform:rotate(360deg)}}\\n\\n.eHQDY_bGBk{box-sizing:border-box;display:inline-block;overflow:hidden;position:relative;vertical-align:middle}\\n\\n.eHQDY_dTxv{stroke:\".concat(theme.trackColor || 'inherit', \"}\\n\\n.eHQDY_dfBC,.eHQDY_dfBC .eHQDY_cJVF{height:\").concat(theme.xSmallSize || 'inherit', \";width:\").concat(theme.xSmallSize || 'inherit', \"}\\n\\n.eHQDY_dfBC .eHQDY_eWAY,.eHQDY_dfBC .eHQDY_dTxv{stroke-width:\").concat(theme.xSmallBorderWidth || 'inherit', \"}\\n\\n.eHQDY_dfBC .eHQDY_eWAY{stroke-dasharray:3em;transform-origin:calc(\").concat(theme.xSmallSize || 'inherit', \"/2) calc(\").concat(theme.xSmallSize || 'inherit', \"/2)}\\n\\n.eHQDY_doqw,.eHQDY_doqw .eHQDY_cJVF{height:\").concat(theme.smallSize || 'inherit', \";width:\").concat(theme.smallSize || 'inherit', \"}\\n\\n.eHQDY_doqw .eHQDY_eWAY,.eHQDY_doqw .eHQDY_dTxv{stroke-width:\").concat(theme.smallBorderWidth || 'inherit', \"}\\n\\n.eHQDY_doqw .eHQDY_eWAY{stroke-dasharray:6em;transform-origin:calc(\").concat(theme.smallSize || 'inherit', \"/2) calc(\").concat(theme.smallSize || 'inherit', \"/2)}\\n\\n.eHQDY_ycrn,.eHQDY_ycrn .eHQDY_cJVF{height:\").concat(theme.mediumSize || 'inherit', \";width:\").concat(theme.mediumSize || 'inherit', \"}\\n\\n.eHQDY_ycrn .eHQDY_cJVF,.eHQDY_ycrn .eHQDY_eWAY,.eHQDY_ycrn .eHQDY_dTxv{stroke-width:\").concat(theme.mediumBorderWidth || 'inherit', \"}\\n\\n.eHQDY_ycrn .eHQDY_eWAY{stroke-dasharray:10.5em;transform-origin:calc(\").concat(theme.mediumSize || 'inherit', \"/2) calc(\").concat(theme.mediumSize || 'inherit', \"/2)}\\n\\n.eHQDY_cMDj,.eHQDY_cMDj .eHQDY_cJVF{height:\").concat(theme.largeSize || 'inherit', \";width:\").concat(theme.largeSize || 'inherit', \"}\\n\\n.eHQDY_cMDj .eHQDY_cJVF,.eHQDY_cMDj .eHQDY_eWAY,.eHQDY_cMDj .eHQDY_dTxv{stroke-width:\").concat(theme.largeBorderWidth || 'inherit', \"}\\n\\n.eHQDY_cMDj .eHQDY_eWAY{stroke-dasharray:14em;transform-origin:calc(\").concat(theme.largeSize || 'inherit', \"/2) calc(\").concat(theme.largeSize || 'inherit', \"/2)}\\n\\n.eHQDY_cJVF{animation-duration:2.25s;animation-iteration-count:infinite;animation-name:eHQDY_dpDr;animation-timing-function:linear;display:block;left:0;position:absolute;top:0}\\n\\n.eHQDY_eWAY,.eHQDY_dTxv{fill:none}\\n\\n.eHQDY_eWAY{stroke-linecap:round}\\n\\n.eHQDY_bGBk:not(.eHQDY_eoSs) .eHQDY_eWAY{animation-duration:1.75s;animation-iteration-count:infinite;animation-name:eHQDY_buIf;animation-timing-function:ease}\\n\\n.eHQDY_bGBk.eHQDY_eoSs .eHQDY_eWAY{stroke-dashoffset:100%}\\n\\n.eHQDY_ddES .eHQDY_eWAY{stroke:\").concat(theme.color || 'inherit', \"}\\n\\n.eHQDY_enfx .eHQDY_eWAY{stroke:\").concat(theme.inverseColor || 'inherit', \"}\");\n  },\n  'root': 'eHQDY_bGBk',\n  'circleTrack': 'eHQDY_dTxv',\n  'x-small': 'eHQDY_dfBC',\n  'circle': 'eHQDY_cJVF',\n  'circleSpin': 'eHQDY_eWAY',\n  'small': 'eHQDY_doqw',\n  'medium': 'eHQDY_ycrn',\n  'large': 'eHQDY_cMDj',\n  'rotate': 'eHQDY_dpDr',\n  'ie11': 'eHQDY_eoSs',\n  'morph': 'eHQDY_buIf',\n  'default': 'eHQDY_ddES',\n  'inverse': 'eHQDY_enfx'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Spinner = (_dec = deprecated('8.0.0', {\n  title: 'renderTitle'\n}), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Spinner, _Component);\n\n  function Spinner(props) {\n    var _this;\n\n    _classCallCheck(this, Spinner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Spinner).call(this));\n    _this.titleId = uid('Spinner');\n    return _this;\n  }\n\n  _createClass(Spinner, [{\n    key: \"radius\",\n    value: function radius() {\n      switch (this.props.size) {\n        case 'x-small':\n          return '0.5em';\n\n        case 'small':\n          return '1em';\n\n        case 'large':\n          return '2.25em';\n\n        default:\n          return '1.75em';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[this.props.size], true), _defineProperty(_classes, styles[this.props.variant], true), _defineProperty(_classes, styles.ie11, isIE11), _classes);\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Spinner.propTypes), Spinner);\n      var hasTitle = this.props.renderTitle || this.props.title;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(hasTitle, '[Spinner] The renderTitle prop is necessary for screen reader support.');\n\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        as: this.props.as,\n        elementRef: this.props.elementRef,\n        className: classNames(classes),\n        margin: this.props.margin\n      }), React.createElement(\"svg\", {\n        className: styles.circle,\n        role: \"img\",\n        \"aria-labelledby\": this.titleId,\n        focusable: \"false\"\n      }, React.createElement(\"title\", {\n        id: this.titleId\n      }, callRenderProp(this.props.renderTitle)), React.createElement(\"g\", {\n        role: \"presentation\"\n      }, this.props.variant !== 'inverse' && React.createElement(\"circle\", {\n        className: styles.circleTrack,\n        cx: \"50%\",\n        cy: \"50%\",\n        r: this.radius()\n      }), React.createElement(\"circle\", {\n        className: styles.circleSpin,\n        cx: \"50%\",\n        cy: \"50%\",\n        r: this.radius()\n      }))));\n    }\n  }]);\n\n  Spinner.displayName = \"Spinner\";\n  return Spinner;\n}(Component), _class2.propTypes = {\n  /**\n  * Give the spinner a title to be read by screenreaders\n  */\n  renderTitle: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n\n  /**\n  * Different-sized spinners\n  */\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large']),\n\n  /**\n  * Different color schemes for use with light or dark backgrounds\n  */\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  elementRef: PropTypes.func,\n  as: PropTypes.elementType,\n\n  /* eslint-disable react/require-default-props */\n  title: PropTypes.string // remove in version 8.0.0\n\n  /* eslint-enable react/require-default-props */\n\n}, _class2.defaultProps = {\n  renderTitle: void 0,\n  as: 'div',\n  size: 'medium',\n  variant: 'default',\n  margin: void 0,\n  elementRef: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default Spinner;\nexport { Spinner };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors;\n  return {\n    trackColor: colors.backgroundLight,\n    color: colors.backgroundBrand,\n    xSmallSize: '1.5em',\n    xSmallBorderWidth: '0.25em',\n    smallSize: '3em',\n    smallBorderWidth: '0.375em',\n    mediumSize: '5em',\n    mediumBorderWidth: '0.5em',\n    largeSize: '7em',\n    largeBorderWidth: '0.75em',\n    inverseColor: colors.backgroundBrand\n  };\n}\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    inverseColor: colors.backgroundLightest\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-primary']\n  };\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Spinner as UISpinner } from '@instructure/ui-spinner';\nimport { deprecated } from '@instructure/ui-react-utils';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedSpinner\n---\n**/\n\nvar Spinner = (_dec = deprecated('7.0.0', null, 'Use Spinner from ui-spinner instead.'), _dec2 = testable(), _dec3 = themeable(theme), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Spinner, _Component);\n\n  function Spinner() {\n    _classCallCheck(this, Spinner);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Spinner).apply(this, arguments));\n  }\n\n  _createClass(Spinner, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(UISpinner, this.props);\n    }\n  }]);\n\n  Spinner.displayName = \"Spinner\";\n  return Spinner;\n}(Component), _class2.propTypes = {\n  /**\n  * Give the spinner a title to be read by screenreaders (Deprecated)\n  */\n  title: PropTypes.string,\n\n  /**\n  * Give the spinner a title to be read by screenreaders\n  */\n  renderTitle: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n\n  /**\n  * Different-sized spinners\n  */\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large']),\n\n  /**\n  * Different color schemes for use with light or dark backgrounds\n  */\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  elementRef: PropTypes.func,\n  as: PropTypes.elementType\n}, _class2.defaultProps = {\n  as: 'div',\n  size: 'medium',\n  variant: 'default',\n  margin: void 0,\n  elementRef: void 0,\n  renderTitle: void 0,\n  title: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default Spinner;\nexport { Spinner };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors;\n  return {\n    trackColor: colors.textLight,\n    color: colors.textBrand,\n    xSmallSize: '1.5em',\n    xSmallBorderWidth: '0.25em',\n    smallSize: '3em',\n    smallBorderWidth: '0.375em',\n    mediumSize: '5em',\n    mediumBorderWidth: '0.5em',\n    largeSize: '7em',\n    largeBorderWidth: '0.75em',\n    inverseTrackColor: colors.textDarkest,\n    inverseColor: colors.textBrand\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-primary'],\n    inverseColor: variables['ic-brand-primary'],\n    inverseTrackColor: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport PropTypes from 'prop-types';\nexport const userShape = {\n  id: PropTypes.string,\n  displayName: PropTypes.string,\n  avatarUrl: PropTypes.string,\n  color: PropTypes.string\n};\nexport const badgeShape = {\n  text: PropTypes.string,\n  variant: PropTypes.string\n};\nexport const courseShape = {\n  id: PropTypes.string,\n  longName: PropTypes.string,\n  enrollmentType: PropTypes.string\n};\nexport const itemShape = {\n  context: PropTypes.shape({})\n};\nexport const opportunityShape = {\n  items: PropTypes.arrayOf(PropTypes.object),\n  nextUrl: PropTypes.string\n};\nexport const sizeShape = PropTypes.oneOf(['small', 'medium', 'large']);\nexport const statusShape = PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n  excused: PropTypes.bool,\n  graded: PropTypes.bool,\n  has_feedback: PropTypes.bool,\n  late: PropTypes.bool,\n  missing: PropTypes.bool,\n  needs_grading: PropTypes.bool,\n  submitted: PropTypes.bool\n})]);\nexport const feedbackShape = {\n  author_avatar_url: PropTypes.string,\n  author_name: PropTypes.string,\n  comment: PropTypes.string,\n  is_media: PropTypes.bool\n};\nexport default {\n  badgeShape,\n  userShape,\n  courseShape,\n  itemShape,\n  opportunityShape,\n  sizeShape,\n  statusShape,\n  feedbackShape\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { childrenOrValue } from '@instructure/ui-prop-types';\nimport { deprecated, getElementType, omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'emyav',\n  template: function template(theme) {\n    return \"\\n\\n.emyav_bGBk{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:\".concat(theme.fontFamily || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin:0;text-rendering:optimizeLegibility}\\n\\ninput.emyav_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:-6px 0 0 0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.emyav_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.emyav_bGBk[type]{text-align:right}\\n\\ninput.emyav_bGBk[type]:focus{outline:none}\\n\\n.emyav_fIqS{font-size:\").concat(theme.h1FontSize || 'inherit', \";font-weight:\").concat(theme.h1FontWeight || 'inherit', \"}\\n\\n.emyav_eABG{font-size:\").concat(theme.h2FontSize || 'inherit', \";font-weight:\").concat(theme.h2FontWeight || 'inherit', \"}\\n\\n.emyav_dlZd{font-size:\").concat(theme.h3FontSize || 'inherit', \";font-weight:\").concat(theme.h3FontWeight || 'inherit', \"}\\n\\n.emyav_bAmB{font-size:\").concat(theme.h4FontSize || 'inherit', \";font-weight:\").concat(theme.h4FontWeight || 'inherit', \"}\\n\\n.emyav_eRZv{font-size:\").concat(theme.h5FontSize || 'inherit', \";font-weight:\").concat(theme.h5FontWeight || 'inherit', \"}\\n\\n.emyav_dTMd{border-top:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";padding-top:\").concat(theme.borderPadding || 'inherit', \"}\\n\\n.emyav_evMo{border-bottom:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";padding-bottom:\").concat(theme.borderPadding || 'inherit', \"}\\n\\n.emyav_fAVi{color:inherit}\\n\\n.emyav_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.emyav_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.emyav_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.emyav_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.emyav_ZpoW{font-size:inherit;font-weight:inherit;line-height:inherit;margin:0}\\n\\n.emyav_bOQC{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\");\n  },\n  'root': 'emyav_bGBk',\n  'h1': 'emyav_fIqS',\n  'h2': 'emyav_eABG',\n  'h3': 'emyav_dlZd',\n  'h4': 'emyav_bAmB',\n  'h5': 'emyav_eRZv',\n  'border-top': 'emyav_dTMd',\n  'border-bottom': 'emyav_evMo',\n  'color-inherit': 'emyav_fAVi',\n  'color-primary': 'emyav_qFsi',\n  'color-secondary': 'emyav_bLsb',\n  'color-primary-inverse': 'emyav_ezBQ',\n  'color-secondary-inverse': 'emyav_dlnd',\n  'reset': 'emyav_ZpoW',\n  'ellipsis': 'emyav_bOQC'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedHeading\n---\n**/\n\nvar Heading = (_dec = deprecated('7.0.0', null, 'Use Heading from ui-heading instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Heading, _Component);\n\n  function Heading() {\n    _classCallCheck(this, Heading);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Heading).apply(this, arguments));\n  }\n\n  _createClass(Heading, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          border = _this$props.border,\n          children = _this$props.children,\n          color = _this$props.color,\n          level = _this$props.level,\n          ellipsis = _this$props.ellipsis,\n          margin = _this$props.margin,\n          elementRef = _this$props.elementRef;\n      var ElementType = getElementType(Heading, this.props, function () {\n        if (level === 'reset') {\n          return 'span';\n        } else {\n          return level;\n        }\n      });\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Heading.propTypes), Heading);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[level], true), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _defineProperty(_classnames, styles[\"border-\".concat(border)], border !== 'none'), _defineProperty(_classnames, styles.ellipsis, ellipsis), _classnames)),\n        as: ElementType,\n        margin: margin,\n        elementRef: elementRef\n      }), children);\n    }\n  }]);\n\n  Heading.displayName = \"Heading\";\n  return Heading;\n}(Component), _class2.propTypes = {\n  border: PropTypes.oneOf(['none', 'top', 'bottom']),\n  children: childrenOrValue,\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'inherit']),\n  level: PropTypes.oneOf(['h1', 'h2', 'h3', 'h4', 'h5', 'reset']),\n\n  /**\n  * the element type to render as (defaults to the level)\n  */\n  as: PropTypes.elementType,\n  // eslint-disable-line react/require-default-props\n  ellipsis: PropTypes.bool,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  children: null,\n  margin: void 0,\n  elementRef: void 0,\n  border: 'none',\n  color: 'inherit',\n  level: 'h2',\n  ellipsis: false\n}, _temp)) || _class) || _class) || _class);\nexport default Heading;\nexport { Heading };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeightFit,\n    h1FontSize: typography.fontSizeXXLarge,\n    h1FontWeight: typography.fontWeightLight,\n    h2FontSize: typography.fontSizeXLarge,\n    h2FontWeight: typography.fontWeightNormal,\n    h3FontSize: typography.fontSizeLarge,\n    h3FontWeight: typography.fontWeightBold,\n    h4FontSize: typography.fontSizeMedium,\n    h4FontWeight: typography.fontWeightBold,\n    h5FontSize: typography.fontSizeSmall,\n    h5FontWeight: typography.fontWeightNormal,\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    brandColor: colors.textBrand,\n    warningColor: colors.textWarning,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    borderPadding: spacing.xxxSmall,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'cjUyb',\n  template: function template(theme) {\n    return \"\\n\\n.cjUyb_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \"}\\n\\n.cjUyb_bGBk sub,.cjUyb_bGBk sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}\\n\\n.cjUyb_bGBk sup{top:-0.4em}\\n\\n.cjUyb_bGBk sub{bottom:-0.4em}\\n\\n.cjUyb_bGBk code,.cjUyb_bGBk pre{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamilyMonospace || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n.cjUyb_bGBk em,.cjUyb_bGBk i{font-style:italic}\\n\\n.cjUyb_bGBk b,.cjUyb_bGBk strong{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk p{display:block;margin:\").concat(theme.paragraphMargin || 'inherit', \";padding:0}\\n\\ninput.cjUyb_bGBk[type]{-moz-appearance:none;-webkit-appearance:none;appearance:none;background:none;border:none;border-radius:0;box-shadow:none;box-sizing:border-box;color:inherit;display:block;height:auto;line-height:inherit;margin:0;outline:0;padding:0;text-align:start;width:100%}\\n\\n[dir=ltr] input.cjUyb_bGBk[type]{text-align:left}\\n\\n[dir=rtl] input.cjUyb_bGBk[type]{text-align:right}\\n\\n.cjUyb_bGBk:focus,input.cjUyb_bGBk[type]:focus{outline:none}\\n\\n.cjUyb_bGBk.cjUyb_qFsi,input.cjUyb_bGBk[type].cjUyb_qFsi{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bLsb,input.cjUyb_bGBk[type].cjUyb_bLsb{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ezBQ,input.cjUyb_bGBk[type].cjUyb_ezBQ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dlnd,input.cjUyb_bGBk[type].cjUyb_dlnd{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cJLh,input.cjUyb_bGBk[type].cjUyb_cJLh{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fpfC,input.cjUyb_bGBk[type].cjUyb_fpfC{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eHcp,input.cjUyb_bGBk[type].cjUyb_eHcp{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dwua,input.cjUyb_bGBk[type].cjUyb_dwua{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eZgl,input.cjUyb_bGBk[type].cjUyb_eZgl{color:\").concat(theme.alertColor || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fbNi,input.cjUyb_bGBk[type].cjUyb_fbNi{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-break:break-word}\\n\\n.cjUyb_bGBk.cjUyb_drST,input.cjUyb_bGBk[type].cjUyb_drST{font-weight:\").concat(theme.fontWeightNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_pEgL,input.cjUyb_bGBk[type].cjUyb_pEgL{font-weight:\").concat(theme.fontWeightLight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bdMA,input.cjUyb_bGBk[type].cjUyb_bdMA{font-weight:\").concat(theme.fontWeightBold || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ijuF,input.cjUyb_bGBk[type].cjUyb_ijuF{font-style:normal}\\n\\n.cjUyb_bGBk.cjUyb_fetN,input.cjUyb_bGBk[type].cjUyb_fetN{font-style:italic}\\n\\n.cjUyb_bGBk.cjUyb_dfBC,input.cjUyb_bGBk[type].cjUyb_dfBC{font-size:\").concat(theme.fontSizeXSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_doqw,input.cjUyb_bGBk[type].cjUyb_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_ycrn,input.cjUyb_bGBk[type].cjUyb_ycrn{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_cMDj,input.cjUyb_bGBk[type].cjUyb_cMDj{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eoMd,input.cjUyb_bGBk[type].cjUyb_eoMd{font-size:\").concat(theme.fontSizeXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fdca,input.cjUyb_bGBk[type].cjUyb_fdca{font-size:\").concat(theme.fontSizeXXLarge || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fEWX,input.cjUyb_bGBk[type].cjUyb_fEWX{line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_fNIu,input.cjUyb_bGBk[type].cjUyb_fNIu{line-height:\").concat(theme.lineHeightFit || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_dfDs,input.cjUyb_bGBk[type].cjUyb_dfDs{line-height:\").concat(theme.lineHeightCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bDjL,input.cjUyb_bGBk[type].cjUyb_bDjL{line-height:\").concat(theme.lineHeightDouble || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_eQnG,input.cjUyb_bGBk[type].cjUyb_eQnG{letter-spacing:\").concat(theme.letterSpacingNormal || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bbUA,input.cjUyb_bGBk[type].cjUyb_bbUA{letter-spacing:\").concat(theme.letterSpacingCondensed || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_bRWU,input.cjUyb_bGBk[type].cjUyb_bRWU{letter-spacing:\").concat(theme.letterSpacingExpanded || 'inherit', \"}\\n\\n.cjUyb_bGBk.cjUyb_wZsr,input.cjUyb_bGBk[type].cjUyb_wZsr{text-transform:none}\\n\\n.cjUyb_bGBk.cjUyb_fCZK,input.cjUyb_bGBk[type].cjUyb_fCZK{text-transform:capitalize}\\n\\n.cjUyb_bGBk.cjUyb_dsRi,input.cjUyb_bGBk[type].cjUyb_dsRi{text-transform:uppercase}\\n\\n.cjUyb_bGBk.cjUyb_bLtD,input.cjUyb_bGBk[type].cjUyb_bLtD{text-transform:lowercase}\");\n  },\n  'root': 'cjUyb_bGBk',\n  'color-primary': 'cjUyb_qFsi',\n  'color-secondary': 'cjUyb_bLsb',\n  'color-primary-inverse': 'cjUyb_ezBQ',\n  'color-secondary-inverse': 'cjUyb_dlnd',\n  'color-success': 'cjUyb_cJLh',\n  'color-brand': 'cjUyb_fpfC',\n  'color-warning': 'cjUyb_eHcp',\n  'color-error': 'cjUyb_dwua',\n  'color-alert': 'cjUyb_eZgl',\n  'wrap-break-word': 'cjUyb_fbNi',\n  'weight-normal': 'cjUyb_drST',\n  'weight-light': 'cjUyb_pEgL',\n  'weight-bold': 'cjUyb_bdMA',\n  'style-normal': 'cjUyb_ijuF',\n  'style-italic': 'cjUyb_fetN',\n  'x-small': 'cjUyb_dfBC',\n  'small': 'cjUyb_doqw',\n  'medium': 'cjUyb_ycrn',\n  'large': 'cjUyb_cMDj',\n  'x-large': 'cjUyb_eoMd',\n  'xx-large': 'cjUyb_fdca',\n  'lineHeight-default': 'cjUyb_fEWX',\n  'lineHeight-fit': 'cjUyb_fNIu',\n  'lineHeight-condensed': 'cjUyb_dfDs',\n  'lineHeight-double': 'cjUyb_bDjL',\n  'letterSpacing-normal': 'cjUyb_eQnG',\n  'letterSpacing-condensed': 'cjUyb_bbUA',\n  'letterSpacing-expanded': 'cjUyb_bRWU',\n  'transform-none': 'cjUyb_wZsr',\n  'transform-capitalize': 'cjUyb_fCZK',\n  'transform-uppercase': 'cjUyb_dsRi',\n  'transform-lowercase': 'cjUyb_bLtD'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedText\n---\n**/\n\nvar Text = (_dec = deprecated('7.0.0', null, 'Use Text from ui-text instead.'), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Text, _Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          wrap = _this$props.wrap,\n          weight = _this$props.weight,\n          fontStyle = _this$props.fontStyle,\n          size = _this$props.size,\n          lineHeight = _this$props.lineHeight,\n          letterSpacing = _this$props.letterSpacing,\n          transform = _this$props.transform,\n          color = _this$props.color,\n          children = _this$props.children;\n      var ElementType = getElementType(Text, this.props);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, Text.propTypes), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[size], size), _defineProperty(_classnames, styles[\"wrap-\".concat(wrap)], wrap), _defineProperty(_classnames, styles[\"weight-\".concat(weight)], weight), _defineProperty(_classnames, styles[\"style-\".concat(fontStyle)], fontStyle), _defineProperty(_classnames, styles[\"transform-\".concat(transform)], transform), _defineProperty(_classnames, styles[\"lineHeight-\".concat(lineHeight)], lineHeight), _defineProperty(_classnames, styles[\"letterSpacing-\".concat(letterSpacing)], letterSpacing), _defineProperty(_classnames, styles[\"color-\".concat(color)], color), _classnames)),\n        ref: this.props.elementRef\n      }), children);\n    }\n  }]);\n\n  Text.displayName = \"Text\";\n  return Text;\n}(Component), _class2.propTypes = {\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n  wrap: PropTypes.oneOf(['normal', 'break-word']),\n  weight: PropTypes.oneOf(['normal', 'light', 'bold']),\n  fontStyle: PropTypes.oneOf(['italic', 'normal']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  lineHeight: PropTypes.oneOf(['default', 'fit', 'condensed', 'double']),\n  letterSpacing: PropTypes.oneOf(['normal', 'condensed', 'expanded']),\n  transform: PropTypes.oneOf(['none', 'capitalize', 'uppercase', 'lowercase']),\n  color: PropTypes.oneOf(['primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand']),\n  children: PropTypes.node,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  as: 'span',\n  wrap: 'normal',\n  size: 'medium',\n  letterSpacing: 'normal',\n  children: null,\n  elementRef: void 0,\n  color: void 0,\n  transform: void 0,\n  lineHeight: void 0,\n  fontStyle: void 0,\n  weight: void 0\n}, _temp)) || _class) || _class);\nexport default Text;\nexport { Text };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      spacing = _ref.spacing;\n  return _objectSpread({}, typography, {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    alertColor: colors.textAlert,\n    paragraphMargin: \"\".concat(spacing.medium, \" 0\")\n  });\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport formatMessage from 'format-message';\nconst canvasPlannerNamespace = formatMessage.namespace();\nexport default canvasPlannerNamespace;","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport moment from 'moment-timezone';\nimport formatMessage from '../format-message';\nlet dateTimeFormatters = {};\nexport function initializeDateTimeFormatters(formatters) {\n  dateTimeFormatters = formatters;\n}\n\nfunction getTodaysDetails() {\n  const today = moment();\n  const yesterday = today.clone().subtract(1, 'days');\n  const tomorrow = today.clone().add(1, 'days');\n  return {\n    today,\n    yesterday,\n    tomorrow\n  };\n}\n\nfunction isSpecialDay(date) {\n  const _getTodaysDetails = getTodaysDetails(),\n        today = _getTodaysDetails.today,\n        yesterday = _getTodaysDetails.yesterday,\n        tomorrow = _getTodaysDetails.tomorrow;\n\n  const momentizedDate = new moment(date);\n  const specialDates = [today, yesterday, tomorrow];\n  return specialDates.some(sd => sd.isSame(momentizedDate, 'day'));\n}\n\nexport function isToday(date, today = moment()) {\n  const momentizedDate = new moment(date);\n  return today.isSame(momentizedDate, 'day');\n}\nexport function isInFuture(date, today = moment()) {\n  const momentizedDate = new moment(date);\n  return momentizedDate.isAfter(today, 'day');\n}\nexport function isTodayOrBefore(date, today = moment()) {\n  const momentizedDate = new moment(date);\n  return momentizedDate.isBefore(today, 'day') || momentizedDate.isSame(today, 'day'); // moment.isSameOrBefore isn't available until moment 2.11, but until we get off\n  // all of ui-core, it ends up pulling in an earlier version.\n  // return momentizedDate.isSameOrBefore(today, 'day');\n} // determines if the checkMoment falls on or inbetween the firstMoment and the lastMoment\n\nexport function isInMomentRange(checkMoment, firstMoment, lastMoment) {\n  const isOnOrAfterFirst = checkMoment.isAfter(firstMoment) || checkMoment.isSame(firstMoment);\n  const isOnOrBeforeLast = checkMoment.isBefore(lastMoment) || checkMoment.isSame(lastMoment);\n  return isOnOrAfterFirst && isOnOrBeforeLast;\n}\n/**\n * Given a date (in any format that moment will digest)\n * it will return a string indicating Today, Tomorrow, Yesterday\n * or the day of the week if it doesn't fit in any of those categories\n */\n\nexport function getFriendlyDate(date) {\n  const _getTodaysDetails2 = getTodaysDetails(),\n        today = _getTodaysDetails2.today,\n        yesterday = _getTodaysDetails2.yesterday,\n        tomorrow = _getTodaysDetails2.tomorrow;\n\n  const momentizedDate = new moment(date);\n\n  if (isToday(date, today)) {\n    return formatMessage('Today');\n  } else if (yesterday.isSame(momentizedDate, 'day')) {\n    return formatMessage('Yesterday');\n  } else if (tomorrow.isSame(momentizedDate, 'day')) {\n    return formatMessage('Tomorrow');\n  } else {\n    return momentizedDate.format('dddd');\n  }\n}\nexport function getFullDate(date) {\n  if (isSpecialDay(date)) {\n    return moment(date).format('dddd, MMMM D');\n  } else {\n    return moment(date).format('MMMM D, YYYY');\n  }\n}\nexport function getShortDate(date) {\n  return moment(date).format('MMMM D');\n}\nexport function getFullDateAndTime(date) {\n  const _getTodaysDetails3 = getTodaysDetails(),\n        today = _getTodaysDetails3.today,\n        yesterday = _getTodaysDetails3.yesterday,\n        tomorrow = _getTodaysDetails3.tomorrow;\n\n  const momentizedDate = new moment(date);\n\n  if (isToday(date, today)) {\n    return formatMessage('Today at {date}', {\n      date: momentizedDate.format('LT')\n    });\n  } else if (yesterday.isSame(momentizedDate, 'day')) {\n    return formatMessage('Yesterday at {date}', {\n      date: momentizedDate.format('LT')\n    });\n  } else if (tomorrow.isSame(momentizedDate, 'day')) {\n    return formatMessage('Tomorrow at {date}', {\n      date: momentizedDate.format('LT')\n    });\n  } else {\n    return formatMessage('{date} at {time}', {\n      date: momentizedDate.format('LL'),\n      time: momentizedDate.format('LT')\n    });\n  }\n}\nexport function dateString(date, timeZone) {\n  if (dateTimeFormatters.dateString) {\n    return dateTimeFormatters.dateString(date.toISOString(), {\n      timezone: timeZone\n    });\n  } else {\n    return date.format('ll'); // always includes year\n  }\n}\nexport function timeString(date, timeZone) {\n  if (dateTimeFormatters.timeString) {\n    return dateTimeFormatters.timeString(date.toISOString(), {\n      timezone: timeZone\n    });\n  } else {\n    return date.format('LT');\n  }\n}\nexport function dateTimeString(date, timeZone) {\n  if (dateTimeFormatters.datetimeString) {\n    return dateTimeFormatters.datetimeString(date.toISOString(), {\n      timezone: timeZone\n    });\n  } else {\n    return date.format('lll'); // always includes year\n  }\n}\nexport function dateRangeString(startDate, endDate, timeZone) {\n  if (startDate.isSame(endDate)) {\n    return dateTimeString(startDate, timeZone);\n  } else if (startDate.dayOfYear() === endDate.dayOfYear()) {\n    return formatMessage('{startDateTime} - {endTime}', {\n      startDateTime: dateTimeString(startDate, timeZone),\n      endTime: timeString(endDate, timeZone)\n    });\n  } else {\n    return formatMessage('{startDateTime} - {endDateTime}', {\n      startDateTime: dateTimeString(startDate, timeZone),\n      endDateTime: dateTimeString(endDate, timeZone)\n    });\n  }\n}\nexport function formatDayKey(date) {\n  return moment(date, moment.ISO_8601).format('YYYY-MM-DD');\n}\nexport function getFirstLoadedMoment(days, timeZone) {\n  if (!days.length) return moment().tz(timeZone).startOf('day');\n  const firstLoadedDay = days[0];\n  const firstLoadedItem = firstLoadedDay[1][0];\n  if (firstLoadedItem) return firstLoadedItem.dateBucketMoment.clone();\n  return moment.tz(firstLoadedDay[0], timeZone).startOf('day');\n}\nexport function getLastLoadedMoment(days, timeZone) {\n  if (!days.length) return moment().tz(timeZone).startOf('day');\n  const lastLoadedDay = days[days.length - 1];\n  const loadedItem = lastLoadedDay[1][0];\n  if (loadedItem) return loadedItem.dateBucketMoment.clone();\n  return moment.tz(lastLoadedDay[0], timeZone).startOf('day');\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps, deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'bbhNB',\n  template: function template(theme) {\n    return \"\\n\\n.bbhNB_bGBk{background-clip:content-box;background-color:\".concat(theme.background || 'inherit', \";background-position:50%;background-repeat:no-repeat;background-size:cover;border-color:\").concat(theme.borderColor || 'inherit', \";border-style:solid;box-sizing:border-box;height:2.5em;line-height:0;overflow:hidden;text-align:center}\\n\\n[dir=ltr] .bbhNB_bGBk,[dir=rtl] .bbhNB_bGBk{text-align:center}\\n\\n.bbhNB_bGBk.bbhNB_uUeq{font-size:inherit}\\n\\n.bbhNB_bGBk.bbhNB_uUeq,.bbhNB_bGBk.bbhNB_dfBC{border-width:\").concat(theme.borderWidthSmall || 'inherit', \"}\\n\\n.bbhNB_bGBk.bbhNB_dfBC{font-size:0.75rem}\\n\\n.bbhNB_bGBk.bbhNB_doqw{border-width:\").concat(theme.borderWidthSmall || 'inherit', \";font-size:1rem}\\n\\n.bbhNB_bGBk.bbhNB_ycrn{font-size:1.25rem}\\n\\n.bbhNB_bGBk.bbhNB_cMDj,.bbhNB_bGBk.bbhNB_ycrn{border-width:\").concat(theme.borderWidthMedium || 'inherit', \"}\\n\\n.bbhNB_bGBk.bbhNB_cMDj{font-size:1.5rem}\\n\\n.bbhNB_bGBk.bbhNB_eoMd{border-width:\").concat(theme.borderWidthMedium || 'inherit', \";font-size:1.75rem}\\n\\n.bbhNB_eYKj{color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";letter-spacing:0.0313em;line-height:2.375em}\\n\\n.bbhNB_MrJH{display:none}\\n\\n.bbhNB_cJVF{border-radius:100%;overflow:hidden;position:relative;width:2.5em}\\n\\n.bbhNB_bRWf{width:3em}\");\n  },\n  'root': 'bbhNB_bGBk',\n  'auto': 'bbhNB_uUeq',\n  'x-small': 'bbhNB_dfBC',\n  'small': 'bbhNB_doqw',\n  'medium': 'bbhNB_ycrn',\n  'large': 'bbhNB_cMDj',\n  'x-large': 'bbhNB_eoMd',\n  'initials': 'bbhNB_eYKj',\n  'loadImage': 'bbhNB_MrJH',\n  'circle': 'bbhNB_cJVF',\n  'rectangle': 'bbhNB_bRWf'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedAvatar\n---\n**/\n\nvar Avatar = (_dec = deprecated('7.0.0', null, 'Use Avatar from ui-avatar instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Avatar, _Component);\n\n  function Avatar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Avatar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Avatar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loaded: false\n    };\n\n    _this.handleImageLoaded = function (event) {\n      _this.setState({\n        loaded: true\n      });\n\n      _this.props.onImageLoaded(event);\n    };\n\n    return _this;\n  }\n\n  _createClass(Avatar, [{\n    key: \"makeInitialsFromName\",\n    value: function makeInitialsFromName() {\n      var name = this.props.name;\n\n      if (!name || typeof name !== 'string') {\n        return;\n      }\n\n      name = name.trim();\n\n      if (name.length === 0) {\n        return;\n      }\n\n      if (name.match(/\\s+/)) {\n        var names = name.split(/\\s+/);\n        return (names[0][0] + names[names.length - 1][0]).toUpperCase();\n      } else {\n        return name[0].toUpperCase();\n      }\n    }\n  }, {\n    key: \"renderLoadImage\",\n    value: function renderLoadImage() {\n      // This image element is visually hidden and is here for loading purposes only\n      return React.createElement(\"img\", {\n        src: this.props.src,\n        className: styles.loadImage,\n        alt: this.props.alt,\n        onLoad: this.handleImageLoaded,\n        \"aria-hidden\": \"true\"\n      });\n    }\n  }, {\n    key: \"renderInitials\",\n    value: function renderInitials() {\n      return React.createElement(\"span\", {\n        className: styles.initials,\n        \"aria-hidden\": \"true\"\n      }, this.makeInitialsFromName());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Avatar.propTypes), Avatar);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        style: {\n          backgroundImage: this.state.loaded ? \"url('\".concat(this.props.src, \"')\") : void 0\n        },\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[this.props.size], true), _defineProperty(_classnames, styles[this.props.variant], true), _classnames)),\n        \"aria-label\": this.props.alt ? this.props.alt : null,\n        role: this.props.alt ? 'img' : null,\n        as: this.props.as,\n        elementRef: this.props.elementRef,\n        margin: this.props.margin,\n        display: this.props.inline ? 'inline-block' : 'block'\n      }), this.renderLoadImage(), !this.state.loaded && this.renderInitials());\n    }\n  }]);\n\n  Avatar.displayName = \"Avatar\";\n  return Avatar;\n}(Component), _class2.propTypes = {\n  name: PropTypes.string.isRequired,\n\n  /*\n  * URL of the image to display as the background image\n  */\n  src: PropTypes.string,\n\n  /*\n  * Accessible label\n  */\n  alt: PropTypes.string,\n  size: PropTypes.oneOf(['auto', 'x-small', 'small', 'medium', 'large', 'x-large']),\n  variant: PropTypes.oneOf(['circle', 'rectangle']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  inline: PropTypes.bool,\n\n  /**\n  * Callback fired when the avatar image has loaded\n  */\n  onImageLoaded: PropTypes.func,\n\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n  // eslint-disable-line react/require-default-props\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  src: void 0,\n  alt: void 0,\n  margin: void 0,\n  elementRef: void 0,\n  size: 'medium',\n  variant: 'circle',\n  inline: true,\n  onImageLoaded: function onImageLoaded(event) {}\n}, _temp)) || _class) || _class) || _class);\nexport default Avatar;\nexport { Avatar };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  borders,\n  colors,\n  media,\n  spacing,\n  typography\n}) {\n  return _objectSpread({\n    fontFamily: typography.fontFamily,\n    lineHeight: typography.lineHeightCondensed,\n    margin: \"\".concat(spacing.medium, \" 0 0 0\"),\n    groupColor: colors.brand,\n    borderTopWidth: borders.widthSmall,\n    borderTopWidthTablet: borders.widthMedium,\n    heroMinHeight: '7rem',\n    heroWidth: '12rem',\n    heroWidthLarge: '14rem',\n    heroPadding: '0 0.0625rem',\n    heroColor: colors.brand,\n    heroBorderRadius: borders.radiusMedium,\n    overlayOpacity: 0.75,\n    titleFontSize: typography.fontSizeXSmall,\n    titleFontSizeTablet: '0.875rem',\n    titleFontWeight: typography.fontWeightBold,\n    titleLetterSpacing: '0.0625rem',\n    titleBackground: colors.white,\n    titleTextTransform: 'uppercase',\n    titlePadding: \"\".concat(spacing.xxSmall, \" \").concat(spacing.xSmall),\n    titleOverflowGradientHeight: spacing.xxSmall,\n    titleTextDecoration: 'none',\n    titleTextDecorationHover: 'underline',\n    titleColor: colors.brand\n  }, media);\n}\n\ngenerator['canvas-a11y'] = generator['modern-a11y'] = function ({\n  colors\n}) {\n  return {\n    heroTextDecoration: 'underline',\n    heroTextDecorationHover: 'none',\n    titleColor: colors.licorice\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    groupColor: variables['ic-brand-primary'],\n    titleColor: variables['ic-brand-primary']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      typography = _ref.typography;\n  return {\n    color: colors.textBrand,\n    background: colors.backgroundLightest,\n    borderWidthSmall: borders.widthSmall,\n    borderWidthMedium: borders.widthMedium,\n    borderColor: colors.borderMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightBold\n  };\n}\n\ngenerator['canvas'] = function (variables) {\n  return {\n    color: variables['ic-brand-primary']\n  };\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { PositionPropTypes } from '@instructure/ui-position';\nimport { themeable } from '@instructure/ui-themeable';\nimport { deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { Tooltip as UITooltip } from '@instructure/ui-tooltip';\nimport { element } from '@instructure/ui-prop-types';\nvar styles = {\n  componentId: 'eZLSb',\n  template: function template(theme) {\n    return \"\\n\\n.eZLSb_bGBk{box-sizing:border-box;display:block;font-family:\".concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";padding:\").concat(theme.padding || 'inherit', \"}\");\n  },\n  'root': 'eZLSb_bGBk'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedTooltip\n---\n**/\n\nvar Tooltip = (_dec = deprecated('7.0.0', null, 'Use Tooltip from ui-tooltip instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tooltip, _Component);\n\n  function Tooltip() {\n    _classCallCheck(this, Tooltip);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Tooltip).apply(this, arguments));\n  }\n\n  _createClass(Tooltip, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          tip = _this$props.tip,\n          variant = _this$props.variant,\n          on = _this$props.on,\n          placement = _this$props.placement,\n          mountNode = _this$props.mountNode,\n          positionTarget = _this$props.positionTarget,\n          constrain = _this$props.constrain,\n          passthroughProps = _objectWithoutProperties(_this$props, [\"children\", \"tip\", \"variant\", \"on\", \"placement\", \"mountNode\", \"positionTarget\", \"constrain\"]);\n\n      return React.createElement(UITooltip, Object.assign({}, passthroughProps, {\n        renderTip: tip,\n        on: on,\n        color: variant === 'inverse' ? 'primary' : 'primary-inverse',\n        placement: placement,\n        mountNode: mountNode,\n        positionTarget: positionTarget,\n        constrain: constrain\n      }), children);\n    }\n  }]);\n\n  Tooltip.displayName = \"Tooltip\";\n  return Tooltip;\n}(Component), _class2.propTypes = {\n  /**\n  * @param {Object} renderProps\n  * @param {Boolean} renderProps.focused - Is the Tooltip trigger focused?\n  * @param {Function} renderProps.getTriggerProps - Props to be spread onto the trigger element\n  */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  tip: PropTypes.node.isRequired,\n\n  /**\n  * the element type to render as (assumes a single child if 'as' is undefined)\n  */\n  as: PropTypes.elementType,\n  // eslint-disable-line react/require-default-props\n\n  /**\n   * The action that causes the Content to display (`click`, `hover`, `focus`)\n   */\n  on: PropTypes.oneOfType([PropTypes.oneOf(['click', 'hover', 'focus']), PropTypes.arrayOf(PropTypes.oneOf(['click', 'hover', 'focus']))]),\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n   * Specifies where the Tooltip will be placed in relation to the target element.\n   * Ex. placement=\"bottom\" will render the Tooltip below the triggering element\n   * (Note: if there is not room, it will position opposite. Ex. \"top\" will\n   * automatically switch to \"bottom\").\n   */\n  placement: PositionPropTypes.placement,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Tooltip />` (defaults to `document.body`)\n   */\n  mountNode: PositionPropTypes.mountNode,\n\n  /**\n   * Target element for positioning the Tooltip (if it differs from children/trigger)\n   */\n  positionTarget: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * The parent in which to constrain the tooltip.\n   * One of: 'window', 'scroll-parent', 'parent', 'none', an element,\n   * or a function returning an element\n   */\n  constrain: PositionPropTypes.constrain\n}, _class2.defaultProps = {\n  on: void 0,\n  variant: 'inverse',\n  placement: 'top',\n  mountNode: null,\n  positionTarget: void 0,\n  constrain: 'window'\n}, _temp)) || _class) || _class) || _class);\nexport default Tooltip;\nexport { Tooltip };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var typography = _ref.typography,\n      spacing = _ref.spacing;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    fontSize: typography.fontSizeSmall,\n    padding: spacing.small\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    padding: \"0 \".concat(spacing.xSmall),\n    height: '1.3125rem',\n    background: colors.backgroundLightest,\n    lineHeight: typography.lineHeightFit,\n    textTransformStyle: 'uppercase',\n    textFontSize: typography.fontSizeXSmall,\n    textFontWeight: typography.fontWeightBold,\n    maxWidth: '15rem',\n    color: colors.textDark,\n    primaryColor: colors.textBrand,\n    dangerColor: colors.textDanger,\n    successColor: colors.textSuccess,\n    warningColor: colors.textWarning,\n    messageColor: colors.textAlert,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    borderRadius: '999rem',\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineStyle: borders.style\n  };\n}\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    color: colors.textDarkest,\n    borderColor: colors.borderDarkest\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-primary']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities\n * ---\n * Creates a debounced function that delays invoking func until after wait milliseconds have elapsed\n * since the last time the debounced function was invoked. The debounced function comes with a cancel\n * method to cancel delayed func invocations and a flush method to immediately invoke them. Provide options\n * to indicate whether func should be invoked on the leading and/or trailing edge of the wait timeout.\n * The func is invoked with the last arguments provided to the debounced function. Subsequent calls to the\n * debounced function return the result of the last func invocation.\n *\n * [lodash.debounce](https://github.com/lodash/lodash/blob/master/debounce.js)\n * doesn't work well with [sinon fakeTimers](http://sinonjs.org/releases/v1.17.7/fake-timers/)\n * so this is forked from the lodash source.\n *\n * Note: Modified from the original to check for cancelled boolean before invoking func to prevent React setState\n * on unmounted components.\n *\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n */\nfunction debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var lastArgs, lastThis, result, lastCallTime;\n  var lastInvokeTime = 0;\n  var timers = [];\n  var cancelled = false;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  var leading = !!options.leading;\n  var maxing = 'maxWait' in options;\n  var trailing = 'trailing' in options ? !!options.trailing : true;\n  var maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : 0;\n\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n\n    if (cancelled !== true) {\n      result = func.apply(thisArg, args);\n      return result;\n    }\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timers.push(setTimeout(timerExpired, wait)); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var result = wait - timeSinceLastCall;\n    return maxing ? Math.min(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return typeof lastCallTime === 'undefined' || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = Date.now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timers.push(setTimeout(timerExpired, remainingWait(time)));\n  }\n\n  function trailingEdge(time) {\n    clearAllTimers(); // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n\n  function cancel() {\n    cancelled = true;\n    clearAllTimers();\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = void 0;\n  }\n\n  function flush() {\n    return timers.length === 0 ? result : trailingEdge(Date.now());\n  }\n\n  function clearAllTimers() {\n    timers.forEach(function (timerId) {\n      return clearTimeout(timerId);\n    });\n    timers = [];\n  }\n\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timers.length === 0) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timers.push(setTimeout(timerExpired, wait));\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timers.length === 0) {\n      timers.push(setTimeout(timerExpired, wait));\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\nexport { debounce };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { decorator } from '@instructure/ui-decorator';\nvar hack = process.env.NODE_ENV == 'production' ? function () {\n  return function (Component) {\n    return Component;\n  };\n} : decorator(function (ComposedComponent, hackProps, message) {\n  return (\n    /*#__PURE__*/\n    function (_ComposedComponent) {\n      _inherits(HackComponent, _ComposedComponent);\n\n      function HackComponent() {\n        _classCallCheck(this, HackComponent);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(HackComponent).apply(this, arguments));\n      }\n\n      _createClass(HackComponent, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          if (hackProps) {\n            warnHackProps(ComposedComponent.displayName, this.props, hackProps, message);\n          }\n\n          if (_get(_getPrototypeOf(HackComponent.prototype), \"componentDidMount\", this)) {\n            _get(_getPrototypeOf(HackComponent.prototype), \"componentDidMount\", this).call(this);\n          }\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps, prevState, prevContext) {\n          if (hackProps) {\n            warnHackProps(ComposedComponent.displayName, this.props, hackProps, message);\n          }\n\n          if (_get(_getPrototypeOf(HackComponent.prototype), \"componentDidUpdate\", this)) {\n            _get(_getPrototypeOf(HackComponent.prototype), \"componentDidUpdate\", this).call(this, prevProps, prevState, prevContext);\n          }\n        }\n      }]);\n\n      return HackComponent;\n    }(ComposedComponent)\n  );\n});\n\nfunction warnHackProps(displayName, props, hackProps) {\n  var message = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : '';\n  hackProps.forEach(function (hackProp) {\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _warn(typeof props[hackProp] === 'undefined', \"[\".concat(displayName, \"] The `\").concat(hackProp, \"` prop is a temporary hack and will be removed in a future release. \").concat(message));\n  });\n}\n\nexport default hack;\nexport {\n/**\n* ---\n* category: utilities/react\n* ---\n* Flag React component props as hack props.\n* Warnings will display in the console when hack props are used.\n*\n* ```js\n*  class Example extends Component {\n*    static propTypes = {\n*      currentProp: PropTypes.func\n*    }\n*  }\n*  export default hack(['hackProp'])(Example)\n* ```\n*\n* @module hack\n* @param {array} hackProps\n* @param {string} message\n* @return {function} React component flagged as having hack props\n*/\nhack };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { getComputedStyle } from '@instructure/ui-dom-utils';\n/**\n * ---\n * parent: TruncateText\n * private: true\n * ---\n * Finds the max potential width of set of DOM nodes.\n *\n * @param {DOMNode[]} nodes Array of DOM nodes.\n * @param {DOMNode} parentNode The node to inherit default styles from.\n */\n\nfunction measureText(nodes, parentNode) {\n  var width = 0;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    width += measure(node.textContent, node.nodeType === 1 ? node : parentNode);\n  }\n\n  return width;\n}\n\nfunction measure(string, domNode) {\n  var style = getComputedStyle(domNode); // we use a canvas in a doc fragment to prevent having to render the string full width in the DOM\n\n  var canvas = document.createElement('canvas');\n  document.createDocumentFragment().appendChild(canvas);\n  var context = canvas.getContext('2d');\n\n  if (!context || !string) {\n    return 0;\n  }\n\n  var text = string;\n  var letterOffset = 0;\n  var width = 0; // grab individual font styles\n  // some browsers don't report a value for style['font']\n\n  var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family']].join(' ');\n  context.font = font;\n\n  if (style['text-transform'] === 'uppercase') {\n    text = string.toUpperCase();\n  } else if (style['text-transform'] === 'lowercase') {\n    text = string.toLowerCase();\n  } else if (style['text-transform'] === 'capitalize') {\n    text = string.replace(/\\b\\w/g, function (str) {\n      return str.toUpperCase();\n    });\n  }\n\n  if (style['letter-spacing'] !== 'normal') {\n    letterOffset = text.length * parseInt(style['letter-spacing']);\n  }\n\n  width = context.measureText(text).width + letterOffset; // returns the max potential width of the text, assuming the text was on a single line\n\n  return width;\n}\n\nexport default measureText;","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * parent: TruncateText\n * private: true\n * ---\n * Removes given characters, such as whitespace and punctuation, from either end of a string.\n *\n * @param {string} string The string to clean.\n * @param {string[]} ignore Array of characters to remove.\n * @param {boolean} start Whether or not to clean start of string.\n * @param {boolean} end Whether or not to clean end of string.\n * @param {boolean} repeat=false Do a thorough clean.\n */\nfunction cleanString(string, ignore) {\n  var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n  var end = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : true;\n  var repeat = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n  var text = string;\n  var firstChar = text.charAt(0);\n  var lastChar = text.slice(-1);\n\n  if (start && ignore.indexOf(firstChar) !== -1) {\n    text = text.slice(1);\n  }\n\n  if (end && ignore.indexOf(lastChar) !== -1) {\n    text = text.slice(0, -1);\n  }\n\n  if (repeat) {\n    text = cleanString(text, ignore, start, end, false);\n  }\n\n  return text;\n}\n\nexport default cleanString;","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { cloneArray } from '@instructure/ui-utils';\n/**\n * ---\n * parent: TruncateText\n * private: true\n * ---\n * Removes given characters, such as whitespace and punctuation, from stringData\n * arrays used by Truncator and TruncateText.\n *\n * @param {Array} stringData A stringData array.\n * @param {Object} options The options object.\n * @param {string} options.truncate Is the data being truncated by character or word.\n * @param {string[]} options.ignore An array of characters to remove around the ellipsis.\n * @param {string} options.ellipsis The string being used as an ellipsis.\n * @param {boolean} repeat=false Do a thorough clean.\n */\n\nfunction cleanData(stringData, options) {\n  var repeat = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n  var truncate = options.truncate,\n      ignore = options.ignore,\n      ellipsis = options.ellipsis;\n  var newData = cloneArray(stringData);\n  var ellipsisNode = -1;\n  var ellipsisIndex = -1;\n\n  var findEllipsis = function findEllipsis() {\n    for (var i = 0; i < newData.length; i++) {\n      var nodeData = newData[i];\n\n      if (nodeData.indexOf(ellipsis) !== -1) {\n        ellipsisNode = i;\n        ellipsisIndex = nodeData.indexOf(ellipsis);\n      }\n    }\n  };\n\n  if (truncate === 'character') {\n    findEllipsis();\n    var node = newData[ellipsisNode];\n\n    if (node) {\n      var before = node[ellipsisIndex - 1];\n\n      if (before && ignore.indexOf(before) !== -1) {\n        // remove character immediately BEFORE the ellipsis in the same node\n        newData[ellipsisNode].splice(ellipsisIndex - 1, 1);\n      }\n\n      if (!before) {\n        // character before the ellipsis is part of a different node\n        // find the next node with data and remove last datum\n        var prevNode = null;\n        var prevNodeIndex = ellipsisNode - 1;\n\n        while (prevNodeIndex >= 0) {\n          prevNode = newData[prevNodeIndex];\n\n          if (prevNode.length > 0) {\n            break;\n          } else {\n            prevNodeIndex--;\n          }\n        }\n\n        if (prevNode) {\n          var lastChar = String(prevNode.slice(-1));\n\n          if (ignore.indexOf(lastChar) !== -1) {\n            newData[prevNodeIndex].length -= 1;\n          }\n        }\n      }\n    }\n\n    findEllipsis();\n    node = newData[ellipsisNode];\n\n    if (node) {\n      var after = node[ellipsisIndex + 1];\n\n      if (after && ignore.indexOf(after) !== -1) {\n        // remove character immediately AFTER the ellipsis in the same node\n        newData[ellipsisNode].splice(ellipsisIndex + 1, 1);\n      }\n\n      if (!after) {\n        // character after the ellipsis is part of a different node\n        // find the next node with data and remove first datum\n        var nextNode = null;\n        var nextNodeIndex = ellipsisNode + 1;\n\n        while (nextNodeIndex < newData.length) {\n          nextNode = newData[nextNodeIndex];\n\n          if (nextNode.length > 0) {\n            break;\n          } else {\n            nextNodeIndex++;\n          }\n        }\n\n        if (nextNode) {\n          var firstChar = String(nextNode[0]);\n\n          if (ignore.indexOf(firstChar) !== -1) {\n            newData[nextNodeIndex].shift();\n          }\n        }\n      }\n    }\n  } else {\n    findEllipsis();\n    var _node = newData[ellipsisNode];\n\n    if (_node) {\n      var _before = _node[ellipsisIndex - 1];\n\n      if (_before && ignore.indexOf(_before.slice(-1)) !== -1) {\n        if (_before.length === 1) {\n          // remove entire word datum\n          newData[ellipsisNode].splice([ellipsisIndex - 1], 1);\n        } else {\n          // remove word immediately BEFORE the ellipsis in the same node\n          newData[ellipsisNode][ellipsisIndex - 1] = _before.slice(0, -1);\n        }\n      }\n\n      if (!_before) {\n        // word before the ellipsis is part of a different node\n        // find the next node with data and remove last datum\n        var _prevNode = null;\n\n        var _prevNodeIndex = ellipsisNode - 1;\n\n        while (_prevNodeIndex >= 0) {\n          _prevNode = newData[_prevNodeIndex];\n\n          if (_prevNode.length > 0) {\n            break;\n          } else {\n            _prevNodeIndex--;\n          }\n        }\n\n        if (_prevNode) {\n          var _lastChar = String(_prevNode.slice(-1)).slice(-1);\n\n          if (ignore.indexOf(_lastChar) !== -1) {\n            var lastItem = _prevNode.length - 1;\n            newData[_prevNodeIndex][lastItem] = _prevNode[lastItem].slice(0, -1);\n          }\n        }\n      }\n    }\n  }\n\n  if (repeat) {\n    newData = cleanData(newData, options, false);\n  }\n\n  return newData;\n}\n\nexport default cleanData;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { error as _error } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport escapeHtml from 'escape-html';\nimport { cloneArray } from '@instructure/ui-utils';\nimport { getComputedStyle, getBoundingClientRect, isVisible } from '@instructure/ui-dom-utils';\nimport measureText from './measureText';\nimport cleanString from './cleanString';\nimport cleanData from './cleanData';\n/**\n * ---\n * parent: TruncateText\n * private: true\n * ---\n * Truncate the text content of an HTML element and its children.\n *\n * @param {DOMNode} element A single element containing the content to be truncated.\n * @param {Object} options={} The options object.\n * @param {DOMNode} options.parent An optional parent element to use for calculations.\n * @param {number|string} options.maxLines Number of lines to allow before truncating.\n * @param {string} options.position=end Where to place the ellipsis within the string.\n * @param {string} options.truncate=character Add ellipsis after words or after any character.\n * @param {string} options.ellipsis=\\u2026 Where to place the ellipsis within the string.\n * @param {string[]} options.ignore Characters to ignore at truncated end of string.\n * @param {number} options.lineHeight=1.2 Unitless multiplier to use in case element can have\n * 'normal' lineHeight. Adjust this to better match your font if needed.\n */\n\nfunction truncate(element, options) {\n  var truncator = new Truncator(element, options);\n\n  if (truncator) {\n    return truncator.truncate();\n  }\n}\n\nvar Truncator =\n/*#__PURE__*/\nfunction () {\n  function Truncator(element) {\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n\n    _classCallCheck(this, Truncator);\n\n    this._options = {\n      parent: options.parent || element.parentElement,\n      maxLines: options.maxLines || 1,\n      position: options.position || 'end',\n      truncate: options.truncate || 'character',\n      ellipsis: options.ellipsis || \"\\u2026\",\n      ignore: options.ignore || [' ', '.', ','],\n      lineHeight: options.lineHeight || 1.2,\n      shouldTruncateWhenInvisible: options.shouldTruncateWhenInvisible\n    };\n\n    if (!element) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(false, '[Truncator] No element to truncate.');\n\n      return;\n    }\n\n    this._stage = element;\n\n    if (options.parent) {\n      this._parent = this._options.parent;\n    } else {\n      this._parent = this._options.maxLines === 'auto' ? this._stage.parentElement : this._stage;\n    }\n\n    this._truncatedText = this._parent.textContent;\n    this._isTruncated = false;\n    this.setup();\n  }\n\n  _createClass(Truncator, [{\n    key: \"setup\",\n    value: function setup() {\n      if (!this._stage) {\n        return;\n      }\n\n      var _this$_options = this._options,\n          maxLines = _this$_options.maxLines,\n          truncate = _this$_options.truncate,\n          lineHeight = _this$_options.lineHeight;\n      var style = getComputedStyle(this._parent); // if no explicit lineHeight is inherited, use lineHeight multiplier for calculations\n\n      var actualLineHeight = style.lineHeight === 'normal' ? lineHeight * parseFloat(style.fontSize) : parseFloat(style.lineHeight);\n      var node = this._stage.firstChild.children ? this._stage.firstChild : this._stage;\n      var nodeDataIndexes = [];\n      var stringData = [];\n      this._nodeMap = this.getNodeMap(node);\n\n      for (var i = 0; i < this._nodeMap.length; i++) {\n        var item = this._nodeMap[i];\n\n        if (truncate === 'word' && item.data[item.data.length - 1] === ' ') {\n          // remove random whitespace data between nodes\n          item.data.length -= 1;\n        }\n\n        stringData[i] = item.data;\n\n        for (var j = 0; j < item.data.length; j++) {\n          // map each word or character datum index to its corresponding node\n          nodeDataIndexes.push(i);\n        }\n      }\n\n      this._defaultStringData = cloneArray(stringData);\n      this._nodeDataIndexes = cloneArray(nodeDataIndexes);\n      this._maxHeight = maxLines === 'auto' ? getBoundingClientRect(this._parent).height : maxLines * actualLineHeight;\n      this._maxWidth = measureText(this._nodeMap.map(function (item) {\n        return item.node;\n      }), this._parent);\n      this._maxLines = maxLines === 'auto' ? Math.round(this._maxHeight / actualLineHeight) : maxLines;\n    }\n  }, {\n    key: \"getNodeMap\",\n    value: function getNodeMap(rootNode) {\n      var _this$_options2 = this._options,\n          shouldTruncateWhenInvisible = _this$_options2.shouldTruncateWhenInvisible,\n          truncate = _this$_options2.truncate;\n      var nodes = Array.from(rootNode.childNodes);\n      var map = []; // parse child nodes and build a data map to associate each node with its data\n\n      nodes.forEach(function (node) {\n        if (node.nodeType === 1 || node.nodeType === 3) {\n          var shouldTruncate = shouldTruncateWhenInvisible ? true : isVisible(node, false);\n          var textContent = node.textContent + ' ';\n          map.push({\n            node: node,\n            data: truncate === 'word' // eslint-disable-next-line no-useless-escape\n            ? shouldTruncate ? textContent.match(/.*?[\\.\\s\\/]+?/g) : '' : shouldTruncate ? node.textContent.split('') : []\n          });\n        }\n      });\n      return map;\n    }\n  }, {\n    key: \"getNodeIndexes\",\n    value: function getNodeIndexes(data) {\n      var nodeDataIndexes = [];\n\n      for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n          nodeDataIndexes.push([i, j]);\n        }\n      }\n\n      return nodeDataIndexes;\n    }\n  }, {\n    key: \"domString\",\n    value: function domString(data) {\n      var keys = Object.keys(data);\n      var html = '';\n\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var mapItem = this._nodeMap[key];\n        var text = data[key].join('');\n        var safeText = escapeHtml(text);\n\n        if (mapItem.node.nodeType === 1) {\n          var name = mapItem.node.nodeName;\n          var attr = mapItem.node.attributes;\n          var attributes = '';\n\n          for (var j = 0; j < attr.length; j++) {\n            var att = attr[j];\n            attributes += \" \".concat(att.nodeName, \"=\\\"\").concat(att.nodeValue, \"\\\"\");\n          }\n\n          html += \"<\".concat(name).concat(attributes, \">\").concat(safeText, \"</\").concat(name, \">\");\n        } else if (mapItem.node.nodeType === 3) {\n          html += safeText;\n        }\n      }\n\n      return html;\n    }\n  }, {\n    key: \"checkFit\",\n    value: function checkFit(data) {\n      var html = this.domString(data);\n      var node = this._options.maxLines === 'auto' ? this._stage : this._parent;\n      var fits = true;\n      this._stage.innerHTML = html; // allow a 0.5 px margin of error for browser calculation discrepancies\n\n      if (getBoundingClientRect(node).height - this._maxHeight > 0.5) {\n        fits = false;\n      }\n\n      return fits;\n    }\n  }, {\n    key: \"truncate\",\n    value: function truncate() {\n      var _this$_options3 = this._options,\n          ellipsis = _this$_options3.ellipsis,\n          ignore = _this$_options3.ignore,\n          position = _this$_options3.position;\n      var middle = position === 'middle';\n      var truncated = false;\n      var fits = false;\n      var nodeIndex = 0;\n      var dataIndex = 0;\n      var truncatedText = '';\n      var stringData = null;\n      var remove = null;\n\n      if (!this._stage) {\n        return;\n      }\n\n      stringData = cloneArray(this._defaultStringData);\n      dataIndex = middle ? 0 : this._nodeDataIndexes.length - 1;\n\n      while (!fits) {\n        if (dataIndex < 0) {\n          break;\n        }\n\n        if (middle) {\n          // as data is removed from the middle of our set, the node order could\n          // change each iteration, so we need to keep updating a node index matrix\n          // based on the current string data\n          var matrix = this.getNodeIndexes(stringData);\n          var center = Math.floor(matrix.length / 2); // the node index and word index to remove\n\n          remove = matrix[center];\n\n          if (dataIndex > 0) {\n            // remove word/character currently in the center\n            stringData[remove[0]].splice(remove[1], 1, ellipsis);\n          }\n        } else {\n          nodeIndex = this._nodeDataIndexes[dataIndex];\n\n          if (dataIndex < this._nodeDataIndexes.length - 1) {\n            stringData[nodeIndex] = stringData[nodeIndex].slice(0, -1);\n            stringData[nodeIndex].push(ellipsis);\n          }\n        } // test new data\n\n\n        fits = this.checkFit(stringData);\n\n        if (fits) {\n          for (var i = 0; i < stringData.length; i++) {\n            var data = stringData[i];\n            truncatedText += data.join('');\n          }\n\n          break;\n        } else {\n          truncated = true;\n\n          if (middle) {\n            // remove ellipsis before re-testing\n            stringData[remove[0]].splice(remove[1], 1);\n            dataIndex++;\n          } else {\n            stringData[nodeIndex] = stringData[nodeIndex].slice(0, -1);\n            dataIndex--;\n          }\n        }\n      }\n\n      stringData = cleanData(stringData, this._options, true);\n\n      if (truncated && !middle) {\n        truncatedText = cleanString(truncatedText.split(ellipsis)[0], ignore, false, true, true);\n        truncatedText += ellipsis;\n      } else if (truncated && middle) {\n        var halves = truncatedText.split(ellipsis);\n        truncatedText = cleanString(halves[0], ignore, false, true, true) + ellipsis + cleanString(halves[1], ignore, true, false, true);\n      }\n\n      return {\n        isTruncated: truncated,\n        text: truncatedText,\n        data: stringData,\n        constraints: {\n          width: this._maxWidth,\n          height: this._maxHeight,\n          lines: this._maxLines\n        }\n      };\n    }\n  }]);\n\n  return Truncator;\n}();\n\nexport default truncate;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { debounce } from '@instructure/debounce';\nimport { addResizeListener, canUseDOM } from '@instructure/ui-dom-utils';\nimport { safeCloneElement, ensureSingleChild, hack, deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport _truncate from './utils/truncate';\nvar styles = {\n  componentId: 'EGevE',\n  template: function template(theme) {\n    return \"\\n\\n.EGevE_fZRY{display:block;font-family:\".concat(theme.fontFamily || 'inherit', \";overflow:hidden;word-wrap:break-word}\\n\\n.EGevE_uUeq{height:100%}\\n\\n.EGevE_exvv{display:block;max-height:0;visibility:hidden}\");\n  },\n  'istruncated': 'EGevE_fZRY',\n  'auto': 'EGevE_uUeq',\n  'spacer': 'EGevE_exvv'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedTruncateText\n---\n**/\n\nvar TruncateText = (_dec = deprecated('7.0.0', null, 'Use TruncateText from ui-truncate-text instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec4 = hack(['shouldTruncateWhenInvisible']), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TruncateText, _Component);\n\n  function TruncateText(props) {\n    var _this;\n\n    _classCallCheck(this, TruncateText);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TruncateText).call(this, props));\n\n    _this.update = function () {\n      if (_this._ref) {\n        _this.setState(_this.initialState);\n      }\n    };\n\n    _this.state = _this.initialState;\n    return _this;\n  }\n\n  _createClass(TruncateText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var children = this.props.children;\n\n      if (children) {\n        this.checkChildren();\n        this._text = ensureSingleChild(children);\n        this.truncate();\n\n        if (this.props.debounce === 0) {\n          this._resizeListener = addResizeListener(this._ref, this.update);\n        } else {\n          this._debounced = debounce(this.update, this.props.debounce, {\n            leading: true,\n            trailing: true\n          });\n          this._resizeListener = addResizeListener(this._ref, this._debounced);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._resizeListener) {\n        this._resizeListener.remove();\n      }\n\n      if (this._debounced) {\n        this._debounced.cancel();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props = this.props,\n          children = _this$props.children,\n          onUpdate = _this$props.onUpdate;\n      var _this$state = this.state,\n          isTruncated = _this$state.isTruncated,\n          needsSecondRender = _this$state.needsSecondRender,\n          truncatedText = _this$state.truncatedText;\n\n      if (children) {\n        if (prevProps !== this.props) {\n          if (prevProps.children !== this.props.children) {\n            // reset internal text variable if children change\n            this.checkChildren();\n            this._text = ensureSingleChild(children);\n          } // require the double render whenever props change\n\n\n          this.setState(this.initialState);\n          return;\n        }\n\n        if (!needsSecondRender && (isTruncated || this._wasTruncated)) {\n          onUpdate(isTruncated, truncatedText);\n          this._wasTruncated = isTruncated;\n        } else {\n          this.truncate();\n        }\n      }\n    }\n  }, {\n    key: \"checkChildren\",\n    value: function checkChildren() {\n      var _this2 = this;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(!\n      /*#__PURE__*/\n      function () {\n        var isTooDeep = false;\n        var text = ensureSingleChild(_this2.props.children);\n        React.Children.forEach(text.props.children,\n        /*#__PURE__*/\n        function (child) {\n          if (child.props) {\n            React.Children.forEach(child.props.children,\n            /*#__PURE__*/\n            function (grandChild) {\n              // currently we don't support node trees deeper than 2 levels\n              // truncation will still occur on their text content, but their actual node structure will be lost\n              if (grandChild.props) {\n                isTooDeep = true;\n              }\n            });\n          }\n        });\n        return isTooDeep;\n      }(), \"[TruncateText] Some children are too deep in the node tree and will not render.\");\n    }\n  }, {\n    key: \"truncate\",\n    value: function truncate() {\n      if (!this.state.needsSecondRender) {\n        return;\n      }\n\n      if (canUseDOM) {\n        var result = _truncate(this._stage, _objectSpread({}, this.props, {\n          parent: this._ref,\n          lineHeight: this.theme.lineHeight\n        }));\n\n        if (result) {\n          var element = this.renderChildren(result.isTruncated, result.data, result.constraints.width);\n          this.setState({\n            needsSecondRender: false,\n            isTruncated: result.isTruncated,\n            truncatedElement: element,\n            truncatedText: result.text\n          });\n        }\n      } else {\n        // if dom isn't available, use original children\n        this.setState({\n          needsSecondRender: false,\n          isTruncated: false,\n          truncatedElement: this._text,\n          truncatedText: this._ref.textContent\n        });\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(truncated, data, width) {\n      if (!truncated) {\n        return this._text;\n      }\n\n      var childElements = []; // iterate over each node used in the truncated string\n\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        var element = this._text.props.children[i];\n        var nodeText = item.join('');\n\n        if (element && element.props) {\n          // if node is an html element and not just a string\n          childElements.push(safeCloneElement(element, element.props, nodeText));\n        } else {\n          childElements.push(nodeText);\n        }\n      } // this spacer element is set to the max width the full text could potentially be\n      // without this, text in `width: auto` elements won't expand to accomodate more text, once truncated\n\n\n      childElements.push(React.createElement(\"span\", {\n        className: styles.spacer,\n        style: {\n          width: width || null\n        }\n      }));\n      var children = React.Children.map(childElements, function (child) {\n        return child;\n      });\n      return this._text.props ? safeCloneElement(this._text, this._text.props, children) : children;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _this3 = this;\n\n      var truncatedElement = this.state.truncatedElement;\n      var _this$props2 = this.props,\n          maxLines = _this$props2.maxLines,\n          children = _this$props2.children;\n      return React.createElement(\"span\", {\n        className: classNames((_classNames = {}, _defineProperty(_classNames, styles.istruncated, true), _defineProperty(_classNames, styles.auto, maxLines === 'auto'), _classNames)),\n        ref: function ref(el) {\n          _this3._ref = el;\n        }\n      }, children && (truncatedElement ? null : React.createElement(\"span\", {\n        ref: function ref(el) {\n          _this3._stage = el;\n        }\n      }, ensureSingleChild(children))), truncatedElement);\n    }\n  }, {\n    key: \"initialState\",\n    get: function get() {\n      return {\n        isTruncated: false,\n        needsSecondRender: true,\n        truncatedElement: null,\n        truncatedText: null\n      };\n    }\n  }]);\n\n  TruncateText.displayName = \"TruncateText\";\n  return TruncateText;\n}(Component), _class2.propTypes = {\n  /**\n  * The content to be truncated.\n  */\n  children: PropTypes.node.isRequired,\n\n  /**\n  * Number of lines to allow before truncating. `auto` will fit to parent\n  */\n  maxLines: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * Where to place the ellipsis within the string\n  */\n  position: PropTypes.oneOf(['end', 'middle']),\n\n  /**\n  * Add ellipsis after words or after any character\n  */\n  truncate: PropTypes.oneOf(['character', 'word']),\n\n  /**\n  * A string to use as the ellipsis\n  */\n  ellipsis: PropTypes.string,\n\n  /**\n  * Characters to ignore at truncated end of string\n  */\n  ignore: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n  * Debounce delay in milliseconds\n  */\n  debounce: PropTypes.number,\n\n  /**\n  * Callback when truncated text has changed\n  */\n  onUpdate: PropTypes.func,\n\n  /**\n   * Force truncation of invisible elements (hack; will be removed in favor\n   * of a better fix)\n   */\n  // eslint-disable-next-line react/require-default-props\n  shouldTruncateWhenInvisible: PropTypes.bool\n}, _class2.defaultProps = {\n  maxLines: 1,\n  ellipsis: \"\\u2026\",\n  truncate: 'character',\n  position: 'end',\n  ignore: [' ', '.', ','],\n  debounce: 0,\n  onUpdate: function onUpdate(truncated, text) {}\n}, _temp)) || _class) || _class) || _class) || _class);\nexport default TruncateText;\nexport { TruncateText };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { Tooltip } from '@instructure/ui-overlays';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps, deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'bZMhq',\n  template: function template(theme) {\n    return \"\\n\\n.bZMhq_bGBk{align-items:center;background:\".concat(theme.background || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";border-style:\").concat(theme.borderStyle || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";box-sizing:border-box;font-family:\").concat(theme.fontFamily || 'inherit', \";height:\").concat(theme.height || 'inherit', \";padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.bZMhq_bGBk.bZMhq_daKB{outline:none;overflow:visible;position:relative}\\n\\n.bZMhq_bGBk.bZMhq_daKB:before{border:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";bottom:-0.375rem;box-sizing:border-box;content:\\\"\\\";display:block;left:-0.375rem;opacity:0;pointer-events:none;position:absolute;right:-0.375rem;top:-0.375rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.bZMhq_bGBk.bZMhq_daKB.bZMhq_cVYB:before{opacity:1;transform:scale(1)}\\n\\n.bZMhq_eWKC{box-sizing:border-box;flex:1 0 auto;font-size:\").concat(theme.textFontSize || 'inherit', \";font-weight:\").concat(theme.textFontWeight || 'inherit', \";letter-spacing:0.0625rem;line-height:\").concat(theme.lineHeight || 'inherit', \";max-width:\").concat(theme.maxWidth || 'inherit', \";min-width:0.0625rem;text-align:center;text-transform:\").concat(theme.textTransformStyle || 'inherit', \"}\\n\\n[dir=ltr] .bZMhq_eWKC,[dir=rtl] .bZMhq_eWKC{text-align:center}\\n\\n.bZMhq_ddES{border-color:\").concat(theme.color || 'inherit', \"}\\n\\n.bZMhq_ddES .bZMhq_eWKC{color:\").concat(theme.color || 'inherit', \"}\\n\\n.bZMhq_bXiG{border-color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.bZMhq_bXiG .bZMhq_eWKC{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.bZMhq_cOXX{border-color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.bZMhq_cOXX .bZMhq_eWKC{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.bZMhq_zGXc{border-color:\").concat(theme.dangerColor || 'inherit', \"}\\n\\n.bZMhq_zGXc .bZMhq_eWKC{color:\").concat(theme.dangerColor || 'inherit', \"}\\n\\n.bZMhq_eRqw{border-color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.bZMhq_eRqw .bZMhq_eWKC{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.bZMhq_elxg{border-color:\").concat(theme.messageColor || 'inherit', \"}\\n\\n.bZMhq_elxg .bZMhq_eWKC{color:\").concat(theme.messageColor || 'inherit', \"}\");\n  },\n  'root': 'bZMhq_bGBk',\n  'truncated': 'bZMhq_daKB',\n  'focused': 'bZMhq_cVYB',\n  'text': 'bZMhq_eWKC',\n  'default': 'bZMhq_ddES',\n  'primary': 'bZMhq_bXiG',\n  'success': 'bZMhq_cOXX',\n  'danger': 'bZMhq_zGXc',\n  'warning': 'bZMhq_eRqw',\n  'message': 'bZMhq_elxg'\n};\nimport theme from './theme';\nimport { TruncateText } from '../TruncateText';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedPill\n---\n**/\n\nvar Pill = (_dec = deprecated('7.0.0', null, 'Use Pill from ui-pill instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pill, _Component);\n\n  function Pill(props) {\n    var _this;\n\n    _classCallCheck(this, Pill);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pill).call(this, props));\n    _this.state = {\n      truncated: false\n    };\n    return _this;\n  }\n\n  _createClass(Pill, [{\n    key: \"handleTruncation\",\n    value: function handleTruncation(truncated) {\n      this.setState({\n        truncated: truncated\n      });\n    }\n  }, {\n    key: \"renderPill\",\n    value: function renderPill(focused, getTriggerProps) {\n      var _classnames,\n          _this2 = this;\n\n      var _this$props = this.props,\n          margin = _this$props.margin,\n          text = _this$props.text,\n          variant = _this$props.variant,\n          as = _this$props.as,\n          elementRef = _this$props.elementRef;\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Pill.propTypes), Pill);\n      var props = typeof getTriggerProps === 'function' ? getTriggerProps(passthroughProps) : passthroughProps;\n      var classes = classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles.truncated, this.state.truncated), _defineProperty(_classnames, styles.focused, focused), _defineProperty(_classnames, styles[variant], variant), _classnames));\n      return React.createElement(View, Object.assign({}, props, {\n        className: classes,\n        as: as,\n        elementRef: elementRef,\n        margin: margin,\n        display: \"inline-flex\"\n      }), React.createElement(\"span\", {\n        className: styles.text\n      }, React.createElement(TruncateText, {\n        onUpdate: function onUpdate(truncated) {\n          _this2.handleTruncation(truncated);\n        }\n      }, text)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.truncated) {\n        return React.createElement(Tooltip, {\n          tip: this.props.text\n        }, function (_ref) {\n          var focused = _ref.focused,\n              getTriggerProps = _ref.getTriggerProps;\n          return _this3.renderPill(focused, getTriggerProps);\n        });\n      } else {\n        return this.renderPill();\n      }\n    }\n  }]);\n\n  Pill.displayName = \"Pill\";\n  return Pill;\n}(Component), _class2.propTypes = {\n  text: PropTypes.node.isRequired,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  variant: PropTypes.oneOf(['default', 'success', 'danger', 'primary', 'warning', 'message']),\n  elementRef: PropTypes.func,\n  as: PropTypes.elementType // eslint-disable-line react/require-default-props\n\n}, _class2.defaultProps = {\n  margin: void 0,\n  elementRef: void 0,\n  variant: 'default'\n}, _temp)) || _class) || _class) || _class);\nexport default Pill;\nexport { Pill };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { uid } from '@instructure/uid';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'esvoZ',\n  template: function template(theme) {\n    return \"\\n\\n.esvoZ_bGBk{fill:currentColor}\\n\\n.esvoZ_eXrk{display:inline-block}\\n\\n.esvoZ_cRbP{display:block}\\n\\n.esvoZ_drOs{color:inherit}\\n\\n.esvoZ_eCSh{color:\".concat(theme.primaryColor || 'inherit', \"}\\n\\n.esvoZ_buuG{color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.esvoZ_bFtJ{color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.esvoZ_dsSB{color:\").concat(theme.secondaryInverseColor || 'inherit', \"}\\n\\n.esvoZ_eZal{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.esvoZ_cVUo{color:\").concat(theme.brandColor || 'inherit', \"}\\n\\n.esvoZ_eScd{color:\").concat(theme.warningColor || 'inherit', \"}\\n\\n.esvoZ_cpQl{color:\").concat(theme.errorColor || 'inherit', \"}\\n\\n.esvoZ_cUGG{color:\").concat(theme.alertColor || 'inherit', \"}\");\n  },\n  'root': 'esvoZ_bGBk',\n  'inline': 'esvoZ_eXrk',\n  'block': 'esvoZ_cRbP',\n  'color--inherit': 'esvoZ_drOs',\n  'color--primary': 'esvoZ_eCSh',\n  'color--secondary': 'esvoZ_buuG',\n  'color--primary-inverse': 'esvoZ_bFtJ',\n  'color--secondary-inverse': 'esvoZ_dsSB',\n  'color--success': 'esvoZ_eZal',\n  'color--brand': 'esvoZ_cVUo',\n  'color--warning': 'esvoZ_eScd',\n  'color--error': 'esvoZ_cpQl',\n  'color--alert': 'esvoZ_cUGG'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar InlineSVG = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(InlineSVG, _Component);\n\n  function InlineSVG() {\n    var _this;\n\n    _classCallCheck(this, InlineSVG);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InlineSVG).call(this));\n    _this.titleId = uid('InlineSVG-title');\n    _this.descId = uid('InlineSVG-desc');\n    return _this;\n  }\n\n  _createClass(InlineSVG, [{\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var title = this.props.title;\n      return title ? React.createElement(\"title\", {\n        id: this.titleId\n      }, title) : null;\n    }\n  }, {\n    key: \"renderDesc\",\n    value: function renderDesc(desc) {\n      return desc ? React.createElement(\"desc\", {\n        id: this.descId\n      }, desc) : null;\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      if (this.props.src) {\n        var src = InlineSVG.prepareSrc(this.props.src);\n        return React.createElement(\"g\", {\n          role: \"presentation\",\n          dangerouslySetInnerHTML: {\n            __html: src\n          } // eslint-disable-line react/no-danger\n\n        });\n      } else {\n        return React.createElement(\"g\", {\n          role: \"presentation\"\n        }, this.props.children);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          style = _this$props.style,\n          title = _this$props.title,\n          description = _this$props.description,\n          focusable = _this$props.focusable,\n          children = _this$props.children,\n          src = _this$props.src,\n          color = _this$props.color,\n          props = _objectWithoutProperties(_this$props, [\"style\", \"title\", \"description\", \"focusable\", \"children\", \"src\", \"color\"]); // if width or height are 'auto', don't supply anything to the SVG\n\n\n      var width = this.props.width === 'auto' ? null : this.props.width;\n      var height = this.props.height === 'auto' ? null : this.props.height;\n      return React.createElement(\"svg\", Object.assign({}, parseAttributes(this.props.src), omitProps(this.props, InlineSVG.propTypes, ['inline']), {\n        style: _objectSpread({}, style, {\n          width: width,\n          height: height\n        }),\n        width: width,\n        height: height,\n        \"aria-hidden\": title ? null : 'true',\n        \"aria-labelledby\": this.labelledBy,\n        role: this.role,\n        focusable: focusable ? 'true' : 'false',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[\"color--\".concat(color)], color !== 'auto'), _defineProperty(_classnames, styles.inline, this.props.inline), _defineProperty(_classnames, styles.block, !this.props.inline), _defineProperty(_classnames, props.className, props.className), _classnames))\n      }), this.renderTitle(), this.renderDesc(description), this.renderContent());\n    }\n  }, {\n    key: \"role\",\n    get: function get() {\n      if (this.props.title) {\n        return 'img';\n      } else {\n        return 'presentation';\n      }\n    }\n  }, {\n    key: \"labelledBy\",\n    get: function get() {\n      var ids = [];\n\n      if (this.props.title) {\n        ids.push(this.titleId);\n      }\n\n      if (this.props.description) {\n        ids.push(this.descId);\n      }\n\n      return ids.length > 0 ? ids.join(' ') : null;\n    }\n  }]);\n\n  InlineSVG.displayName = \"InlineSVG\";\n  return InlineSVG;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  src: PropTypes.string,\n  title: PropTypes.string,\n  description: PropTypes.string,\n  focusable: PropTypes.bool,\n\n  /**\n   * To let the SVG expand to fill its container, use `auto`\n   */\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * To let the SVG expand to fill its container, use `auto`\n   */\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  inline: PropTypes.bool,\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'primary-inverse', 'secondary-inverse', 'success', 'error', 'alert', 'warning', 'brand', 'auto'])\n}, _class2.defaultProps = {\n  focusable: false,\n  src: '',\n  title: '',\n  description: '',\n  inline: true,\n  children: null,\n  width: '1em',\n  height: '1em',\n  color: 'inherit'\n}, _class2.prepareSrc = function (src) {\n  var pattern = /<svg[^>]*>((.|[\\n\\r])*)<\\/svg>/;\n  var matches = pattern.exec(src);\n  return matches ? matches[1] : src;\n}, _temp)) || _class) || _class);\n\nfunction parseAttributes(src) {\n  var attributes = {};\n  var SVGAttributesRegExp = /<svg\\s+([^>]*)\\s*>/;\n  var namesAndValuesRegExp = /(\\S+)=[\"']?((?:.(?![\"']?\\s+(?:\\S+)=|[>\"']))+.)[\"']?/g;\n\n  if (typeof src === 'string') {\n    var attributesMatches = SVGAttributesRegExp.exec(src);\n    var attributesString = attributesMatches ? attributesMatches[1] : '';\n    var excludes = ['xmlns', 'xmlns:xlink', 'version'];\n    var match = namesAndValuesRegExp.exec(attributesString);\n\n    while (match != null) {\n      if (excludes.indexOf(match[1]) === -1) {\n        attributes[match[1]] = match[2] || (match[3] ? match[3] : match[4] ? match[4] : match[5]) || match[1]; // eslint-disable-line no-nested-ternary, max-len\n      }\n\n      match = namesAndValuesRegExp.exec(attributesString);\n    }\n  }\n\n  return attributes;\n}\n\nexport default InlineSVG;\nexport { InlineSVG };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    lineHeight: typography.lineHeight\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nexport default function generator(_ref) {\n  var colors = _ref.colors;\n  return {\n    primaryInverseColor: colors.textLightest,\n    primaryColor: colors.textDarkest,\n    secondaryColor: colors.textDark,\n    secondaryInverseColor: colors.textLight,\n    warningColor: colors.textWarning,\n    brandColor: colors.textBrand,\n    errorColor: colors.textDanger,\n    alertColor: colors.textAlert,\n    successColor: colors.textSuccess\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    primaryColor: variables['ic-brand-font-color-dark'],\n    brandColor: variables['ic-brand-primary']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { InlineSVG } from '../InlineSVG';\nvar styles = {\n  componentId: 'cGqzL',\n  template: function template(theme) {\n    return \"\\n\\n.cGqzL_bGBk{height:1em;line-height:1;vertical-align:middle;width:1em}\\n\\n.cGqzL_cwgF{transform:rotate(90deg)}\\n\\n.cGqzL_exaY{transform:rotate(180deg)}\\n\\n.cGqzL_dTDN{transform:rotate(270deg)}\\n\\n[dir=rtl] .cGqzL_owrh{transform:scaleX(-1)}\\n\\n[dir=rtl] .cGqzL_owrh.cGqzL_cwgF{transform:scaleX(-1) rotate(90deg)}\\n\\n[dir=rtl] .cGqzL_owrh .cGqzL_exaY{transform:scaleX(-1) rotate(180deg)}\\n\\n[dir=rtl] .cGqzL_owrh .cGqzL_dTDN{transform:scaleX(-1) rotate(270deg)}\\n\\n.cGqzL_dIzR{font-size:\".concat(theme.sizeXSmall || 'inherit', \"}\\n\\n.cGqzL_VCXp{font-size:\").concat(theme.sizeSmall || 'inherit', \"}\\n\\n.cGqzL_fKcQ{font-size:\").concat(theme.sizeMedium || 'inherit', \"}\\n\\n.cGqzL_cnhd{font-size:\").concat(theme.sizeLarge || 'inherit', \"}\\n\\n.cGqzL_fWMB{font-size:\").concat(theme.sizeXLarge || 'inherit', \"}\");\n  },\n  'root': 'cGqzL_bGBk',\n  'rotate--90': 'cGqzL_cwgF',\n  'rotate--180': 'cGqzL_exaY',\n  'rotate--270': 'cGqzL_dTDN',\n  'bidirectional': 'cGqzL_owrh',\n  'size--x-small': 'cGqzL_dIzR',\n  'size--small': 'cGqzL_VCXp',\n  'size--medium': 'cGqzL_fKcQ',\n  'size--large': 'cGqzL_cnhd',\n  'size--x-large': 'cGqzL_fWMB'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar SVGIcon = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SVGIcon, _Component);\n\n  function SVGIcon() {\n    _classCallCheck(this, SVGIcon);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SVGIcon).apply(this, arguments));\n  }\n\n  _createClass(SVGIcon, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          rotate = _this$props.rotate,\n          className = _this$props.className,\n          size = _this$props.size,\n          bidirectional = _this$props.bidirectional,\n          props = _objectWithoutProperties(_this$props, [\"rotate\", \"className\", \"size\", \"bidirectional\"]);\n\n      return React.createElement(InlineSVG, Object.assign({}, props, {\n        rotate: rotate,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[\"rotate--\".concat(rotate)], rotate && rotate !== '0'), _defineProperty(_classnames, styles[\"size--\".concat(size)], size), _defineProperty(_classnames, styles.bidirectional, bidirectional), _defineProperty(_classnames, className, className), _classnames))\n      }));\n    }\n  }]);\n\n  SVGIcon.displayName = \"SVGIcon\";\n  return SVGIcon;\n}(Component), _class2.propTypes = _objectSpread({}, InlineSVG.propTypes, {\n  rotate: PropTypes.oneOf(['0', '90', '180', '270']),\n  size: PropTypes.oneOf(['x-small', 'small', 'medium', 'large', 'x-large']),\n  bidirectional: PropTypes.bool\n}), _class2.defaultProps = {\n  rotate: '0',\n  bidirectional: false,\n  size: void 0\n}, _temp)) || _class) || _class);\nexport default SVGIcon;\nexport { SVGIcon };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator() {\n  return {\n    sizeXSmall: '1.125rem',\n    sizeSmall: '2rem',\n    sizeMedium: '3rem',\n    sizeLarge: '5rem',\n    sizeXLarge: '10rem'\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1743.858 267.012L710.747 1300.124 176.005 765.382 0 941.387l710.747 710.871 1209.24-1209.116z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconCheckMarkSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconCheckMarkSolid, _Component);\n\n  function IconCheckMarkSolid() {\n    _classCallCheck(this, IconCheckMarkSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconCheckMarkSolid).apply(this, arguments));\n  }\n\n  _createClass(IconCheckMarkSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconCheckMark\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconCheckMarkSolid.displayName = \"IconCheckMarkSolid\";\n  return IconCheckMarkSolid;\n}(Component);\n\nIconCheckMarkSolid.glyphName = 'check-mark';\nIconCheckMarkSolid.variant = 'Solid';\nIconCheckMarkSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconCheckMarkSolid;\nexport { IconCheckMarkSolid };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { SVGIcon } from '@instructure/ui-svg-images';\nimport { IconCheckMarkSolid } from '@instructure/ui-icons';\nimport { themeable } from '@instructure/ui-themeable';\nvar styles = {\n  componentId: 'yyQPt',\n  template: function template(theme) {\n    return \"\\n\\n.yyQPt_bGBk{align-items:flex-start;display:flex}\\n\\n.yyQPt_cSXm{-webkit-margin-end:\".concat(theme.marginRight || 'inherit', \";-webkit-margin-start:0;align-items:center;background:\").concat(theme.background || 'inherit', \";border:\").concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";display:flex;flex-shrink:0;justify-content:center;margin-inline-end:\").concat(theme.marginRight || 'inherit', \";margin-inline-start:0;padding:\").concat(theme.padding || 'inherit', \";position:relative;transition:all 0.2s}\\n\\n[dir=ltr] .yyQPt_cSXm{margin-left:0;margin-right:\").concat(theme.marginRight || 'inherit', \"}\\n\\n[dir=rtl] .yyQPt_cSXm{margin-left:\").concat(theme.marginRight || 'inherit', \";margin-right:0}\\n\\n.yyQPt_cSXm:before{border:\").concat(theme.focusBorderWidth || 'inherit', \" \").concat(theme.focusBorderStyle || 'inherit', \" \").concat(theme.focusBorderColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.3125rem;box-sizing:border-box;content:\\\"\\\";left:-0.3125rem;opacity:0;pointer-events:none;position:absolute;right:-0.3125rem;top:-0.3125rem;transform:scale(0.75);transition:all 0.2s}\\n\\n.yyQPt_blJt{color:\").concat(theme.labelColor || 'inherit', \";flex:1 1 auto;font-family:\").concat(theme.labelFontFamily || 'inherit', \";font-weight:\").concat(theme.labelFontWeight || 'inherit', \";line-height:\").concat(theme.labelLineHeight || 'inherit', \";min-width:0.0625rem}\\n\\n.yyQPt_doqw .yyQPt_blJt{font-size:\").concat(theme.labelFontSizeSmall || 'inherit', \"}\\n\\n.yyQPt_doqw .yyQPt_cSXm{font-size:\").concat(theme.iconSizeSmall || 'inherit', \";height:\").concat(theme.facadeSizeSmall || 'inherit', \";width:\").concat(theme.facadeSizeSmall || 'inherit', \"}\\n\\n.yyQPt_ycrn .yyQPt_blJt{font-size:\").concat(theme.labelFontSizeMedium || 'inherit', \"}\\n\\n.yyQPt_ycrn .yyQPt_cSXm{font-size:\").concat(theme.iconSizeMedium || 'inherit', \";height:\").concat(theme.facadeSizeMedium || 'inherit', \";width:\").concat(theme.facadeSizeMedium || 'inherit', \"}\\n\\n.yyQPt_cMDj .yyQPt_blJt{font-size:\").concat(theme.labelFontSizeLarge || 'inherit', \"}\\n\\n.yyQPt_cMDj .yyQPt_cSXm{font-size:\").concat(theme.iconSizeLarge || 'inherit', \";height:\").concat(theme.facadeSizeLarge || 'inherit', \";width:\").concat(theme.facadeSizeLarge || 'inherit', \"}\\n\\n.yyQPt_cjfS .yyQPt_cSXm{background:\").concat(theme.checkedBackground || 'inherit', \";border-color:\").concat(theme.checkedBorderColor || 'inherit', \"}\\n\\n.yyQPt_cjfS .yyQPt_blJt{color:\").concat(theme.checkedLabelColor || 'inherit', \"}\\n\\n.yyQPt_cVYB .yyQPt_cSXm:before{opacity:1;transform:scale(1)}\\n\\n.yyQPt_Ffcq .yyQPt_cSXm{border-color:\").concat(theme.hoverBorderColor || 'inherit', \"}\");\n  },\n  'root': 'yyQPt_bGBk',\n  'facade': 'yyQPt_cSXm',\n  'label': 'yyQPt_blJt',\n  'small': 'yyQPt_doqw',\n  'medium': 'yyQPt_ycrn',\n  'large': 'yyQPt_cMDj',\n  'checked': 'yyQPt_cjfS',\n  'focused': 'yyQPt_cVYB',\n  'hovered': 'yyQPt_Ffcq'\n};\nimport theme from './theme';\n/**\n---\nparent: Checkbox\n---\n**/\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(SVGIcon, {\n  viewBox: \"0 0 1920 1920\",\n  inline: false\n}, React.createElement(\"rect\", {\n  x: \"140\",\n  y: \"820\",\n  width: \"1640\",\n  height: \"280\"\n}));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(IconCheckMarkSolid, {\n  inline: false\n});\n\nvar CheckboxFacade = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CheckboxFacade, _Component);\n\n  function CheckboxFacade() {\n    _classCallCheck(this, CheckboxFacade);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CheckboxFacade).apply(this, arguments));\n  }\n\n  _createClass(CheckboxFacade, [{\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      if (this.props.indeterminate) {\n        return _ref;\n      } else if (this.props.checked) {\n        return _ref2;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var _this$props = this.props,\n          size = _this$props.size,\n          checked = _this$props.checked,\n          focused = _this$props.focused,\n          hovered = _this$props.hovered,\n          indeterminate = _this$props.indeterminate;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.checked, checked || indeterminate), _defineProperty(_classes, styles.focused, focused), _defineProperty(_classes, styles.hovered, hovered), _defineProperty(_classes, styles[size], true), _classes);\n      return React.createElement(\"span\", {\n        className: classnames(classes)\n      }, React.createElement(\"span\", {\n        className: styles.facade,\n        \"aria-hidden\": \"true\"\n      }, this.renderIcon()), React.createElement(\"span\", {\n        className: styles.label\n      }, this.props.children));\n    }\n  }]);\n\n  CheckboxFacade.displayName = \"CheckboxFacade\";\n  return CheckboxFacade;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node.isRequired,\n  checked: PropTypes.bool,\n  focused: PropTypes.bool,\n  hovered: PropTypes.bool,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * Visual state showing that child checkboxes are a combination of checked and unchecked\n  */\n  indeterminate: PropTypes.bool\n}, _class2.defaultProps = {\n  checked: false,\n  focused: false,\n  hovered: false,\n  size: 'medium',\n  indeterminate: false\n}, _temp)) || _class);\nexport default CheckboxFacade;\nexport { CheckboxFacade };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    color: colors.textLightest,\n    borderWidth: borders.widthSmall,\n    borderColor: colors.borderDark,\n    borderRadius: borders.radiusMedium,\n    background: colors.backgroundLightest,\n    marginRight: spacing.xSmall,\n    padding: spacing.xxxSmall,\n    checkedBackground: colors.backgroundDarkest,\n    checkedBorderColor: colors.borderDarkest,\n    hoverBorderColor: colors.borderDarkest,\n    focusBorderColor: colors.borderBrand,\n    focusBorderWidth: borders.widthMedium,\n    focusBorderStyle: borders.style,\n    labelColor: colors.textDarkest,\n    checkedLabelColor: colors.textDarkest,\n    labelFontFamily: typography.fontFamily,\n    labelFontWeight: typography.fontWeightNormal,\n    labelLineHeight: typography.lineHeightCondensed,\n    facadeSizeSmall: '1rem',\n    facadeSizeMedium: '1.25rem',\n    facadeSizeLarge: '1.75rem',\n    labelFontSizeSmall: typography.fontSizeSmall,\n    labelFontSizeMedium: typography.fontSizeMedium,\n    labelFontSizeLarge: typography.fontSizeLarge,\n    iconSizeSmall: '0.625rem',\n    iconSizeMedium: '0.75rem',\n    iconSizeLarge: '1rem'\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    focusBorderColor: variables['ic-brand-primary'],\n    labelColor: variables['ic-brand-font-color-dark'],\n    checkedLabelColor: variables['ic-brand-font-color-dark'],\n    checkedBackground: variables['ic-brand-font-color-dark'],\n    checkedBorderColor: variables['ic-brand-font-color-dark'],\n    hoverBorderColor: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\n/**\n * ---\n * category: utilities/form\n * ---\n * Custom prop types for React components.\n * @module FormPropTypes\n */\n\nvar FormPropTypes = {\n  message: PropTypes.shape({\n    text: PropTypes.string,\n    type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  })\n};\nexport default FormPropTypes;\nexport { FormPropTypes };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/react\n * ---\n * Get the displayName of a React component.\n *\n * For [themeable](#themeable) components defined as ES6 classes, the displayName can\n * be added via [babel plugin](#babel-plugin-themeable-styles) for [themeable](#themeable) components.\n *\n * @param {ReactComponent|String} Component\n * @returns {String} the component displayName\n */\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name;\n}\n\nexport default getDisplayName;\nexport { getDisplayName };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { getDisplayName } from './getDisplayName';\n/**\n * ---\n * category: utilities/react\n * ---\n * Check if a React component instance (React element) matches one of the\n * specified types.\n *\n * @param {ReactComponent} componentInstance\n * @param {Array} types an array of React components\n * @returns {Boolean} true if the component matches at least one of the types\n */\n\nfunction matchComponentTypes(componentInstance) {\n  var types = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n\n  if (componentInstance && componentInstance.type) {\n    var displayNames = types.map(function (type) {\n      return getDisplayName(type);\n    });\n    return displayNames.indexOf(getDisplayName(componentInstance.type)) >= 0;\n  } else {\n    return false;\n  }\n}\n\nexport default matchComponentTypes;\nexport { matchComponentTypes };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { capitalizeFirstLetter } from '@instructure/ui-utils';\nimport { omitProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'bNerA',\n  template: function template(theme) {\n    return \"\\n\\n.bNerA_bGBk{box-sizing:border-box;display:block;min-width:0.0625rem;text-align:inherit}\\n\\n[dir=ltr] .bNerA_bGBk,[dir=rtl] .bNerA_bGBk{text-align:inherit}\\n\\n.bNerA_bGBk.bNerA_buDT{margin-bottom:\".concat(theme.spacingSmall || 'inherit', \"}\\n\\n.bNerA_bGBk.bNerA_dlWR{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n.bNerA_bGBk.bNerA_cGJD{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n.bNerA_bGBk.bNerA_DpxJ.bNerA_eFno,.bNerA_bGBk.bNerA_cKZZ,.bNerA_dTOw{margin-bottom:0}\\n\\n.bNerA_dTOw{box-sizing:border-box;flex-basis:0%;flex-grow:1;flex-shrink:1}\\n\\n.bNerA_dTOw.bNerA_cGJD,.bNerA_dTOw.bNerA_dlWR,.bNerA_dTOw.bNerA_buDT{margin-bottom:0}\\n\\n.bNerA_dTOw.bNerA_bBOa{padding-left:calc(\").concat(theme.spacingSmall || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingSmall || 'inherit', \"/2)}\\n\\n.bNerA_dTOw.bNerA_yZGt{padding-left:calc(\").concat(theme.spacingMedium || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingMedium || 'inherit', \"/2)}\\n\\n.bNerA_dTOw.bNerA_PsGC{padding-left:calc(\").concat(theme.spacingLarge || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingLarge || 'inherit', \"/2)}\\n\\n.bNerA_dTOw.bNerA_oUBk{align-self:flex-start}\\n\\n.bNerA_dTOw.bNerA_NmrE{align-self:center}\\n\\n.bNerA_dTOw.bNerA_bwwb{align-self:flex-end}\\n\\n.bNerA_dTOw.bNerA_EMjX{text-align:start}\\n\\n[dir=ltr] .bNerA_dTOw.bNerA_EMjX{text-align:left}\\n\\n[dir=rtl] .bNerA_dTOw.bNerA_EMjX{text-align:right}\\n\\n.bNerA_dTOw.bNerA_dBtH{text-align:end}\\n\\n[dir=ltr] .bNerA_dTOw.bNerA_dBtH{text-align:right}\\n\\n[dir=rtl] .bNerA_dTOw.bNerA_dBtH{text-align:left}\\n\\n.bNerA_dTOw.bNerA_ImeN,[dir=ltr] .bNerA_dTOw.bNerA_ImeN,[dir=rtl] .bNerA_dTOw.bNerA_ImeN{text-align:center}\\n\\n.bNerA_dTOw.bNerA_qfdC,[dir=ltr] .bNerA_dTOw.bNerA_qfdC,[dir=rtl] .bNerA_dTOw.bNerA_qfdC{text-align:inherit}\\n\\n.bNerA_fucb{flex-basis:auto}\\n\\n.bNerA_Iucl,.bNerA_fucb{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_Iucl{flex-basis:8.33325%;max-width:8.33325%}\\n\\n.bNerA_ciwJ{flex-basis:16.6665%;max-width:16.6665%}\\n\\n.bNerA_ciwJ,.bNerA_cive{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_cive{flex-basis:24.99975%;max-width:24.99975%}\\n\\n.bNerA_cXtf{flex-basis:33.333%;max-width:33.333%}\\n\\n.bNerA_cXtf,.bNerA_bJnM{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_bJnM{flex-basis:41.66625%;max-width:41.66625%}\\n\\n.bNerA_bZGN{flex-basis:49.9995%;max-width:49.9995%}\\n\\n.bNerA_bZGN,.bNerA_ckIz{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_ckIz{flex-basis:58.33275%;max-width:58.33275%}\\n\\n.bNerA_galf{flex-basis:66.666%;max-width:66.666%}\\n\\n.bNerA_galf,.bNerA_ehfr{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_ehfr{flex-basis:74.99925%;max-width:74.99925%}\\n\\n.bNerA_fuiF{flex-basis:83.3325%;max-width:83.3325%}\\n\\n.bNerA_fuiF,.bNerA_cXsq{flex-grow:0;flex-shrink:0}\\n\\n.bNerA_cXsq{flex-basis:91.66575%;max-width:91.66575%}\\n\\n.bNerA_cQlq{-webkit-margin-end:0;-webkit-margin-start:8.33325%;margin-inline-end:0;margin-inline-start:8.33325%}\\n\\n[dir=ltr] .bNerA_cQlq{margin-left:8.33325%;margin-right:0}\\n\\n[dir=rtl] .bNerA_cQlq{margin-left:0;margin-right:8.33325%}\\n\\n.bNerA_cxyz{-webkit-margin-end:0;-webkit-margin-start:16.6665%;margin-inline-end:0;margin-inline-start:16.6665%}\\n\\n[dir=ltr] .bNerA_cxyz{margin-left:16.6665%;margin-right:0}\\n\\n[dir=rtl] .bNerA_cxyz{margin-left:0;margin-right:16.6665%}\\n\\n.bNerA_eUDU{-webkit-margin-end:0;-webkit-margin-start:24.99975%;margin-inline-end:0;margin-inline-start:24.99975%}\\n\\n[dir=ltr] .bNerA_eUDU{margin-left:24.99975%;margin-right:0}\\n\\n[dir=rtl] .bNerA_eUDU{margin-left:0;margin-right:24.99975%}\\n\\n.bNerA_eyiG{-webkit-margin-end:0;-webkit-margin-start:33.333%;margin-inline-end:0;margin-inline-start:33.333%}\\n\\n[dir=ltr] .bNerA_eyiG{margin-left:33.333%;margin-right:0}\\n\\n[dir=rtl] .bNerA_eyiG{margin-left:0;margin-right:33.333%}\\n\\n.bNerA_dZSU{-webkit-margin-end:0;-webkit-margin-start:41.66625%;margin-inline-end:0;margin-inline-start:41.66625%}\\n\\n[dir=ltr] .bNerA_dZSU{margin-left:41.66625%;margin-right:0}\\n\\n[dir=rtl] .bNerA_dZSU{margin-left:0;margin-right:41.66625%}\\n\\n.bNerA_ccNL{-webkit-margin-end:0;-webkit-margin-start:49.9995%;margin-inline-end:0;margin-inline-start:49.9995%}\\n\\n[dir=ltr] .bNerA_ccNL{margin-left:49.9995%;margin-right:0}\\n\\n[dir=rtl] .bNerA_ccNL{margin-left:0;margin-right:49.9995%}\\n\\n.bNerA_epzV{-webkit-margin-end:0;-webkit-margin-start:58.33275%;margin-inline-end:0;margin-inline-start:58.33275%}\\n\\n[dir=ltr] .bNerA_epzV{margin-left:58.33275%;margin-right:0}\\n\\n[dir=rtl] .bNerA_epzV{margin-left:0;margin-right:58.33275%}\\n\\n.bNerA_ewJS{-webkit-margin-end:0;-webkit-margin-start:66.666%;margin-inline-end:0;margin-inline-start:66.666%}\\n\\n[dir=ltr] .bNerA_ewJS{margin-left:66.666%;margin-right:0}\\n\\n[dir=rtl] .bNerA_ewJS{margin-left:0;margin-right:66.666%}\\n\\n.bNerA_teYF{-webkit-margin-end:0;-webkit-margin-start:74.99925%;margin-inline-end:0;margin-inline-start:74.99925%}\\n\\n[dir=ltr] .bNerA_teYF{margin-left:74.99925%;margin-right:0}\\n\\n[dir=rtl] .bNerA_teYF{margin-left:0;margin-right:74.99925%}\\n\\n.bNerA_fRJf{-webkit-margin-end:0;-webkit-margin-start:83.3325%;margin-inline-end:0;margin-inline-start:83.3325%}\\n\\n[dir=ltr] .bNerA_fRJf{margin-left:83.3325%;margin-right:0}\\n\\n[dir=rtl] .bNerA_fRJf{margin-left:0;margin-right:83.3325%}\\n\\n.bNerA_euOY{-webkit-margin-end:0;-webkit-margin-start:91.66575%;margin-inline-end:0;margin-inline-start:91.66575%}\\n\\n[dir=ltr] .bNerA_euOY{margin-left:91.66575%;margin-right:0}\\n\\n[dir=rtl] .bNerA_euOY{margin-left:0;margin-right:91.66575%}\\n\\n.bNerA_Ywqj{flex:0 0 100%}\\n\\n@media screen and (--mediumMin){.bNerA_crIs{box-sizing:border-box;flex-basis:0%;flex-grow:1;flex-shrink:1}.bNerA_crIs,.bNerA_crIs.bNerA_cGJD,.bNerA_crIs.bNerA_dlWR,.bNerA_crIs.bNerA_buDT{margin-bottom:0}.bNerA_crIs.bNerA_bBOa{padding-left:calc(\").concat(theme.spacingSmall || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingSmall || 'inherit', \"/2)}.bNerA_crIs.bNerA_yZGt{padding-left:calc(\").concat(theme.spacingMedium || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingMedium || 'inherit', \"/2)}.bNerA_crIs.bNerA_PsGC{padding-left:calc(\").concat(theme.spacingLarge || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingLarge || 'inherit', \"/2)}.bNerA_crIs.bNerA_oUBk{align-self:flex-start}.bNerA_crIs.bNerA_NmrE{align-self:center}.bNerA_crIs.bNerA_bwwb{align-self:flex-end}.bNerA_crIs.bNerA_EMjX{text-align:start}[dir=ltr] .bNerA_crIs.bNerA_EMjX{text-align:left}[dir=rtl] .bNerA_crIs.bNerA_EMjX{text-align:right}.bNerA_crIs.bNerA_dBtH{text-align:end}[dir=ltr] .bNerA_crIs.bNerA_dBtH{text-align:right}[dir=rtl] .bNerA_crIs.bNerA_dBtH{text-align:left}.bNerA_crIs.bNerA_ImeN,[dir=ltr] .bNerA_crIs.bNerA_ImeN,[dir=rtl] .bNerA_crIs.bNerA_ImeN{text-align:center}.bNerA_crIs.bNerA_qfdC,[dir=ltr] .bNerA_crIs.bNerA_qfdC,[dir=rtl] .bNerA_crIs.bNerA_qfdC{text-align:inherit}.bNerA_fwxB{flex-basis:auto}.bNerA_juaX,.bNerA_fwxB{flex-grow:0;flex-shrink:0}.bNerA_juaX{flex-basis:8.33325%;max-width:8.33325%}.bNerA_xoSo{flex-basis:16.6665%;max-width:16.6665%}.bNerA_xoSo,.bNerA_dDfd{flex-grow:0;flex-shrink:0}.bNerA_dDfd{flex-basis:24.99975%;max-width:24.99975%}.bNerA_UigQ{flex-basis:33.333%;max-width:33.333%}.bNerA_UigQ,.bNerA_ewfT{flex-grow:0;flex-shrink:0}.bNerA_ewfT{flex-basis:41.66625%;max-width:41.66625%}.bNerA_fFWL{flex-basis:49.9995%;max-width:49.9995%}.bNerA_fFWL,.bNerA_cvYO{flex-grow:0;flex-shrink:0}.bNerA_cvYO{flex-basis:58.33275%;max-width:58.33275%}.bNerA_oLmY{flex-basis:66.666%;max-width:66.666%}.bNerA_oLmY,.bNerA_cnES{flex-grow:0;flex-shrink:0}.bNerA_cnES{flex-basis:74.99925%;max-width:74.99925%}.bNerA_dKzK{flex-basis:83.3325%;max-width:83.3325%}.bNerA_dKzK,.bNerA_dILx{flex-grow:0;flex-shrink:0}.bNerA_dILx{flex-basis:91.66575%;max-width:91.66575%}.bNerA_ebYC{-webkit-margin-end:0;-webkit-margin-start:8.33325%;margin-inline-end:0;margin-inline-start:8.33325%}[dir=ltr] .bNerA_ebYC{margin-left:8.33325%;margin-right:0}[dir=rtl] .bNerA_ebYC{margin-left:0;margin-right:8.33325%}.bNerA_bTcC{-webkit-margin-end:0;-webkit-margin-start:16.6665%;margin-inline-end:0;margin-inline-start:16.6665%}[dir=ltr] .bNerA_bTcC{margin-left:16.6665%;margin-right:0}[dir=rtl] .bNerA_bTcC{margin-left:0;margin-right:16.6665%}.bNerA_bgAW{-webkit-margin-end:0;-webkit-margin-start:24.99975%;margin-inline-end:0;margin-inline-start:24.99975%}[dir=ltr] .bNerA_bgAW{margin-left:24.99975%;margin-right:0}[dir=rtl] .bNerA_bgAW{margin-left:0;margin-right:24.99975%}.bNerA_eiwp{-webkit-margin-end:0;-webkit-margin-start:33.333%;margin-inline-end:0;margin-inline-start:33.333%}[dir=ltr] .bNerA_eiwp{margin-left:33.333%;margin-right:0}[dir=rtl] .bNerA_eiwp{margin-left:0;margin-right:33.333%}.bNerA_byfs{-webkit-margin-end:0;-webkit-margin-start:41.66625%;margin-inline-end:0;margin-inline-start:41.66625%}[dir=ltr] .bNerA_byfs{margin-left:41.66625%;margin-right:0}[dir=rtl] .bNerA_byfs{margin-left:0;margin-right:41.66625%}.bNerA_fQmK{-webkit-margin-end:0;-webkit-margin-start:49.9995%;margin-inline-end:0;margin-inline-start:49.9995%}[dir=ltr] .bNerA_fQmK{margin-left:49.9995%;margin-right:0}[dir=rtl] .bNerA_fQmK{margin-left:0;margin-right:49.9995%}.bNerA_cYRh{-webkit-margin-end:0;-webkit-margin-start:58.33275%;margin-inline-end:0;margin-inline-start:58.33275%}[dir=ltr] .bNerA_cYRh{margin-left:58.33275%;margin-right:0}[dir=rtl] .bNerA_cYRh{margin-left:0;margin-right:58.33275%}.bNerA_cfgm{-webkit-margin-end:0;-webkit-margin-start:66.666%;margin-inline-end:0;margin-inline-start:66.666%}[dir=ltr] .bNerA_cfgm{margin-left:66.666%;margin-right:0}[dir=rtl] .bNerA_cfgm{margin-left:0;margin-right:66.666%}.bNerA_bWEY{-webkit-margin-end:0;-webkit-margin-start:74.99925%;margin-inline-end:0;margin-inline-start:74.99925%}[dir=ltr] .bNerA_bWEY{margin-left:74.99925%;margin-right:0}[dir=rtl] .bNerA_bWEY{margin-left:0;margin-right:74.99925%}.bNerA_ddxz{-webkit-margin-end:0;-webkit-margin-start:83.3325%;margin-inline-end:0;margin-inline-start:83.3325%}[dir=ltr] .bNerA_ddxz{margin-left:83.3325%;margin-right:0}[dir=rtl] .bNerA_ddxz{margin-left:0;margin-right:83.3325%}.bNerA_fvqz{-webkit-margin-end:0;-webkit-margin-start:91.66575%;margin-inline-end:0;margin-inline-start:91.66575%}[dir=ltr] .bNerA_fvqz{margin-left:91.66575%;margin-right:0}[dir=rtl] .bNerA_fvqz{margin-left:0;margin-right:91.66575%}.bNerA_myaH{flex:0 0 100%}}\\n\\n@media screen and (--largeMin){.bNerA_cpbQ{box-sizing:border-box;flex-basis:0%;flex-grow:1;flex-shrink:1}.bNerA_cpbQ,.bNerA_cpbQ.bNerA_cGJD,.bNerA_cpbQ.bNerA_dlWR,.bNerA_cpbQ.bNerA_buDT{margin-bottom:0}.bNerA_cpbQ.bNerA_bBOa{padding-left:calc(\").concat(theme.spacingSmall || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingSmall || 'inherit', \"/2)}.bNerA_cpbQ.bNerA_yZGt{padding-left:calc(\").concat(theme.spacingMedium || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingMedium || 'inherit', \"/2)}.bNerA_cpbQ.bNerA_PsGC{padding-left:calc(\").concat(theme.spacingLarge || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingLarge || 'inherit', \"/2)}.bNerA_cpbQ.bNerA_oUBk{align-self:flex-start}.bNerA_cpbQ.bNerA_NmrE{align-self:center}.bNerA_cpbQ.bNerA_bwwb{align-self:flex-end}.bNerA_cpbQ.bNerA_EMjX{text-align:start}[dir=ltr] .bNerA_cpbQ.bNerA_EMjX{text-align:left}[dir=rtl] .bNerA_cpbQ.bNerA_EMjX{text-align:right}.bNerA_cpbQ.bNerA_dBtH{text-align:end}[dir=ltr] .bNerA_cpbQ.bNerA_dBtH{text-align:right}[dir=rtl] .bNerA_cpbQ.bNerA_dBtH{text-align:left}.bNerA_cpbQ.bNerA_ImeN,[dir=ltr] .bNerA_cpbQ.bNerA_ImeN,[dir=rtl] .bNerA_cpbQ.bNerA_ImeN{text-align:center}.bNerA_cpbQ.bNerA_qfdC,[dir=ltr] .bNerA_cpbQ.bNerA_qfdC,[dir=rtl] .bNerA_cpbQ.bNerA_qfdC{text-align:inherit}.bNerA_flKG{flex-basis:auto}.bNerA_ejgJ,.bNerA_flKG{flex-grow:0;flex-shrink:0}.bNerA_ejgJ{flex-basis:8.33325%;max-width:8.33325%}.bNerA_bkGD{flex-basis:16.6665%;max-width:16.6665%}.bNerA_bkGD,.bNerA_kyuY{flex-grow:0;flex-shrink:0}.bNerA_kyuY{flex-basis:24.99975%;max-width:24.99975%}.bNerA_eIFh{flex-basis:33.333%;max-width:33.333%}.bNerA_eIFh,.bNerA_eeNC{flex-grow:0;flex-shrink:0}.bNerA_eeNC{flex-basis:41.66625%;max-width:41.66625%}.bNerA_MKjh{flex-basis:49.9995%;max-width:49.9995%}.bNerA_MKjh,.bNerA_dNFt{flex-grow:0;flex-shrink:0}.bNerA_dNFt{flex-basis:58.33275%;max-width:58.33275%}.bNerA_coSQ{flex-basis:66.666%;max-width:66.666%}.bNerA_coSQ,.bNerA_dREd{flex-grow:0;flex-shrink:0}.bNerA_dREd{flex-basis:74.99925%;max-width:74.99925%}.bNerA_bJLL{flex-basis:83.3325%;max-width:83.3325%}.bNerA_bJLL,.bNerA_caYM{flex-grow:0;flex-shrink:0}.bNerA_caYM{flex-basis:91.66575%;max-width:91.66575%}.bNerA_dygw{-webkit-margin-end:0;-webkit-margin-start:8.33325%;margin-inline-end:0;margin-inline-start:8.33325%}[dir=ltr] .bNerA_dygw{margin-left:8.33325%;margin-right:0}[dir=rtl] .bNerA_dygw{margin-left:0;margin-right:8.33325%}.bNerA_fmOw{-webkit-margin-end:0;-webkit-margin-start:16.6665%;margin-inline-end:0;margin-inline-start:16.6665%}[dir=ltr] .bNerA_fmOw{margin-left:16.6665%;margin-right:0}[dir=rtl] .bNerA_fmOw{margin-left:0;margin-right:16.6665%}.bNerA_IaBJ{-webkit-margin-end:0;-webkit-margin-start:24.99975%;margin-inline-end:0;margin-inline-start:24.99975%}[dir=ltr] .bNerA_IaBJ{margin-left:24.99975%;margin-right:0}[dir=rtl] .bNerA_IaBJ{margin-left:0;margin-right:24.99975%}.bNerA_btLI{-webkit-margin-end:0;-webkit-margin-start:33.333%;margin-inline-end:0;margin-inline-start:33.333%}[dir=ltr] .bNerA_btLI{margin-left:33.333%;margin-right:0}[dir=rtl] .bNerA_btLI{margin-left:0;margin-right:33.333%}.bNerA_cWrW{-webkit-margin-end:0;-webkit-margin-start:41.66625%;margin-inline-end:0;margin-inline-start:41.66625%}[dir=ltr] .bNerA_cWrW{margin-left:41.66625%;margin-right:0}[dir=rtl] .bNerA_cWrW{margin-left:0;margin-right:41.66625%}.bNerA_eLfg{-webkit-margin-end:0;-webkit-margin-start:49.9995%;margin-inline-end:0;margin-inline-start:49.9995%}[dir=ltr] .bNerA_eLfg{margin-left:49.9995%;margin-right:0}[dir=rtl] .bNerA_eLfg{margin-left:0;margin-right:49.9995%}.bNerA_bsHW{-webkit-margin-end:0;-webkit-margin-start:58.33275%;margin-inline-end:0;margin-inline-start:58.33275%}[dir=ltr] .bNerA_bsHW{margin-left:58.33275%;margin-right:0}[dir=rtl] .bNerA_bsHW{margin-left:0;margin-right:58.33275%}.bNerA_eWZp{-webkit-margin-end:0;-webkit-margin-start:66.666%;margin-inline-end:0;margin-inline-start:66.666%}[dir=ltr] .bNerA_eWZp{margin-left:66.666%;margin-right:0}[dir=rtl] .bNerA_eWZp{margin-left:0;margin-right:66.666%}.bNerA_shqV{-webkit-margin-end:0;-webkit-margin-start:74.99925%;margin-inline-end:0;margin-inline-start:74.99925%}[dir=ltr] .bNerA_shqV{margin-left:74.99925%;margin-right:0}[dir=rtl] .bNerA_shqV{margin-left:0;margin-right:74.99925%}.bNerA_bXjn{-webkit-margin-end:0;-webkit-margin-start:83.3325%;margin-inline-end:0;margin-inline-start:83.3325%}[dir=ltr] .bNerA_bXjn{margin-left:83.3325%;margin-right:0}[dir=rtl] .bNerA_bXjn{margin-left:0;margin-right:83.3325%}.bNerA_eBxq{-webkit-margin-end:0;-webkit-margin-start:91.66575%;margin-inline-end:0;margin-inline-start:91.66575%}[dir=ltr] .bNerA_eBxq{margin-left:91.66575%;margin-right:0}[dir=rtl] .bNerA_eBxq{margin-left:0;margin-right:91.66575%}.bNerA_fFaJ{flex:0 0 100%}}\\n\\n@media screen and (--xLargeMin){.bNerA_dsuu{box-sizing:border-box;flex-basis:0%;flex-grow:1;flex-shrink:1}.bNerA_dsuu,.bNerA_dsuu.bNerA_cGJD,.bNerA_dsuu.bNerA_dlWR,.bNerA_dsuu.bNerA_buDT{margin-bottom:0}.bNerA_dsuu.bNerA_bBOa{padding-left:calc(\").concat(theme.spacingSmall || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingSmall || 'inherit', \"/2)}.bNerA_dsuu.bNerA_yZGt{padding-left:calc(\").concat(theme.spacingMedium || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingMedium || 'inherit', \"/2)}.bNerA_dsuu.bNerA_PsGC{padding-left:calc(\").concat(theme.spacingLarge || 'inherit', \"/2);padding-right:calc(\").concat(theme.spacingLarge || 'inherit', \"/2)}.bNerA_dsuu.bNerA_oUBk{align-self:flex-start}.bNerA_dsuu.bNerA_NmrE{align-self:center}.bNerA_dsuu.bNerA_bwwb{align-self:flex-end}.bNerA_dsuu.bNerA_EMjX{text-align:start}[dir=ltr] .bNerA_dsuu.bNerA_EMjX{text-align:left}[dir=rtl] .bNerA_dsuu.bNerA_EMjX{text-align:right}.bNerA_dsuu.bNerA_dBtH{text-align:end}[dir=ltr] .bNerA_dsuu.bNerA_dBtH{text-align:right}[dir=rtl] .bNerA_dsuu.bNerA_dBtH{text-align:left}.bNerA_dsuu.bNerA_ImeN,[dir=ltr] .bNerA_dsuu.bNerA_ImeN,[dir=rtl] .bNerA_dsuu.bNerA_ImeN{text-align:center}.bNerA_dsuu.bNerA_qfdC,[dir=ltr] .bNerA_dsuu.bNerA_qfdC,[dir=rtl] .bNerA_dsuu.bNerA_qfdC{text-align:inherit}.bNerA_efaD{flex-basis:auto;flex-grow:0;flex-shrink:0}.bNerA_bcuT{flex-basis:8.33325%;max-width:8.33325%}.bNerA_bcuT,.bNerA_eKsY{flex-grow:0;flex-shrink:0}.bNerA_eKsY{flex-basis:16.6665%;max-width:16.6665%}.bNerA_MPOL{flex-basis:24.99975%;max-width:24.99975%}.bNerA_MPOL,.bNerA_biOQ{flex-grow:0;flex-shrink:0}.bNerA_biOQ{flex-basis:33.333%;max-width:33.333%}.bNerA_bbjg{flex-basis:41.66625%;max-width:41.66625%}.bNerA_bbjg,.bNerA_egeo{flex-grow:0;flex-shrink:0}.bNerA_egeo{flex-basis:49.9995%;max-width:49.9995%}.bNerA_cEMu{flex-basis:58.33275%;max-width:58.33275%}.bNerA_cEMu,.bNerA_bque{flex-grow:0;flex-shrink:0}.bNerA_bque{flex-basis:66.666%;max-width:66.666%}.bNerA_fGUH{flex-basis:74.99925%;max-width:74.99925%}.bNerA_fGUH,.bNerA_egmb{flex-grow:0;flex-shrink:0}.bNerA_egmb{flex-basis:83.3325%;max-width:83.3325%}.bNerA_dWZl{flex-basis:91.66575%;flex-grow:0;flex-shrink:0;max-width:91.66575%}.bNerA_fRdd{-webkit-margin-end:0;-webkit-margin-start:8.33325%;margin-inline-end:0;margin-inline-start:8.33325%}[dir=ltr] .bNerA_fRdd{margin-left:8.33325%;margin-right:0}[dir=rtl] .bNerA_fRdd{margin-left:0;margin-right:8.33325%}.bNerA_fSBZ{-webkit-margin-end:0;-webkit-margin-start:16.6665%;margin-inline-end:0;margin-inline-start:16.6665%}[dir=ltr] .bNerA_fSBZ{margin-left:16.6665%;margin-right:0}[dir=rtl] .bNerA_fSBZ{margin-left:0;margin-right:16.6665%}.bNerA_fyjx{-webkit-margin-end:0;-webkit-margin-start:24.99975%;margin-inline-end:0;margin-inline-start:24.99975%}[dir=ltr] .bNerA_fyjx{margin-left:24.99975%;margin-right:0}[dir=rtl] .bNerA_fyjx{margin-left:0;margin-right:24.99975%}.bNerA_fKRr{-webkit-margin-end:0;-webkit-margin-start:33.333%;margin-inline-end:0;margin-inline-start:33.333%}[dir=ltr] .bNerA_fKRr{margin-left:33.333%;margin-right:0}[dir=rtl] .bNerA_fKRr{margin-left:0;margin-right:33.333%}.bNerA_PNRx{-webkit-margin-end:0;-webkit-margin-start:41.66625%;margin-inline-end:0;margin-inline-start:41.66625%}[dir=ltr] .bNerA_PNRx{margin-left:41.66625%;margin-right:0}[dir=rtl] .bNerA_PNRx{margin-left:0;margin-right:41.66625%}.bNerA_eTrk{-webkit-margin-end:0;-webkit-margin-start:49.9995%;margin-inline-end:0;margin-inline-start:49.9995%}[dir=ltr] .bNerA_eTrk{margin-left:49.9995%;margin-right:0}[dir=rtl] .bNerA_eTrk{margin-left:0;margin-right:49.9995%}.bNerA_cYoe{-webkit-margin-end:0;-webkit-margin-start:58.33275%;margin-inline-end:0;margin-inline-start:58.33275%}[dir=ltr] .bNerA_cYoe{margin-left:58.33275%;margin-right:0}[dir=rtl] .bNerA_cYoe{margin-left:0;margin-right:58.33275%}.bNerA_eVWO{-webkit-margin-end:0;-webkit-margin-start:66.666%;margin-inline-end:0;margin-inline-start:66.666%}[dir=ltr] .bNerA_eVWO{margin-left:66.666%;margin-right:0}[dir=rtl] .bNerA_eVWO{margin-left:0;margin-right:66.666%}.bNerA_bUSJ{-webkit-margin-end:0;-webkit-margin-start:74.99925%;margin-inline-end:0;margin-inline-start:74.99925%}[dir=ltr] .bNerA_bUSJ{margin-left:74.99925%;margin-right:0}[dir=rtl] .bNerA_bUSJ{margin-left:0;margin-right:74.99925%}.bNerA_cNJn{-webkit-margin-end:0;-webkit-margin-start:83.3325%;margin-inline-end:0;margin-inline-start:83.3325%}[dir=ltr] .bNerA_cNJn{margin-left:83.3325%;margin-right:0}[dir=rtl] .bNerA_cNJn{margin-left:0;margin-right:83.3325%}.bNerA_STVM{-webkit-margin-end:0;-webkit-margin-start:91.66575%;margin-inline-end:0;margin-inline-start:91.66575%}[dir=ltr] .bNerA_STVM{margin-left:91.66575%;margin-right:0}[dir=rtl] .bNerA_STVM{margin-left:0;margin-right:91.66575%}.bNerA_dRJT{flex:0 0 100%}}\\n\\n.bNerA_fFVr{outline:0.0625rem dashed red}\");\n  },\n  'root': 'bNerA_bGBk',\n  'rowSpacingSmall': 'bNerA_buDT',\n  'rowSpacingMedium': 'bNerA_dlWR',\n  'rowSpacingLarge': 'bNerA_cGJD',\n  'lastRow': 'bNerA_DpxJ',\n  'lastCol': 'bNerA_eFno',\n  'rowSpacingNone': 'bNerA_cKZZ',\n  'startAtSmall': 'bNerA_dTOw',\n  'colSpacingSmall': 'bNerA_bBOa',\n  'colSpacingMedium': 'bNerA_yZGt',\n  'colSpacingLarge': 'bNerA_PsGC',\n  'vAlign--top': 'bNerA_oUBk',\n  'vAlign--middle': 'bNerA_NmrE',\n  'vAlign--bottom': 'bNerA_bwwb',\n  'textAlign--start': 'bNerA_EMjX',\n  'textAlign--end': 'bNerA_dBtH',\n  'textAlign--center': 'bNerA_ImeN',\n  'textAlign--inherit': 'bNerA_qfdC',\n  'small--auto': 'bNerA_fucb',\n  'small--1': 'bNerA_Iucl',\n  'small--2': 'bNerA_ciwJ',\n  'small--3': 'bNerA_cive',\n  'small--4': 'bNerA_cXtf',\n  'small--5': 'bNerA_bJnM',\n  'small--6': 'bNerA_bZGN',\n  'small--7': 'bNerA_ckIz',\n  'small--8': 'bNerA_galf',\n  'small--9': 'bNerA_ehfr',\n  'small--10': 'bNerA_fuiF',\n  'small--11': 'bNerA_cXsq',\n  'small-offset--1': 'bNerA_cQlq',\n  'small-offset--2': 'bNerA_cxyz',\n  'small-offset--3': 'bNerA_eUDU',\n  'small-offset--4': 'bNerA_eyiG',\n  'small-offset--5': 'bNerA_dZSU',\n  'small-offset--6': 'bNerA_ccNL',\n  'small-offset--7': 'bNerA_epzV',\n  'small-offset--8': 'bNerA_ewJS',\n  'small-offset--9': 'bNerA_teYF',\n  'small-offset--10': 'bNerA_fRJf',\n  'small-offset--11': 'bNerA_euOY',\n  'small--12': 'bNerA_Ywqj',\n  'startAtMedium': 'bNerA_crIs',\n  'medium--auto': 'bNerA_fwxB',\n  'medium--1': 'bNerA_juaX',\n  'medium--2': 'bNerA_xoSo',\n  'medium--3': 'bNerA_dDfd',\n  'medium--4': 'bNerA_UigQ',\n  'medium--5': 'bNerA_ewfT',\n  'medium--6': 'bNerA_fFWL',\n  'medium--7': 'bNerA_cvYO',\n  'medium--8': 'bNerA_oLmY',\n  'medium--9': 'bNerA_cnES',\n  'medium--10': 'bNerA_dKzK',\n  'medium--11': 'bNerA_dILx',\n  'medium-offset--1': 'bNerA_ebYC',\n  'medium-offset--2': 'bNerA_bTcC',\n  'medium-offset--3': 'bNerA_bgAW',\n  'medium-offset--4': 'bNerA_eiwp',\n  'medium-offset--5': 'bNerA_byfs',\n  'medium-offset--6': 'bNerA_fQmK',\n  'medium-offset--7': 'bNerA_cYRh',\n  'medium-offset--8': 'bNerA_cfgm',\n  'medium-offset--9': 'bNerA_bWEY',\n  'medium-offset--10': 'bNerA_ddxz',\n  'medium-offset--11': 'bNerA_fvqz',\n  'medium--12': 'bNerA_myaH',\n  'startAtLarge': 'bNerA_cpbQ',\n  'large--auto': 'bNerA_flKG',\n  'large--1': 'bNerA_ejgJ',\n  'large--2': 'bNerA_bkGD',\n  'large--3': 'bNerA_kyuY',\n  'large--4': 'bNerA_eIFh',\n  'large--5': 'bNerA_eeNC',\n  'large--6': 'bNerA_MKjh',\n  'large--7': 'bNerA_dNFt',\n  'large--8': 'bNerA_coSQ',\n  'large--9': 'bNerA_dREd',\n  'large--10': 'bNerA_bJLL',\n  'large--11': 'bNerA_caYM',\n  'large-offset--1': 'bNerA_dygw',\n  'large-offset--2': 'bNerA_fmOw',\n  'large-offset--3': 'bNerA_IaBJ',\n  'large-offset--4': 'bNerA_btLI',\n  'large-offset--5': 'bNerA_cWrW',\n  'large-offset--6': 'bNerA_eLfg',\n  'large-offset--7': 'bNerA_bsHW',\n  'large-offset--8': 'bNerA_eWZp',\n  'large-offset--9': 'bNerA_shqV',\n  'large-offset--10': 'bNerA_bXjn',\n  'large-offset--11': 'bNerA_eBxq',\n  'large--12': 'bNerA_fFaJ',\n  'startAtXLarge': 'bNerA_dsuu',\n  'x-large--auto': 'bNerA_efaD',\n  'x-large--1': 'bNerA_bcuT',\n  'x-large--2': 'bNerA_eKsY',\n  'x-large--3': 'bNerA_MPOL',\n  'x-large--4': 'bNerA_biOQ',\n  'x-large--5': 'bNerA_bbjg',\n  'x-large--6': 'bNerA_egeo',\n  'x-large--7': 'bNerA_cEMu',\n  'x-large--8': 'bNerA_bque',\n  'x-large--9': 'bNerA_fGUH',\n  'x-large--10': 'bNerA_egmb',\n  'x-large--11': 'bNerA_dWZl',\n  'x-large-offset--1': 'bNerA_fRdd',\n  'x-large-offset--2': 'bNerA_fSBZ',\n  'x-large-offset--3': 'bNerA_fyjx',\n  'x-large-offset--4': 'bNerA_fKRr',\n  'x-large-offset--5': 'bNerA_PNRx',\n  'x-large-offset--6': 'bNerA_eTrk',\n  'x-large-offset--7': 'bNerA_cYoe',\n  'x-large-offset--8': 'bNerA_eVWO',\n  'x-large-offset--9': 'bNerA_bUSJ',\n  'x-large-offset--10': 'bNerA_cNJn',\n  'x-large-offset--11': 'bNerA_STVM',\n  'x-large--12': 'bNerA_dRJT',\n  'visualDebug': 'bNerA_fFVr'\n};\nimport theme from './theme'; // TODO: get numcols from theme config\n\nvar COL_WIDTHS = ['auto', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n/**\n---\nparent: Grid\nid: Grid.Col\n---\n**/\n\nvar GridCol = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GridCol, _Component);\n\n  function GridCol() {\n    _classCallCheck(this, GridCol);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GridCol).apply(this, arguments));\n  }\n\n  _createClass(GridCol, [{\n    key: \"startAtClass\",\n\n    /* eslint-disable react/require-default-props */\n    value: function startAtClass() {\n      return !!this.props.startAt && \"startAt\".concat(capitalizeFirstLetter(this.props.startAt));\n    }\n  }, {\n    key: \"colSpacingClass\",\n    value: function colSpacingClass() {\n      return \"colSpacing\".concat(capitalizeFirstLetter(this.props.colSpacing));\n    }\n  }, {\n    key: \"rowSpacingClass\",\n    value: function rowSpacingClass() {\n      return \"rowSpacing\".concat(capitalizeFirstLetter(this.props.rowSpacing));\n    }\n  }, {\n    key: \"breakpointClass\",\n    value: function breakpointClass(breakpoint) {\n      var width = this.props.width;\n\n      if (width && typeof width === 'object') {\n        width = width[breakpoint];\n      }\n\n      if (!width) return;\n      return \"\".concat(breakpoint, \"--\").concat(width);\n    }\n  }, {\n    key: \"breakpointOffsetClass\",\n    value: function breakpointOffsetClass(breakpoint) {\n      var offset = this.props.offset;\n\n      if (offset && typeof offset === 'object') {\n        offset = offset[breakpoint];\n      }\n\n      if (!offset) return;\n      return \"\".concat(breakpoint, \"-offset--\").concat(offset);\n    }\n  }, {\n    key: \"enabledBreakpoints\",\n    value: function enabledBreakpoints() {\n      var breakpoints = ['small', 'medium', 'large', 'x-large', null];\n      return breakpoints.slice(breakpoints.indexOf(this.props.startAt));\n    }\n  }, {\n    key: \"breakpointIsEnabled\",\n    value: function breakpointIsEnabled(breakpoint) {\n      return this.enabledBreakpoints().indexOf(breakpoint) >= 0;\n    }\n  }, {\n    key: \"breakpointIsEnabledForWidth\",\n    value: function breakpointIsEnabledForWidth(breakpoint) {\n      return !!this.props.width && this.breakpointIsEnabled(breakpoint);\n    }\n  }, {\n    key: \"breakpointIsEnabledForOffset\",\n    value: function breakpointIsEnabledForOffset(breakpoint) {\n      return !!this.props.offset && this.breakpointIsEnabled(breakpoint);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          visualDebug = _this$props.visualDebug;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[this.startAtClass()], !!this.props.startAt), _defineProperty(_classes, styles[\"vAlign--\".concat(this.props.vAlign)], true), _defineProperty(_classes, styles[\"textAlign--\".concat(this.props.textAlign)], true), _defineProperty(_classes, styles[this.colSpacingClass()], true), _defineProperty(_classes, styles[this.rowSpacingClass()], true), _defineProperty(_classes, styles.lastRow, this.props.isLastRow), _defineProperty(_classes, styles.lastCol, this.props.isLastCol), _defineProperty(_classes, styles[this.breakpointClass('small')], this.breakpointIsEnabledForWidth('small')), _defineProperty(_classes, styles[this.breakpointClass('medium')], this.breakpointIsEnabledForWidth('medium')), _defineProperty(_classes, styles[this.breakpointClass('large')], this.breakpointIsEnabledForWidth('large')), _defineProperty(_classes, styles[this.breakpointClass('x-large')], this.breakpointIsEnabledForWidth('x-large')), _defineProperty(_classes, styles[this.breakpointOffsetClass('small')], this.breakpointIsEnabledForOffset('small')), _defineProperty(_classes, styles[this.breakpointOffsetClass('medium')], this.breakpointIsEnabledForOffset('medium')), _defineProperty(_classes, styles[this.breakpointOffsetClass('large')], this.breakpointIsEnabledForOffset('large')), _defineProperty(_classes, styles[this.breakpointOffsetClass('x-large')], this.breakpointIsEnabledForOffset('x-large')), _defineProperty(_classes, styles.visualDebug, visualDebug), _classes);\n      var props = omitProps(this.props, GridCol.propTypes);\n      return React.createElement(\"span\", Object.assign({}, props, {\n        ref: this.props.elementRef,\n        className: classnames(classes)\n      }), children);\n    }\n  }]);\n\n  GridCol.displayName = \"GridCol\";\n  return GridCol;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  colSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  rowSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  textAlign: PropTypes.oneOf(['start', 'end', 'center', 'inherit']),\n  hAlign: PropTypes.oneOf(['start', 'center', 'end', 'space-around', 'space-between']),\n  vAlign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  startAt: PropTypes.oneOf(['small', 'medium', 'large', 'x-large', null]),\n  visualDebug: PropTypes.bool,\n  width: PropTypes.oneOfType([PropTypes.oneOf(COL_WIDTHS), PropTypes.shape({\n    small: PropTypes.oneOf(COL_WIDTHS),\n    medium: PropTypes.oneOf(COL_WIDTHS),\n    large: PropTypes.oneOf(COL_WIDTHS),\n    xLarge: PropTypes.oneOf(COL_WIDTHS)\n  })]),\n  offset: PropTypes.oneOfType([PropTypes.oneOf(COL_WIDTHS), PropTypes.shape({\n    small: PropTypes.oneOf(COL_WIDTHS),\n    medium: PropTypes.oneOf(COL_WIDTHS),\n    large: PropTypes.oneOf(COL_WIDTHS),\n    xLarge: PropTypes.oneOf(COL_WIDTHS)\n  })]),\n  isLastRow: PropTypes.bool,\n  isLastCol: PropTypes.bool,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  textAlign: 'inherit',\n  children: null,\n  isLastCol: false,\n  isLastRow: false,\n  elementRef: void 0\n}, _temp)) || _class);\nexport default GridCol;\nexport { GridCol };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { safeCloneElement, matchComponentTypes, omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { capitalizeFirstLetter } from '@instructure/ui-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { GridCol } from '../GridCol';\nvar styles = {\n  componentId: 'fxIji',\n  template: function template(theme) {\n    return \"\\n\\n.fxIji_bGBk{box-sizing:border-box;display:block}\\n\\n.fxIji_dTOw{display:flex;flex-flow:row nowrap}\\n\\n.fxIji_dTOw.fxIji_lvrA{justify-content:center}\\n\\n.fxIji_dTOw.fxIji_bWOh{justify-content:flex-start}\\n\\n.fxIji_dTOw.fxIji_fNQE{justify-content:flex-end}\\n\\n.fxIji_dTOw.fxIji_dWwe{justify-content:space-around}\\n\\n.fxIji_dTOw.fxIji_bPaV{justify-content:space-between}\\n\\n.fxIji_dTOw.fxIji_oUBk{align-items:flex-start}\\n\\n.fxIji_dTOw.fxIji_NmrE{align-items:center}\\n\\n.fxIji_dTOw.fxIji_bwwb{align-items:flex-end}\\n\\n.fxIji_dTOw.fxIji_bBOa{margin:0 calc(-1*\".concat(theme.spacingSmall || 'inherit', \"/2)}\\n\\n.fxIji_dTOw.fxIji_yZGt{margin:0 calc(-1*\").concat(theme.spacingMedium || 'inherit', \"/2)}\\n\\n.fxIji_dTOw.fxIji_PsGC{margin:0 calc(-1*\").concat(theme.spacingLarge || 'inherit', \"/2)}\\n\\n.fxIji_dTOw.fxIji_buDT{margin-bottom:\").concat(theme.spacingSmall || 'inherit', \"}\\n\\n.fxIji_dTOw.fxIji_dlWR{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n.fxIji_dTOw.fxIji_cGJD{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n.fxIji_dTOw.fxIji_DpxJ,.fxIji_dTOw.fxIji_cKZZ{margin-bottom:0}\\n\\n@media screen and (--mediumMin){.fxIji_crIs{display:flex;flex-flow:row nowrap}.fxIji_crIs.fxIji_lvrA{justify-content:center}.fxIji_crIs.fxIji_bWOh{justify-content:flex-start}.fxIji_crIs.fxIji_fNQE{justify-content:flex-end}.fxIji_crIs.fxIji_dWwe{justify-content:space-around}.fxIji_crIs.fxIji_bPaV{justify-content:space-between}.fxIji_crIs.fxIji_oUBk{align-items:flex-start}.fxIji_crIs.fxIji_NmrE{align-items:center}.fxIji_crIs.fxIji_bwwb{align-items:flex-end}.fxIji_crIs.fxIji_bBOa{margin:0 calc(-1*\").concat(theme.spacingSmall || 'inherit', \"/2)}.fxIji_crIs.fxIji_yZGt{margin:0 calc(-1*\").concat(theme.spacingMedium || 'inherit', \"/2)}.fxIji_crIs.fxIji_PsGC{margin:0 calc(-1*\").concat(theme.spacingLarge || 'inherit', \"/2)}.fxIji_crIs.fxIji_buDT{margin-bottom:\").concat(theme.spacingSmall || 'inherit', \"}.fxIji_crIs.fxIji_dlWR{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \"}.fxIji_crIs.fxIji_cGJD{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \"}.fxIji_crIs.fxIji_DpxJ,.fxIji_crIs.fxIji_cKZZ{margin-bottom:0}}\\n\\n@media screen and (--largeMin){.fxIji_cpbQ{display:flex;flex-flow:row nowrap}.fxIji_cpbQ.fxIji_lvrA{justify-content:center}.fxIji_cpbQ.fxIji_bWOh{justify-content:flex-start}.fxIji_cpbQ.fxIji_fNQE{justify-content:flex-end}.fxIji_cpbQ.fxIji_dWwe{justify-content:space-around}.fxIji_cpbQ.fxIji_bPaV{justify-content:space-between}.fxIji_cpbQ.fxIji_oUBk{align-items:flex-start}.fxIji_cpbQ.fxIji_NmrE{align-items:center}.fxIji_cpbQ.fxIji_bwwb{align-items:flex-end}.fxIji_cpbQ.fxIji_bBOa{margin:0 calc(-1*\").concat(theme.spacingSmall || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_yZGt{margin:0 calc(-1*\").concat(theme.spacingMedium || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_PsGC{margin:0 calc(-1*\").concat(theme.spacingLarge || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_buDT{margin-bottom:\").concat(theme.spacingSmall || 'inherit', \"}.fxIji_cpbQ.fxIji_dlWR{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \"}.fxIji_cpbQ.fxIji_cGJD{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \"}.fxIji_cpbQ.fxIji_DpxJ,.fxIji_cpbQ.fxIji_cKZZ{margin-bottom:0}}\\n\\n@media screen and (--xLargeMin){.fxIji_cpbQ{display:flex;flex-flow:row nowrap}.fxIji_cpbQ.fxIji_lvrA{justify-content:center}.fxIji_cpbQ.fxIji_bWOh{justify-content:flex-start}.fxIji_cpbQ.fxIji_fNQE{justify-content:flex-end}.fxIji_cpbQ.fxIji_dWwe{justify-content:space-around}.fxIji_cpbQ.fxIji_bPaV{justify-content:space-between}.fxIji_cpbQ.fxIji_oUBk{align-items:flex-start}.fxIji_cpbQ.fxIji_NmrE{align-items:center}.fxIji_cpbQ.fxIji_bwwb{align-items:flex-end}.fxIji_cpbQ.fxIji_bBOa{margin:0 calc(-1*\").concat(theme.spacingSmall || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_yZGt{margin:0 calc(-1*\").concat(theme.spacingMedium || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_PsGC{margin:0 calc(-1*\").concat(theme.spacingLarge || 'inherit', \"/2)}.fxIji_cpbQ.fxIji_buDT{margin-bottom:\").concat(theme.spacingSmall || 'inherit', \"}.fxIji_cpbQ.fxIji_dlWR{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \"}.fxIji_cpbQ.fxIji_cGJD{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \"}.fxIji_cpbQ.fxIji_DpxJ,.fxIji_cpbQ.fxIji_cKZZ{margin-bottom:0}}\\n\\n.fxIji_fFVr{outline:0.0625rem dashed #00f}\");\n  },\n  'root': 'fxIji_bGBk',\n  'startAtSmall': 'fxIji_dTOw',\n  'hAlign--center': 'fxIji_lvrA',\n  'hAlign--start': 'fxIji_bWOh',\n  'hAlign--end': 'fxIji_fNQE',\n  'hAlign--space-around': 'fxIji_dWwe',\n  'hAlign--space-between': 'fxIji_bPaV',\n  'vAlign--top': 'fxIji_oUBk',\n  'vAlign--middle': 'fxIji_NmrE',\n  'vAlign--bottom': 'fxIji_bwwb',\n  'colSpacingSmall': 'fxIji_bBOa',\n  'colSpacingMedium': 'fxIji_yZGt',\n  'colSpacingLarge': 'fxIji_PsGC',\n  'rowSpacingSmall': 'fxIji_buDT',\n  'rowSpacingMedium': 'fxIji_dlWR',\n  'rowSpacingLarge': 'fxIji_cGJD',\n  'lastRow': 'fxIji_DpxJ',\n  'rowSpacingNone': 'fxIji_cKZZ',\n  'startAtMedium': 'fxIji_crIs',\n  'startAtLarge': 'fxIji_cpbQ',\n  'visualDebug': 'fxIji_fFVr'\n};\nimport theme from './theme';\n/**\n---\nparent: Grid\nid: Grid.Row\n---\n**/\n\nvar GridRow = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GridRow, _Component);\n\n  function GridRow() {\n    _classCallCheck(this, GridRow);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GridRow).apply(this, arguments));\n  }\n\n  _createClass(GridRow, [{\n    key: \"startAtClass\",\n\n    /* eslint-disable react/require-default-props */\n    value: function startAtClass() {\n      return !!this.props.startAt && \"startAt\".concat(capitalizeFirstLetter(this.props.startAt));\n    }\n  }, {\n    key: \"rowSpacingClass\",\n    value: function rowSpacingClass() {\n      return \"rowSpacing\".concat(capitalizeFirstLetter(this.props.rowSpacing));\n    }\n  }, {\n    key: \"colSpacingClass\",\n    value: function colSpacingClass() {\n      return \"colSpacing\".concat(capitalizeFirstLetter(this.props.colSpacing));\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          props = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      return Children.map(children, function (child, index) {\n        if (matchComponentTypes(child, [GridCol])) {\n          return safeCloneElement(child, _objectSpread({}, pickProps(_this.props, GridRow.propTypes), {}, child.props, {\n            /* child props should override parent */\n            isLastRow: props.isLastRow,\n            isLastCol: index + 1 === Children.count(children)\n          }));\n        } else {\n          return child; // PropType validation should handle errors\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.lastRow, this.props.isLastRow), _defineProperty(_classes, styles[\"hAlign--\".concat(this.props.hAlign)], true), _defineProperty(_classes, styles[\"vAlign--\".concat(this.props.vAlign)], true), _defineProperty(_classes, styles[this.rowSpacingClass()], true), _defineProperty(_classes, styles[this.colSpacingClass()], this.props.colSpacing !== 'none'), _defineProperty(_classes, styles[this.startAtClass()], !!this.props.startAt), _classes);\n      var props = omitProps(this.props, GridRow.propTypes);\n      return React.createElement(\"span\", Object.assign({}, props, {\n        className: classnames(classes)\n      }), this.renderChildren());\n    }\n  }]);\n\n  GridRow.displayName = \"GridRow\";\n  return GridRow;\n}(Component), _class2.propTypes = {\n  children: ChildrenPropTypes.oneOf([GridCol, ScreenReaderContent]),\n  rowSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  colSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  hAlign: PropTypes.oneOf(['start', 'center', 'end', 'space-around', 'space-between']),\n  vAlign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  startAt: PropTypes.oneOf(['small', 'medium', 'large', 'x-large', null]),\n  visualDebug: PropTypes.bool,\n  isLastRow: PropTypes.bool\n}, _class2.defaultProps = {\n  children: null,\n  isLastRow: false\n}, _temp)) || _class);\nexport default GridRow;\nexport { GridRow };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { capitalizeFirstLetter } from '@instructure/ui-utils';\nimport { safeCloneElement, matchComponentTypes, omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { GridRow } from '../GridRow';\nimport { GridCol } from '../GridCol';\nvar styles = {\n  componentId: 'cMIPy',\n  template: function template(theme) {\n    return \"\\n\\n.cMIPy_bGBk{display:block}\\n\\n.cMIPy_fFVr{outline:0.0625rem dashed red}\\n\\n.cMIPy_dTOw{box-sizing:border-box}\\n\\n@media screen and (--mediumMin){.cMIPy_crIs{box-sizing:border-box}}\\n\\n@media screen and (--largeMin){.cMIPy_cpbQ{box-sizing:border-box}}\\n\\n@media screen and (--xLargeMin){.cMIPy_dsuu{box-sizing:border-box}}\";\n  },\n  'root': 'cMIPy_bGBk',\n  'visualDebug': 'cMIPy_fFVr',\n  'startAtSmall': 'cMIPy_dTOw',\n  'startAtMedium': 'cMIPy_crIs',\n  'startAtLarge': 'cMIPy_cpbQ',\n  'startAtXLarge': 'cMIPy_dsuu'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Grid = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Grid, _Component);\n\n  function Grid() {\n    _classCallCheck(this, Grid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Grid).apply(this, arguments));\n  }\n\n  _createClass(Grid, [{\n    key: \"startAtClass\",\n    value: function startAtClass() {\n      return !!this.props.startAt && \"startAt\".concat(capitalizeFirstLetter(this.props.startAt));\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this = this;\n\n      var children = Children.toArray(this.props.children);\n      return children.map(function (child, index) {\n        if (matchComponentTypes(child, [GridRow])) {\n          return safeCloneElement(child, _objectSpread({}, pickProps(_this.props, Grid.propTypes), {}, child.props, {\n            /* child props should override parent */\n            isLastRow: index + 1 === children.length\n          }));\n        } else {\n          return child; // PropType validation should handle errors\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[this.startAtClass()], !!this.props.startAt), _defineProperty(_classes, styles.visualDebug, this.props.visualDebug), _classes);\n      var props = omitProps(this.props, Grid.propTypes);\n      return React.createElement(\"span\", Object.assign({}, props, {\n        className: classnames(classes)\n      }), this.renderChildren());\n    }\n  }]);\n\n  Grid.displayName = \"Grid\";\n  return Grid;\n}(Component), _class2.propTypes = {\n  children: ChildrenPropTypes.oneOf([GridRow, ScreenReaderContent]),\n  colSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  rowSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  hAlign: PropTypes.oneOf(['start', 'center', 'end', 'space-around', 'space-between']),\n  vAlign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  startAt: PropTypes.oneOf(['small', 'medium', 'large', 'x-large', null]),\n  visualDebug: PropTypes.bool\n}, _class2.defaultProps = {\n  colSpacing: 'medium',\n  rowSpacing: 'medium',\n  hAlign: 'start',\n  startAt: 'small',\n  vAlign: 'top',\n  visualDebug: false,\n  children: null\n}, _class2.Row = GridRow, _class2.Col = GridCol, _temp)) || _class);\nexport default Grid;\nexport { Grid, GridRow, GridCol };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType } from '@instructure/ui-react-utils';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nvar styles = {\n  componentId: 'fCrpb',\n  template: function template(theme) {\n    return \"\\n\\n.fCrpb_bGBk,.fCrpb_bGBk.fCrpb_fVUh,label.fCrpb_bGBk{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n.fCrpb_bGBk.fCrpb_fVUh{display:table;width:100%}\\n\\n.fCrpb_egrg,.fCrpb_egrg.fCrpb_fVUh,label.fCrpb_egrg{color:\".concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin:0;text-align:inherit}\\n\\n[dir=ltr] .fCrpb_egrg,[dir=ltr] .fCrpb_egrg.fCrpb_fVUh,[dir=ltr] label.fCrpb_egrg,[dir=rtl] .fCrpb_egrg,[dir=rtl] .fCrpb_egrg.fCrpb_fVUh,[dir=rtl] label.fCrpb_egrg{text-align:inherit}\");\n  },\n  'root': 'fCrpb_bGBk',\n  'legend': 'fCrpb_fVUh',\n  'has-content': 'fCrpb_egrg'\n};\nimport theme from './theme';\n/**\n---\nparent: FormField\n---\n\nThis is a helper component that is used by most of the custom form\ncomponents. In most cases it shouldn't be used directly.\n\n```js\n---\nexample: true\n---\n<FormFieldLabel>Hello</FormFieldLabel>\n```\n\n**/\n\nvar FormFieldLabel = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormFieldLabel, _Component);\n\n  function FormFieldLabel() {\n    _classCallCheck(this, FormFieldLabel);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormFieldLabel).apply(this, arguments));\n  }\n\n  _createClass(FormFieldLabel, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var ElementType = getElementType(FormFieldLabel, this.props);\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles['has-content'], hasVisibleChildren(this.props.children)), _classes);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, FormFieldLabel.propTypes), {\n        className: classnames(classes)\n      }), this.props.children);\n    }\n  }]);\n\n  FormFieldLabel.displayName = \"FormFieldLabel\";\n  return FormFieldLabel;\n}(Component), _class2.propTypes = {\n  as: PropTypes.elementType,\n  children: PropTypes.node.isRequired\n}, _class2.defaultProps = {\n  as: 'span'\n}, _temp)) || _class);\nexport default FormFieldLabel;\nexport { FormFieldLabel };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var spacing = _ref.spacing,\n      media = _ref.media;\n  return _objectSpread({\n    spacingSmall: spacing.small,\n    spacingMedium: spacing.medium,\n    spacingLarge: spacing.large\n  }, media);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var spacing = _ref.spacing,\n      media = _ref.media;\n  return _objectSpread({\n    spacingSmall: spacing.small,\n    spacingMedium: spacing.medium,\n    spacingLarge: spacing.large\n  }, media);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var spacing = _ref.spacing,\n      media = _ref.media,\n      breakpoints = _ref.breakpoints;\n  return _objectSpread({\n    spacingSmall: spacing.small,\n    spacingMedium: spacing.medium,\n    spacingLarge: spacing.large,\n    maxWidth: breakpoints.maxWidth\n  }, media);\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography;\n  return {\n    color: colors.textDarkest,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightBold,\n    fontSize: typography.fontSizeMedium,\n    lineHeight: typography.lineHeightFit\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nvar styles = {\n  componentId: 'bVlfD',\n  template: function template(theme) {\n    return \"\\n\\n.bVlfD_bGBk{display:block;font-family:\".concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.bVlfD_dYYb{color:\").concat(theme.colorHint || 'inherit', \"}\\n\\n.bVlfD_ddvR{color:\").concat(theme.colorError || 'inherit', \"}\\n\\n.bVlfD_cOXX{color:\").concat(theme.colorSuccess || 'inherit', \"}\");\n  },\n  'root': 'bVlfD_bGBk',\n  'hint': 'bVlfD_dYYb',\n  'error': 'bVlfD_ddvR',\n  'success': 'bVlfD_cOXX'\n};\nimport theme from './theme';\n/**\n---\nparent: FormField\n---\n\nThis is a helper component that is used by most of the custom form\ncomponents. In most cases it shouldn't be used directly.\n\n```js\n---\nexample: true\n---\n<FormFieldMessage variant=\"error\">Invalid value</FormFieldMessage>\n```\n**/\n\nvar FormFieldMessage = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormFieldMessage, _Component);\n\n  function FormFieldMessage() {\n    _classCallCheck(this, FormFieldMessage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormFieldMessage).apply(this, arguments));\n  }\n\n  _createClass(FormFieldMessage, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[this.props.variant], true), _classes);\n      return this.props.variant !== 'screenreader-only' ? React.createElement(\"span\", {\n        className: classnames(classes)\n      }, this.props.children) : React.createElement(ScreenReaderContent, null, this.props.children);\n    }\n  }]);\n\n  FormFieldMessage.displayName = \"FormFieldMessage\";\n  return FormFieldMessage;\n}(Component), _class2.propTypes = {\n  variant: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only']),\n  children: PropTypes.node\n}, _class2.defaultProps = {\n  variant: 'hint',\n  children: null\n}, _temp)) || _class);\nexport default FormFieldMessage;\nexport { FormFieldMessage };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography;\n  return {\n    colorHint: colors.textDarkest,\n    colorError: colors.textDanger,\n    colorSuccess: colors.textSuccess,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    fontSize: typography.fontSizeSmall,\n    lineHeight: typography.lineHeight\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    colorHint: variables['ic-brand-font-color-dark']\n  };\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fAfJj',\n  template: function template(theme) {\n    return \"\\n\\n.fAfJj_bGBk{margin:calc(-1*\".concat(theme.topMargin || 'inherit', \") 0 0 0;padding:0}\\n\\n.fAfJj_elxg,.fAfJj_bGBk{display:block}\");\n  },\n  'root': 'fAfJj_bGBk',\n  'message': 'fAfJj_elxg'\n};\nimport theme from './theme';\nimport { FormPropTypes } from '../FormPropTypes';\nimport { FormFieldMessage } from '../FormFieldMessage';\n/**\n---\nparent: FormField\n---\n\nA FormFieldMessages component\n\n```js\n---\nexample: true\n---\n<FormFieldMessages messages={[\n  { text: 'Invalid name', type: 'error' },\n  { text: 'Good job!', type: 'success' },\n  { text: 'Full name, first and last', type: 'hint' },\n]} />\n```\n**/\n\nvar FormFieldMessages = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormFieldMessages, _Component);\n\n  function FormFieldMessages() {\n    _classCallCheck(this, FormFieldMessages);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormFieldMessages).apply(this, arguments));\n  }\n\n  _createClass(FormFieldMessages, [{\n    key: \"render\",\n    value: function render() {\n      var messages = this.props.messages;\n      return messages && messages.length > 0 ? React.createElement(\"span\", Object.assign({\n        className: styles.root\n      }, omitProps(this.props, FormFieldMessages.propTypes)), messages.map(function (msg, i) {\n        return React.createElement(\"span\", {\n          key: \"error\".concat(i),\n          className: styles.message\n        }, React.createElement(FormFieldMessage, {\n          variant: msg.type\n        }, msg.text));\n      })) : null;\n    }\n  }]);\n\n  FormFieldMessages.displayName = \"FormFieldMessages\";\n  return FormFieldMessages;\n}(Component), _class2.propTypes = {\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message)\n}, _class2.defaultProps = {\n  messages: void 0\n}, _temp)) || _class);\nexport default FormFieldMessages;\nexport { FormFieldMessages };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { Grid } from '@instructure/ui-grid';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, pickProps, getElementType } from '@instructure/ui-react-utils';\nimport { uid } from '@instructure/uid';\nimport { FormFieldLabel } from '../FormFieldLabel';\nimport { FormFieldMessages } from '../FormFieldMessages';\nimport { FormPropTypes } from '../FormPropTypes';\nvar styles = {\n  componentId: 'cWmNi',\n  template: function template(theme) {\n    return \"\\n\\n.cWmNi_bGBk{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border:0;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;direction:inherit;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;opacity:inherit;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:start;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;width:100%;word-spacing:normal;z-index:auto}\\n\\n[dir=ltr] .cWmNi_bGBk{text-align:left}\\n\\n[dir=rtl] .cWmNi_bGBk{text-align:right}\\n\\n.cWmNi_eXrk{display:inline-block;vertical-align:middle;width:auto}\";\n  },\n  'root': 'cWmNi_bGBk',\n  'inline': 'cWmNi_eXrk'\n};\nimport theme from './theme';\n/**\n---\nparent: FormField\n---\n**/\n\nvar FormFieldLayout = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormFieldLayout, _Component);\n\n  function FormFieldLayout(props) {\n    var _this;\n\n    _classCallCheck(this, FormFieldLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormFieldLayout).call(this));\n\n    _this.handleInputContainerRef = function (node) {\n      if (_this.props.inputContainerRef) {\n        _this.props.inputContainerRef(node);\n      }\n    };\n\n    _this._messagesId = props.messagesId || uid('FormFieldLayout-messages');\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(typeof props.width !== 'undefined' || !props.inline || props.layout !== 'inline', \"[FormFieldLayout] The 'inline' prop is true, and the 'layout' is set to 'inline'.\\n      This will cause a layout issue in Internet Explorer 11 unless you also add a value for the 'width' prop.\");\n\n    return _this;\n  }\n\n  _createClass(FormFieldLayout, [{\n    key: \"renderLabel\",\n    value: function renderLabel() {\n      if (this.hasVisibleLabel) {\n        return React.createElement(Grid.Col, {\n          textAlign: this.props.labelAlign,\n          width: this.inlineContainerAndLabel ? 'auto' : 3\n        }, React.createElement(FormFieldLabel, {\n          \"aria-hidden\": this.elementType === 'fieldset' ? 'true' : null\n        }, this.props.label));\n      } else if (this.elementType !== 'fieldset') {\n        // to avoid duplicate label/legend content\n        return this.props.label;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"renderLegend\",\n    value: function renderLegend() {\n      // note: the legend element must be the first child of a fieldset element for SR\n      // so we render it twice in that case (once for SR-only and one that is visible)\n      return React.createElement(ScreenReaderContent, {\n        as: \"legend\"\n      }, this.props.label, this.hasMessages && React.createElement(FormFieldMessages, {\n        messages: this.props.messages\n      }));\n    }\n  }, {\n    key: \"renderMessages\",\n    value: function renderMessages() {\n      return React.createElement(FormFieldMessages, {\n        id: this._messagesId,\n        messages: this.props.messages\n      });\n    }\n  }, {\n    key: \"renderVisibleMessages\",\n    value: function renderVisibleMessages() {\n      return this.hasMessages ? React.createElement(Grid.Row, null, React.createElement(Grid.Col, {\n        offset: this.inlineContainerAndLabel ? null : 3,\n        textAlign: this.inlineContainerAndLabel ? 'end' : null\n      }, React.createElement(FormFieldMessages, {\n        id: this._messagesId,\n        messages: this.props.messages\n      }))) : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var ElementType = this.elementType;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.inline, this.props.inline), _classes);\n      return React.createElement(ElementType, Object.assign({}, omitProps(this.props, _objectSpread({}, FormFieldLayout.propTypes, {}, Grid.propTypes)), {\n        className: classnames(classes),\n        style: {\n          width: this.props.width\n        },\n        \"aria-describedby\": this.hasMessages ? this._messagesId : null\n      }), this.elementType === 'fieldset' && this.renderLegend(), React.createElement(Grid, Object.assign({\n        rowSpacing: \"small\",\n        colSpacing: \"small\",\n        startAt: this.props.layout === 'inline' && this.hasVisibleLabel ? 'medium' : null\n      }, pickProps(this.props, Grid.propTypes)), React.createElement(Grid.Row, null, this.renderLabel(), React.createElement(Grid.Col, {\n        width: this.inlineContainerAndLabel ? 'auto' : null,\n        elementRef: this.handleInputContainerRef\n      }, this.props.children)), this.renderVisibleMessages()));\n    }\n  }, {\n    key: \"hasVisibleLabel\",\n    get: function get() {\n      return this.props.label && hasVisibleChildren(this.props.label);\n    }\n  }, {\n    key: \"hasMessages\",\n    get: function get() {\n      return this.props.messages && this.props.messages.length > 0;\n    }\n  }, {\n    key: \"elementType\",\n    get: function get() {\n      return getElementType(FormFieldLayout, this.props);\n    }\n  }, {\n    key: \"inlineContainerAndLabel\",\n    get: function get() {\n      // Return if both the component container and label will display inline\n      return this.props.inline && this.props.layout === 'inline';\n    }\n  }]);\n\n  FormFieldLayout.displayName = \"FormFieldLayout\";\n  return FormFieldLayout;\n}(Component), _class2.propTypes = {\n  label: PropTypes.node.isRequired,\n\n  /**\n  * the id of the input (to link it to its label for a11y)\n  */\n  id: PropTypes.string,\n\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * id for the form field messages\n  */\n  messagesId: PropTypes.string,\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n  labelAlign: PropTypes.oneOf(['start', 'end']),\n  width: PropTypes.string,\n  inputContainerRef: PropTypes.func\n}, _class2.defaultProps = {\n  id: void 0,\n  width: void 0,\n  messages: void 0,\n  messagesId: void 0,\n  children: null,\n  inline: false,\n  layout: 'stacked',\n  as: 'label',\n  labelAlign: 'end',\n  inputContainerRef: void 0\n}, _temp)) || _class);\nexport default FormFieldLayout;\nexport { FormFieldLayout };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var spacing = _ref.spacing;\n  return {\n    topMargin: spacing.xxSmall\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function () {\n  return {};\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { FormPropTypes } from '../FormPropTypes';\nimport { FormFieldLayout } from '../FormFieldLayout';\n/**\n---\ncategory: components\n---\n**/\n\nvar FormField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormField, _Component);\n\n  function FormField() {\n    _classCallCheck(this, FormField);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormField).apply(this, arguments));\n  }\n\n  _createClass(FormField, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(FormFieldLayout, Object.assign({}, omitProps(this.props, FormField.propTypes), pickProps(this.props, FormFieldLayout.propTypes), {\n        vAlign: this.props.vAlign,\n        as: \"label\",\n        htmlFor: this.props.id\n      }));\n    }\n  }]);\n\n  FormField.displayName = \"FormField\";\n  return FormField;\n}(Component);\n\nFormField.propTypes = {\n  label: PropTypes.node.isRequired,\n\n  /**\n   * the id of the input (to link it to its label for a11y)\n   */\n  id: PropTypes.string.isRequired,\n\n  /**\n   * object with shape: `{\n   *   text: PropTypes.string,\n   *   type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n   * }`\n   */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n  messagesId: PropTypes.string,\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n  labelAlign: PropTypes.oneOf(['start', 'end']),\n  vAlign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  width: PropTypes.string,\n  inputContainerRef: PropTypes.func\n};\nFormField.defaultProps = {\n  inline: false,\n  layout: 'stacked',\n  labelAlign: 'end',\n  vAlign: 'middle',\n  messages: void 0,\n  messagesId: void 0,\n  children: null,\n  width: void 0,\n  inputContainerRef: void 0\n};\nexport default FormField;\nexport { FormField };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Grid } from '@instructure/ui-grid';\nimport { themeable } from '@instructure/ui-themeable';\nimport { pickProps, omitProps } from '@instructure/ui-react-utils';\nimport { FormFieldLayout } from '../FormFieldLayout';\nimport { FormPropTypes } from '../FormPropTypes';\nvar styles = {\n  componentId: 'efIdg',\n  template: function template(theme) {\n    return \"\\n\\n.efIdg_cLpc{border:\".concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";display:block}\\n\\n.efIdg_cLpc.efIdg_fszt{border-color:\").concat(theme.errorBorderColor || 'inherit', \";padding:\").concat(theme.errorFieldsPadding || 'inherit', \"}\\n\\n.efIdg_cLpc.efIdg_ywdX{cursor:not-allowed;opacity:0.6;pointer-events:none}\");\n  },\n  'fields': 'efIdg_cLpc',\n  'invalid': 'efIdg_fszt',\n  'disabled': 'efIdg_ywdX'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar FormFieldGroup = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormFieldGroup, _Component);\n\n  function FormFieldGroup() {\n    _classCallCheck(this, FormFieldGroup);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormFieldGroup).apply(this, arguments));\n  }\n\n  _createClass(FormFieldGroup, [{\n    key: \"renderColumns\",\n    value: function renderColumns() {\n      return Children.map(this.props.children, function (child, index) {\n        return child ? React.createElement(Grid.Col, {\n          width: child.props && child.props.width ? 'auto' : null,\n          key: index\n        }, child) : null;\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      return React.createElement(Grid, {\n        colSpacing: this.props.colSpacing,\n        rowSpacing: this.props.rowSpacing,\n        vAlign: this.props.vAlign,\n        startAt: this.props.startAt || (this.props.layout === 'columns' ? 'medium' : null)\n      }, React.createElement(Grid.Row, null, this.renderColumns()));\n    }\n  }, {\n    key: \"renderFields\",\n    value: function renderFields() {\n      var _classnames;\n\n      return React.createElement(\"span\", {\n        key: \"fields\",\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.fields, true), _defineProperty(_classnames, styles.invalid, this.invalid), _defineProperty(_classnames, styles.disabled, this.props.disabled), _classnames))\n      }, this.renderChildren());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(FormFieldLayout, Object.assign({}, omitProps(this.props, FormFieldGroup.propTypes), pickProps(this.props, FormFieldLayout.propTypes), {\n        vAlign: this.props.vAlign,\n        layout: this.props.layout === 'inline' ? 'inline' : 'stacked',\n        label: this.props.description,\n        \"aria-disabled\": this.props.disabled ? 'true' : null,\n        \"aria-invalid\": this.invalid ? 'true' : null\n      }), this.renderFields());\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.props.messages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }]);\n\n  FormFieldGroup.displayName = \"FormFieldGroup\";\n  return FormFieldGroup;\n}(Component), _class2.propTypes = {\n  description: PropTypes.node.isRequired,\n\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * id for the form field messages\n  */\n  messagesId: PropTypes.string,\n  disabled: PropTypes.bool,\n  children: PropTypes.node,\n  layout: PropTypes.oneOf(['stacked', 'columns', 'inline']),\n  rowSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  colSpacing: PropTypes.oneOf(['none', 'small', 'medium', 'large']),\n  vAlign: PropTypes.oneOf(['top', 'middle', 'bottom']),\n  startAt: PropTypes.oneOf(['small', 'medium', 'large', 'x-large', null])\n}, _class2.defaultProps = {\n  children: null,\n  layout: void 0,\n  startAt: void 0,\n  messages: void 0,\n  messagesId: void 0,\n  as: 'fieldset',\n  disabled: false,\n  rowSpacing: 'medium',\n  colSpacing: 'small',\n  vAlign: 'middle'\n}, _temp)) || _class);\nexport default FormFieldGroup;\nexport { FormFieldGroup };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing;\n  return {\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    borderColor: 'transparent',\n    borderRadius: borders.radiusMedium,\n    errorBorderColor: colors.borderDanger,\n    errorFieldsPadding: spacing.xSmall\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1743.858 267.012L710.747 1300.124 176.005 765.382 0 941.387l710.747 710.871 1209.24-1209.116z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconCheckSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconCheckSolid, _Component);\n\n  function IconCheckSolid() {\n    _classCallCheck(this, IconCheckSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconCheckSolid).apply(this, arguments));\n  }\n\n  _createClass(IconCheckSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconCheck\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconCheckSolid.displayName = \"IconCheckSolid\";\n  return IconCheckSolid;\n}(Component);\n\nIconCheckSolid.glyphName = 'check';\nIconCheckSolid.variant = 'Solid';\nIconCheckSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconCheckSolid;\nexport { IconCheckSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M771.548 960.11L319 1412.658l188.562 188.562 452.548-452.548 452.548 452.548 188.562-188.562-452.548-452.548 452.548-452.548L1412.658 319 960.11 771.548 507.562 319 319 507.562z\",\n  fillRule: \"nonzero\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconXSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconXSolid, _Component);\n\n  function IconXSolid() {\n    _classCallCheck(this, IconXSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconXSolid).apply(this, arguments));\n  }\n\n  _createClass(IconXSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconX\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconXSolid.displayName = \"IconXSolid\";\n  return IconXSolid;\n}(Component);\n\nIconXSolid.glyphName = 'x';\nIconXSolid.variant = 'Solid';\nIconXSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconXSolid;\nexport { IconXSolid };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { IconCheckSolid, IconXSolid } from '@instructure/ui-icons';\nimport { themeable } from '@instructure/ui-themeable';\nvar styles = {\n  componentId: 'fhWLw',\n  template: function template(theme) {\n    return \"\\n\\n.fhWLw_bGBk{align-items:center;display:flex}\\n\\n.fhWLw_bGBk.fhWLw_dacV{display:block}\\n\\n.fhWLw_bGBk .fhWLw_cSXm.fhWLw_cjfS{background:\".concat(theme.checkedBackground || 'inherit', \";box-shadow:none}\\n\\n.fhWLw_bGBk .fhWLw_cSXm.fhWLw_cjfS .fhWLw_dnnz{transform:translate3d(50%,0,0)}\\n\\n.fhWLw_bGBk .fhWLw_cSXm.fhWLw_cjfS .fhWLw_eoCh{color:\").concat(theme.checkedIconColor || 'inherit', \"}\\n\\n.fhWLw_bGBk .fhWLw_cSXm.fhWLw_cVYB:before{opacity:1;transform:scale(1)}\\n\\n[dir=rtl] .fhWLw_bGBk .fhWLw_cSXm.fhWLw_cjfS .fhWLw_dnnz{transform:translate3d(-50%,0,0)}\\n\\n.fhWLw_cSXm.fhWLw_dxfV{-webkit-margin-end:0;-webkit-margin-start:\").concat(theme.marginStart || 'inherit', \";margin-inline-end:0;margin-inline-start:\").concat(theme.marginStart || 'inherit', \"}\\n\\n[dir=ltr] .fhWLw_cSXm.fhWLw_dxfV{margin-left:\").concat(theme.marginStart || 'inherit', \";margin-right:0}\\n\\n[dir=rtl] .fhWLw_cSXm.fhWLw_dxfV{margin-left:0;margin-right:\").concat(theme.marginStart || 'inherit', \"}\\n\\n.fhWLw_cSXm.fhWLw_bYta{-webkit-margin-end:\").concat(theme.marginEnd || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.marginEnd || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .fhWLw_cSXm.fhWLw_bYta{margin-left:0;margin-right:\").concat(theme.marginEnd || 'inherit', \"}\\n\\n[dir=rtl] .fhWLw_cSXm.fhWLw_bYta{margin-left:\").concat(theme.marginEnd || 'inherit', \";margin-right:0}\\n\\n.fhWLw_cSXm.fhWLw_dacV{margin-top:\").concat(theme.marginVertical || 'inherit', \"}\\n\\n.fhWLw_cSXm{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background:\").concat(theme.background || 'inherit', \";border-color:\").concat(theme.borderColor || 'inherit', \";border-radius:3rem;box-shadow:inset 0 0 0 \").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";cursor:pointer;display:inline-block;position:relative;user-select:none;vertical-align:middle}\\n\\n.fhWLw_cSXm:before{border:\").concat(theme.focusBorderWidth || 'inherit', \" \").concat(theme.focusBorderStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;content:\\\"\\\";height:calc(100% + 0.5rem);left:-0.25rem;opacity:0;pointer-events:none;top:-0.25rem;transform:scale(0.75);width:calc(100% + 0.5rem)}\\n\\n.fhWLw_cSXm:before,.fhWLw_dnnz{position:absolute;transition:all 0.2s}\\n\\n.fhWLw_dnnz{display:block;inset-inline-end:auto;inset-inline-start:0;text-align:center;top:0;transform:translateZ(0)}\\n\\n[dir=ltr] .fhWLw_dnnz{left:0;right:auto;text-align:center}\\n\\n[dir=rtl] .fhWLw_dnnz{left:auto;right:0;text-align:center}\\n\\n.fhWLw_cMpH{align-items:center;display:flex;height:100%;justify-content:center;position:relative;width:100%}\\n\\n.fhWLw_cMpH:before{background:\").concat(theme.toggleBackground || 'inherit', \";border-radius:100%;box-shadow:\").concat(theme.toggleShadow || 'inherit', \";content:\\\"\\\";height:calc(100% - \").concat(theme.borderWidth || 'inherit', \"*2);left:\").concat(theme.borderWidth || 'inherit', \";position:absolute;top:\").concat(theme.borderWidth || 'inherit', \";width:calc(100% - \").concat(theme.borderWidth || 'inherit', \"*2)}\\n\\n.fhWLw_eoCh{color:\").concat(theme.uncheckedIconColor || 'inherit', \";display:block;position:relative;z-index:1}\\n\\n.fhWLw_blJt{color:\").concat(theme.labelColor || 'inherit', \";flex:1;font-family:\").concat(theme.labelFontFamily || 'inherit', \";font-weight:\").concat(theme.labelFontWeight || 'inherit', \";line-height:\").concat(theme.labelLineHeight || 'inherit', \";min-width:0.0625rem}\\n\\n.fhWLw_blJt.fhWLw_dxfV{text-align:end}\\n\\n[dir=ltr] .fhWLw_blJt.fhWLw_dxfV{text-align:right}\\n\\n[dir=rtl] .fhWLw_blJt.fhWLw_dxfV{text-align:left}\\n\\n.fhWLw_blJt.fhWLw_dacV{display:block}\\n\\n.fhWLw_doqw{width:calc(\").concat(theme.baseSizeSmall || 'inherit', \"*1.5)}\\n\\n.fhWLw_doqw,.fhWLw_doqw .fhWLw_dnnz{height:\").concat(theme.baseSizeSmall || 'inherit', \"}\\n\\n.fhWLw_doqw .fhWLw_dnnz{font-size:0.875rem;width:\").concat(theme.baseSizeSmall || 'inherit', \"}\\n\\n.fhWLw_doqw+.fhWLw_blJt{font-size:\").concat(theme.labelFontSizeSmall || 'inherit', \"}\\n\\n.fhWLw_ycrn{width:calc(\").concat(theme.baseSizeMedium || 'inherit', \"*1.5)}\\n\\n.fhWLw_ycrn,.fhWLw_ycrn .fhWLw_dnnz{height:\").concat(theme.baseSizeMedium || 'inherit', \"}\\n\\n.fhWLw_ycrn .fhWLw_dnnz{font-size:1.125rem;width:\").concat(theme.baseSizeMedium || 'inherit', \"}\\n\\n.fhWLw_ycrn+.fhWLw_blJt{font-size:\").concat(theme.labelFontSizeMedium || 'inherit', \"}\\n\\n.fhWLw_cMDj{width:calc(\").concat(theme.baseSizeLarge || 'inherit', \"*1.5)}\\n\\n.fhWLw_cMDj,.fhWLw_cMDj .fhWLw_dnnz{height:\").concat(theme.baseSizeLarge || 'inherit', \"}\\n\\n.fhWLw_cMDj .fhWLw_dnnz{font-size:1.5rem;width:\").concat(theme.baseSizeLarge || 'inherit', \"}\\n\\n.fhWLw_cMDj+.fhWLw_blJt{font-size:\").concat(theme.labelFontSizeLarge || 'inherit', \"}\");\n  },\n  'root': 'fhWLw_bGBk',\n  'top': 'fhWLw_dacV',\n  'facade': 'fhWLw_cSXm',\n  'checked': 'fhWLw_cjfS',\n  'icon': 'fhWLw_dnnz',\n  'iconSVG': 'fhWLw_eoCh',\n  'focused': 'fhWLw_cVYB',\n  'start': 'fhWLw_dxfV',\n  'end': 'fhWLw_bYta',\n  'iconToggle': 'fhWLw_cMpH',\n  'label': 'fhWLw_blJt',\n  'small': 'fhWLw_doqw',\n  'medium': 'fhWLw_ycrn',\n  'large': 'fhWLw_cMDj'\n};\nimport theme from './theme';\n/**\n---\nparent: Checkbox\n---\n**/\n\nvar ToggleFacade = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToggleFacade, _Component);\n\n  function ToggleFacade() {\n    _classCallCheck(this, ToggleFacade);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ToggleFacade).apply(this, arguments));\n  }\n\n  _createClass(ToggleFacade, [{\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      if (this.props.checked) {\n        return React.createElement(IconCheckSolid, {\n          className: styles.iconSVG\n        });\n      } else {\n        return React.createElement(IconXSolid, {\n          className: styles.iconSVG\n        });\n      }\n    }\n  }, {\n    key: \"renderLabel\",\n    value: function renderLabel() {\n      var _classes;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          labelPlacement = _this$props.labelPlacement;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.label, true), _defineProperty(_classes, styles.top, labelPlacement === 'top'), _defineProperty(_classes, styles.start, labelPlacement === 'start'), _defineProperty(_classes, styles.end, labelPlacement === 'end'), _classes);\n      return React.createElement(\"span\", {\n        className: classnames(classes)\n      }, children);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes2;\n\n      var _this$props2 = this.props,\n          size = _this$props2.size,\n          checked = _this$props2.checked,\n          disabled = _this$props2.disabled,\n          focused = _this$props2.focused,\n          labelPlacement = _this$props2.labelPlacement;\n      var classes = (_classes2 = {}, _defineProperty(_classes2, styles.facade, true), _defineProperty(_classes2, styles.checked, checked), _defineProperty(_classes2, styles.disabled, disabled), _defineProperty(_classes2, styles.focused, focused), _defineProperty(_classes2, styles.top, labelPlacement === 'top'), _defineProperty(_classes2, styles.start, labelPlacement === 'start'), _defineProperty(_classes2, styles.end, labelPlacement === 'end'), _defineProperty(_classes2, styles[size], true), _classes2);\n\n      var rootClasses = _defineProperty({}, styles.root, true);\n\n      if (labelPlacement === 'top') {\n        rootClasses[styles.top] = true;\n      }\n\n      return React.createElement(\"span\", {\n        className: classnames(rootClasses)\n      }, (labelPlacement === 'top' || labelPlacement === 'start') && this.renderLabel(), React.createElement(\"span\", {\n        className: classnames(classes),\n        \"aria-hidden\": \"true\"\n      }, React.createElement(\"span\", {\n        className: styles.icon\n      }, React.createElement(\"span\", {\n        className: styles.iconToggle\n      }, this.renderIcon()))), labelPlacement === 'end' && this.renderLabel());\n    }\n  }]);\n\n  ToggleFacade.displayName = \"ToggleFacade\";\n  return ToggleFacade;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node.isRequired,\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  focused: PropTypes.bool,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  labelPlacement: PropTypes.oneOf(['top', 'start', 'end'])\n}, _class2.defaultProps = {\n  checked: false,\n  focused: false,\n  size: 'medium',\n  disabled: false,\n  readOnly: false,\n  labelPlacement: 'end'\n}, _temp)) || _class);\nexport default ToggleFacade;\nexport { ToggleFacade };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      forms = _ref.forms,\n      shadows = _ref.shadows,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    color: colors.textLightest,\n    background: colors.backgroundLight,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthMedium,\n    borderRadius: '4rem',\n    marginEnd: spacing.small,\n    marginStart: spacing.small,\n    marginVertical: spacing.xSmall,\n    checkedBackground: colors.backgroundSuccess,\n    uncheckedIconColor: colors.textDarkest,\n    checkedIconColor: colors.textSuccess,\n    focusOutlineColor: colors.borderBrand,\n    focusBorderWidth: borders.widthMedium,\n    focusBorderStyle: borders.style,\n    toggleBackground: colors.backgroundLightest,\n    toggleShadow: shadows.depth1,\n    baseSizeSmall: forms.inputHeightSmall,\n    baseSizeMedium: forms.inputHeightMedium,\n    baseSizeLarge: forms.inputHeightLarge,\n    labelColor: colors.textDarkest,\n    labelFontFamily: typography.fontFamily,\n    labelFontWeight: typography.fontWeightNormal,\n    labelLineHeight: typography.lineHeightCondensed,\n    labelFontSizeSmall: typography.fontSizeSmall,\n    labelFontSizeMedium: typography.fontSizeMedium,\n    labelFontSizeLarge: typography.fontSizeLarge\n  };\n}\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    background: colors.backgroundDarkest,\n    borderColor: colors.borderDarkest\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    focusOutlineColor: variables['ic-brand-primary'],\n    labelColor: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport keycode from 'keycode';\nimport classnames from 'classnames';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { FormPropTypes, FormFieldMessages } from '@instructure/ui-form-field';\nimport { createChainedFunction } from '@instructure/ui-utils';\nimport { uid } from '@instructure/uid';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { CheckboxFacade } from './CheckboxFacade';\nimport { ToggleFacade } from './ToggleFacade';\nvar styles = {\n  componentId: 'epRMX',\n  template: function template(theme) {\n    return \"\\n\\n.epRMX_bGBk{position:relative;width:100%}\\n\\n.epRMX_bOnW{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;direction:inherit;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:start;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n[dir=ltr] .epRMX_bOnW{text-align:left}\\n\\n[dir=rtl] .epRMX_bOnW{text-align:right}\\n\\n.epRMX_cwos{font-size:inherit;inset-inline-end:auto;inset-inline-start:0;line-height:inherit;margin:0;opacity:0.0001;padding:0;position:absolute;top:0;width:auto}\\n\\n[dir=ltr] .epRMX_cwos{left:0;right:auto}\\n\\n[dir=rtl] .epRMX_cwos{left:auto;right:0}\\n\\n.epRMX_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.epRMX_eXrk{display:inline-block;vertical-align:middle;width:auto}\";\n  },\n  'root': 'epRMX_bGBk',\n  'control': 'epRMX_bOnW',\n  'input': 'epRMX_cwos',\n  'disabled': 'epRMX_ywdX',\n  'inline': 'epRMX_eXrk'\n};\nimport theme from './theme.js';\n/**\n---\ncategory: components\n---\n**/\n\nvar Checkbox = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Checkbox, _Component);\n\n  function Checkbox(props) {\n    var _this;\n\n    _classCallCheck(this, Checkbox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Checkbox).call(this, props));\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          disabled = _this$props.disabled,\n          checked = _this$props.checked,\n          readOnly = _this$props.readOnly;\n\n      if (disabled || readOnly) {\n        e.preventDefault();\n        return;\n      }\n\n      if (typeof checked === 'undefined') {\n        _this.setState({\n          checked: !_this.state.checked\n        });\n      }\n\n      if (typeof onChange === 'function') {\n        onChange(e);\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (_this.props.variant === 'toggle' && (e.keyCode === keycode.codes.enter || e.keyCode === keycode.codes.return)) {\n        _this._input.click();\n\n        e.preventDefault();\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      _this.setState({\n        focused: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      _this.setState({\n        focused: false\n      });\n    };\n\n    _this.handleMouseOver = function (e) {\n      _this.setState({\n        hovered: true\n      });\n    };\n\n    _this.handleMouseOut = function (e) {\n      _this.setState({\n        hovered: false\n      });\n    };\n\n    _this.state = {\n      focused: false,\n      hovered: false\n    };\n\n    if (typeof props.checked === 'undefined') {\n      _this.state.checked = !!props.defaultChecked;\n    }\n\n    _this._defaultId = uid('Checkbox');\n    return _this;\n  }\n\n  _createClass(Checkbox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // see https://github.com/facebook/react/issues/1798\n      this._input.indeterminate = this.props.indeterminate;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // see https://github.com/facebook/react/issues/1798\n      if (prevProps.indeterminate !== this.props.indeterminate) {\n        this._input.indeterminate = this.props.indeterminate;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this._input && this._input.focus();\n    }\n  }, {\n    key: \"renderFacade\",\n    value: function renderFacade() {\n      var _this$props2 = this.props,\n          size = _this$props2.size,\n          disabled = _this$props2.disabled,\n          variant = _this$props2.variant,\n          label = _this$props2.label,\n          readOnly = _this$props2.readOnly,\n          indeterminate = _this$props2.indeterminate,\n          labelPlacement = _this$props2.labelPlacement;\n      var _this$state = this.state,\n          hovered = _this$state.hovered,\n          focused = _this$state.focused;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(!(variant === 'simple' && labelPlacement !== 'end'), \"[Checkbox] The `simple` variant does not support the `labelPlacement` property.  Use the `toggle` variant instead.\");\n\n      if (variant === 'toggle') {\n        return React.createElement(ToggleFacade, {\n          disabled: disabled,\n          size: size,\n          hovered: hovered,\n          focused: focused,\n          checked: this.checked,\n          readOnly: readOnly,\n          labelPlacement: labelPlacement\n        }, label);\n      } else {\n        return React.createElement(CheckboxFacade, {\n          size: size,\n          hovered: hovered,\n          focused: focused,\n          checked: this.checked,\n          indeterminate: indeterminate\n        }, label);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes,\n          _this2 = this;\n\n      var _this$props3 = this.props,\n          inline = _this$props3.inline,\n          disabled = _this$props3.disabled,\n          readOnly = _this$props3.readOnly,\n          messages = _this$props3.messages,\n          value = _this$props3.value,\n          onKeyDown = _this$props3.onKeyDown,\n          onFocus = _this$props3.onFocus,\n          onBlur = _this$props3.onBlur,\n          onMouseOver = _this$props3.onMouseOver,\n          onMouseOut = _this$props3.onMouseOut,\n          indeterminate = _this$props3.indeterminate,\n          variant = _this$props3.variant;\n      var props = omitProps(this.props, Checkbox.propTypes);\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.disabled, disabled), _defineProperty(_classes, styles.inline, inline), _classes);\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(!(variant === 'toggle' && indeterminate), \"[Checkbox] The `toggle` variant does not support the `indeterminate` property. Use the `simple` variant instead.\");\n      /* eslint-disable jsx-a11y/mouse-events-have-key-events */\n\n\n      return React.createElement(\"div\", {\n        className: classnames(classes),\n        onMouseOver: createChainedFunction(onMouseOver, this.handleMouseOver),\n        onMouseOut: createChainedFunction(onMouseOut, this.handleMouseOut)\n      }, React.createElement(\"input\", Object.assign({}, props, {\n        id: this.id,\n        value: value,\n        type: \"checkbox\",\n        ref: function ref(c) {\n          _this2._input = c;\n        },\n        disabled: disabled || readOnly,\n        \"aria-checked\": indeterminate ? 'mixed' : null,\n        className: styles.input,\n        onChange: this.handleChange,\n        onKeyDown: createChainedFunction(onKeyDown, this.handleKeyDown),\n        onFocus: createChainedFunction(onFocus, this.handleFocus),\n        onBlur: createChainedFunction(onBlur, this.handleBlur),\n        checked: this.checked\n      })), React.createElement(\"label\", {\n        htmlFor: this.id,\n        className: styles.control\n      }, this.renderFacade(), React.createElement(FormFieldMessages, {\n        messages: messages\n      })));\n      /* eslint-enable jsx-a11y/mouse-events-have-key-events */\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this.props.id || this._defaultId;\n    }\n  }, {\n    key: \"checked\",\n    get: function get() {\n      return typeof this.props.checked === 'undefined' ? this.state.checked : this.props.checked;\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._input);\n    }\n  }]);\n\n  Checkbox.displayName = \"Checkbox\";\n  return Checkbox;\n}(Component), _class2.propTypes = {\n  label: PropTypes.node.isRequired,\n  id: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /* whether to set the input to checked or not on initial render */\n  defaultChecked: PropTypes.bool,\n\n  /**\n  * whether the input is checked or not (must be accompanied by an `onChange` prop)\n  */\n  checked: controllable(PropTypes.bool, 'onChange', 'defaultChecked'),\n\n  /**\n  * when used with the `checked` prop, the component will not control its own state\n  */\n  onChange: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n\n  /**\n   * Whether or not to disable the checkbox\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n  * Visual state showing that child checkboxes are a combination of checked and unchecked\n  */\n  indeterminate: PropTypes.bool,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['simple', 'toggle']),\n  inline: PropTypes.bool,\n  labelPlacement: PropTypes.oneOf(['top', 'start', 'end'])\n}, _class2.defaultProps = {\n  size: 'medium',\n  variant: 'simple',\n  disabled: false,\n  inline: false,\n  indeterminate: false,\n  readOnly: false,\n  onChange: void 0,\n  onKeyDown: void 0,\n  onFocus: void 0,\n  onBlur: void 0,\n  onMouseOut: void 0,\n  onMouseOver: void 0,\n  checked: void 0,\n  defaultChecked: void 0,\n  messages: void 0,\n  id: void 0,\n  value: void 0,\n  labelPlacement: 'end'\n}, _temp)) || _class) || _class);\nexport default Checkbox;\nexport { Checkbox, CheckboxFacade, ToggleFacade };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fdaJD',\n  template: function template(theme) {\n    return \"\\n\\n.fdaJD_bGBk{border:0;clip:rect(0 0 0 0);height:0.0625rem;inset-inline-start:0;margin:-0.0625rem;overflow:hidden;padding:0;position:absolute;top:0;width:0.0625rem}\\n\\n[dir=ltr] .fdaJD_bGBk{left:0}\\n\\n[dir=rtl] .fdaJD_bGBk{right:0}\";\n  },\n  'root': 'fdaJD_bGBk'\n};\n/**\n---\ncategory: components/utilities/deprecated\nid: DeprecatedScreenReaderContent\n---\n**/\n\nvar ScreenReaderContent = (_dec = deprecated('7.0.0', null, 'Use ScreenReaderContent from ui-a11y-content instead'), _dec2 = themeable(null, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ScreenReaderContent, _Component);\n\n  function ScreenReaderContent() {\n    _classCallCheck(this, ScreenReaderContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ScreenReaderContent).apply(this, arguments));\n  }\n\n  _createClass(ScreenReaderContent, [{\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, omitProps(this.props, ScreenReaderContent.propTypes), {\n        className: styles.root\n      });\n\n      var ElementType = getElementType(ScreenReaderContent, this.props);\n      return React.createElement(ElementType, props, this.props.children);\n    }\n  }]);\n\n  ScreenReaderContent.displayName = \"ScreenReaderContent\";\n  return ScreenReaderContent;\n}(Component), _class2.propTypes = {\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * content meant for screen readers only\n  */\n  children: PropTypes.node\n}, _class2.defaultProps = {\n  as: 'span',\n  children: null\n}, _temp)) || _class) || _class);\nexport default ScreenReaderContent;\nexport { ScreenReaderContent };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\n/**\n---\ncategory: components/utilities/deprecated\nid: DeprecatedPresentationContent\n---\n**/\n\nvar PresentationContent = (_dec = deprecated('7.0.0', null, 'Use PresentationContent from ui-a11y-content instead'), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PresentationContent, _Component);\n\n  function PresentationContent() {\n    _classCallCheck(this, PresentationContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PresentationContent).apply(this, arguments));\n  }\n\n  _createClass(PresentationContent, [{\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, omitProps(this.props, PresentationContent.propTypes), {\n        'aria-hidden': 'true'\n      });\n\n      var ElementType = getElementType(PresentationContent, this.props);\n      return React.createElement(ElementType, props, this.props.children);\n    }\n  }]);\n\n  PresentationContent.displayName = \"PresentationContent\";\n  return PresentationContent;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n\n  /**\n  * the element type to render as\n  */\n  as: PropTypes.elementType\n}, _class2.defaultProps = {\n  as: 'span',\n  children: null\n}, _temp)) || _class);\nexport default PresentationContent;\nexport { PresentationContent };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function () {\n  return {};\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * ---\n * category: utilities/react\n * ---\n * Parse the component props for the interaction type. It will return one of 'enabled', 'disabled', or 'readonly'.\n * This is useful for form elements where consumers are able to either use the interaction prop as specified or the\n * native html disabled or readonly attributes\n *\n * @param {Object} args\n * @param {Object} args.props - the component props\n * @param {string} args.props.interaction - specifies the interaction mode, one of 'enabled', 'disabled', or 'readonly'\n * @param {boolean} args.props.disabled - specifies if the component is disabled. Will take precedence over readOnly\n * @param {boolean} args.props.readOnly - specifies if the component is readOnly\n * @param {Array} args.interactionTypes - an array specifying the interaction types available to the component, ['disabled', 'readOnly'] by default\n * @returns {String} one of 'enabled', 'disabled', or 'readonly'\n */\nexport function getInteraction() {\n  var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref$props = _ref.props,\n      props = _ref$props === void 0 ? {} : _ref$props,\n      _ref$interactionTypes = _ref.interactionTypes,\n      interactionTypes = _ref$interactionTypes === void 0 ? ['disabled', 'readOnly'] : _ref$interactionTypes;\n\n  var interaction = props.interaction,\n      disabled = props.disabled,\n      readOnly = props.readOnly; // interaction is the source of truth when it is provided\n\n  if (interaction) return interaction; // if there's no interaction specified, use disabled or readOnly if they are defined as props (note, disabled will win\n  // over readOnly if both are provided)\n\n  if (interactionTypes.includes('disabled') && disabled) return 'disabled';\n  if (interactionTypes.includes('readOnly') && readOnly) return 'readonly'; // We were provided with nothing, use enabled by default\n\n  return 'enabled';\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { testable } from '@instructure/ui-testable';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { getElementType, getInteraction, passthroughProps, callRenderProp } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nimport { View } from '@instructure/ui-view';\nimport { Flex } from '@instructure/ui-flex';\nvar styles = {\n  componentId: 'fQfxa',\n  template: function template(theme) {\n    return \"\\n\\n.fQfxa_caGd{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;border-radius:\".concat(theme.borderRadius || 'inherit', \";border-style:\").concat(theme.borderStyle || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";box-sizing:border-box;direction:inherit;display:block;font-family:\").concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";letter-spacing:\").concat(theme.letterSpacing || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";text-transform:\").concat(theme.textTransform || 'inherit', \";transform:\").concat(theme.transform || 'inherit', \";transition:background 0.2s,transform 0.2s;user-select:none;width:100%}\\n\\n.fQfxa_caGd:hover{transform:\").concat(theme.hoverTransform || 'inherit', \"}\\n\\n.fQfxa_caGd.fQfxa_EMjX{text-align:start}\\n\\n[dir=ltr] .fQfxa_caGd.fQfxa_EMjX{text-align:left}\\n\\n[dir=rtl] .fQfxa_caGd.fQfxa_EMjX{text-align:right}\\n\\n.fQfxa_caGd.fQfxa_ImeN,[dir=ltr] .fQfxa_caGd.fQfxa_ImeN,[dir=rtl] .fQfxa_caGd.fQfxa_ImeN{text-align:center}\\n\\n.fQfxa_caGd.fQfxa_nWmp{padding-left:0;padding-right:0}\\n\\n.fQfxa_caGd.fQfxa_nWmp .fQfxa_biBD{padding-bottom:0;padding-top:0}\\n\\n.fQfxa_bZuE{opacity:0.5}\\n\\n.fQfxa_VCXp{font-size:\").concat(theme.smallFontSize || 'inherit', \";padding-left:\").concat(theme.smallPaddingHorizontal || 'inherit', \";padding-right:\").concat(theme.smallPaddingHorizontal || 'inherit', \"}\\n\\n.fQfxa_VCXp .fQfxa_biBD{padding-bottom:\").concat(theme.smallPaddingBottom || 'inherit', \";padding-top:\").concat(theme.smallPaddingTop || 'inherit', \"}\\n\\n.fQfxa_VCXp .fQfxa_eoCh{font-size:\").concat(theme.iconSizeSmall || 'inherit', \"}\\n\\n.fQfxa_VCXp.fQfxa_bIHL{height:\").concat(theme.smallHeight || 'inherit', \";padding-left:0;padding-right:0;width:\").concat(theme.smallHeight || 'inherit', \"}\\n\\n.fQfxa_VCXp.fQfxa_nWmp .fQfxa_eoCh{font-size:\").concat(theme.smallFontSize || 'inherit', \"}\\n\\n.fQfxa_fKcQ{font-size:\").concat(theme.mediumFontSize || 'inherit', \";padding-left:\").concat(theme.mediumPaddingHorizontal || 'inherit', \";padding-right:\").concat(theme.mediumPaddingHorizontal || 'inherit', \"}\\n\\n.fQfxa_fKcQ .fQfxa_biBD{padding-bottom:\").concat(theme.mediumPaddingBottom || 'inherit', \";padding-top:\").concat(theme.mediumPaddingTop || 'inherit', \"}\\n\\n.fQfxa_fKcQ .fQfxa_eoCh{font-size:\").concat(theme.iconSizeMedium || 'inherit', \"}\\n\\n.fQfxa_fKcQ.fQfxa_bIHL{height:\").concat(theme.mediumHeight || 'inherit', \";padding-left:0;padding-right:0;width:\").concat(theme.mediumHeight || 'inherit', \"}\\n\\n.fQfxa_fKcQ.fQfxa_nWmp .fQfxa_eoCh{font-size:\").concat(theme.mediumFontSize || 'inherit', \"}\\n\\n.fQfxa_cnhd{font-size:\").concat(theme.largeFontSize || 'inherit', \";padding-left:\").concat(theme.largePaddingHorizontal || 'inherit', \";padding-right:\").concat(theme.largePaddingHorizontal || 'inherit', \"}\\n\\n.fQfxa_cnhd .fQfxa_biBD{padding-bottom:\").concat(theme.largePaddingBottom || 'inherit', \";padding-top:\").concat(theme.largePaddingTop || 'inherit', \"}\\n\\n.fQfxa_cnhd .fQfxa_eoCh{font-size:\").concat(theme.iconSizeLarge || 'inherit', \"}\\n\\n.fQfxa_cnhd.fQfxa_bIHL{height:\").concat(theme.largeHeight || 'inherit', \";padding-left:0;padding-right:0;width:\").concat(theme.largeHeight || 'inherit', \"}\\n\\n.fQfxa_cnhd.fQfxa_nWmp .fQfxa_eoCh{font-size:\").concat(theme.largeFontSize || 'inherit', \"}\\n\\n.fQfxa_eoCh{align-items:center;display:flex}\\n\\n.fQfxa_biBD{display:block}\\n\\n.fQfxa_bIHL{line-height:1}\\n\\n.fQfxa_FJpd{border-radius:50%}\\n\\n.fQfxa_dqAF.fQfxa_eCSh{background:\").concat(theme.primaryBackground || 'inherit', \";border-color:\").concat(theme.primaryBorderColor || 'inherit', \";color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.fQfxa_dqAF.fQfxa_buuG{background:\").concat(theme.secondaryBackground || 'inherit', \";border-color:\").concat(theme.secondaryBorderColor || 'inherit', \";color:\").concat(theme.secondaryColor || 'inherit', \"}\\n\\n.fQfxa_dqAF.fQfxa_bFtJ{background:\").concat(theme.primaryInverseBackground || 'inherit', \";border-color:\").concat(theme.primaryInverseBorderColor || 'inherit', \";color:\").concat(theme.primaryInverseColor || 'inherit', \"}\\n\\n.fQfxa_dqAF.fQfxa_eZal{background:\").concat(theme.successBackground || 'inherit', \";border-color:\").concat(theme.successBorderColor || 'inherit', \";color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.fQfxa_dqAF.fQfxa_dRSL{background:\").concat(theme.dangerBackground || 'inherit', \";border-color:\").concat(theme.dangerBorderColor || 'inherit', \";color:\").concat(theme.dangerColor || 'inherit', \"}\\n\\n.fQfxa_bCUx.fQfxa_eCSh{background:\").concat(theme.primaryGhostBackground || 'inherit', \";border-color:\").concat(theme.primaryGhostBorderColor || 'inherit', \";color:\").concat(theme.primaryGhostColor || 'inherit', \"}\\n\\n.fQfxa_bCUx.fQfxa_buuG{background:\").concat(theme.secondaryGhostBackground || 'inherit', \";border-color:\").concat(theme.secondaryGhostBorderColor || 'inherit', \";color:\").concat(theme.secondaryGhostColor || 'inherit', \"}\\n\\n.fQfxa_bCUx.fQfxa_bFtJ{background:\").concat(theme.primaryInverseGhostBackground || 'inherit', \";border-color:\").concat(theme.primaryInverseGhostBorderColor || 'inherit', \";color:\").concat(theme.primaryInverseGhostColor || 'inherit', \"}\\n\\n.fQfxa_bCUx.fQfxa_eZal{background:\").concat(theme.successGhostBackground || 'inherit', \";border-color:\").concat(theme.successGhostBorderColor || 'inherit', \";color:\").concat(theme.successGhostColor || 'inherit', \"}\\n\\n.fQfxa_bCUx.fQfxa_dRSL{background:\").concat(theme.dangerGhostBackground || 'inherit', \";border-color:\").concat(theme.dangerGhostBorderColor || 'inherit', \";color:\").concat(theme.dangerGhostColor || 'inherit', \"}\\n\\n.fQfxa_bVmg{border-style:none}\\n\\n.fQfxa_bGBk{-moz-appearance:none;-webkit-appearance:none;appearance:none;text-decoration:none;touch-action:manipulation}\\n\\n.fQfxa_bGBk::-moz-focus-inner{border:0}\\n\\n.fQfxa_bGBk *{pointer-events:none}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_dqAF.fQfxa_eCSh{background:\").concat(theme.primaryActiveBackground || 'inherit', \";box-shadow:\").concat(theme.primaryActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_dqAF.fQfxa_buuG{background:\").concat(theme.secondaryActiveBackground || 'inherit', \";box-shadow:\").concat(theme.secondaryActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_dqAF.fQfxa_bFtJ{background:\").concat(theme.primaryInverseActiveBackground || 'inherit', \";box-shadow:\").concat(theme.primaryInverseActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_dqAF.fQfxa_eZal{background:\").concat(theme.successActiveBackground || 'inherit', \";box-shadow:\").concat(theme.successActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_dqAF.fQfxa_dRSL{background:\").concat(theme.dangerActiveBackground || 'inherit', \";box-shadow:\").concat(theme.dangerActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_bCUx.fQfxa_eCSh{background:\").concat(theme.primaryGhostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.primaryGhostActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_bCUx.fQfxa_buuG{background:\").concat(theme.secondaryGhostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.secondaryGhostActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_bCUx.fQfxa_bFtJ{background:\").concat(theme.primaryInverseGhostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.primaryInverseGhostActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_bCUx.fQfxa_eZal{background:\").concat(theme.successGhostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.successGhostActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:active .fQfxa_caGd.fQfxa_bCUx.fQfxa_dRSL{background:\").concat(theme.dangerGhostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.dangerGhostActiveBoxShadow || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_dqAF.fQfxa_eCSh{background:\").concat(theme.primaryHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_dqAF.fQfxa_buuG{background:\").concat(theme.secondaryHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_dqAF.fQfxa_bFtJ{background:\").concat(theme.primaryInverseHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_dqAF.fQfxa_eZal{background:\").concat(theme.successHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_dqAF.fQfxa_dRSL{background:\").concat(theme.dangerHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_bCUx.fQfxa_eCSh{background:\").concat(theme.primaryGhostHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_bCUx.fQfxa_buuG{background:\").concat(theme.secondaryGhostHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_bCUx.fQfxa_bFtJ{background:\").concat(theme.primaryInverseGhostHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_bCUx.fQfxa_eZal{background:\").concat(theme.successGhostHoverBackground || 'inherit', \"}\\n\\n.fQfxa_bGBk:hover .fQfxa_bCUx.fQfxa_dRSL{background:\").concat(theme.dangerGhostHoverBackground || 'inherit', \"}\");\n  },\n  'content': 'fQfxa_caGd',\n  'textAlign--start': 'fQfxa_EMjX',\n  'textAlign--center': 'fQfxa_ImeN',\n  'isCondensed': 'fQfxa_nWmp',\n  'children': 'fQfxa_biBD',\n  'isDisabled': 'fQfxa_bZuE',\n  'size--small': 'fQfxa_VCXp',\n  'iconSVG': 'fQfxa_eoCh',\n  'hasOnlyIconVisible': 'fQfxa_bIHL',\n  'size--medium': 'fQfxa_fKcQ',\n  'size--large': 'fQfxa_cnhd',\n  'shape--circle': 'fQfxa_FJpd',\n  'withBackground': 'fQfxa_dqAF',\n  'color--primary': 'fQfxa_eCSh',\n  'color--secondary': 'fQfxa_buuG',\n  'color--primary-inverse': 'fQfxa_bFtJ',\n  'color--success': 'fQfxa_eZal',\n  'color--danger': 'fQfxa_dRSL',\n  'withoutBackground': 'fQfxa_bCUx',\n  'withoutBorder': 'fQfxa_bVmg',\n  'root': 'fQfxa_bGBk'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar BaseButton = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BaseButton, _Component);\n\n  function BaseButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BaseButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BaseButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._rootElement = null;\n\n    _this.handleElementRef = function (el) {\n      _this._rootElement = el;\n\n      _this.props.elementRef(el);\n    };\n\n    _this.handleClick = function (event) {\n      var onClick = _this.props.onClick;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          interaction = _assertThisInitialize.interaction;\n\n      if (interaction !== 'enabled') {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n\n      if (typeof onClick === 'function') {\n        onClick(event);\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _this$props = _this.props,\n          onClick = _this$props.onClick,\n          onKeyDown = _this$props.onKeyDown,\n          href = _this$props.href;\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          interaction = _assertThisInitialize2.interaction;\n\n      onKeyDown(event); // behave like a button when space key is pressed\n\n      var _keycode$codes = keycode.codes,\n          space = _keycode$codes.space,\n          enter = _keycode$codes.enter;\n\n      if (_this.elementType !== 'button' && [space, enter].includes(event.keyCode)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (typeof onClick === 'function' && interaction === 'enabled') {\n          onClick(event);\n        }\n\n        if (href) {\n          _this._rootElement && _this._rootElement.click();\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseButton, [{\n    key: \"focus\",\n    value: function focus() {\n      this._rootElement && this._rootElement.focus();\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this$props2 = this.props,\n          renderIcon = _this$props2.renderIcon,\n          children = _this$props2.children,\n          textAlign = _this$props2.textAlign,\n          isCondensed = _this$props2.isCondensed;\n      var wrappedChildren = React.createElement(\"span\", {\n        className: styles.children\n      }, children);\n\n      if (!renderIcon) {\n        return wrappedChildren;\n      }\n\n      var hasOnlyIconVisible = this.hasOnlyIconVisible;\n      var wrappedIcon = React.createElement(\"span\", {\n        className: styles.iconSVG\n      }, callRenderProp(renderIcon));\n      var flexChildren = hasOnlyIconVisible ? React.createElement(Flex.Item, null, wrappedIcon, children) : [React.createElement(Flex.Item, {\n        key: \"icon\",\n        padding: \"0 \".concat(isCondensed ? 'xx-small' : 'x-small', \" 0 0\")\n      }, wrappedIcon), React.createElement(Flex.Item, {\n        key: \"children\",\n        shouldShrink: true\n      }, wrappedChildren)];\n      var flexProps = {\n        shouldShrink: true,\n        height: '100%',\n        width: '100%',\n        justifyItems: hasOnlyIconVisible || textAlign === 'center' ? 'center' : 'start'\n      };\n      return React.createElement(Flex, flexProps, flexChildren);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props3 = this.props,\n          type = _this$props3.type,\n          size = _this$props3.size,\n          elementRef = _this$props3.elementRef,\n          as = _this$props3.as,\n          href = _this$props3.href,\n          color = _this$props3.color,\n          focusColor = _this$props3.focusColor,\n          textAlign = _this$props3.textAlign,\n          shape = _this$props3.shape,\n          display = _this$props3.display,\n          withBackground = _this$props3.withBackground,\n          withBorder = _this$props3.withBorder,\n          isCondensed = _this$props3.isCondensed,\n          margin = _this$props3.margin,\n          cursor = _this$props3.cursor,\n          onClick = _this$props3.onClick,\n          renderIcon = _this$props3.renderIcon,\n          tabIndex = _this$props3.tabIndex,\n          props = _objectWithoutProperties(_this$props3, [\"type\", \"size\", \"elementRef\", \"as\", \"href\", \"color\", \"focusColor\", \"textAlign\", \"shape\", \"display\", \"withBackground\", \"withBorder\", \"isCondensed\", \"margin\", \"cursor\", \"onClick\", \"renderIcon\", \"tabIndex\"]);\n\n      var interaction = this.interaction;\n      var isDisabled = interaction === 'disabled';\n      var isReadOnly = interaction === 'readonly';\n      var isEnabled = interaction === 'enabled';\n      var hasOnlyIconVisible = this.hasOnlyIconVisible;\n      var classes = classnames((_classnames = {}, _defineProperty(_classnames, styles.content, true), _defineProperty(_classnames, styles[\"size--\".concat(size)], true), _defineProperty(_classnames, styles[\"color--\".concat(color)], true), _defineProperty(_classnames, styles[\"textAlign--\".concat(textAlign)], true), _defineProperty(_classnames, styles[\"shape--\".concat(shape)], true), _defineProperty(_classnames, styles.withBackground, withBackground), _defineProperty(_classnames, styles.withoutBackground, !withBackground), _defineProperty(_classnames, styles.isCondensed, isCondensed), _defineProperty(_classnames, styles.withBorder, withBorder), _defineProperty(_classnames, styles.withoutBorder, !withBorder), _defineProperty(_classnames, styles.hasOnlyIconVisible, hasOnlyIconVisible), _defineProperty(_classnames, styles.isDisabled, isDisabled), _classnames));\n      return React.createElement(View, Object.assign({}, passthroughProps(props), {\n        as: this.elementType,\n        focusColor: this.focusColor,\n        position: \"relative\",\n        display: display,\n        width: display === 'block' ? '100%' : 'auto',\n        borderRadius: shape === 'circle' ? 'circle' : 'medium',\n        background: \"transparent\",\n        padding: \"none\",\n        borderWidth: \"none\",\n        margin: margin,\n        cursor: isDisabled ? 'not-allowed' : cursor,\n        href: href,\n        type: href ? null : type,\n        elementRef: this.handleElementRef,\n        onClick: this.handleClick,\n        onKeyDown: this.handleKeyDown,\n        role: onClick && as !== 'button' ? 'button' : null,\n        tabIndex: onClick && as ? tabIndex || '0' : tabIndex,\n        disabled: isDisabled || isReadOnly // TODO: Eventually remove classname. That will involve figuring out where the button reset should live, as well\n        // as creating a selector for the active and hover states\n        ,\n        className: isEnabled ? styles.root : null\n      }), React.createElement(\"span\", {\n        className: classes\n      }, this.renderChildren()));\n    }\n  }, {\n    key: \"hasOnlyIconVisible\",\n    get: function get() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          renderIcon = _this$props4.renderIcon;\n      return renderIcon && !hasVisibleChildren(children);\n    }\n  }, {\n    key: \"elementType\",\n    get: function get() {\n      return getElementType(BaseButton, this.props);\n    }\n  }, {\n    key: \"interaction\",\n    get: function get() {\n      return getInteraction({\n        props: this.props\n      });\n    }\n  }, {\n    key: \"focusColor\",\n    get: function get() {\n      var _this$props5 = this.props,\n          color = _this$props5.color,\n          focusColor = _this$props5.focusColor,\n          withBackground = _this$props5.withBackground; // Give user specified focusColor preference\n\n      if (focusColor) {\n        return focusColor;\n      } // The `primary-inverse` background has an info focus outline\n      // by default since it is replacing the `light` button variant.\n      // Override the focus color with info even though it is\n      // an inverse color\n\n\n      if (color === 'primary-inverse' && withBackground) {\n        return 'info';\n      }\n\n      return color.includes('inverse') ? 'inverse' : 'info';\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._rootElement);\n    }\n  }]);\n\n  BaseButton.displayName = \"BaseButton\";\n  return BaseButton;\n}(Component), _class2.propTypes = {\n  /**\n   * Specifies the `Button` children.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Specifies the type of the `Button`'s underlying html element.\n   */\n  type: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n  /**\n   * The size of the `Button`\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Provides a reference to the `Button`'s underlying html element.\n   */\n  elementRef: PropTypes.func,\n\n  /**\n   * The element to render as the component root, `Button` by default.\n   */\n  as: PropTypes.elementType,\n\n  /**\n   * Specifies if interaction with the `Button` is enabled, disabled, or readonly.\n   */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n   * Specifies the color for the `Button`.\n   */\n  color: PropTypes.oneOf(['primary', 'primary-inverse', 'secondary', 'success', 'danger']),\n\n  /**\n   * Override the `Button`'s default focus outline color.\n   */\n  focusColor: PropTypes.oneOf(['info', 'inverse']),\n\n  /**\n   * The `Button` display property. When set to `inline-block`, the `Button` displays inline with other elements.\n   * When set to block, the `Button` expands to fill the width of the container.\n   */\n  display: PropTypes.oneOf(['inline-block', 'block']),\n\n  /**\n   * Sets the alignment of the `Button` children and/or icon.\n   */\n  textAlign: PropTypes.oneOf(['start', 'center']),\n\n  /**\n   * Specifies if the `Button` shape should be a circle or rectangle.\n   */\n  shape: PropTypes.oneOf(['rectangle', 'circle']),\n\n  /**\n   * Specifies if the `Button` should render with a solid background. When false, the background is transparent.\n   */\n  withBackground: PropTypes.bool,\n\n  /**\n   * Specifies if the `Button` should render with a border.\n   */\n  withBorder: PropTypes.bool,\n\n  /**\n   * Designates if the `Button` should render without padding. This option should only be set when `withBorder` and\n   * `withBackground` are also set to false.\n   */\n  isCondensed: PropTypes.bool,\n\n  /**\n   * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n   * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n   * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n   */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the button.\n   * The `pointer` cursor is used by default.\n   */\n  cursor: PropTypes.string,\n\n  /**\n   * Specifies an href attribute for the `Button`'s underlying html element.\n   */\n  href: PropTypes.string,\n\n  /**\n   * Callback fired when the `Button` is clicked.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when the `Button` receives a keydown event.\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * An icon, or function that returns an icon.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Specifies the tabindex of the `Button`.\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n}, _class2.defaultProps = {\n  children: null,\n  type: 'button',\n  size: 'medium',\n  elementRef: function elementRef(el) {},\n  as: 'button',\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  color: 'secondary',\n  focusColor: void 0,\n  shape: 'rectangle',\n  display: 'inline-block',\n  textAlign: 'start',\n  withBackground: true,\n  withBorder: true,\n  isCondensed: false,\n  margin: '0',\n  cursor: 'pointer',\n  href: void 0,\n  onClick: void 0,\n  onKeyDown: function onKeyDown(event) {},\n  renderIcon: void 0,\n  tabIndex: void 0\n}, _temp)) || _class) || _class);\nexport { BaseButton };\nexport default BaseButton;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { alpha, darken } from '@instructure/ui-color-utils';\nexport var activeShadow = 'inset 0 0 0.1875rem 0.0625rem';\nexport var generateButtonThemeVars = function generateButtonThemeVars(_ref) {\n  var _ref2;\n\n  var style = _ref.style,\n      textColor = _ref.textColor,\n      ghostTextColor = _ref.ghostTextColor,\n      backgroundColor = _ref.backgroundColor,\n      borderColor = _ref.borderColor,\n      _ref$ghostBorderColor = _ref.ghostBorderColor,\n      ghostBorderColor = _ref$ghostBorderColor === void 0 ? borderColor : _ref$ghostBorderColor;\n  return _ref2 = {}, _defineProperty(_ref2, \"\".concat(style, \"Color\"), textColor), _defineProperty(_ref2, \"\".concat(style, \"BorderColor\"), darken(borderColor, 10)), _defineProperty(_ref2, \"\".concat(style, \"Background\"), backgroundColor), _defineProperty(_ref2, \"\".concat(style, \"HoverBackground\"), darken(backgroundColor, 10)), _defineProperty(_ref2, \"\".concat(style, \"ActiveBackground\"), darken(backgroundColor, 10)), _defineProperty(_ref2, \"\".concat(style, \"ActiveBoxShadow\"), \"\".concat(activeShadow, \" \").concat(darken(borderColor, 20, 0.45))), _defineProperty(_ref2, \"\".concat(style, \"GhostColor\"), ghostTextColor), _defineProperty(_ref2, \"\".concat(style, \"GhostBorderColor\"), ghostBorderColor), _defineProperty(_ref2, \"\".concat(style, \"GhostBackground\"), 'transparent'), _defineProperty(_ref2, \"\".concat(style, \"GhostHoverBackground\"), alpha(ghostTextColor, 10)), _defineProperty(_ref2, \"\".concat(style, \"GhostActiveBackground\"), 'transparent'), _defineProperty(_ref2, \"\".concat(style, \"GhostActiveBoxShadow\"), \"\".concat(activeShadow, \" \").concat(alpha(ghostBorderColor, 28))), _ref2;\n};\nexport default function generator() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref3$borders = _ref3.borders,\n      borders = _ref3$borders === void 0 ? {} : _ref3$borders,\n      _ref3$colors = _ref3.colors,\n      colors = _ref3$colors === void 0 ? {} : _ref3$colors,\n      _ref3$forms = _ref3.forms,\n      forms = _ref3$forms === void 0 ? {} : _ref3$forms,\n      _ref3$spacing = _ref3.spacing,\n      spacing = _ref3$spacing === void 0 ? {} : _ref3$spacing,\n      _ref3$typography = _ref3.typography,\n      typography = _ref3$typography === void 0 ? {} : _ref3$typography;\n\n  return _objectSpread({\n    transform: 'none',\n    hoverTransform: 'none',\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    textTransform: 'none',\n    letterSpacing: 'normal',\n    borderRadius: borders.radiusMedium,\n    borderStyle: borders.style,\n    borderWidth: borders.widthSmall,\n    smallHeight: forms.inputHeightSmall,\n    smallFontSize: typography.fontSizeSmall,\n    smallPaddingHorizontal: spacing.xSmall,\n    smallPaddingTop: '0.375rem',\n    smallPaddingBottom: '0.3125rem',\n    mediumHeight: forms.inputHeightMedium,\n    mediumFontSize: typography.fontSizeMedium,\n    mediumPaddingHorizontal: spacing.small,\n    mediumPaddingTop: '0.5625rem',\n    mediumPaddingBottom: '0.5625rem',\n    largeHeight: forms.inputHeightLarge,\n    largeFontSize: typography.fontSizeLarge,\n    largePaddingHorizontal: spacing.medium,\n    largePaddingTop: '0.6875rem',\n    largePaddingBottom: '0.6875rem',\n    lineHeight: typography.lineHeightFit,\n    iconSizeSmall: '1rem',\n    iconSizeMedium: '1.25rem',\n    iconSizeLarge: '1.625rem'\n  }, generateButtonThemeVars({\n    style: 'primary',\n    backgroundColor: colors.backgroundBrand,\n    borderColor: colors.borderBrand,\n    textColor: colors.textLightest,\n    ghostTextColor: colors.textBrand\n  }), {}, generateButtonThemeVars({\n    style: 'secondary',\n    backgroundColor: colors.backgroundLight,\n    borderColor: colors.borderLight,\n    ghostBorderColor: colors.borderDarkest,\n    textColor: colors.textDarkest,\n    ghostTextColor: colors.textDarkest\n  }), {}, generateButtonThemeVars({\n    style: 'success',\n    backgroundColor: colors.backgroundSuccess,\n    borderColor: colors.borderSuccess,\n    textColor: colors.textLightest,\n    ghostTextColor: colors.textSuccess\n  }), {}, generateButtonThemeVars({\n    style: 'danger',\n    backgroundColor: colors.backgroundDanger,\n    borderColor: colors.borderDanger,\n    textColor: colors.textLightest,\n    ghostTextColor: colors.textDanger\n  }), {}, generateButtonThemeVars({\n    style: 'primaryInverse',\n    backgroundColor: colors.backgroundLightest,\n    borderColor: colors.borderLightest,\n    textColor: colors.textDarkest,\n    ghostTextColor: colors.textLightest\n  }), {\n    // Overrides for primary-inverse to match what was previously the `light` button variant\n    primaryInverseBorderColor: darken(colors.borderLight, 10),\n    primaryInverseHoverBackground: darken(colors.backgroundLightest, 5),\n    primaryInverseActiveBackground: colors.backgroundLightest,\n    primaryInverseActiveBoxShadow: \"\".concat(activeShadow, \" \").concat(darken(colors.borderLightest, 25)),\n    // Overrides for ghost hover states to ensure correct color contrast for a11y\n    successGhostHoverBackground: alpha(colors.textSuccess, 1)\n  });\n}\n\ngenerator['canvas'] = function (_ref4) {\n  var colors = _ref4.colors,\n      variables = _objectWithoutProperties(_ref4, [\"colors\"]);\n\n  return _objectSpread({}, generateButtonThemeVars({\n    style: 'primary',\n    backgroundColor: variables['ic-brand-button--primary-bgd'],\n    borderColor: variables['ic-brand-button--primary-bgd'],\n    textColor: variables['ic-brand-button--primary-text'],\n    ghostTextColor: variables['ic-brand-button--primary-bgd']\n  }), {\n    primaryGhostHoverBackground: alpha(variables['ic-brand-button--primary-bgd'], 10)\n  });\n};\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref5) {\n  var colors = _ref5.colors;\n  return {\n    secondaryBorderColor: colors.borderMedium,\n    primaryInverseBorderColor: colors.borderMedium\n  };\n};\n\ngenerator['instructure'] = function () {\n  return {\n    borderRadius: '999em',\n    smallPaddingTop: '0.5rem',\n    smallPaddingBottom: '0.4375rem',\n    mediumPaddingTop: '0.75rem',\n    mediumPaddingBottom: '0.75rem',\n    largePaddingTop: '1rem',\n    largePaddingBottom: '1rem',\n    largeFontSize: '1.125rem'\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { testable } from '@instructure/ui-testable';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nimport { Flex } from '@instructure/ui-flex';\nimport { View } from '@instructure/ui-view';\nvar styles = {\n  componentId: 'eHiXd',\n  template: function template(theme) {\n    return \"\\n\\n.eHiXd_bGBk,a.eHiXd_bGBk,button.eHiXd_bGBk,button.eHiXd_bGBk[type=button],button.eHiXd_bGBk[type=reset],button.eHiXd_bGBk[type=submit]{-moz-appearance:none;-moz-user-select:none;-ms-user-select:none;-webkit-appearance:none;-webkit-user-select:none;appearance:none;background:none;border-style:\".concat(theme.borderStyle || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";box-sizing:border-box;direction:inherit;display:inline-block;font-family:\").concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";height:auto;letter-spacing:\").concat(theme.letterSpacing || 'inherit', \";margin:0;max-width:100%;overflow:visible;padding:0;position:relative;text-decoration:none;text-transform:\").concat(theme.textTransform || 'inherit', \";touch-action:manipulation;transform:\").concat(theme.transform || 'inherit', \";transition:background 0.2s,transform 0.2s;user-select:none;vertical-align:middle;width:auto}\\n\\n.eHiXd_bGBk::-moz-focus-inner,a.eHiXd_bGBk::-moz-focus-inner,button.eHiXd_bGBk::-moz-focus-inner,button.eHiXd_bGBk[type=button]::-moz-focus-inner,button.eHiXd_bGBk[type=reset]::-moz-focus-inner,button.eHiXd_bGBk[type=submit]::-moz-focus-inner{border:0}\\n\\n.eHiXd_bGBk.eHiXd_ywdX,a.eHiXd_bGBk.eHiXd_ywdX,button.eHiXd_bGBk.eHiXd_ywdX,button.eHiXd_bGBk[type=button].eHiXd_ywdX,button.eHiXd_bGBk[type=reset].eHiXd_ywdX,button.eHiXd_bGBk[type=submit].eHiXd_ywdX{opacity:0.5;pointer-events:none}\\n\\n.eHiXd_bGBk:before,a.eHiXd_bGBk:before,button.eHiXd_bGBk:before,button.eHiXd_bGBk[type=button]:before,button.eHiXd_bGBk[type=reset]:before,button.eHiXd_bGBk[type=submit]:before{border:\").concat(theme.focusBorder || 'inherit', \";bottom:-0.3125rem;box-sizing:border-box;content:\\\"\\\";left:-0.3125rem;opacity:0;pointer-events:none;position:absolute;right:-0.3125rem;top:-0.3125rem;transform:scale(0.9);transition:all 0.2s}\\n\\n.eHiXd_bGBk:focus,a.eHiXd_bGBk:focus,button.eHiXd_bGBk:focus,button.eHiXd_bGBk[type=button]:focus,button.eHiXd_bGBk[type=reset]:focus,button.eHiXd_bGBk[type=submit]:focus{outline:none}\\n\\n.eHiXd_bGBk:focus:before,a.eHiXd_bGBk:focus:before,button.eHiXd_bGBk:focus:before,button.eHiXd_bGBk[type=button]:focus:before,button.eHiXd_bGBk[type=reset]:focus:before,button.eHiXd_bGBk[type=submit]:focus:before{opacity:1;transform:scale(1)}\\n\\n.eHiXd_bGBk:hover,a.eHiXd_bGBk:hover,button.eHiXd_bGBk:hover,button.eHiXd_bGBk[type=button]:hover,button.eHiXd_bGBk[type=reset]:hover,button.eHiXd_bGBk[type=submit]:hover{transform:\").concat(theme.hoverTransform || 'inherit', \"}\\n\\n.eHiXd_bGBk *,a.eHiXd_bGBk *,button.eHiXd_bGBk *,button.eHiXd_bGBk[type=button] *,button.eHiXd_bGBk[type=reset] *,button.eHiXd_bGBk[type=submit] *{pointer-events:none}\\n\\n.eHiXd_caGd,a.eHiXd_caGd,button.eHiXd_caGd,button.eHiXd_caGd[type=button],button.eHiXd_caGd[type=reset],button.eHiXd_caGd[type=submit]{box-sizing:border-box}\\n\\n.eHiXd_cuTS,a.eHiXd_cuTS,button.eHiXd_cuTS,button.eHiXd_cuTS[type=button],button.eHiXd_cuTS[type=reset],button.eHiXd_cuTS[type=submit]{border-radius:\").concat(theme.borderRadius || 'inherit', \"}\\n\\n.eHiXd_cuTS:before,a.eHiXd_cuTS:before,button.eHiXd_cuTS:before,button.eHiXd_cuTS[type=button]:before,button.eHiXd_cuTS[type=reset]:before,button.eHiXd_cuTS[type=submit]:before{border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5)}\\n\\n.eHiXd_dEqw,.eHiXd_dEqw:before,a.eHiXd_dEqw,a.eHiXd_dEqw:before,button.eHiXd_dEqw,button.eHiXd_dEqw:before,button.eHiXd_dEqw[type=button],button.eHiXd_dEqw[type=button]:before,button.eHiXd_dEqw[type=reset],button.eHiXd_dEqw[type=reset]:before,button.eHiXd_dEqw[type=submit],button.eHiXd_dEqw[type=submit]:before{border-radius:50%}\\n\\n.eHiXd_bPzo,a.eHiXd_bPzo,button.eHiXd_bPzo,button.eHiXd_bPzo[type=button],button.eHiXd_bPzo[type=reset],button.eHiXd_bPzo[type=submit]{line-height:1;text-align:center;text-decoration:none}\\n\\n[dir=ltr] .eHiXd_bPzo,[dir=ltr] a.eHiXd_bPzo,[dir=ltr] button.eHiXd_bPzo,[dir=ltr] button.eHiXd_bPzo[type=button],[dir=ltr] button.eHiXd_bPzo[type=reset],[dir=ltr] button.eHiXd_bPzo[type=submit],[dir=rtl] .eHiXd_bPzo,[dir=rtl] a.eHiXd_bPzo,[dir=rtl] button.eHiXd_bPzo,[dir=rtl] button.eHiXd_bPzo[type=button],[dir=rtl] button.eHiXd_bPzo[type=reset],[dir=rtl] button.eHiXd_bPzo[type=submit]{text-align:center}\\n\\n.eHiXd_bPzo:active,.eHiXd_bPzo:focus,.eHiXd_bPzo:hover,a.eHiXd_bPzo:active,a.eHiXd_bPzo:focus,a.eHiXd_bPzo:hover,button.eHiXd_bPzo:active,button.eHiXd_bPzo:focus,button.eHiXd_bPzo:hover,button.eHiXd_bPzo[type=button]:active,button.eHiXd_bPzo[type=button]:focus,button.eHiXd_bPzo[type=button]:hover,button.eHiXd_bPzo[type=reset]:active,button.eHiXd_bPzo[type=reset]:focus,button.eHiXd_bPzo[type=reset]:hover,button.eHiXd_bPzo[type=submit]:active,button.eHiXd_bPzo[type=submit]:focus,button.eHiXd_bPzo[type=submit]:hover{text-decoration:none}\\n\\n.eHiXd_bPzo.eHiXd_doqw,a.eHiXd_bPzo.eHiXd_doqw,button.eHiXd_bPzo.eHiXd_doqw,button.eHiXd_bPzo[type=button].eHiXd_doqw,button.eHiXd_bPzo[type=reset].eHiXd_doqw,button.eHiXd_bPzo[type=submit].eHiXd_doqw{height:\").concat(theme.smallHeight || 'inherit', \";width:\").concat(theme.smallHeight || 'inherit', \"}\\n\\n.eHiXd_bPzo.eHiXd_doqw:not(.eHiXd_wWyq),a.eHiXd_bPzo.eHiXd_doqw:not(.eHiXd_wWyq),button.eHiXd_bPzo.eHiXd_doqw:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=button].eHiXd_doqw:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=reset].eHiXd_doqw:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=submit].eHiXd_doqw:not(.eHiXd_wWyq){font-size:1rem}\\n\\n.eHiXd_bPzo.eHiXd_doqw .eHiXd_eoCh,a.eHiXd_bPzo.eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bPzo.eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bPzo[type=button].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bPzo[type=reset].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bPzo[type=submit].eHiXd_doqw .eHiXd_eoCh{font-size:\").concat(theme.iconSizeSmall || 'inherit', \"}\\n\\n.eHiXd_bPzo.eHiXd_ycrn,a.eHiXd_bPzo.eHiXd_ycrn,button.eHiXd_bPzo.eHiXd_ycrn,button.eHiXd_bPzo[type=button].eHiXd_ycrn,button.eHiXd_bPzo[type=reset].eHiXd_ycrn,button.eHiXd_bPzo[type=submit].eHiXd_ycrn{height:\").concat(theme.mediumHeight || 'inherit', \";width:\").concat(theme.mediumHeight || 'inherit', \"}\\n\\n.eHiXd_bPzo.eHiXd_ycrn:not(.eHiXd_wWyq),a.eHiXd_bPzo.eHiXd_ycrn:not(.eHiXd_wWyq),button.eHiXd_bPzo.eHiXd_ycrn:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=button].eHiXd_ycrn:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=reset].eHiXd_ycrn:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=submit].eHiXd_ycrn:not(.eHiXd_wWyq){font-size:1.25rem}\\n\\n.eHiXd_bPzo.eHiXd_ycrn .eHiXd_eoCh,a.eHiXd_bPzo.eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bPzo.eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bPzo[type=button].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bPzo[type=reset].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bPzo[type=submit].eHiXd_ycrn .eHiXd_eoCh{font-size:\").concat(theme.iconSizeMedium || 'inherit', \"}\\n\\n.eHiXd_bPzo.eHiXd_cMDj,a.eHiXd_bPzo.eHiXd_cMDj,button.eHiXd_bPzo.eHiXd_cMDj,button.eHiXd_bPzo[type=button].eHiXd_cMDj,button.eHiXd_bPzo[type=reset].eHiXd_cMDj,button.eHiXd_bPzo[type=submit].eHiXd_cMDj{height:\").concat(theme.largeHeight || 'inherit', \";width:\").concat(theme.largeHeight || 'inherit', \"}\\n\\n.eHiXd_bPzo.eHiXd_cMDj:not(.eHiXd_wWyq),a.eHiXd_bPzo.eHiXd_cMDj:not(.eHiXd_wWyq),button.eHiXd_bPzo.eHiXd_cMDj:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=button].eHiXd_cMDj:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=reset].eHiXd_cMDj:not(.eHiXd_wWyq),button.eHiXd_bPzo[type=submit].eHiXd_cMDj:not(.eHiXd_wWyq){font-size:1.75rem}\\n\\n.eHiXd_bPzo.eHiXd_cMDj .eHiXd_eoCh,a.eHiXd_bPzo.eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bPzo.eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bPzo[type=button].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bPzo[type=reset].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bPzo[type=submit].eHiXd_cMDj .eHiXd_eoCh{font-size:\").concat(theme.iconSizeLarge || 'inherit', \"}\\n\\n.eHiXd_bPzo .eHiXd_caGd,a.eHiXd_bPzo .eHiXd_caGd,button.eHiXd_bPzo .eHiXd_caGd,button.eHiXd_bPzo[type=button] .eHiXd_caGd,button.eHiXd_bPzo[type=reset] .eHiXd_caGd,button.eHiXd_bPzo[type=submit] .eHiXd_caGd{align-items:center;display:flex;height:100%;justify-content:center}\\n\\n.eHiXd_bNlk.eHiXd_doqw,.eHiXd_eESV.eHiXd_doqw,a.eHiXd_bNlk.eHiXd_doqw,a.eHiXd_eESV.eHiXd_doqw,button.eHiXd_bNlk.eHiXd_doqw,button.eHiXd_bNlk[type=button].eHiXd_doqw,button.eHiXd_bNlk[type=reset].eHiXd_doqw,button.eHiXd_bNlk[type=submit].eHiXd_doqw,button.eHiXd_eESV.eHiXd_doqw,button.eHiXd_eESV[type=button].eHiXd_doqw,button.eHiXd_eESV[type=reset].eHiXd_doqw,button.eHiXd_eESV[type=submit].eHiXd_doqw{font-size:\").concat(theme.smallFontSize || 'inherit', \";line-height:calc(\").concat(theme.smallHeight || 'inherit', \" - \").concat(theme.borderWidth || 'inherit', \"*2);padding-left:\").concat(theme.smallPadding || 'inherit', \";padding-right:\").concat(theme.smallPadding || 'inherit', \"}\\n\\n.eHiXd_bNlk.eHiXd_doqw .eHiXd_eoCh,.eHiXd_eESV.eHiXd_doqw .eHiXd_eoCh,a.eHiXd_bNlk.eHiXd_doqw .eHiXd_eoCh,a.eHiXd_eESV.eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bNlk.eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bNlk[type=button].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bNlk[type=reset].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_bNlk[type=submit].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_eESV.eHiXd_doqw .eHiXd_eoCh,button.eHiXd_eESV[type=button].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_eESV[type=reset].eHiXd_doqw .eHiXd_eoCh,button.eHiXd_eESV[type=submit].eHiXd_doqw .eHiXd_eoCh{font-size:\").concat(theme.iconSizeSmall || 'inherit', \"}\\n\\n.eHiXd_bNlk.eHiXd_ycrn,.eHiXd_eESV.eHiXd_ycrn,a.eHiXd_bNlk.eHiXd_ycrn,a.eHiXd_eESV.eHiXd_ycrn,button.eHiXd_bNlk.eHiXd_ycrn,button.eHiXd_bNlk[type=button].eHiXd_ycrn,button.eHiXd_bNlk[type=reset].eHiXd_ycrn,button.eHiXd_bNlk[type=submit].eHiXd_ycrn,button.eHiXd_eESV.eHiXd_ycrn,button.eHiXd_eESV[type=button].eHiXd_ycrn,button.eHiXd_eESV[type=reset].eHiXd_ycrn,button.eHiXd_eESV[type=submit].eHiXd_ycrn{font-size:\").concat(theme.mediumFontSize || 'inherit', \";line-height:calc(\").concat(theme.mediumHeight || 'inherit', \" - \").concat(theme.borderWidth || 'inherit', \"*2);padding-left:\").concat(theme.mediumPadding || 'inherit', \";padding-right:\").concat(theme.mediumPadding || 'inherit', \"}\\n\\n.eHiXd_bNlk.eHiXd_ycrn .eHiXd_eoCh,.eHiXd_eESV.eHiXd_ycrn .eHiXd_eoCh,a.eHiXd_bNlk.eHiXd_ycrn .eHiXd_eoCh,a.eHiXd_eESV.eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bNlk.eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bNlk[type=button].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bNlk[type=reset].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_bNlk[type=submit].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_eESV.eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_eESV[type=button].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_eESV[type=reset].eHiXd_ycrn .eHiXd_eoCh,button.eHiXd_eESV[type=submit].eHiXd_ycrn .eHiXd_eoCh{font-size:\").concat(theme.iconSizeMedium || 'inherit', \"}\\n\\n.eHiXd_bNlk.eHiXd_cMDj,.eHiXd_eESV.eHiXd_cMDj,a.eHiXd_bNlk.eHiXd_cMDj,a.eHiXd_eESV.eHiXd_cMDj,button.eHiXd_bNlk.eHiXd_cMDj,button.eHiXd_bNlk[type=button].eHiXd_cMDj,button.eHiXd_bNlk[type=reset].eHiXd_cMDj,button.eHiXd_bNlk[type=submit].eHiXd_cMDj,button.eHiXd_eESV.eHiXd_cMDj,button.eHiXd_eESV[type=button].eHiXd_cMDj,button.eHiXd_eESV[type=reset].eHiXd_cMDj,button.eHiXd_eESV[type=submit].eHiXd_cMDj{font-size:\").concat(theme.largeFontSize || 'inherit', \";line-height:calc(\").concat(theme.largeHeight || 'inherit', \" - \").concat(theme.borderWidth || 'inherit', \"*2);padding-left:\").concat(theme.largePadding || 'inherit', \";padding-right:\").concat(theme.largePadding || 'inherit', \"}\\n\\n.eHiXd_bNlk.eHiXd_cMDj .eHiXd_eoCh,.eHiXd_eESV.eHiXd_cMDj .eHiXd_eoCh,a.eHiXd_bNlk.eHiXd_cMDj .eHiXd_eoCh,a.eHiXd_eESV.eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bNlk.eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bNlk[type=button].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bNlk[type=reset].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_bNlk[type=submit].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_eESV.eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_eESV[type=button].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_eESV[type=reset].eHiXd_cMDj .eHiXd_eoCh,button.eHiXd_eESV[type=submit].eHiXd_cMDj .eHiXd_eoCh{font-size:\").concat(theme.iconSizeLarge || 'inherit', \"}\\n\\n.eHiXd_bNlk .eHiXd_caGd,.eHiXd_eESV .eHiXd_caGd,a.eHiXd_bNlk .eHiXd_caGd,a.eHiXd_eESV .eHiXd_caGd,button.eHiXd_bNlk .eHiXd_caGd,button.eHiXd_bNlk[type=button] .eHiXd_caGd,button.eHiXd_bNlk[type=reset] .eHiXd_caGd,button.eHiXd_bNlk[type=submit] .eHiXd_caGd,button.eHiXd_eESV .eHiXd_caGd,button.eHiXd_eESV[type=button] .eHiXd_caGd,button.eHiXd_eESV[type=reset] .eHiXd_caGd,button.eHiXd_eESV[type=submit] .eHiXd_caGd{display:block}\\n\\n.eHiXd_bNlk .eHiXd_eoCh,.eHiXd_eESV .eHiXd_eoCh,a.eHiXd_bNlk .eHiXd_eoCh,a.eHiXd_eESV .eHiXd_eoCh,button.eHiXd_bNlk .eHiXd_eoCh,button.eHiXd_bNlk[type=button] .eHiXd_eoCh,button.eHiXd_bNlk[type=reset] .eHiXd_eoCh,button.eHiXd_bNlk[type=submit] .eHiXd_eoCh,button.eHiXd_eESV .eHiXd_eoCh,button.eHiXd_eESV[type=button] .eHiXd_eoCh,button.eHiXd_eESV[type=reset] .eHiXd_eoCh,button.eHiXd_eESV[type=submit] .eHiXd_eoCh{display:inline-block;margin-bottom:0.1875rem;vertical-align:middle}\\n\\n.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,a.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,a.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_bNlk[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_bNlk[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_bNlk[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_eESV[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_eESV[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,button.eHiXd_eESV[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg{-webkit-margin-end:\").concat(theme.iconPlusTextMargin || 'inherit', \";-webkit-margin-start:auto;display:inline-block;font-size:\").concat(theme.iconPlusTextFontSize || 'inherit', \";margin-inline-end:\").concat(theme.iconPlusTextMargin || 'inherit', \";margin-inline-start:auto;transform:translateY(-0.0625rem);vertical-align:middle}\\n\\n[dir=ltr] .eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] .eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] a.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] a.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_bNlk[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_bNlk[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_bNlk[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_eESV[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_eESV[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=ltr] button.eHiXd_eESV[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg{margin-left:auto;margin-right:\").concat(theme.iconPlusTextMargin || 'inherit', \"}\\n\\n[dir=rtl] .eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] .eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] a.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] a.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_bNlk:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_bNlk[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_bNlk[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_bNlk[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_eESV:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_eESV[type=button]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_eESV[type=reset]:not(.eHiXd_wWyq) .eHiXd_caGd>svg,[dir=rtl] button.eHiXd_eESV[type=submit]:not(.eHiXd_wWyq) .eHiXd_caGd>svg{margin-left:\").concat(theme.iconPlusTextMargin || 'inherit', \";margin-right:auto}\\n\\n.eHiXd_bNlk .eHiXd_caGd,a.eHiXd_bNlk .eHiXd_caGd,button.eHiXd_bNlk .eHiXd_caGd,button.eHiXd_bNlk[type=button] .eHiXd_caGd,button.eHiXd_bNlk[type=reset] .eHiXd_caGd,button.eHiXd_bNlk[type=submit] .eHiXd_caGd{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\\n\\n.eHiXd_eESV,a.eHiXd_eESV,button.eHiXd_eESV,button.eHiXd_eESV[type=button],button.eHiXd_eESV[type=reset],button.eHiXd_eESV[type=submit]{display:block;text-align:start;width:100%}\\n\\n[dir=ltr] .eHiXd_eESV,[dir=ltr] a.eHiXd_eESV,[dir=ltr] button.eHiXd_eESV,[dir=ltr] button.eHiXd_eESV[type=button],[dir=ltr] button.eHiXd_eESV[type=reset],[dir=ltr] button.eHiXd_eESV[type=submit]{text-align:left}\\n\\n[dir=rtl] .eHiXd_eESV,[dir=rtl] a.eHiXd_eESV,[dir=rtl] button.eHiXd_eESV,[dir=rtl] button.eHiXd_eESV[type=button],[dir=rtl] button.eHiXd_eESV[type=reset],[dir=rtl] button.eHiXd_eESV[type=submit]{text-align:right}\\n\\n.eHiXd_eESV.eHiXd_doqw .eHiXd_caGd,a.eHiXd_eESV.eHiXd_doqw .eHiXd_caGd,button.eHiXd_eESV.eHiXd_doqw .eHiXd_caGd,button.eHiXd_eESV[type=button].eHiXd_doqw .eHiXd_caGd,button.eHiXd_eESV[type=reset].eHiXd_doqw .eHiXd_caGd,button.eHiXd_eESV[type=submit].eHiXd_doqw .eHiXd_caGd{padding-bottom:0.3125rem;padding-top:0.375rem}\\n\\n.eHiXd_eESV.eHiXd_ycrn .eHiXd_caGd,a.eHiXd_eESV.eHiXd_ycrn .eHiXd_caGd,button.eHiXd_eESV.eHiXd_ycrn .eHiXd_caGd,button.eHiXd_eESV[type=button].eHiXd_ycrn .eHiXd_caGd,button.eHiXd_eESV[type=reset].eHiXd_ycrn .eHiXd_caGd,button.eHiXd_eESV[type=submit].eHiXd_ycrn .eHiXd_caGd{padding-bottom:0.5625rem;padding-top:0.5625rem}\\n\\n.eHiXd_eESV.eHiXd_cMDj .eHiXd_caGd,a.eHiXd_eESV.eHiXd_cMDj .eHiXd_caGd,button.eHiXd_eESV.eHiXd_cMDj .eHiXd_caGd,button.eHiXd_eESV[type=button].eHiXd_cMDj .eHiXd_caGd,button.eHiXd_eESV[type=reset].eHiXd_cMDj .eHiXd_caGd,button.eHiXd_eESV[type=submit].eHiXd_cMDj .eHiXd_caGd{padding-bottom:0.6875rem;padding-top:0.6875rem}\\n\\n.eHiXd_eESV .eHiXd_caGd,a.eHiXd_eESV .eHiXd_caGd,button.eHiXd_eESV .eHiXd_caGd,button.eHiXd_eESV[type=button] .eHiXd_caGd,button.eHiXd_eESV[type=reset] .eHiXd_caGd,button.eHiXd_eESV[type=submit] .eHiXd_caGd{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;line-height:\").concat(theme.fluidWidthLineHeight || 'inherit', \";word-wrap:break-word}\\n\\n.eHiXd_ddES,.eHiXd_fnSs,a.eHiXd_ddES,a.eHiXd_fnSs,button.eHiXd_ddES,button.eHiXd_ddES[type=button],button.eHiXd_ddES[type=reset],button.eHiXd_ddES[type=submit],button.eHiXd_fnSs,button.eHiXd_fnSs[type=button],button.eHiXd_fnSs[type=reset],button.eHiXd_fnSs[type=submit]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}\\n\\n.eHiXd_ddES,a.eHiXd_ddES,button.eHiXd_ddES,button.eHiXd_ddES[type=button],button.eHiXd_ddES[type=reset],button.eHiXd_ddES[type=submit]{background:\").concat(theme.defaultBackground || 'inherit', \";border-color:\").concat(theme.defaultBorderColor || 'inherit', \";color:\").concat(theme.defaultColor || 'inherit', \"}\\n\\n.eHiXd_ddES:active,.eHiXd_ddES:hover,a.eHiXd_ddES:active,a.eHiXd_ddES:hover,button.eHiXd_ddES:active,button.eHiXd_ddES:hover,button.eHiXd_ddES[type=button]:active,button.eHiXd_ddES[type=button]:hover,button.eHiXd_ddES[type=reset]:active,button.eHiXd_ddES[type=reset]:hover,button.eHiXd_ddES[type=submit]:active,button.eHiXd_ddES[type=submit]:hover{background:\").concat(theme.defaultHoverBackground || 'inherit', \"}\\n\\n.eHiXd_ddES:active,.eHiXd_ddES:focus,.eHiXd_ddES:hover,a.eHiXd_ddES:active,a.eHiXd_ddES:focus,a.eHiXd_ddES:hover,button.eHiXd_ddES:active,button.eHiXd_ddES:focus,button.eHiXd_ddES:hover,button.eHiXd_ddES[type=button]:active,button.eHiXd_ddES[type=button]:focus,button.eHiXd_ddES[type=button]:hover,button.eHiXd_ddES[type=reset]:active,button.eHiXd_ddES[type=reset]:focus,button.eHiXd_ddES[type=reset]:hover,button.eHiXd_ddES[type=submit]:active,button.eHiXd_ddES[type=submit]:focus,button.eHiXd_ddES[type=submit]:hover{color:\").concat(theme.defaultColor || 'inherit', \"}\\n\\n.eHiXd_ddES:active,a.eHiXd_ddES:active,button.eHiXd_ddES:active,button.eHiXd_ddES[type=button]:active,button.eHiXd_ddES[type=reset]:active,button.eHiXd_ddES[type=submit]:active{background:\").concat(theme.defaultActiveBackground || 'inherit', \";box-shadow:\").concat(theme.defaultActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_bXiG,a.eHiXd_bXiG,button.eHiXd_bXiG,button.eHiXd_bXiG[type=button],button.eHiXd_bXiG[type=reset],button.eHiXd_bXiG[type=submit]{background:\").concat(theme.primaryBackground || 'inherit', \";border-color:\").concat(theme.primaryBorderColor || 'inherit', \";color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.eHiXd_bXiG:active,.eHiXd_bXiG:hover,a.eHiXd_bXiG:active,a.eHiXd_bXiG:hover,button.eHiXd_bXiG:active,button.eHiXd_bXiG:hover,button.eHiXd_bXiG[type=button]:active,button.eHiXd_bXiG[type=button]:hover,button.eHiXd_bXiG[type=reset]:active,button.eHiXd_bXiG[type=reset]:hover,button.eHiXd_bXiG[type=submit]:active,button.eHiXd_bXiG[type=submit]:hover{background:\").concat(theme.primaryHoverBackground || 'inherit', \"}\\n\\n.eHiXd_bXiG:active,.eHiXd_bXiG:focus,.eHiXd_bXiG:hover,a.eHiXd_bXiG:active,a.eHiXd_bXiG:focus,a.eHiXd_bXiG:hover,button.eHiXd_bXiG:active,button.eHiXd_bXiG:focus,button.eHiXd_bXiG:hover,button.eHiXd_bXiG[type=button]:active,button.eHiXd_bXiG[type=button]:focus,button.eHiXd_bXiG[type=button]:hover,button.eHiXd_bXiG[type=reset]:active,button.eHiXd_bXiG[type=reset]:focus,button.eHiXd_bXiG[type=reset]:hover,button.eHiXd_bXiG[type=submit]:active,button.eHiXd_bXiG[type=submit]:focus,button.eHiXd_bXiG[type=submit]:hover{color:\").concat(theme.primaryColor || 'inherit', \"}\\n\\n.eHiXd_bXiG:active,a.eHiXd_bXiG:active,button.eHiXd_bXiG:active,button.eHiXd_bXiG[type=button]:active,button.eHiXd_bXiG[type=reset]:active,button.eHiXd_bXiG[type=submit]:active{background:\").concat(theme.primaryActiveBackground || 'inherit', \";box-shadow:\").concat(theme.primaryActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_cOXX,a.eHiXd_cOXX,button.eHiXd_cOXX,button.eHiXd_cOXX[type=button],button.eHiXd_cOXX[type=reset],button.eHiXd_cOXX[type=submit]{background:\").concat(theme.successBackground || 'inherit', \";border-color:\").concat(theme.successBorderColor || 'inherit', \";color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.eHiXd_cOXX:active,.eHiXd_cOXX:hover,a.eHiXd_cOXX:active,a.eHiXd_cOXX:hover,button.eHiXd_cOXX:active,button.eHiXd_cOXX:hover,button.eHiXd_cOXX[type=button]:active,button.eHiXd_cOXX[type=button]:hover,button.eHiXd_cOXX[type=reset]:active,button.eHiXd_cOXX[type=reset]:hover,button.eHiXd_cOXX[type=submit]:active,button.eHiXd_cOXX[type=submit]:hover{background:\").concat(theme.successHoverBackground || 'inherit', \"}\\n\\n.eHiXd_cOXX:active,.eHiXd_cOXX:focus,.eHiXd_cOXX:hover,a.eHiXd_cOXX:active,a.eHiXd_cOXX:focus,a.eHiXd_cOXX:hover,button.eHiXd_cOXX:active,button.eHiXd_cOXX:focus,button.eHiXd_cOXX:hover,button.eHiXd_cOXX[type=button]:active,button.eHiXd_cOXX[type=button]:focus,button.eHiXd_cOXX[type=button]:hover,button.eHiXd_cOXX[type=reset]:active,button.eHiXd_cOXX[type=reset]:focus,button.eHiXd_cOXX[type=reset]:hover,button.eHiXd_cOXX[type=submit]:active,button.eHiXd_cOXX[type=submit]:focus,button.eHiXd_cOXX[type=submit]:hover{color:\").concat(theme.successColor || 'inherit', \"}\\n\\n.eHiXd_cOXX:active,a.eHiXd_cOXX:active,button.eHiXd_cOXX:active,button.eHiXd_cOXX[type=button]:active,button.eHiXd_cOXX[type=reset]:active,button.eHiXd_cOXX[type=submit]:active{background:\").concat(theme.successActiveBackground || 'inherit', \";box-shadow:\").concat(theme.successActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_zGXc,a.eHiXd_zGXc,button.eHiXd_zGXc,button.eHiXd_zGXc[type=button],button.eHiXd_zGXc[type=reset],button.eHiXd_zGXc[type=submit]{background:\").concat(theme.dangerBackground || 'inherit', \";border-color:\").concat(theme.dangerBorderColor || 'inherit', \";color:\").concat(theme.dangerColor || 'inherit', \"}\\n\\n.eHiXd_zGXc:active,.eHiXd_zGXc:hover,a.eHiXd_zGXc:active,a.eHiXd_zGXc:hover,button.eHiXd_zGXc:active,button.eHiXd_zGXc:hover,button.eHiXd_zGXc[type=button]:active,button.eHiXd_zGXc[type=button]:hover,button.eHiXd_zGXc[type=reset]:active,button.eHiXd_zGXc[type=reset]:hover,button.eHiXd_zGXc[type=submit]:active,button.eHiXd_zGXc[type=submit]:hover{background:\").concat(theme.dangerHoverBackground || 'inherit', \"}\\n\\n.eHiXd_zGXc:active,.eHiXd_zGXc:focus,.eHiXd_zGXc:hover,a.eHiXd_zGXc:active,a.eHiXd_zGXc:focus,a.eHiXd_zGXc:hover,button.eHiXd_zGXc:active,button.eHiXd_zGXc:focus,button.eHiXd_zGXc:hover,button.eHiXd_zGXc[type=button]:active,button.eHiXd_zGXc[type=button]:focus,button.eHiXd_zGXc[type=button]:hover,button.eHiXd_zGXc[type=reset]:active,button.eHiXd_zGXc[type=reset]:focus,button.eHiXd_zGXc[type=reset]:hover,button.eHiXd_zGXc[type=submit]:active,button.eHiXd_zGXc[type=submit]:focus,button.eHiXd_zGXc[type=submit]:hover{color:\").concat(theme.dangerColor || 'inherit', \"}\\n\\n.eHiXd_zGXc:active,a.eHiXd_zGXc:active,button.eHiXd_zGXc:active,button.eHiXd_zGXc[type=button]:active,button.eHiXd_zGXc[type=reset]:active,button.eHiXd_zGXc[type=submit]:active{background:\").concat(theme.dangerActiveBackground || 'inherit', \";box-shadow:\").concat(theme.dangerActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_eYmo,a.eHiXd_eYmo,button.eHiXd_eYmo,button.eHiXd_eYmo[type=button],button.eHiXd_eYmo[type=reset],button.eHiXd_eYmo[type=submit]{background:\").concat(theme.lightBackground || 'inherit', \";border-color:\").concat(theme.lightBorderColor || 'inherit', \";color:\").concat(theme.lightColor || 'inherit', \"}\\n\\n.eHiXd_eYmo:active,.eHiXd_eYmo:hover,a.eHiXd_eYmo:active,a.eHiXd_eYmo:hover,button.eHiXd_eYmo:active,button.eHiXd_eYmo:hover,button.eHiXd_eYmo[type=button]:active,button.eHiXd_eYmo[type=button]:hover,button.eHiXd_eYmo[type=reset]:active,button.eHiXd_eYmo[type=reset]:hover,button.eHiXd_eYmo[type=submit]:active,button.eHiXd_eYmo[type=submit]:hover{background:\").concat(theme.lightHoverBackground || 'inherit', \"}\\n\\n.eHiXd_eYmo:active,.eHiXd_eYmo:focus,.eHiXd_eYmo:hover,a.eHiXd_eYmo:active,a.eHiXd_eYmo:focus,a.eHiXd_eYmo:hover,button.eHiXd_eYmo:active,button.eHiXd_eYmo:focus,button.eHiXd_eYmo:hover,button.eHiXd_eYmo[type=button]:active,button.eHiXd_eYmo[type=button]:focus,button.eHiXd_eYmo[type=button]:hover,button.eHiXd_eYmo[type=reset]:active,button.eHiXd_eYmo[type=reset]:focus,button.eHiXd_eYmo[type=reset]:hover,button.eHiXd_eYmo[type=submit]:active,button.eHiXd_eYmo[type=submit]:focus,button.eHiXd_eYmo[type=submit]:hover{color:\").concat(theme.lightColor || 'inherit', \"}\\n\\n.eHiXd_eYmo:active,a.eHiXd_eYmo:active,button.eHiXd_eYmo:active,button.eHiXd_eYmo[type=button]:active,button.eHiXd_eYmo[type=reset]:active,button.eHiXd_eYmo[type=submit]:active{background:\").concat(theme.lightActiveBackground || 'inherit', \";box-shadow:\").concat(theme.lightActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_fnSs,a.eHiXd_fnSs,button.eHiXd_fnSs,button.eHiXd_fnSs[type=button],button.eHiXd_fnSs[type=reset],button.eHiXd_fnSs[type=submit]{background:\").concat(theme.ghostBackground || 'inherit', \";border-color:\").concat(theme.ghostBorderColor || 'inherit', \";border-style:\").concat(theme.ghostBorderStyle || 'inherit', \";color:\").concat(theme.ghostColor || 'inherit', \"}\\n\\n.eHiXd_fnSs:active,.eHiXd_fnSs:hover,a.eHiXd_fnSs:active,a.eHiXd_fnSs:hover,button.eHiXd_fnSs:active,button.eHiXd_fnSs:hover,button.eHiXd_fnSs[type=button]:active,button.eHiXd_fnSs[type=button]:hover,button.eHiXd_fnSs[type=reset]:active,button.eHiXd_fnSs[type=reset]:hover,button.eHiXd_fnSs[type=submit]:active,button.eHiXd_fnSs[type=submit]:hover{background:\").concat(theme.ghostHoverBackground || 'inherit', \"}\\n\\n.eHiXd_fnSs:active,.eHiXd_fnSs:focus,.eHiXd_fnSs:hover,a.eHiXd_fnSs:active,a.eHiXd_fnSs:focus,a.eHiXd_fnSs:hover,button.eHiXd_fnSs:active,button.eHiXd_fnSs:focus,button.eHiXd_fnSs:hover,button.eHiXd_fnSs[type=button]:active,button.eHiXd_fnSs[type=button]:focus,button.eHiXd_fnSs[type=button]:hover,button.eHiXd_fnSs[type=reset]:active,button.eHiXd_fnSs[type=reset]:focus,button.eHiXd_fnSs[type=reset]:hover,button.eHiXd_fnSs[type=submit]:active,button.eHiXd_fnSs[type=submit]:focus,button.eHiXd_fnSs[type=submit]:hover{color:\").concat(theme.ghostColor || 'inherit', \"}\\n\\n.eHiXd_fnSs:active,a.eHiXd_fnSs:active,button.eHiXd_fnSs:active,button.eHiXd_fnSs[type=button]:active,button.eHiXd_fnSs[type=reset]:active,button.eHiXd_fnSs[type=submit]:active{background:\").concat(theme.ghostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.ghostActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_eoGN,a.eHiXd_eoGN,button.eHiXd_eoGN,button.eHiXd_eoGN[type=button],button.eHiXd_eoGN[type=reset],button.eHiXd_eoGN[type=submit]{background:\").concat(theme.ghostInverseBackground || 'inherit', \";border-color:\").concat(theme.ghostInverseBorderColor || 'inherit', \";border-style:\").concat(theme.ghostInverseBorderStyle || 'inherit', \";color:\").concat(theme.ghostInverseColor || 'inherit', \"}\\n\\n.eHiXd_eoGN:active,.eHiXd_eoGN:hover,a.eHiXd_eoGN:active,a.eHiXd_eoGN:hover,button.eHiXd_eoGN:active,button.eHiXd_eoGN:hover,button.eHiXd_eoGN[type=button]:active,button.eHiXd_eoGN[type=button]:hover,button.eHiXd_eoGN[type=reset]:active,button.eHiXd_eoGN[type=reset]:hover,button.eHiXd_eoGN[type=submit]:active,button.eHiXd_eoGN[type=submit]:hover{background:\").concat(theme.ghostInverseHoverBackground || 'inherit', \"}\\n\\n.eHiXd_eoGN:active,.eHiXd_eoGN:focus,.eHiXd_eoGN:hover,a.eHiXd_eoGN:active,a.eHiXd_eoGN:focus,a.eHiXd_eoGN:hover,button.eHiXd_eoGN:active,button.eHiXd_eoGN:focus,button.eHiXd_eoGN:hover,button.eHiXd_eoGN[type=button]:active,button.eHiXd_eoGN[type=button]:focus,button.eHiXd_eoGN[type=button]:hover,button.eHiXd_eoGN[type=reset]:active,button.eHiXd_eoGN[type=reset]:focus,button.eHiXd_eoGN[type=reset]:hover,button.eHiXd_eoGN[type=submit]:active,button.eHiXd_eoGN[type=submit]:focus,button.eHiXd_eoGN[type=submit]:hover{color:\").concat(theme.ghostInverseColor || 'inherit', \"}\\n\\n.eHiXd_eoGN:focus:before,a.eHiXd_eoGN:focus:before,button.eHiXd_eoGN:focus:before,button.eHiXd_eoGN[type=button]:focus:before,button.eHiXd_eoGN[type=reset]:focus:before,button.eHiXd_eoGN[type=submit]:focus:before{border:\").concat(theme.inverseFocusBorder || 'inherit', \"}\\n\\n.eHiXd_eoGN:active,a.eHiXd_eoGN:active,button.eHiXd_eoGN:active,button.eHiXd_eoGN[type=button]:active,button.eHiXd_eoGN[type=reset]:active,button.eHiXd_eoGN[type=submit]:active{background:\").concat(theme.ghostActiveBackground || 'inherit', \";box-shadow:\").concat(theme.ghostInverseActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_brAJ,.eHiXd_eTYR,a.eHiXd_brAJ,a.eHiXd_eTYR,button.eHiXd_brAJ,button.eHiXd_eTYR,button.eHiXd_eTYR[type=button],button.eHiXd_eTYR[type=reset],button.eHiXd_eTYR[type=submit],button.eHiXd_brAJ[type=button],button.eHiXd_brAJ[type=reset],button.eHiXd_brAJ[type=submit]{-webkit-text-decoration:\").concat(theme.linkTextDecoration || 'inherit', \";background:transparent;border-color:\").concat(theme.linkBorderColor || 'inherit', \";text-decoration:\").concat(theme.linkTextDecoration || 'inherit', \"}\\n\\n.eHiXd_brAJ,a.eHiXd_brAJ,button.eHiXd_brAJ,button.eHiXd_brAJ[type=button],button.eHiXd_brAJ[type=reset],button.eHiXd_brAJ[type=submit]{color:\").concat(theme.linkColor || 'inherit', \"}\\n\\n.eHiXd_brAJ:active,.eHiXd_brAJ:focus,.eHiXd_brAJ:hover,a.eHiXd_brAJ:active,a.eHiXd_brAJ:focus,a.eHiXd_brAJ:hover,button.eHiXd_brAJ:active,button.eHiXd_brAJ:focus,button.eHiXd_brAJ:hover,button.eHiXd_brAJ[type=button]:active,button.eHiXd_brAJ[type=button]:focus,button.eHiXd_brAJ[type=button]:hover,button.eHiXd_brAJ[type=reset]:active,button.eHiXd_brAJ[type=reset]:focus,button.eHiXd_brAJ[type=reset]:hover,button.eHiXd_brAJ[type=submit]:active,button.eHiXd_brAJ[type=submit]:focus,button.eHiXd_brAJ[type=submit]:hover{color:\").concat(theme.linkHoverColor || 'inherit', \"}\\n\\n.eHiXd_brAJ:hover,a.eHiXd_brAJ:hover,button.eHiXd_brAJ:hover,button.eHiXd_brAJ[type=button]:hover,button.eHiXd_brAJ[type=reset]:hover,button.eHiXd_brAJ[type=submit]:hover{text-decoration:underline}\\n\\n.eHiXd_eTYR,.eHiXd_eTYR:active,.eHiXd_eTYR:focus,.eHiXd_eTYR:hover,a.eHiXd_eTYR,a.eHiXd_eTYR:active,a.eHiXd_eTYR:focus,a.eHiXd_eTYR:hover,button.eHiXd_eTYR,button.eHiXd_eTYR:active,button.eHiXd_eTYR:focus,button.eHiXd_eTYR:hover,button.eHiXd_eTYR[type=button],button.eHiXd_eTYR[type=button]:active,button.eHiXd_eTYR[type=button]:focus,button.eHiXd_eTYR[type=button]:hover,button.eHiXd_eTYR[type=reset],button.eHiXd_eTYR[type=reset]:active,button.eHiXd_eTYR[type=reset]:focus,button.eHiXd_eTYR[type=reset]:hover,button.eHiXd_eTYR[type=submit],button.eHiXd_eTYR[type=submit]:active,button.eHiXd_eTYR[type=submit]:focus,button.eHiXd_eTYR[type=submit]:hover{color:\").concat(theme.linkInverseColor || 'inherit', \"}\\n\\n.eHiXd_eTYR:hover,a.eHiXd_eTYR:hover,button.eHiXd_eTYR:hover,button.eHiXd_eTYR[type=button]:hover,button.eHiXd_eTYR[type=reset]:hover,button.eHiXd_eTYR[type=submit]:hover{text-decoration:underline}\\n\\n.eHiXd_eTYR:focus:before,a.eHiXd_eTYR:focus:before,button.eHiXd_eTYR:focus:before,button.eHiXd_eTYR[type=button]:focus:before,button.eHiXd_eTYR[type=reset]:focus:before,button.eHiXd_eTYR[type=submit]:focus:before{border:\").concat(theme.inverseFocusBorder || 'inherit', \"}\\n\\n.eHiXd_bVwc,a.eHiXd_bVwc,button.eHiXd_bVwc,button.eHiXd_bVwc[type=button],button.eHiXd_bVwc[type=reset],button.eHiXd_bVwc[type=submit]{background:\").concat(theme.circleDefaultBackground || 'inherit', \";border-color:\").concat(theme.circleDefaultBorderColor || 'inherit', \";color:\").concat(theme.circleDefaultColor || 'inherit', \"}\\n\\n.eHiXd_bVwc:active,.eHiXd_bVwc:hover,a.eHiXd_bVwc:active,a.eHiXd_bVwc:hover,button.eHiXd_bVwc:active,button.eHiXd_bVwc:hover,button.eHiXd_bVwc[type=button]:active,button.eHiXd_bVwc[type=button]:hover,button.eHiXd_bVwc[type=reset]:active,button.eHiXd_bVwc[type=reset]:hover,button.eHiXd_bVwc[type=submit]:active,button.eHiXd_bVwc[type=submit]:hover{background:\").concat(theme.circleDefaultHoverBackground || 'inherit', \"}\\n\\n.eHiXd_bVwc:active,.eHiXd_bVwc:focus,.eHiXd_bVwc:hover,a.eHiXd_bVwc:active,a.eHiXd_bVwc:focus,a.eHiXd_bVwc:hover,button.eHiXd_bVwc:active,button.eHiXd_bVwc:focus,button.eHiXd_bVwc:hover,button.eHiXd_bVwc[type=button]:active,button.eHiXd_bVwc[type=button]:focus,button.eHiXd_bVwc[type=button]:hover,button.eHiXd_bVwc[type=reset]:active,button.eHiXd_bVwc[type=reset]:focus,button.eHiXd_bVwc[type=reset]:hover,button.eHiXd_bVwc[type=submit]:active,button.eHiXd_bVwc[type=submit]:focus,button.eHiXd_bVwc[type=submit]:hover{color:\").concat(theme.circleDefaultColor || 'inherit', \"}\\n\\n.eHiXd_bVwc:active,a.eHiXd_bVwc:active,button.eHiXd_bVwc:active,button.eHiXd_bVwc[type=button]:active,button.eHiXd_bVwc[type=reset]:active,button.eHiXd_bVwc[type=submit]:active{background:\").concat(theme.circleDefaultActiveBackground || 'inherit', \";box-shadow:\").concat(theme.circleDefaultActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_HJDj,a.eHiXd_HJDj,button.eHiXd_HJDj,button.eHiXd_HJDj[type=button],button.eHiXd_HJDj[type=reset],button.eHiXd_HJDj[type=submit]{background:\").concat(theme.circlePrimaryBackground || 'inherit', \";border-color:\").concat(theme.circlePrimaryBorderColor || 'inherit', \";color:\").concat(theme.circlePrimaryColor || 'inherit', \"}\\n\\n.eHiXd_HJDj:active,.eHiXd_HJDj:hover,a.eHiXd_HJDj:active,a.eHiXd_HJDj:hover,button.eHiXd_HJDj:active,button.eHiXd_HJDj:hover,button.eHiXd_HJDj[type=button]:active,button.eHiXd_HJDj[type=button]:hover,button.eHiXd_HJDj[type=reset]:active,button.eHiXd_HJDj[type=reset]:hover,button.eHiXd_HJDj[type=submit]:active,button.eHiXd_HJDj[type=submit]:hover{background:\").concat(theme.circlePrimaryHoverBackground || 'inherit', \"}\\n\\n.eHiXd_HJDj:active,.eHiXd_HJDj:focus,.eHiXd_HJDj:hover,a.eHiXd_HJDj:active,a.eHiXd_HJDj:focus,a.eHiXd_HJDj:hover,button.eHiXd_HJDj:active,button.eHiXd_HJDj:focus,button.eHiXd_HJDj:hover,button.eHiXd_HJDj[type=button]:active,button.eHiXd_HJDj[type=button]:focus,button.eHiXd_HJDj[type=button]:hover,button.eHiXd_HJDj[type=reset]:active,button.eHiXd_HJDj[type=reset]:focus,button.eHiXd_HJDj[type=reset]:hover,button.eHiXd_HJDj[type=submit]:active,button.eHiXd_HJDj[type=submit]:focus,button.eHiXd_HJDj[type=submit]:hover{color:\").concat(theme.circlePrimaryColor || 'inherit', \"}\\n\\n.eHiXd_HJDj:active,a.eHiXd_HJDj:active,button.eHiXd_HJDj:active,button.eHiXd_HJDj[type=button]:active,button.eHiXd_HJDj[type=reset]:active,button.eHiXd_HJDj[type=submit]:active{background:\").concat(theme.circlePrimaryActiveBackground || 'inherit', \";box-shadow:\").concat(theme.circlePrimaryActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_bKGu,a.eHiXd_bKGu,button.eHiXd_bKGu,button.eHiXd_bKGu[type=button],button.eHiXd_bKGu[type=reset],button.eHiXd_bKGu[type=submit]{background:\").concat(theme.circleDangerBackground || 'inherit', \";border-color:\").concat(theme.circleDangerBorderColor || 'inherit', \";color:\").concat(theme.circleDangerColor || 'inherit', \"}\\n\\n.eHiXd_bKGu:active,.eHiXd_bKGu:hover,a.eHiXd_bKGu:active,a.eHiXd_bKGu:hover,button.eHiXd_bKGu:active,button.eHiXd_bKGu:hover,button.eHiXd_bKGu[type=button]:active,button.eHiXd_bKGu[type=button]:hover,button.eHiXd_bKGu[type=reset]:active,button.eHiXd_bKGu[type=reset]:hover,button.eHiXd_bKGu[type=submit]:active,button.eHiXd_bKGu[type=submit]:hover{background:\").concat(theme.circleDangerHoverBackground || 'inherit', \"}\\n\\n.eHiXd_bKGu:active,.eHiXd_bKGu:focus,.eHiXd_bKGu:hover,a.eHiXd_bKGu:active,a.eHiXd_bKGu:focus,a.eHiXd_bKGu:hover,button.eHiXd_bKGu:active,button.eHiXd_bKGu:focus,button.eHiXd_bKGu:hover,button.eHiXd_bKGu[type=button]:active,button.eHiXd_bKGu[type=button]:focus,button.eHiXd_bKGu[type=button]:hover,button.eHiXd_bKGu[type=reset]:active,button.eHiXd_bKGu[type=reset]:focus,button.eHiXd_bKGu[type=reset]:hover,button.eHiXd_bKGu[type=submit]:active,button.eHiXd_bKGu[type=submit]:focus,button.eHiXd_bKGu[type=submit]:hover{color:\").concat(theme.circleDangerColor || 'inherit', \"}\\n\\n.eHiXd_bKGu:active,a.eHiXd_bKGu:active,button.eHiXd_bKGu:active,button.eHiXd_bKGu[type=button]:active,button.eHiXd_bKGu[type=reset]:active,button.eHiXd_bKGu[type=submit]:active{background:\").concat(theme.circleDangerActiveBackground || 'inherit', \";box-shadow:\").concat(theme.circleDangerActiveBoxShadow || 'inherit', \"}\\n\\n.eHiXd_dnnz,.eHiXd_ccgO,a.eHiXd_dnnz,a.eHiXd_ccgO,button.eHiXd_dnnz,button.eHiXd_ccgO,button.eHiXd_ccgO[type=button],button.eHiXd_ccgO[type=reset],button.eHiXd_ccgO[type=submit],button.eHiXd_dnnz[type=button],button.eHiXd_dnnz[type=reset],button.eHiXd_dnnz[type=submit]{border-color:\").concat(theme.iconBorderColor || 'inherit', \"}\\n\\n.eHiXd_ccgO,a.eHiXd_ccgO,button.eHiXd_ccgO,button.eHiXd_ccgO[type=button],button.eHiXd_ccgO[type=reset],button.eHiXd_ccgO[type=submit]{color:\").concat(theme.iconInverseColor || 'inherit', \"}\\n\\n.eHiXd_ccgO:focus,a.eHiXd_ccgO:focus,button.eHiXd_ccgO:focus,button.eHiXd_ccgO[type=button]:focus,button.eHiXd_ccgO[type=reset]:focus,button.eHiXd_ccgO[type=submit]:focus{color:\").concat(theme.iconInverseHoverColor || 'inherit', \"}\\n\\n.eHiXd_ccgO:focus:before,a.eHiXd_ccgO:focus:before,button.eHiXd_ccgO:focus:before,button.eHiXd_ccgO[type=button]:focus:before,button.eHiXd_ccgO[type=reset]:focus:before,button.eHiXd_ccgO[type=submit]:focus:before{border-color:\").concat(theme.ghostInverseBorderColor || 'inherit', \"}\\n\\n.eHiXd_ccgO:active,.eHiXd_ccgO:hover,a.eHiXd_ccgO:active,a.eHiXd_ccgO:hover,button.eHiXd_ccgO:active,button.eHiXd_ccgO:hover,button.eHiXd_ccgO[type=button]:active,button.eHiXd_ccgO[type=button]:hover,button.eHiXd_ccgO[type=reset]:active,button.eHiXd_ccgO[type=reset]:hover,button.eHiXd_ccgO[type=submit]:active,button.eHiXd_ccgO[type=submit]:hover{color:\").concat(theme.iconInverseHoverColor || 'inherit', \"}\\n\\n.eHiXd_dnnz,a.eHiXd_dnnz,button.eHiXd_dnnz,button.eHiXd_dnnz[type=button],button.eHiXd_dnnz[type=reset],button.eHiXd_dnnz[type=submit]{color:\").concat(theme.iconColor || 'inherit', \"}\\n\\n.eHiXd_dnnz:focus,.eHiXd_dnnz:hover,a.eHiXd_dnnz:focus,a.eHiXd_dnnz:hover,button.eHiXd_dnnz:focus,button.eHiXd_dnnz:hover,button.eHiXd_dnnz[type=button]:focus,button.eHiXd_dnnz[type=button]:hover,button.eHiXd_dnnz[type=reset]:focus,button.eHiXd_dnnz[type=reset]:hover,button.eHiXd_dnnz[type=submit]:focus,button.eHiXd_dnnz[type=submit]:hover{color:\").concat(theme.iconHoverColor || 'inherit', \"}\\n\\n.eHiXd_dnnz:active,a.eHiXd_dnnz:active,button.eHiXd_dnnz:active,button.eHiXd_dnnz[type=button]:active,button.eHiXd_dnnz[type=reset]:active,button.eHiXd_dnnz[type=submit]:active{color:\").concat(theme.iconActiveColor || 'inherit', \"}\\n\\n.eHiXd_eoCh>svg,a.eHiXd_eoCh>svg,button.eHiXd_eoCh>svg{display:block}\");\n  },\n  'root': 'eHiXd_bGBk',\n  'disabled': 'eHiXd_ywdX',\n  'content': 'eHiXd_caGd',\n  'borderRadius--rounded': 'eHiXd_cuTS',\n  'borderRadius--circle': 'eHiXd_dEqw',\n  'width--icon': 'eHiXd_bPzo',\n  'small': 'eHiXd_doqw',\n  'has-icon': 'eHiXd_wWyq',\n  'iconSVG': 'eHiXd_eoCh',\n  'medium': 'eHiXd_ycrn',\n  'large': 'eHiXd_cMDj',\n  'width--auto': 'eHiXd_bNlk',\n  'width--fluid': 'eHiXd_eESV',\n  'default': 'eHiXd_ddES',\n  'ghost': 'eHiXd_fnSs',\n  'primary': 'eHiXd_bXiG',\n  'success': 'eHiXd_cOXX',\n  'danger': 'eHiXd_zGXc',\n  'light': 'eHiXd_eYmo',\n  'ghost-inverse': 'eHiXd_eoGN',\n  'link': 'eHiXd_brAJ',\n  'link-inverse': 'eHiXd_eTYR',\n  'circle-default': 'eHiXd_bVwc',\n  'circle-primary': 'eHiXd_HJDj',\n  'circle-danger': 'eHiXd_bKGu',\n  'icon': 'eHiXd_dnnz',\n  'icon-inverse': 'eHiXd_ccgO'\n};\nimport theme from './theme';\nvar circleVariants = ['circle-primary', 'circle-danger', 'circle-default'];\nvar squareVariants = ['circle-default', 'circle-primary', 'circle-danger', 'icon', 'icon-inverse'];\n/**\n---\ncategory: components/deprecated\n---\n**/\n\nvar DeprecatedButton = (_dec = deprecated('8.0.0', null, 'Use Button from ui-buttons instead. See the upgrade guide for detailed instructions on updating https://instructure.design/#button-upgrade-guide'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DeprecatedButton, _Component);\n\n  function DeprecatedButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DeprecatedButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeprecatedButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly,\n          onClick = _this$props.onClick;\n\n      if (disabled || readOnly) {\n        e.preventDefault();\n        e.stopPropagation();\n      } else if (typeof onClick === 'function') {\n        onClick(e);\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props2 = _this.props,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          onClick = _this$props2.onClick,\n          href = _this$props2.href; // behave like a button when space key is pressed\n\n      if (_this.elementType !== 'button' && (e.keyCode === keycode.codes.space || e.keyCode === keycode.codes.enter)) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (typeof onClick === 'function' && !disabled && !readOnly) {\n          onClick(e);\n        }\n\n        if (href) {\n          _this._button && _this._button.click();\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(DeprecatedButton, [{\n    key: \"focus\",\n    value: function focus() {\n      this._button && this._button.focus();\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      var Icon = this.props.icon;\n\n      if (typeof this.props.icon === 'function') {\n        return React.createElement(\"span\", {\n          className: styles.iconSVG\n        }, React.createElement(Icon, {\n          inline: false\n        }));\n      } else if (Icon) {\n        return React.createElement(\"span\", {\n          className: styles.iconSVG\n        }, Icon);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"buttonBorderRadius\",\n    value: function buttonBorderRadius() {\n      if (circleVariants.includes(this.props.variant)) {\n        return 'circle';\n      } else {\n        return 'rounded';\n      }\n    }\n  }, {\n    key: \"buttonWidth\",\n    value: function buttonWidth(hasOnlyIcon) {\n      var _this$props3 = this.props,\n          variant = _this$props3.variant,\n          fluidWidth = _this$props3.fluidWidth;\n\n      if (hasOnlyIcon || squareVariants.includes(variant)) {\n        return 'icon';\n      } else if (fluidWidth) {\n        return 'fluid';\n      } else {\n        return 'auto';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames,\n          _this2 = this;\n\n      var _this$props4 = this.props,\n          as = _this$props4.as,\n          buttonRef = _this$props4.buttonRef,\n          children = _this$props4.children,\n          cursor = _this$props4.cursor,\n          disabled = _this$props4.disabled,\n          href = _this$props4.href,\n          icon = _this$props4.icon,\n          margin = _this$props4.margin,\n          onClick = _this$props4.onClick,\n          readOnly = _this$props4.readOnly,\n          size = _this$props4.size,\n          type = _this$props4.type,\n          variant = _this$props4.variant,\n          tabIndex = _this$props4.tabIndex;\n      var IHaveVisibleChildren = hasVisibleChildren(this.props.children);\n      var hasTextAndIcon = IHaveVisibleChildren && this.props.icon; // any button with an icon + text label\n\n      var hasOnlyIcon = !IHaveVisibleChildren && this.props.icon; // any button with just an icon visible\n\n      if (process.env.NODE_ENV !== 'production') {\n        // show warning if icon is added as a child\n        if (this.hasVisibleChildren) {\n          React.Children.forEach(children, function (child) {\n            var icon = child && child.type && typeof child.type.glyphName !== 'undefined';\n\n            /*#__PURE__*/\n\n            /*#__PURE__*/\n            _warn(!icon, \"[DeprecatedButton] Icons as children is deprecated. Please use the 'icon' prop instead.\");\n          });\n        }\n      } // warn for unallowed view props\n\n\n      var passthroughProps = View.omitViewProps(omitProps(this.props, DeprecatedButton.propTypes), DeprecatedButton);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[variant], true), _defineProperty(_classnames, styles[size], size), _defineProperty(_classnames, styles[\"width--\".concat(this.buttonWidth(hasOnlyIcon))], true), _defineProperty(_classnames, styles[\"borderRadius--\".concat(this.buttonBorderRadius())], true), _defineProperty(_classnames, styles.disabled, disabled), _defineProperty(_classnames, styles['has-icon'], icon), _classnames)),\n        disabled: disabled || readOnly,\n        onClick: this.handleClick,\n        onKeyDown: this.handleKeyDown,\n        href: href,\n        type: href ? null : type,\n        role: onClick && as !== 'button' ? 'button' : null,\n        tabIndex: onClick && as ? tabIndex || '0' : tabIndex,\n        elementRef: function elementRef(c) {\n          _this2._button = c;\n          if (typeof buttonRef === 'function') buttonRef(c);\n        },\n        display: null,\n        as: this.elementType,\n        margin: margin,\n        cursor: disabled ? 'not-allowed' : cursor\n      }), hasTextAndIcon ? React.createElement(Flex, {\n        height: \"100%\",\n        width: \"100%\"\n      }, React.createElement(Flex.Item, {\n        padding: \"0 x-small 0 0\"\n      }, this.renderIcon()), React.createElement(Flex.Item, {\n        shouldGrow: true,\n        shouldShrink: true\n      }, React.createElement(\"span\", {\n        className: styles.content\n      }, children))) : // all other button layouts (icon only and text only)\n      React.createElement(\"span\", {\n        className: styles.content\n      }, icon && this.renderIcon(), children));\n    }\n  }, {\n    key: \"elementType\",\n    get: function get() {\n      return getElementType(DeprecatedButton, this.props);\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._button);\n    }\n  }]);\n\n  DeprecatedButton.displayName = \"DeprecatedButton\";\n  return DeprecatedButton;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node.isRequired,\n  type: PropTypes.oneOf(['button', 'submit', 'reset']),\n  variant: PropTypes.oneOf(['default', 'primary', 'success', 'danger', 'light', 'ghost', 'ghost-inverse', 'link', 'link-inverse', 'circle-default', 'circle-primary', 'circle-danger', 'icon', 'icon-inverse']),\n\n  /**\n  * provides a reference to the underlying focusable (`button` or `a`) element\n  */\n  buttonRef: PropTypes.func,\n\n  /**\n  * the element type to render as (will be `<a>` if href is provided)\n  */\n  as: PropTypes.elementType,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * should the `<DeprecatedButton/>` fill the width of its container\n  */\n  fluidWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  href: PropTypes.string,\n  onClick: PropTypes.func,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Add an SVG icon to the button. Do not add icons directly as\n  * children.\n  */\n  icon: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Specify a mouse cursor to use when hovering over the button.\n   * The `pointer` cursor is used by default.\n   */\n  cursor: PropTypes.string,\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n}, _class2.defaultProps = {\n  as: 'button',\n  type: 'button',\n  variant: 'default',\n  size: 'medium',\n  margin: '0',\n  fluidWidth: false,\n  buttonRef: function buttonRef(button) {},\n  cursor: 'pointer',\n  disabled: void 0,\n  onClick: void 0,\n  icon: void 0,\n  href: void 0,\n  readOnly: void 0,\n  tabIndex: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default DeprecatedButton;\nexport { DeprecatedButton };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { alpha, darken } from '@instructure/ui-color-utils';\nvar activeShadow = 'inset 0 0 0.1875rem 0.0625rem';\nvar focusShadow = 'inset 0 0 0 0.0625rem';\nvar focusOutline = '0.125rem solid';\n\nvar buttonVariant = function buttonVariant(style, mainColor, textColor) {\n  var _ref;\n\n  return _ref = {}, _defineProperty(_ref, \"\".concat(style, \"Background\"), mainColor), _defineProperty(_ref, \"\".concat(style, \"BorderColor\"), darken(mainColor, 10)), _defineProperty(_ref, \"\".concat(style, \"Color\"), textColor), _defineProperty(_ref, \"\".concat(style, \"HoverBackground\"), darken(mainColor, 10)), _defineProperty(_ref, \"\".concat(style, \"ActiveBackground\"), darken(mainColor, 10)), _defineProperty(_ref, \"\".concat(style, \"ActiveBoxShadow\"), \"\".concat(activeShadow, \" \").concat(darken(mainColor, 20, 0.45))), _ref;\n};\n\nexport default function generator() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref2$colors = _ref2.colors,\n      colors = _ref2$colors === void 0 ? {} : _ref2$colors,\n      _ref2$borders = _ref2.borders,\n      borders = _ref2$borders === void 0 ? {} : _ref2$borders,\n      _ref2$forms = _ref2.forms,\n      forms = _ref2$forms === void 0 ? {} : _ref2$forms,\n      _ref2$spacing = _ref2.spacing,\n      spacing = _ref2$spacing === void 0 ? {} : _ref2$spacing,\n      _ref2$typography = _ref2.typography,\n      typography = _ref2$typography === void 0 ? {} : _ref2$typography;\n\n  return _objectSpread({\n    borderWidth: borders.widthSmall,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    textTransform: 'none',\n    letterSpacing: 'normal',\n    borderRadius: borders.radiusMedium,\n    borderStyle: borders.style,\n    transform: 'none',\n    hoverTransform: 'none',\n    smallHeight: forms.inputHeightSmall,\n    smallPadding: spacing.xSmall,\n    smallFontSize: typography.fontSizeSmall,\n    mediumHeight: forms.inputHeightMedium,\n    mediumPadding: spacing.small,\n    mediumFontSize: typography.fontSizeMedium,\n    largeHeight: forms.inputHeightLarge,\n    largePadding: spacing.medium,\n    largeFontSize: typography.fontSizeLarge,\n    focusBorder: \"\".concat(focusOutline, \" \").concat(colors.borderBrand),\n    focusShadow: 'none',\n    lightBackground: colors.backgroundLightest,\n    lightBorderColor: darken(colors.borderLight, 10),\n    lightBorderStyle: borders.style,\n    lightColor: colors.textDarkest,\n    lightHoverBackground: darken(colors.backgroundLightest, 5),\n    lightActiveBackground: colors.backgroundLightest,\n    lightActiveBoxShadow: \"\".concat(activeShadow, \" \").concat(darken(colors.borderLightest, 25)),\n    ghostBackground: 'transparent',\n    ghostBorderColor: colors.borderBrand,\n    ghostBorderStyle: borders.style,\n    ghostColor: colors.textBrand,\n    ghostHoverBackground: alpha(colors.backgroundBrand, 10),\n    ghostActiveBackground: 'transparent',\n    ghostActiveBoxShadow: \"inset 0 0 1px 1px \".concat(alpha(colors.borderBrand, 20)),\n    ghostInverseBackground: 'transparent',\n    ghostInverseBorderColor: colors.borderLightest,\n    ghostInverseBorderStyle: borders.style,\n    ghostInverseColor: colors.textLightest,\n    ghostInverseHoverBackground: alpha(colors.backgroundLightest, 10),\n    ghostInverseActiveBackground: 'transparent',\n    ghostInverseActiveBoxShadow: \"inset 0 0 1px 1px \".concat(alpha(colors.borderLightest, 20)),\n    linkColor: colors.textLink,\n    linkBorderColor: 'transparent',\n    linkFocusBorderColor: 'transparent',\n    linkHoverColor: darken(colors.textLink, 10),\n    linkTextDecoration: 'none',\n    linkInverseColor: colors.textLight,\n    inverseFocusBorder: \"\".concat(focusOutline, \" \").concat(colors.borderLightest),\n    iconBorderColor: 'transparent',\n    iconPadding: \"0 \".concat(spacing.xxSmall),\n    iconColor: colors.textDarkest,\n    iconHoverColor: colors.textBrand,\n    iconActiveColor: darken(colors.textDarkest, 10),\n    iconFocusBoxShadow: \"\".concat(focusShadow, \" \").concat(colors.borderBrand),\n    iconPlusTextFontSize: '1.25rem',\n    iconSizeSmall: '1rem',\n    iconSizeMedium: '1.25rem',\n    iconSizeLarge: '1.625rem',\n    iconPlusTextMargin: spacing.xSmall,\n    iconInverseColor: colors.textLightest,\n    iconInverseHoverColor: colors.textLightest,\n    iconInverseFocusBoxShadow: \"\".concat(focusShadow, \" \").concat(colors.borderLightest),\n    fluidWidthLineHeight: typography.lineHeightFit\n  }, buttonVariant('default', colors.backgroundLight, colors.textDarkest), {}, buttonVariant('primary', colors.backgroundBrand, colors.textLightest), {}, buttonVariant('success', colors.backgroundSuccess, colors.textLightest), {}, buttonVariant('danger', colors.backgroundDanger, colors.textLightest), {}, buttonVariant('circleDefault', colors.backgroundLight, colors.textDarkest), {}, buttonVariant('circlePrimary', colors.backgroundBrand, colors.textLightest), {}, buttonVariant('circleDanger', colors.backgroundDanger, colors.textLightest));\n}\n\ngenerator['canvas'] = function () {\n  var variables = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  return _objectSpread({\n    focusBorder: \"\".concat(focusOutline, \" \").concat(variables['ic-brand-primary']),\n    ghostBorderColor: variables['ic-brand-button--primary-bgd'],\n    ghostColor: variables['ic-brand-button--primary-bgd'],\n    ghostHoverBackground: alpha(variables['ic-brand-button--primary-bgd'], 10),\n    ghostActiveBoxShadow: \"inset 0 0 1px 1px \".concat(alpha(variables['ic-brand-button--primary-bgd'], 20)),\n    linkColor: variables['ic-link-color'],\n    linkHoverColor: darken(variables['ic-link-color'], 10),\n    iconHoverColor: variables['ic-brand-primary'],\n    iconFocusBoxShadow: \"\".concat(focusShadow, \" \").concat(variables['ic-brand-primary'])\n  }, buttonVariant('primary', variables['ic-brand-button--primary-bgd'], variables['ic-brand-button--primary-text']), {}, buttonVariant('circlePrimary', variables['ic-brand-button--primary-bgd'], variables['ic-brand-button--primary-text']));\n};\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},\n      _ref3$colors = _ref3.colors,\n      colors = _ref3$colors === void 0 ? {} : _ref3$colors;\n\n  return {\n    defaultBorderColor: colors.borderMedium,\n    lightBorderColor: colors.borderMedium,\n    circleDefaultBorderColor: colors.borderMedium,\n    linkTextDecoration: 'underline',\n    linkFocusBorderColor: colors.borderBrand\n  };\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { testable } from '@instructure/ui-testable';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { getInteraction, passthroughProps, deprecated } from '@instructure/ui-react-utils';\nimport { BaseButton } from '../BaseButton';\nimport { DeprecatedButton } from '../DeprecatedButton';\nimport { themeAdapter } from './themeAdapter';\nimport generateDeprecatedTheme from '../DeprecatedButton/theme';\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Button = (_dec = deprecated('8.0.0', {\n  buttonRef: 'elementRef',\n  fluidWidth: 'display',\n  icon: 'renderIcon',\n  variant: null\n}, 'See the following upgrade guide for more help updating https://instructure.design/#button-upgrade-guide'), _dec2 = testable(), _dec3 = themeable(theme, null, themeAdapter), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Button, _Component);\n\n  function Button() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Button);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Button)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._buttonComponent = null;\n\n    _this.handleElementRef = function (el) {\n      var _this$props = _this.props,\n          elementRef = _this$props.elementRef,\n          buttonRef = _this$props.buttonRef;\n      elementRef(el);\n\n      if (typeof buttonRef === 'function') {\n        buttonRef(el);\n      }\n    };\n\n    _this.handleButtonRef = function (component) {\n      _this._buttonComponent = component;\n    };\n\n    _this.scopeTheme = function () {\n      // TODO: Remove this function in version 8.0.0\n      // We only want to pass the theme vars that exist in the deprecated\n      // button, otherwise every theme var that is unique to the updated\n      // button gets injected into the style tag for the deprecated one\n      // (that ends up being a _massive_ amount of variables)\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          _assertThisInitialize2 = _assertThisInitialize.theme,\n          theme = _assertThisInitialize2 === void 0 ? {} : _assertThisInitialize2;\n\n      var deprecatedTheme = generateDeprecatedTheme() || {};\n      var deprecatedKeys = Object.keys(deprecatedTheme);\n      return Object.entries(theme).reduce(function (result, _ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (deprecatedKeys.includes(key)) {\n          return _objectSpread({}, result, _defineProperty({}, key, value));\n        }\n\n        return result;\n      }, {});\n    };\n\n    return _this;\n  }\n\n  _createClass(Button, [{\n    key: \"focus\",\n    value: function focus() {\n      this._buttonComponent && this._buttonComponent.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          type = _this$props2.type,\n          size = _this$props2.size,\n          as = _this$props2.as,\n          color = _this$props2.color,\n          focusColor = _this$props2.focusColor,\n          display = _this$props2.display,\n          textAlign = _this$props2.textAlign,\n          withBackground = _this$props2.withBackground,\n          margin = _this$props2.margin,\n          cursor = _this$props2.cursor,\n          href = _this$props2.href,\n          icon = _this$props2.icon,\n          renderIcon = _this$props2.renderIcon,\n          variant = _this$props2.variant,\n          fluidWidth = _this$props2.fluidWidth,\n          props = _objectWithoutProperties(_this$props2, [\"children\", \"type\", \"size\", \"as\", \"color\", \"focusColor\", \"display\", \"textAlign\", \"withBackground\", \"margin\", \"cursor\", \"href\", \"icon\", \"renderIcon\", \"variant\", \"fluidWidth\"]);\n\n      var interaction = getInteraction({\n        props: props\n      });\n      var _this$theme = this.theme,\n          theme = _this$theme === void 0 ? {} : _this$theme;\n\n      if (variant) {\n        return React.createElement(DeprecatedButton, Object.assign({}, passthroughProps(props), {\n          type: type,\n          size: size,\n          as: as,\n          disabled: interaction === 'disabled',\n          readOnly: interaction === 'readonly',\n          margin: margin,\n          cursor: cursor,\n          href: href,\n          icon: renderIcon || icon,\n          fluidWidth: fluidWidth,\n          variant: variant,\n          buttonRef: this.handleElementRef,\n          ref: this.handleButtonRef,\n          theme: this.scopeTheme()\n        }), children);\n      }\n\n      var buttonProps = _objectSpread({}, passthroughProps(props), {\n        type: type,\n        size: size,\n        elementRef: this.handleElementRef,\n        ref: this.handleButtonRef,\n        as: as,\n        color: color,\n        interaction: interaction,\n        focusColor: focusColor,\n        display: display,\n        textAlign: textAlign,\n        withBackground: withBackground,\n        margin: margin,\n        cursor: cursor,\n        href: href,\n        renderIcon: renderIcon || icon,\n        theme: theme,\n        __dangerouslyIgnoreExperimentalWarnings: true\n      });\n\n      if (fluidWidth) {\n        buttonProps.textAlign = 'start';\n        buttonProps.display = 'block';\n      }\n\n      return React.createElement(BaseButton, buttonProps, children);\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return this._buttonComponent && this._buttonComponent.focused;\n    }\n  }]);\n\n  Button.displayName = \"Button\";\n  return Button;\n}(Component), _class2.propTypes = {\n  /**\n   * Specifies the `Button` children.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Specifies the type of the `Button`'s underlying html element.\n   */\n  type: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n  /**\n   * The size of the `Button`\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Provides a reference to the `Button`'s underlying html element.\n   */\n  elementRef: PropTypes.func,\n\n  /**\n   * The element to render as the component root, `Button` by default.\n   */\n  as: PropTypes.elementType,\n\n  /**\n   * Specifies if interaction with the `Button` is enabled, disabled, or readonly.\n   */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n   * Specifies the color for the `Button`.\n   */\n  color: PropTypes.oneOf(['primary', 'primary-inverse', 'secondary', 'success', 'danger']),\n\n  /**\n   * Override the `Button`'s default focus outline color.\n   */\n  focusColor: PropTypes.oneOf(['info', 'inverse']),\n\n  /**\n   * The `Button` display property. When set to `inline-block`, the `Button` displays inline with other elements.\n   * When set to block, the `Button` expands to fill the width of the container.\n   */\n  display: PropTypes.oneOf(['inline-block', 'block']),\n\n  /**\n   * Sets the alignment of the `Button` children and/or icon.\n   */\n  textAlign: PropTypes.oneOf(['start', 'center']),\n\n  /**\n   * Specifies if the `Button` should render with a solid background. When false, the background is transparent.\n   */\n  withBackground: PropTypes.bool,\n\n  /**\n   * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n   * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n   * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n   */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the button.\n   * The `pointer` cursor is used by default.\n   */\n  cursor: PropTypes.string,\n\n  /**\n   * Specifies an href attribute for the `Button`'s underlying html element.\n   */\n  href: PropTypes.string,\n\n  /**\n   * An icon, or function that returns an icon.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * __Deprecated - use `elementRef` instead (See the [upgrade guide](#button-upgrade-guide/#v8-button-upgrade-guide-props-that-need-to-be-upgraded) for more details)__\n   */\n  buttonRef: PropTypes.func,\n\n  /**\n   * __Deprecated - see the [upgrade guide](#button-upgrade-guide/#v8-button-upgrade-guide-upgrading-variant-default,-primary,-success,-danger,-light,-ghost,-or-ghost-inverse)__\n   */\n  variant: PropTypes.oneOf(['default', 'primary', 'success', 'danger', 'light', 'ghost', 'ghost-inverse', 'link', 'link-inverse', 'circle-default', 'circle-primary', 'circle-danger', 'icon', 'icon-inverse']),\n\n  /**\n   * __Deprecated - set `display=\"block\"` and `textAlign=\"start\"` instead (See the [upgrade guide](#button-upgrade-guide/#v8-button-upgrade-guide-props-that-need-to-be-upgraded) for more details)__\n   */\n  fluidWidth: PropTypes.bool,\n\n  /**\n   * __Deprecated - use `renderIcon` instead (See the [upgrade guide](#button-upgrade-guide/#v8-button-upgrade-guide-props-that-need-to-be-upgraded) for more details)__\n   */\n  icon: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n}, _class2.defaultProps = {\n  children: null,\n  type: 'button',\n  size: 'medium',\n  elementRef: function elementRef(el) {},\n  as: 'button',\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  // TODO: Switch to 'secondary' in 8.0 when we drop variant\n  color: void 0,\n  focusColor: void 0,\n  display: 'inline-block',\n  textAlign: 'center',\n  withBackground: true,\n  margin: '0',\n  cursor: 'pointer',\n  href: void 0,\n  renderIcon: void 0,\n  buttonRef: void 0,\n  variant: void 0,\n  fluidWidth: void 0,\n  icon: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default Button;\nexport { Button };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { createThemeAdapter } from '@instructure/ui-themeable';\nvar map = {\n  smallPadding: 'smallPaddingHorizontal',\n  mediumPadding: 'mediumPaddingHorizontal',\n  largePadding: 'largePaddingHorizontal',\n  defaultBackground: 'secondaryBackground',\n  defaultBorderColor: 'secondaryBorderColor',\n  defaultColor: 'secondaryColor',\n  defaultHoverBackground: 'secondaryHoverBackground',\n  defaultActiveBackground: 'secondaryActiveBackground',\n  defaultActiveBoxShadow: 'secondaryActiveBoxShadow'\n};\nexport var themeAdapter = createThemeAdapter({\n  map: map,\n  version: '8.0.0',\n  shouldIncludeOldValues: true\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport baseThemeGenerator, { activeShadow, generateButtonThemeVars } from '../BaseButton/theme';\nimport { alpha } from '@instructure/ui-color-utils';\nexport default function generator() {\n  return baseThemeGenerator.apply(void 0, arguments);\n}\n/**\n * We need to copy the theme-specific overrides from `BaseButton` before adding\n * theme-specific overrides that only apply to `Button`\n */\n\nObject.assign(generator, baseThemeGenerator);\n\ngenerator['canvas-ams'] = function (_ref) {\n  var colors = _ref.colors;\n  return _objectSpread({}, generateButtonThemeVars({\n    style: 'secondary',\n    borderColor: colors.borderBrand,\n    backgroundColor: 'transparent',\n    textColor: colors.fullyAccessibleBrand\n  }), {\n    secondaryHoverBackground: alpha(colors.fullyAccessibleBrand, 10),\n    secondaryActiveBackground: 'transparent',\n    secondaryActiveBoxShadow: \"\".concat(activeShadow, \" \").concat(alpha(colors.fullyAccessibleBrand, 28)),\n    // Overrides for primary ghost button\n    primaryGhostColor: colors.textDarkest,\n    primaryGhostBorderColor: colors.textDarkest,\n    primaryGhostHoverBackground: alpha(colors.textDarkest, 10),\n    primaryGhostActiveBackground: 'transparent',\n    primaryGhostActiveBoxShadow: \"\".concat(activeShadow, \" \").concat(alpha(colors.textDarkest, 28))\n  });\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1903.483 807.19c22.023 22.023 22.023 57.712 0 79.848l-677.638 677.637c-10.616 10.504-24.96 16.49-39.98 16.49h-225.88c-31.17 0-56.469-25.299-56.469-56.47v-225.88c0-15.02 5.986-29.364 16.49-39.867l677.636-677.637c22.137-22.136 57.825-22.136 79.962 0l225.879 225.879zM1668.23 962.482l115.424-115.424-146.031-146.031-115.424 115.424 146.03 146.03zm-505.744 505.743l425.895-425.895-146.03-146.03-425.895 425.894v146.031h146.03zM0 0h1468.214v564.698h-112.94V112.94H112.94v1694.092h1242.334v-225.879h112.94v338.819H0V0zm338.819 790.588V338.83h790.576v451.758H338.82zm112.94-112.94h564.697V451.77H451.758v225.88zm-112.94 451.758v-112.94h564.697v112.94H338.82zm0 225.88v-112.94h338.818v112.94H338.82z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconAssignmentLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconAssignmentLine, _Component);\n\n  function IconAssignmentLine() {\n    _classCallCheck(this, IconAssignmentLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconAssignmentLine).apply(this, arguments));\n  }\n\n  _createClass(IconAssignmentLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconAssignment\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconAssignmentLine.displayName = \"IconAssignmentLine\";\n  return IconAssignmentLine;\n}(Component);\n\nIconAssignmentLine.glyphName = 'assignment';\nIconAssignmentLine.variant = 'Line';\nIconAssignmentLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconAssignmentLine;\nexport { IconAssignmentLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n}, React.createElement(\"path\", {\n  d: \"M0 1549.71l414.504-414.503 80.598 80.598-414.504 414.504L0 1549.71zm580.351-248.782l80.598 80.598-331.626 331.626-80.598-80.598 331.626-331.626zm-82.844 414.584l248.748-248.748 80.484 80.712-248.748 248.634-80.484-80.598zm1376.38-1601.848c1.823 3.648 180.005 372.438-176.587 729.03l-146.604 146.604-2.622 665.874-222.642 222.642-331.626-331.512-30.552-30.552-9.804-9.804-537.738-537.738-331.626-331.74 222.642-222.642 665.874-2.508L1119.32 264.6c356.478-356.478 725.268-178.296 729.03-176.472l17.1 8.436 8.436 17.1zm-439.585 1494.084l1.938-503.994-361.836 361.95 251.028 250.914 108.87-108.87zm-1189.02-971.28L496.31 887.61l361.836-361.836-503.994 1.824-108.87 108.87zm1371.42 125.628c256.956-256.956 187.986-511.176 162.564-579.69-69.084-25.992-321.366-95.304-579.348 162.792l-623.01 623.01 416.898 416.898 622.896-623.01z\"\n}), React.createElement(\"path\", {\n  d: \"M1534.987 372.558c-51.072-1.368-131.67 12.768-213.294 94.392l-40.47 40.356 173.394 173.28 40.356-40.242c82.194-82.308 96.9-161.31 94.848-213.18l-2.166-52.554-52.668-2.052z\"\n}));\n\nvar IconQuizLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconQuizLine, _Component);\n\n  function IconQuizLine() {\n    _classCallCheck(this, IconQuizLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconQuizLine).apply(this, arguments));\n  }\n\n  _createClass(IconQuizLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconQuiz\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconQuizLine.displayName = \"IconQuizLine\";\n  return IconQuizLine;\n}(Component);\n\nIconQuizLine.glyphName = 'quiz';\nIconQuizLine.variant = 'Line';\nIconQuizLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconQuizLine;\nexport { IconQuizLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M677.647 16v338.936h112.941V129.054h1016.47V919.53h-225.994v259.765L1321.412 919.53h-79.172V467.878H0v1016.47h338.71v418.9l417.996-418.9h485.534v-451.877h32.753l419.125 419.124v-419.124H1920V16H677.647zM338.79 919.563h564.706v-112.94H338.79v112.94zm0 225.883h338.936v-113.054H338.79v113.054zM112.94 580.706h1016.47v790.701H710.4L451.652 1631.06v-259.652h-338.71V580.706z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconDiscussionLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconDiscussionLine, _Component);\n\n  function IconDiscussionLine() {\n    _classCallCheck(this, IconDiscussionLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconDiscussionLine).apply(this, arguments));\n  }\n\n  _createClass(IconDiscussionLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconDiscussion\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconDiscussionLine.displayName = \"IconDiscussionLine\";\n  return IconDiscussionLine;\n}(Component);\n\nIconDiscussionLine.glyphName = 'discussion';\nIconDiscussionLine.variant = 'Line';\nIconDiscussionLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconDiscussionLine;\nexport { IconDiscussionLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1920 847.053c0 136.32-97.13 250.503-225.882 276.705v513.883c0 26.202-17.958 49.016-43.483 55.002a57.279 57.279 0 0 1-12.988 1.468c-21.12 0-40.772-11.745-50.485-31.171C1379.238 1247.203 964.18 1242.347 960 1242.347H564.706v564.706h87.755c-11.859-90.127-17.506-247.003 63.473-350.683 52.405-67.087 129.657-101.082 229.948-101.082v112.941c-64.49 0-110.57 18.861-140.837 57.487-68.781 87.868-45.064 263.83-30.269 324.254 4.18 16.828.34 34.673-10.277 48.34-10.73 13.665-27.219 21.684-44.499 21.684H508.235c-31.171 0-56.47-25.186-56.47-56.47v-621.177h-56.47c-155.747 0-282.354-126.607-282.354-282.353v-56.47h-56.47C25.299 903.523 0 878.336 0 847.052c0-31.172 25.299-56.471 56.47-56.471h56.471v-56.47c0-155.634 126.607-282.354 282.353-282.354h564.593c16.941-.112 420.48-7.002 627.275-420.48 11.52-23.491 37.27-35.689 63.473-29.816 25.525 6.099 43.483 28.8 43.483 55.002V570.46C1822.87 596.662 1920 710.733 1920 847.053zm-225.882 159.02c65.618-23.378 112.94-85.496 112.94-159.02 0-73.525-47.322-135.53-112.94-158.909v317.93zm-112.942 438.438V249.707c-194.71 242.371-452.216 298.164-564.705 311.04v572.724c112.489 12.876 369.995 68.556 564.705 311.04zM903.53 1129.406V564.7H395.294c-93.402 0-169.412 76.01-169.412 169.411v225.883c0 93.402 76.01 169.412 169.412 169.412H903.53z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconAnnouncementLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconAnnouncementLine, _Component);\n\n  function IconAnnouncementLine() {\n    _classCallCheck(this, IconAnnouncementLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconAnnouncementLine).apply(this, arguments));\n  }\n\n  _createClass(IconAnnouncementLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconAnnouncement\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconAnnouncementLine.displayName = \"IconAnnouncementLine\";\n  return IconAnnouncementLine;\n}(Component);\n\nIconAnnouncementLine.glyphName = 'announcement';\nIconAnnouncementLine.variant = 'Line';\nIconAnnouncementLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconAnnouncementLine;\nexport { IconAnnouncementLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1637.706 112.941c93.403 0 169.412 76.01 169.412 169.412V1920H113V282.353c0-93.402 76.009-169.412 169.412-169.412h169.41v-56.47c0-31.172 25.3-56.47 56.472-56.47s56.47 25.298 56.47 56.47v56.47h790.589v-56.47c0-31.172 25.299-56.47 56.47-56.47 31.172 0 56.47 25.298 56.47 56.47v56.47h169.413zm56.47 338.824V282.353c0-31.172-25.411-56.47-56.47-56.47h-169.412v56.47c0 31.172-25.3 56.471-56.47 56.471-31.172 0-56.471-25.299-56.471-56.47v-56.472H564.765v56.471c0 31.172-25.3 56.471-56.471 56.471-31.171 0-56.471-25.299-56.471-56.47v-56.472H282.412c-31.06 0-56.47 25.3-56.47 56.471v169.412h1468.234zM225.942 1807.058h1468.234V564.705H225.942v1242.353zm112.94-677.646V790.588h338.824v338.824H338.882zm112.942-112.941h112.941V903.53H451.824v112.941zm338.823 112.941V790.588h338.824v338.824H790.647zm112.941-112.941h112.941V903.53H903.588v112.941zm338.824 112.941V790.588h338.823v338.824h-338.823zm112.941-112.941h112.941V903.53h-112.941v112.941zM338.882 1581.177v-338.824h338.824v338.824H338.882zm112.942-112.942h112.941v-112.941H451.824v112.941zm338.823 112.942v-338.824h338.824v338.824H790.647zm112.941-112.942h112.941v-112.941H903.588v112.941zm338.824 112.942v-338.824h338.823v338.824h-338.823zm112.941-112.942h112.941v-112.941h-112.941v112.941z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconCalendarMonthLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconCalendarMonthLine, _Component);\n\n  function IconCalendarMonthLine() {\n    _classCallCheck(this, IconCalendarMonthLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconCalendarMonthLine).apply(this, arguments));\n  }\n\n  _createClass(IconCalendarMonthLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconCalendarMonth\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconCalendarMonthLine.displayName = \"IconCalendarMonthLine\";\n  return IconCalendarMonthLine;\n}(Component);\n\nIconCalendarMonthLine.glyphName = 'calendar-month';\nIconCalendarMonthLine.variant = 'Line';\nIconCalendarMonthLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconCalendarMonthLine;\nexport { IconCalendarMonthLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1706.235 1807.059H350.941V112.94h903.53v451.765h451.764v1242.353zm-338.823-1670.74l315.443 315.447h-315.443V136.32zm402.182 242.487L1440.372 49.58C1408.296 17.62 1365.717 0 1320.542 0H238v1920h1581.175V498.635c0-45.176-17.618-87.755-49.58-119.83zM576.823 1242.353h790.589v-112.94H576.823v112.94zm0-451.765h903.53V677.647h-903.53v112.941zm0 677.647h451.765v-112.941H576.823v112.941zm0-451.764h677.648V903.53H576.823v112.941zm0-451.765h451.765V451.765H576.823v112.941z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconDocumentLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconDocumentLine, _Component);\n\n  function IconDocumentLine() {\n    _classCallCheck(this, IconDocumentLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconDocumentLine).apply(this, arguments));\n  }\n\n  _createClass(IconDocumentLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconDocument\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconDocumentLine.displayName = \"IconDocumentLine\";\n  return IconDocumentLine;\n}(Component);\n\nIconDocumentLine.glyphName = 'document';\nIconDocumentLine.variant = 'Line';\nIconDocumentLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconDocumentLine;\nexport { IconDocumentLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1281.536 1465.487c-118.756 82.552-340.248 201.842-634.147 187.745-237.831-11.213-422.266-104.872-540.594-187.638v-150.9c0-128.048 81.804-238.26 194.473-261.968 113.416-23.815 229.502-37.485 344.947-40.369 146.522-3.844 295.928 9.825 441.168 40.476 112.455 23.708 194.153 133.813 194.153 261.967v150.687zM427.179 638.576v-6.942c45.815-12.388 75.076-39.193 98.037-60.445 26.699-24.563 42.825-39.408 80.31-39.408 36.737 0 52.65 14.738 79.028 39.194 31.077 28.514 73.581 67.601 152.716 67.601 57.776 0 95.475-21.252 123.882-43.786v43.786c0 147.27-119.717 266.987-266.987 266.987-147.27 0-266.986-119.717-266.986-266.987zm266.986-373.781c123.241 0 226.191 84.367 256.842 198.104-13.243 9.718-24.67 20.184-35.35 30.01-26.271 24.241-41.97 38.872-78.387 38.872-37.485 0-53.61-14.844-80.31-39.407-30.756-28.407-73.047-67.387-151.434-67.387-79.135 0-121.64 39.193-152.717 67.707-8.65 8.01-16.232 14.525-23.708 20.291 9.825-138.299 124.309-248.19 265.064-248.19zm415.218 683.592c-57.028-12.067-114.804-20.825-172.58-27.873 79.669-68.562 131.144-168.842 131.144-281.938V531.781C1067.947 325.774 900.279 158 694.165 158c-206.113 0-373.781 167.774-373.781 373.781v106.795c0 112.882 51.261 212.949 130.717 281.618-57.67 6.941-115.125 16.126-171.833 28.087C117.474 982.24 0 1136.346 0 1314.693v205.26l21.68 16.019c128.794 94.94 340.995 210.812 620.69 223.948 17.194.748 34.174 1.175 50.941 1.175 317.5 0 556.08-139.154 673.234-225.123l21.786-15.913V1314.8c0-178.346-117.368-332.45-278.948-366.412zm399.818-256.37h-120.892V571.23l225.764-225.764 120.785 120.785-225.657 225.764zm389.48-341.85L1730.16 181.75c-27.446-27.553-75.29-27.873-103.27-.107l-324.336 324.229c-13.563 13.776-21.038 32.038-21.038 51.368v241.57h241.57c19.222 0 37.27-7.37 51.688-21.36l324.015-324.014c28.3-28.408 28.3-74.756-.107-103.27z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconPeerReviewLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconPeerReviewLine, _Component);\n\n  function IconPeerReviewLine() {\n    _classCallCheck(this, IconPeerReviewLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconPeerReviewLine).apply(this, arguments));\n  }\n\n  _createClass(IconPeerReviewLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconPeerReview\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconPeerReviewLine.displayName = \"IconPeerReviewLine\";\n  return IconPeerReviewLine;\n}(Component);\n\nIconPeerReviewLine.glyphName = 'peer-review';\nIconPeerReviewLine.variant = 'Line';\nIconPeerReviewLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconPeerReviewLine;\nexport { IconPeerReviewLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1803.305 1337.072L1919.958 1920l-582.928-116.653-950.128-950.015 79.15-79.15 801.792 801.68 307.977-307.976-907.362-907.474L281.22 747.65 49.034 515.464c-65.379-65.603-65.379-172.069 0-237.448l228.94-228.94c65.267-65.379 171.733-65.49 237.448 0l232.186 232.187 1055.697 1055.809zm-411.196 363.056l385 77.023-77.023-385-45.116-45.116-307.977 307.977 45.117 45.116zM281.222 589.352l308.089-308.09-59.11-59.11-93.927-93.926c-10.972-10.971-25.301-16.345-39.63-16.345-14.33 0-28.548 5.374-39.52 16.345l-228.94 228.94c-21.718 21.718-21.718 57.318 0 79.149l153.038 153.037zm394.134 6.907l692.304 692.304-79.149 79.15-692.304-692.305 79.149-79.15z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconEditLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconEditLine, _Component);\n\n  function IconEditLine() {\n    _classCallCheck(this, IconEditLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconEditLine).apply(this, arguments));\n  }\n\n  _createClass(IconEditLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconEdit\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconEditLine.displayName = \"IconEditLine\";\n  return IconEditLine;\n}(Component);\n\nIconEditLine.glyphName = 'edit';\nIconEditLine.variant = 'Line';\nIconEditLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconEditLine;\nexport { IconEditLine };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { px } from '@instructure/ui-utils';\n/**\n * ---\n * category: utilities/layout\n * ---\n *\n * Given a valid json query object, converts it to a standard media query\n * string. Valid queries should be an object consisting of exactly one of\n * the following `minWidth`, `maxWidth`, `minHeight`, or `maxHeight` and\n * a value as a string or number.\n *\n * Example input\n * ```js\n * { minWidth: 350 }\n * ```\n * Example output\n * ```js\n * '(min-width: 350px)'\n * ```\n *\n * @param {Object} query - an object consisting of the query type and value\n * @param {ReactComponent|DomNode} el - component or DOM node which will be\n *  passed to the pixel conversion if the unit type is `em`\n * @returns {string} media query string\n */\n\nfunction jsonToMediaQuery(query, el) {\n  // Ensure the query is of the correct form\n  var keys = Object.keys(query);\n\n  if (keys.length !== 1) {\n    throw new Error('Expected exactly one key in query object.');\n  }\n\n  var key = keys[0];\n  var validKeys = ['minHeight', 'maxHeight', 'minWidth', 'maxWidth'];\n\n  if (validKeys.indexOf(key) === -1) {\n    throw new Error(\"Invalid key `\".concat(key, \"` in query object. Valid keys should consist of one of the following: \") + \"\".concat(validKeys.join(', '), \" (case sensitive)\"));\n  }\n\n  var value = query[key];\n\n  if (typeof value !== 'string' && typeof value !== 'number') {\n    throw new Error('The value of the query object must be a string or number.');\n  }\n\n  if (!value) {\n    throw new Error('No value supplied for query object');\n  }\n\n  return \"(\".concat(hyphenateQueryKey(key.toLowerCase()), \": \").concat(px(value, el), \"px)\");\n}\n\nfunction hyphenateQueryKey(key) {\n  return key.slice(0, 3) + '-' + key.slice(3);\n}\n\nexport default jsonToMediaQuery;\nexport { jsonToMediaQuery };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { LayoutPropTypes } from '@instructure/ui-layout';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { deprecated, safeCloneElement } from '@instructure/ui-react-utils';\nimport { uid } from '@instructure/uid';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'cnWSA',\n  template: function template(theme) {\n    return \"\\n\\n.cnWSA_bcSS{border-radius:\".concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";pointer-events:none;text-align:center;white-space:nowrap}\\n\\n[dir=ltr] .cnWSA_bcSS,[dir=rtl] .cnWSA_bcSS{text-align:center}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa){position:absolute;z-index:\").concat(theme.notificationZIndex || 'inherit', \"}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_dDWY.cnWSA_bXWC{top:calc(-1*\").concat(theme.countOffset || 'inherit', \")}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_dDWY.cnWSA_KksD{top:\").concat(theme.notificationOffset || 'inherit', \"}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bPSM.cnWSA_bXWC{bottom:calc(-1*\").concat(theme.countOffset || 'inherit', \")}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bPSM.cnWSA_KksD{bottom:\").concat(theme.notificationOffset || 'inherit', \"}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_bXWC{inset-inline-end:auto;inset-inline-start:calc(-1*\").concat(theme.countOffset || 'inherit', \")}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_bXWC{left:calc(-1*\").concat(theme.countOffset || 'inherit', \");right:auto}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_bXWC{left:auto;right:calc(-1*\").concat(theme.countOffset || 'inherit', \")}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_KksD{inset-inline-end:auto;inset-inline-start:\").concat(theme.notificationOffset || 'inherit', \"}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_KksD{left:\").concat(theme.notificationOffset || 'inherit', \";right:auto}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_fcMK.cnWSA_KksD{left:auto;right:\").concat(theme.notificationOffset || 'inherit', \"}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_bXWC{inset-inline-end:calc(-1*\").concat(theme.countOffset || 'inherit', \");inset-inline-start:auto}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_bXWC{left:auto;right:calc(-1*\").concat(theme.countOffset || 'inherit', \")}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_bXWC{left:calc(-1*\").concat(theme.countOffset || 'inherit', \");right:auto}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_KksD{inset-inline-end:\").concat(theme.notificationOffset || 'inherit', \";inset-inline-start:auto}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_KksD{left:auto;right:\").concat(theme.notificationOffset || 'inherit', \"}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_bXgF.cnWSA_KksD{left:\").concat(theme.notificationOffset || 'inherit', \";right:auto}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_bXWC,.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_bXWC{top:calc(50% - \").concat(theme.size || 'inherit', \"/2)}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_KksD,.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_KksD{top:calc(50% - \").concat(theme.sizeNotification || 'inherit', \"/2)}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_bXWC{inset-inline-end:calc(100% - \").concat(theme.countOffset || 'inherit', \");inset-inline-start:auto}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_bXWC{left:auto;right:calc(100% - \").concat(theme.countOffset || 'inherit', \")}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_bXWC{left:calc(100% - \").concat(theme.countOffset || 'inherit', \");right:auto}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_KksD{inset-inline-end:auto;inset-inline-start:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2)}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_KksD{left:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2);right:auto}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_fcMK.cnWSA_KksD{left:auto;right:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2)}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_bXWC{inset-inline-end:auto;inset-inline-start:calc(100% - \").concat(theme.countOffset || 'inherit', \")}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_bXWC{left:calc(100% - \").concat(theme.countOffset || 'inherit', \");right:auto}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_bXWC{left:auto;right:calc(100% - \").concat(theme.countOffset || 'inherit', \")}\\n\\n.cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_KksD{inset-inline-end:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2);inset-inline-start:auto}\\n\\n[dir=ltr] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_KksD{left:auto;right:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2)}\\n\\n[dir=rtl] .cnWSA_bcSS:not(.cnWSA_bBTa).cnWSA_eCdq.cnWSA_bXgF.cnWSA_KksD{left:calc(-1*\").concat(theme.sizeNotification || 'inherit', \"/2);right:auto}\\n\\n.cnWSA_bcSS.cnWSA_bXWC{-webkit-padding-end:\").concat(theme.padding || 'inherit', \";-webkit-padding-start:\").concat(theme.padding || 'inherit', \";line-height:\").concat(theme.size || 'inherit', \";min-width:\").concat(theme.size || 'inherit', \";padding-inline-end:\").concat(theme.padding || 'inherit', \";padding-inline-start:\").concat(theme.padding || 'inherit', \"}\\n\\n[dir=ltr] .cnWSA_bcSS.cnWSA_bXWC{padding-left:\").concat(theme.padding || 'inherit', \";padding-right:\").concat(theme.padding || 'inherit', \"}\\n\\n[dir=rtl] .cnWSA_bcSS.cnWSA_bXWC{padding-left:\").concat(theme.padding || 'inherit', \";padding-right:\").concat(theme.padding || 'inherit', \"}\\n\\n.cnWSA_bcSS.cnWSA_KksD{height:\").concat(theme.sizeNotification || 'inherit', \";width:\").concat(theme.sizeNotification || 'inherit', \"}\\n\\n.cnWSA_zGXc{background-color:\").concat(theme.colorDanger || 'inherit', \"}\\n\\n.cnWSA_zGXc.cnWSA_fdSp:before{border-color:\").concat(theme.colorDanger || 'inherit', \"}\\n\\n.cnWSA_cOXX{background-color:\").concat(theme.colorSuccess || 'inherit', \"}\\n\\n.cnWSA_cOXX.cnWSA_fdSp:before{border-color:\").concat(theme.colorSuccess || 'inherit', \"}\\n\\n.cnWSA_bXiG{background-color:\").concat(theme.colorPrimary || 'inherit', \"}\\n\\n.cnWSA_bXiG.cnWSA_fdSp:before{border-color:\").concat(theme.colorPrimary || 'inherit', \"}\\n\\n@keyframes cnWSA_fdSp{to{opacity:0.9;transform:scale(1)}}\\n\\n.cnWSA_fdSp{position:relative}\\n\\n.cnWSA_fdSp:before{animation-direction:alternate;animation-duration:1s;animation-iteration-count:4;animation-name:cnWSA_fdSp;border:\").concat(theme.pulseBorderThickness || 'inherit', \" solid;border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;content:\\\"\\\";height:calc(100% + 0.5rem);inset-inline-end:auto;inset-inline-start:-0.25rem;opacity:0;position:absolute;top:-0.25rem;transform:scale(0.75);width:calc(100% + 0.5rem)}\\n\\n[dir=ltr] .cnWSA_fdSp:before{left:-0.25rem;right:auto}\\n\\n[dir=rtl] .cnWSA_fdSp:before{left:auto;right:-0.25rem}\\n\\n.cnWSA_gasz{box-sizing:border-box;position:relative}\\n\\n.cnWSA_gasz svg{display:block}\");\n  },\n  'badge': 'cnWSA_bcSS',\n  'standalone': 'cnWSA_bBTa',\n  'positioned--top': 'cnWSA_dDWY',\n  'count': 'cnWSA_bXWC',\n  'notification': 'cnWSA_KksD',\n  'positioned--bottom': 'cnWSA_bPSM',\n  'positioned--start': 'cnWSA_fcMK',\n  'positioned--end': 'cnWSA_bXgF',\n  'positioned--center': 'cnWSA_eCdq',\n  'danger': 'cnWSA_zGXc',\n  'pulse': 'cnWSA_fdSp',\n  'success': 'cnWSA_cOXX',\n  'primary': 'cnWSA_bXiG',\n  'wrapper': 'cnWSA_gasz'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedBadge\n---\n**/\n\nvar Badge = (_dec = deprecated('7.0.0', null, 'Use Badge from ui-badge instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Badge, _Component);\n\n  function Badge(props) {\n    var _this;\n\n    _classCallCheck(this, Badge);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Badge).call(this, props));\n    _this._defaultId = uid('Badge');\n    return _this;\n  }\n\n  _createClass(Badge, [{\n    key: \"countOverflow\",\n    value: function countOverflow() {\n      var _this$props = this.props,\n          count = _this$props.count,\n          countUntil = _this$props.countUntil;\n\n      if (countUntil > 1 && count >= countUntil) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"renderOutput\",\n    value: function renderOutput() {\n      var _this$props2 = this.props,\n          count = _this$props2.count,\n          countUntil = _this$props2.countUntil,\n          formatOverflowText = _this$props2.formatOverflowText,\n          formatOutput = _this$props2.formatOutput,\n          type = _this$props2.type; // If the badge count is >= than the countUntil limit, format the badge text\n      // via the formatOverflowText function prop\n\n      var formattedCount = type === 'count' && this.countOverflow() ? formatOverflowText(count, countUntil) : count;\n\n      if (typeof formatOutput === 'function') {\n        return formatOutput(formattedCount);\n      } else {\n        return type === 'count' ? formattedCount : null;\n      }\n    }\n  }, {\n    key: \"renderBadge\",\n    value: function renderBadge() {\n      var _classnames;\n\n      var _this$props3 = this.props,\n          count = _this$props3.count,\n          margin = _this$props3.margin,\n          pulse = _this$props3.pulse,\n          placement = _this$props3.placement,\n          standalone = _this$props3.standalone,\n          type = _this$props3.type,\n          variant = _this$props3.variant;\n      return React.createElement(View, {\n        margin: standalone ? margin : 'none',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.badge, true), _defineProperty(_classnames, styles[type], type), _defineProperty(_classnames, styles[variant], variant), _defineProperty(_classnames, styles['positioned--top'], placement.indexOf('top') > -1), _defineProperty(_classnames, styles['positioned--bottom'], placement.indexOf('bottom') > -1), _defineProperty(_classnames, styles['positioned--start'], placement.indexOf('start') > -1), _defineProperty(_classnames, styles['positioned--end'], placement.indexOf('end') > -1), _defineProperty(_classnames, styles['positioned--center'], placement.indexOf('center') > -1), _defineProperty(_classnames, styles.standalone, standalone), _defineProperty(_classnames, styles.pulse, pulse), _classnames)),\n        title: type === 'count' && this.countOverflow() ? count : null,\n        id: !standalone ? this._defaultId : null,\n        display: standalone ? 'inline-block' : 'block'\n      }, this.renderOutput());\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this2 = this;\n\n      return Children.map(this.props.children, function (child) {\n        return safeCloneElement(child, {\n          'aria-describedby': _this2._defaultId\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          margin = _this$props4.margin,\n          elementRef = _this$props4.elementRef,\n          standalone = _this$props4.standalone,\n          as = _this$props4.as;\n\n      if (standalone) {\n        return this.renderBadge();\n      } else {\n        return React.createElement(View, {\n          as: as,\n          margin: margin,\n          elementRef: elementRef,\n          className: styles.wrapper,\n          display: \"inline-block\"\n        }, this.renderChildren(), this.renderBadge());\n      }\n    }\n  }]);\n\n  Badge.displayName = \"Badge\";\n  return Badge;\n}(Component), _class2.propTypes = {\n  count: PropTypes.number,\n\n  /**\n   * The number at which the count gets truncated by\n   * formatOverflowText. For example, a countUntil of 100\n   * would stop the count at 99.\n  */\n  countUntil: PropTypes.number,\n  children: PropTypes.element,\n\n  /**\n   * Render Badge as a counter (`count`) or as a smaller dot (`notification`) with\n   * no count number displayed.\n  */\n  type: PropTypes.oneOf(['count', 'notification']),\n\n  /**\n   * Render Badge as an inline html element that is not positioned relative\n   * to a child.\n  */\n  standalone: PropTypes.bool,\n\n  /**\n   * Make the Badge slowly pulse twice to get the user's attention.\n  */\n  pulse: PropTypes.bool,\n  variant: PropTypes.oneOf(['primary', 'success', 'danger']),\n\n  /**\n  * Supported values are `top start`, `top end`, `end center`, `bottom end`,\n  * `bottom start`, and `start center`\n  */\n  placement: LayoutPropTypes.placement,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * provides a reference to the underlying html root element\n  */\n  elementRef: PropTypes.func,\n  formatOverflowText: PropTypes.func,\n  formatOutput: PropTypes.func,\n  as: PropTypes.elementType // eslint-disable-line react/require-default-props\n\n}, _class2.defaultProps = {\n  count: void 0,\n  children: null,\n  countUntil: void 0,\n  margin: void 0,\n  formatOutput: void 0,\n  standalone: false,\n  type: 'count',\n  variant: 'primary',\n  pulse: false,\n  placement: 'top end',\n  elementRef: function elementRef(el) {},\n  formatOverflowText: function formatOverflowText(count, countUntil) {\n    return \"\".concat(countUntil - 1, \" +\");\n  }\n}, _temp)) || _class) || _class) || _class);\nexport default Badge;\nexport { Badge };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport PropTypes from 'prop-types';\nimport { element } from '@instructure/ui-prop-types';\nimport { jsonToMediaQuery } from './jsonToMediaQuery';\nvar LayoutPropTypes = {\n  /**\n   * Verify that the given prop is a properly formatted query object\n   * with exactly one key and one corresponding valid value of type\n   * string or number. The object key should be one of `minWidth`,\n   * `maxWidth`, `minHeight`, or `maxHeight`. Note that key values\n   * should be camel cased.\n   *\n   *\n   * The following are examples of valid query objects:\n   *\n   * ```js\n   * { minWidth: 350 }\n   * { maxHeight: '400px' }\n   * { maxWidth: '20rem' }\n   * ```\n   *\n   * The following are examples of invalid query objects:\n   *\n   * ```js\n   * { minwidth: 300 } // should be minWidth (case sensitive)\n   * { minHeight: 200, maxHeight: 300 } // should consist of exactly one key\n   * ```\n   * @param {Object} props - object containing the component props\n   * @param {string} propName - name of the given prop\n   * @param {string} componentName - name of the component\n   * @returns {Error} if prop is an invalid query\n   */\n  validQuery: function validQuery(props, propName, componentName) {\n    try {\n      jsonToMediaQuery(props[propName]);\n    } catch (e) {\n      return new Error(\"Invalid query prop supplied to `\".concat(componentName, \"`. \").concat(e.message));\n    }\n  },\n\n  /**\n   * The placement of the content in relation to the trigger\n   */\n  placement: PropTypes.oneOf(['top', 'end', 'bottom', 'start', 'top start', 'start top', 'start center', 'start bottom', 'bottom start', 'bottom center', 'bottom end', 'end bottom', 'end center', 'end top', 'top end', 'top center', 'center end', 'center start', 'top stretch', 'bottom stretch', 'end stretch', 'start stretch', 'offscreen']),\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * The parent in which to constrain a placement\n   */\n  constrain: PropTypes.oneOfType([element, PropTypes.func, PropTypes.oneOf(['window', 'scroll-parent', 'parent', 'none'])])\n};\nexport default LayoutPropTypes;\nexport {\n/**\n* ---\n* category: utilities/layout\n* ---\n* Custom prop types for `ui-layout` components.\n* @module LayoutPropTypes\n*/\nLayoutPropTypes };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      stacking = _ref.stacking;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textLightest,\n    fontSize: typography.fontSizeXSmall,\n    colorDanger: colors.textDanger,\n    colorSuccess: colors.textSuccess,\n    colorPrimary: colors.textBrand,\n    size: '1.25rem',\n    countOffset: '0.5rem',\n    notificationOffset: '0.125rem',\n    notificationZIndex: stacking.above,\n    sizeNotification: spacing.small,\n    borderRadius: '999rem',\n    padding: spacing.xxSmall,\n    pulseBorderThickness: borders.widthMedium\n  };\n}\n\ngenerator['canvas'] = function (variables) {\n  return {\n    colorPrimary: variables['ic-brand-primary']\n  };\n};","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { string, func } from 'prop-types';\nimport { Badge } from '@instructure/ui-elements';\nimport { ScreenReaderContent } from '@instructure/ui-a11y';\nexport default class Indicator extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.props.indicatorRef\n    }, /*#__PURE__*/React.createElement(Badge, {\n      standalone: true,\n      type: \"notification\",\n      variant: this.props.variant\n    }), /*#__PURE__*/React.createElement(ScreenReaderContent, null, this.props.title));\n  }\n\n}\nIndicator.propTypes = {\n  title: string.isRequired,\n  variant: string.isRequired,\n  indicatorRef: func\n};\nIndicator.defaultProps = {\n  indicatorRef: () => {}\n};","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { string } from 'prop-types';\nimport formatMessage from '../../format-message';\nimport Indicator from './Indicator';\nexport default function MissingIndicator(props) {\n  const badgeMessage = formatMessage('Missing items for {title}', {\n    title: props.title\n  });\n  return /*#__PURE__*/React.createElement(Indicator, {\n    title: badgeMessage,\n    variant: \"danger\"\n  });\n}\nMissingIndicator.propTypes = {\n  title: string.isRequired\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { func, shape } from 'prop-types';\n\nfunction getDisplayName(WrappedComponent) {\n  return \"Animatable(\".concat(WrappedComponent.displayName, \")\");\n} // Components passed to registerAnimatable that the manager uses must provide this interface:\n// - getFocusable() returns anything that has a `focus()` method, DOM element or otherwise\n// - getScrollable() must return a DOM element\n\n\nexport function animatable(WrappedComponent) {\n  var _class, _temp;\n\n  return _temp = _class = class Animatable extends React.Component {\n    constructor(...args) {\n      super(...args);\n\n      this.registerAnimatable = (type, component, index, componentIds) => {\n        // This should be required, but I don't want tests to have to muck with wrapping their stuff\n        // in a DynamicUiProvider\n        if (!this.context.dynamicUiManager) return;\n        this.context.dynamicUiManager.registerAnimatable(type, component, index, componentIds);\n      };\n\n      this.deregisterAnimatable = (type, component, componentIds) => {\n        // This should be required, but I don't want tests to have to muck with wrapping their stuff\n        // in a DynamicUiProvider\n        if (!this.context.dynamicUiManager) return;\n        this.context.dynamicUiManager.deregisterAnimatable(type, component, componentIds);\n      };\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(WrappedComponent, Object.assign({}, this.props, {\n        registerAnimatable: this.registerAnimatable,\n        deregisterAnimatable: this.deregisterAnimatable\n      }));\n    }\n\n  }, _class.displayName = getDisplayName(WrappedComponent), _class.contextTypes = {\n    dynamicUiManager: shape({\n      registerAnimatable: func,\n      deregisterAnimatable: func\n    })\n  }, _temp;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport function createDynamicUiMiddleware(uiManager) {\n  return store => {\n    uiManager.setStore(store);\n    return next => action => {\n      const beforeState = store.getState(); // manager has to be notified before the reducers run so the animations\n      // will be ready when the UI updates\n\n      uiManager.handleAction(action);\n      const result = next(action);\n      const afterState = store.getState();\n      if (beforeState === afterState) uiManager.uiStateUnchanged(action);\n      return result;\n    };\n  };\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport _ from 'lodash';\nexport class AnimatableRegistry {\n  constructor() {\n    this.registries = {\n      day: {},\n      group: {},\n      item: {},\n      opportunity: {},\n      'new-activity-indicator': {}\n    };\n  }\n\n  validateType(type) {\n    const registryTypes = Object.keys(this.registries);\n\n    if (!registryTypes.find(t => t === type)) {\n      throw new Error(\"invalid registry type \".concat(type));\n    }\n  }\n\n  register(type, component, index, componentIds) {\n    this.validateType(type);\n    const registry = this.registries[type];\n    componentIds.forEach(componentId => registry[componentId] = {\n      component,\n      index,\n      componentIds\n    });\n  }\n\n  deregister(type, component, componentIds) {\n    this.validateType(type);\n    const registry = this.registries[type];\n    componentIds.forEach(componentId => {\n      if (registry[componentId].component === component) {\n        delete registry[componentId];\n      }\n    });\n  }\n\n  getComponent(type, componentId) {\n    this.validateType(type);\n    return this.registries[type][componentId];\n  }\n\n  getFirstComponent(type, componentIds) {\n    this.validateType(type);\n    const registry = this.registries[type];\n\n    const minItemId = _.minBy(componentIds, componentId => registry[componentId].index);\n\n    return registry[minItemId];\n  }\n\n  getLastComponent(type, componentIds) {\n    this.validateType(type);\n    const registry = this.registries[type];\n\n    const maxItemId = _.maxBy(componentIds, componentId => registry[componentId].index);\n\n    return registry[maxItemId];\n  }\n\n  getUniqSortedComponents(type, componentIds) {\n    this.validateType(type);\n    const components = componentIds.map(componentId => this.registries[type][componentId]);\n    return _.chain(components).sortBy('index').sortedUniqBy('index').value();\n  } // Gets all non-negative indexed components from the given registry in indexed order. Negative\n  // indexed components are special and are not returned by this method. This method only makes\n  // sense for days and opportunities since groups and items are nested components and will have\n  // duplicate indexes registered (with different ids).\n\n\n  getSortedComponents(type) {\n    this.validateType(type);\n    return _.chain(this.registries[type]).values().sortBy('index').sortedUniqBy('index').filter(entryValue => entryValue.index >= 0).value();\n  }\n\n  getAllGroupsSorted() {\n    // get list of days sorted as they appear in the interface.\n    const sortedDays = this.getSortedComponents('day'); // get sorted groups for each sorted day, then flatten into one list of interface sorted groups.\n\n    const sortedGroups = _.flatMap(sortedDays, day => this.getUniqSortedComponents('group', day.componentIds));\n\n    return sortedGroups;\n  } // gets all items that are displayed in the interface in interface sorted order.\n\n\n  getAllItemsSorted() {\n    const sortedGroups = this.getAllGroupsSorted(); // get sorted items for each group, then flatten into one list of interface sorted items\n\n    const sortedItems = _.flatMap(sortedGroups, group => this.getUniqSortedComponents('item', group.componentIds));\n\n    return sortedItems;\n  } // gets indexed opportunities in interface order.\n\n\n  getAllOpportunitiesSorted() {\n    return this.getSortedComponents('opportunity');\n  }\n\n  getAllNewActivityIndicatorsSorted() {\n    const sortedGroups = this.getAllGroupsSorted();\n\n    const sortedNewActivityIndicators = _.chain(sortedGroups).flatMap(group => this.getUniqSortedComponents('new-activity-indicator', group.componentIds)) // not every group has a new activity indicator, so remove the undefined components\n    .filter(nai => nai != null).value();\n\n    return sortedNewActivityIndicators;\n  }\n\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Velocity from 'velocity-animate';\nexport class Animator {\n  constructor(opts = {}) {\n    this.animationQueue = [];\n    this.fixedElement = null;\n    this.fixedElementsInitialPositionInViewport = null;\n\n    this.runAnimationQueue = () => {\n      while (this.animationQueue.length) {\n        const animationFn = this.animationQueue.shift();\n        animationFn();\n      }\n    };\n\n    Object.assign(this, {\n      velocity: Velocity,\n      document,\n      window\n    }, opts);\n  }\n\n  // Get the window registered with this animator. Mostly for testing.\n  getWindow() {\n    return this.window;\n  }\n\n  focusElement(elt) {\n    // focusing an element causes it to scroll into view, so do the focus first so it doesn't\n    // override maintaining the viewport position.\n    if (!elt) console.error(\"\".concat(elt, \" passed to Animator#focusElement\"));else this.queueAnimation(() => {\n      typeof elt.focus === 'function' && elt.focus();\n    }, 'unshift');\n  }\n\n  elementPositionMemo(elt) {\n    return {\n      element: elt,\n      rect: elt.getBoundingClientRect()\n    };\n  } // Based on this formula:\n  // element's position in the viewport + the window's scroll position === the element's position in the document\n  // so if we want the scroll position that will maintain the element in it's current viewport position,\n  // window scroll position = element's current document position - element's initial viewport position\n\n\n  maintainViewportPositionFromMemo(elt, memo) {\n    this.queueAnimation(() => {\n      const fixedElementsInitialPositionInViewport = memo.rect.top;\n      const fixedElementsNewPositionInViewport = elt.getBoundingClientRect().top;\n      const documentPositionInViewport = this.document.documentElement.getBoundingClientRect().top;\n      const fixedElementsPositionInDocument = fixedElementsNewPositionInViewport - documentPositionInViewport;\n      const newWindowScrollPosition = fixedElementsPositionInDocument - fixedElementsInitialPositionInViewport;\n      this.window.scroll(0, newWindowScrollPosition);\n    }, 'push');\n  } // scroll the top of elt offset pixels from the top of the screen\n\n\n  forceScrollTo(elt, offset, onComplete) {\n    this.queueAnimation(() => {\n      this.velocity(elt, 'scroll', {\n        offset: -offset,\n        duration: 1000,\n        easing: 'ease-in-out',\n        complete: onComplete\n      });\n    });\n  } // scroll the top of elt offset pixels from the top of the screen, but only if it's not currently in view\n\n\n  scrollTo(elt, offset, onComplete) {\n    this.queueAnimation(() => {\n      if (this.isOffScreen(elt, offset)) {\n        this.velocity(elt, 'scroll', {\n          offset: -offset,\n          duration: 1000,\n          easing: 'ease-in-out',\n          complete: onComplete\n        });\n      } else {\n        // even though we didn't need to run the animation, execute the onComplete callback\n        onComplete && onComplete();\n      }\n    });\n  }\n\n  scrollToTop() {\n    this.scrollTo(document.documentElement, 0);\n  }\n\n  queueAnimation(fn, pushType = 'push') {\n    this.animationQueue[pushType](fn);\n    this.window.requestAnimationFrame(this.runAnimationQueue);\n  }\n\n  isAboveScreen(elt, offset) {\n    return elt.getBoundingClientRect().top < offset;\n  }\n\n  isBelowScreen(elt) {\n    // clientHeight is rounded to an integer, while the rect is a more precise\n    // float. Add some padding so we err on the side of loading too much.\n    // Also, Canvas's footer makes the document always at least as tall as\n    // the viewport.\n    const doc = this.window.document.documentElement;\n    return elt.getBoundingClientRect().bottom + 2 > doc.clientHeight;\n  }\n\n  isOnScreen(elt, offset) {\n    return !this.isOffScreen(elt, offset);\n  }\n\n  isOffScreen(elt, offset) {\n    return this.isAboveScreen(elt, offset) || this.isBelowScreen(elt);\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport changeCase from 'change-case';\nexport default class Animation {\n  constructor(expectedActions, manager) {\n    this.acceptedActions = {};\n    this.expectedActions = [];\n    this.executing = false;\n\n    if (expectedActions.length === 0) {\n      throw new Error('There must be at least one expected action');\n    }\n\n    this.expectedActions = expectedActions;\n    this._manager = manager;\n  } //----------------------\n  // Overriddable methods\n  //----------------------\n  // You can create custom methods to determine if an action will be accepted.\n  // This lets you write custom logic to determine whether an action meets this\n  // animation's criteria. Prefix the method with `shouldAccept`. For example:\n  // shouldAcceptGotDaysSuccess(action) {\n  //   // custom logic\n  //   // return result of custom logic\n  // }\n  // This will only be invoked if the action is in the list of expected actions.\n  // Called to determine if this animation is ready to execute. By default an\n  // animation is ready if all of its expected actions have been accepted. You\n  // can overwrite this to perform your own readiness logic.\n\n\n  isReady() {\n    return this.acceptedActionsLength() === this.expectedActions.length;\n  } // Override this to do something before the DOM updates. Only called if\n  // `isReady` returned true.\n\n\n  uiWillUpdate() {} // Override this to do something after the DOM updates. Only called if\n  // `isReady` returned true. After this returns, the accepted actions will\n  // be cleared.\n\n\n  uiDidUpdate() {} // Override this to enable calling `this.maintainViewportPositionOfFixedElement`\n\n\n  fixedElement() {\n    return null;\n  } //------------------------------------\n  // Interface methods: Do not override\n  //------------------------------------\n  // Convenience method for using the animator's maintainViewportPositionFromMemo\n  // method. Implement fixedElement to use this.\n\n\n  maintainViewportPositionOfFixedElement() {\n    const fixedElement = this.fixedElement();\n\n    if (fixedElement && this.fixedElementPositionMemo) {\n      this.animator().maintainViewportPositionFromMemo(fixedElement, this.fixedElementPositionMemo);\n      this.fixedElementPositionMemo = null;\n    }\n  } // Used by the manager to feed actions to the animations\n\n\n  acceptAction(action) {\n    const expectedActionIndex = this.expectedActions.indexOf(action.type); // we don't expect this action at all\n\n    if (expectedActionIndex === -1) return false; // we expect this action, but not until prior actions have been accepted.\n\n    if (expectedActionIndex > this.acceptedActionsLength()) return false;\n    const acceptsName = \"shouldAccept\".concat(changeCase.pascal(action.type));\n    const accepted = this[acceptsName] ? this[acceptsName](action) : true;\n\n    if (accepted) {\n      this.removeAcceptedActionsAfter(expectedActionIndex);\n      this.acceptedActions[action.type] = action;\n    }\n\n    return accepted;\n  } // The manager should call these lifecycle methods instead of calling the virtual methods directly.\n\n\n  invokeUiWillUpdate() {\n    if (this.executing) return;\n    this.executing = true;\n    const fixedElement = this.fixedElement();\n    if (fixedElement) this.fixedElementPositionMemo = this.animator().elementPositionMemo(fixedElement);\n    this.uiWillUpdate();\n    this.executing = false;\n  } // The manager should call these lifecycle methods instead of calling the virtual methods directly.\n\n\n  invokeUiDidUpdate() {\n    if (this.executing) return;\n    this.executing = true;\n    this.uiDidUpdate();\n    this.reset();\n    this.executing = false;\n  } // Get the accepted action of the specified type.\n\n\n  acceptedAction(actionType) {\n    if (!this.isExpectedAction(actionType)) {\n      throw new Error(\"ERROR: \".concat(this.constructor.name, \" tried to access unexpected action '\").concat(actionType, \"'\"));\n    }\n\n    const action = this.acceptedActions[actionType];\n\n    if (!action) {\n      throw new Error(\"ERROR: \".concat(this.constructor.name, \" tried to retrieve action '\").concat(actionType, \"' before it was accepted\"));\n    }\n\n    return action;\n  } // remove all accepted actions\n\n\n  reset() {\n    this.acceptedActions = {};\n    this.fixedElementPositionMemo = null;\n  } // access to all the different objects an animation could need.\n\n\n  manager() {\n    return this._manager;\n  }\n\n  registry() {\n    return this.manager().getRegistry();\n  }\n\n  animator() {\n    return this.manager().getAnimator();\n  }\n\n  store() {\n    return this.manager().getStore();\n  }\n\n  app() {\n    return this.manager().getApp();\n  }\n\n  document() {\n    return this.manager().getDocument();\n  }\n\n  window() {\n    return this.animator().getWindow();\n  }\n\n  stickyOffset() {\n    return this.manager().getStickyOffset();\n  }\n\n  totalOffset() {\n    return this.manager().totalOffset();\n  } //------------------------------------------------------------------\n  // Implementation methods: do not use or override the methods below\n  //------------------------------------------------------------------\n  // Maps action types to the entire accepted action.\n\n\n  isExpectedAction(actionType) {\n    return this.expectedActions.includes(actionType);\n  }\n\n  removeAcceptedActionsAfter(actionIndex) {\n    for (let i = actionIndex; i < this.expectedActions.length; ++i) {\n      delete this.acceptedActions[this.expectedActions[i]];\n    }\n  }\n\n  acceptedActionsLength() {\n    return Object.keys(this.acceptedActions).length;\n  }\n\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport _ from 'lodash';\nimport { formatDayKey } from './dateUtils';\nexport function mergeNewItemsIntoDays(days, newItems) {\n  const daysHash = daysToDaysHash(days);\n  const mergedDaysHash = mergeNewItemsIntoDaysHash(daysHash, newItems);\n  return daysHashToDays(mergedDaysHash);\n}\nexport function mergeNewItemsIntoDaysHash(daysHash, newItems) {\n  const newDaysHash = itemsToDaysHash(newItems);\n  const mergedDaysHash = mergeDaysHashes(daysHash, newDaysHash);\n  return mergedDaysHash;\n}\nexport function mergeDaysIntoDaysHash(oldDaysHash, newDays) {\n  return mergeDaysHashes(oldDaysHash, daysToDaysHash(newDays));\n}\nexport function mergeDays(oldDays, newDays) {\n  const oldDaysHash = daysToDaysHash(oldDays);\n  const newDaysHash = daysToDaysHash(newDays);\n  const mergedDaysHash = mergeDaysHashes(oldDaysHash, newDaysHash);\n  return daysHashToDays(mergedDaysHash);\n}\nexport function mergeDaysHashes(oldDaysHash, newDaysHash) {\n  oldDaysHash = _objectSpread({}, oldDaysHash);\n\n  const mergedDaysHash = _.mergeWith(oldDaysHash, newDaysHash, (oldDayItems, newDayItems) => {\n    if (oldDayItems == null) oldDayItems = []; // this is only called when necessary to merge new items into old items.\n    // that way we avoid sorting items that have already been sorted.\n\n    return mergeItems(oldDayItems, newDayItems);\n  });\n\n  return mergedDaysHash;\n}\nexport function itemsToDaysHash(items) {\n  return _.groupBy(items, item => formatDayKey(item.dateBucketMoment));\n}\nexport function daysToDaysHash(days) {\n  return _.fromPairs(days);\n}\nexport function daysHashToDays(days) {\n  return _.chain(days).toPairs().filter(d => d[1] && d[1].length) // discard any day with no items\n  .sortBy(_.head).value();\n}\nexport function itemsToDays(items) {\n  return daysHashToDays(itemsToDaysHash(items));\n}\nexport function daysToItems(days) {\n  return days.reduce((memo, day) => [...memo, ...day[1]], []);\n}\nexport function mergeItems(oldItems, newItems) {\n  const newItemsMap = new Map(newItems.map(item => [item.uniqueId, item]));\n  const oldItemsMerged = oldItems.map(oldItem => {\n    const newItem = newItemsMap.get(oldItem.uniqueId);\n\n    if (newItem) {\n      newItemsMap.delete(newItem.uniqueId);\n      return newItem;\n    } else {\n      return oldItem;\n    }\n  });\n  const resultingItems = oldItemsMerged.concat([...newItemsMap.values()]); // mergeItems is only called as needed to merge new items into old items,\n  // so sorting here is ok and won't wind up sorting every day on every merge.\n\n  return groupAndSortDayItems(resultingItems);\n} // returns {dayIndex, itemIndex, item}. Both indexes are -1 and item is undefined if the item isn't found.\n\nexport function findItemInDays(days, uniqueId) {\n  let dayIndex = -1;\n  let itemIndex = -1;\n\n  if (uniqueId !== void 0) {\n    dayIndex = days.findIndex(day => {\n      const items = day[1];\n      itemIndex = items.findIndex(itemToCheck => itemToCheck.uniqueId === uniqueId);\n      return itemIndex !== -1;\n    });\n  }\n\n  const item = dayIndex !== -1 ? days[dayIndex][1][itemIndex] : void 0;\n  return {\n    dayIndex,\n    itemIndex,\n    item\n  };\n}\nexport function deleteItemFromDaysAt(days, dayIndex, itemIndex) {\n  const oldItems = days[dayIndex][1];\n  const newItems = oldItems.filter((_, index) => index !== itemIndex);\n\n  if (newItems.length === 0) {\n    return days.filter((_, index) => index !== dayIndex);\n  } else {\n    const newDay = days[dayIndex].slice(0); // copy\n\n    newDay[1] = newItems;\n    const newDays = days.slice(0);\n    newDays[dayIndex] = newDay;\n    return newDays;\n  }\n}\nexport function deleteItemFromDays(days, doomedItem) {\n  const _findItemInDays = findItemInDays(days, doomedItem.uniqueId),\n        dayIndex = _findItemInDays.dayIndex,\n        itemIndex = _findItemInDays.itemIndex;\n\n  if (dayIndex === -1 || itemIndex === -1) return days;\n  return deleteItemFromDaysAt(days, dayIndex, itemIndex);\n}\nexport function purgeDuplicateDays(oldDays, newDays) {\n  const purgedDaysHash = daysToDaysHash(oldDays);\n  newDays.forEach(day => {\n    delete purgedDaysHash[day[0]];\n  });\n  return daysHashToDays(purgedDaysHash);\n} // sort the items:\n// First by grouping (alpha by course or group title, followed by the Notes (aka To Dos)\n// Then by due-time for each item w/in the grouping.\n\nexport function groupAndSortDayItems(items) {\n  return items.sort(orderItems);\n} // ----- grouping and sorting helpers -----\n\nconst cmpopts = {\n  numeric: true\n};\nconst locale = window.ENV && window.ENV.MOMENT_LOCALE || 'en'; // order items by their grouping\n\nfunction getItemGroupTitle(item) {\n  if (item.context && item.context.id) {\n    // edited items have an empty context, so look for the id too\n    return item.context.title || \"\".concat(item.context.type).concat(item.context.id);\n  }\n\n  return 'Notes';\n}\n\nfunction orderItemsByGrouping(a, b) {\n  const namea = getItemGroupTitle(a);\n  const nameb = getItemGroupTitle(b);\n  if (namea.localeCompare(nameb, locale, cmpopts) === 0) return 0;\n  if (namea === 'Notes') return 1;\n  if (nameb === 'Notes') return -1;\n  return namea.localeCompare(nameb, locale, cmpopts);\n} // order items by time, then title\n\n\nexport function orderItemsByTimeAndTitle(a, b) {\n  // completed items are grouped at the bottom\n  if (a.originallyCompleted && !b.originallyCompleted) return 1;\n  if (!a.originallyCompleted && b.originallyCompleted) return -1; // if we the same day, then group all day items at the top for those days\n\n  if (a.date.isSame(b.date, 'day')) {\n    if (a.allDay && !b.allDay) return -1;\n    if (!a.allDay && b.allDay) return 1;\n  } // the rest are sorted by time, then title\n\n\n  if (a.date.valueOf() === b.date.valueOf()) {\n    return a.title.localeCompare(b.title, locale, cmpopts);\n  }\n\n  return a.date < b.date ? -1 : 1;\n} // order items\n\nfunction orderItems(a, b) {\n  let order = orderItemsByGrouping(a, b);\n\n  if (order === 0) {\n    order = orderItemsByTimeAndTitle(a, b);\n  }\n\n  return order;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport formatMessage from '../format-message';\nimport { isTodayOrBefore } from './dateUtils';\nconst PILL_MAPPING = {\n  missing: () => ({\n    id: 'missing',\n    text: formatMessage('Missing'),\n    variant: 'danger'\n  }),\n  late: () => ({\n    id: 'late',\n    text: formatMessage('Late'),\n    variant: 'danger'\n  }),\n  graded: () => ({\n    id: 'graded',\n    text: formatMessage('Graded')\n  }),\n  excused: () => ({\n    id: 'excused',\n    text: formatMessage('Excused')\n  }),\n  submitted: () => ({\n    id: 'submitted',\n    text: formatMessage('Submitted')\n  }),\n  new_grades: () => ({\n    id: 'new_grades',\n    text: formatMessage('Graded')\n  }),\n  new_feedback: () => ({\n    id: 'new_feedback',\n    text: formatMessage('Feedback')\n  }),\n  new_replies: () => ({\n    id: 'new_replies',\n    text: formatMessage('Replies')\n  })\n};\nexport function isNewActivityItem(item) {\n  return item.newActivity;\n}\nexport function anyNewActivity(items) {\n  return items && items.some(isNewActivityItem);\n}\nexport function anyNewActivityDays(days) {\n  return days.some(day => anyNewActivity(day[1]));\n}\nexport function didWeFindToday(days) {\n  return days.some(day => isTodayOrBefore(day[0]));\n}\nexport function showPillForOverdueStatus(status, item) {\n  if (!['late', 'missing'].includes(status)) {\n    throw new Error(\"Expected status to be 'late' or 'missing', but it was \".concat(status));\n  }\n\n  return !!item.status && item.status[status];\n}\n/**\n * Returns an array of pill objects that the particular item\n * qualifies to have\n */\n\nexport function getBadgesForItem(item) {\n  let badges = [];\n\n  if (item.status) {\n    badges = Object.keys(item.status).filter((key, index, all) => !(item.status.excused && key === 'graded')) // if excused, ignore graded\n    .filter((key, index, all) => !(item.status.graded && key === 'submitted')) // if graded, ignore submitted\n    .filter(key => {\n      const validKeyPresent = item.status[key] && PILL_MAPPING.hasOwnProperty(key);\n\n      if (!validKeyPresent) {\n        return false;\n      } else if (['late', 'missing'].includes(key)) {\n        return showPillForOverdueStatus(key, item);\n      }\n\n      return true;\n    }).map(a => PILL_MAPPING[a]());\n\n    if (item.status.unread_count) {\n      badges.push(PILL_MAPPING.new_replies());\n    }\n\n    if (item.newActivity && item.status.has_feedback) {\n      badges.push(PILL_MAPPING.new_feedback());\n    }\n  }\n\n  return badges;\n}\n/**\n * Returns an array of pill objects that the items qualify to have\n */\n\nexport function getBadgesForItems(items) {\n  const badges = [];\n\n  if (items.some(i => i.status && i.newActivity && i.status.graded && !i.status.excused)) {\n    badges.push(PILL_MAPPING.new_grades());\n  }\n\n  if (items.some(i => i.status && i.status.submitted && !i.status.graded && !i.status.excused)) {\n    badges.push(PILL_MAPPING.submitted());\n  }\n\n  if (items.some(showPillForOverdueStatus.bind(this, 'missing'))) {\n    badges.push(PILL_MAPPING.missing());\n  } else if (items.some(showPillForOverdueStatus.bind(this, 'late'))) {\n    badges.push(PILL_MAPPING.late());\n  }\n\n  if (items.some(i => i.status && i.newActivity && i.status.has_feedback)) {\n    badges.push(PILL_MAPPING.new_feedback());\n  }\n\n  if (items.some(i => i.status && i.status.unread_count)) {\n    badges.push(PILL_MAPPING.new_replies());\n  }\n\n  return badges;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport moment from 'moment-timezone';\nimport _ from 'lodash';\nimport parseLinkHeader from 'parse-link-header';\n\nconst getItemDetailsFromPlannable = (apiResponse, timeZone) => {\n  const plannable = apiResponse.plannable,\n        plannable_type = apiResponse.plannable_type,\n        planner_override = apiResponse.planner_override;\n  const plannableId = plannable.id || plannable.page_id;\n  const details = {\n    course_id: plannable.course_id || apiResponse.course_id,\n    title: plannable.title,\n    completed: isComplete(apiResponse),\n    points: plannable.points_possible,\n    html_url: apiResponse.html_url || plannable.html_url,\n    overrideId: planner_override && planner_override.id,\n    overrideAssignId: plannable.assignment_id,\n    id: plannableId,\n    uniqueId: \"\".concat(plannable_type, \"-\").concat(plannableId),\n    location: plannable.location_name || null,\n    address: plannable.location_address || null,\n    dateStyle: plannable.todo_date ? 'todo' : 'due'\n  };\n  details.originallyCompleted = details.completed;\n  details.feedback = apiResponse.submissions ? apiResponse.submissions.feedback : void 0;\n\n  if (plannable_type === 'discussion_topic' || plannable_type === 'announcement') {\n    details.unread_count = plannable.unread_count;\n  }\n\n  if (plannable_type === 'planner_note') {\n    details.details = plannable.details;\n  }\n\n  if (plannable_type === 'calendar_event') {\n    details.details = plannable.description;\n    details.allDay = plannable.all_day;\n\n    if (!details.allDay && plannable.end_at && plannable.end_at !== apiResponse.plannable_date) {\n      details.endTime = moment(plannable.end_at);\n    }\n  }\n\n  return details;\n};\n\nconst TYPE_MAPPING = {\n  quiz: 'Quiz',\n  discussion_topic: 'Discussion',\n  assignment: 'Assignment',\n  wiki_page: 'Page',\n  announcement: 'Announcement',\n  planner_note: 'To Do',\n  calendar_event: 'Calendar Event',\n  assessment_request: 'Peer Review'\n};\n\nconst getItemType = plannableType => {\n  return TYPE_MAPPING[plannableType];\n};\n\nconst getApiItemType = overrideType => {\n  return _.findKey(TYPE_MAPPING, _.partial(_.isEqual, overrideType));\n};\n\nexport function findNextLink(response) {\n  const linkHeader = response.headers.link;\n  if (linkHeader == null) return null;\n  const parsedLinks = parseLinkHeader(linkHeader);\n  if (parsedLinks == null) return null;\n  if (parsedLinks.next == null) return null;\n  return parsedLinks.next.url;\n}\n/**\n * Translates the API data to the format the planner expects\n * */\n\nexport function transformApiToInternalItem(apiResponse, courses, groups, timeZone) {\n  if (timeZone == null) throw new Error('timezone is required when interpreting api data in transformApiToInternalItem');\n  const contextInfo = {};\n  const context_type = apiResponse.context_type + '';\n  const contextId = apiResponse[\"\".concat(context_type.toLowerCase(), \"_id\")];\n\n  if (context_type === 'Course') {\n    const course = courses.find(c => c.id === contextId);\n    contextInfo.context = getCourseContext(course);\n  } else if (context_type === 'Group') {\n    const group = groups.find(g => g.id === contextId) || {\n      name: 'Unknown Group',\n      color: '#666666',\n      url: void 0\n    };\n    contextInfo.context = getGroupContext(apiResponse, group);\n  }\n\n  const details = getItemDetailsFromPlannable(apiResponse, timeZone);\n  const plannableDate = moment.tz(apiResponse.plannable_date, timeZone);\n\n  if (!contextInfo.context && apiResponse.plannable_type === 'planner_note' && details.course_id) {\n    const course = courses.find(c => c.id === details.course_id);\n    contextInfo.context = getCourseContext(course);\n  }\n\n  if (details.unread_count) {\n    apiResponse.submissions = apiResponse.submissions || {};\n    apiResponse.submissions.unread_count = details.unread_count;\n  }\n\n  return _objectSpread({}, contextInfo, {\n    id: apiResponse.plannable_id,\n    dateBucketMoment: moment.tz(plannableDate, timeZone).startOf('day'),\n    type: getItemType(apiResponse.plannable_type),\n    status: apiResponse.submissions,\n    newActivity: apiResponse.new_activity && (apiResponse.plannable_type !== 'discussion_topic' || details.unread_count > 0),\n    toggleAPIPending: false,\n    date: plannableDate\n  }, details);\n}\n/**\n * This takes the response from creating a new planner note aka To Do and puts it in the internal\n * format.\n */\n\nexport function transformPlannerNoteApiToInternalItem(plannerItemApiResponse, courses, timeZone) {\n  const plannerNote = plannerItemApiResponse;\n  let context = {};\n\n  if (plannerNote.course_id) {\n    const course = courses.find(c => c.id === plannerNote.course_id);\n    context = getCourseContext(course);\n  }\n\n  return {\n    id: plannerNote.id,\n    uniqueId: \"planner_note-\".concat(plannerNote.id),\n    dateBucketMoment: moment.tz(plannerNote.todo_date, timeZone),\n    type: 'To Do',\n    status: false,\n    course_id: plannerNote.course_id,\n    context,\n    title: plannerNote.title,\n    date: moment.tz(plannerNote.todo_date, timeZone),\n    details: plannerNote.details,\n    completed: false\n  };\n}\n/**\n * Turn internal item format into data the API can consume for save actions\n */\n\nexport function transformInternalToApiItem(internalItem) {\n  const contextInfo = {};\n\n  if (internalItem.context) {\n    contextInfo.context_type = internalItem.context.type || 'Course';\n    contextInfo[\"\".concat(contextInfo.context_type.toLowerCase(), \"_id\")] = internalItem.context.id;\n  }\n\n  return _objectSpread({\n    id: internalItem.id\n  }, contextInfo, {\n    todo_date: internalItem.date,\n    title: internalItem.title,\n    details: internalItem.details\n  });\n}\nexport function transformInternalToApiOverride(internalItem, userId) {\n  let type = getApiItemType(internalItem.type);\n  let id = internalItem.id;\n\n  if (internalItem.overrideAssignId) {\n    type = 'assignment';\n    id = internalItem.overrideAssignId;\n  }\n\n  return {\n    id: internalItem.overrideId,\n    plannable_id: id,\n    plannable_type: type,\n    user_id: userId,\n    marked_complete: internalItem.completed\n  };\n}\nexport function transformApiToInternalGrade(apiResult) {\n  // Grades are the same across all enrollments, just look at first one\n  const courseId = apiResult.id;\n  const hasGradingPeriods = apiResult.has_grading_periods;\n  const enrollment = apiResult.enrollments[0];\n  let score = enrollment.computed_current_score;\n  let grade = enrollment.computed_current_grade;\n\n  if (hasGradingPeriods) {\n    score = enrollment.current_period_computed_current_score;\n    grade = enrollment.current_period_computed_current_grade;\n  }\n\n  return {\n    courseId,\n    hasGradingPeriods,\n    grade,\n    score\n  };\n}\n\nfunction getCourseContext(course) {\n  // shouldn't happen, but if the course data is missing, skip it.\n  // this has the effect of a planner note showing up as a vanilla todo not associated with a course\n  if (!course) return void 0;\n  return {\n    type: 'Course',\n    id: course.id,\n    title: course.shortName,\n    image_url: course.image,\n    color: course.color,\n    url: course.href\n  };\n}\n\nfunction getGroupContext(apiResponse, group) {\n  if (!group) return void 0;\n  return {\n    type: apiResponse.context_type,\n    id: group.id,\n    title: group.name,\n    image_url: void 0,\n    color: group.color,\n    url: group.url\n  };\n} // is the item complete?\n// either marked as complete by the user, or because the work was completed.\n\n\nfunction isComplete(apiResponse) {\n  const plannable = apiResponse.plannable,\n        plannable_type = apiResponse.plannable_type,\n        planner_override = apiResponse.planner_override,\n        submissions = apiResponse.submissions;\n  let complete = false;\n\n  if (planner_override) {\n    complete = planner_override.marked_complete;\n  } else if (plannable_type === 'assessment_request') {\n    complete = plannable.workflow_state === 'completed';\n  } else if (submissions) {\n    complete = submissions.submitted;\n  }\n\n  return complete;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nlet visualSuccessFunc = null;\nlet visualErrorFunc = null;\nlet srAlertFunc = null;\nexport function initialize({\n  visualSuccessCallback = visualSuccessFunc,\n  visualErrorCallback = visualErrorFunc,\n  srAlertCallback = srAlertFunc\n}) {\n  visualSuccessFunc = visualSuccessCallback;\n  visualErrorFunc = visualErrorCallback;\n  srAlertFunc = srAlertCallback;\n}\nexport function alert(message, isError = false) {\n  if (isError) {\n    visualErrorFunc(message);\n  } else {\n    visualSuccessFunc(message);\n  }\n}\nexport function srAlert(message) {\n  srAlertFunc(message);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { createActions, createAction } from 'redux-actions';\nimport axios from 'axios';\nimport buildURL from 'axios/lib/helpers/buildURL.js';\nimport { asAxios, getPrefetchedXHR } from '@instructure/js-utils';\nimport { transformApiToInternalItem } from '../utilities/apiUtils';\nimport { alert } from '../utilities/alertUtils';\nimport formatMessage from '../format-message';\nimport { itemsToDays } from '../utilities/daysUtils';\n\nconst _createActions = createActions('START_LOADING_ITEMS', 'CONTINUE_LOADING_INITIAL_ITEMS', 'FOUND_FIRST_NEW_ACTIVITY_DATE', 'GETTING_FUTURE_ITEMS', 'ALL_FUTURE_ITEMS_LOADED', 'ALL_PAST_ITEMS_LOADED', 'GOT_ITEMS_ERROR', 'START_LOADING_PAST_SAGA', 'START_LOADING_FUTURE_SAGA', 'START_LOADING_PAST_UNTIL_NEW_ACTIVITY_SAGA', 'START_LOADING_GRADES_SAGA', 'GOT_GRADES_SUCCESS', 'GOT_GRADES_ERROR', 'START_LOADING_PAST_UNTIL_TODAY_SAGA', 'PEEK_INTO_PAST_SAGA', 'PEEKED_INTO_PAST'),\n      startLoadingItems = _createActions.startLoadingItems,\n      continueLoadingInitialItems = _createActions.continueLoadingInitialItems,\n      foundFirstNewActivityDate = _createActions.foundFirstNewActivityDate,\n      gettingFutureItems = _createActions.gettingFutureItems,\n      allFutureItemsLoaded = _createActions.allFutureItemsLoaded,\n      allPastItemsLoaded = _createActions.allPastItemsLoaded,\n      gotItemsError = _createActions.gotItemsError,\n      startLoadingPastSaga = _createActions.startLoadingPastSaga,\n      startLoadingFutureSaga = _createActions.startLoadingFutureSaga,\n      startLoadingPastUntilNewActivitySaga = _createActions.startLoadingPastUntilNewActivitySaga,\n      startLoadingGradesSaga = _createActions.startLoadingGradesSaga,\n      gotGradesSuccess = _createActions.gotGradesSuccess,\n      gotGradesError = _createActions.gotGradesError,\n      startLoadingPastUntilTodaySaga = _createActions.startLoadingPastUntilTodaySaga,\n      peekIntoPastSaga = _createActions.peekIntoPastSaga,\n      peekedIntoPast = _createActions.peekedIntoPast;\n\nexport { startLoadingItems, continueLoadingInitialItems, foundFirstNewActivityDate, gettingFutureItems, allFutureItemsLoaded, allPastItemsLoaded, gotItemsError, startLoadingPastSaga, startLoadingFutureSaga, startLoadingPastUntilNewActivitySaga, startLoadingGradesSaga, gotGradesSuccess, gotGradesError, startLoadingPastUntilTodaySaga, peekIntoPastSaga, peekedIntoPast };\nexport const gettingPastItems = createAction('GETTING_PAST_ITEMS', (opts = {\n  seekingNewActivity: false\n}) => {\n  return opts;\n});\nexport const gotDaysSuccess = createAction('GOT_DAYS_SUCCESS', (newDays, response) => {\n  return {\n    internalDays: newDays,\n    response\n  };\n});\nexport function gotItemsSuccess(newItems, response) {\n  return gotDaysSuccess(itemsToDays(newItems), response);\n}\nexport const gotPartialFutureDays = createAction('GOT_PARTIAL_FUTURE_DAYS', (newDays, response) => {\n  return {\n    internalDays: newDays,\n    response\n  };\n});\nexport const gotPartialPastDays = createAction('GOT_PARTIAL_PAST_DAYS', (newDays, response) => {\n  return {\n    internalDays: newDays,\n    response\n  };\n});\nexport function getFirstNewActivityDate(fromMoment) {\n  // We are requesting ascending order and only grabbing the first item,\n  // specifically so we know what the very oldest new activity is\n  return (dispatch, getState) => {\n    fromMoment = fromMoment.clone().subtract(6, 'months');\n    const url = \"/api/v1/planner/items?start_date=\".concat(fromMoment.toISOString(), \"&filter=new_activity&order=asc\");\n    const request = asAxios(getPrefetchedXHR(url)) || axios.get(url);\n    return request.then(response => {\n      if (response.data.length) {\n        const first = transformApiToInternalItem(response.data[0], getState().courses, getState().groups, getState().timeZone);\n        dispatch(foundFirstNewActivityDate(first.dateBucketMoment));\n      }\n    }).catch(() => alert(formatMessage('Failed to get new activity'), true));\n  };\n} // this is the initial load\n\nexport function getPlannerItems(fromMoment) {\n  return (dispatch, getState) => {\n    dispatch(startLoadingItems());\n    dispatch(continueLoadingInitialItems()); // a start counts as a continue for the ContinueInitialLoad animation\n\n    dispatch(getFirstNewActivityDate(fromMoment));\n    dispatch(peekIntoPastSaga());\n    dispatch(startLoadingFutureSaga());\n  };\n}\nexport function loadFutureItems(opts = {\n  loadMoreButtonClicked: false\n}) {\n  return (dispatch, getState) => {\n    if (getState().loading.allFutureItemsLoaded) return;\n    dispatch(gettingFutureItems(opts));\n    dispatch(startLoadingFutureSaga());\n  };\n}\nexport const scrollIntoPastAction = createAction('SCROLL_INTO_PAST');\n\nfunction loadPastItems(byScrolling) {\n  return (dispatch, getState) => {\n    if (getState().loading.allPastItemsLoaded) return;\n    if (byScrolling) dispatch(scrollIntoPastAction());\n    dispatch(gettingPastItems({\n      seekingNewActivity: false\n    }));\n    dispatch(startLoadingPastSaga());\n  };\n}\n\nexport function scrollIntoPast() {\n  return loadPastItems(true);\n}\nexport function loadPastButtonClicked() {\n  return loadPastItems(false);\n}\nexport const loadPastUntilNewActivity = () => (dispatch, getState) => {\n  dispatch(gettingPastItems({\n    seekingNewActivity: true\n  }));\n  dispatch(startLoadingPastUntilNewActivitySaga());\n  return 'loadPastUntilNewActivity'; // for testing\n};\nexport const loadPastUntilToday = () => (dispatch, getState) => {\n  dispatch(gettingPastItems({\n    seekingNewActivity: false\n  }));\n  dispatch(startLoadingPastUntilTodaySaga());\n  return 'loadPastUntilToday'; // for testing\n};\nexport function sendFetchRequest(loadingOptions) {\n  const _fetchParams = fetchParams(loadingOptions),\n        _fetchParams2 = _slicedToArray(_fetchParams, 2),\n        urlPrefix = _fetchParams2[0],\n        params = _fetchParams2[1].params;\n\n  const url = buildURL(urlPrefix, params);\n  const request = asAxios(getPrefetchedXHR(url)) || axios.get(url);\n  return request.then(response => handleFetchResponse(loadingOptions, response)); // no .catch: it's up to the sagas to handle errors\n}\n\nfunction fetchParams(loadingOptions) {\n  let timeParam = 'start_date';\n  let linkField = 'futureNextUrl';\n\n  if (loadingOptions.intoThePast) {\n    timeParam = 'end_date';\n    linkField = 'pastNextUrl';\n  }\n\n  const nextPageUrl = loadingOptions.getState().loading[linkField];\n\n  if (nextPageUrl) {\n    return [nextPageUrl, {}];\n  } else {\n    const params = {\n      [timeParam]: loadingOptions.fromMoment.toISOString()\n    };\n\n    if (loadingOptions.intoThePast) {\n      params.order = 'desc';\n    }\n\n    if (loadingOptions.perPage) {\n      params.per_page = loadingOptions.perPage;\n    }\n\n    return ['/api/v1/planner/items', {\n      params\n    }];\n  }\n}\n\nfunction handleFetchResponse(loadingOptions, response) {\n  const transformedItems = transformItems(loadingOptions, response.data);\n  return {\n    response,\n    transformedItems\n  };\n}\n\nfunction transformItems(loadingOptions, items) {\n  return items.map(item => transformApiToInternalItem(item, loadingOptions.getState().courses, loadingOptions.getState().groups, loadingOptions.getState().timeZone));\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// The idea behind this is to make redux-thunk actions identifiable in tests.\n//\n// Normally in tests, you can check that an action was dispatched by comparing\n// the action object:\n//\n// mockDispatch = jest.fn() mockDispatch(someAction(42))\n// expect(mockDispatch).toHaveBeenCalledWith({type: 'SOME_ACTION', payload: 42})\n//\n// This utility lets you assert that the action's thunk was passed to a mock\n// dispatch function without having to invoke the thunk and check for side\n// effects. For example:\n//\n// mockDispatch = jest.fn()\n// const someComplexAction =\n//   identifiableThunk((num) => (dispatch, getState) => { dispatch(someAction(num)) })\n// mockDispatch(someComplexAction(42));\n// expect(mockDispatch).toHaveBeenCalledWith(someComplexAction)\n// expect(someComplexAction.args()).toEqual([42])\n// expect(mockDispatch).not.toHaveBeenCalledWith(someOtherComplexAction)\n//\n// Note that it's important to call the reset method on the action to make\n// sure the tests don't interfere with each other:\n//\n// afterEach(() => someComplexAction.resetArgs())\n//\nexport function identifiableThunk(fn) {\n  let thunk; // remember the return value of fn, which should be a thunk\n\n  let fnArgs; // only need to remember this for tests to check\n\n  const identifiableFn = (...args) => {\n    if (typeof args[0] === 'function') {\n      // called as a thunk\n      if (thunk === void 0) throw new Error(\"identifiableThunk was called as a thunk before it was called as a normal function. The action's first parameter must not be a function.\"); // reset first so the thunk can dispatch the action recursively\n\n      const rememberThunk = thunk;\n      identifiableFn.reset();\n      return rememberThunk(...args); // forward the thunk's return value\n    } else {\n      // called as a normal function\n      if (thunk !== void 0) throw new Error('identifiableThunk was called as a normal function twice in a row. If testing, You may need to add `action.resetArgs()` to your beforeEach or afterEach.');\n      thunk = fn(...args); // remember the thunk for the next call\n\n      fnArgs = args; // remember args for checking in tests\n\n      return identifiableFn; // so it can be called again as a thunk\n    }\n  }; // useful methods for testing\n\n\n  identifiableFn.reset = () => {\n    thunk = void 0;\n    fnArgs = void 0;\n  };\n\n  identifiableFn.args = () => fnArgs;\n\n  identifiableFn.fn = () => fn;\n\n  return identifiableFn;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { createActions } from 'redux-actions';\nimport axios from 'axios';\nimport { togglePlannerItemCompletion } from '.';\nimport { transformApiToInternalItem, findNextLink } from '../utilities/apiUtils';\nimport { identifiableThunk } from '../utilities/redux-identifiable-thunk';\n\nconst _createActions = createActions('SIDEBAR_ITEMS_LOADING', 'SIDEBAR_ITEMS_LOADED', 'SIDEBAR_ITEMS_LOADING_FAILED', 'SIDEBAR_ENOUGH_ITEMS_LOADED'),\n      sidebarItemsLoading = _createActions.sidebarItemsLoading,\n      sidebarItemsLoaded = _createActions.sidebarItemsLoaded,\n      sidebarItemsLoadingFailed = _createActions.sidebarItemsLoadingFailed,\n      sidebarEnoughItemsLoaded = _createActions.sidebarEnoughItemsLoaded;\n\nexport { sidebarItemsLoading, sidebarItemsLoaded, sidebarItemsLoadingFailed, sidebarEnoughItemsLoaded };\nexport const ENOUGH_ITEMS_TO_SHOW_LIST = 7;\nexport const DESIRED_ITEMS_TO_HAVE_LOADED = 14;\n\nfunction incompleteItems(state) {\n  return state.sidebar.items.filter(item => !item.completed);\n}\n\nfunction enoughSidebarItemsAreLoaded(state) {\n  return incompleteItems(state).length >= ENOUGH_ITEMS_TO_SHOW_LIST;\n}\n\nfunction desiredSidebarItemsAreLoaded(state) {\n  return incompleteItems(state).length >= DESIRED_ITEMS_TO_HAVE_LOADED;\n}\n\nfunction handleSidebarLoadingResponse(response, dispatch, getState) {\n  const nextUrl = findNextLink(response);\n  const transformedItems = response.data.map(item => transformApiToInternalItem(item, getState().courses, getState().groups, getState().timeZone));\n  dispatch(sidebarItemsLoaded({\n    items: transformedItems,\n    nextUrl\n  }));\n\n  if (!nextUrl || enoughSidebarItemsAreLoaded(getState())) {\n    dispatch(sidebarEnoughItemsLoaded());\n  }\n\n  if (nextUrl && !desiredSidebarItemsAreLoaded(getState())) {\n    return dispatch(sidebarLoadNextItems());\n  }\n}\n\nexport const sidebarLoadNextItems = identifiableThunk(() => (dispatch, getState) => {\n  if (!getState().sidebar.loading && getState().sidebar.nextUrl) {\n    dispatch(sidebarItemsLoading());\n    const params = {\n      order: 'asc'\n    };\n\n    if (getState().sidebar.course_id) {\n      params.context_codes = [\"course_\".concat(getState().sidebar.course_id), \"user_\".concat(ENV.current_user_id)];\n    }\n\n    return axios.get(getState().sidebar.nextUrl, {\n      params\n    }).then(response => {\n      return handleSidebarLoadingResponse(response, dispatch, getState);\n    }).catch(response => dispatch(sidebarItemsLoadingFailed(response)));\n  }\n});\nexport const sidebarLoadInitialItems = (currentMoment, course_id) => (dispatch, getState) => {\n  const firstMomentDate = currentMoment.clone().subtract(2, 'weeks');\n  dispatch(sidebarItemsLoading({\n    firstMoment: firstMomentDate,\n    course_id\n  }));\n  const params = {\n    start_date: firstMomentDate.toISOString(),\n    order: 'asc'\n  };\n\n  if (course_id) {\n    params.context_codes = [\"course_\".concat(course_id), \"user_\".concat(ENV.current_user_id)];\n  }\n\n  return axios.get('/api/v1/planner/items', {\n    params\n  }).then(response => {\n    return handleSidebarLoadingResponse(response, dispatch, getState);\n  }).catch(response => dispatch(sidebarItemsLoadingFailed(response)));\n};\nexport const sidebarCompleteItem = item => {\n  return togglePlannerItemCompletion(item);\n};\nexport const maybeUpdateTodoSidebar = identifiableThunk(updateItemPromise => (dispatch, getState) => {\n  if (getState().sidebar.nextUrl == null) {\n    return updateItemPromise;\n  }\n\n  return updateItemPromise.then(payload => {\n    if (!desiredSidebarItemsAreLoaded(getState())) {\n      dispatch(sidebarLoadNextItems());\n    }\n\n    return payload;\n  });\n});","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function (axiosInstance) {\n  // Add CSRF stuffs to make Canvas happy when we are making requests with axios\n  axiosInstance.defaults.xsrfCookieName = '_csrf_token';\n  axiosInstance.defaults.xsrfHeaderName = 'X-CSRF-Token'; // Handle stringified IDs for JSON responses\n\n  const originalDefaults = axiosInstance.defaults.headers.common.Accept;\n  axiosInstance.defaults.headers.common.Accept = 'application/json+canvas-string-ids, ' + originalDefaults; // Rails checks this header to decide if a request is an xhr request\n\n  axiosInstance.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n  return axiosInstance;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { createActions, createAction } from 'redux-actions';\nimport axios from 'axios';\nimport { asAxios, getPrefetchedXHR } from '@instructure/js-utils';\nimport parseLinkHeader from 'parse-link-header';\nimport configureAxios from '../utilities/configureAxios';\nimport { alert } from '../utilities/alertUtils';\nimport formatMessage from '../format-message';\nimport { maybeUpdateTodoSidebar } from './sidebar-actions';\nimport { transformInternalToApiItem, transformInternalToApiOverride, transformPlannerNoteApiToInternalItem } from '../utilities/apiUtils';\nconfigureAxios(axios);\n\nconst _createActions = createActions('INITIAL_OPTIONS', 'ADD_OPPORTUNITIES', 'START_LOADING_OPPORTUNITIES', 'START_DISMISSING_OPPORTUNITY', 'ALL_OPPORTUNITIES_LOADED', 'SAVING_PLANNER_ITEM', 'SAVED_PLANNER_ITEM', 'DISMISSED_OPPORTUNITY', 'DELETING_PLANNER_ITEM', 'DELETED_PLANNER_ITEM', 'UPDATE_TODO', 'CLEAR_UPDATE_TODO', 'OPEN_EDITING_PLANNER_ITEM', 'SET_NAI_ABOVE_SCREEN', 'SCROLL_TO_NEW_ACTIVITY', 'SCROLL_TO_TODAY'),\n      initialOptions = _createActions.initialOptions,\n      addOpportunities = _createActions.addOpportunities,\n      startLoadingOpportunities = _createActions.startLoadingOpportunities,\n      startDismissingOpportunity = _createActions.startDismissingOpportunity,\n      allOpportunitiesLoaded = _createActions.allOpportunitiesLoaded,\n      savingPlannerItem = _createActions.savingPlannerItem,\n      savedPlannerItem = _createActions.savedPlannerItem,\n      dismissedOpportunity = _createActions.dismissedOpportunity,\n      deletingPlannerItem = _createActions.deletingPlannerItem,\n      deletedPlannerItem = _createActions.deletedPlannerItem,\n      updateTodo = _createActions.updateTodo,\n      clearUpdateTodo = _createActions.clearUpdateTodo,\n      openEditingPlannerItem = _createActions.openEditingPlannerItem,\n      setNaiAboveScreen = _createActions.setNaiAboveScreen,\n      scrollToNewActivity = _createActions.scrollToNewActivity,\n      scrollToToday = _createActions.scrollToToday;\n\nexport { initialOptions, addOpportunities, startLoadingOpportunities, startDismissingOpportunity, allOpportunitiesLoaded, savingPlannerItem, savedPlannerItem, dismissedOpportunity, deletingPlannerItem, deletedPlannerItem, updateTodo, clearUpdateTodo, openEditingPlannerItem, setNaiAboveScreen, scrollToNewActivity, scrollToToday };\nexport * from './loading-actions';\nexport * from './sidebar-actions';\n\nfunction saveExistingPlannerItem(apiItem) {\n  return axios({\n    method: 'put',\n    url: \"/api/v1/planner_notes/\".concat(apiItem.id),\n    data: apiItem\n  });\n}\n\nfunction saveNewPlannerItem(apiItem) {\n  return axios({\n    method: 'post',\n    url: '/api/v1/planner_notes',\n    data: apiItem\n  });\n}\n\nexport const getNextOpportunities = () => {\n  return (dispatch, getState) => {\n    dispatch(startLoadingOpportunities());\n\n    if (getState().opportunities.nextUrl) {\n      axios({\n        method: 'get',\n        url: getState().opportunities.nextUrl\n      }).then(response => {\n        if (parseLinkHeader(response.headers.link).next) {\n          dispatch(addOpportunities({\n            items: response.data,\n            nextUrl: parseLinkHeader(response.headers.link).next.url\n          }));\n        } else {\n          dispatch(addOpportunities({\n            items: response.data,\n            nextUrl: null\n          }));\n        }\n      }).catch(() => alert(formatMessage('Failed to load opportunities'), true));\n    } else {\n      dispatch(allOpportunitiesLoaded());\n    }\n  };\n};\nexport const getInitialOpportunities = () => {\n  return (dispatch, getState) => {\n    dispatch(startLoadingOpportunities());\n    const url = getState().opportunities.nextUrl || '/api/v1/users/self/missing_submissions?include[]=planner_overrides&filter[]=submittable';\n    const request = asAxios(getPrefetchedXHR(url)) || axios({\n      method: 'get',\n      url\n    });\n    request.then(response => {\n      const next = parseLinkHeader(response.headers.link).next;\n      dispatch(addOpportunities({\n        items: response.data,\n        nextUrl: next ? next.url : null\n      }));\n    }).catch(() => alert(formatMessage('Failed to load opportunities'), true));\n  };\n};\nexport const dismissOpportunity = (id, plannerOverride) => {\n  return (dispatch, getState) => {\n    dispatch(startDismissingOpportunity(id));\n\n    const apiOverride = _objectSpread({}, plannerOverride);\n\n    apiOverride.dismissed = true;\n    apiOverride.plannable_id = id;\n    apiOverride.plannable_type = 'assignment';\n    let promise = apiOverride.id ? saveExistingPlannerOverride(apiOverride) : saveNewPlannerOverride(apiOverride);\n    promise = promise.then(response => {\n      dispatch(dismissedOpportunity(response.data));\n    }).catch(error => {\n      alert(formatMessage('An error occurred attempting to dismiss the opportunity.'), true);\n    });\n    return promise;\n  };\n};\nexport const savePlannerItem = plannerItem => {\n  return (dispatch, getState) => {\n    const isNewItem = !plannerItem.id;\n    const overrideData = getOverrideDataOnItem(plannerItem);\n    dispatch(savingPlannerItem({\n      item: plannerItem,\n      isNewItem\n    }));\n    const apiItem = transformInternalToApiItem(plannerItem);\n    let promise = isNewItem ? saveNewPlannerItem(apiItem) : saveExistingPlannerItem(apiItem);\n    promise = promise.then(response => {\n      const apiItem = transformPlannerNoteApiToInternalItem(response.data, getState().courses, getState().timeZone);\n      return {\n        item: updateOverrideDataOnItem(apiItem, overrideData),\n        isNewItem\n      };\n    }).catch(() => alert(formatMessage('Failed to save to do'), true));\n    dispatch(clearUpdateTodo());\n    dispatch(savedPlannerItem(promise));\n    return promise;\n  };\n};\nexport const deletePlannerItem = plannerItem => {\n  return (dispatch, getState) => {\n    dispatch(deletingPlannerItem(plannerItem));\n    const promise = axios({\n      method: 'delete',\n      url: \"/api/v1/planner_notes/\".concat(plannerItem.id)\n    }).then(response => transformPlannerNoteApiToInternalItem(response.data, getState().courses, getState().timeZone)).catch(() => alert(formatMessage('Failed to delete to do'), true));\n    dispatch(clearUpdateTodo());\n    dispatch(deletedPlannerItem(promise));\n    dispatch(maybeUpdateTodoSidebar(promise));\n    return promise;\n  };\n};\nexport const canceledEditingPlannerItem = createAction('CANCELED_EDITING_PLANNER_ITEM');\nexport const cancelEditingPlannerItem = () => {\n  return (dispatch, getState) => {\n    dispatch(clearUpdateTodo());\n    dispatch(canceledEditingPlannerItem());\n  };\n};\n\nfunction saveExistingPlannerOverride(apiOverride) {\n  return axios({\n    method: 'put',\n    url: \"/api/v1/planner/overrides/\".concat(apiOverride.id),\n    data: apiOverride\n  });\n}\n\nfunction saveNewPlannerOverride(apiOverride) {\n  return axios({\n    method: 'post',\n    url: '/api/v1/planner/overrides',\n    data: apiOverride\n  });\n}\n\nexport const togglePlannerItemCompletion = plannerItem => {\n  return (dispatch, getState) => {\n    const savingItem = _objectSpread({}, plannerItem, {\n      toggleAPIPending: true,\n      show: true\n    });\n\n    dispatch(savingPlannerItem({\n      item: savingItem,\n      isNewItem: false,\n      wasToggled: true\n    }));\n    const apiOverride = transformInternalToApiOverride(plannerItem, getState().currentUser.id);\n    apiOverride.marked_complete = !apiOverride.marked_complete;\n    let promise = apiOverride.id ? saveExistingPlannerOverride(apiOverride) : saveNewPlannerOverride(apiOverride);\n    promise = promise.then(response => ({\n      item: updateOverrideDataOnItem(plannerItem, response.data),\n      isNewItem: false,\n      wasToggled: true\n    })).catch(response => {\n      alert(formatMessage('Unable to mark as complete.'), true);\n      return {\n        item: plannerItem,\n        isNewItem: false,\n        wasToggled: true\n      };\n    });\n    dispatch(savedPlannerItem(promise));\n    dispatch(maybeUpdateTodoSidebar(promise));\n    return promise;\n  };\n};\n\nfunction updateOverrideDataOnItem(plannerItem, apiOverride) {\n  const updatedItem = _objectSpread({}, plannerItem);\n\n  updatedItem.overrideId = apiOverride.id;\n  updatedItem.completed = apiOverride.marked_complete;\n  updatedItem.show = true;\n  return updatedItem;\n}\n\nfunction getOverrideDataOnItem(plannerItem) {\n  return {\n    id: plannerItem.overrideId,\n    marked_complete: plannerItem.completed\n  };\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport function specialFallbackFocusId(type) {\n  return \"~~~\".concat(type, \"-fallback-focus~~~\");\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport moment from 'moment-timezone';\nimport formatMessage from '../../format-message';\nimport Animation from '../animation';\nimport { loadPastUntilToday } from '../../actions/loading-actions';\nimport { alert } from '../../utilities/alertUtils';\nexport class ScrollToToday extends Animation {\n  uiDidUpdate() {\n    const t = this.document().querySelector('.planner-today h2');\n\n    if (t) {\n      scrollAndFocusTodayItem(this.manager(), t);\n    } else {\n      this.animator().scrollToTop();\n      this.store().dispatch(loadPastUntilToday());\n    }\n  }\n\n}\nexport function scrollAndFocusTodayItem(manager, todayElem) {\n  const _findTodayOrNearest = findTodayOrNearest(manager.getRegistry(), manager.getStore().getState().timeZone),\n        component = _findTodayOrNearest.component,\n        when = _findTodayOrNearest.when;\n\n  if (component) {\n    if (component.getScrollable()) {\n      // scroll Today into view\n      manager.getAnimator().forceScrollTo(todayElem, manager.totalOffset(), () => {\n        // then, if necessary, scroll today's or next todo item into view but not all the way to the top\n        manager.getAnimator().scrollTo(component.getScrollable(), manager.totalOffset() + todayElem.offsetHeight, () => {\n          if (when === 'after') {\n            // tell the user where we wound up\n            alert(formatMessage('Nothing planned today. Selecting next item.'));\n          } else if (when === 'before') {\n            alert(formatMessage('Nothing planned today. Selecting most recent item.'));\n          } // finally, focus the item\n\n\n          if (component.getFocusable()) {\n            manager.getAnimator().focusElement(component.getFocusable());\n          }\n        });\n      });\n    }\n  } else {\n    // there's nothing to focus. leave focus on Today button\n    manager.getAnimator().forceScrollTo(todayElem, manager.totalOffset());\n  }\n} // Find an item that's due that's\n// 1. the first item due today, and if there isn't one\n// 2. the next item due after today, and if there isn't one\n// 3. the most recent item still due from the past\n\nfunction findTodayOrNearest(registry, tz) {\n  const today = moment().tz(tz).startOf('day');\n  const allItems = registry.getAllItemsSorted();\n  let lastInPast = null;\n  let firstInFuture = null; // find the before and after today items due closest to today\n\n  for (let i = 0; i < allItems.length; ++i) {\n    const item = allItems[i];\n\n    if (item.component && item.component.props.date) {\n      const date = item.component.props.date;\n\n      if (date.isBefore(today, 'day')) {\n        lastInPast = item.component;\n      } else if (date.isSame(today, 'day') || date.isAfter(today, 'day')) {\n        firstInFuture = item.component;\n        break;\n      }\n    }\n  } // if there's an item in the future, prefer it\n\n\n  const component = firstInFuture || lastInPast;\n  let when = 'never';\n\n  if (component) {\n    if (component === firstInFuture) {\n      if (component.props.date.isSame(today, 'day')) {\n        when = 'today';\n      } else {\n        when = 'after';\n      }\n    } else if (component === lastInPast) {\n      when = 'before';\n    }\n  }\n\n  return {\n    component,\n    when\n  };\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { MaintainScrollPositionWhenScrollingIntoThePast, ScrollToNewActivity, ScrollToLastLoadedNewActivity, ContinueInitialLoad, FocusItemOnSave, FocusPriorItemOnLoadMore, FocusPriorItemOnDelete, ReturnFocusOnCancelEditing // SetDismissedOpportunityFocus,\n, ScrollToToday, ScrollToLoadedToday } from './animations';\nexport class AnimationCollection {\n  constructor(manager, actionsToAnimations) {\n    this.animations = [];\n    actionsToAnimations.forEach(({\n      expected: expectedEvents,\n      animation: AnimationClass\n    }) => {\n      this.animations.push(new AnimationClass(expectedEvents, manager));\n    });\n  }\n\n  static expectedActionsFor(animationClass) {\n    const mapping = AnimationCollection.actionsToAnimations.find(entry => {\n      return entry.animation === animationClass;\n    });\n    return mapping.expected;\n  }\n\n  acceptAction(action) {\n    this.animations.forEach(animation => {\n      animation.acceptAction(action);\n    });\n  }\n\n  uiWillUpdate() {\n    this.animations.forEach(animation => {\n      if (animation.isReady()) animation.invokeUiWillUpdate();\n    });\n  }\n\n  uiDidUpdate() {\n    this.animations.forEach(animation => {\n      if (animation.isReady()) {\n        animation.invokeUiDidUpdate();\n      }\n    });\n  }\n\n}\nAnimationCollection.actionsToAnimations = [{\n  expected: ['CONTINUE_LOADING_INITIAL_ITEMS', 'START_LOADING_FUTURE_SAGA', 'GOT_DAYS_SUCCESS'],\n  animation: ContinueInitialLoad\n}, {\n  expected: ['SCROLL_TO_NEW_ACTIVITY'],\n  animation: ScrollToNewActivity\n}, {\n  expected: ['START_LOADING_PAST_UNTIL_NEW_ACTIVITY_SAGA', 'GOT_DAYS_SUCCESS'],\n  animation: ScrollToLastLoadedNewActivity\n}, {\n  expected: ['SCROLL_INTO_PAST', 'START_LOADING_PAST_SAGA', 'GOT_DAYS_SUCCESS'],\n  animation: MaintainScrollPositionWhenScrollingIntoThePast\n}, {\n  expected: ['GETTING_FUTURE_ITEMS', // checks if the load more button was initiator of this action\n  'GOT_DAYS_SUCCESS'],\n  animation: FocusPriorItemOnLoadMore\n}, {\n  expected: ['SAVED_PLANNER_ITEM'],\n  animation: FocusItemOnSave\n}, {\n  expected: ['OPEN_EDITING_PLANNER_ITEM', 'CANCELED_EDITING_PLANNER_ITEM'],\n  animation: ReturnFocusOnCancelEditing\n}, {\n  expected: ['DELETED_PLANNER_ITEM'],\n  animation: FocusPriorItemOnDelete\n}, // animations for the future. no, the format doesn't match.\n// [['DISMISSED_OPPORTUNITY',\n// ], SetDismissedOpportunityFocus],\n{\n  expected: ['SCROLL_TO_TODAY'],\n  animation: ScrollToToday\n}, {\n  expected: ['START_LOADING_PAST_UNTIL_TODAY_SAGA', 'GOT_DAYS_SUCCESS'],\n  animation: ScrollToLoadedToday\n}];","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nimport { continueLoadingInitialItems, loadFutureItems } from '../../actions';\nexport class ContinueInitialLoad extends Animation {\n  uiDidUpdate() {\n    const moreItemsToLoad = !this.store().getState().loading.allFutureItemsLoaded;\n    const keepLoading = moreItemsToLoad && this.animator().isOnScreen(this.app().fixedElementForItemScrolling(), this.stickyOffset());\n\n    if (keepLoading) {\n      // we have to do this after this animation is complete,\n      // because these actions can't be received recursively.\n      this.window().setTimeout(() => {\n        this.store().dispatch(continueLoadingInitialItems()); // so we can invoke this animation again\n\n        this.store().dispatch(loadFutureItems());\n      }, 0);\n    }\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nimport { loadPastUntilNewActivity } from '../../actions/loading-actions';\nexport class ScrollToNewActivity extends Animation {\n  fixedElement() {\n    return this.app().fixedElementForItemScrolling();\n  }\n\n  findNaiAboveScreen() {\n    const nais = this.registry().getAllNewActivityIndicatorsSorted();\n    return nais.reverse().find(indicator => {\n      return this.animator().isAboveScreen(indicator.component.getScrollable(), this.manager().totalOffset());\n    });\n  }\n\n  uiDidUpdate() {\n    const nai = this.findNaiAboveScreen();\n\n    if (nai) {\n      this.maintainViewportPositionOfFixedElement();\n      this.animator().focusElement(nai.component.getFocusable());\n      this.animator().scrollTo(nai.component.getScrollable(), this.manager().totalOffset());\n    } else {\n      this.animator().scrollToTop();\n      this.store().dispatch(loadPastUntilNewActivity());\n    }\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport _ from 'lodash';\nimport Animation from '../animation';\nimport { daysToItems } from '../../utilities/daysUtils';\nimport { isNewActivityItem } from '../../utilities/statusUtils';\nexport class ScrollToLastLoadedNewActivity extends Animation {\n  fixedElement() {\n    return this.app().fixedElementForItemScrolling();\n  }\n\n  uiDidUpdate() {\n    const gotDaysAction = this.acceptedAction('GOT_DAYS_SUCCESS');\n    const newDays = gotDaysAction.payload.internalDays;\n    const newItems = daysToItems(newDays);\n    const newActivityItems = newItems.filter(item => isNewActivityItem(item));\n    const newActivityItemIds = newActivityItems.map(item => item.uniqueId);\n    if (newActivityItemIds.length === 0) return;\n\n    let _this$registry$getLas = this.registry().getLastComponent('day', newActivityItemIds),\n        newActivityDayComponentIds = _this$registry$getLas.componentIds; // only want groups in the day that have new activity items\n\n\n    newActivityDayComponentIds = _.intersection(newActivityDayComponentIds, newActivityItemIds);\n\n    const _this$registry$getLas2 = this.registry().getLastComponent('new-activity-indicator', newActivityDayComponentIds),\n          newActivityIndicator = _this$registry$getLas2.component;\n\n    this.maintainViewportPositionOfFixedElement();\n    this.animator().focusElement(newActivityIndicator.getFocusable());\n    this.animator().scrollTo(newActivityIndicator.getScrollable(), this.manager().totalOffset());\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nexport class MaintainScrollPositionWhenScrollingIntoThePast extends Animation {\n  fixedElement() {\n    return this.app().fixedElementForItemScrolling();\n  }\n\n  uiDidUpdate() {\n    this.maintainViewportPositionOfFixedElement();\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nexport class FocusPriorItemOnLoadMore extends Animation {\n  shouldAcceptGettingFutureItems(action) {\n    return action.payload.loadMoreButtonClicked;\n  }\n\n  uiDidUpdate() {\n    const newDays = this.acceptedAction('GOT_DAYS_SUCCESS').payload.internalDays;\n    const firstNewItem = newDays[0][1][0];\n    const allRegisteredItemComponents = this.registry().getAllItemsSorted();\n    const indexOfFirstNewItemComponent = allRegisteredItemComponents.findIndex(itemComponent => itemComponent.componentIds[0] === firstNewItem.uniqueId);\n    const indexOfPriorItemComponent = indexOfFirstNewItemComponent - 1;\n\n    if (indexOfPriorItemComponent < 0) {\n      console.error('FocusPriorItemOnLoadMore could not find the item that should receive focus');\n      return;\n    }\n\n    const priorItemComponent = allRegisteredItemComponents[indexOfPriorItemComponent];\n    this.animator().focusElement(priorItemComponent.component.getFocusable());\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nimport formatMessage from '../../format-message';\nimport { alert } from '../../utilities/alertUtils';\nexport class FocusItemOnSave extends Animation {\n  fixedElement() {\n    return this.app().fixedElementForItemScrolling();\n  }\n\n  uiDidUpdate() {\n    const action = this.acceptedAction('SAVED_PLANNER_ITEM');\n    const savedItemUniqueId = action.payload.item.uniqueId;\n    const itemComponentToFocus = this.registry().getComponent('item', savedItemUniqueId);\n\n    if (itemComponentToFocus != null) {\n      if (!action.payload.wasToggled) {\n        this.animator().focusElement(itemComponentToFocus.component.getFocusable('update'));\n      }\n\n      this.maintainViewportPositionOfFixedElement();\n      this.animator().scrollTo(itemComponentToFocus.component.getScrollable(), this.stickyOffset());\n    } else {\n      alert(formatMessage('Success: To Do created'));\n    }\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nexport class ReturnFocusOnCancelEditing extends Animation {\n  constructor(...args) {\n    super(...args);\n    this.savedActiveElement = null;\n  }\n\n  fixedElement() {\n    return this.app().fixedElementForItemScrolling();\n  } // Using this function to record the current focus when the tray opens,\n  // because uiWillUpdate only happens after the tray is canceled and the\n  // focus has changed.\n\n\n  shouldAcceptOpenEditingPlannerItem(action) {\n    this.savedActiveElement = this.document().activeElement; // there is no focus if focus is on the body\n\n    if (this.savedActiveElement === this.document().body) this.savedActiveElement = null;\n    return true;\n  }\n\n  uiDidUpdate() {\n    // Need to maintain the viewport position to work around a chome bug that\n    // will scroll the viewport to the top of the page when focusing an\n    // element in the header, like the plus button.\n    this.maintainViewportPositionOfFixedElement();\n\n    if (this.savedActiveElement != null) {\n      this.animator().focusElement(this.savedActiveElement); // if the focused item is in the header, don't try to scroll it below\n      // the header.\n\n      const header = this.document().querySelector('#dashboard_header_container');\n      const savedActiveElementInHeader = header && header.contains(this.savedActiveElement);\n\n      if (!savedActiveElementInHeader) {\n        this.animator().scrollTo(this.savedActiveElement, this.stickyOffset());\n      }\n    }\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nimport { specialFallbackFocusId } from '../util';\nexport class FocusPriorItemOnDelete extends Animation {\n  constructor(...args) {\n    super(...args);\n    this.setItemFocusUniqueId = null;\n  }\n\n  uiWillUpdate() {\n    const action = this.acceptedAction('DELETED_PLANNER_ITEM');\n    const doomedItemComponentId = action.payload.uniqueId;\n    const sortedItemComponents = this.registry().getAllItemsSorted();\n    const doomedItemComponentIndex = sortedItemComponents.findIndex(c => c.componentIds[0] === doomedItemComponentId);\n    const priorComponentIndex = doomedItemComponentIndex - 1;\n    this.setItemFocusUniqueId = priorComponentIndex >= 0 ? sortedItemComponents[priorComponentIndex].componentIds[0] : specialFallbackFocusId('item');\n  }\n\n  uiDidUpdate() {\n    const setItemFocusUniqueId = this.setItemFocusUniqueId;\n    this.setItemFocusUniqueId = null;\n    const itemComponentToFocus = this.registry().getComponent('item', setItemFocusUniqueId);\n    if (itemComponentToFocus == null) return; // Use a non-zero timeout to work around bug INSTUI-1141 where the Tray\n    // will steal focus back after a delete confirmation dialog.\n\n    this.window().setTimeout(() => {\n      this.animator().focusElement(itemComponentToFocus.component.getFocusable('delete'));\n      this.animator().scrollTo(itemComponentToFocus.component.getScrollable(), this.stickyOffset());\n    }, 250);\n  }\n\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport Animation from '../animation';\nimport { scrollAndFocusTodayItem } from './scroll-to-today';\nexport class ScrollToLoadedToday extends Animation {\n  uiDidUpdate() {\n    const t = this.document().querySelector('.planner-today');\n\n    if (t) {\n      scrollAndFocusTodayItem(this.manager(), t);\n    } else {\n      this.animator().scrollToTop();\n    }\n  }\n\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport changeCase from 'change-case';\nimport { AnimatableRegistry } from './animatable-registry';\nimport { Animator } from './animator';\nimport { AnimationCollection } from './animation-collection';\nimport { specialFallbackFocusId } from './util';\nimport { daysToItems } from '../utilities/daysUtils';\nimport { srAlert } from '../utilities/alertUtils';\nimport formatMessage from '../format-message';\nimport { setNaiAboveScreen } from '../actions';\nexport class DynamicUiManager {\n  constructor(optsParam = {}) {\n    this.registerAnimatable = (type, component, index, componentIds) => {\n      this.animatableRegistry.register(type, component, index, componentIds);\n    };\n\n    this.deregisterAnimatable = (type, component, componentIds) => {\n      this.animatableRegistry.deregister(type, component, componentIds);\n    };\n\n    this.preTriggerUpdates = () => {\n      if (this.plannerActive()) this.animationCollection.uiWillUpdate();\n    };\n\n    this.triggerUpdates = () => {\n      if (this.plannerActive()) this.animationCollection.uiDidUpdate();\n      const animationPlan = this.animationPlan;\n      if (!animationPlan.ready) return;\n\n      if (this.animationPlan.focusOpportunity) {\n        this.triggerFocusOpportunity();\n      }\n\n      this.clearAnimationPlan();\n    };\n\n    this.handleAction = action => {\n      if (this.plannerActive()) this.animationCollection.acceptAction(action);\n      const handlerSuffix = changeCase.pascal(action.type);\n      const handlerName = \"handle\".concat(handlerSuffix);\n      const handler = this[handlerName];\n      if (handler) handler(action);\n    };\n\n    this.alertLoading = () => {\n      srAlert(formatMessage('loading'));\n    };\n\n    this.handleStartLoadingItems = this.alertLoading;\n    this.handleGettingFutureItems = this.alertLoading;\n    this.handleGettingPastItems = this.alertLoading;\n\n    this.handleGotDaysSuccess = action => {\n      const newDays = action.payload.internalDays;\n      const newItems = daysToItems(newDays);\n      srAlert(formatMessage(\"Loaded { count, plural,\\n        =0 {# items}\\n        one {# item}\\n        other {# items}\\n      }\", {\n        count: newItems.length\n      }));\n    };\n\n    this.handleStartLoadingGradesSaga = action => {\n      srAlert(formatMessage('Loading Grades'));\n    };\n\n    this.handleGotGradesSuccess = action => {\n      srAlert(formatMessage('Grades Loaded'));\n    };\n\n    this.handleDismissedOpportunity = action => {\n      // for graded discussions and quizzes, the assignment_id is different\n      // and is what is registered\n      const doomedComponentId = action.payload.assignment_id || action.payload.plannable_id;\n      this.planDeletedComponent('opportunity', doomedComponentId);\n    };\n\n    const opts = _objectSpread({}, DynamicUiManager.defaultOptions, {}, optsParam);\n\n    this.plannerActive = opts.plannerActive;\n    this.animator = opts.animator;\n    this.document = opts.document;\n    this.animatableRegistry = new AnimatableRegistry();\n    this.animationCollection = new AnimationCollection(this, opts.actionsToAnimations);\n    this.animationPlan = {};\n    this.plannerHeaderId = '';\n    this.newActivityButtonId = '';\n  }\n\n  setOffsetElementIds(plannerHeaderId, newActivityButtonId) {\n    this.plannerHeaderId = plannerHeaderId;\n    this.newActivityButtonId = newActivityButtonId;\n  }\n\n  getStickyOffset() {\n    let offset = 0;\n\n    if (this.plannerHeaderId) {\n      const elem = this.getDocument().getElementById(this.plannerHeaderId);\n\n      if (elem) {\n        const rect = elem.getBoundingClientRect();\n        offset = rect.bottom;\n      }\n    }\n\n    return offset;\n  }\n\n  getAdditionalOffset() {\n    let offset = 0;\n\n    if (this.newActivityButtonId) {\n      const elem = this.getDocument().getElementById(this.newActivityButtonId);\n\n      if (elem) {\n        const rect = elem.getBoundingClientRect();\n        offset = rect.height;\n      }\n    }\n\n    return offset;\n  }\n\n  setStore(store) {\n    this.store = store;\n  }\n\n  setApp(app) {\n    this.app = app;\n  }\n\n  totalOffset() {\n    return this.getStickyOffset() + this.getAdditionalOffset();\n  }\n\n  focusFallback(type) {\n    const component = this.animatableRegistry.getComponent(type, specialFallbackFocusId(type));\n    if (component) this.animator.focusElement(component.component.getFocusable());\n  }\n\n  getRegistry() {\n    return this.animatableRegistry;\n  }\n\n  getAnimator() {\n    return this.animator;\n  }\n\n  getStore() {\n    return this.store;\n  }\n\n  getApp() {\n    return this.app;\n  }\n\n  getDocument() {\n    return this.document;\n  }\n\n  static expectedActionsFor(animationClass) {\n    return AnimationCollection.expectedActionsFor(animationClass);\n  } // If you want to register a fallback focus component when all the things in a list are deleted,\n  // register that component with a -1 index and a special unique componentId that looks like\n  // this: `~~~${registryName}-fallback-focus~~~` where registryName is one of the\n  // AnimatableRegistry collections.\n\n\n  clearAnimationPlan() {\n    this.animationPlan = this.animationPlan.nextAnimationPlan || {};\n  }\n\n  uiStateUnchanged(action) {\n    // pretend there was a ui update so the animations can respond to actions that don't change\n    // the redux state.\n    if (this.plannerActive()) {\n      this.animationCollection.uiWillUpdate();\n      this.animationCollection.uiDidUpdate();\n    }\n  }\n\n  triggerFocusOpportunity() {\n    const oppToFocus = this.animatableRegistry.getComponent('opportunity', this.animationPlan.focusOpportunity);\n    if (oppToFocus == null) return;\n    this.animator.focusElement(oppToFocus.component.getFocusable(this.animationPlan.trigger));\n  }\n\n  handleScrollPositionChange() {\n    // if the button is not being shown, don't show it until an nai is\n    // actually above the window, not just under the header. This prevents\n    // bouncing of the button visibility that happens as we scroll to new\n    // activity because showing and hiding the button changes the document\n    // height, which changes the scroll position.\n    let naiThreshold = this.getStickyOffset();\n\n    if (!this.store.getState().ui.naiAboveScreen) {\n      naiThreshold = 0;\n    }\n\n    const newActivityIndicators = this.animatableRegistry.getAllNewActivityIndicatorsSorted();\n    let naiAboveScreen = false;\n\n    if (newActivityIndicators.length > 0) {\n      const naiScrollable = newActivityIndicators[0].component.getScrollable();\n      naiAboveScreen = naiScrollable.getBoundingClientRect().top < naiThreshold;\n    } // just to make sure we avoid dispatching on every scroll position change\n\n\n    if (this.store.getState().ui.naiAboveScreen !== naiAboveScreen) {\n      this.store.dispatch(setNaiAboveScreen(naiAboveScreen));\n    }\n  }\n\n  // Note that this is actually called before reducers and therefore before the doomed item has\n  // actually been removed from the state.\n  planDeletedComponent(doomedComponentType, doomedComponentId) {\n    const sortedComponents = this.sortedComponentsFor(doomedComponentType);\n    const doomedComponentIndex = sortedComponents.findIndex(c => c.componentIds[0] === doomedComponentId);\n    const newComponentIndex = this.findFocusIndexAfterDelete(sortedComponents, doomedComponentIndex);\n    const animationPlanFocusField = changeCase.camelCase(\"focus-\".concat(doomedComponentType));\n\n    if (newComponentIndex != null) {\n      this.animationPlan[animationPlanFocusField] = sortedComponents[newComponentIndex].componentIds[0];\n    } else {\n      this.animationPlan[animationPlanFocusField] = specialFallbackFocusId(doomedComponentType);\n    }\n\n    this.animationPlan.trigger = 'delete';\n    this.animationPlan.ready = true;\n  }\n\n  sortedComponentsFor(componentType) {\n    switch (componentType) {\n      case 'item':\n        return this.animatableRegistry.getAllItemsSorted();\n\n      case 'opportunity':\n        return this.animatableRegistry.getAllOpportunitiesSorted();\n\n      default:\n        throw new Error(\"unrecognized deleted component type: \".concat(componentType));\n    }\n  } // Note that this finds the new focusable index at its current position, not at its new position\n  // after the doomed item is removed. This allows retrieval of the new focusable before the doomed\n  // item is removed.\n\n\n  findFocusIndexAfterDelete(sortedFocusables, doomedFocusableIndex) {\n    const newFocusableIndex = doomedFocusableIndex - 1;\n    if (newFocusableIndex < 0) return null;\n    return newFocusableIndex;\n  }\n\n}\nDynamicUiManager.defaultOptions = {\n  plannerActive: () => false,\n  animator: new Animator(),\n  document,\n  actionsToAnimations: AnimationCollection.actionsToAnimations\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { func, shape } from 'prop-types';\n\nfunction getDisplayName(WrappedComponent) {\n  return \"Notifier(\".concat(WrappedComponent.displayName, \")\");\n}\n\nexport function notifier(WrappedComponent) {\n  var _class, _temp;\n\n  return _temp = _class = class Notifier extends React.Component {\n    constructor(..._args) {\n      super(..._args);\n\n      this.preTriggerUpdates = (...args) => {\n        if (this.context.dynamicUiManager) {\n          this.context.dynamicUiManager.preTriggerUpdates(...args);\n        }\n      };\n\n      this.triggerUpdates = (...args) => {\n        if (this.context.dynamicUiManager) {\n          this.context.dynamicUiManager.triggerUpdates(...args);\n        }\n      };\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(WrappedComponent, Object.assign({}, this.props, {\n        triggerDynamicUiUpdates: this.triggerUpdates,\n        preTriggerDynamicUiUpdates: this.preTriggerUpdates\n      }));\n    }\n\n  }, _class.displayName = getDisplayName(WrappedComponent), _class.contextTypes = {\n    dynamicUiManager: shape({\n      triggerUpdates: func,\n      preTriggerUpdates: func\n    })\n  }, _temp;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { Component, Children } from 'react';\nimport { shape, func, element } from 'prop-types';\nconst uiManagerShape = shape({\n  handleAction: func.isRequired,\n  registerAnimatable: func.isRequired,\n  deregisterAnimatable: func.isRequired,\n  preTriggerUpdates: func.isRequired,\n  triggerUpdates: func.isRequired\n});\nexport class DynamicUiProvider extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.manager = props.manager;\n  }\n\n  getChildContext() {\n    return {\n      dynamicUiManager: this.manager\n    };\n  }\n\n  render() {\n    return Children.only(this.props.children);\n  }\n\n}\nDynamicUiProvider.propTypes = {\n  manager: uiManagerShape.isRequired,\n  children: element.isRequired\n};\nDynamicUiProvider.childContextTypes = {\n  dynamicUiManager: uiManagerShape\n};","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { arrayOf, string, number, func } from 'prop-types';\nimport formatMessage from '../../format-message';\nimport { animatable } from '../../dynamic-ui';\nimport Indicator from './Indicator';\nexport class NewActivityIndicator extends Component {\n  componentWillMount() {\n    this.props.registerAnimatable('new-activity-indicator', this, this.props.animatableIndex, this.props.itemIds);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.props.deregisterAnimatable('new-activity-indicator', this, this.props.itemIds);\n    this.props.registerAnimatable('new-activity-indicator', this, newProps.animatableIndex, newProps.itemIds);\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('new-activity-indicator', this, this.props.itemIds);\n  }\n\n  getFocusable() {\n    return this.props.getFocusable ? this.props.getFocusable() : void 0;\n  }\n\n  getScrollable() {\n    return this.indicatorElt;\n  }\n\n  render() {\n    const badgeMessage = formatMessage('New activity for {title}', {\n      title: this.props.title\n    });\n    return /*#__PURE__*/React.createElement(Indicator, {\n      indicatorRef: ref => this.indicatorElt = ref,\n      title: badgeMessage,\n      variant: \"primary\"\n    });\n  }\n\n}\nNewActivityIndicator.propTypes = {\n  title: string.isRequired,\n  itemIds: arrayOf(string).isRequired,\n  registerAnimatable: func,\n  deregisterAnimatable: func,\n  animatableIndex: number,\n  getFocusable: func\n};\nNewActivityIndicator.defaultProps = {\n  registerAnimatable: () => {},\n  deregisterAnimatable: () => {}\n};\nexport default animatable(NewActivityIndicator);","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport MissingIndicator from './MissingIndicator';\nimport NewActivityIndicator from './NewActivityIndicator';\nimport { sizeShape } from '../plannerPropTypes';\nconst styles = {\n  componentId: 'NrWuo',\n  template: function (theme) {\n    return \"\\n\\n.activityIndicator_wasb{padding:\".concat(theme.activityIndicatorPadding || 'inherit', \";width:\").concat(theme.activityIndicatorWidth || 'inherit', \"}\\n\\n.activityIndicator_wasb.hasBadge_wasb{align-items:center;background:transparent;border-radius:0;display:flex;height:auto;justify-content:center;position:static;right:auto;top:auto;width:auto;z-index:1};\\n\\n.small_wasb.activityIndicator_wasb{padding:0}\");\n  },\n  'activityIndicator': 'activityIndicator_wasb',\n  'hasBadge': 'hasBadge_wasb',\n  'small': 'small_wasb'\n};\nimport theme from './theme.js';\n\nclass NotificationBadge extends React.Component {\n  render() {\n    const indicator = this.props.children ? React.Children.only(this.props.children) : null;\n    const activityIndicatorClasses = classnames(styles.activityIndicator, indicator != null && styles.hasBadge, styles[this.props.responsiveSize]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: activityIndicatorClasses\n    }, indicator);\n  }\n\n}\n\nNotificationBadge.propTypes = {\n  responsiveSize: sizeShape,\n  children: PropTypes.element\n};\nNotificationBadge.defaultProps = {\n  responsiveSize: 'large'\n};\nconst ThemeableNotificationBadge = themeable(theme, styles)(NotificationBadge);\nexport { MissingIndicator, NewActivityIndicator, NotificationBadge };\nexport default ThemeableNotificationBadge;","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  spacing\n}) {\n  return {\n    activityIndicatorPadding: spacing.small,\n    activityIndicatorWidth: spacing.small,\n    activityIndicatorBorderSize: '1rem',\n    activityIndicatorBackground: colors.white\n  };\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Children, Component } from 'react';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Children as ChildrenPropType } from '@instructure/ui-prop-types';\nimport { Pill } from '@instructure/ui-elements';\nconst styles = {\n  componentId: 'WWGvl',\n  template: function (theme) {\n    return \"\\n\\n.root_E0bF{line-height:\".concat(theme.lineHeight || 'inherit', \";list-style-type:none;margin:0;padding:0;text-align:inherit}\\n\\n[dir=ltr] .root_E0bF,[dir=rtl] .root_E0bF{text-align:inherit}\\n\\n.item_E0bF{display:inline-block;margin:\").concat(theme.itemMargin || 'inherit', \";vertical-align:middle}\");\n  },\n  'root': 'root_E0bF',\n  'item': 'item_E0bF'\n};\nimport theme from './theme.js';\n\nclass BadgeList extends Component {\n  renderChildren() {\n    return Children.map(this.props.children, child => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: child.key,\n        className: styles.item\n      }, child);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.root\n    }, this.renderChildren());\n  }\n\n}\n\nBadgeList.propTypes = {\n  children: ChildrenPropType.oneOf([Pill])\n};\nexport default themeable(theme, styles)(BadgeList);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { IconXSolid } from '@instructure/ui-icons';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { testable } from '@instructure/ui-testable';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { getInteraction, passthroughProps, deprecated } from '@instructure/ui-react-utils';\nimport { BaseButton } from '../BaseButton';\nvar styles = {\n  componentId: 'ejhDx',\n  template: function template(theme) {\n    return \"\\n\\n.ejhDx_bGBk{display:inline-block;z-index:\".concat(theme.zIndex || 'inherit', \"}\\n\\n.ejhDx_doBn{position:static}\\n\\n.ejhDx_bQpq,.ejhDx_bxia{position:absolute}\\n\\n.ejhDx_coHh{top:\").concat(theme.offsetXSmall || 'inherit', \"}\\n\\n.ejhDx_cDib{top:\").concat(theme.offsetSmall || 'inherit', \"}\\n\\n.ejhDx_faeR{top:\").concat(theme.offsetMedium || 'inherit', \"}\\n\\n.ejhDx_bQpq{inset-inline-end:0;inset-inline-start:auto}\\n\\n[dir=ltr] .ejhDx_bQpq{left:auto;right:0}\\n\\n[dir=rtl] .ejhDx_bQpq{left:0;right:auto}\\n\\n.ejhDx_bQpq.ejhDx_coHh{inset-inline-end:\").concat(theme.offsetXSmall || 'inherit', \";inset-inline-start:auto}\\n\\n[dir=ltr] .ejhDx_bQpq.ejhDx_coHh{left:auto;right:\").concat(theme.offsetXSmall || 'inherit', \"}\\n\\n[dir=rtl] .ejhDx_bQpq.ejhDx_coHh{left:\").concat(theme.offsetXSmall || 'inherit', \";right:auto}\\n\\n.ejhDx_bQpq.ejhDx_cDib{inset-inline-end:\").concat(theme.offsetSmall || 'inherit', \";inset-inline-start:auto}\\n\\n[dir=ltr] .ejhDx_bQpq.ejhDx_cDib{left:auto;right:\").concat(theme.offsetSmall || 'inherit', \"}\\n\\n[dir=rtl] .ejhDx_bQpq.ejhDx_cDib{left:\").concat(theme.offsetSmall || 'inherit', \";right:auto}\\n\\n.ejhDx_bQpq.ejhDx_faeR{inset-inline-end:\").concat(theme.offsetMedium || 'inherit', \";inset-inline-start:auto}\\n\\n[dir=ltr] .ejhDx_bQpq.ejhDx_faeR{left:auto;right:\").concat(theme.offsetMedium || 'inherit', \"}\\n\\n[dir=rtl] .ejhDx_bQpq.ejhDx_faeR{left:\").concat(theme.offsetMedium || 'inherit', \";right:auto}\\n\\n.ejhDx_bxia{inset-inline-end:auto;inset-inline-start:0}\\n\\n[dir=ltr] .ejhDx_bxia{left:0;right:auto}\\n\\n[dir=rtl] .ejhDx_bxia{left:auto;right:0}\\n\\n.ejhDx_bxia.ejhDx_coHh{inset-inline-end:auto;inset-inline-start:\").concat(theme.offsetXSmall || 'inherit', \"}\\n\\n[dir=ltr] .ejhDx_bxia.ejhDx_coHh{left:\").concat(theme.offsetXSmall || 'inherit', \";right:auto}\\n\\n[dir=rtl] .ejhDx_bxia.ejhDx_coHh{left:auto;right:\").concat(theme.offsetXSmall || 'inherit', \"}\\n\\n.ejhDx_bxia.ejhDx_cDib{inset-inline-end:auto;inset-inline-start:\").concat(theme.offsetSmall || 'inherit', \"}\\n\\n[dir=ltr] .ejhDx_bxia.ejhDx_cDib{left:\").concat(theme.offsetSmall || 'inherit', \";right:auto}\\n\\n[dir=rtl] .ejhDx_bxia.ejhDx_cDib{left:auto;right:\").concat(theme.offsetSmall || 'inherit', \"}\\n\\n.ejhDx_bxia.ejhDx_faeR{inset-inline-end:auto;inset-inline-start:\").concat(theme.offsetMedium || 'inherit', \"}\\n\\n[dir=ltr] .ejhDx_bxia.ejhDx_faeR{left:\").concat(theme.offsetMedium || 'inherit', \";right:auto}\\n\\n[dir=rtl] .ejhDx_bxia.ejhDx_faeR{left:auto;right:\").concat(theme.offsetMedium || 'inherit', \"}\");\n  },\n  'root': 'ejhDx_bGBk',\n  'placement--static': 'ejhDx_doBn',\n  'placement--end': 'ejhDx_bQpq',\n  'placement--start': 'ejhDx_bxia',\n  'offset--x-small': 'ejhDx_coHh',\n  'offset--small': 'ejhDx_cDib',\n  'offset--medium': 'ejhDx_faeR'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar CloseButton = (_dec = deprecated('8.0.0', {\n  children: 'screenReaderLabel',\n  buttonRef: 'elementRef',\n  variant: 'color'\n}), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CloseButton, _Component);\n\n  function CloseButton() {\n    _classCallCheck(this, CloseButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CloseButton).apply(this, arguments));\n  }\n\n  _createClass(CloseButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(this.props.screenReaderLabel || this.props.children, \"[CloseButton] The `screenReaderLabel` prop is required but was not provided.\");\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(this.props.screenReaderLabel || this.props.children, \"[CloseButton] The `screenReaderLabel` prop is required but was not provided.\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          screenReaderLabel = _this$props.screenReaderLabel,\n          elementRef = _this$props.elementRef,\n          buttonRef = _this$props.buttonRef,\n          size = _this$props.size,\n          onClick = _this$props.onClick,\n          margin = _this$props.margin,\n          placement = _this$props.placement,\n          offset = _this$props.offset,\n          type = _this$props.type,\n          as = _this$props.as,\n          href = _this$props.href,\n          cursor = _this$props.cursor,\n          tabIndex = _this$props.tabIndex,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"screenReaderLabel\", \"elementRef\", \"buttonRef\", \"size\", \"onClick\", \"margin\", \"placement\", \"offset\", \"type\", \"as\", \"href\", \"cursor\", \"tabIndex\"]);\n\n      return React.createElement(\"span\", Object.assign({}, passthroughProps(props), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[\"placement--\".concat(placement)], placement), _defineProperty(_classnames, styles[\"offset--\".concat(offset)], offset), _classnames))\n      }), React.createElement(BaseButton, {\n        renderIcon: IconXSolid,\n        elementRef: elementRef || buttonRef,\n        interaction: this.interaction,\n        type: type,\n        color: this.color,\n        size: size,\n        onClick: onClick,\n        margin: margin,\n        withBorder: false,\n        withBackground: false,\n        as: as,\n        href: href,\n        cursor: cursor,\n        tabIndex: tabIndex,\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }, React.createElement(ScreenReaderContent, null, screenReaderLabel || children)));\n    }\n  }, {\n    key: \"interaction\",\n    get: function get() {\n      return getInteraction({\n        props: this.props\n      });\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      var _this$props2 = this.props,\n          color = _this$props2.color,\n          variant = _this$props2.variant;\n      if (variant === 'icon-inverse' || color === 'primary-inverse') return 'primary-inverse';\n      return 'secondary';\n    }\n  }]);\n\n  CloseButton.displayName = \"CloseButton\";\n  return CloseButton;\n}(Component), _class2.propTypes = {\n  /**\n  * An accessible label for the `CloseButton` (required)\n  */\n  screenReaderLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  // CloseButton could previously accept node children, loosening this type for backwards compatibility\n\n  /**\n  * Specifies the color for the `CloseButton`.\n  */\n  color: PropTypes.oneOf(['primary', 'primary-inverse']),\n\n  /**\n  * Specifies if interaction with the `CloseButton` is enabled, disabled, or readonly.\n  */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n  * Provides a reference to the `CloseButton`'s underlying html element.\n  */\n  elementRef: PropTypes.func,\n\n  /**\n  * The size of the `CloseButton`\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * Callback fired when the `CloseButton` is clicked.\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Specifies the placement of the `CloseButton`\n  */\n  placement: PropTypes.oneOf(['start', 'end', 'static']),\n\n  /**\n  * Specifies the offset distance for the `CloseButton` with respect to both the top and start/end of the container.\n  * Note that for this property to have an effect, the `placement` prop must be set to either `start` or `end`. The\n  * offset will also be created with respect to a positioned parent. If it does not appear to be working, try setting\n  * the `position` of the parent container to `relative`.\n  */\n  offset: PropTypes.oneOf(['none', 'x-small', 'small', 'medium']),\n\n  /**\n  * Specifies the type of the `Button`'s underlying html element.\n  */\n  type: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n  /**\n  * The element to render as the component root, `CloseButton` by default.\n  */\n  as: PropTypes.elementType,\n\n  /**\n  * Specifies an href attribute for the `CloseButton`'s underlying html element.\n  */\n  href: PropTypes.string,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the `CloseButton`.\n   */\n  cursor: PropTypes.string,\n\n  /**\n  * Specifies the tabindex of the `CloseButton`.\n  */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n  * __Deprecated - use `screenReaderLabel` instead__\n  */\n  children: PropTypes.node,\n\n  /**\n  * __Deprecated - use `elementRef` instead__\n  */\n  buttonRef: PropTypes.func,\n\n  /**\n  * __Deprecated - use `color` instead__\n  */\n  variant: PropTypes.oneOf(['icon', 'icon-inverse'])\n}, _class2.defaultProps = {\n  screenReaderLabel: void 0,\n  children: void 0,\n  onClick: function onClick(event) {},\n  elementRef: void 0,\n  buttonRef: void 0,\n  variant: void 0,\n  color: void 0,\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  disabled: void 0,\n  readOnly: void 0,\n  type: 'button',\n  placement: 'static',\n  offset: 'x-small',\n  size: 'small',\n  margin: '0',\n  as: 'button',\n  href: void 0,\n  cursor: 'pointer',\n  tabIndex: void 0\n}, _temp)) || _class) || _class) || _class);\nexport default CloseButton;\nexport { CloseButton };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { omitProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'dxCCp',\n  template: function template(theme) {\n    return \"\\n\\n.dxCCp_bGBk{color:\".concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";padding:0}\\n\\n.dxCCp_eXrk{box-sizing:border-box;color:\").concat(theme.inlineColor || 'inherit', \";display:inline-block;font-size:\").concat(theme.fontSizeSmall || 'inherit', \";line-height:\").concat(theme.inlineLineHeight || 'inherit', \";max-width:100%;vertical-align:middle}\\n\\n.dxCCp_eXrk:first-of-type{-webkit-margin-start:0;margin-inline-start:0}\\n\\n[dir=ltr] .dxCCp_eXrk:first-of-type{margin-left:0}\\n\\n[dir=rtl] .dxCCp_eXrk:first-of-type{margin-right:0}\\n\\n.dxCCp_eXrk:last-of-type{-webkit-margin-end:0;margin-inline-end:0}\\n\\n[dir=ltr] .dxCCp_eXrk:last-of-type{margin-right:0}\\n\\n[dir=rtl] .dxCCp_eXrk:last-of-type{margin-left:0}\\n\\n.dxCCp_eXrk:last-of-type .dxCCp_eLRq:after{content:none}\\n\\n.dxCCp_eXrk.dxCCp_bwkW{-webkit-margin-end:\").concat(theme.spacingXXXSmall || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingXXXSmall || 'inherit', \";margin-inline-end:\").concat(theme.spacingXXXSmall || 'inherit', \";margin-inline-start:\").concat(theme.spacingXXXSmall || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_bwkW{margin-left:\").concat(theme.spacingXXXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXXXSmall || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_bwkW{margin-left:\").concat(theme.spacingXXXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXXXSmall || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_fBtB{-webkit-margin-end:\").concat(theme.spacingXXSmall || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingXXSmall || 'inherit', \";margin-inline-end:\").concat(theme.spacingXXSmall || 'inherit', \";margin-inline-start:\").concat(theme.spacingXXSmall || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_fBtB{margin-left:\").concat(theme.spacingXXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXXSmall || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_fBtB{margin-left:\").concat(theme.spacingXXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXXSmall || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_bFmZ{-webkit-margin-end:\").concat(theme.spacingXSmall || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingXSmall || 'inherit', \";margin-inline-end:\").concat(theme.spacingXSmall || 'inherit', \";margin-inline-start:\").concat(theme.spacingXSmall || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_bFmZ{margin-left:\").concat(theme.spacingXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXSmall || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_bFmZ{margin-left:\").concat(theme.spacingXSmall || 'inherit', \";margin-right:\").concat(theme.spacingXSmall || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_bCcs{-webkit-margin-end:\").concat(theme.spacingSmall || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingSmall || 'inherit', \";margin-inline-end:\").concat(theme.spacingSmall || 'inherit', \";margin-inline-start:\").concat(theme.spacingSmall || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_bCcs{margin-left:\").concat(theme.spacingSmall || 'inherit', \";margin-right:\").concat(theme.spacingSmall || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_bCcs{margin-left:\").concat(theme.spacingSmall || 'inherit', \";margin-right:\").concat(theme.spacingSmall || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_cYsY{-webkit-margin-end:\").concat(theme.spacingMedium || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingMedium || 'inherit', \";margin-inline-end:\").concat(theme.spacingMedium || 'inherit', \";margin-inline-start:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_cYsY{margin-left:\").concat(theme.spacingMedium || 'inherit', \";margin-right:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_cYsY{margin-left:\").concat(theme.spacingMedium || 'inherit', \";margin-right:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_cpQM{-webkit-margin-end:\").concat(theme.spacingLarge || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingLarge || 'inherit', \";margin-inline-end:\").concat(theme.spacingLarge || 'inherit', \";margin-inline-start:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_cpQM{margin-left:\").concat(theme.spacingLarge || 'inherit', \";margin-right:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_cpQM{margin-left:\").concat(theme.spacingLarge || 'inherit', \";margin-right:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_baAf{-webkit-margin-end:\").concat(theme.spacingXLarge || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingXLarge || 'inherit', \";margin-inline-end:\").concat(theme.spacingXLarge || 'inherit', \";margin-inline-start:\").concat(theme.spacingXLarge || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_baAf{margin-left:\").concat(theme.spacingXLarge || 'inherit', \";margin-right:\").concat(theme.spacingXLarge || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_baAf{margin-left:\").concat(theme.spacingXLarge || 'inherit', \";margin-right:\").concat(theme.spacingXLarge || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_bNHb{-webkit-margin-end:\").concat(theme.spacingXXLarge || 'inherit', \";-webkit-margin-start:\").concat(theme.spacingXXLarge || 'inherit', \";margin-inline-end:\").concat(theme.spacingXXLarge || 'inherit', \";margin-inline-start:\").concat(theme.spacingXXLarge || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_bNHb{margin-left:\").concat(theme.spacingXXLarge || 'inherit', \";margin-right:\").concat(theme.spacingXXLarge || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_bNHb{margin-left:\").concat(theme.spacingXXLarge || 'inherit', \";margin-right:\").concat(theme.spacingXXLarge || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_cfzP .dxCCp_eLRq{-webkit-margin-end:\").concat(theme.noneSpacing || 'inherit', \";-webkit-margin-start:\").concat(theme.noneSpacing || 'inherit', \";margin-inline-end:\").concat(theme.noneSpacing || 'inherit', \";margin-inline-start:\").concat(theme.noneSpacing || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_cfzP .dxCCp_eLRq{margin-left:\").concat(theme.noneSpacing || 'inherit', \";margin-right:\").concat(theme.noneSpacing || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_cfzP .dxCCp_eLRq{margin-left:\").concat(theme.noneSpacing || 'inherit', \";margin-right:\").concat(theme.noneSpacing || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_dnHs .dxCCp_eLRq{-webkit-margin-end:\").concat(theme.pipeSpacing || 'inherit', \";-webkit-margin-start:\").concat(theme.pipeSpacing || 'inherit', \";margin-inline-end:\").concat(theme.pipeSpacing || 'inherit', \";margin-inline-start:\").concat(theme.pipeSpacing || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_dnHs .dxCCp_eLRq{margin-left:\").concat(theme.pipeSpacing || 'inherit', \";margin-right:\").concat(theme.pipeSpacing || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_dnHs .dxCCp_eLRq{margin-left:\").concat(theme.pipeSpacing || 'inherit', \";margin-right:\").concat(theme.pipeSpacing || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_dnHs .dxCCp_eLRq:after{content:\\\"|\\\"}\\n\\n.dxCCp_eXrk.dxCCp_fKZL .dxCCp_eLRq{-webkit-margin-end:\").concat(theme.slashSpacing || 'inherit', \";-webkit-margin-start:\").concat(theme.slashSpacing || 'inherit', \";margin-inline-end:\").concat(theme.slashSpacing || 'inherit', \";margin-inline-start:\").concat(theme.slashSpacing || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_fKZL .dxCCp_eLRq{margin-left:\").concat(theme.slashSpacing || 'inherit', \";margin-right:\").concat(theme.slashSpacing || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_fKZL .dxCCp_eLRq{margin-left:\").concat(theme.slashSpacing || 'inherit', \";margin-right:\").concat(theme.slashSpacing || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_fKZL .dxCCp_eLRq:after{content:\\\"/\\\"}\\n\\n.dxCCp_eXrk.dxCCp_cwfJ .dxCCp_eLRq{-webkit-margin-end:\").concat(theme.arrowSpacing || 'inherit', \";-webkit-margin-start:\").concat(theme.arrowSpacing || 'inherit', \";margin-inline-end:\").concat(theme.arrowSpacing || 'inherit', \";margin-inline-start:\").concat(theme.arrowSpacing || 'inherit', \"}\\n\\n[dir=ltr] .dxCCp_eXrk.dxCCp_cwfJ .dxCCp_eLRq{margin-left:\").concat(theme.arrowSpacing || 'inherit', \";margin-right:\").concat(theme.arrowSpacing || 'inherit', \"}\\n\\n[dir=rtl] .dxCCp_eXrk.dxCCp_cwfJ .dxCCp_eLRq{margin-left:\").concat(theme.arrowSpacing || 'inherit', \";margin-right:\").concat(theme.arrowSpacing || 'inherit', \"}\\n\\n.dxCCp_eXrk.dxCCp_cwfJ .dxCCp_eLRq:after{content:\\\">\\\"}\\n\\n.dxCCp_ddES.dxCCp_bwkW,.dxCCp_fLbg.dxCCp_bwkW{margin-bottom:\").concat(theme.spacingXXXSmall || 'inherit', \";margin-top:\").concat(theme.spacingXXXSmall || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_fBtB,.dxCCp_fLbg.dxCCp_fBtB{margin-bottom:\").concat(theme.spacingXXSmall || 'inherit', \";margin-top:\").concat(theme.spacingXXSmall || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_bFmZ,.dxCCp_fLbg.dxCCp_bFmZ{margin-bottom:\").concat(theme.spacingXSmall || 'inherit', \";margin-top:\").concat(theme.spacingXSmall || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_bCcs,.dxCCp_fLbg.dxCCp_bCcs{margin-bottom:\").concat(theme.spacingSmall || 'inherit', \";margin-top:\").concat(theme.spacingSmall || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_cYsY,.dxCCp_fLbg.dxCCp_cYsY{margin-bottom:\").concat(theme.spacingMedium || 'inherit', \";margin-top:\").concat(theme.spacingMedium || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_cpQM,.dxCCp_fLbg.dxCCp_cpQM{margin-bottom:\").concat(theme.spacingLarge || 'inherit', \";margin-top:\").concat(theme.spacingLarge || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_baAf,.dxCCp_fLbg.dxCCp_baAf{margin-bottom:\").concat(theme.spacingXLarge || 'inherit', \";margin-top:\").concat(theme.spacingXLarge || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_bNHb,.dxCCp_fLbg.dxCCp_bNHb{margin-bottom:\").concat(theme.spacingXXLarge || 'inherit', \";margin-top:\").concat(theme.spacingXXLarge || 'inherit', \"}\\n\\n.dxCCp_ddES:first-of-type,.dxCCp_fLbg:first-of-type{margin-top:0}\\n\\n.dxCCp_ddES:last-of-type,.dxCCp_fLbg:last-of-type{margin-bottom:0}\\n\\n.dxCCp_ddES.dxCCp_dtEo,.dxCCp_fLbg.dxCCp_dtEo{list-style-position:inside}\\n\\n.dxCCp_ddES.dxCCp_dtEo:not(:first-of-type),.dxCCp_fLbg.dxCCp_dtEo:not(:first-of-type){border-top:\").concat(theme.delimiterDashedBorder || 'inherit', \"}\\n\\n.dxCCp_ddES.dxCCp_iLHf,.dxCCp_fLbg.dxCCp_iLHf{list-style-position:inside}\\n\\n.dxCCp_ddES.dxCCp_iLHf:not(:first-of-type),.dxCCp_fLbg.dxCCp_iLHf:not(:first-of-type){border-top:\").concat(theme.delimiterSolidBorder || 'inherit', \"}\\n\\n.dxCCp_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.dxCCp_ycrn{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.dxCCp_cMDj{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\");\n  },\n  'root': 'dxCCp_bGBk',\n  'inline': 'dxCCp_eXrk',\n  'delimiter': 'dxCCp_eLRq',\n  'spacing--xxx-small': 'dxCCp_bwkW',\n  'spacing--xx-small': 'dxCCp_fBtB',\n  'spacing--x-small': 'dxCCp_bFmZ',\n  'spacing--small': 'dxCCp_bCcs',\n  'spacing--medium': 'dxCCp_cYsY',\n  'spacing--large': 'dxCCp_cpQM',\n  'spacing--x-large': 'dxCCp_baAf',\n  'spacing--xx-large': 'dxCCp_bNHb',\n  'delimiter--none': 'dxCCp_cfzP',\n  'delimiter--pipe': 'dxCCp_dnHs',\n  'delimiter--slash': 'dxCCp_fKZL',\n  'delimiter--arrow': 'dxCCp_cwfJ',\n  'default': 'dxCCp_ddES',\n  'unstyled': 'dxCCp_fLbg',\n  'delimiter--dashed': 'dxCCp_dtEo',\n  'delimiter--solid': 'dxCCp_iLHf',\n  'small': 'dxCCp_doqw',\n  'medium': 'dxCCp_ycrn',\n  'large': 'dxCCp_cMDj'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedList\nid: DeprecatedList.Item\n---\n**/\n\nvar ListItem = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListItem, _Component);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ListItem).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var passthroughProps = View.omitViewProps(omitProps(this.props, ListItem.propTypes), ListItem);\n      var _this$props = this.props,\n          delimiter = _this$props.delimiter,\n          variant = _this$props.variant,\n          size = _this$props.size;\n      var noDelimiter = delimiter === 'none' && variant !== 'inline';\n      var noSpacing = this.props.delimiter !== 'none' || this.props.spacing === 'none';\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(!(noSpacing && this.props.spacing), \"[List] `itemSpacing` has no effect inside Lists with the `delimiter`\\n      prop set to anything other than `none`, or with a `variant` of `pipe`.\");\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[variant], true), _defineProperty(_classes, styles[size], size), _defineProperty(_classes, styles[\"delimiter--\".concat(delimiter)], true), _defineProperty(_classes, styles[\"spacing--\".concat(this.props.spacing)], this.props.spacing && !noSpacing), _classes);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        as: \"li\",\n        margin: this.props.margin,\n        padding: this.props.padding,\n        className: classnames(classes),\n        elementRef: this.props.elementRef\n      }), this.props.children, !noDelimiter && React.createElement(\"span\", {\n        className: styles.delimiter,\n        \"aria-hidden\": \"true\"\n      }));\n    }\n  }]);\n\n  ListItem.displayName = \"ListItem\";\n  return ListItem;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node.isRequired,\n  variant: PropTypes.oneOf(['default', 'unstyled', 'inline']),\n  delimiter: PropTypes.oneOf(['none', 'pipe', 'slash', 'arrow', 'dashed', 'solid']),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Valid values are `0`, `none`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `padding=\"small x-large large\"`.\n  */\n  padding: ThemeablePropTypes.spacing,\n  spacing: PropTypes.oneOf(['none', 'xxx-small', 'xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  padding: void 0,\n  margin: void 0,\n  spacing: void 0,\n  variant: void 0,\n  delimiter: void 0,\n  size: void 0,\n  elementRef: void 0\n}, _temp)) || _class) || _class);\nexport default ListItem;\nexport { ListItem };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator(typography) {\n  return {\n    lineHeight: typography.lineHeightCondensed,\n    itemMargin: '0.0625rem'\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var spacing = _ref.spacing,\n      stacking = _ref.stacking;\n  return {\n    offsetMedium: spacing.medium,\n    offsetSmall: spacing.small,\n    offsetXSmall: spacing.xSmall,\n    zIndex: stacking.above\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeight,\n    fontSizeSmall: typography.fontSizeSmall,\n    fontSizeMedium: typography.fontSizeMedium,\n    fontSizeLarge: typography.fontSizeLarge,\n    color: colors.textDarkest,\n    inlineColor: colors.textDark,\n    inlineLineHeight: typography.lineHeightCondensed,\n    noneSpacing: spacing.xSmall,\n    pipeSpacing: spacing.xSmall,\n    slashSpacing: spacing.xxxSmall,\n    arrowSpacing: spacing.xSmall,\n    marginBottomDefault: spacing.xxxSmall,\n    spacingXXXSmall: spacing.xxxSmall,\n    spacingXXSmall: spacing.xxSmall,\n    spacingXSmall: spacing.xSmall,\n    spacingSmall: spacing.small,\n    spacingMedium: spacing.medium,\n    spacingLarge: spacing.large,\n    spacingXLarge: spacing.xLarge,\n    spacingXXLarge: spacing.xxLarge,\n    delimiterDashedBorder: \"\".concat(borders.widthSmall, \" dashed \").concat(colors.borderMedium),\n    delimiterSolidBorder: \"\".concat(borders.widthSmall, \" solid \").concat(colors.borderMedium)\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps, safeCloneElement, deprecated } from '@instructure/ui-react-utils';\nimport { Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { testable } from '@instructure/ui-testable';\nimport { ListItem } from './ListItem';\nvar styles = {\n  componentId: 'tTloz',\n  template: function template(theme) {\n    return \"\\n\\n.tTloz_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";padding:0}\\n\\n.tTloz_ddES{-webkit-padding-end:0;-webkit-padding-start:\").concat(theme.defaultListPadding || 'inherit', \";padding-inline-end:0;padding-inline-start:\").concat(theme.defaultListPadding || 'inherit', \"}\\n\\n[dir=ltr] .tTloz_ddES{padding-left:\").concat(theme.defaultListPadding || 'inherit', \";padding-right:0}\\n\\n[dir=rtl] .tTloz_ddES{padding-left:0;padding-right:\").concat(theme.defaultListPadding || 'inherit', \"}\\n\\n.tTloz_ddES.tTloz_enMC{-webkit-padding-end:0;-webkit-padding-start:calc(\").concat(theme.defaultListPadding || 'inherit', \"/2);counter-reset:ol-counter;list-style-type:none;padding-inline-end:0;padding-inline-start:calc(\").concat(theme.defaultListPadding || 'inherit', \"/2)}\\n\\n[dir=ltr] .tTloz_ddES.tTloz_enMC{padding-left:calc(\").concat(theme.defaultListPadding || 'inherit', \"/2);padding-right:0}\\n\\n[dir=rtl] .tTloz_ddES.tTloz_enMC{padding-left:0;padding-right:calc(\").concat(theme.defaultListPadding || 'inherit', \"/2)}\\n\\n.tTloz_ddES.tTloz_enMC li:before{-webkit-margin-end:\").concat(theme.orderedNumberMargin || 'inherit', \";-webkit-margin-start:0;content:counters(ol-counter,\\\".\\\") \\\".\\\";counter-increment:ol-counter;font-weight:\").concat(theme.orderedNumberFontWeight || 'inherit', \";margin-inline-end:\").concat(theme.orderedNumberMargin || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .tTloz_ddES.tTloz_enMC li:before{margin-left:0;margin-right:\").concat(theme.orderedNumberMargin || 'inherit', \"}\\n\\n[dir=rtl] .tTloz_ddES.tTloz_enMC li:before{margin-left:\").concat(theme.orderedNumberMargin || 'inherit', \";margin-right:0}\\n\\n.tTloz_eXrk,.tTloz_fLbg{-webkit-padding-start:0;list-style-type:none;padding-inline-start:0}\\n\\n[dir=ltr] .tTloz_eXrk,[dir=ltr] .tTloz_fLbg{padding-left:0}\\n\\n[dir=rtl] .tTloz_eXrk,[dir=rtl] .tTloz_fLbg{padding-right:0}\");\n  },\n  'root': 'tTloz_bGBk',\n  'default': 'tTloz_ddES',\n  'ordered': 'tTloz_enMC',\n  'inline': 'tTloz_eXrk',\n  'unstyled': 'tTloz_fLbg'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedList\n---\n**/\n\nvar List = (_dec = deprecated('7.0.0', null, 'Use List from ui-list instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  function List() {\n    _classCallCheck(this, List);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(List).apply(this, arguments));\n  }\n\n  _createClass(List, [{\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this = this;\n\n      return Children.map(this.props.children, function (child) {\n        if (!child) return; // ignore null, falsy children\n\n        return safeCloneElement(child, {\n          variant: _this.props.variant,\n          delimiter: _this.props.delimiter,\n          size: _this.props.size,\n          spacing: _this.props.itemSpacing\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var passthroughProps = View.omitViewProps(omitProps(this.props, List.propTypes), List);\n      var _this$props = this.props,\n          as = _this$props.as,\n          margin = _this$props.margin,\n          variant = _this$props.variant,\n          elementRef = _this$props.elementRef;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[variant], variant), _defineProperty(_classes, styles.unordered, as === 'ul'), _defineProperty(_classes, styles.ordered, as === 'ol'), _classes);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        className: classnames(classes),\n        as: as,\n        margin: margin,\n        elementRef: elementRef\n      }), this.renderChildren());\n    }\n  }]);\n\n  List.displayName = \"List\";\n  return List;\n}(Component), _class2.propTypes = {\n  /**\n  * Only accepts `<List.Item>` as a child\n  */\n  children: ChildrenPropTypes.oneOf([ListItem]),\n  as: PropTypes.oneOf(['ul', 'ol']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['default', 'unstyled', 'inline']),\n  delimiter: PropTypes.oneOf(['none', 'pipe', 'slash', 'arrow', 'dashed', 'solid']),\n\n  /**\n  * Sets the margin separating each ListItem.\n  */\n  itemSpacing: PropTypes.oneOf(['none', 'xxx-small', 'xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large']),\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  children: null,\n  itemSpacing: void 0,\n  elementRef: void 0,\n  as: 'ul',\n  margin: 'none',\n  variant: 'default',\n  delimiter: 'none',\n  size: 'medium'\n}, _class2.Item = ListItem, _temp)) || _class) || _class) || _class);\nexport default List;\nexport { List, ListItem };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n  return {\n    background: colors.backgroundLightest,\n    color: colors.textDarkest,\n    pipeColor: colors.borderDark,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    defaultListPadding: spacing.large,\n    orderedNumberFontWeight: typography.fontWeightBold,\n    orderedNumberMargin: spacing.xSmall\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { polyfill as _polyfill } from 'react-lifecycles-compat';\nexport var polyfill = function polyfill() {\n  return _polyfill.apply(void 0, arguments);\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getClassList } from '@instructure/ui-dom-utils';\nimport { ensureSingleChild, polyfill, safeCloneElement } from '@instructure/ui-react-utils';\nvar STATES = {\n  EXITED: -2,\n  EXITING: -1,\n  ENTERING: 1,\n  ENTERED: 2\n};\n/**\n---\nprivate: true\n---\n  Note: this is forked from https://github.com/react-bootstrap/react-overlays/blob/master/src/Transition.js\n  so that it works with css modules. The internals are pretty different now, but it has roughly the same api.\n**/\n\nvar BaseTransition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BaseTransition, _React$Component);\n\n  function BaseTransition() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BaseTransition);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BaseTransition)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._timeouts = [];\n    _this.state = {\n      transitioning: false\n    };\n\n    _this.startTransition = function (transitionIn, transitionOnStart) {\n      var _this$props = _this.props,\n          transitionEnter = _this$props.transitionEnter,\n          transitionExit = _this$props.transitionExit;\n\n      if (transitionIn) {\n        _this.enter(transitionEnter && transitionOnStart ? STATES.EXITED : null);\n      } else {\n        _this.exit(transitionExit && transitionOnStart ? STATES.ENTERED : null);\n      }\n    };\n\n    _this.transition = function (toState, fromState, transitionCallback) {\n      var transitionDuration = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      if (_this._unmounted) return;\n      var classList = getClassList(_assertThisInitialized(_this));\n\n      var transitionClassName = _this.getTransitionClassName(toState);\n\n      var prevTransitionClassName = _this.getTransitionClassName(fromState);\n\n      var baseTransitionClassName = _this.props.transitionClassName;\n\n      if (fromState && transitionDuration && _this.transitionEnabled(toState)) {\n        classList.add(baseTransitionClassName);\n      } else {\n        classList.remove(baseTransitionClassName);\n      }\n\n      if (prevTransitionClassName) {\n        classList.remove(prevTransitionClassName);\n      }\n\n      if (transitionClassName) {\n        classList.add(transitionClassName);\n      }\n\n      if (toState && fromState) {\n        _this.props.onTransition(toState, fromState);\n      }\n\n      _this._timeouts.push(setTimeout(function () {\n        if (_this._unmounted) return;\n\n        if (typeof transitionCallback === 'function') {\n          transitionCallback();\n        }\n      }, transitionDuration));\n    };\n\n    _this.enter = function (initialState) {\n      if (_this.state.transitioning || _this._unmounted) return;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      props.onEnter();\n\n      if (props.transitionEnter) {\n        _this.setState({\n          transitioning: true\n        }, function () {\n          var enter = function enter() {\n            props.onEntering();\n\n            _this.transition(STATES.ENTERED, STATES.ENTERING, function () {\n              _this.setState({\n                transitioning: false\n              }, function () {\n                props.onEntered();\n              });\n            });\n          };\n\n          if (initialState) {\n            _this.transition(initialState, null, function () {\n              _this.transition(STATES.ENTERING, initialState, enter, props.enterDelay);\n            });\n          } else {\n            enter();\n          }\n        });\n      } else {\n        _this.setState({\n          transitioning: false\n        }, function () {\n          _this.transition(STATES.ENTERED, STATES.EXITED);\n\n          props.onEntered();\n        });\n      }\n    };\n\n    _this.exit = function (initialState) {\n      if (_this.state.transitioning) return;\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          props = _assertThisInitialize2.props;\n\n      props.onExit();\n\n      if (props.transitionExit) {\n        _this.setState({\n          transitioning: true\n        }, function () {\n          var exit = function exit() {\n            props.onExiting();\n\n            _this.transition(STATES.EXITED, STATES.EXITING, function () {\n              _this.setState({\n                transitioning: false\n              }, function () {\n                props.onExited();\n              });\n            });\n          };\n\n          if (initialState) {\n            _this.transition(initialState, null, function () {\n              _this.transition(STATES.EXITING, initialState, exit, props.exitDelay);\n            });\n          } else {\n            exit();\n          }\n        });\n      } else {\n        _this.setState({\n          transitioning: false\n        }, function () {\n          _this.transition(STATES.EXITED, STATES.ENTERED);\n\n          props.onExited();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(BaseTransition, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startTransition(this.props.in, this.props.transitionOnMount);\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n      if (this.props.in !== prevProps.in && prevState.transitioning) {\n        // direction changed before previous transition finished\n        return true;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, cancelPrematurely) {\n      if (cancelPrematurely) {\n        this.clearTransition(prevProps.transitionClassName);\n      }\n\n      if (this.props.transitionClassName !== prevProps.transitionClassName) {\n        this.clearTransition(prevProps.transitionClassName);\n      }\n\n      if (prevProps.in !== this.props.in) {\n        this.startTransition(this.props.in, true);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._timeouts.forEach(function (timeout) {\n        clearTimeout(timeout);\n      });\n\n      this._unmounted = true;\n    }\n  }, {\n    key: \"clearTransition\",\n    value: function clearTransition(transitionClassName) {\n      var _this2 = this;\n\n      if (this._unmounted) return;\n      this.setState({\n        transitioning: false\n      }, function () {\n        if (_this2._unmounted) return;\n        var classList = getClassList(_this2);\n        Object.keys(STATES).forEach(function (state) {\n          classList.remove(_this2.getTransitionClassName(state));\n        });\n        classList.remove(transitionClassName);\n      });\n    }\n  }, {\n    key: \"transitionEnabled\",\n    value: function transitionEnabled(toState) {\n      var props = this.props;\n\n      switch (toState) {\n        case STATES.EXITED:\n        case STATES.EXITING:\n          return props.transitionExit;\n\n        case STATES.ENTERED:\n        case STATES.ENTERING:\n          return props.transitionEnter;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getTransitionClassName\",\n    value: function getTransitionClassName(transitionState) {\n      var props = this.props;\n\n      switch (transitionState) {\n        case STATES.EXITED:\n          return props.exitedClassName;\n\n        case STATES.ENTERING:\n          return props.enteringClassName;\n\n        case STATES.ENTERED:\n          return props.enteredClassName;\n\n        case STATES.EXITING:\n          return props.exitingClassName;\n\n        default:\n          return null;\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      return safeCloneElement(ensureSingleChild(this.props.children), {\n        'aria-hidden': !this.props.in ? true : null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.in && this.props.unmountOnExit && !this.state.transitioning) {\n        return null;\n      } else {\n        return this.renderChildren();\n      }\n    }\n  }]);\n\n  BaseTransition.displayName = \"BaseTransition\";\n  return BaseTransition;\n}(React.Component);\n\nBaseTransition.propTypes = {\n  /**\n   * Show the component? Triggers the enter or exit animation.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * Unmount the component (remove it from the DOM) when it is not shown.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Run the enter animation when the component mounts, if it is initially\n   * shown\n   */\n  transitionOnMount: PropTypes.bool,\n\n  /**\n   * Run the enter animation\n   */\n  transitionEnter: PropTypes.bool,\n\n  /**\n   * Run the exit animation\n   */\n  transitionExit: PropTypes.bool,\n\n  /**\n   * A Timeout for the animation, in milliseconds, to ensure that a node doesn't\n   * transition indefinately if the browser transitionEnd events are\n   * canceled or interrupted.\n   *\n   * By default this is set to a high number (5 seconds) as a failsafe. You should consider\n   * setting this to the duration of your animation (or a bit above it).\n   */\n  enterDelay: PropTypes.number,\n\n  /**\n   * A Timeout for the animation, in milliseconds, to ensure that a node doesn't\n   * transition indefinately if the browser transitionEnd events are\n   * canceled or interrupted.\n   *\n   * By default this is set to a high number (5 seconds) as a failsafe. You should consider\n   * setting this to the duration of your animation (or a bit above it).\n   */\n  exitDelay: PropTypes.number,\n\n  /**\n   * the base CSS class for the transition (transitions go here)\n   */\n  transitionClassName: PropTypes.string,\n\n  /**\n   * CSS class or classes applied when the component is exited\n   */\n  exitedClassName: PropTypes.string,\n\n  /**\n   * CSS class or classes applied while the component is exiting\n   */\n  exitingClassName: PropTypes.string,\n\n  /**\n   * CSS class or classes applied when the component is entered\n   */\n  enteredClassName: PropTypes.string,\n\n  /**\n   * CSS class or classes applied while the component is entering\n   */\n  enteringClassName: PropTypes.string,\n\n  /**\n   * Callback fired when transitioning to the next state\n   */\n  onTransition: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" classes are applied\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" classes are applied\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"enter\" classes are applied\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" classes are applied\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" classes are applied\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" classes are applied\n   */\n  onExited: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nBaseTransition.defaultProps = {\n  in: false,\n  component: 'div',\n  unmountOnExit: false,\n  transitionOnMount: false,\n  transitionEnter: true,\n  transitionExit: true,\n  enterDelay: 300,\n  exitDelay: 300,\n  onEnter: function onEnter() {},\n  onEntering: function onEntering() {},\n  onEntered: function onEntered() {},\n  onExit: function onExit() {},\n  onExiting: function onExiting() {},\n  onExited: function onExited() {},\n  onTransition: function onTransition(toState, fromState) {},\n  className: void 0,\n  children: null,\n  transitionClassName: void 0,\n  exitedClassName: void 0,\n  exitingClassName: void 0,\n  enteredClassName: void 0,\n  enteringClassName: void 0\n};\nBaseTransition.states = STATES;\npolyfill(BaseTransition);\nexport default BaseTransition;\nexport { BaseTransition };","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ms } from '@instructure/ui-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { BaseTransition } from './BaseTransition';\nvar styles = {\n  componentId: 'eJkkQ',\n  template: function template(theme) {\n    return \"\\n\\n.eJkkQ_bGBk{transform:translateZ(0)}\\n\\n.eJkkQ_ddDm{transition:opacity \".concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \",transform \").concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \"}\\n\\n.eJkkQ_cpZA,.eJkkQ_fTmM{opacity:0.01}\\n\\n.eJkkQ_bEpV,.eJkkQ_NoZX{opacity:1}\\n\\n.eJkkQ_fOgU{transition:opacity \").concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \",transform \").concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \"}\\n\\n.eJkkQ_ZDum,.eJkkQ_fihg{opacity:0.01;transform:scale(0.01) translateZ(0)}\\n\\n.eJkkQ_eqrf,.eJkkQ_ftWB{opacity:1;transform:scale(1) translateZ(0)}\\n\\n.eJkkQ_dlJm,.eJkkQ_cPWt,.eJkkQ_bewW,.eJkkQ_bHhn{transition:opacity \").concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \",transform \").concat(theme.duration || 'inherit', \" \").concat(theme.timing || 'inherit', \"}\\n\\n.eJkkQ_bOBe,.eJkkQ_eKZC,.eJkkQ_cusP,.eJkkQ_djUe{opacity:0.01}\\n\\n.eJkkQ_cusP,.eJkkQ_dWfS{transform:translate3d(100%,0,0)}\\n\\n.eJkkQ_eKZC,.eJkkQ_chud{transform:translate3d(-100%,0,0)}\\n\\n.eJkkQ_djUe,.eJkkQ_fDdb{transform:translate3d(0,-100%,0)}\\n\\n.eJkkQ_bOBe,.eJkkQ_cYey{transform:translate3d(0,100%,0)}\\n\\n.eJkkQ_diPG,.eJkkQ_fEMB,.eJkkQ_eOlt,.eJkkQ_fvoZ,.eJkkQ_bIuM,.eJkkQ_fyZW,.eJkkQ_cuyj,.eJkkQ_gaix{opacity:1;transform:translateZ(0)}\");\n  },\n  'root': 'eJkkQ_bGBk',\n  'fade': 'eJkkQ_ddDm',\n  'fade--exited': 'eJkkQ_cpZA',\n  'fade--exiting': 'eJkkQ_fTmM',\n  'fade--entered': 'eJkkQ_bEpV',\n  'fade--entering': 'eJkkQ_NoZX',\n  'scale': 'eJkkQ_fOgU',\n  'scale--exited': 'eJkkQ_ZDum',\n  'scale--exiting': 'eJkkQ_fihg',\n  'scale--entered': 'eJkkQ_eqrf',\n  'scale--entering': 'eJkkQ_ftWB',\n  'slide-down': 'eJkkQ_dlJm',\n  'slide-left': 'eJkkQ_cPWt',\n  'slide-right': 'eJkkQ_bewW',\n  'slide-up': 'eJkkQ_bHhn',\n  'slide-down--exited': 'eJkkQ_bOBe',\n  'slide-left--exited': 'eJkkQ_eKZC',\n  'slide-right--exited': 'eJkkQ_cusP',\n  'slide-up--exited': 'eJkkQ_djUe',\n  'slide-right--exiting': 'eJkkQ_dWfS',\n  'slide-left--exiting': 'eJkkQ_chud',\n  'slide-up--exiting': 'eJkkQ_fDdb',\n  'slide-down--exiting': 'eJkkQ_cYey',\n  'slide-down--entered': 'eJkkQ_diPG',\n  'slide-down--entering': 'eJkkQ_fEMB',\n  'slide-left--entered': 'eJkkQ_eOlt',\n  'slide-left--entering': 'eJkkQ_fvoZ',\n  'slide-right--entered': 'eJkkQ_bIuM',\n  'slide-right--entering': 'eJkkQ_fyZW',\n  'slide-up--entered': 'eJkkQ_cuyj',\n  'slide-up--entering': 'eJkkQ_gaix'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n@module Transition\n**/\n\nvar Transition = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Transition, _Component);\n\n  function Transition() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Transition);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Transition)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleExited = function () {\n      if (typeof _this.props.onExited === 'function') {\n        _this.props.onExited(_this.props.type);\n      }\n    };\n\n    _this.handleEntered = function () {\n      if (typeof _this.props.onEntered === 'function') {\n        _this.props.onEntered(_this.props.type);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Transition, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          type = _this$props.type,\n          children = _this$props.children,\n          props = _objectWithoutProperties(_this$props, [\"type\", \"children\"]);\n\n      var duration = ms(this.theme.duration);\n      var classNames = type ? {\n        'exited': styles[\"\".concat(type, \"--exited\")],\n        'exiting': styles[\"\".concat(type, \"--exiting\")],\n        'entering': styles[\"\".concat(type, \"--entered\")],\n        'entered': styles[\"\".concat(type, \"--entering\")]\n      } : {};\n      return React.createElement(BaseTransition, Object.assign({}, props, {\n        enterDelay: duration,\n        exitDelay: duration,\n        transitionClassName: styles[type],\n        exitedClassName: classNames.exited,\n        exitingClassName: classNames.exiting,\n        enteredClassName: classNames.entering,\n        enteringClassName: classNames.entered,\n        onEntered: this.handleEntered,\n        onExited: this.handleExited\n      }), children);\n    }\n  }]);\n\n  Transition.displayName = \"Transition\";\n  return Transition;\n}(Component), _class2.propTypes = {\n  type: PropTypes.oneOf(['fade', 'scale', 'slide-down', 'slide-up', 'slide-left', 'slide-right']),\n\n  /**\n   * A single element to animate in and out\n   */\n  children: PropTypes.element,\n\n  /**\n   * Show the component; triggers the enter or exit animation\n   */\n  in: PropTypes.bool,\n\n  /**\n   * Unmount the component (remove it from the DOM) when it is not shown\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Run the enter animation when the component mounts, if it is initially\n   * shown\n   */\n  transitionOnMount: PropTypes.bool,\n\n  /**\n   * Run the enter animation\n   */\n  transitionEnter: PropTypes.bool,\n\n  /**\n   * Run the exit animation\n   */\n  transitionExit: PropTypes.bool,\n\n  /**\n   * Callback fired when transitioning to the next state\n   */\n  onTransition: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" classes are applied\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" classes are applied\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"enter\" classes are applied\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" classes are applied\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" classes are applied\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" classes are applied\n   */\n  onExited: PropTypes.func\n}, _class2.defaultProps = {\n  type: 'fade',\n  in: false,\n  unmountOnExit: false,\n  transitionOnMount: false,\n  transitionEnter: true,\n  transitionExit: true,\n  onEnter: function onEnter() {},\n  onEntering: function onEntering() {},\n  onEntered: function onEntered() {},\n  onExit: function onExit() {},\n  onExiting: function onExiting() {},\n  onExited: function onExited() {},\n  onTransition: function onTransition(toState, fromState) {},\n  children: null\n}, _class2.states = BaseTransition.states, _temp)) || _class) || _class);\nexport default Transition;\nexport { Transition };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { passthroughProps } from '@instructure/ui-react-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { element } from '@instructure/ui-prop-types';\n/**\n---\nprivate: true\n---\n@module ReactPortal\n**/\n\nvar ReactPortal = (_dec = bidirectional(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReactPortal, _React$Component);\n\n  function ReactPortal(props) {\n    var _this;\n\n    _classCallCheck(this, ReactPortal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactPortal).call(this, props));\n    _this.state = {\n      mountNode: _this.findMountNode(props)\n    };\n    return _this;\n  }\n\n  _createClass(ReactPortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // If Portal is mounting in an open condition fire onOpen handler\n      if (this.props.open && typeof this.props.onOpen === 'function') {\n        this.props.onOpen(this.DOMNode);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var mountNode = this.findMountNode(this.props);\n\n      if (mountNode !== this.state.mountNode) {\n        // set state here to make the component re-render\n        this.setState({\n          mountNode: mountNode\n        });\n      } // If Portal was closed but is now open fire onOpen handler\n\n\n      if (this.props.open && !prevProps.open && typeof this.props.onOpen === 'function') {\n        this.props.onOpen(this.DOMNode);\n      } // If Portal was open but is now closed fire onClose handler\n\n\n      if (!this.props.open && prevProps.open && typeof this.props.onClose === 'function') {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeNode(); // If Portal was open fire onClose handler\n\n      if (this.props.open && typeof this.props.onClose === 'function') {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return this.props.open && React.Children.count(children) > 0 ? ReactDOM.createPortal(children, this.insertNode()) : null;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode() {\n      if (this.DOMNode && this.DOMNode.parentNode && typeof this.DOMNode.parentNode.removeChild === 'function') {\n        this.DOMNode.parentNode.removeChild(this.DOMNode);\n        this.DOMNode = null;\n        this.props.elementRef(this.DOMNode);\n      }\n    }\n  }, {\n    key: \"insertNode\",\n    value: function insertNode() {\n      var _this$props = this.props,\n          open = _this$props.open,\n          insertAt = _this$props.insertAt,\n          onOpen = _this$props.onOpen,\n          onClose = _this$props.onClose,\n          mountNode = _this$props.mountNode,\n          children = _this$props.children,\n          elementRef = _this$props.elementRef,\n          props = _objectWithoutProperties(_this$props, [\"open\", \"insertAt\", \"onOpen\", \"onClose\", \"mountNode\", \"children\", \"elementRef\"]); // Create node if it doesn't already exist\n\n\n      if (!this.DOMNode) {\n        var node = document.createElement('span');\n\n        var attributes = _objectSpread({}, passthroughProps(props), {\n          dir: this.dir\n        });\n\n        Object.keys(attributes).forEach(function (name) {\n          node.setAttribute(name, attributes[name]);\n        });\n        elementRef(node);\n        this.DOMNode = node;\n      } // Append node to container if it isn't already\n\n\n      if (this.DOMNode.parentNode !== this.state.mountNode) {\n        if (insertAt === 'bottom') {\n          this.state.mountNode.appendChild(this.DOMNode);\n        } else {\n          this.state.mountNode.insertBefore(this.DOMNode, this.state.mountNode.firstChild);\n        }\n      }\n\n      return this.DOMNode;\n    }\n  }, {\n    key: \"findMountNode\",\n    value: function findMountNode(props) {\n      var mountNode;\n\n      if (typeof props.mountNode === 'function') {\n        mountNode = props.mountNode();\n      } else if (props.mountNode) {\n        mountNode = props.mountNode;\n      }\n\n      if (!mountNode || !mountNode.nodeName) {\n        mountNode = document.body;\n      }\n\n      return mountNode;\n    }\n  }, {\n    key: \"node\",\n    get: function get() {\n      return this.DOMNode;\n    }\n  }]);\n\n  ReactPortal.displayName = \"ReactPortal\";\n  return ReactPortal;\n}(React.Component), _class2.propTypes = {\n  /**\n   * Wheter or not the `<Portal />` is open\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Portal />` content has been mounted in the DOM\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when `<Portal />` has been unmounted from the DOM\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Portal />` (defaults to `document.body`)\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * The children to be rendered within the `<Portal />`\n   */\n  children: PropTypes.node,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  open: false,\n  insertAt: 'bottom',\n  onOpen: function onOpen(DOMNode) {},\n  onClose: function onClose() {},\n  mountNode: void 0,\n  children: null,\n  elementRef: function elementRef(el) {}\n}, _temp)) || _class);\nexport default ReactPortal;\nexport { ReactPortal };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { passthroughProps } from '@instructure/ui-react-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { element } from '@instructure/ui-prop-types';\nimport { shallowEqual } from '@instructure/ui-utils';\n/* istanbul ignore file */\n\n/**\n---\nprivate: true\n---\n@module SubtreePortal\n**/\n\nvar SubtreePortal = (_dec = bidirectional(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SubtreePortal, _Component);\n\n  function SubtreePortal() {\n    _classCallCheck(this, SubtreePortal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SubtreePortal).apply(this, arguments));\n  }\n\n  _createClass(SubtreePortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderPortal(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(shallowEqual(this.props, nextProps) && shallowEqual(this.state, nextState));\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.renderPortal(nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removePortal(this.props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }, {\n    key: \"renderPortal\",\n    value: function renderPortal(props) {\n      var _this = this;\n\n      var open = props.open,\n          insertAt = props.insertAt,\n          onOpen = props.onOpen,\n          onClose = props.onClose,\n          elementRef = props.elementRef,\n          children = props.children,\n          passThroughProps = _objectWithoutProperties(props, [\"open\", \"insertAt\", \"onOpen\", \"onClose\", \"elementRef\", \"children\"]);\n\n      var isInitialMount = !this.DOMNode;\n      var mountNode = this.mountNode;\n      var content = children; // Wrap text in a span since subtree will only render a single top-level node\n\n      if (typeof content === 'string' && content.length > 0) {\n        content = React.createElement(\"span\", null, content);\n      } // Render subtree if Portal is open and has children to render\n\n\n      if (open && React.Children.count(content) > 0) {\n        // Create node if it doesn't already exist\n        if (!this.DOMNode) {\n          var node = document.createElement('span');\n\n          var attributes = _objectSpread({}, passthroughProps(passThroughProps), {\n            dir: this.dir\n          });\n\n          Object.keys(attributes).forEach(function (name) {\n            node.setAttribute(name, attributes[name]);\n          });\n          elementRef(node);\n          this.DOMNode = node;\n        } // Append node to container if it isn't already\n\n\n        if (this.DOMNode.parentNode !== mountNode) {\n          if (insertAt === 'bottom') {\n            mountNode.appendChild(this.DOMNode);\n          } else {\n            mountNode.insertBefore(this.DOMNode, mountNode.firstChild);\n          }\n        } // Notify that subtree has been rendered if props ask for it\n\n\n        var handleMount = function handleMount() {\n          // Only fire onOpen if Portal was closed and is now open\n          if ((isInitialMount || !_this.props.open && open) && typeof onOpen === 'function') {\n            onOpen(_this.DOMNode);\n          }\n        };\n\n        ReactDOM.unstable_renderSubtreeIntoContainer(this, content, this.DOMNode, handleMount);\n      } else {\n        this.removePortal(props);\n      }\n    }\n  }, {\n    key: \"removePortal\",\n    value: function removePortal(props) {\n      var unmounted;\n\n      if (this.DOMNode) {\n        unmounted = ReactDOM.unmountComponentAtNode(this.DOMNode);\n        this.DOMNode.parentNode && this.DOMNode.parentNode.removeChild(this.DOMNode);\n        this.DOMNode = null;\n        this.props.elementRef(this.DOMNode);\n      }\n\n      if (unmounted && typeof props.onClose === 'function') {\n        props.onClose();\n      }\n    }\n  }, {\n    key: \"mountNode\",\n    get: function get() {\n      var mountNode;\n\n      if (typeof this.props.mountNode === 'function') {\n        mountNode = this.props.mountNode();\n      } else if (this.props.mountNode) {\n        mountNode = this.props.mountNode;\n      }\n\n      if (!mountNode || !mountNode.nodeName) {\n        mountNode = document.body;\n      }\n\n      return mountNode;\n    }\n  }, {\n    key: \"DOMNode\",\n    get: function get() {\n      return this._node;\n    },\n    set: function set(el) {\n      this._node = el;\n    } // for backwards compatibility:\n\n  }, {\n    key: \"node\",\n    get: function get() {\n      return this.DOMNode;\n    }\n  }]);\n\n  SubtreePortal.displayName = \"SubtreePortal\";\n  return SubtreePortal;\n}(Component), _class2.propTypes = {\n  /**\n   * Wheter or not the `<Portal />` is open\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Portal />` content has been mounted in the DOM\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when `<Portal />` has been unmounted from the DOM\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Portal />` (defaults to `document.body`)\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * The children to be rendered within the `<Portal />`\n   */\n  children: PropTypes.node,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  open: false,\n  insertAt: 'bottom',\n  onOpen: function onOpen(DOMNode) {},\n  onClose: function onClose() {},\n  mountNode: null,\n  children: null,\n  elementRef: function elementRef(el) {}\n}, _temp)) || _class);\nexport default SubtreePortal;\nexport { SubtreePortal };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var transitions = _ref.transitions;\n  return {\n    duration: transitions.duration,\n    timing: transitions.timing\n  };\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { element } from '@instructure/ui-prop-types';\nimport { ReactPortal } from './ReactPortal';\nimport { SubtreePortal } from './SubtreePortal';\nvar IS_CREATE_PORTAL_SUPPORTED = typeof ReactDOM.createPortal === 'function';\n/**\n---\ncategory: components/utilities\n---\n@module Portal\n**/\n\nvar Portal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Portal, _Component);\n\n  function Portal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Portal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Portal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      if (el) {\n        _this.DOMNode = el;\n\n        if (typeof _this.props.elementRef === 'function') {\n          _this.props.elementRef(el);\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: \"render\",\n    value: function render() {\n      return IS_CREATE_PORTAL_SUPPORTED ? React.createElement(ReactPortal, Object.assign({}, this.props, {\n        elementRef: this.handleElementRef\n      })) : React.createElement(SubtreePortal, Object.assign({}, this.props, {\n        elementRef: this.handleElementRef\n      }));\n    }\n  }]);\n\n  Portal.displayName = \"Portal\";\n  return Portal;\n}(Component);\n\nPortal.propTypes = {\n  /**\n   * Wheter or not the `<Portal />` is open\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Portal />` content has been mounted in the DOM\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when `<Portal />` has been unmounted from the DOM\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Portal />` (defaults to `document.body`)\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * The children to be rendered within the `<Portal />`\n   */\n  children: PropTypes.node,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func\n};\nPortal.defaultProps = {\n  open: false,\n  insertAt: 'bottom',\n  onOpen: function onOpen(DOMNode) {},\n  onClose: function onClose() {},\n  mountNode: null,\n  children: null,\n  elementRef: function elementRef(el) {}\n};\nexport default Portal;\nexport { Portal };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport noScroll from 'no-scroll';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ensureSingleChild, omitProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'fvvQs',\n  template: function template(theme) {\n    return \"\\n\\n.fvvQs_bGBk{background:\".concat(theme.background || 'inherit', \";border:\").concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";bottom:0;box-sizing:border-box;display:flex;justify-content:center;left:0;outline:none;overflow:auto;position:absolute;right:0;top:0;z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n.fvvQs_bGBk:focus{border-color:\").concat(theme.focusBorderColor || 'inherit', \"}\\n\\n.fvvQs_cMOR{position:fixed}\\n\\n.fvvQs_dacV{align-items:flex-start}\\n\\n.fvvQs_cwzs{align-items:center}\\n\\n.fvvQs_cGWj{align-items:flex-end}\\n\\n.fvvQs_eFiI{align-items:stretch}\");\n  },\n  'root': 'fvvQs_bGBk',\n  'fullscreen': 'fvvQs_cMOR',\n  'top': 'fvvQs_dacV',\n  'center': 'fvvQs_cwzs',\n  'bottom': 'fvvQs_cGWj',\n  'stretch': 'fvvQs_eFiI'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/utilities\n---\n**/\n\nvar Mask = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Mask, _Component);\n\n  function Mask() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Mask);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Mask)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleElementRef = function (el) {\n      _this.props.elementRef(el);\n    };\n\n    _this.contentRef = function (el) {\n      _this._content = el;\n    };\n\n    return _this;\n  }\n\n  _createClass(Mask, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.fullscreen) {\n        noScroll.on();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.fullscreen) {\n        noScroll.off();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var content = ensureSingleChild(this.props.children, {\n        ref: this.contentRef\n      });\n      var classes = classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[this.props.placement], true), _defineProperty(_classnames, styles.fullscreen, this.props.fullscreen), _classnames));\n\n      var props = _objectSpread({}, omitProps(this.props, Mask.propTypes), {\n        className: classes,\n        ref: this.handleElementRef\n      });\n\n      if (typeof this.props.onClick === 'function') {\n        props.onClick = this.props.onClick;\n        props.tabIndex = -1;\n      }\n\n      return React.createElement(\"span\", props, content);\n    }\n  }]);\n\n  Mask.displayName = \"Mask\";\n  return Mask;\n}(Component), _class2.propTypes = {\n  onDismiss: PropTypes.func,\n  placement: PropTypes.oneOf(['top', 'center', 'bottom', 'stretch']),\n  fullscreen: PropTypes.bool,\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  placement: 'center',\n  fullscreen: false,\n  onDismiss: void 0,\n  children: null,\n  onClick: void 0,\n  elementRef: function elementRef(el) {}\n}, _temp)) || _class);\nexport default Mask;\nexport { Mask };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      stacking = _ref.stacking;\n  return {\n    zIndex: stacking.topmost,\n    background: 'rgba(255, 255, 255, 0.75)',\n    borderColor: 'transparent',\n    focusBorderColor: colors.borderBrand,\n    borderRadius: borders.radiusMedium,\n    borderWidth: borders.widthSmall\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    focusBorderColor: variables['ic-brand-primary']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { matchComponentTypes, omitProps } from '@instructure/ui-react-utils';\nimport { CloseButton } from '@instructure/ui-buttons';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'cDMBL',\n  template: function template(theme) {\n    return \"\\n\\n.cDMBL_bGBk{-webkit-padding-end:\".concat(theme.padding || 'inherit', \";-webkit-padding-start:\").concat(theme.padding || 'inherit', \";background:\").concat(theme.background || 'inherit', \";border-bottom-color:\").concat(theme.borderColor || 'inherit', \";border-bottom-style:solid;border-bottom-width:0.0625rem;box-sizing:border-box;flex:0 0 auto;padding:\").concat(theme.padding || 'inherit', \";padding-inline-end:\").concat(theme.padding || 'inherit', \";padding-inline-start:\").concat(theme.padding || 'inherit', \"}\\n\\n[dir=ltr] .cDMBL_bGBk{padding-left:\").concat(theme.padding || 'inherit', \";padding-right:\").concat(theme.padding || 'inherit', \"}\\n\\n[dir=rtl] .cDMBL_bGBk{padding-left:\").concat(theme.padding || 'inherit', \";padding-right:\").concat(theme.padding || 'inherit', \"}\\n\\n.cDMBL_enfx{background:\").concat(theme.inverseBackground || 'inherit', \";border-bottom-color:\").concat(theme.inverseBorderColor || 'inherit', \"}\\n\\n.cDMBL_ssMr{-webkit-padding-end:calc(\").concat(theme.padding || 'inherit', \"*2 + 1em);padding-inline-end:calc(\").concat(theme.padding || 'inherit', \"*2 + 1em)}\\n\\n[dir=ltr] .cDMBL_ssMr{padding-right:calc(\").concat(theme.padding || 'inherit', \"*2 + 1em)}\\n\\n[dir=rtl] .cDMBL_ssMr{padding-left:calc(\").concat(theme.padding || 'inherit', \"*2 + 1em)}\");\n  },\n  'root': 'cDMBL_bGBk',\n  'inverse': 'cDMBL_enfx',\n  'withCloseButton': 'cDMBL_ssMr'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedModal\nid: DeprecatedModal.Header\n---\n**/\n\nvar ModalHeader = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalHeader, _Component);\n\n  function ModalHeader() {\n    _classCallCheck(this, ModalHeader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ModalHeader).apply(this, arguments));\n  }\n\n  _createClass(ModalHeader, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var usesCloseButton = false;\n      React.Children.forEach(this.props.children, function (child) {\n        if (child && matchComponentTypes(child, [CloseButton])) {\n          usesCloseButton = true;\n        }\n      });\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.inverse, this.props.variant === 'inverse'), _defineProperty(_classes, styles.withCloseButton, usesCloseButton === true), _classes);\n      return React.createElement(\"div\", Object.assign({\n        className: classnames(classes)\n      }, omitProps(this.props, ModalHeader.propTypes)), this.props.children);\n    }\n  }]);\n\n  ModalHeader.displayName = \"ModalHeader\";\n  return ModalHeader;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  variant: PropTypes.oneOf(['default', 'inverse'])\n}, _class2.defaultProps = {\n  children: null,\n  variant: 'default'\n}, _temp)) || _class) || _class);\nexport default ModalHeader;\nexport { ModalHeader };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { isIE11 } from '@instructure/ui-utils';\nvar styles = {\n  componentId: 'butxX',\n  template: function template(theme) {\n    return \"\\n\\n.butxX_bGBk{box-sizing:border-box;flex:1 1 auto;overflow-y:auto}\\n\\n.butxX_bGBk:focus{outline:none}\\n\\n.butxX_enfx{background:\".concat(theme.inverseBackground || 'inherit', \"}\");\n  },\n  'root': 'butxX_bGBk',\n  'inverse': 'butxX_enfx'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedModal\nid: DeprecatedModal.Body\n---\n**/\n\nvar ModalBody = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalBody, _Component);\n\n  function ModalBody() {\n    _classCallCheck(this, ModalBody);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ModalBody).apply(this, arguments));\n  }\n\n  _createClass(ModalBody, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          as = _this$props.as,\n          elementRef = _this$props.elementRef,\n          overflow = _this$props.overflow,\n          variant = _this$props.variant,\n          padding = _this$props.padding,\n          children = _this$props.children;\n      var passthroughProps = View.omitViewProps(omitProps(this.props, ModalBody.propTypes), ModalBody);\n      var classes = classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles.inverse, variant === 'inverse'), _classnames));\n      var isFit = overflow === 'fit';\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(!isIE11 || !isFit, \"[Modal] overflow=\\\"fit\\\" is only supported with fullscreen modals in Internet Explorer\");\n\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        display: \"block\",\n        width: isFit ? '100%' : null,\n        height: isFit ? '100%' : null,\n        elementRef: elementRef,\n        as: as,\n        className: classes,\n        padding: padding,\n        tabIndex: \"-1\" // prevent FF from focusing view when scrollable\n\n      }), children);\n    }\n  }]);\n\n  ModalBody.displayName = \"ModalBody\";\n  return ModalBody;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  padding: ThemeablePropTypes.spacing,\n  elementRef: PropTypes.func,\n  as: PropTypes.elementType,\n  variant: PropTypes.oneOf(['default', 'inverse']),\n  overflow: PropTypes.oneOf(['scroll', 'fit'])\n}, _class2.defaultProps = {\n  padding: 'medium',\n  as: 'div',\n  variant: 'default',\n  children: null,\n  elementRef: void 0,\n  overflow: void 0\n}, _temp)) || _class) || _class);\nexport default ModalBody;\nexport { ModalBody };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'dNoYT',\n  template: function template(theme) {\n    return \"\\n\\n.dNoYT_bGBk{background:\".concat(theme.background || 'inherit', \";border-bottom-left-radius:\").concat(theme.borderRadius || 'inherit', \";border-bottom-right-radius:\").concat(theme.borderRadius || 'inherit', \";border-top:\").concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";box-sizing:border-box;display:flex;flex:0 0 auto;justify-content:flex-end;padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.dNoYT_enfx{background:\").concat(theme.inverseBackground || 'inherit', \";border-top:\").concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.inverseBorderColor || 'inherit', \"}\");\n  },\n  'root': 'dNoYT_bGBk',\n  'inverse': 'dNoYT_enfx'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedModal\nid: DeprecatedModal.Footer\n---\n**/\n\nvar ModalFooter = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalFooter, _Component);\n\n  function ModalFooter() {\n    _classCallCheck(this, ModalFooter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ModalFooter).apply(this, arguments));\n  }\n\n  _createClass(ModalFooter, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.inverse, this.props.variant === 'inverse'), _classes);\n      return React.createElement(\"div\", Object.assign({\n        className: classnames(classes)\n      }, omitProps(this.props, ModalFooter.propTypes)), this.props.children);\n    }\n  }]);\n\n  ModalFooter.displayName = \"ModalFooter\";\n  return ModalFooter;\n}(Component), _class2.propTypes = {\n  children: PropTypes.node,\n  variant: PropTypes.oneOf(['default', 'inverse'])\n}, _class2.defaultProps = {\n  variant: 'default',\n  children: null\n}, _temp)) || _class) || _class);\nexport default ModalFooter;\nexport { ModalFooter };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Dialog } from '@instructure/ui-dialog';\nimport { element, Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { omitProps, safeCloneElement, matchComponentTypes, deprecated } from '@instructure/ui-react-utils';\nimport { createChainedFunction, isIE11 } from '@instructure/ui-utils';\nimport { Transition } from '@instructure/ui-motion';\nimport { Portal } from '@instructure/ui-portal';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { Mask } from '../Mask';\nimport { ModalHeader } from './ModalHeader';\nimport { ModalBody } from './ModalBody';\nimport { ModalFooter } from './ModalFooter';\nvar styles = {\n  componentId: 'deUoG',\n  template: function template(theme) {\n    return \"\\n\\n.deUoG_bGBk{background:\".concat(theme.background || 'inherit', \";border:0.0625rem solid \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";box-shadow:\").concat(theme.boxShadow || 'inherit', \";box-sizing:border-box;color:\").concat(theme.textColor || 'inherit', \";display:flex;flex-direction:column;font-family:\").concat(theme.fontFamily || 'inherit', \";min-width:1px;position:relative}\\n\\n.deUoG_bGBk.deUoG_eoSs{display:block;overflow:auto}\\n\\n.deUoG_enfx{background:\").concat(theme.inverseBackground || 'inherit', \";color:\").concat(theme.inverseTextColor || 'inherit', \"}\\n\\n.deUoG_uUeq,.deUoG_cMDj,.deUoG_ycrn,.deUoG_doqw{max-height:95%;max-width:95%}\\n\\n.deUoG_uUeq.deUoG_eoSs,.deUoG_cMDj.deUoG_eoSs,.deUoG_ycrn.deUoG_eoSs,.deUoG_doqw.deUoG_eoSs{max-height:none}\\n\\n.deUoG_uUeq.deUoG_fHQo:not(.deUoG_eoSs),.deUoG_cMDj.deUoG_fHQo:not(.deUoG_eoSs),.deUoG_ycrn.deUoG_fHQo:not(.deUoG_eoSs),.deUoG_doqw.deUoG_fHQo:not(.deUoG_eoSs){transform:translateY(2.5%)}\\n\\n.deUoG_uUeq{flex:0 1 auto;min-width:\").concat(theme.autoMinWidth || 'inherit', \"}\\n\\n.deUoG_doqw{flex:0 1 \").concat(theme.smallMaxWidth || 'inherit', \"}\\n\\n.deUoG_ycrn{flex:0 1 \").concat(theme.mediumMaxWidth || 'inherit', \"}\\n\\n.deUoG_cMDj{flex:0 1 \").concat(theme.largeMaxWidth || 'inherit', \"}\\n\\n.deUoG_cMOR{border:none;border-radius:0;box-shadow:none;flex:1;height:100%;width:100%}\\n\\n.deUoG_VVEf{align-items:flex-start;bottom:0;box-sizing:border-box;display:flex;justify-content:center;left:0;overflow:auto;right:0;top:0;z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n.deUoG_ekLq{position:fixed}\\n\\n.deUoG_fMis{position:absolute}\\n\\n.deUoG_fuFB{display:block;height:100%;position:relative;width:100%}\");\n  },\n  'root': 'deUoG_bGBk',\n  'ie11': 'deUoG_eoSs',\n  'inverse': 'deUoG_enfx',\n  'auto': 'deUoG_uUeq',\n  'large': 'deUoG_cMDj',\n  'medium': 'deUoG_ycrn',\n  'small': 'deUoG_doqw',\n  'overflow--fit': 'deUoG_fHQo',\n  'fullscreen': 'deUoG_cMOR',\n  'fullscreenLayout': 'deUoG_VVEf',\n  'fullscreenLayout--window': 'deUoG_ekLq',\n  'fullscreenLayout--parent': 'deUoG_fMis',\n  'constrainContext': 'deUoG_fuFB'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedModal\n---\n**/\n\nvar Modal = (_dec = deprecated('7.0.0', null, 'Use Modal from ui-modal instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal(props) {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Modal).call(this, props));\n\n    _this.handlePortalOpen = function (DOMNode) {\n      _this.DOMNode = DOMNode;\n      DOMNode && _this.applyTheme(DOMNode);\n    };\n\n    _this.handleTransitionExited = function () {\n      _this.setState({\n        transitioning: false\n      });\n    };\n\n    _this.contentRef = function (el) {\n      _this._content = el;\n\n      if (typeof _this.props.contentRef === 'function') {\n        _this.props.contentRef(el);\n      }\n    };\n\n    _this.state = {\n      transitioning: false\n    };\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.open && !this.props.open) {\n        // closing\n        this.setState({\n          transitioning: prevProps.transition !== null\n        });\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          variant = _this$props.variant,\n          overflow = _this$props.overflow;\n      return Children.map(children, function (child) {\n        if (!child) return; // ignore null, falsy children\n\n        if (matchComponentTypes(child, [ModalBody])) {\n          return safeCloneElement(child, {\n            variant: variant,\n            overflow: child.props.overflow || overflow\n          });\n        } else {\n          return safeCloneElement(child, {\n            variant: variant\n          });\n        }\n      });\n    }\n  }, {\n    key: \"renderModal\",\n    value: function renderModal() {\n      var _classnames;\n\n      var _this$props2 = this.props,\n          onDismiss = _this$props2.onDismiss,\n          label = _this$props2.label,\n          shouldCloseOnDocumentClick = _this$props2.shouldCloseOnDocumentClick,\n          shouldReturnFocus = _this$props2.shouldReturnFocus,\n          liveRegion = _this$props2.liveRegion,\n          size = _this$props2.size,\n          variant = _this$props2.variant,\n          contentRef = _this$props2.contentRef,\n          constrain = _this$props2.constrain,\n          props = _objectWithoutProperties(_this$props2, [\"onDismiss\", \"label\", \"shouldCloseOnDocumentClick\", \"shouldReturnFocus\", \"liveRegion\", \"size\", \"variant\", \"contentRef\", \"constrain\"]);\n\n      var dialog = React.createElement(Dialog, Object.assign({}, omitProps(props, Modal.propTypes), {\n        onDismiss: onDismiss,\n        label: label,\n        defaultFocusElement: this.defaultFocusElement,\n        shouldCloseOnDocumentClick: shouldCloseOnDocumentClick,\n        shouldCloseOnEscape: true,\n        shouldContainFocus: true,\n        shouldReturnFocus: shouldReturnFocus,\n        liveRegion: liveRegion,\n        open: true,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[size], true), _defineProperty(_classnames, styles.inverse, this.props.variant === 'inverse'), _defineProperty(_classnames, styles['overflow--fit'], this.props.overflow === 'fit'), _defineProperty(_classnames, styles.ie11, this.ie11), _classnames)),\n        ref: this.contentRef // aria-modal=\"true\" see VO bug https://bugs.webkit.org/show_bug.cgi?id=174667\n\n      }), this.renderChildren());\n\n      if (size === 'fullscreen') {\n        var _classnames2;\n\n        return React.createElement(\"span\", {\n          className: classnames((_classnames2 = {}, _defineProperty(_classnames2, styles.fullscreenLayout, true), _defineProperty(_classnames2, styles[\"fullscreenLayout--\".concat(constrain)], true), _classnames2))\n        }, dialog);\n      } else {\n        return React.createElement(Mask, {\n          placement: this.maskPlacement,\n          fullscreen: constrain === 'window'\n        }, dialog);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          open = _this$props3.open,\n          onOpen = _this$props3.onOpen,\n          onClose = _this$props3.onClose,\n          mountNode = _this$props3.mountNode,\n          insertAt = _this$props3.insertAt,\n          transition = _this$props3.transition,\n          onEnter = _this$props3.onEnter,\n          onEntering = _this$props3.onEntering,\n          onEntered = _this$props3.onEntered,\n          onExit = _this$props3.onExit,\n          onExiting = _this$props3.onExiting,\n          onExited = _this$props3.onExited,\n          constrain = _this$props3.constrain;\n      var portalIsOpen = open || this.state.transitioning;\n      return React.createElement(Portal, {\n        mountNode: mountNode,\n        insertAt: insertAt,\n        open: portalIsOpen,\n        onOpen: createChainedFunction(this.handlePortalOpen, onOpen),\n        onClose: onClose\n      }, portalIsOpen && React.createElement(Transition, {\n        in: open,\n        transitionOnMount: true,\n        unmountOnExit: true,\n        type: transition,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: createChainedFunction(this.handleTransitionExited, onExited),\n        theme: this.ie11 ? {\n          duration: '0s'\n        } : null // IE11 doesn't always complete transition\n\n      }, constrain === 'parent' ? React.createElement(\"span\", {\n        className: styles.constrainContext\n      }, this.renderModal()) : this.renderModal()));\n    }\n  }, {\n    key: \"defaultFocusElement\",\n    get: function get() {\n      return this.props.defaultFocusElement;\n    }\n  }, {\n    key: \"DOMNode\",\n    get: function get() {\n      return this._DOMNode;\n    },\n    set: function set(el) {\n      this._DOMNode = el;\n    }\n  }, {\n    key: \"maskPlacement\",\n    get: function get() {\n      if (isIE11) {\n        return 'top';\n      } else if (this.props.overflow === 'fit') {\n        return 'stretch';\n      } else {\n        return 'center';\n      }\n    }\n  }]);\n\n  Modal.displayName = \"Modal\";\n  return Modal;\n}(Component), _class2.propTypes = {\n  /**\n   * An accessible label for the `<Modal />` content\n   */\n  label: PropTypes.string.isRequired,\n\n  /**\n   * The children to be rendered within the `<Modal />`\n   */\n  children: ChildrenPropTypes.enforceOrder([ModalHeader, ModalBody, ModalFooter], [ModalHeader, ModalBody], [ModalBody, ModalFooter], [ModalBody]),\n\n  /*\n   * The size of the `<Modal />` content\n   */\n  size: PropTypes.oneOf(['auto', 'small', 'medium', 'large', 'fullscreen']),\n\n  /**\n  * Designates the background style of the `<Modal />`\n  */\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n   * Whether or not the `<Modal />` is open\n   */\n  open: PropTypes.bool,\n\n  /**\n   * An element or a function returning an element to focus by default\n   */\n  defaultFocusElement: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n   * Whether focus should be returned to the trigger when the `<Modal/>` is closed\n   */\n  shouldReturnFocus: PropTypes.bool,\n\n  /**\n   * Whether the `<Modal/>` should request close when the document is clicked\n   */\n  shouldCloseOnDocumentClick: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Modal />` content has been mounted in the DOM\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when `<Modal />` has been unmounted from the DOM\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the `<Modal />` is requesting to be closed\n   */\n  onDismiss: PropTypes.func,\n\n  /**\n   *\n   * A function that returns a reference to the content element\n   */\n  contentRef: PropTypes.func,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Modal />` (defaults to `document.body`)\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * An element, function returning an element, or array of elements that will not be hidden from\n   * the screen reader when the `<Modal />` is open\n   */\n  liveRegion: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element, PropTypes.func]),\n  transition: Transition.propTypes.type,\n\n  /**\n   * Callback fired before the <Modal /> transitions in\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired as the <Modal /> begins to transition in\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the <Modal /> finishes transitioning in\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired right before the <Modal /> transitions out\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired as the <Modal /> begins to transition out\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the <Modal /> finishes transitioning out\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Constrain the Modal to the document window or its closest positioned parent\n   */\n  constrain: PropTypes.oneOf(['window', 'parent']),\n\n  /**\n   * Should ModalBody handle overflow with scrollbars, or fit its\n   * content within its own height?\n   */\n  overflow: PropTypes.oneOf(['scroll', 'fit'])\n}, _class2.defaultProps = {\n  open: false,\n  size: 'auto',\n  variant: 'default',\n  transition: 'fade',\n  onOpen: function onOpen(event) {},\n  onClose: function onClose(event) {},\n  onDismiss: function onDismiss(event) {},\n  onEnter: function onEnter() {},\n  onEntering: function onEntering() {},\n  onEntered: function onEntered() {},\n  onExit: function onExit() {},\n  onExiting: function onExiting() {},\n  onExited: function onExited() {},\n  mountNode: null,\n  insertAt: 'bottom',\n  liveRegion: null,\n  contentRef: function contentRef(el) {},\n  shouldCloseOnDocumentClick: true,\n  shouldReturnFocus: true,\n  defaultFocusElement: null,\n  children: null,\n  constrain: 'window',\n  overflow: 'scroll'\n}, _class2.Header = ModalHeader, _class2.Body = ModalBody, _class2.Footer = ModalFooter, _temp)) || _class) || _class) || _class);\nexport default Modal;\nexport { Modal, ModalHeader, ModalBody, ModalFooter };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing;\n  return {\n    background: colors.backgroundLightest,\n    borderColor: colors.borderMedium,\n    padding: spacing.medium,\n    inverseBackground: colors.backgroundDarkest,\n    inverseBorderColor: colors.backgroundDarkest\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors;\n  return {\n    inverseBackground: colors.backgroundSecondary\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing;\n  return {\n    background: colors.backgroundLight,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthSmall,\n    borderRadius: borders.radiusMedium,\n    padding: spacing.small,\n    inverseBackground: colors.backgroundDarkest,\n    inverseBorderColor: colors.borderDarkest\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      breakpoints = _ref.breakpoints,\n      shadows = _ref.shadows,\n      stacking = _ref.stacking,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    textColor: colors.textDarkest,\n    background: colors.backgroundLightest,\n    borderColor: colors.borderMedium,\n    borderRadius: borders.radiusMedium,\n    inverseBackground: colors.backgroundBrandSecondary,\n    inverseTextColor: colors.textLightest,\n    autoMinWidth: breakpoints.xSmall,\n    smallMaxWidth: breakpoints.small,\n    mediumMaxWidth: breakpoints.medium,\n    largeMaxWidth: breakpoints.large,\n    boxShadow: shadows.depth3,\n    zIndex: stacking.topmost\n  };\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nlet externalConversion;\nexport function initializeContent(options) {\n  externalConversion = options.convertApiUserContent;\n}\nexport function convertApiUserContent(content) {\n  // allow tests to work without initialization\n  if (process.env.NODE_ENV === 'test') {\n    return content;\n  }\n\n  return externalConversion(content);\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { bool, func, shape, string } from 'prop-types';\nimport { momentObj } from 'react-moment-proptypes';\nimport { Button, CloseButton } from '@instructure/ui-buttons';\nimport { Heading, List, Text } from '@instructure/ui-elements';\nimport { Modal } from '@instructure/ui-overlays';\nimport { View } from '@instructure/ui-layout';\nimport formatMessage from '../../format-message';\nimport { dateString, dateTimeString, dateRangeString } from '../../utilities/dateUtils';\nimport { convertApiUserContent } from '../../utilities/contentUtils';\nimport { userShape } from '../plannerPropTypes';\nexport default class CalendarEventModal extends React.Component {\n  renderRow(firstColumnContent, secondColumnContent) {\n    return /*#__PURE__*/React.createElement(List.Item, null, /*#__PURE__*/React.createElement(Text, {\n      weight: \"bold\"\n    }, firstColumnContent), /*#__PURE__*/React.createElement(View, {\n      margin: \"0 0 0 x-small\"\n    }, /*#__PURE__*/React.createElement(Text, null, secondColumnContent)));\n  }\n\n  renderTimeString() {\n    const _this$props = this.props,\n          startTime = _this$props.startTime,\n          endTime = _this$props.endTime,\n          timeZone = _this$props.timeZone;\n\n    if (this.props.allDay) {\n      return dateString(startTime, timeZone);\n    } else if (endTime && !startTime.isSame(endTime)) {\n      return dateRangeString(startTime, endTime, timeZone);\n    } else {\n      return dateTimeString(startTime, timeZone);\n    }\n  }\n\n  renderDateTimeRow() {\n    return this.renderRow(formatMessage('Date & Time:'), this.renderTimeString());\n  }\n\n  renderCalendarRow() {\n    const calendarName = this.props.courseName || this.props.currentUser.displayName;\n    return this.renderRow(formatMessage('Calendar:'), calendarName);\n  }\n\n  renderLocationRow() {\n    if (this.props.location) {\n      return this.renderRow(formatMessage('Location:'), this.props.location);\n    }\n  }\n\n  renderAddressRow() {\n    if (this.props.address) {\n      return this.renderRow(formatMessage('Address:'), this.props.address);\n    }\n  }\n\n  renderDetails() {\n    if (this.props.details) {\n      const convertedHtml = convertApiUserContent(this.props.details);\n      return /*#__PURE__*/React.createElement(List.Item, {\n        margin: \"large 0 0 0\"\n      }, /*#__PURE__*/React.createElement(Text, {\n        weight: \"bold\"\n      }, formatMessage('Details:')), /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: convertedHtml\n        }\n      }));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Modal, {\n      label: \"Calendar Event Details\",\n      size: \"small\",\n      open: this.props.open,\n      onDismiss: this.props.requestClose,\n      shouldCloseOnDocumentClick: true\n    }, /*#__PURE__*/React.createElement(Modal.Header, null, /*#__PURE__*/React.createElement(Heading, null, /*#__PURE__*/React.createElement(Button, {\n      variant: \"link\",\n      size: \"large\",\n      theme: {\n        largePadding: '0',\n        largeHeight: 'normal'\n      },\n      href: this.props.html_url\n    }, this.props.title)), /*#__PURE__*/React.createElement(CloseButton, {\n      placement: \"end\",\n      onClick: this.props.requestClose\n    }, formatMessage('Close'))), /*#__PURE__*/React.createElement(Modal.Body, {\n      padding: \"medium\"\n    }, /*#__PURE__*/React.createElement(List, {\n      variant: \"unstyled\",\n      itemSpacing: \"small\"\n    }, this.renderCalendarRow(), this.renderDateTimeRow(), this.renderLocationRow(), this.renderAddressRow(), this.renderDetails())));\n  }\n\n}\nCalendarEventModal.propTypes = {\n  open: bool.isRequired,\n  requestClose: func.isRequired,\n  title: string.isRequired,\n  html_url: string.isRequired,\n  courseName: string,\n  currentUser: shape(userShape),\n  location: string,\n  address: string,\n  details: string,\n  startTime: momentObj.isRequired,\n  endTime: momentObj,\n  allDay: bool.isRequired,\n  timeZone: string.isRequired\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  borders,\n  colors,\n  spacing,\n  typography\n}) {\n  return {\n    fontFamily: typography.fontFamily,\n    lineHeight: typography.lineHeightCondensed,\n    color: colors.licorice,\n    padding: \"\".concat(spacing.small, \" \").concat(spacing.xSmall),\n    paddingMedium: \"\".concat(spacing.small),\n    paddingLarge: \"\".concat(spacing.small, \" \").concat(spacing.medium),\n    gutterWidth: spacing.medium,\n    gutterWidthXLarge: spacing.medium,\n    bottomMargin: spacing.xSmall,\n    borderWidth: borders.widthSmall,\n    borderColor: colors.tiara,\n    iconFontSize: spacing.medium,\n    iconColor: colors.brand,\n    badgeMargin: '0.0625rem',\n    metricsPadding: spacing.xxSmall,\n    typeMargin: spacing.xxSmall,\n    titleLineHeight: typography.lineHeightFit\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    iconColor: variables['ic-brand-primary']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { themeable, ApplyTheme } from '@instructure/ui-themeable';\nimport { Text, Pill, Avatar } from '@instructure/ui-elements';\nimport { Checkbox, CheckboxFacade } from '@instructure/ui-checkbox';\nimport { ScreenReaderContent, PresentationContent } from '@instructure/ui-a11y';\nimport { Button } from '@instructure/ui-buttons';\nimport { IconAssignmentLine, IconQuizLine, IconAnnouncementLine, IconDiscussionLine, IconCalendarMonthLine, IconDocumentLine, IconEditLine, IconPeerReviewLine } from '@instructure/ui-icons';\nimport { arrayOf, bool, number, string, func, shape, object } from 'prop-types';\nimport { momentObj } from 'react-moment-proptypes'; // eslint-disable-next-line import/no-named-as-default\n\nimport NotificationBadge, { MissingIndicator, NewActivityIndicator } from '../NotificationBadge';\nimport BadgeList from '../BadgeList';\nimport CalendarEventModal from '../CalendarEventModal';\nimport responsiviser from '../responsiviser';\nconst styles = {\n  componentId: 'dsRAF',\n  template: function (theme) {\n    return \"\\n\\n.root_2eX6{align-items:center;border-bottom:\".concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";display:flex;flex:1;font-family:\").concat(theme.fontFamily || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.root_2eX6.small_2eX6{align-items:flex-start}\\n\\n.avatar_2eX6,.completed_2eX6,.icon_2eX6,.layout_2eX6{box-sizing:border-box}\\n\\n.completed_2eX6{margin-inline-start:\").concat(theme.gutterWidth || 'inherit', \";width:1.375rem}\\n\\n[dir=ltr] .completed_2eX6{margin-left:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=rtl] .completed_2eX6{margin-right:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n.activityIndicator_2eX6{padding-inline-end:0;padding-inline-start:0}\\n\\n[dir=ltr] .activityIndicator_2eX6{padding-left:0;padding-right:0}\\n\\n[dir=rtl] .activityIndicator_2eX6{padding-left:0;padding-right:0}\\n\\n.activityIndicator_2eX6+.completed_2eX6{margin-inline-start:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n[dir=ltr] .activityIndicator_2eX6+.completed_2eX6{margin-left:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n[dir=rtl] .activityIndicator_2eX6+.completed_2eX6{margin-right:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n.icon_2eX6{color:\").concat(theme.iconColor || 'inherit', \";margin:0 \").concat(theme.gutterWidth || 'inherit', \"}\\n\\n.icon_2eX6>svg{display:block}\\n\\n.avatar_2eX6{margin:0 calc(\").concat(theme.gutterWidth || 'inherit', \" - (2.5em - \").concat(theme.iconFontSize || 'inherit', \")/2)}\\n\\n.layout_2eX6{flex-direction:column}\\n\\n.innerLayout_2eX6,.layout_2eX6{display:flex;flex:1 0;min-width:1px}\\n\\n.innerLayout_2eX6{align-items:center;min-height:2.5rem}\\n\\n.details_2eX6{box-sizing:border-box;flex:0 0 50%;margin-bottom:0;min-width:1px}\\n\\n.details_2eX6.details_no_badges_2eX6{flex:0 0 75%}\\n\\n.secondary_2eX6{align-items:center;box-sizing:border-box;display:flex;flex:0 0 50%;justify-content:flex-end;min-width:1px}\\n\\n.secondary_2eX6.secondary_no_badges_2eX6{flex:0 0 25%}\\n\\n.type_2eX6{letter-spacing:0.0625rem;line-height:1;margin-bottom:\").concat(theme.typeMargin || 'inherit', \";text-transform:uppercase}\\n\\n.title_2eX6,.type_2eX6{box-sizing:border-box}\\n\\n.title_2eX6{line-height:\").concat(theme.titleLineHeight || 'inherit', \"}\\n\\n.metrics_2eX6{box-sizing:border-box;flex:0 0 10rem;min-width:1px;padding-inline-start:\").concat(theme.metricsPadding || 'inherit', \";text-align:end}\\n\\n[dir=ltr] .metrics_2eX6{padding-left:\").concat(theme.metricsPadding || 'inherit', \";text-align:right}\\n\\n[dir=rtl] .metrics_2eX6{padding-right:\").concat(theme.metricsPadding || 'inherit', \";text-align:left}\\n\\n.metrics_2eX6.with_end_time_2eX6{flex-basis:14rem}\\n\\n.metrics_2eX6.with_end_time_2eX6 .due_2eX6{text-transform:none}\\n\\n.due_2eX6,.score_2eX6{box-sizing:border-box;letter-spacing:0.0625rem;line-height:1;text-transform:uppercase;white-space:nowrap}\\n\\n.badges_2eX6{flex:1;min-width:1px;text-align:end}\\n\\n[dir=ltr] .badges_2eX6{text-align:right}\\n\\n[dir=rtl] .badges_2eX6{text-align:left}\\n\\n.feedback_2eX6{align-items:center;display:flex;min-height:40px}\\n\\n.feedback_2eX6 .feedbackAvatar_2eX6{flex-shrink:0;margin-inline-end:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=ltr] .feedback_2eX6 .feedbackAvatar_2eX6{margin-right:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=rtl] .feedback_2eX6 .feedbackAvatar_2eX6{margin-left:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n.feedback_2eX6 .feedbackComment_2eX6,.medium_2eX6 .title_2eX6,.small_2eX6 .title_2eX6{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\\n\\n.medium_2eX6 .title_2eX6,.small_2eX6 .title_2eX6{padding-inline-end:0.5rem}\\n\\n[dir=ltr] .medium_2eX6 .title_2eX6,[dir=ltr] .small_2eX6 .title_2eX6{padding-right:0.5rem}\\n\\n[dir=rtl] .medium_2eX6 .title_2eX6,[dir=rtl] .small_2eX6 .title_2eX6{padding-left:0.5rem}\\n\\n.small_2eX6{padding-left:0;padding-right:0}\\n\\n.small_2eX6 .completed_2eX6{margin-inline-start:6px}\\n\\n[dir=ltr] .small_2eX6 .completed_2eX6{margin-left:6px}\\n\\n[dir=rtl] .small_2eX6 .completed_2eX6{margin-right:6px}\\n\\n.small_2eX6 .innerLayout_2eX6{align-items:flex-start;flex-direction:column;margin-inline-start:1rem}\\n\\n[dir=ltr] .small_2eX6 .innerLayout_2eX6{margin-left:1rem}\\n\\n[dir=rtl] .small_2eX6 .innerLayout_2eX6{margin-right:1rem}\\n\\n.small_2eX6 .details_2eX6{margin-bottom:1rem}\\n\\n.small_2eX6 .details_2eX6,.small_2eX6 .secondary_2eX6{flex:1 0 auto;width:100%}\\n\\n.small_2eX6 .metrics_2eX6{align-items:flex-end;display:flex;flex:1 0 auto;flex-direction:row-reverse;justify-content:space-between;padding-inline-start:0;text-align:unset}\\n\\n[dir=ltr] .small_2eX6 .metrics_2eX6{padding-left:0;text-align:unset}\\n\\n[dir=rtl] .small_2eX6 .metrics_2eX6{padding-right:0;text-align:unset}\\n\\n.small_2eX6 .due_2eX6{width:100%}\\n\\n.small_2eX6 .avatar_2eX6,.small_2eX6 .badges_2eX6,.small_2eX6 .editButton_2eX6,.small_2eX6 .feedback_2eX6,.small_2eX6 .icon_2eX6{display:none}\\n\\n.small_2eX6 .location_2eX6{margin-inline-start:1rem}\\n\\n[dir=ltr] .small_2eX6 .location_2eX6{margin-left:1rem}\\n\\n[dir=rtl] .small_2eX6 .location_2eX6{margin-right:1rem}\");\n  },\n  'root': 'root_2eX6',\n  'small': 'small_2eX6',\n  'avatar': 'avatar_2eX6',\n  'completed': 'completed_2eX6',\n  'icon': 'icon_2eX6',\n  'layout': 'layout_2eX6',\n  'activityIndicator': 'activityIndicator_2eX6',\n  'innerLayout': 'innerLayout_2eX6',\n  'details': 'details_2eX6',\n  'details_no_badges': 'details_no_badges_2eX6',\n  'secondary': 'secondary_2eX6',\n  'secondary_no_badges': 'secondary_no_badges_2eX6',\n  'type': 'type_2eX6',\n  'title': 'title_2eX6',\n  'metrics': 'metrics_2eX6',\n  'with_end_time': 'with_end_time_2eX6',\n  'due': 'due_2eX6',\n  'score': 'score_2eX6',\n  'badges': 'badges_2eX6',\n  'feedback': 'feedback_2eX6',\n  'feedbackAvatar': 'feedbackAvatar_2eX6',\n  'feedbackComment': 'feedbackComment_2eX6',\n  'medium': 'medium_2eX6',\n  'editButton': 'editButton_2eX6',\n  'location': 'location_2eX6'\n};\nimport theme from './theme.js';\nimport { badgeShape, userShape, statusShape, sizeShape, feedbackShape } from '../plannerPropTypes';\nimport { showPillForOverdueStatus } from '../../utilities/statusUtils';\nimport formatMessage from '../../format-message';\nimport { animatable } from '../../dynamic-ui';\nexport class PlannerItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toDoLinkClick = e => {\n      e.preventDefault();\n      this.props.updateTodo({\n        updateTodoItem: _objectSpread({}, this.props)\n      });\n    };\n\n    this.registerRootDivRef = elt => {\n      this.rootDivRef = elt;\n    };\n\n    this.registerFocusElementRef = elt => {\n      this.checkboxRef = elt;\n    };\n\n    this.getFocusable = which => {\n      return which === 'update' || which === 'delete' ? this.itemLink : this.checkboxRef;\n    };\n\n    this.renderDateField = () => {\n      if (this.props.date) {\n        if (this.props.allDay) {\n          return formatMessage('All Day');\n        }\n\n        if (this.props.associated_item === 'Calendar Event') {\n          if (this.showEndTime()) {\n            return formatMessage('{startTime} to {endTime}', {\n              startTime: this.props.date.format('LT'),\n              endTime: this.props.endTime.format('LT')\n            });\n          } else {\n            return formatMessage(this.props.date.format('LT'));\n          }\n        }\n\n        if (this.hasDueTime()) {\n          if (this.props.associated_item === 'Peer Review') {\n            return formatMessage('Reminder: {date}', {\n              date: this.props.date.format('LT')\n            });\n          } else if (this.props.dateStyle === 'todo') {\n            return formatMessage('To Do: {date}', {\n              date: this.props.date.format('LT')\n            });\n          } else {\n            return formatMessage('Due: {date}', {\n              date: this.props.date.format('LT')\n            });\n          }\n        }\n\n        return this.props.date.format('LT');\n      }\n\n      return null;\n    };\n\n    this.openCalendarEventModal = () => {\n      this.setState({\n        calendarEventModalOpen: true\n      });\n    };\n\n    this.closeCalendarEventModal = () => {\n      this.setState({\n        calendarEventModalOpen: false\n      });\n    };\n\n    this.renderIcon = () => {\n      const currentUser = this.props.currentUser || {};\n\n      switch (this.props.associated_item) {\n        case 'Assignment':\n          return /*#__PURE__*/React.createElement(IconAssignmentLine, null);\n\n        case 'Quiz':\n          return /*#__PURE__*/React.createElement(IconQuizLine, null);\n\n        case 'Discussion':\n          return /*#__PURE__*/React.createElement(IconDiscussionLine, null);\n\n        case 'Announcement':\n          return /*#__PURE__*/React.createElement(IconAnnouncementLine, null);\n\n        case 'Calendar Event':\n          return /*#__PURE__*/React.createElement(IconCalendarMonthLine, null);\n\n        case 'Page':\n          return /*#__PURE__*/React.createElement(IconDocumentLine, null);\n\n        case 'Peer Review':\n          return /*#__PURE__*/React.createElement(IconPeerReviewLine, null);\n\n        default:\n          return /*#__PURE__*/React.createElement(Avatar, {\n            name: currentUser.displayName || '?',\n            src: currentUser.avatarUrl,\n            size: \"small\",\n            \"data-fs-exclude\": true\n          });\n      }\n    };\n\n    this.renderBadges = () => {\n      if (this.props.badges.length) {\n        return /*#__PURE__*/React.createElement(BadgeList, null, this.props.badges.map(b => /*#__PURE__*/React.createElement(Pill, {\n          key: b.id,\n          text: b.text,\n          variant: b.variant\n        })));\n      }\n\n      return null;\n    };\n\n    this.renderItemSubMetric = () => {\n      if (this.props.points) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.score\n        }, /*#__PURE__*/React.createElement(Text, {\n          color: \"secondary\"\n        }, /*#__PURE__*/React.createElement(Text, {\n          size: \"large\"\n        }, this.props.points), /*#__PURE__*/React.createElement(Text, {\n          size: \"x-small\"\n        }, \"\\xA0\", formatMessage('pts'))));\n      }\n\n      if (this.props.associated_item === 'To Do') {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.editButton\n        }, /*#__PURE__*/React.createElement(ApplyTheme, {\n          theme: {\n            [Button.theme]: {\n              iconColor: this.props.color\n            }\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"icon\",\n          icon: IconEditLine,\n          onClick: this.toDoLinkClick\n        }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('Edit')))));\n      }\n\n      return null;\n    };\n\n    this.renderItemMetrics = () => {\n      const secondaryClasses = classnames(styles.secondary, !this.hasBadges() ? styles.secondary_no_badges : '');\n      const metricsClasses = classnames(styles.metrics, {\n        [styles.with_end_time]: this.showEndTime()\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: secondaryClasses\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.badges\n      }, this.renderBadges()), /*#__PURE__*/React.createElement(\"div\", {\n        className: metricsClasses\n      }, this.renderItemSubMetric(), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.due\n      }, /*#__PURE__*/React.createElement(Text, {\n        color: \"secondary\",\n        size: \"x-small\"\n      }, /*#__PURE__*/React.createElement(PresentationContent, null, this.renderDateField())))));\n    };\n\n    this.renderType = () => {\n      if (!this.props.associated_item) {\n        return formatMessage('{course} TO DO', {\n          course: this.props.courseName || ''\n        });\n      } else {\n        return \"\".concat(this.props.courseName || '', \" \").concat(this.assignmentType());\n      }\n    };\n\n    this.renderItemDetails = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames(styles.details, !this.hasBadges() ? styles.details_no_badges : '')\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.type\n      }, /*#__PURE__*/React.createElement(Text, {\n        size: \"x-small\",\n        color: \"secondary\"\n      }, this.renderType())), this.renderTitle());\n    };\n\n    this.getCheckboxTheme = () => {\n      return {\n        checkedBackground: this.props.color,\n        checkedBorderColor: this.props.color,\n        borderColor: this.props.color,\n        hoverBorderColor: this.props.color\n      };\n    };\n\n    this.state = {\n      calendarEventModalOpen: false,\n      completed: props.completed\n    };\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('item', this, this.props.animatableIndex, [this.props.uniqueId]);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.props.deregisterAnimatable('item', this, [this.props.uniqueId]);\n    this.props.registerAnimatable('item', this, nextProps.animatableIndex, [nextProps.uniqueId]);\n    this.setState({\n      completed: nextProps.completed\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('item', this, [this.props.uniqueId]);\n  }\n\n  getScrollable() {\n    return this.rootDivRef;\n  }\n\n  getLayout() {\n    return this.props.responsiveSize;\n  }\n\n  hasDueTime() {\n    return this.props.date && !(this.props.associated_item === 'Announcement' || this.props.associated_item === 'Calendar Event');\n  }\n\n  showEndTime() {\n    return this.props.date && !this.props.allDay && this.props.endTime && !this.props.endTime.isSame(this.props.date);\n  }\n\n  hasBadges() {\n    return this.props.badges && this.props.badges.length && this.props.badges.length > 0;\n  }\n\n  assignmentType() {\n    switch (this.props.associated_item) {\n      case 'Quiz':\n        return formatMessage('Quiz');\n\n      case 'Discussion':\n        return formatMessage('Discussion');\n\n      case 'Assignment':\n        return formatMessage('Assignment');\n\n      case 'Page':\n        return formatMessage('Page');\n\n      case 'Announcement':\n        return formatMessage('Announcement');\n\n      case 'To Do':\n        return formatMessage('To Do');\n\n      case 'Calendar Event':\n        return formatMessage('Calendar Event');\n\n      case 'Peer Review':\n        return formatMessage('Peer Review');\n\n      default:\n        return formatMessage('Task');\n    }\n  }\n\n  linkLabel() {\n    const assignmentType = this.assignmentType();\n    const datetimeformat = this.props.allDay === true ? 'LL' : 'LLLL';\n    const params = {\n      assignmentType,\n      title: this.props.title,\n      datetime: this.props.date ? this.props.date.format(datetimeformat) : null\n    };\n\n    if (this.props.date) {\n      if (this.props.allDay) {\n        return formatMessage('{assignmentType} {title}, all day on {datetime}.', params);\n      }\n\n      if (this.props.associated_item === 'Calendar Event') {\n        if (this.showEndTime()) {\n          params.endTime = this.props.endTime.format('LT');\n          return formatMessage('{assignmentType} {title}, at {datetime} until {endTime}', params);\n        } else {\n          return formatMessage('{assignmentType} {title}, at {datetime}.', params);\n        }\n      }\n\n      if (this.hasDueTime()) {\n        if (this.props.dateStyle === 'todo') {\n          return formatMessage('{assignmentType} {title} has a to do time at {datetime}.', params);\n        } else if (this.props.associated_item === 'Peer Review') {\n          return formatMessage('{assignmentType} {title}, reminder {datetime}.', params);\n        } else {\n          return formatMessage('{assignmentType} {title}, due {datetime}.', params);\n        }\n      }\n\n      if (this.props.associated_item === 'Announcement') {\n        return formatMessage('{assignmentType} {title} posted {datetime}.', params);\n      }\n    }\n\n    return formatMessage('{assignmentType} {title}.', params);\n  }\n\n  renderCalendarEventModal() {\n    if (this.props.associated_item !== 'Calendar Event') return null;\n    return /*#__PURE__*/React.createElement(CalendarEventModal, {\n      open: this.state.calendarEventModalOpen,\n      requestClose: this.closeCalendarEventModal,\n      title: this.props.title,\n      html_url: this.props.html_url,\n      courseName: this.props.courseName,\n      currentUser: this.props.currentUser,\n      location: this.props.location,\n      address: this.props.address,\n      details: this.props.details,\n      startTime: this.props.date,\n      endTime: this.props.endTime,\n      allDay: !!this.props.allDay,\n      timeZone: this.props.timeZone\n    });\n  }\n\n  renderTitle() {\n    const linkProps = {};\n\n    if (this.props.associated_item === 'To Do') {\n      linkProps.onClick = this.toDoLinkClick;\n    }\n\n    if (this.props.associated_item === 'Calendar Event') {\n      linkProps.onClick = this.openCalendarEventModal;\n    } else {\n      linkProps.href = this.props.html_url;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title,\n      style: {\n        position: 'relative'\n      }\n    }, /*#__PURE__*/React.createElement(Button, Object.assign({\n      variant: \"link\",\n      theme: {\n        mediumPadding: '0',\n        mediumHeight: 'normal'\n      },\n      buttonRef: link => {\n        this.itemLink = link;\n      }\n    }, linkProps), /*#__PURE__*/React.createElement(ScreenReaderContent, null, this.linkLabel()), /*#__PURE__*/React.createElement(PresentationContent, null, this.props.title)), this.renderCalendarEventModal());\n  }\n\n  renderNotificationBadge() {\n    if (!this.props.showNotificationBadge) {\n      return null;\n    }\n\n    const newItem = this.props.newActivity;\n    let missing = false;\n\n    if (showPillForOverdueStatus('missing', {\n      status: this.props.status,\n      context: this.props.context\n    })) {\n      missing = true;\n    }\n\n    if (newItem || missing) {\n      const IndicatorComponent = newItem ? NewActivityIndicator : MissingIndicator;\n      return /*#__PURE__*/React.createElement(NotificationBadge, {\n        responsiveSize: this.props.responsiveSize\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.activityIndicator\n      }, /*#__PURE__*/React.createElement(IndicatorComponent, {\n        title: this.props.title,\n        itemIds: [this.props.uniqueId],\n        animatableIndex: this.props.animatableIndex,\n        getFocusable: this.getFocusable\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(NotificationBadge, {\n        responsiveSize: this.props.responsiveSize\n      });\n    }\n  }\n\n  renderExtraInfo() {\n    const feedback = this.props.feedback;\n\n    if (feedback) {\n      const comment = feedback.is_media ? formatMessage('You have media feedback.') : feedback.comment;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.feedback\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.feedbackAvatar\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        name: feedback.author_name || '?',\n        src: feedback.author_avatar_url,\n        size: \"small\",\n        \"data-fs-exclude\": true\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.feedbackComment\n      }, /*#__PURE__*/React.createElement(Text, {\n        fontStyle: \"italic\"\n      }, comment)));\n    }\n\n    const location = this.props.location;\n\n    if (location) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.location\n      }, /*#__PURE__*/React.createElement(Text, {\n        color: \"secondary\"\n      }, location));\n    }\n\n    return null;\n  }\n\n  render() {\n    const assignmentType = this.assignmentType();\n    const checkboxLabel = this.state.completed ? formatMessage('{assignmentType} {title} is marked as done.', {\n      assignmentType,\n      title: this.props.title\n    }) : formatMessage('{assignmentType} {title} is not marked as done.', {\n      assignmentType,\n      title: this.props.title\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, styles[this.getLayout()], 'planner-item'),\n      ref: this.registerRootDivRef\n    }, this.renderNotificationBadge(), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.completed\n    }, /*#__PURE__*/React.createElement(ApplyTheme, {\n      theme: {\n        [CheckboxFacade.theme]: this.getCheckboxTheme()\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      ref: this.registerFocusElementRef,\n      label: /*#__PURE__*/React.createElement(ScreenReaderContent, null, checkboxLabel),\n      checked: this.props.toggleAPIPending ? !this.state.completed : this.state.completed,\n      onChange: this.props.toggleCompletion,\n      disabled: this.props.toggleAPIPending\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.associated_item === 'To Do' ? styles.avatar : styles.icon,\n      style: {\n        color: this.props.color\n      },\n      \"aria-hidden\": \"true\"\n    }, this.renderIcon()), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.layout\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.innerLayout\n    }, this.renderItemDetails(), this.renderItemMetrics()), this.renderExtraInfo()));\n  }\n\n}\nPlannerItem.propTypes = {\n  color: string,\n  id: string.isRequired,\n  uniqueId: string.isRequired,\n  animatableIndex: number,\n  title: string.isRequired,\n  points: number,\n  date: momentObj,\n  dateStyle: string,\n  details: string,\n  courseName: string,\n  completed: bool,\n  overrideId: string,\n  associated_item: string,\n  context: object,\n  html_url: string,\n  toggleCompletion: func,\n  updateTodo: func.isRequired,\n  badges: arrayOf(shape(badgeShape)),\n  registerAnimatable: func,\n  deregisterAnimatable: func,\n  toggleAPIPending: bool,\n  status: statusShape,\n  newActivity: bool,\n  showNotificationBadge: bool,\n  currentUser: shape(userShape),\n  responsiveSize: sizeShape,\n  allDay: bool,\n  feedback: shape(feedbackShape),\n  location: string,\n  endTime: momentObj,\n  timeZone: string.isRequired\n};\nPlannerItem.defaultProps = {\n  badges: [],\n  responsiveSize: 'large',\n  allDay: false\n};\nconst ResponsivePlannerItem = responsiviser()(PlannerItem);\nexport default animatable(themeable(theme, styles)(ResponsivePlannerItem));","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M568.13.012L392 176.142l783.864 783.989L392 1743.87 568.13 1920l960.118-959.87z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenEndSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenEndSolid, _Component);\n\n  function IconArrowOpenEndSolid() {\n    _classCallCheck(this, IconArrowOpenEndSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenEndSolid).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenEndSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenEnd\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenEndSolid.displayName = \"IconArrowOpenEndSolid\";\n  return IconArrowOpenEndSolid;\n}(Component);\n\nIconArrowOpenEndSolid.glyphName = 'arrow-open-end';\nIconArrowOpenEndSolid.variant = 'Solid';\nIconArrowOpenEndSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenEndSolid;\nexport { IconArrowOpenEndSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M.08 568.062l176.13-176.13 783.988 783.865 783.74-783.864 176.13 176.13-959.87 960.118z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenDownSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenDownSolid, _Component);\n\n  function IconArrowOpenDownSolid() {\n    _classCallCheck(this, IconArrowOpenDownSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenDownSolid).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenDownSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenDown\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenDownSolid.displayName = \"IconArrowOpenDownSolid\";\n  return IconArrowOpenDownSolid;\n}(Component);\n\nIconArrowOpenDownSolid.glyphName = 'arrow-open-down';\nIconArrowOpenDownSolid.variant = 'Solid';\nIconArrowOpenDownSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenDownSolid;\nexport { IconArrowOpenDownSolid };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Button } from '@instructure/ui-buttons';\nimport { IconArrowOpenEndSolid, IconArrowOpenDownSolid } from '@instructure/ui-icons';\nimport { Expandable } from '@instructure/ui-expandable';\nimport { themeable } from '@instructure/ui-themeable';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'MlJlv',\n  template: function template(theme) {\n    return \"\\n\\n.MlJlv_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.MlJlv_doqw .MlJlv_ebWM,.MlJlv_doqw .MlJlv_cjSw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \"}\\n\\n.MlJlv_doqw .MlJlv_dnnz{font-size:\").concat(theme.smallIconSize || 'inherit', \"}\\n\\n.MlJlv_doqw .MlJlv_dUEG{-webkit-padding-end:0;-webkit-padding-start:calc(\").concat(theme.smallIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-inline-end:0;padding-inline-start:calc(\").concat(theme.smallIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n[dir=ltr] .MlJlv_doqw .MlJlv_dUEG{padding-left:calc(\").concat(theme.smallIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-right:0}\\n\\n[dir=rtl] .MlJlv_doqw .MlJlv_dUEG{padding-left:0;padding-right:calc(\").concat(theme.smallIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n.MlJlv_ycrn .MlJlv_ebWM,.MlJlv_ycrn .MlJlv_cjSw{font-size:\").concat(theme.fontSizeMedium || 'inherit', \"}\\n\\n.MlJlv_ycrn .MlJlv_dnnz{font-size:\").concat(theme.mediumIconSize || 'inherit', \"}\\n\\n.MlJlv_ycrn .MlJlv_dUEG{-webkit-padding-end:0;-webkit-padding-start:calc(\").concat(theme.mediumIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-inline-end:0;padding-inline-start:calc(\").concat(theme.mediumIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n[dir=ltr] .MlJlv_ycrn .MlJlv_dUEG{padding-left:calc(\").concat(theme.mediumIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-right:0}\\n\\n[dir=rtl] .MlJlv_ycrn .MlJlv_dUEG{padding-left:0;padding-right:calc(\").concat(theme.mediumIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n.MlJlv_cMDj .MlJlv_ebWM,.MlJlv_cMDj .MlJlv_cjSw{font-size:\").concat(theme.fontSizeLarge || 'inherit', \"}\\n\\n.MlJlv_cMDj .MlJlv_dnnz{font-size:\").concat(theme.largeIconSize || 'inherit', \"}\\n\\n.MlJlv_cMDj .MlJlv_dUEG{-webkit-padding-end:0;-webkit-padding-start:calc(\").concat(theme.largeIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-inline-end:0;padding-inline-start:calc(\").concat(theme.largeIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n[dir=ltr] .MlJlv_cMDj .MlJlv_dUEG{padding-left:calc(\").concat(theme.largeIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \");padding-right:0}\\n\\n[dir=rtl] .MlJlv_cMDj .MlJlv_dUEG{padding-left:0;padding-right:calc(\").concat(theme.largeIconSize || 'inherit', \" + \").concat(theme.togglePadding || 'inherit', \")}\\n\\n.MlJlv_cjSw{-moz-appearance:none;-moz-user-select:none;-ms-user-select:none;-webkit-appearance:none;-webkit-user-select:none;appearance:none;background:transparent;border:none;box-sizing:border-box;color:\").concat(theme.textColor || 'inherit', \";cursor:pointer;font-family:\").concat(theme.fontFamily || 'inherit', \";margin:0;outline:none;overflow:visible;padding:0;position:relative;text-decoration:none;touch-action:manipulation;user-select:none}\\n\\n.MlJlv_cjSw::-moz-focus-inner{margin:0;padding:0}\\n\\n.MlJlv_cjSw:before{border:\").concat(theme.toggleBorderWidth || 'inherit', \" \").concat(theme.toggleBorderStyle || 'inherit', \" \").concat(theme.toggleFocusBorderColor || 'inherit', \";border-radius:calc(\").concat(theme.toggleBorderRadius || 'inherit', \"*1.5);bottom:-0.375rem;content:\\\"\\\";left:-0.375rem;opacity:0;pointer-events:none;position:absolute;right:-0.375rem;top:-0.375rem}\\n\\n.MlJlv_cjSw:focus:before{opacity:1}\\n\\n.MlJlv_cjSw:active,.MlJlv_cjSw:focus,.MlJlv_cjSw:hover{color:\").concat(theme.textColor || 'inherit', \";text-decoration:none}\\n\\n.MlJlv_cvfe{display:block;width:100%}\\n\\n.MlJlv_doNn{align-items:center;box-sizing:border-box;display:flex;position:relative;text-align:start}\\n\\n[dir=ltr] .MlJlv_doNn{text-align:left}\\n\\n[dir=rtl] .MlJlv_doNn{text-align:right}\\n\\n.MlJlv_dnnz{color:\").concat(theme.iconColor || 'inherit', \"}\\n\\n.MlJlv_dnnz>svg{display:block}\\n\\n.MlJlv_fuNk{-webkit-margin-end:\").concat(theme.iconMargin || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.iconMargin || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .MlJlv_fuNk{margin-left:0;margin-right:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n[dir=rtl] .MlJlv_fuNk{margin-left:\").concat(theme.iconMargin || 'inherit', \";margin-right:0}\\n\\n.MlJlv_fhZl{-webkit-margin-end:0;-webkit-margin-start:\").concat(theme.iconMargin || 'inherit', \";margin-inline-end:0;margin-inline-start:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n[dir=ltr] .MlJlv_fhZl{margin-left:\").concat(theme.iconMargin || 'inherit', \";margin-right:0}\\n\\n[dir=rtl] .MlJlv_fhZl{margin-left:0;margin-right:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n.MlJlv_btWg{flex-grow:1;min-width:0.0625rem}\\n\\n.MlJlv_fFWz .MlJlv_btWg{flex:1}\\n\\n.MlJlv_ebWM{box-sizing:border-box;color:\").concat(theme.textColor || 'inherit', \";padding-top:\").concat(theme.togglePadding || 'inherit', \"}\\n\\n.MlJlv_eFWP{display:none}\\n\\n.MlJlv_cMGi{display:block}\\n\\n@keyframes MlJlv_dFUU{to{opacity:1}}\\n\\n.MlJlv_caGd{animation-duration:0.3s;animation-fill-mode:forwards;animation-name:MlJlv_dFUU;opacity:0.01}\");\n  },\n  'root': 'MlJlv_bGBk',\n  'small': 'MlJlv_doqw',\n  'details': 'MlJlv_ebWM',\n  'toggle': 'MlJlv_cjSw',\n  'icon': 'MlJlv_dnnz',\n  'indentDetails': 'MlJlv_dUEG',\n  'medium': 'MlJlv_ycrn',\n  'large': 'MlJlv_cMDj',\n  'fluidWidth': 'MlJlv_cvfe',\n  'summary': 'MlJlv_doNn',\n  'iconStart': 'MlJlv_fuNk',\n  'iconEnd': 'MlJlv_fhZl',\n  'summaryText': 'MlJlv_btWg',\n  'positionIconAtEnd': 'MlJlv_fFWz',\n  'hiddenDetails': 'MlJlv_eFWP',\n  'expandedDetails': 'MlJlv_cMGi',\n  'content': 'MlJlv_caGd',\n  'contentAnimation': 'MlJlv_dFUU'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar ToggleDetails = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToggleDetails, _Component);\n\n  function ToggleDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ToggleDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ToggleDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.shouldAnimateContent = false;\n\n    _this.getButtonRef = function (el) {\n      return _this._button = el;\n    };\n\n    return _this;\n  }\n\n  _createClass(ToggleDetails, [{\n    key: \"focus\",\n    value: function focus() {\n      this._button.focus();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.shouldAnimateContent = true;\n    }\n  }, {\n    key: \"renderSummary\",\n    value: function renderSummary(expanded) {\n      var _this$props = this.props,\n          summary = _this$props.summary,\n          iconPosition = _this$props.iconPosition;\n      return React.createElement(\"span\", {\n        className: styles.summary\n      }, iconPosition === 'start' && this.renderIcon(expanded), React.createElement(\"span\", {\n        className: styles.summaryText\n      }, summary), iconPosition === 'end' && this.renderIcon(expanded));\n    }\n  }, {\n    key: \"renderToggle\",\n    value: function renderToggle(toggleProps, expanded) {\n      var _this$props2 = this.props,\n          variant = _this$props2.variant,\n          fluidWidth = _this$props2.fluidWidth;\n\n      var props = _objectSpread({}, omitProps(this.props, ToggleDetails.propTypes), {}, toggleProps, {\n        children: this.renderSummary()\n      });\n\n      var summary = this.renderSummary(expanded);\n\n      if (variant === 'filled') {\n        return React.createElement(Button, Object.assign({}, props, {\n          fluidWidth: true,\n          elementRef: this.getButtonRef\n        }), summary);\n      } else if (props.href) {\n        return React.createElement(\"a\", Object.assign({}, props, {\n          className: classnames(styles.toggle, styles[variant], _defineProperty({}, styles.fluidWidth, fluidWidth)),\n          ref: this.getButtonRef\n        }), summary);\n      } else {\n        return React.createElement(\"button\", Object.assign({}, props, {\n          type: \"button\",\n          className: classnames(styles.toggle, styles[variant], _defineProperty({}, styles.fluidWidth, fluidWidth)),\n          ref: this.getButtonRef\n        }), summary);\n      }\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon(expanded) {\n      var _classnames3;\n\n      var iconPosition = this.props.iconPosition;\n      var Icon = expanded ? this.props.iconExpanded : this.props.icon;\n      return this.props.children ? React.createElement(\"span\", {\n        className: classnames(styles.icon, (_classnames3 = {}, _defineProperty(_classnames3, styles.iconStart, iconPosition === 'start'), _defineProperty(_classnames3, styles.iconEnd, iconPosition === 'end'), _classnames3))\n      }, React.createElement(Icon, null)) : null;\n    }\n  }, {\n    key: \"renderDetails\",\n    value: function renderDetails(expanded, detailsProps) {\n      var _classnames4;\n\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          size = _this$props3.size,\n          iconPosition = _this$props3.iconPosition,\n          fluidWidth = _this$props3.fluidWidth;\n      return React.createElement(\"div\", Object.assign({}, detailsProps, {\n        className: classnames(styles.details, (_classnames4 = {}, _defineProperty(_classnames4, styles[size], size), _defineProperty(_classnames4, styles.hiddenDetails, !expanded), _defineProperty(_classnames4, styles.expandedDetails, expanded), _defineProperty(_classnames4, styles.indentDetails, iconPosition === 'start' && !fluidWidth), _classnames4))\n      }), children && expanded && this.renderContent());\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      return React.createElement(\"div\", {\n        className: classnames(_defineProperty({}, styles.content, this.shouldAnimateContent))\n      }, this.props.children);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes,\n          _this2 = this;\n\n      var _this$props4 = this.props,\n          variant = _this$props4.variant,\n          iconPosition = _this$props4.iconPosition,\n          fluidWidth = _this$props4.fluidWidth;\n      var positionIconAtEnd = iconPosition === 'end' && (variant === 'filled' || fluidWidth);\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles[this.props.size], true), _defineProperty(_classes, styles.positionIconAtEnd, positionIconAtEnd), _classes);\n      return React.createElement(Expandable, pickProps(this.props, Expandable.propTypes), function (_ref) {\n        var expanded = _ref.expanded,\n            getToggleProps = _ref.getToggleProps,\n            getDetailsProps = _ref.getDetailsProps;\n        return React.createElement(\"div\", {\n          className: classnames(classes)\n        }, _this2.renderToggle(getToggleProps(), expanded), _this2.renderDetails(expanded, getDetailsProps()));\n      });\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._button);\n    }\n  }]);\n\n  ToggleDetails.displayName = \"ToggleDetails\";\n  return ToggleDetails;\n}(Component), _class2.propTypes = {\n  variant: PropTypes.oneOf(['default', 'filled']),\n\n  /**\n  * The summary that displays and can be interacted with\n  */\n  summary: PropTypes.node.isRequired,\n\n  /**\n  * Whether the content is expanded or hidden\n  */\n  expanded: controllable(PropTypes.bool, 'onToggle', 'defaultExpanded'),\n\n  /**\n  * Whether the content is initially expanded or hidden (uncontrolled)\n  */\n  defaultExpanded: PropTypes.bool,\n  onToggle: PropTypes.func,\n\n  /**\n  * The icon to display next to the summary text when content is hidden\n  */\n  icon: PropTypes.func,\n\n  /**\n  * The icon to display when content is expanded\n  */\n  iconExpanded: PropTypes.func,\n\n  /**\n  * Icon position at the start or end of the summary text\n  */\n  iconPosition: PropTypes.oneOf(['start', 'end']),\n\n  /**\n  * should the summary fill the width of its container\n  */\n  fluidWidth: PropTypes.bool,\n\n  /**\n  * The toggleable content passed inside the ToggleDetails component\n  */\n  children: PropTypes.node,\n\n  /**\n  * Choose a size for the expand/collapse icon\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large'])\n}, _class2.defaultProps = {\n  variant: 'default',\n  size: 'medium',\n  fluidWidth: false,\n  icon: IconArrowOpenEndSolid,\n  iconExpanded: IconArrowOpenDownSolid,\n  iconPosition: 'start',\n  defaultExpanded: false,\n  onToggle: function onToggle(event, expanded) {},\n  children: null,\n  expanded: void 0\n}, _temp)) || _class) || _class);\nexport default ToggleDetails;\nexport { ToggleDetails };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      spacing = _ref.spacing,\n      borders = _ref.borders,\n      typography = _ref.typography;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeight,\n    textColor: colors.textDarkest,\n    fontSizeSmall: typography.fontSizeSmall,\n    fontSizeMedium: typography.fontSizeMedium,\n    fontSizeLarge: typography.fontSizeLarge,\n    smallIconSize: '0.5rem',\n    mediumIconSize: '0.75rem',\n    largeIconSize: '1rem',\n    iconMargin: spacing.xxSmall,\n    iconColor: colors.textDarkest,\n    togglePadding: spacing.xxSmall,\n    toggleBorderRadius: borders.radiusMedium,\n    toggleBorderWidth: borders.widthMedium,\n    toggleBorderStyle: borders.style,\n    toggleFocusBorderColor: colors.borderBrand,\n    filledBackgroundColor: colors.backgroundLight,\n    filledBorderWidth: borders.widthSmall,\n    filledBorderStyle: borders.style,\n    filledBorderColor: colors.borderMedium,\n    filledBorderRadius: borders.radiusMedium,\n    filledPadding: spacing.small\n  };\n}\n\ngenerator['canvas'] = function (variables) {\n  return {\n    toggleFocusBorderColor: variables['ic-brand-primary'],\n    iconColor: variables['ic-brand-font-color-dark'],\n    textColor: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { momentObj } from 'react-moment-proptypes';\nimport { themeable } from '@instructure/ui-themeable';\nimport { ToggleDetails } from '@instructure/ui-toggle-details';\nimport { Pill } from '@instructure/ui-elements';\nimport { func, number, string, arrayOf, shape, oneOf } from 'prop-types';\nimport BadgeList from '../BadgeList';\nimport NotificationBadge, { MissingIndicator, NewActivityIndicator } from '../NotificationBadge';\nimport { badgeShape, sizeShape } from '../plannerPropTypes';\nimport { animatable } from '../../dynamic-ui';\nconst styles = {\n  componentId: 'ekpsc',\n  template: function (theme) {\n    return \"\\n\\n.root_2OsM{align-items:center;border-bottom:\".concat(theme.borderWidth || 'inherit', \" solid \").concat(theme.borderColor || 'inherit', \";box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";display:flex;flex:1;font-family:\").concat(theme.fontFamily || 'inherit', \";padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.activityIndicator_2OsM{padding-inline-end:0;padding-inline-start:0}\\n\\n[dir=ltr] .activityIndicator_2OsM{padding-left:0;padding-right:0}\\n\\n[dir=rtl] .activityIndicator_2OsM{padding-left:0;padding-right:0}\\n\\n.showLabel_2OsM{margin-inline-start:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=ltr] .showLabel_2OsM{margin-left:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=rtl] .showLabel_2OsM{margin-right:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n.contentPrimary_2OsM{box-sizing:border-box;flex:0 0 50%;margin-bottom:0;margin-inline-start:\").concat(theme.gutterWidth || 'inherit', \";min-width:1px}\\n\\n[dir=ltr] .contentPrimary_2OsM{margin-left:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n[dir=rtl] .contentPrimary_2OsM{margin-right:\").concat(theme.gutterWidth || 'inherit', \"}\\n\\n.contentSecondary_2OsM{box-sizing:border-box;flex:1 0;justify-content:flex-end;min-width:1px;text-align:end}\\n\\n[dir=ltr] .contentSecondary_2OsM{text-align:right}\\n\\n[dir=rtl] .contentSecondary_2OsM{text-align:left}\\n\\n.activityIndicator_2OsM+.contentPrimary_2OsM{margin-inline-start:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.buttonPadding || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n[dir=ltr] .activityIndicator_2OsM+.contentPrimary_2OsM{margin-left:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.buttonPadding || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n[dir=rtl] .activityIndicator_2OsM+.contentPrimary_2OsM{margin-right:calc(\").concat(theme.gutterWidth || 'inherit', \" - \").concat(theme.buttonPadding || 'inherit', \" - \").concat(theme.activityIndicatorWidth || 'inherit', \")}\\n\\n.small_2OsM{padding-left:0;padding-right:0}\\n\\n.small_2OsM .contentPrimary_2OsM{flex-basis:auto;margin-inline-start:10px}\\n\\n[dir=ltr] .small_2OsM .contentPrimary_2OsM{margin-left:10px}\\n\\n[dir=rtl] .small_2OsM .contentPrimary_2OsM{margin-right:10px}\\n\\n.small_2OsM .contentSecondary_2OsM{display:none}\");\n  },\n  'root': 'root_2OsM',\n  'activityIndicator': 'activityIndicator_2OsM',\n  'showLabel': 'showLabel_2OsM',\n  'contentPrimary': 'contentPrimary_2OsM',\n  'contentSecondary': 'contentSecondary_2OsM',\n  'small': 'small_2OsM'\n};\nimport theme from './theme.js';\nimport formatMessage from '../../format-message';\nexport class CompletedItemsFacade extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getFocusable = () => {\n      return this.buttonRef;\n    };\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('item', this, this.props.animatableIndex, this.props.animatableItemIds);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.props.deregisterAnimatable('item', this, this.props.animatableItemIds);\n    this.props.registerAnimatable('item', this, newProps.animatableIndex, newProps.animatableItemIds);\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('item', this, this.props.animatableItemIds);\n  }\n\n  getScrollable() {\n    return this.rootDiv;\n  }\n\n  renderBadges() {\n    if (this.props.badges.length) {\n      return /*#__PURE__*/React.createElement(BadgeList, null, this.props.badges.map(b => /*#__PURE__*/React.createElement(Pill, {\n        key: b.id,\n        text: b.text,\n        variant: b.variant\n      })));\n    }\n\n    return null;\n  }\n\n  renderNotificationBadge() {\n    if (this.props.notificationBadge === 'none') return /*#__PURE__*/React.createElement(NotificationBadge, {\n      responsiveSize: this.props.responsiveSize\n    });\n    const isNewItem = this.props.notificationBadge === 'newActivity';\n    const IndicatorComponent = isNewItem ? NewActivityIndicator : MissingIndicator;\n    const badgeMessage = formatMessage('{items} completed {items, plural,=1 {item} other {items}}', {\n      items: this.props.itemCount\n    });\n    return /*#__PURE__*/React.createElement(NotificationBadge, {\n      responsiveSize: this.props.responsiveSize\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.activityIndicator\n    }, /*#__PURE__*/React.createElement(IndicatorComponent, {\n      title: badgeMessage,\n      itemIds: this.props.animatableItemIds,\n      animatableIndex: this.props.animatableIndex,\n      getFocusable: this.getFocusable\n    })));\n  }\n\n  render() {\n    const theme = this.theme ? {\n      textColor: this.theme.labelColor,\n      iconColor: this.theme.labelColor,\n      iconMargin: this.theme.gutterWidth\n    } : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, styles[this.props.responsiveSize], 'planner-completed-items'),\n      ref: elt => this.rootDiv = elt\n    }, this.renderNotificationBadge(), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentPrimary\n    }, /*#__PURE__*/React.createElement(ToggleDetails, {\n      ref: ref => this.buttonRef = ref,\n      onToggle: this.props.onClick,\n      summary: formatMessage(\"{\\n                  count, plural,\\n                  one {Show # completed item}\\n                  other {Show # completed items}\\n                }\", {\n        count: this.props.itemCount\n      }),\n      theme: theme\n    }, \"ToggleDetails requires a child\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentSecondary\n    }, this.renderBadges()));\n  }\n\n}\nCompletedItemsFacade.propTypes = {\n  onClick: func.isRequired,\n  itemCount: number.isRequired,\n  badges: arrayOf(shape(badgeShape)),\n  animatableIndex: number,\n  animatableItemIds: arrayOf(string),\n  registerAnimatable: func,\n  deregisterAnimatable: func,\n  notificationBadge: oneOf(['none', 'newActivity', 'missing']),\n  date: momentObj,\n  // the scroll-to-today animation requires a date on each component in the planner\n  responsiveSize: sizeShape\n};\nCompletedItemsFacade.defaultProps = {\n  badges: [],\n  registerAnimatable: () => {},\n  deregisterAnimatable: () => {},\n  notificationBadge: 'none',\n  responsiveSize: 'large'\n};\nexport default animatable(themeable(theme, styles)(CompletedItemsFacade));","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  borders,\n  colors,\n  spacing,\n  typography\n}) {\n  return {\n    fontFamily: typography.fontFamily,\n    color: colors.licorice,\n    padding: spacing.small,\n    paddingMedium: spacing.small,\n    paddingLarge: \"\".concat(spacing.small, \" \").concat(spacing.medium),\n    borderWidth: borders.widthSmall,\n    borderColor: colors.tiara,\n    bottomMarginPhoneUp: spacing.xSmall,\n    gutterWidth: spacing.medium,\n    buttonPadding: spacing.small,\n    labelColor: colors.brand\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { themeable } from '@instructure/ui-themeable';\nimport classnames from 'classnames';\nimport { partition } from 'lodash';\nimport { arrayOf, string, number, shape, func } from 'prop-types';\nimport moment from 'moment-timezone';\nimport { userShape, itemShape, sizeShape } from '../plannerPropTypes';\nconst styles = {\n  componentId: 'eOFoE',\n  template: function (theme) {\n    return \"\\n\\n.root_3bek{border-color:\".concat(theme.groupColor || 'inherit', \";color:\").concat(theme.groupColor || 'inherit', \";display:flex;font-family:\").concat(theme.fontFamily || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin:\").concat(theme.margin || 'inherit', \"}\\n\\n.root_3bek,.title_3bek{position:relative}\\n\\n.title_3bek{-webkit-hyphens:auto;-webkit-text-decoration:\").concat(theme.titleTextDecoration || 'inherit', \";background-color:\").concat(theme.titleBackground || 'inherit', \";box-sizing:border-box;color:\").concat(theme.titleColor || 'inherit', \";flex:1;font-size:\").concat(theme.titleFontSize || 'inherit', \";font-weight:\").concat(theme.titleFontWeight || 'inherit', \";hyphens:auto;max-height:3rem;min-width:1px;overflow:hidden;overflow-wrap:break-word;padding:\").concat(theme.titlePadding || 'inherit', \";text-align:center;text-decoration:\").concat(theme.titleTextDecoration || 'inherit', \";text-transform:\").concat(theme.titleTextTransform || 'inherit', \";word-wrap:break-word;z-index:1}\\n\\n[dir=ltr] .title_3bek,[dir=rtl] .title_3bek{text-align:center}\\n\\n.title_3bek:after{background:linear-gradient(180deg,hsla(0,0%,100%,0) 0%,\").concat(theme.titleBackground || 'inherit', \");bottom:0;content:\\\"\\\";height:\").concat(theme.titleOverflowGradientHeight || 'inherit', \";left:0;position:absolute;width:100%}\\n\\n.hero_3bek{align-items:center;background-position:50%;background-repeat:no-repeat;background-size:cover;box-sizing:border-box;display:flex;flex:0 0 \").concat(theme.heroWidth || 'inherit', \";justify-content:center;min-width:1px;outline:none;padding:\").concat(theme.heroPadding || 'inherit', \";position:relative;text-decoration:none}\\n\\n.hero_3bek .groupingName_3bek{-webkit-text-decoration:\").concat(theme.heroLinkTextDecoration || 'inherit', \";text-decoration:\").concat(theme.heroLinkTextDecoration || 'inherit', \"}\\n\\n.hero_3bek,.overlay_3bek{border-bottom-inline-start-radius:\").concat(theme.heroBorderRadius || 'inherit', \";border-top-inline-start-radius:\").concat(theme.heroBorderRadius || 'inherit', \"}\\n\\n[dir=ltr] .hero_3bek,[dir=ltr] .overlay_3bek{border-bottom-left-radius:\").concat(theme.heroBorderRadius || 'inherit', \";border-top-left-radius:\").concat(theme.heroBorderRadius || 'inherit', \"}\\n\\n[dir=rtl] .hero_3bek,[dir=rtl] .overlay_3bek{border-bottom-right-radius:\").concat(theme.heroBorderRadius || 'inherit', \";border-top-right-radius:\").concat(theme.heroBorderRadius || 'inherit', \"}\\n\\n.heroHover_3bek:focus,.heroHover_3bek:hover{text-decoration:none}\\n\\n.heroHover_3bek:focus .title_3bek,.heroHover_3bek:hover .title_3bek{-webkit-text-decoration:\").concat(theme.titleTextDecorationHover || 'inherit', \";text-decoration:\").concat(theme.titleTextDecorationHover || 'inherit', \"}\\n\\n.overlay_3bek{background-color:\").concat(theme.groupColor || 'inherit', \";height:100%;left:0;opacity:1;position:absolute;top:0;width:100%}\\n\\n.overlay_3bek.withImage_3bek{opacity:\").concat(theme.overlayOpacity || 'inherit', \"}\\n\\n.items_3bek{border-color:\").concat(theme.groupColor || 'inherit', \";border-top:\").concat(theme.borderTopWidth || 'inherit', \" solid;color:\").concat(theme.groupColor || 'inherit', \";flex:1;list-style-type:none;margin:0;min-width:1px;padding:0}\\n\\n.medium_3bek.root_3bek,.small_3bek.root_3bek{display:block;margin:0}\\n\\n.medium_3bek .hero_3bek,.medium_3bek .overlay_3bek,.small_3bek .hero_3bek,.small_3bek .overlay_3bek{background-color:initial;border-radius:0}\\n\\n.medium_3bek .hero_3bek,.small_3bek .hero_3bek{display:block;flex:none;line-height:2rem;min-height:unset}\\n\\n.medium_3bek .title_3bek,.small_3bek .title_3bek{font-size:\").concat(theme.titleFontSizeTablet || 'inherit', \";padding-inline-start:0}\\n\\n[dir=ltr] .medium_3bek .title_3bek,[dir=ltr] .small_3bek .title_3bek{padding-left:0}\\n\\n[dir=rtl] .medium_3bek .title_3bek,[dir=rtl] .small_3bek .title_3bek{padding-right:0}\\n\\n.medium_3bek .items_3bek,.small_3bek .items_3bek{border-top-width:\").concat(theme.borderTopWidthTablet || 'inherit', \"}\");\n  },\n  'root': 'root_3bek',\n  'title': 'title_3bek',\n  'hero': 'hero_3bek',\n  'groupingName': 'groupingName_3bek',\n  'overlay': 'overlay_3bek',\n  'heroHover': 'heroHover_3bek',\n  'withImage': 'withImage_3bek',\n  'items': 'items_3bek',\n  'medium': 'medium_3bek',\n  'small': 'small_3bek'\n};\nimport theme from './theme.js';\nimport PlannerItem from '../PlannerItem';\nimport CompletedItemsFacade from '../CompletedItemsFacade';\nimport NotificationBadge, { MissingIndicator, NewActivityIndicator } from '../NotificationBadge';\nimport formatMessage from '../../format-message';\nimport { getBadgesForItem, getBadgesForItems, showPillForOverdueStatus } from '../../utilities/statusUtils';\nimport { animatable } from '../../dynamic-ui';\nimport responsiviser from '../responsiviser';\nexport class Grouping extends Component {\n  constructor(props) {\n    super(props);\n\n    this.groupingLinkRef = link => {\n      this.groupingLink = link;\n    };\n\n    this.getFocusable = () => {\n      return this.groupingLink;\n    };\n\n    this.handleFacadeClick = e => {\n      if (e) {\n        e.preventDefault();\n      }\n\n      this.setState(() => ({\n        showCompletedItems: true\n      }), () => {\n        if (this.groupingLink) this.groupingLink.focus();\n      });\n    };\n\n    this.state = {\n      showCompletedItems: false,\n      badgeMap: this.setupItemBadgeMap(props.items)\n    };\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('group', this, this.props.animatableIndex, this.itemUniqueIds());\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.props.deregisterAnimatable('group', this, this.itemUniqueIds());\n    this.props.registerAnimatable('group', this, newProps.animatableIndex, this.itemUniqueIds(newProps));\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('group', this, this.itemUniqueIds());\n  }\n\n  itemUniqueIds(props = this.props) {\n    return props.items.map(item => item.uniqueId);\n  }\n\n  setupItemBadgeMap(items) {\n    const mapping = {};\n    items.forEach(item => {\n      const badges = getBadgesForItem(item);\n      if (badges.length) mapping[item.id] = badges;\n    });\n    return mapping;\n  }\n\n  getScrollable() {\n    return this.groupingLink || this.plannerNoteHero;\n  }\n\n  getLayout() {\n    return this.props.responsiveSize;\n  }\n\n  renderItemsAndFacade(items) {\n    const _partition = partition(items, item => item.completed && !item.show),\n          _partition2 = _slicedToArray(_partition, 2),\n          completedItems = _partition2[0],\n          otherItems = _partition2[1];\n\n    let itemsToRender = otherItems;\n\n    if (this.state.showCompletedItems) {\n      itemsToRender = items;\n    }\n\n    const componentsToRender = this.renderItems(itemsToRender);\n    componentsToRender.push(this.renderFacade(completedItems, this.props.animatableIndex * 100 + itemsToRender.length + 1));\n    return componentsToRender;\n  }\n\n  renderItems(items) {\n    const showNotificationBadgeOnItem = this.getLayout() !== 'large';\n    return items.map((item, itemIndex) => /*#__PURE__*/React.createElement(\"li\", {\n      className: styles.item,\n      key: item.uniqueId\n    }, /*#__PURE__*/React.createElement(PlannerItem, {\n      theme: {\n        iconColor: this.props.color\n      },\n      color: this.props.color,\n      completed: item.completed,\n      overrideId: item.overrideId,\n      id: item.id,\n      uniqueId: item.uniqueId,\n      animatableIndex: this.props.animatableIndex * 100 + itemIndex + 1,\n      courseName: this.props.title,\n      context: item.context || {},\n      date: moment(item.date).tz(this.props.timeZone),\n      associated_item: item.type,\n      title: item.title,\n      points: item.points,\n      updateTodo: this.props.updateTodo,\n      html_url: item.html_url,\n      toggleCompletion: () => this.props.toggleCompletion(item),\n      badges: this.state.badgeMap[item.id],\n      details: item.details,\n      toggleAPIPending: item.toggleAPIPending,\n      status: item.status,\n      newActivity: item.newActivity,\n      allDay: item.allDay,\n      showNotificationBadge: showNotificationBadgeOnItem,\n      currentUser: this.props.currentUser,\n      feedback: item.feedback,\n      location: item.location,\n      address: item.address,\n      endTime: item.endTime,\n      dateStyle: item.dateStyle,\n      timeZone: this.props.timeZone\n    })));\n  }\n\n  renderFacade(completedItems, animatableIndex) {\n    const showNotificationBadgeOnItem = this.getLayout() !== 'large';\n\n    if (!this.state.showCompletedItems && completedItems.length > 0) {\n      const theDay = completedItems[0].date.clone();\n      theDay.startOf('day');\n      let missing = false;\n      let newActivity = false;\n      const completedItemIds = completedItems.map(item => {\n        if (showPillForOverdueStatus('missing', item)) missing = true;\n        if (item.newActivity) newActivity = true;\n        return item.uniqueId;\n      });\n      let notificationBadge = 'none';\n\n      if (showNotificationBadgeOnItem) {\n        if (newActivity) {\n          notificationBadge = 'newActivity';\n        } else if (missing) {\n          notificationBadge = 'missing';\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: styles.item,\n        key: \"completed\"\n      }, /*#__PURE__*/React.createElement(CompletedItemsFacade, {\n        onClick: this.handleFacadeClick,\n        itemCount: completedItems.length,\n        badges: getBadgesForItems(completedItems),\n        animatableIndex: animatableIndex,\n        animatableItemIds: completedItemIds,\n        notificationBadge: notificationBadge,\n        theme: {\n          labelColor: this.props.color\n        },\n        date: theDay,\n        responsiveSize: this.props.responsiveSize\n      }));\n    }\n\n    return null;\n  }\n\n  renderToDoText() {\n    return formatMessage('To Do');\n  }\n\n  renderNotificationBadge() {\n    // narrower layout puts the indicator next to the actual items\n    if (this.getLayout() !== 'large') {\n      return null;\n    }\n\n    let missing = false;\n    const newItem = this.props.items.find(item => {\n      if (showPillForOverdueStatus('missing', item)) missing = true;\n      return item.newActivity;\n    });\n\n    if (newItem || missing) {\n      const IndicatorComponent = newItem ? NewActivityIndicator : MissingIndicator;\n      const badgeMessage = this.props.title ? this.props.title : this.renderToDoText();\n      return /*#__PURE__*/React.createElement(NotificationBadge, null, /*#__PURE__*/React.createElement(IndicatorComponent, {\n        title: badgeMessage,\n        itemIds: this.itemUniqueIds(),\n        animatableIndex: this.props.animatableIndex,\n        getFocusable: this.getFocusable\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(NotificationBadge, null);\n    }\n  } // I wouldn't have broken the background and title apart, but wrapping them in a container span breaks styling\n\n\n  renderGroupLinkBackground() {\n    const clazz = classnames({\n      [styles.overlay]: true,\n      [styles.withImage]: this.props.image_url\n    });\n    const style = this.getLayout() === 'large' ? {\n      backgroundColor: this.props.color\n    } : null;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: clazz,\n      style: style\n    });\n  }\n\n  renderGroupLinkTitle() {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.title\n    }, this.props.title || this.renderToDoText());\n  }\n\n  renderGroupLink() {\n    if (!this.props.title) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.hero,\n        ref: elt => this.plannerNoteHero = elt\n      }, this.renderGroupLinkBackground(), this.renderGroupLinkTitle());\n    }\n\n    const style = this.getLayout() === 'large' ? {\n      backgroundImage: \"url(\".concat(this.props.image_url || '', \")\")\n    } : null;\n    return /*#__PURE__*/React.createElement(\"a\", {\n      href: this.props.url || '#',\n      ref: this.groupingLinkRef,\n      className: \"\".concat(styles.hero, \" \").concat(styles.heroHover),\n      style: style\n    }, this.renderGroupLinkBackground(), this.renderGroupLinkTitle());\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, styles[this.getLayout()], 'planner-grouping')\n    }, this.renderNotificationBadge(), this.renderGroupLink(), /*#__PURE__*/React.createElement(\"ol\", {\n      className: styles.items,\n      style: {\n        borderColor: this.props.color\n      }\n    }, this.renderItemsAndFacade(this.props.items)));\n  }\n\n}\nGrouping.propTypes = {\n  items: arrayOf(shape(itemShape)).isRequired,\n  animatableIndex: number,\n  title: string,\n  color: string,\n  image_url: string,\n  timeZone: string.isRequired,\n  url: string,\n  toggleCompletion: func,\n  updateTodo: func,\n  registerAnimatable: func,\n  deregisterAnimatable: func,\n  currentUser: shape(userShape),\n  responsiveSize: sizeShape\n};\nGrouping.defaultProps = {\n  registerAnimatable: () => {},\n  deregisterAnimatable: () => {},\n  responsiveSize: 'large'\n};\nconst ResponsiveGrouping = responsiviser()(Grouping);\nexport default animatable(themeable(theme, styles)(ResponsiveGrouping));","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment-timezone';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Heading, Text } from '@instructure/ui-elements';\nimport { View } from '@instructure/ui-layout';\nimport { shape, string, number, arrayOf, func } from 'prop-types';\nimport { userShape, itemShape } from '../plannerPropTypes';\nconst styles = {\n  componentId: 'fFVtz',\n  template: function (theme) {\n    return \"\\n\\n.root_3KEc{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin-top:\").concat(theme.marginTop || 'inherit', \"}\");\n  },\n  'root': 'root_3KEc'\n};\nimport theme from './theme.js';\nimport { getFriendlyDate, getFullDate, isToday } from '../../utilities/dateUtils';\nimport Grouping from '../Grouping';\nimport formatMessage from '../../format-message';\nimport { animatable } from '../../dynamic-ui';\nexport class Day extends Component {\n  constructor(props) {\n    super(props);\n    const tzMomentizedDate = moment.tz(props.day, props.timeZone);\n    this.friendlyName = getFriendlyDate(tzMomentizedDate);\n    this.fullDate = getFullDate(tzMomentizedDate);\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('day', this, this.props.animatableIndex, this.itemUniqueIds());\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.props.deregisterAnimatable('day', this, this.itemUniqueIds());\n    this.props.registerAnimatable('day', this, nextProps.animatableIndex, this.itemUniqueIds(nextProps));\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('day', this, this.itemUniqueIds());\n  }\n\n  itemUniqueIds(props) {\n    props = props || this.props;\n    return (props.itemsForDay || []).map(item => item.uniqueId);\n  }\n\n  hasItems() {\n    return this.props.itemsForDay && this.props.itemsForDay.length > 0;\n  }\n\n  renderGrouping(groupKey, groupItems, index) {\n    const courseInfo = groupItems[0].context || {};\n    const groupColor = (courseInfo.color ? courseInfo.color : this.props.currentUser.color) || null;\n    return /*#__PURE__*/React.createElement(Grouping, {\n      title: courseInfo.title,\n      image_url: courseInfo.image_url,\n      color: groupColor,\n      timeZone: this.props.timeZone,\n      updateTodo: this.props.updateTodo,\n      items: groupItems,\n      animatableIndex: this.props.animatableIndex * 100 + index + 1,\n      url: courseInfo.url,\n      key: groupKey,\n      theme: {\n        titleColor: groupColor\n      },\n      toggleCompletion: this.props.toggleCompletion,\n      currentUser: this.props.currentUser\n    });\n  }\n\n  renderGroupings() {\n    const groupings = [];\n    let currGroupItems;\n    let currGroupKey;\n    const nItems = this.props.itemsForDay.length;\n\n    for (let i = 0; i < nItems; ++i) {\n      const item = this.props.itemsForDay[i];\n      const groupKey = item.context && item.context.id ? \"\".concat(item.context.type).concat(item.context.id) : 'Notes';\n\n      if (groupKey !== currGroupKey) {\n        if (currGroupKey) {\n          // emit the grouping we've been working\n          groupings.push(this.renderGrouping(currGroupKey, currGroupItems, groupings.length));\n        } // start new grouping\n\n\n        currGroupKey = groupKey;\n        currGroupItems = [item];\n      } else {\n        currGroupItems.push(item);\n      }\n    } // the last groupings// emit the grouping we've been working\n\n\n    groupings.push(this.renderGrouping(currGroupKey, currGroupItems, groupings.length));\n    return groupings;\n  }\n\n  render() {\n    const thisIsToday = isToday(this.props.day);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, 'planner-day', {\n        'planner-today': thisIsToday\n      })\n    }, /*#__PURE__*/React.createElement(Heading, {\n      border: this.hasItems() ? 'none' : 'bottom'\n    }, /*#__PURE__*/React.createElement(Text, {\n      as: \"div\",\n      transform: \"uppercase\",\n      lineHeight: \"condensed\",\n      size: thisIsToday ? 'large' : 'medium'\n    }, this.friendlyName), /*#__PURE__*/React.createElement(Text, {\n      as: \"div\",\n      lineHeight: \"condensed\"\n    }, this.fullDate)), /*#__PURE__*/React.createElement(\"div\", null, this.hasItems() ? this.renderGroupings() : /*#__PURE__*/React.createElement(View, {\n      textAlign: \"center\",\n      display: \"block\",\n      margin: \"small 0 0 0\"\n    }, formatMessage('Nothing Planned Yet'))));\n  }\n\n}\nDay.propTypes = {\n  day: string.isRequired,\n  itemsForDay: arrayOf(shape(itemShape)),\n  animatableIndex: number,\n  timeZone: string.isRequired,\n  toggleCompletion: func,\n  updateTodo: func,\n  registerAnimatable: func.isRequired,\n  deregisterAnimatable: func.isRequired,\n  currentUser: shape(userShape)\n};\nDay.defaultProps = {\n  animatableIndex: 0\n};\nexport default animatable(themeable(theme, styles)(Day));","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  typography,\n  spacing\n}) {\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeightCondensed,\n    color: colors.oxford,\n    background: colors.white,\n    marginTop: spacing.large\n  };\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport moment from 'moment-timezone';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Heading, Text } from '@instructure/ui-elements';\nimport { string } from 'prop-types';\nimport { sizeShape } from '../plannerPropTypes';\nconst styles = {\n  componentId: 'voGQb',\n  template: function (theme) {\n    return \"\\n\\n.root_hppr{background:\".concat(theme.background || 'inherit', \";border-bottom-style:solid;border-bottom-width:\").concat(theme.borderWidth || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";margin-top:\").concat(theme.marginTop || 'inherit', \";position:relative}\\n\\n.nothingPlannedContent_hppr{padding:\").concat(theme.paddingWidth || 'inherit', \" 0 0 0}\\n\\n.nothingPlannedContainer_hppr{align-items:center;bottom:0;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0}\\n\\n.nothingPlanned_hppr{padding-top:\").concat(theme.paddingWidth || 'inherit', \"}\\n\\n.small_hppr .nothingPlannedContent_hppr{display:flex;flex-direction:column-reverse;justify-content:flex-start;padding:\").concat(theme.paddingWidth || 'inherit', \" 0}\\n\\n.small_hppr .nothingPlannedContainer_hppr{position:static}\\n\\n.small_hppr .nothingPlanned_hppr{padding-top:0}\");\n  },\n  'root': 'root_hppr',\n  'nothingPlannedContent': 'nothingPlannedContent_hppr',\n  'nothingPlannedContainer': 'nothingPlannedContainer_hppr',\n  'nothingPlanned': 'nothingPlanned_hppr',\n  'small': 'small_hppr'\n};\nimport theme from './theme.js';\nimport { getShortDate } from '../../utilities/dateUtils';\nimport formatMessage from '../../format-message';\n\nvar GroupedDates = function GroupedDates(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"title\", null, \"Nothing Planned\"), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"a\",\n    d: \"M0 155h906.934V.53H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"c\",\n    d: \"M0 20.299V.389h60.079V20.3z\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M555.847.977s12.627 2.763 15.348 17.622c0 0 8.79-8.81 22.937-5.71M586.655 30.033s9.718.942 13.089 11.843c0 0 5.805-7.394 16.692-6.335M524.082 9.733s9.763.14 14.02 10.726c0 0 5.175-7.847 16.114-7.688\",\n    stroke: \"#231F20\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#67C1F0\",\n    d: \"M175.898 126.104h42.195l-21.097-62.596z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M175.898 126.104h42.195l-21.097-62.596z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M196.996 82.564v70.691M206.372 110.49l-9.376 8.512\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#67C1F0\",\n    d: \"M254.73 136.103h42.195l-21.097-84.88z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M254.73 136.103h42.195l-21.097-84.88z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M275.828 80.54v72.716M283.641 118.203l-7.813 5.158M263.3 101.624l12.527 13.59\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\",\n    d: \"M583.588 153.028L723.433 15.083l56.422 54.285\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\",\n    d: \"M685.627 152.88l129.11-116.62 52.09 45.893\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9BE1A4\",\n    d: \"M857.589 113.192h48.093L881.636 7.272z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M857.589 113.192h48.093L881.636 7.272z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M881.635 41.305V153.81M872.082 82.37l8.596 8.143M890.053 60.063l-8.418 11.507\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#67C1F0\",\n    d: \"M827.092 126.14h42.196L848.19 63.545z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M827.092 126.14h42.196L848.19 63.545z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M848.19 82.601v70.69M857.567 110.527l-9.377 8.512\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0 -.53)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M889.994 146.914c0 4.212-3.431 7.642-7.65 7.642h-16.02v-.782h16.02a6.86 6.86 0 0 0 6.868-6.86 6.862 6.862 0 0 0-7.65-6.82 6.335 6.335 0 0 0-.226-.759c.336-.047.672-.07 1.008-.07 4.219 0 7.65 3.43 7.65 7.65z\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M882.343 140.046a6.862 6.862 0 0 1 6.869 6.868 6.86 6.86 0 0 1-6.869 6.861h-16.019l.095-.782h15.924c3.36 0 6.088-2.726 6.088-6.079a6.09 6.09 0 0 0-6.713-6.056 6.4 6.4 0 0 0-.155-.765 6.5 6.5 0 0 1 .78-.047\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M881.562 140.093c.07.25.117.508.156.766-.25.031-.5.07-.742.125l-.094-.39-.086-.376c.25-.055.508-.102.766-.125\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M881.531 144.391c.195-.72.289-1.47.289-2.22 0-.445-.031-.883-.102-1.312a6.088 6.088 0 0 1 6.712 6.055 6.087 6.087 0 0 1-6.087 6.08h-15.924l.015-.172 10.424-9.151 3.915.517h.008l.75.203z\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M881.562 140.093c-.258.023-.516.07-.766.125l-.17-.758c.233-.054.475-.1.71-.125.093.25.164.5.226.758\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M881.718 140.859c.07.43.103.867.103 1.312 0 .75-.095 1.5-.29 2.22l-.75-.203a7.836 7.836 0 0 0 .258-2.017c0-.54-.054-1.07-.156-1.578l.093.39c.242-.054.492-.093.742-.124\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M880.883 140.593a8.035 8.035 0 0 1-.102 3.595h-.007l-.75-.204a7.105 7.105 0 0 0 .101-3.18l.664-.578c.039.117.063.242.094.367\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M880.789 140.218h.008l.086.375c-.032-.125-.055-.25-.094-.367v-.008zM880.773 144.188l-3.915-.517 3.267-2.867a7.12 7.12 0 0 1-.102 3.18l.75.204zM873.193 135.1c3.423 0 6.291 2.453 6.932 5.704l-3.267 2.867-9.689-1.265a6.064 6.064 0 0 0-1.032-.578c.18-3.744 3.275-6.728 7.056-6.728\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M876.858 143.671l-10.424 9.15 1.07-9.134.547-.555a6.008 6.008 0 0 0-.882-.727l9.69 1.266z\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M880.625 139.46l.172.758h-.008a7.833 7.833 0 0 0-7.596-5.9c-4.117 0-7.493 3.172-7.821 7.212a6.48 6.48 0 0 0-.766-.187c.415-4.368 4.11-7.806 8.587-7.806 3.767 0 6.979 2.43 8.143 5.798-.234.023-.477.07-.711.125\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M873.193 135.1c-3.78 0-6.876 2.984-7.056 6.728a4.814 4.814 0 0 0-.765-.297c.328-4.04 3.704-7.212 7.821-7.212a7.834 7.834 0 0 1 7.596 5.899v.008l-.664.578c-.64-3.251-3.509-5.704-6.932-5.704\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M867.505 143.687l-1.07 9.135-.196.172h-2.86a5.11 5.11 0 0 1-5.102-5.103 5.11 5.11 0 0 1 5.103-5.102 5.08 5.08 0 0 1 3.578 1.454l.547-.556z\",\n    fill: \"#9BE1A4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M867.169 142.406l-1.82-.234h.78c0-.118 0-.235.009-.344.359.156.703.35 1.03.578\",\n    fill: \"#231F20\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9BE1A4\",\n    d: \"M866.434 152.822l-.016.172h-.179z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#231F20\",\n    d: \"M866.419 152.994l-.094.78v-.78z\"\n  }), /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"b\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#a\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#231F20\",\n    mask: \"url(#b)\",\n    d: \"M865.348 154.556h.977v-.781h-.977zM866.325 152.994v.78h-.977l.891-.78z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#231F20\",\n    mask: \"url(#b)\",\n    d: \"M866.239 152.994l-.891.78v-.78zM866.138 141.827c-.009.11-.009.227-.009.345h-.78c0-.22.007-.43.022-.642.259.078.517.172.767.297\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M865.372 141.53a8.428 8.428 0 0 0-.023.642h-.602c-.062-.024-.117-.032-.18-.047 0-.266.016-.524.039-.781.258.046.516.109.766.187\",\n    fill: \"#231F20\",\n    mask: \"url(#b)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M865.348 142.171l1.82.234c.313.211.61.453.883.727l-.547.555a5.811 5.811 0 0 0-2.758-1.516h.602zM864.747 142.171h-.18v-.047c.063.016.118.024.18.047\",\n    fill: \"#231F20\",\n    mask: \"url(#b)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M864.567 142.171h.18a5.816 5.816 0 0 1 2.758 1.516l-.547.555a5.085 5.085 0 0 0-3.578-1.454 5.11 5.11 0 0 0-5.103 5.103 5.108 5.108 0 0 0 5.103 5.102h1.968v.782h-1.96a5.89 5.89 0 0 1-5.893-5.884 5.89 5.89 0 0 1 5.892-5.884c.407 0 .797.04 1.18.117v.047z\",\n    fill: \"#231F20\",\n    mask: \"url(#b)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M863.38 154.556a6.671 6.671 0 0 1-6.666-6.665c0-3.672 2.993-6.665 6.666-6.665.414 0 .828.039 1.227.117-.024.258-.04.516-.04.781a5.864 5.864 0 0 0-1.18-.117c-3.25 0-5.892 2.634-5.892 5.884a5.89 5.89 0 0 0 5.893 5.884h1.96v.781h-1.968z\",\n    fill: \"#231F20\",\n    mask: \"url(#b)\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\",\n    d: \"M681.72 56.228l21.53 9.872 17.28-9.872 25.697 7.422 19.97-7.422M797.635 51.707l24.215 6.618 8.334-6.618\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0 70.47)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"d\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#c\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M50.582 20.299H9.498C4.274 20.299 0 16.025 0 10.8v-.914C0 4.664 4.274.39 9.498.39h41.084c5.224 0 9.497 4.274 9.497 9.497v.914c0 5.224-4.273 9.498-9.497 9.498\",\n    fill: \"#E5E7E9\",\n    mask: \"url(#d)\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48.657 67.596c-.886 0-1.749.101-2.577.292v.014c-1.438-5.648-6.556-9.825-12.651-9.825-7.209 0-13.053 5.844-13.053 13.054l3.586 2.524a9.756 9.756 0 0 0-6.85-2.796c-5.407 0-9.79 4.383-9.79 9.79 0 5.407 4.383 9.791 9.79 9.791h31.545c6.309 0 11.422-5.114 11.422-11.422 0-6.308-5.113-11.422-11.422-11.422\",\n    fill: \"#E5E7E9\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M39.017 77.802c0 6.98 5.658 12.638 12.638 12.638 6.98 0 12.637-5.658 12.637-12.638 0-6.98-5.658-12.638-12.637-12.638-6.98 0-12.638 5.659-12.638 12.638\",\n    fill: \"#E5E7E9\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9BE1A4\",\n    d: \"M49.312 112.638h42.195L70.41 27.757z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M49.312 112.638h42.195L70.41 27.757z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M78.223 94.737l-7.813 5.159M57.883 78.158l12.526 13.59\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M191.11 22.787c0-11.456 9.287-20.743 20.743-20.743 11.457 0 20.744 9.287 20.744 20.743 0 1.845-.24 3.633-.693 5.335M196.81 26.797a15.506 15.506 0 0 0-10.886-4.442c-8.592 0-15.557 6.965-15.557 15.558s6.965 15.558 15.557 15.558h50.128\",\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M231.957 17.634a18.244 18.244 0 0 1 4.096-.465c10.024 0 18.15 8.128 18.15 18.152 0 10.023-8.126 18.15-18.15 18.15h-5.186\",\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9BE1A4\",\n    d: \"M148.903 112.638h48.093L172.949 6.718z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M148.903 112.638h48.093L172.949 6.718z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M172.949 40.75v112.506M70 55v99M161.052 81.817l8.596 8.142M181.368 59.509l-8.42 11.507\",\n    stroke: \"#0E1D25\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FDBD99\",\n    d: \"M69.629 126.292l-10.331 2.735 4.067 2.735z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M69.629 126.292l-10.331 2.735 4.067 2.735z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FDBD99\",\n    d: \"M172.949 128.448l2.949 9.772 3.516-4.114z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#231F20\",\n    strokeWidth: \"2\",\n    d: \"M172.949 128.448l2.949 9.772 3.516-4.114z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M155.5 130.98a6.355 6.355 0 1 1-12.71 0 6.355 6.355 0 0 1 12.71 0\",\n    fill: \"#C0C6CB\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M155.5 130.98a6.355 6.355 0 1 1-12.71 0 6.355 6.355 0 0 1 12.71 0z\",\n    stroke: \"#C0C6CB\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M72.962 125.51s16.2 19.926 44.332 20.708c28.13.782 52.319-18.935 52.319-18.935s-41.38 8.006-51.538 7.22c-10.158-.787-45.113-8.992-45.113-8.992\",\n    fill: \"#FDBD99\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M72.962 125.51s16.2 19.926 44.332 20.708c28.13.782 52.319-18.935 52.319-18.935s-41.38 8.006-51.538 7.22c-10.158-.787-45.113-8.992-45.113-8.992z\",\n    stroke: \"#231F20\",\n    strokeWidth: \"2\"\n  })));\n};\n\nGroupedDates.defaultProps = {\n  viewBox: \"0 0 907 155\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n};\nexport class EmptyDays extends Component {\n  renderDate(start, end) {\n    let dateString;\n    dateString = formatMessage('{startDate} to {endDate}', {\n      startDate: getShortDate(start),\n      endDate: getShortDate(end)\n    });\n    return /*#__PURE__*/React.createElement(Text, {\n      as: \"div\",\n      lineHeight: \"condensed\"\n    }, dateString);\n  }\n\n  render() {\n    const now = moment.tz(this.props.timeZone);\n    const start = moment.tz(this.props.day, this.props.timeZone).startOf('day');\n    const end = moment.tz(this.props.endday, this.props.timeZone).endOf('day');\n    const includesToday = (now.isSame(start, 'day') || now.isAfter(start, 'day')) && (now.isSame(end, 'day') || now.isBefore(end, 'day'));\n    const clazz = classnames(styles.root, styles[this.props.responsiveSize], 'planner-empty-days', {\n      'planner-today': includesToday\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: clazz\n    }, /*#__PURE__*/React.createElement(Heading, {\n      border: \"bottom\"\n    }, this.renderDate(start, end)), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.nothingPlannedContent\n    }, /*#__PURE__*/React.createElement(GroupedDates, {\n      role: \"img\",\n      \"aria-hidden\": \"true\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.nothingPlannedContainer\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.nothingPlanned\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: \"large\"\n    }, formatMessage('Nothing Planned Yet'))))));\n  }\n\n}\nEmptyDays.propTypes = {\n  day: string.isRequired,\n  endday: string.isRequired,\n  timeZone: string.isRequired,\n  responsiveSize: sizeShape\n};\nEmptyDays.defualtProps = {\n  responsiveSize: 'large'\n};\nexport default themeable(theme, styles)(EmptyDays);","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  borders,\n  colors,\n  typography,\n  spacing\n}) {\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeightCondensed,\n    color: colors.oxford,\n    background: colors.white,\n    marginTop: spacing.large,\n    borderWidth: borders.widthSmall,\n    paddingWidth: spacing.small\n  };\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { node, object, func } from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Button } from '@instructure/ui-buttons';\nimport { ScreenReaderContent } from '@instructure/ui-a11y';\nconst styles = {\n  componentId: 'IWkON',\n  template: function (theme) {\n    return \"\\n\\n.root_szj_{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\");\n  },\n  'root': 'root_szj_'\n};\nimport theme from './theme.js';\n\nclass ShowOnFocusButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFocus = e => {\n      this.setState({\n        visible: true\n      }, () => {\n        findDOMNode(this.btnRef).focus();\n      });\n    };\n\n    this.handleBlur = e => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.state = {\n      visible: false\n    };\n  }\n\n  renderButton() {\n    const _this$props = this.props,\n          buttonProps = _this$props.buttonProps,\n          children = _this$props.children;\n    return /*#__PURE__*/React.createElement(Button, Object.assign({\n      variant: \"link\",\n      buttonRef: btn => {\n        this.btnRef = btn;\n        this.props.buttonRef(btn);\n      },\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    }, buttonProps), children);\n  }\n\n  renderInvisibleButton() {\n    const srProps = this.props.srProps;\n    return /*#__PURE__*/React.createElement(ScreenReaderContent, srProps, this.renderButton());\n  }\n\n  render() {\n    if (this.state.visible) {\n      return this.renderButton();\n    } else {\n      return this.renderInvisibleButton();\n    }\n  }\n\n}\n\nShowOnFocusButton.propTypes = {\n  buttonProps: object,\n  srProps: object,\n  children: node.isRequired,\n  buttonRef: func\n};\nShowOnFocusButton.defaultProps = {\n  buttonRef: () => {}\n};\nexport default themeable(theme, styles)(ShowOnFocusButton);","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  typography\n}) {\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.oxford,\n    background: colors.white\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M213.333 960c0-167.36 56-321.707 149.44-446.4L1406.4 1557.227c-124.693 93.44-279.04 149.44-446.4 149.44-411.627 0-746.667-335.04-746.667-746.667m1493.334 0c0 167.36-56 321.707-149.44 446.4L513.6 362.773c124.693-93.44 279.04-149.44 446.4-149.44 411.627 0 746.667 335.04 746.667 746.667M960 0C429.76 0 0 429.76 0 960s429.76 960 960 960 960-429.76 960-960S1490.24 0 960 0\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconNoSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconNoSolid, _Component);\n\n  function IconNoSolid() {\n    _classCallCheck(this, IconNoSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconNoSolid).apply(this, arguments));\n  }\n\n  _createClass(IconNoSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconNo\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconNoSolid.displayName = \"IconNoSolid\";\n  return IconNoSolid;\n}(Component);\n\nIconNoSolid.glyphName = 'no';\nIconNoSolid.variant = 'Solid';\nIconNoSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconNoSolid;\nexport { IconNoSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1072.156 537.778c59.802-.707 116.561 14.29 157.774 56.99 36.644 37.974 50.015 91.327 43.72 142.908-9.128 74.877-30.737 144.983-56.093 215.657-27.129 75.623-54.66 151.09-82.332 226.512-44.263 120.685-88.874 241.237-132.65 362.1-10.877 30.018-18.635 62.072-21.732 93.784-3.376 34.532 21.462 51.526 52.648 36.203 24.977-12.278 49.288-28.992 68.845-48.768 31.952-32.31 63.766-64.776 94.805-97.98 15.515-16.605 30.86-33.397 45.912-50.438 11.993-13.583 24.318-34.02 40.779-42.28 31.17-15.642 55.226 22.846 49.582 49.794-6.008 28.736-27.377 53.54-45.014 75.973-54.87 69.795-115.044 137.088-183.308 193.977-67.103 55.77-141.607 103.216-223.428 133.98-26.65 10.016-53.957 18.253-81.713 24.563-53.585 12.192-112.798 11.283-167.56 3.333-40.151-5.828-76.246-31.44-93.264-68.707-29.544-64.698-8.98-144.595 6.295-210.45 20.37-87.77 51.85-170.961 83.13-255.163 33.253-89.517 67.435-178.676 101.726-267.797 31.294-81.296 62.72-162.537 93.69-243.95 8.718-22.923 21.183-45.255 24.845-68.963 6.109-39.537-22.406-74.738-61.985-51.947-92.46 53.244-153.538 141.534-224.52 218.4-16.089 17.43-35.243 39.04-62.907 19.07-29.521-21.308-20.765-48.637-3.987-71.785 93.18-128.58 205.056-248.86 350.86-316.783 60.932-28.386 146.113-57.285 225.882-58.233zM1440 205.244c-.008 169.189-182.758 284.908-335.53 212.455-78.956-37.446-117.358-126.202-98.219-227.002 26.494-139.598 183.78-227.203 315.717-175.87 76.703 29.846 118.04 96.533 118.032 190.417z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconInfoBorderlessSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconInfoBorderlessSolid, _Component);\n\n  function IconInfoBorderlessSolid() {\n    _classCallCheck(this, IconInfoBorderlessSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconInfoBorderlessSolid).apply(this, arguments));\n  }\n\n  _createClass(IconInfoBorderlessSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconInfoBorderless\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconInfoBorderlessSolid.displayName = \"IconInfoBorderlessSolid\";\n  return IconInfoBorderlessSolid;\n}(Component);\n\nIconInfoBorderlessSolid.glyphName = 'info-borderless';\nIconInfoBorderlessSolid.variant = 'Solid';\nIconInfoBorderlessSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconInfoBorderlessSolid;\nexport { IconInfoBorderlessSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n}, React.createElement(\"path\", {\n  d: \"M994.578 1436.356c-133.365 0-241.822 108.457-241.822 241.822S861.213 1920 994.578 1920s241.822-108.457 241.822-241.822-108.457-241.822-241.822-241.822zM1165.063 1315.444L1310.156 0H679l145.093 1315.444z\"\n}));\n\nvar IconWarningBorderlessSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconWarningBorderlessSolid, _Component);\n\n  function IconWarningBorderlessSolid() {\n    _classCallCheck(this, IconWarningBorderlessSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconWarningBorderlessSolid).apply(this, arguments));\n  }\n\n  _createClass(IconWarningBorderlessSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconWarningBorderless\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconWarningBorderlessSolid.displayName = \"IconWarningBorderlessSolid\";\n  return IconWarningBorderlessSolid;\n}(Component);\n\nIconWarningBorderlessSolid.glyphName = 'warning-borderless';\nIconWarningBorderlessSolid.variant = 'Solid';\nIconWarningBorderlessSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconWarningBorderlessSolid;\nexport { IconWarningBorderlessSolid };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport keycode from 'keycode';\nimport { deprecated, callRenderProp } from '@instructure/ui-react-utils';\nimport { CloseButton } from '@instructure/ui-buttons';\nimport { View } from '@instructure/ui-view';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { IconCheckMarkSolid, IconInfoBorderlessSolid, IconWarningBorderlessSolid, IconNoSolid } from '@instructure/ui-icons';\nimport { Transition } from '@instructure/ui-motion';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { uid } from '@instructure/uid';\nvar styles = {\n  componentId: 'cvphu',\n  template: function template(theme) {\n    return \"\\n\\n.cvphu_bgqc{background:\".concat(theme.background || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";border-style:\").concat(theme.borderStyle || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";box-shadow:\").concat(theme.boxShadow || 'inherit', \";color:\").concat(theme.color || 'inherit', \";display:flex;min-width:12rem}\\n\\n.cvphu_bgqc,.cvphu_caGd{box-sizing:border-box}\\n\\n.cvphu_caGd{flex:1;font-family:\").concat(theme.contentFontFamily || 'inherit', \";font-size:\").concat(theme.contentFontSize || 'inherit', \";font-weight:\").concat(theme.contentFontWeight || 'inherit', \";line-height:\").concat(theme.contentLineHeight || 'inherit', \";min-width:0.0625rem;padding:\").concat(theme.contentPadding || 'inherit', \"}\\n\\n.cvphu_dnnz{align-items:center;border-right:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \";color:\").concat(theme.iconColor || 'inherit', \";flex:0 0 2.5rem;font-size:1.125rem;justify-content:center}\\n\\n.cvphu_fsGh,.cvphu_dnnz{box-sizing:border-box;display:flex}\\n\\n.cvphu_fsGh{align-items:flex-start;margin-right:\").concat(theme.closeButtonMarginRight || 'inherit', \";margin-top:\").concat(theme.closeButtonMarginTop || 'inherit', \";order:1}\\n\\n.cvphu_cOXX{border-color:\").concat(theme.successBorderColor || 'inherit', \"}\\n\\n.cvphu_cOXX .cvphu_dnnz{background-color:\").concat(theme.successIconBackground || 'inherit', \";border-right-color:\").concat(theme.successIconBackground || 'inherit', \"}\\n\\n.cvphu_pypk{border-color:\").concat(theme.infoBorderColor || 'inherit', \"}\\n\\n.cvphu_pypk .cvphu_dnnz{background:\").concat(theme.infoIconBackground || 'inherit', \";border-right-color:\").concat(theme.infoIconBackground || 'inherit', \"}\\n\\n.cvphu_ddvR{border-color:\").concat(theme.dangerBorderColor || 'inherit', \"}\\n\\n.cvphu_ddvR .cvphu_dnnz{background:\").concat(theme.dangerIconBackground || 'inherit', \";border-right-color:\").concat(theme.dangerIconBackground || 'inherit', \"}\\n\\n.cvphu_eRqw{border-color:\").concat(theme.warningBorderColor || 'inherit', \"}\\n\\n.cvphu_eRqw .cvphu_dnnz{background:\").concat(theme.warningIconBackground || 'inherit', \";border-right-color:\").concat(theme.warningIconBackground || 'inherit', \"}\");\n  },\n  'alert': 'cvphu_bgqc',\n  'content': 'cvphu_caGd',\n  'icon': 'cvphu_dnnz',\n  'closeButton': 'cvphu_fsGh',\n  'success': 'cvphu_cOXX',\n  'info': 'cvphu_pypk',\n  'error': 'cvphu_ddvR',\n  'warning': 'cvphu_eRqw'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Alert = (_dec = deprecated('7.0.0', {\n  closeButtonLabel: 'renderCloseButtonLabel'\n}), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Alert, _Component);\n\n  function Alert(props) {\n    var _this;\n\n    _classCallCheck(this, Alert);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Alert).call(this, props));\n    _this._timeouts = [];\n\n    _this.handleTimeout = function () {\n      if (_this.props.timeout > 0) {\n        _this._timeouts.push(setTimeout(function () {\n          _this.close();\n        }, _this.props.timeout));\n      }\n    };\n\n    _this.onExitTransition = function () {\n      if (_this.props.onDismiss) {\n        _this.props.onDismiss();\n      }\n    };\n\n    _this.close = function () {\n      _this.clearTimeouts();\n\n      _this.removeScreenreaderAlert();\n\n      _this.setState({\n        open: false\n      }, function () {\n        if (_this.props.onDismiss && _this.props.transition === 'none') {\n          _this.props.onDismiss();\n        }\n      });\n    };\n\n    _this.handleKeyUp = function (event) {\n      if ((_this.props.renderCloseButtonLabel || _this.props.closeButtonLabel) && event.keyCode === keycode.codes.esc) {\n        _this.close();\n      }\n    };\n\n    _this.state = {\n      open: true\n    };\n    return _this;\n  }\n\n  _createClass(Alert, [{\n    key: \"variantUI\",\n    value: function variantUI() {\n      return {\n        error: {\n          Icon: IconNoSolid,\n          classNames: classNames(styles.alert, styles.error)\n        },\n        info: {\n          Icon: IconInfoBorderlessSolid,\n          classNames: classNames(styles.alert, styles.info)\n        },\n        success: {\n          Icon: IconCheckMarkSolid,\n          classNames: classNames(styles.alert, styles.success)\n        },\n        warning: {\n          Icon: IconWarningBorderlessSolid,\n          classNames: classNames(styles.alert, styles.warning)\n        }\n      }[this.props.variant];\n    }\n  }, {\n    key: \"clearTimeouts\",\n    value: function clearTimeouts() {\n      this._timeouts.forEach(function (timeout) {\n        return clearTimeout(timeout);\n      });\n\n      this._timeouts = [];\n    }\n  }, {\n    key: \"isDOMNode\",\n    // duck type for a dom node\n    value: function isDOMNode(n) {\n      return n && typeof n === 'object' && n.nodeType === 1;\n    }\n  }, {\n    key: \"getLiveRegion\",\n    value: function getLiveRegion() {\n      var lr = null;\n\n      if (typeof this.props.liveRegion === 'function') {\n        lr = this.props.liveRegion();\n      }\n\n      return this.isDOMNode(lr) ? lr : null;\n    }\n  }, {\n    key: \"initLiveRegion\",\n    value: function initLiveRegion(liveRegion) {\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(liveRegion.getAttribute('role') === 'alert', \"[Alert] live region must have role='alert' set on page load in order to announce content\");\n\n      if (liveRegion) {\n        liveRegion.setAttribute('aria-live', this.props.liveRegionPoliteness);\n        liveRegion.setAttribute('aria-relevant', 'additions text');\n        liveRegion.setAttribute('aria-atomic', this.props.isLiveRegionAtomic);\n      }\n    }\n  }, {\n    key: \"createScreenreaderContentNode\",\n    value: function createScreenreaderContentNode() {\n      return React.createElement(ScreenReaderContent, null, this.props.children);\n    }\n  }, {\n    key: \"createScreenreaderAlert\",\n    value: function createScreenreaderAlert() {\n      var liveRegion = this.getLiveRegion();\n\n      if (liveRegion) {\n        this.srid = uid('Alert');\n        var div = document.createElement('div');\n        div.setAttribute('id', this.srid);\n        var content = this.createScreenreaderContentNode();\n        ReactDOM.render(content, div);\n        liveRegion.appendChild(div);\n      }\n    }\n  }, {\n    key: \"updateScreenreaderAlert\",\n    value: function updateScreenreaderAlert() {\n      var _this2 = this;\n\n      if (this.getLiveRegion()) {\n        var div = document.getElementById(this.srid);\n\n        if (div) {\n          ReactDOM.render(null, div, function () {\n            var content = _this2.createScreenreaderContentNode();\n\n            ReactDOM.render(content, div);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"removeScreenreaderAlert\",\n    value: function removeScreenreaderAlert() {\n      var liveRegion = this.getLiveRegion();\n\n      if (liveRegion) {\n        var div = document.getElementById(this.srid);\n\n        if (div) {\n          // Accessibility attributes must be removed for the deletion of the node\n          // and then reapplied because JAWS/IE will not respect the\n          // \"aria-relevant\" attribute and read when the node is deleted if\n          // the attributes are in place\n          liveRegion.removeAttribute('aria-live');\n          liveRegion.removeAttribute('aria-relevant');\n          liveRegion.removeAttribute('aria-atomic');\n          ReactDOM.unmountComponentAtNode(div);\n          div.parentNode.removeChild(div);\n          this.initLiveRegion(liveRegion);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var liveRegion = this.getLiveRegion();\n\n      if (liveRegion) {\n        this.initLiveRegion(liveRegion);\n      }\n\n      this.handleTimeout();\n      this.createScreenreaderAlert();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!!this.props.open === false && !!this.props.open !== !!prevProps.open) {\n        // this outside world is asking us to close the alert, which needs to\n        // take place internally so the transition runs\n        this.close();\n      } else {\n        if (this.props.children !== prevProps.children) {\n          this.updateScreenreaderAlert();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeScreenreaderAlert();\n      this.clearTimeouts();\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      var _this$variantUI = this.variantUI(),\n          Icon = _this$variantUI.Icon;\n\n      return React.createElement(\"div\", {\n        className: styles.icon\n      }, React.createElement(Icon, {\n        className: styles.alertIcon\n      }));\n    }\n  }, {\n    key: \"renderCloseButton\",\n    value: function renderCloseButton() {\n      var closeButtonLabel = this.props.renderCloseButtonLabel && callRenderProp(this.props.renderCloseButtonLabel) || this.props.closeButtonLabel;\n      return closeButtonLabel ? React.createElement(\"div\", {\n        className: styles.closeButton,\n        key: \"closeButton\"\n      }, React.createElement(CloseButton, {\n        onClick: this.close,\n        size: \"small\",\n        screenReaderLabel: closeButtonLabel\n      })) : null;\n    }\n  }, {\n    key: \"renderAlert\",\n    value: function renderAlert() {\n      var _this$variantUI2 = this.variantUI(),\n          classNames = _this$variantUI2.classNames;\n\n      return React.createElement(View, {\n        as: \"div\",\n        margin: this.props.margin,\n        className: classNames,\n        onKeyUp: this.handleKeyUp\n      }, this.renderIcon(), React.createElement(\"div\", {\n        className: styles.content\n      }, this.props.children), this.renderCloseButton());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // Don't render anything if screen reader only\n      if (this.props.screenReaderOnly) {\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        _error(this.getLiveRegion(), \"[Alert] The 'screenReaderOnly' prop must be used in conjunction with 'liveRegion'.\");\n\n        return null;\n      }\n\n      if (this.props.transition === 'none') {\n        return this.state.open ? this.renderAlert() : null;\n      }\n\n      return React.createElement(Transition, {\n        type: this.props.transition,\n        transitionOnMount: true,\n        in: this.state.open,\n        unmountOnExit: true,\n        onExited: this.onExitTransition\n      }, this.renderAlert());\n    }\n  }]);\n\n  Alert.displayName = \"Alert\";\n  return Alert;\n}(Component), _class2.propTypes = {\n  /**\n  * content to be rendered within Alert\n  */\n  children: PropTypes.node,\n\n  /**\n  * Determines color and icon\n  */\n  variant: PropTypes.oneOf(['info', 'success', 'warning', 'error']),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Function that returns the DIV where screenreader alerts will be placed.\n  */\n  liveRegion: PropTypes.func,\n\n  /**\n  * Choose the politeness level of screenreader alerts.\n  */\n  liveRegionPoliteness: PropTypes.oneOf(['polite', 'assertive']),\n\n  /**\n  * If the screenreader alert should be atomic\n  */\n  isLiveRegionAtomic: PropTypes.bool,\n\n  /**\n   * If the alert should only be visible to screen readers\n   */\n  screenReaderOnly: PropTypes.bool,\n\n  /**\n  * Milliseconds until the Alert is dismissed automatically\n  */\n  timeout: PropTypes.number,\n\n  /**\n  * Close button label. Can be a React component\n  */\n  renderCloseButtonLabel: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n\n  /**\n  * Close button label\n  */\n  closeButtonLabel: PropTypes.string,\n\n  /**\n  * Callback after the alert is closed\n  */\n  onDismiss: PropTypes.func,\n\n  /**\n  * Transition used to make the alert appear and disappear\n  */\n  transition: PropTypes.oneOf(['none', 'fade']),\n\n  /**\n  * if open transitions from truthy to falsey, it's a signal to close and unmount the alert.\n  * This is necessary to close the alert from the outside and still run the transition.\n  */\n  open: PropTypes.bool\n}, _class2.defaultProps = {\n  variant: 'info',\n  margin: 'x-small 0',\n  timeout: 0,\n  transition: 'fade',\n  open: true,\n  screenReaderOnly: false,\n  liveRegionPoliteness: 'assertive',\n  isLiveRegionAtomic: false,\n  onDismiss: void 0,\n  liveRegion: void 0,\n  renderCloseButtonLabel: void 0,\n  closeButtonLabel: void 0,\n  children: null\n}, _temp)) || _class) || _class);\nexport default Alert;\nexport { Alert };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      shadows = _ref.shadows;\n  return {\n    background: colors.backgroundLightest,\n    color: colors.textDarkest,\n    marginTop: spacing.small,\n    borderRadius: borders.radiusMedium,\n    borderWidth: borders.widthMedium,\n    borderStyle: borders.style,\n    contentPadding: \"\".concat(spacing.small, \" \").concat(spacing.medium),\n    contentFontSize: typography.fontSizeMedium,\n    contentFontFamily: typography.fontFamily,\n    contentFontWeight: typography.fontWeightNormal,\n    contentLineHeight: typography.lineHeightCondensed,\n    closeButtonMarginTop: spacing.xSmall,\n    closeButtonMarginRight: spacing.xxSmall,\n    iconColor: colors.textLightest,\n    successBorderColor: colors.borderSuccess,\n    successIconBackground: colors.backgroundSuccess,\n    infoBorderColor: colors.borderInfo,\n    infoIconBackground: colors.backgroundInfo,\n    warningBorderColor: colors.borderWarning,\n    warningIconBackground: colors.backgroundWarning,\n    dangerBorderColor: colors.borderDanger,\n    dangerIconBackground: colors.backgroundDanger,\n    boxShadow: shadows.depth2\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert } from '@instructure/ui-alerts';\nexport default class ErrorAlert extends Component {\n  renderDetail() {\n    // don't want to show the raw error to the user, but it might come in handy.\n    return this.props.error ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        display: 'none'\n      }\n    }, this.props.error.message || this.props.error.toString()) : null;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Alert, {\n      variant: \"error\",\n      margin: \"small\"\n    }, this.props.children, this.renderDetail());\n  }\n\n}\nErrorAlert.propTypes = {\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Error)]),\n  children: PropTypes.node.isRequired\n};\nErrorAlert.defaultProps = {\n  error: null\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { bool, func, string } from 'prop-types';\nimport { Button } from '@instructure/ui-buttons';\nimport { View } from '@instructure/ui-layout';\nimport { Spinner, Text } from '@instructure/ui-elements';\nimport ErrorAlert from '../ErrorAlert';\nimport formatMessage from '../../format-message';\nexport default class LoadingFutureIndicator extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleLoadMoreButton = () => {\n      this.props.onLoadMore({\n        loadMoreButtonClicked: true\n      });\n    };\n  }\n\n  renderLoadMore() {\n    if (!this.props.loadingFuture && !this.props.allFutureItemsLoaded) {\n      return /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        onClick: this.handleLoadMoreButton\n      }, formatMessage('Load more'));\n    }\n  }\n\n  renderError() {\n    if (this.props.loadingError) {\n      // Show an Alert for the user, while including the underlying root cause error\n      // in a hidden div in case we need to know what it was\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '50%',\n          margin: '0 auto'\n        }\n      }, /*#__PURE__*/React.createElement(ErrorAlert, {\n        error: this.props.loadingError\n      }, formatMessage('Error loading more items')));\n    }\n  }\n\n  renderLoading() {\n    if (this.props.loadingFuture && !this.props.allFutureItemsLoaded) {\n      return /*#__PURE__*/React.createElement(View, null, /*#__PURE__*/React.createElement(Spinner, {\n        size: \"small\",\n        margin: \"0 x-small 0 0\",\n        renderTitle: () => formatMessage('Loading...')\n      }), /*#__PURE__*/React.createElement(Text, {\n        size: \"small\",\n        color: \"secondary\"\n      }, formatMessage('Loading...')));\n    }\n  }\n\n  renderEverythingLoaded() {\n    if (this.props.allFutureItemsLoaded) {\n      return /*#__PURE__*/React.createElement(Text, {\n        color: \"secondary\",\n        size: \"small\"\n      }, formatMessage('All items loaded'));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      padding: \"x-large\",\n      textAlign: \"center\"\n    }, this.renderError(), this.renderLoadMore(), this.renderLoading(), this.renderEverythingLoaded()));\n  }\n\n}\nLoadingFutureIndicator.propTypes = {\n  loadingFuture: bool,\n  allFutureItemsLoaded: bool,\n  onLoadMore: func,\n  loadingError: string,\n  plannerActive: func\n};\nLoadingFutureIndicator.defaultProps = {\n  loadingFuture: false,\n  allFutureItemsLoaded: false,\n  onLoadMore: () => {},\n  loadingError: void 0,\n  plannerActive: () => {\n    return false;\n  }\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View } from '@instructure/ui-layout';\nimport { Spinner, Text } from '@instructure/ui-elements';\nimport ErrorAlert from '../ErrorAlert';\nimport formatMessage from '../../format-message';\n\nvar TV = function TV(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"title\", null, \"Group\"), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.825.626c-5.66.289-11.32.656-16.981 1.101-1.655.131-3.16 1.588-3.347 3.242a360.003 360.003 0 0 0-1.313 65.64h21.64V.626z\",\n    id: \"a\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.184 70.61A360.003 360.003 0 0 1 2.497 4.968c.187-1.654 1.692-3.111 3.347-3.242 5.66-.445 11.32-.812 16.98-1.101v69.983H1.185z\",\n    id: \"c\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.825 20.315c-5.66-.29-11.32-.657-16.981-1.102-1.655-.132-3.16-1.588-3.347-3.243A363.483 363.483 0 0 1 .13.843h21.695v19.472z\",\n    id: \"e\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.13.843C.48 5.885.935 10.928 1.497 15.97c.187 1.655 1.692 3.111 3.347 3.243 5.66.445 11.32.812 16.981 1.102V.843H.13z\",\n    id: \"g\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.322 1.704A618.04 618.04 0 0 1 22.923.908v71.083H.323V1.704z\",\n    id: \"i\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.923.908a618.04 618.04 0 0 0-22.6.796v70.287h22.6V.908z\",\n    id: \"k\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.923 20.032A617.82 617.82 0 0 1 .8 19.262V.609h22.122v19.423z\",\n    id: \"m\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.8 19.262c7.375.389 14.749.646 22.123.77V.61H.8v18.653z\",\n    id: \"o\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.427.917A616.582 616.582 0 0 1 22.529.92v71.117H.427V.917z\",\n    id: \"q\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.53.921A616.644 616.644 0 0 0 .426.917v71.12h22.102V.922z\",\n    id: \"s\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.367 20.022c-7.26.13-14.522.131-21.783.004V.99h21.784v19.033z\",\n    id: \"u\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.585 20.026c7.26.127 14.521.126 21.783-.004V.989H.584v19.037z\",\n    id: \"w\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.764.908a618.06 618.06 0 0 1 22.6.796v70.287H.765V.908z\",\n    id: \"y\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.365 1.704A618.078 618.078 0 0 0 .764.908v71.083h22.6V1.704z\",\n    id: \"A\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.885 19.262c-7.374.389-14.748.646-22.122.77V.61h22.122v18.653z\",\n    id: \"C\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.763 20.032a617.846 617.846 0 0 0 22.122-.77V.609H.763v19.423z\",\n    id: \"E\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.862.626c5.66.289 11.321.656 16.982 1.101 1.654.131 3.16 1.588 3.346 3.242a360.003 360.003 0 0 1 1.313 65.64H.862V.627z\",\n    id: \"G\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.503 70.61A360.003 360.003 0 0 0 21.19 4.969c-.186-1.654-1.692-3.111-3.346-3.242A621.172 621.172 0 0 0 .862.626V70.61h21.64z\",\n    id: \"I\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.557.843A363.483 363.483 0 0 1 21.19 15.97c-.186 1.655-1.692 3.111-3.346 3.243A620.62 620.62 0 0 1 .862 20.315V.843h21.695z\",\n    id: \"K\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.862 20.315a620.62 620.62 0 0 0 16.982-1.102c1.654-.132 3.16-1.588 3.346-3.243A363.483 363.483 0 0 0 22.557.843H.862v19.472z\",\n    id: \"M\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M45.69 4.085l99.153 26.003\",\n    stroke: \"#798792\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44.842 8.137a4.136 4.136 0 1 1 2.099-8 4.136 4.136 0 0 1-2.1 8z\",\n    fill: \"#798792\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M158.684 41.088c0 13.276-10.763 24.039-24.04 24.039-13.275 0-24.038-10.763-24.038-24.04 0-13.275 10.763-24.038 24.039-24.038 13.276 0 24.039 10.763 24.039 24.039\",\n    fill: \"#C0C6CB\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M158.684 41.088c0 13.276-10.763 24.039-24.04 24.039-13.275 0-24.038-10.763-24.038-24.04 0-13.275 10.763-24.038 24.039-24.038 13.276 0 24.039 10.763 24.039 24.039z\",\n    stroke: \"#798792\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#C0C6CB\",\n    d: \"M14.448 155.088h144.396v-21H14.448z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#798792\",\n    strokeWidth: \"2\",\n    d: \"M14.448 155.088h144.396v-21H14.448z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M164.844 143.351a1209.137 1209.137 0 0 1-155 0c-2.206-.144-4.266-2.057-4.571-4.264-4.672-34-4.672-68 0-102 .305-2.207 2.365-4.119 4.57-4.263a1208.773 1208.773 0 0 1 155 0c2.206.143 4.266 2.056 4.572 4.263 4.672 34 4.672 68 0 102-.306 2.207-2.365 4.12-4.571 4.264\",\n    fill: \"#F4F5F6\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M164.844 143.351a1209.137 1209.137 0 0 1-155 0c-2.206-.144-4.266-2.057-4.571-4.264-4.672-34-4.672-68 0-102 .305-2.207 2.365-4.119 4.57-4.263a1208.773 1208.773 0 0 1 155 0c2.206.143 4.266 2.056 4.572 4.263 4.672 34 4.672 68 0 102-.306 2.207-2.365 4.12-4.571 4.264z\",\n    stroke: \"#778690\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M116.844 132.41a627.204 627.204 0 0 1-97 0c-2.205-.174-4.213-2.116-4.456-4.322a369.79 369.79 0 0 1 0-80c.243-2.206 2.25-4.149 4.456-4.323a627.453 627.453 0 0 1 97 0c2.205.174 4.212 2.118 4.455 4.323a369.79 369.79 0 0 1 0 80c-.243 2.206-2.25 4.148-4.455 4.322\",\n    fill: \"#F4F5F6\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M116.844 132.41a627.204 627.204 0 0 1-97 0c-2.205-.174-4.213-2.116-4.456-4.322a369.79 369.79 0 0 1 0-80c.243-2.206 2.25-4.149 4.456-4.323a627.453 627.453 0 0 1 97 0c2.205.174 4.212 2.118 4.455 4.323a369.79 369.79 0 0 1 0 80c-.243 2.206-2.25 4.148-4.455 4.322z\",\n    stroke: \"#778690\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162.844 63.588c0 8.008-6.492 14.5-14.5 14.5-8.01 0-14.5-6.492-14.5-14.5s6.49-14.5 14.5-14.5c8.008 0 14.5 6.492 14.5 14.5\",\n    fill: \"#75848F\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162.844 63.588c0 8.008-6.492 14.5-14.5 14.5-8.01 0-14.5-6.492-14.5-14.5s6.49-14.5 14.5-14.5c8.008 0 14.5 6.492 14.5 14.5z\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M151.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0\",\n    fill: \"#75848F\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M151.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M140.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0\",\n    fill: \"#75848F\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M140.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0\",\n    fill: \"#75848F\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162.844 88.588a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zm-26.693-18.833l18.842-18.103m-13.299 23.871l18.841-18.103\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M133.844 100.328h29m-29 5h29m-29 5h29m-29 5h29\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(14 43.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"b\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#a\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.8 70.61a1227.73 1227.73 0 0 1-21.782-.768A388.062 388.062 0 0 1 1.728.888 657.433 657.433 0 0 1 22.826-.47 687.486 687.486 0 0 0 21.8 70.61\",\n    fill: \"#95D4F5\",\n    mask: \"url(#b)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(14 43.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"d\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#c\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.8 70.61a1227.73 1227.73 0 0 1-21.782-.768A388.062 388.062 0 0 1 1.728.888 657.433 657.433 0 0 1 22.826-.47 687.486 687.486 0 0 0 21.8 70.61z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#d)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(15 112.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"f\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#e\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.825 21.41A660.962 660.962 0 0 1 .728 20.051 390.33 390.33 0 0 1-.982.843c7.26.32 14.522.575 21.783.766.246 6.6.587 13.2 1.024 19.8\",\n    fill: \"#E8ACDD\",\n    mask: \"url(#f)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(15 112.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"h\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#g\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.825 21.41A660.962 660.962 0 0 1 .728 20.051 390.33 390.33 0 0 1-.982.843c7.26.32 14.522.575 21.783.766.246 6.6.587 13.2 1.024 19.8z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#h)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(35 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"j\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#i\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.585 71.991c-7.262-.063-14.522-.19-21.784-.382A687.486 687.486 0 0 1 1.825.53C8.856.19 15.89-.035 22.923-.148a2139.173 2139.173 0 0 0-.338 72.14\",\n    fill: \"#94E09E\",\n    mask: \"url(#j)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(35 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"l\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#k\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.585 71.991c-7.262-.063-14.522-.19-21.784-.382A687.486 687.486 0 0 1 1.825.53C8.856.19 15.89-.035 22.923-.148a2139.173 2139.173 0 0 0-.338 72.14z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#l)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(35 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"n\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#m\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.923 21.087a651.911 651.911 0 0 1-21.098-.678c-.436-6.6-.778-13.2-1.024-19.8C8.063.8 15.323.928 22.585.99c.08 6.699.194 13.398.338 20.096\",\n    fill: \"#FEC19B\",\n    mask: \"url(#n)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(35 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"p\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#o\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.923 21.087a651.911 651.911 0 0 1-21.098-.678c-.436-6.6-.778-13.2-1.024-19.8C8.063.8 15.323.928 22.585.99c.08 6.699.194 13.398.338 20.096z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#p)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(57 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"r\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#q\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.367 71.99c-7.26.063-14.52.064-21.782.001C.292 47.945.405 23.9.923-.148c7.032-.112 14.064-.11 21.097.005.531 24.044.646 48.088.347 72.132\",\n    fill: \"#F9979A\",\n    mask: \"url(#r)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(57 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"t\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#s\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.367 71.99c-7.26.063-14.52.064-21.782.001C.292 47.945.405 23.9.923-.148c7.032-.112 14.064-.11 21.097.005.531 24.044.646 48.088.347 72.132z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#t)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(57 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"v\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#u\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.02 21.083a656.57 656.57 0 0 1-21.098.004A2244.57 2244.57 0 0 1 .584.991c7.261.064 14.523.063 21.784-.002-.084 6.698-.2 13.396-.348 20.094\",\n    fill: \"#95D4F5\",\n    mask: \"url(#v)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(57 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"x\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#w\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.02 21.083a656.57 656.57 0 0 1-21.098.004A2244.57 2244.57 0 0 1 .584.991c7.261.064 14.523.063 21.784-.002-.084 6.698-.2 13.396-.348 20.094z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#x)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(78 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"z\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#y\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.886 71.61c-7.261.19-14.521.317-21.783.381.292-24.046.179-48.092-.34-72.139 7.034.112 14.067.338 21.1.678a687.766 687.766 0 0 1 1.023 71.08\",\n    fill: \"#FEC19B\",\n    mask: \"url(#z)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(78 42.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"B\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#A\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.886 71.61c-7.261.19-14.521.317-21.783.381.292-24.046.179-48.092-.34-72.139 7.034.112 14.067.338 21.1.678a687.766 687.766 0 0 1 1.023 71.08z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#B)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(78 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"D\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#C\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.862 20.41c-7.032.34-14.065.564-21.099.677.145-6.699.258-13.398.34-20.096C8.363.928 15.624.801 22.884.61c-.245 6.6-.586 13.2-1.023 19.8\",\n    fill: \"#F9979A\",\n    mask: \"url(#D)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(78 113.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"F\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#E\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.862 20.41c-7.032.34-14.065.564-21.099.677.145-6.699.258-13.398.34-20.096C8.363.928 15.624.801 22.884.61c-.245 6.6-.586 13.2-1.023 19.8z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#F)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(99 43.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"H\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#G\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.67 69.843c-7.261.319-14.522.575-21.784.767A686.946 686.946 0 0 0 .862-.47C7.895-.131 14.926.322 21.959.889a388.06 388.06 0 0 1 1.71 68.954\",\n    fill: \"#E8ACDD\",\n    mask: \"url(#H)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(99 43.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"J\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#I\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.67 69.843c-7.261.319-14.522.575-21.784.767A686.946 686.946 0 0 0 .862-.47C7.895-.131 14.926.322 21.959.889a388.06 388.06 0 0 1 1.71 68.954z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#J)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(99 112.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"L\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#K\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.959 20.052A657.303 657.303 0 0 1 .862 21.409c.437-6.6.779-13.2 1.024-19.8A1247.86 1247.86 0 0 0 23.67.844a391.449 391.449 0 0 1-1.711 19.209\",\n    fill: \"#94E09E\",\n    mask: \"url(#L)\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(99 112.118)\"\n  }, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"N\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#M\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.959 20.052A657.303 657.303 0 0 1 .862 21.409c.437-6.6.779-13.2 1.024-19.8A1247.86 1247.86 0 0 0 23.67.844a391.449 391.449 0 0 1-1.711 19.209z\",\n    stroke: \"#6D7A82\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    mask: \"url(#N)\"\n  }))));\n};\n\nTV.defaultProps = {\n  width: \"174\",\n  height: \"157\",\n  viewBox: \"0 0 174 157\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n};\nexport default class LoadingPastIndicator extends Component {\n  // Don't try to animate this component here. If we want this to animate, it should be coordinated\n  // with other animations in the dynamic ui manager.\n  renderError() {\n    if (this.props.loadingError) {\n      // Show an Alert for the user, while including the underlying root cause error\n      // in a hidden div in case we need to know what it was\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '50%',\n          margin: '0 auto'\n        }\n      }, /*#__PURE__*/React.createElement(ErrorAlert, {\n        error: this.props.loadingError\n      }, formatMessage('Error loading past items')));\n    }\n  }\n\n  renderNoMore() {\n    if (this.props.allPastItemsLoaded) {\n      return /*#__PURE__*/React.createElement(View, {\n        as: \"div\",\n        padding: \"small\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/React.createElement(View, {\n        display: \"block\",\n        margin: \"small\"\n      }, /*#__PURE__*/React.createElement(TV, {\n        role: \"img\",\n        \"aria-hidden\": \"true\"\n      })), /*#__PURE__*/React.createElement(Text, {\n        size: \"large\",\n        as: \"div\"\n      }, formatMessage('Beginning of Your To-Do History')), /*#__PURE__*/React.createElement(Text, {\n        size: \"medium\",\n        as: \"div\"\n      }, formatMessage(\"You've scrolled back to your very first To-Do!\")));\n    }\n  }\n\n  renderLoading() {\n    if (this.props.loadingPast && !this.props.allPastItemsLoaded) {\n      return /*#__PURE__*/React.createElement(View, {\n        as: \"div\",\n        padding: \"medium small small small\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        size: \"small\",\n        margin: \"0 x-small 0 0\",\n        renderTitle: () => formatMessage('Loading past items')\n      }), /*#__PURE__*/React.createElement(Text, {\n        size: \"small\",\n        color: \"secondary\"\n      }, formatMessage('Loading past items')));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: elt => {\n        this.rootDiv = elt;\n      }\n    }, this.renderError(), this.renderNoMore(), this.renderLoading());\n  }\n\n}\nLoadingPastIndicator.propTypes = {\n  loadingPast: PropTypes.bool,\n  // actively loading?\n  allPastItemsLoaded: PropTypes.bool,\n  // there are no more?\n  loadingError: PropTypes.string // message if there was an error attempting to loaad items\n\n};\nLoadingPastIndicator.defaultProps = {\n  loadingPast: false,\n  allPastItemsLoaded: false,\n  loadingError: void 0\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n* The MIT License (MIT)\n*\n* Copyright (c) 2015 - present Instructure, Inc.\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n* SOFTWARE.\n*/\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nimport { findDOMNode, findFocusable, isActiveElement } from '@instructure/ui-dom-utils';\nimport { deprecated, getElementType, matchComponentTypes, omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'cLDjO',\n  template: function template(theme) {\n    return \"\\n\\n.cLDjO_bGBk,a.cLDjO_bGBk,button.cLDjO_bGBk{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box;font-family:\".concat(theme.fontFamily || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";outline-color:transparent;outline-offset:0.25rem;outline-style:\").concat(theme.focusOutlineStyle || 'inherit', \";outline-width:\").concat(theme.focusOutlineWidth || 'inherit', \";transition:outline-color 0.2s;vertical-align:baseline}\\n\\n.cLDjO_bGBk:focus,a.cLDjO_bGBk:focus,button.cLDjO_bGBk:focus{outline-color:\").concat(theme.focusOutlineColor || 'inherit', \"}\\n\\n.cLDjO_bGBk[aria-disabled],a.cLDjO_bGBk[aria-disabled],button.cLDjO_bGBk[aria-disabled]{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.cLDjO_bGBk::-moz-focus-inner,a.cLDjO_bGBk::-moz-focus-inner,button.cLDjO_bGBk::-moz-focus-inner{border:0}\\n\\na.cLDjO_bGBk,button.cLDjO_bGBk{color:\").concat(theme.color || 'inherit', \";cursor:pointer}\\n\\na.cLDjO_bGBk.cLDjO_vIby,button.cLDjO_bGBk.cLDjO_vIby{-webkit-text-decoration:\").concat(theme.textDecoration || 'inherit', \";text-decoration:\").concat(theme.textDecoration || 'inherit', \"}\\n\\na.cLDjO_bGBk.cLDjO_bSMN,button.cLDjO_bGBk.cLDjO_bSMN{-webkit-text-decoration:\").concat(theme.textDecorationOutsideText || 'inherit', \";text-decoration:\").concat(theme.textDecorationOutsideText || 'inherit', \"}\\n\\na.cLDjO_bGBk:focus,button.cLDjO_bGBk:focus{color:\").concat(theme.color || 'inherit', \"}\\n\\na.cLDjO_bGBk:active,a.cLDjO_bGBk:hover,button.cLDjO_bGBk:active,button.cLDjO_bGBk:hover{-webkit-text-decoration:\").concat(theme.hoverTextDecoration || 'inherit', \";color:\").concat(theme.hoverColor || 'inherit', \";text-decoration:\").concat(theme.hoverTextDecoration || 'inherit', \"}\\n\\n.cLDjO_bGBk.cLDjO_enfx,a.cLDjO_bGBk.cLDjO_enfx:link,a.cLDjO_bGBk.cLDjO_enfx:visited,button.cLDjO_bGBk.cLDjO_enfx{color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\n.cLDjO_bGBk.cLDjO_enfx:focus,a.cLDjO_bGBk.cLDjO_enfx:link:focus,a.cLDjO_bGBk.cLDjO_enfx:visited:focus,button.cLDjO_bGBk.cLDjO_enfx:focus{outline-color:\").concat(theme.focusInverseOutlineColor || 'inherit', \"}\\n\\n.cLDjO_bGBk.cLDjO_enfx:active,.cLDjO_bGBk.cLDjO_enfx:focus,.cLDjO_bGBk.cLDjO_enfx:hover,a.cLDjO_bGBk.cLDjO_enfx:link:active,a.cLDjO_bGBk.cLDjO_enfx:link:focus,a.cLDjO_bGBk.cLDjO_enfx:link:hover,a.cLDjO_bGBk.cLDjO_enfx:visited:active,a.cLDjO_bGBk.cLDjO_enfx:visited:focus,a.cLDjO_bGBk.cLDjO_enfx:visited:hover,button.cLDjO_bGBk.cLDjO_enfx:active,button.cLDjO_bGBk.cLDjO_enfx:focus,button.cLDjO_bGBk.cLDjO_enfx:hover{color:\").concat(theme.colorInverse || 'inherit', \"}\\n\\nbutton.cLDjO_bGBk{-moz-appearance:none;-moz-user-select:text;-ms-user-select:text;-webkit-appearance:none;-webkit-user-select:text;appearance:none;background:none;border:none;cursor:pointer;font-size:1em;margin:0;padding:0;text-align:inherit;user-select:text}\\n\\n[dir=ltr] button.cLDjO_bGBk,[dir=rtl] button.cLDjO_bGBk{text-align:inherit}\\n\\n.cLDjO_dnnz{box-sizing:border-box;font-size:\").concat(theme.iconSize || 'inherit', \"}\\n\\n.cLDjO_ddMx .cLDjO_dnnz{-webkit-padding-end:\").concat(theme.iconPlusTextMargin || 'inherit', \";-webkit-padding-start:0;padding-inline-end:\").concat(theme.iconPlusTextMargin || 'inherit', \";padding-inline-start:0}\\n\\n[dir=ltr] .cLDjO_ddMx .cLDjO_dnnz{padding-left:0;padding-right:\").concat(theme.iconPlusTextMargin || 'inherit', \"}\\n\\n[dir=rtl] .cLDjO_ddMx .cLDjO_dnnz{padding-left:\").concat(theme.iconPlusTextMargin || 'inherit', \";padding-right:0}\\n\\n.cLDjO_bkXt .cLDjO_dnnz{-webkit-padding-end:0;-webkit-padding-start:\").concat(theme.iconPlusTextMargin || 'inherit', \";padding-inline-end:0;padding-inline-start:\").concat(theme.iconPlusTextMargin || 'inherit', \"}\\n\\n[dir=ltr] .cLDjO_bkXt .cLDjO_dnnz{padding-left:\").concat(theme.iconPlusTextMargin || 'inherit', \";padding-right:0}\\n\\n[dir=rtl] .cLDjO_bkXt .cLDjO_dnnz{padding-left:0;padding-right:\").concat(theme.iconPlusTextMargin || 'inherit', \"}\\n\\n.cLDjO_FcDy.cLDjO_bkXt,.cLDjO_FcDy.cLDjO_ddMx{align-items:center}\");\n  },\n  'root': 'cLDjO_bGBk',\n  'isWithinText': 'cLDjO_vIby',\n  'isOutsideText': 'cLDjO_bSMN',\n  'inverse': 'cLDjO_enfx',\n  'icon': 'cLDjO_dnnz',\n  'iconPlacement--start': 'cLDjO_ddMx',\n  'iconPlacement--end': 'cLDjO_bkXt',\n  'truncates': 'cLDjO_FcDy'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedLink\n---\n**/\n\nvar Link = (_dec = deprecated('7.0.0', null, 'Use Link from ui-link instead.'), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Link, _Component);\n\n  function Link() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Link)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onClick = _this$props.onClick;\n\n      if (disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n      } else if (typeof onClick === 'function') {\n        onClick(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Link, [{\n    key: \"focus\",\n    value: function focus() {\n      findDOMNode(this._link).focus();\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      var Icon = this.props.icon;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warn( // if display prop is used, warn about icon or TruncateText\n      this.props.display === void 0, '[Link] Using the display property with an icon may cause layout issues.');\n\n      if (typeof this.props.icon === 'function') {\n        return React.createElement(\"span\", {\n          className: styles.icon\n        }, React.createElement(Icon, null));\n      } else if (Icon) {\n        return React.createElement(\"span\", {\n          className: styles.icon\n        }, Icon);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes,\n          _this2 = this;\n\n      var _this$props2 = this.props,\n          disabled = _this$props2.disabled,\n          children = _this$props2.children,\n          onClick = _this$props2.onClick,\n          variant = _this$props2.variant,\n          href = _this$props2.href,\n          margin = _this$props2.margin,\n          icon = _this$props2.icon,\n          iconPlacement = _this$props2.iconPlacement,\n          linkRef = _this$props2.linkRef,\n          _elementRef = _this$props2.elementRef,\n          isWithinText = _this$props2.isWithinText;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.root, true), _defineProperty(_classes, styles.inverse, variant === 'inverse'), _defineProperty(_classes, styles[\"iconPlacement--\".concat(iconPlacement)], icon && this.hasVisibleChildren), _defineProperty(_classes, styles.truncates, this.containsTruncateText), _defineProperty(_classes, styles[\"is\".concat(isWithinText ? 'Within' : 'Outside', \"Text\")], true), _classes);\n      var role = onClick && this.element !== 'button' ? 'button' : null;\n      var type = this.element === 'button' || this.element === 'input' ? 'button' : null;\n      var tabIndex = role === 'button' && !disabled ? '0' : null;\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Link.propTypes), Link);\n\n      var props = _objectSpread({}, passthroughProps, {\n        elementRef: function elementRef(el) {\n          _this2._link = el;\n          if (typeof linkRef === 'function') linkRef(el);\n          if (typeof _elementRef === 'function') _elementRef(el);\n        },\n        as: this.element,\n        display: this.display,\n        margin: margin,\n        className: classnames(classes),\n        href: href,\n        onClick: this.handleClick,\n        'aria-disabled': disabled ? 'true' : null,\n        role: role,\n        type: type,\n        tabIndex: tabIndex\n      });\n\n      return React.createElement(View, props, icon && iconPlacement === 'start' && this.renderIcon(), children, icon && iconPlacement === 'end' && this.renderIcon());\n    }\n  }, {\n    key: \"display\",\n    get: function get() {\n      if (this.props.display) {\n        return this.props.display; // user-entered display property\n      }\n\n      if (this.props.icon) {\n        if (this.containsTruncateText) {\n          return 'flex'; // TruncateText displays block, so avoid icon getting bumped\n        } else {\n            return 'inline-block'; // avoid irregularly shaped focus outline\n          }\n      } else if (this.containsTruncateText) {\n        return 'block'; // TruncateText displays block, so container needs to as well\n      } else {\n        return 'auto';\n      }\n    }\n  }, {\n    key: \"hasVisibleChildren\",\n    get: function get() {\n      return hasVisibleChildren(this.props.children);\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return getElementType(Link, this.props);\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._link);\n    }\n  }, {\n    key: \"focusable\",\n    get: function get() {\n      return findFocusable(this._link);\n    }\n  }, {\n    key: \"containsTruncateText\",\n    get: function get() {\n      var truncateText = false;\n      React.Children.forEach(this.props.children, function (child) {\n        if (child && matchComponentTypes(child, ['TruncateText'])) {\n          truncateText = true;\n        }\n      });\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warn( // if display prop is used, warn about icon or TruncateText\n      !truncateText || this.props.display === void 0, '[Link] Using the display property with TruncateText may cause layout issues.');\n\n      return truncateText;\n    }\n  }]);\n\n  Link.displayName = \"Link\";\n  return Link;\n}(Component), _class2.propTypes = {\n  href: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n  * provides a reference to the underlying focusable (`button` or `a`) element\n  */\n  linkRef: PropTypes.func,\n\n  /**\n  * provides a reference to the underlying html element\n  */\n  elementRef: PropTypes.func,\n\n  /**\n  * the element type to render as (will default to `<a>` if href is provided)\n  */\n  as: PropTypes.elementType,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Add an SVG icon to the Link. Do not add icons directly as\n  * children.\n  */\n  icon: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n  * Place the icon before or after the text in the Link.\n  */\n  iconPlacement: PropTypes.oneOf(['start', 'end']),\n\n  /**\n  * Set the CSS display property of the Link element. 'auto' sets no display property.\n  */\n  display: PropTypes.oneOf(['auto', 'block', 'inline-block', 'flex', 'inline-flex']),\n\n  /**\n  * Set `false` to remove default underline if Link does not appear inline with text\n  */\n  isWithinText: PropTypes.bool\n}, _class2.defaultProps = {\n  href: void 0,\n  elementRef: void 0,\n  disabled: false,\n  onClick: void 0,\n  margin: void 0,\n  icon: void 0,\n  display: void 0,\n  variant: 'default',\n  as: void 0,\n  linkRef: function linkRef(link) {},\n  iconPlacement: 'start',\n  isWithinText: true\n}, _temp)) || _class) || _class) || _class);\nexport default Link;\nexport { Link };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { darken } from '@instructure/ui-color-utils';\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textLink,\n    textDecoration: 'underline',\n    textDecorationOutsideText: 'none',\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineStyle: borders.style,\n    hoverColor: darken(colors.textLink, 10),\n    hoverTextDecoration: 'underline',\n    colorInverse: colors.textLight,\n    focusInverseOutlineColor: colors.borderLightest,\n    focusInverseIconOutlineColor: colors.borderLightest,\n    iconSize: '1.125em',\n\n    /* make icon slightly larger than inherited font-size */\n    iconPlusTextMargin: spacing.xxSmall\n  };\n}\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref2) {\n  var colors = _ref2.colors;\n  return {\n    textDecoration: 'underline',\n    focusOutlineColor: colors.borderBrand,\n    focusInverseOutlineColor: colors.borderLightest,\n    textDecorationOutsideText: 'underline'\n  };\n};\n\ngenerator['canvas'] = function (variables) {\n  return {\n    color: variables['ic-link-color'],\n    focusOutlineColor: variables['ic-brand-primary'],\n    hoverColor: darken(variables['ic-link-color'], 10)\n  };\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { func, bool, string } from 'prop-types';\nimport { Heading, Link } from '@instructure/ui-elements';\nimport { Button } from '@instructure/ui-buttons';\nimport formatMessage from '../../format-message';\n\nvar DesertSvg = function DesertSvg(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0 1)\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M169.49 68.72c1.255-7.153-3.504-13.976-10.65-15.27v-1a10.5 10.5 0 0 0-20.08-4.29 19.505 19.505 0 0 0-27.14 7.47 13.253 13.253 0 0 0-11.487 2.34A13.257 13.257 0 0 0 95 68.51v.21h74.49zm76.65 10c-1.012-5.78 2.836-11.29 8.61-12.33v-.78a8.48 8.48 0 0 1 16.22-3.47 15.76 15.76 0 0 1 21.93 6c3.22-.867 6.66-.182 9.304 1.852a10.696 10.696 0 0 1 4.176 8.518v.17l-60.24.04z\",\n    fill: \"#E6E9EB\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M285 153.84l5-11.77c.098-.23.15-.48.15-.73v-37.51c0-.523.217-1.024.6-1.38l10-9.39h-11.56c-.767 0-1.507.28-2.08.79l-4.32 3.84a3.13 3.13 0 0 0-1 2.34v39.85a3.764 3.764 0 0 1-1.45 3l-4.8 3.74-7 13.94-12.54 7.81-7 1.13a3.772 3.772 0 0 0-2.84 2.19l-3.34 7.56h56.86l-16.36-11.59a3.76 3.76 0 0 1-1.41-4.21l3.09-9.61z\",\n    fill: \"#FEBD96\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M348.51 106.4l1.32-6.2c.127-.6.537-1.1 1.1-1.34l13.57-5.8h-19.16a3.12 3.12 0 0 0-3.12 3.12v12.42l5.32-.92c.498-.26.854-.73.97-1.28z\",\n    fill: \"#FEC3A0\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M76.71 179.25v-.47l-6.88-11.92c-.12-.212-.28-.4-.47-.55l-3.68-2.86a1.888 1.888 0 0 1-.44-.49l-1.89-3c-.19-.3-.29-.646-.29-1v-54.7c0-.802.255-1.584.73-2.23l9.62-13.12H61.07A3.767 3.767 0 0 0 58.41 90l-3.82 3.82a3.768 3.768 0 0 0-1.1 2.66v67.2a1.88 1.88 0 0 1-1 1.65L27 179.25h49.71z\",\n    fill: \"#FEBD96\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M138.39 103.42l-1.77 3.58a3.74 3.74 0 0 0-.4 1.68V156h3.09a1.88 1.88 0 0 0 1.88-1.88v-42.39c0-.465.17-.914.48-1.26l7.57-8.43a3.747 3.747 0 0 0-2.17-.7h-5.31a3.76 3.76 0 0 0-3.37 2.08z\",\n    fill: \"#FEC3A0\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M242.82 179.25l3.34-7.56a3.772 3.772 0 0 1 2.84-2.19l7-1.13 12.51-7.84 7-13.94 4.8-3.74a3.767 3.767 0 0 0 1.45-3V100a3.123 3.123 0 0 1 1-2.34l4.32-3.84a3.127 3.127 0 0 1 2.08-.79h41.37a3.121 3.121 0 0 1 2.8 1.73l2.28 4.56c.218.435.33.914.33 1.4v7.85a3.118 3.118 0 0 0 4.64 2.73 3.121 3.121 0 0 0 1.61-2.73V96.19a3.12 3.12 0 0 1 3.12-3.12h24.37c.63 0 1.22.314 1.57.84l3.3 4.94c.2.296.31.643.32 1v54.88a1.881 1.881 0 0 0 1.51 1.85l4.88 1a1.88 1.88 0 0 1 1 .51l5.58 5.58c.18.18.394.324.63.42l14.24 5.72 27.8 9.43M0 179.25h464.98m-437.98 0l25.52-13.92a1.88 1.88 0 0 0 1-1.65v-67.2c0-.997.396-1.954 1.1-2.66L58.41 90a3.768 3.768 0 0 1 2.66-1.1h44.5c1.323 0 2.55.695 3.23 1.83l5.6 9.33c.353.586.54 1.256.54 1.94v36.83a1.88 1.88 0 0 0 1.88 1.88H122a3.771 3.771 0 0 1 3.5 2.38l4.61 11.69c.283.718.978 1.19 1.75 1.19h4.34v-47.3a3.773 3.773 0 0 1 .4-1.68l1.77-3.55a3.771 3.771 0 0 1 3.37-2.08h5.31a3.77 3.77 0 0 1 3.61 2.68l1.45 4.82c.105.35.16.714.16 1.08v33.51a3.769 3.769 0 0 0 1.77 3.19l4.66 2.91 11.65 5.45c.266.124.5.31.68.54l8.19 10.42c.24.305.568.53.94.64l14.29 4.25 4.42 8.43\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M316.37 213.87l-2.03-4.93-4.58-11.08 1.17-14.96 7.43-10.57 6.11-5.98m-6.11 5.98l5.67-.94m-8.94 5.58l-2.1-4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M310.33 190.56l4.76-8.12 4.06-2.24m-8.6 7.56l-3.57-5.87m6.9 2.61l4.51.31m-4.56 22.91l3.83-14.91 7.92-10.75 8.79-5.6 6.86-2.64 2.94-5.32m-33.24 32.19l-4.78-.82m8.19 9.07l10.42 2.9 10.34 4.03 9.79-3.98 8.2-4.07\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M336.54 175.63l-.36-3.94 3.84-4.96M327 181.15l-.03-4.74 2.58-4.88 1.88-3.35m-14.55 27.66l-3.23-3.3m1.78 8.97l4.38-4.28 6.98-3.84 7.06-6.92m-13.41 2.57l5.32-.07 2.86-2.8m3.65-8.37l5.35 1.99 4.14-1.05m-27.1 25.76l9.58.27 11.28 1.84 11.81-4.68 5.9-7.09 4.94-5.26\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M323.3 195.31l3.56 1.38 6.81.26 4.13-6.44 2.79-6.23 6.46-4.14 2.02-4.16\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M329.48 190.75l2.04-4.98 2.3-4.38m-11.07 29.89l5.44-2.47 3.19 1.85m12.01 1.84l1.59-3.99 5.71-3.15 2.75-3.91 3.35-2.07m-29.49 13.45l1.32 4.45m-7.71-12.6l3.16-3.1 7.54 1.03 5.84-1.8 3.85-1.68 4-6 3.5-8.54 3.63-2.35 3.37.62m-18 7.65l2.81-.35 3.66-3.58\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    d: \"M337.45 200.81l.85-4.74 3.36-3.3m4.22-1.06l3.66-.65 2.86-2.8 2.76.17m-19.64 18.18l3.97 2.99m5.86-6.88l1.1-3.37 2.34-4.68m4.44.17l4.83.56\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M238.52 91.16c-5.346 0-9.68 4.334-9.68 9.68v17.35c0 5.42-7 10.75-14.19 13.61v-90c0-5.346-4.334-9.68-9.68-9.68s-9.68 4.334-9.68 9.68V111c-7.22-2.86-14.2-8.19-14.2-13.62V69.6c0-5.346-4.334-9.68-9.68-9.68s-9.68 4.334-9.68 9.68v27.77c0 10.1 5.81 19.49 16.35 26.45a55.48 55.48 0 0 0 17.2 7.43v58.67h19.2l.15-37.85a55.456 55.456 0 0 0 17.2-7.43c10.55-7 16.35-16.35 16.35-26.44v-17.36c0-5.338-4.322-9.67-9.66-9.68z\",\n    fill: \"#FFF\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M195.29 189.92v-58.67a55.48 55.48 0 0 1-17.2-7.43c-10.55-7-16.35-16.35-16.35-26.45V69.6c0-5.346 4.334-9.68 9.68-9.68-4.89 0-4.57 10.06-4.57 10.06v27.75c0 9.75 11.57 23.13 28.45 27.4V41.84a9.682 9.682 0 0 1 9.7-9.68c-5.18 0-4.64 8.75-4.64 8.75v149l-5.07.01z\",\n    fill: \"#99E1A2\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M238.52 91.16c-5.346 0-9.68 4.334-9.68 9.68v17.35c0 5.42-7 10.75-14.19 13.61v-90c0-5.346-4.334-9.68-9.68-9.68s-9.68 4.334-9.68 9.68V111c-7.22-2.86-14.2-8.19-14.2-13.62V69.6c0-5.346-4.334-9.68-9.68-9.68s-9.68 4.334-9.68 9.68v27.77c0 10.1 5.81 19.49 16.35 26.45a55.48 55.48 0 0 0 17.2 7.43v58.67h19.2l.15-37.85a55.456 55.456 0 0 0 17.2-7.43c10.55-7 16.35-16.35 16.35-26.44v-17.36c0-5.338-4.322-9.67-9.66-9.68z\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M410.38 128.64a5.64 5.64 0 0 1 5.64 5.64v10.11c0 3.16 4.06 6.26 8.27 7.93v-52.4a5.64 5.64 0 0 1 11.27 0v40.27c4.21-1.67 8.27-4.77 8.27-7.93v-16.17a5.64 5.64 0 1 1 11.27 0v16.17c0 5.88-3.38 11.35-9.52 15.4a32.298 32.298 0 0 1-10 4.33v30.88h-11.3v-18.76a32.287 32.287 0 0 1-10-4.33c-6.14-4.05-9.52-9.52-9.52-15.4v-10.1a5.64 5.64 0 0 1 5.62-5.64z\",\n    fill: \"#FFF\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M424.28 182.87v-18.76a32.298 32.298 0 0 1-10-4.33c-6.14-4.05-9.52-8.47-9.52-14.35v-10.52a5.64 5.64 0 0 1 5.64-5.64c-2.85 0-2.66 5.86-2.66 5.86v10.51c0 5.68 6.74 12.42 16.57 14.9V99.92a5.64 5.64 0 0 1 5.64-5.64c-3 0-2.7 5.1-2.7 5.1v83.16l-2.97.33z\",\n    fill: \"#99E1A2\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M410.38 128.64a5.64 5.64 0 0 1 5.64 5.64v10.11c0 3.16 4.06 6.26 8.27 7.93v-52.4a5.64 5.64 0 0 1 11.27 0v40.27c4.21-1.67 8.27-4.77 8.27-7.93v-16.17a5.64 5.64 0 1 1 11.27 0v16.17c0 5.88-3.38 11.35-9.52 15.4a32.298 32.298 0 0 1-10 4.33v30.88h-11.3v-18.76a32.287 32.287 0 0 1-10-4.33c-6.14-4.05-9.52-9.52-9.52-15.4v-10.1a5.64 5.64 0 0 1 5.62-5.64z\",\n    stroke: \"#3F5463\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    stroke: \"#CED3D7\",\n    strokeWidth: \"2\",\n    cx: \"360.58\",\n    cy: \"18.96\",\n    r: \"11.35\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M360.58 30.31v7.6m0-37.91v7.6m6.51 20.66l4.36 6.23M349.71 3.43l4.36 6.23m17.18 13.18l7.14 2.6m-35.62-12.97l7.14 2.6m21.64.95l7.34-1.97m-36.62 9.81l7.34-1.96m18.27-11.64l4.89-5.82M348.4 33.48l4.88-5.83\",\n    stroke: \"#CED3D7\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M431.69 53.54A8.71 8.71 0 0 0 419 46.93a13.85 13.85 0 0 0-24.63 2 15.39 15.39 0 0 0-18.49 20.42H447a24.004 24.004 0 0 0-15.31-15.81z\",\n    fill: \"#E6E9EB\",\n    fillRule: \"nonzero\"\n  })));\n};\n\nDesertSvg.defaultProps = {\n  className: \"desert\",\n  width: \"465\",\n  height: \"220\",\n  viewBox: \"0 0 465 220\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}; // Currently uses react-svg-loader\n\nvar BalloonsSvg = function BalloonsSvg(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", props, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M180.7 41.62c2.135 27.732-24.138 59.646-34.342 60.441-8.929.697-41.054-26.74-43.188-54.473-2.136-27.733 14.047-44.309 35.456-45.956 21.41-1.65 39.938 12.255 42.073 39.988\",\n    fill: \"#E24270\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M180.7 41.62c2.135 27.732-24.138 59.646-34.342 60.441-8.929.697-41.054-26.74-43.188-54.473-2.136-27.733 14.047-44.309 35.456-45.956 21.41-1.65 39.938 12.255 42.073 39.988z\",\n    stroke: \"#BB0049\",\n    strokeWidth: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M146.63 105.591s-4.77 27.213 18.103 85.754c23.706 60.672.983 94.078.983 94.078\",\n    stroke: \"#808285\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M145.778 102.55l-3.785 5.522c-.648.947.518 2.076 1.442 1.398l3.196-2.343 4.427 2.3c.843.437 1.654-.634 1.004-1.326l-5.29-5.627a.64.64 0 0 0-.994.076\",\n    fill: \"#E24270\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M145.778 102.55l-3.785 5.522c-.648.947.518 2.076 1.442 1.398l3.196-2.343 4.427 2.3c.843.437 1.654-.634 1.004-1.326l-5.29-5.627a.64.64 0 0 0-.994.076z\",\n    stroke: \"#BB0049\",\n    strokeWidth: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M241.23 92.875c-4.167 22.36-30.434 42.254-38.226 40.812-6.817-1.263-25.125-29.482-20.957-51.842 4.167-22.36 19.706-32.179 36.049-29.133 16.343 3.046 27.302 17.803 23.134 40.163\",\n    fill: \"#F7941D\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M241.23 92.875c-4.167 22.36-30.434 42.254-38.226 40.812-6.817-1.263-25.125-29.482-20.957-51.842 4.167-22.36 19.706-32.179 36.049-29.133 16.343 3.046 27.302 17.803 23.134 40.163z\",\n    stroke: \"#F15A29\",\n    strokeWidth: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M203.032 136.123s12.741 9.219-2.05 48.258c-46.37 122.379 29.76 109.992-5.868 122.9\",\n    stroke: \"#808285\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M204.083 133.415l-3.376 4.166c-.578.713.226 1.731.993 1.26l2.655-1.63 3.216 2.25c.613.428 1.326-.375.884-.993l-3.6-5.03a.479.479 0 0 0-.772-.023\",\n    fill: \"#F7941D\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M204.083 133.415l-3.376 4.166c-.578.713.226 1.731.993 1.26l2.655-1.63 3.216 2.25c.613.428 1.326-.375.884-.993l-3.6-5.03a.479.479 0 0 0-.772-.023z\",\n    stroke: \"#F15A29\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#E24270\",\n    d: \"M8.281 134.769l-8.28-4.087 4.086-8.281 8.28 4.087zM344.76 214.841l-8.28-4.087 4.086-8.28 8.28 4.086z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#2BB673\",\n    d: \"M221.812 203.149l-5.114-7.688 7.689-5.116 5.114 7.69zM42.081 243.527l-5.114-7.688 7.688-5.115 5.114 7.689z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#C739AE\",\n    d: \"M260.816 127.785l-8.281-4.087 4.086-8.281 8.28 4.087z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M64.753 142.608c4.167 22.36 30.434 42.255 38.226 40.812 6.817-1.263 25.124-29.482 20.957-51.842-4.168-22.361-19.706-32.178-36.049-29.132-16.343 3.046-27.302 17.802-23.134 40.162\",\n    fill: \"#27AAE1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M64.753 142.608c4.167 22.36 30.434 42.255 38.226 40.812 6.817-1.263 25.124-29.482 20.957-51.842-4.168-22.361-19.706-32.178-36.049-29.132-16.343 3.046-27.302 17.802-23.134 40.162z\",\n    stroke: \"#1B75BC\",\n    strokeWidth: \"3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M102.95 185.856s-13.489 8.516.58 41.458c23.453 54.92-12.227 43.03 2.112 105.564\",\n    stroke: \"#808285\",\n    strokeWidth: \"2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M101.9 183.148l3.375 4.166c.578.713-.225 1.73-.993 1.26l-2.655-1.631-3.215 2.25c-.613.429-1.326-.373-.884-.992l3.6-5.03a.48.48 0 0 1 .772-.023\",\n    fill: \"#27AAE1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M101.9 183.148l3.375 4.166c.578.713-.225 1.73-.993 1.26l-2.655-1.631-3.215 2.25c-.613.429-1.326-.373-.884-.992l3.6-5.03a.48.48 0 0 1 .772-.023z\",\n    stroke: \"#1B75BC\",\n    strokeWidth: \"2\"\n  })));\n};\n\nBalloonsSvg.defaultProps = {\n  className: \"balloons\",\n  width: \"349\",\n  height: \"334\",\n  viewBox: \"0 0 349 334\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst styles = {\n  componentId: 'cVzyw',\n  template: function (theme) {\n    return \"\\n\\n.root_1XRE{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\\n\\n.root_1XRE.small_1XRE .balloons_1XRE,.root_1XRE.small_1XRE .desert_1XRE{max-width:100%}\\n\\n.balloons_1XRE,.desert_1XRE{display:block;margin-bottom:\").concat(theme.largeSpacing || 'inherit', \";margin-inline-end:auto;margin-inline-start:auto;margin-top:\").concat(theme.xxLargeSpacing || 'inherit', \";padding:\").concat(theme.smallSpacing || 'inherit', \";text-align:center}\\n\\n[dir=ltr] .balloons_1XRE,[dir=ltr] .desert_1XRE{margin-left:auto;margin-right:auto;text-align:center}\\n\\n[dir=rtl] .balloons_1XRE,[dir=rtl] .desert_1XRE{margin-left:auto;margin-right:auto;text-align:center}\\n\\n.subtitlebox_1XRE{text-align:center;vertical-align:middle}\\n\\n[dir=ltr] .subtitlebox_1XRE,[dir=rtl] .subtitlebox_1XRE{text-align:center}\\n\\n.title_1XRE{font-weight:\").concat(theme.lightWeight || 'inherit', \";padding:16px;text-align:center;vertical-align:middle}\\n\\n[dir=ltr] .title_1XRE,[dir=rtl] .title_1XRE{text-align:center}\\n\\n.subtitle_1XRE{padding:12px}\");\n  },\n  'root': 'root_1XRE',\n  'small': 'small_1XRE',\n  'balloons': 'balloons_1XRE',\n  'desert': 'desert_1XRE',\n  'subtitlebox': 'subtitlebox_1XRE',\n  'title': 'title_1XRE',\n  'subtitle': 'subtitle_1XRE'\n};\nimport theme from './theme.js';\n\nclass PlannerEmptyState extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleDashboardCardLinkClick = () => {\n      if (this.props.changeDashboardView) {\n        this.props.changeDashboardView('cards');\n      }\n    };\n  }\n\n  renderAddToDoButton() {\n    return /*#__PURE__*/React.createElement(Button, {\n      id: \"PlannerEmptyState_AddToDo\",\n      variant: \"link\",\n      onClick: this.props.onAddToDo\n    }, formatMessage('Add To-Do'));\n  }\n\n  renderNothingAtAll() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, 'planner-empty-state', styles[this.props.responsiveSize])\n    }, /*#__PURE__*/React.createElement(DesertSvg, {\n      className: classnames(styles.desert, 'desert'),\n      \"aria-hidden\": \"true\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title\n    }, /*#__PURE__*/React.createElement(Heading, null, formatMessage('No Due Dates Assigned'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.subtitlebox\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.subtitle\n    }, formatMessage(\"Looks like there isn't anything here\")), /*#__PURE__*/React.createElement(Link, {\n      id: \"PlannerEmptyState_CardView\",\n      onClick: this.handleDashboardCardLinkClick\n    }, formatMessage('Go to Card View Dashboard')), \"|\", this.renderAddToDoButton()));\n  }\n\n  renderNothingLeft() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(styles.root, 'planner-empty-state', styles[this.props.responsiveSize])\n    }, /*#__PURE__*/React.createElement(BalloonsSvg, {\n      className: classnames(styles.balloons, 'balloons'),\n      \"aria-hidden\": \"true\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title\n    }, /*#__PURE__*/React.createElement(Heading, null, formatMessage('Nothing More To Do'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.subtitlebox\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.subtitle\n    }, formatMessage('Scroll up to see your history!')), this.renderAddToDoButton()));\n  }\n\n  render() {\n    return this.props.isCompletelyEmpty ? this.renderNothingAtAll() : this.renderNothingLeft();\n  }\n\n}\n\nPlannerEmptyState.propTypes = {\n  changeDashboardView: func.isRequired,\n  onAddToDo: func.isRequired,\n  isCompletelyEmpty: bool,\n  responsiveSize: string\n};\nPlannerEmptyState.defaultProps = {\n  responsiveSize: 'large'\n};\nexport default themeable(theme, styles)(PlannerEmptyState);","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  typography,\n  spacing\n}) {\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.oxford,\n    background: colors.whiterails,\n    lightWeight: typography.fontWeightLight,\n    smallSpacing: spacing.small,\n    largeSpacing: spacing.large,\n    xxLargeSpacing: spacing.xxLarge\n  };\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment-timezone';\nimport { connect } from 'react-redux';\nimport { View } from '@instructure/ui-layout';\nimport { Spinner } from '@instructure/ui-elements';\nimport { arrayOf, oneOfType, shape, bool, object, string, number, func } from 'prop-types';\nimport { userShape, sizeShape } from '../plannerPropTypes';\nimport Day from '../Day';\nimport EmptyDays from '../EmptyDays';\nimport ShowOnFocusButton from '../ShowOnFocusButton';\nimport LoadingFutureIndicator from '../LoadingFutureIndicator';\nimport LoadingPastIndicator from '../LoadingPastIndicator';\nimport PlannerEmptyState from '../PlannerEmptyState';\nimport formatMessage from '../../format-message';\nimport { loadFutureItems, loadPastButtonClicked, loadPastUntilNewActivity, togglePlannerItemCompletion, updateTodo } from '../../actions';\nimport { notifier } from '../../dynamic-ui';\nimport { daysToDaysHash } from '../../utilities/daysUtils';\nimport { formatDayKey } from '../../utilities/dateUtils';\nimport { Animator } from '../../dynamic-ui/animator';\nimport responsiviser from '../responsiviser';\nexport class PlannerApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fixedElementRef = elt => {\n      this.fixedElement = elt;\n    };\n\n    this.resizeTimer = 0;\n\n    this.onResize = event => {\n      if (this.resizeTimer === 0) {\n        this.resizeTimer = window.setTimeout(() => {\n          this.resizeTimer = 0;\n        }, 1000);\n        this.beforeLayoutChange();\n      }\n    };\n\n    this.onAddToDo = event => {\n      event.preventDefault();\n      this.props.updateTodo({\n        updateTodoItem: {}\n      });\n    };\n\n    this.afterLayoutChange = () => {\n      if (this.fixedResponsiveMemo) {\n        this.animator.maintainViewportPositionFromMemo(this.fixedResponsiveMemo.element, this.fixedResponsiveMemo);\n        this.fixedResponsiveMemo = null;\n      }\n    };\n\n    this.animator = null;\n    this._plannerElem = null;\n    this.fixedResponsiveMemo = null;\n  }\n\n  componentWillMount() {\n    this.props.appRef(this);\n    window.addEventListener('resize', this.onResize, false);\n  }\n\n  componentWillUpdate(nextProps) {\n    if (this.props.allPastItemsLoaded === false && nextProps.allPastItemsLoaded === true) {\n      if (this.loadPriorButton === document.activeElement) {\n        this.props.focusFallback();\n      }\n    }\n\n    this.props.preTriggerDynamicUiUpdates();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.props.triggerDynamicUiUpdates();\n\n    if (this.props.responsiveSize !== prevProps.responsiveSize) {\n      this.afterLayoutChange();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.appRef(null);\n    window.removeEventListenet('resize', this.onResize, false);\n  }\n\n  fixedElementForItemScrolling() {\n    return this.fixedElement;\n  }\n\n  // before we tell the responsive elements the size has changed, find the first\n  // visible day or grouping and remember its position.\n  beforeLayoutChange() {\n    function findFirstVisible(selector) {\n      const list = plannerTop.querySelectorAll(selector);\n      const elem = Array.prototype.find.call(list, el => el.getBoundingClientRect().top > 0);\n      return elem;\n    }\n\n    const plannerTop = this._plannerElem || document;\n    const fixedResponsiveElem = findFirstVisible('.planner-day, .planner-grouping, .planner-empty-days');\n\n    if (fixedResponsiveElem) {\n      if (!this.animator) this.animator = new Animator();\n      this.fixedResponsiveMemo = this.animator.elementPositionMemo(fixedResponsiveElem);\n    }\n  } // after the re-layout, put the cached element back to where it was\n\n\n  renderLoading() {\n    return /*#__PURE__*/React.createElement(View, {\n      display: \"block\",\n      padding: \"xx-large medium\",\n      textAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      renderTitle: () => formatMessage('Loading planner items'),\n      size: \"medium\"\n    }));\n  }\n\n  renderLoadingPast() {\n    if (this.props.isLoading) return;\n    return /*#__PURE__*/React.createElement(LoadingPastIndicator, {\n      loadingPast: this.props.loadingPast,\n      allPastItemsLoaded: this.props.allPastItemsLoaded,\n      loadingError: this.props.loadingError\n    });\n  }\n\n  renderLoadMore() {\n    if (this.props.isLoading || this.props.loadingPast) return;\n    return /*#__PURE__*/React.createElement(LoadingFutureIndicator, {\n      loadingFuture: this.props.loadingFuture,\n      allFutureItemsLoaded: this.props.allFutureItemsLoaded,\n      loadingError: this.props.loadingError,\n      onLoadMore: this.props.loadFutureItems,\n      plannerActive: this.props.plannerActive\n    });\n  }\n\n  renderLoadPastButton() {\n    if (this.props.allPastItemsLoaded) return;\n    return /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      textAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(ShowOnFocusButton, {\n      buttonRef: ref => this.loadPriorButton = ref,\n      buttonProps: {\n        onClick: this.props.loadPastButtonClicked\n      }\n    }, formatMessage('Load prior dates')));\n  }\n\n  renderNoAssignments() {\n    return /*#__PURE__*/React.createElement(PlannerEmptyState, {\n      changeDashboardView: this.props.changeDashboardView,\n      isCompletelyEmpty: this.props.isCompletelyEmpty,\n      onAddToDo: this.onAddToDo,\n      responsiveSize: this.props.responsiveSize\n    });\n  } // starting at firstEmptyDay, and ending on of before lastDay\n  // return the number of days with no items\n\n\n  countEmptyDays(dayHash, firstEmptyDay, lastDay) {\n    const trialDay = firstEmptyDay.clone();\n    let trialDayKey = formatDayKey(trialDay);\n    let numEmptyDays = 0;\n\n    while ((!dayHash[trialDayKey] || dayHash[trialDayKey].length === 0) && (trialDay.isSame(lastDay) || trialDay.isBefore(lastDay))) {\n      ++numEmptyDays;\n      trialDay.add(1, 'days');\n      trialDayKey = formatDayKey(trialDay);\n    }\n\n    return numEmptyDays;\n  } // return a sigle <Day> with items\n  // advances workingDay to the next day\n\n\n  renderOneDay(workingDay, workingDayKey, dayItems, dayIndex) {\n    const day = /*#__PURE__*/React.createElement(Day, {\n      timeZone: this.props.timeZone,\n      day: workingDayKey,\n      itemsForDay: dayItems,\n      animatableIndex: dayIndex,\n      key: workingDayKey,\n      toggleCompletion: this.props.togglePlannerItemCompletion,\n      updateTodo: this.props.updateTodo,\n      currentUser: this.props.currentUser\n    });\n    workingDay.add(1, 'days');\n    return day;\n  } // return an array of empty <Day> objects\n  // advances workingDay to the day after the empty series of days\n\n\n  renderEmptyDays(numEmptyDays, workingDay, dayIndex) {\n    const children = [];\n\n    for (let i = 0; i < numEmptyDays; ++i) {\n      const workingDayKey = formatDayKey(workingDay);\n      children.push(this.renderOneDay(workingDay, workingDayKey, [], dayIndex++));\n    }\n\n    return children;\n  } // return an <EmptyDays> for the given number of days, starting at workingDay\n  // advances workingDay to the day after the empty series of days\n\n\n  renderEmptyDayStretch(numEmptyDays, workingDay, dayIndex) {\n    const workingDayKey = formatDayKey(workingDay); // starting day key\n\n    workingDay.add(numEmptyDays - 1, 'days'); // ending day\n\n    const endingDayKey = formatDayKey(workingDay); // ending day key\n\n    const child = /*#__PURE__*/React.createElement(EmptyDays, {\n      timeZone: this.props.timeZone,\n      day: workingDayKey,\n      endday: endingDayKey,\n      animatableIndex: dayIndex++,\n      key: workingDayKey,\n      updateTodo: this.props.updateTodo,\n      currentUser: this.props.currentUser,\n      responsiveSize: this.props.responsiveSize\n    });\n    workingDay.add(1, 'days'); // step to the next day\n\n    return child;\n  } // in the past, we only render Days that have items\n  // the past starts on workingDay (presumably the first planner item we have),\n  // and ends on lastDay.\n  // advances workingDay to the day after lastDay\n\n\n  renderPast(workingDay, lastDay, dayHash, dayIndex) {\n    const children = [];\n\n    while (workingDay.isSame(lastDay) || workingDay.isBefore(lastDay)) {\n      const workingDayKey = formatDayKey(workingDay);\n      const dayItems = dayHash[workingDayKey];\n\n      if (dayItems && dayItems.length > 0) {\n        children.push(this.renderOneDay(workingDay, workingDayKey, dayItems, dayIndex++));\n      } else {\n        workingDay.add(1, 'day');\n      }\n    }\n\n    return children;\n  } // in the present, render every day, no matter what\n  // the present starts at workingDay, ends on lastDay\n  // advances workingDay to the day after lastDay\n\n\n  renderPresent(workingDay, lastDay, dayHash, dayIndex) {\n    const children = [];\n\n    while (workingDay.isSame(lastDay) || workingDay.isBefore(lastDay)) {\n      const workingDayKey = formatDayKey(workingDay);\n      const dayItems = dayHash[workingDayKey] || [];\n      children.push(this.renderOneDay(workingDay, workingDayKey, dayItems, dayIndex++));\n    }\n\n    return children;\n  } // in the future, render stretches of 3 days together\n  // the future starts at workindDay, ends on lastDay\n  // advances workingDay to the day after lastDay\n\n\n  renderFuture(workingDay, lastDay, dayHash, dayIndex) {\n    const children = [];\n\n    while (workingDay.isSame(lastDay) || workingDay.isBefore(lastDay)) {\n      const workingDayKey = formatDayKey(workingDay);\n      const dayItems = dayHash[workingDayKey];\n\n      if (dayItems && dayItems.length > 0) {\n        children.push(this.renderOneDay(workingDay, workingDayKey, dayItems, dayIndex++));\n      } else {\n        const numEmptyDays = this.countEmptyDays(dayHash, workingDay, lastDay);\n\n        if (numEmptyDays < 3) {\n          children.splice(children.length, 0, ...this.renderEmptyDays(numEmptyDays, workingDay, dayIndex));\n          dayIndex += numEmptyDays;\n        } else {\n          children.push(this.renderEmptyDayStretch(numEmptyDays, workingDay, dayIndex));\n          ++dayIndex;\n        }\n      }\n    }\n\n    return children;\n  } // starting at the date of the first props.days, and\n  // ending at the last props.days (or today, whichever is later)\n  // step a day at a time.\n  // if the day is before yesterday, emit a <Day> only it if it has items\n  // always render yesterday (if loaded), today, and tomorrow\n  // starting with the day after tomorrow:\n  //    if a day has items, emit a <Day>\n  //    if we find a string of < 3 empty days, emit a <Day> for each\n  //    if we find a string of 3 or more empty days, emit an <EmptyDays> for the interval\n\n\n  renderDays() {\n    const children = [];\n    const today = moment.tz(this.props.timeZone).startOf('day');\n    let workingDay = moment.tz(this.props.days[0][0], this.props.timeZone);\n    if (workingDay.isAfter(today)) workingDay = today.clone();\n    let lastDay = moment.tz(this.props.days[this.props.days.length - 1][0], this.props.timeZone);\n    let tomorrow = today.clone().add(1, 'day');\n    const dayBeforeYesterday = today.clone().add(-2, 'day');\n    if (lastDay.isBefore(today)) lastDay = today.clone(); // We don't want to render an empty tomorrow if we don't know it's actually empty.\n    // It might just not be loaded yet. If so, sneak it back to today so it isn't displayed.\n\n    if (tomorrow.isAfter(lastDay)) tomorrow = today.clone();\n    const dayHash = daysToDaysHash(this.props.days);\n    let dayIndex = 1;\n    const pastChildren = this.renderPast(workingDay, dayBeforeYesterday, dayHash, dayIndex);\n    dayIndex += pastChildren.length;\n    children.splice(children.length, 0, ...pastChildren);\n    const presentChildren = this.renderPresent(workingDay, tomorrow, dayHash, dayIndex);\n    dayIndex += presentChildren.length;\n    children.splice(children.length, 0, ...presentChildren);\n    const futureChildren = this.renderFuture(workingDay, lastDay, dayHash, dayIndex);\n    children.splice(children.length, 0, ...futureChildren);\n    return children;\n  }\n\n  renderBody(children, classes) {\n    const loading = this.props.loadingPast || this.props.loadingFuture || this.props.isLoading;\n\n    if (children.length === 0 && !loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes\n      }, this.renderLoadPastButton(), this.renderNoAssignments());\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes,\n      ref: el => this._plannerElem = el\n    }, this.renderLoadPastButton(), this.renderLoadingPast(), children, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"planner-app-fixed-element\",\n      ref: this.fixedElementRef\n    }), this.renderLoadMore());\n  }\n\n  render() {\n    const clazz = classnames('PlannerApp', this.props.responsiveSize);\n    let children = [];\n\n    if (this.props.isLoading) {\n      children = this.renderLoading();\n    } else if (this.props.days.length > 0) {\n      children = this.renderDays();\n    }\n\n    return this.renderBody(children, clazz);\n  }\n\n}\nPlannerApp.propTypes = {\n  days: arrayOf(arrayOf(oneOfType([\n  /* date */\n  string, arrayOf(\n  /* items */\n  object)]))),\n  timeZone: string,\n  isLoading: bool,\n  loadingPast: bool,\n  loadingError: string,\n  allPastItemsLoaded: bool,\n  loadingFuture: bool,\n  allFutureItemsLoaded: bool,\n  loadPastButtonClicked: func,\n  loadPastUntilNewActivity: func,\n  loadFutureItems: func,\n  changeDashboardView: func,\n  togglePlannerItemCompletion: func,\n  updateTodo: func,\n  triggerDynamicUiUpdates: func,\n  preTriggerDynamicUiUpdates: func,\n  plannerActive: func,\n  currentUser: shape(userShape),\n  responsiveSize: sizeShape,\n  appRef: func,\n  focusFallback: func\n};\nPlannerApp.defaultProps = {\n  isLoading: false,\n  triggerDynamicUiUpdates: () => {},\n  preTriggerDynamicUiUpdates: () => {},\n  plannerActive: () => {\n    return false;\n  },\n  responsiveSize: 'large',\n  appRef: () => {},\n  focusFallback: () => {},\n  isCompletelyEmpty: bool\n};\nexport const mapStateToProps = state => {\n  return {\n    days: state.days,\n    isLoading: state.loading.isLoading || state.loading.hasSomeItems === null,\n    loadingPast: state.loading.loadingPast,\n    allPastItemsLoaded: state.loading.allPastItemsLoaded,\n    loadingFuture: state.loading.loadingFuture,\n    allFutureItemsLoaded: state.loading.allFutureItemsLoaded,\n    loadingError: state.loading.loadingError,\n    timeZone: state.timeZone,\n    isCompletelyEmpty: state.loading.hasSomeItems === false && state.days.length === 0 && state.loading.partialPastDays.length === 0 && state.loading.partialFutureDays.length === 0\n  };\n};\nconst ResponsivePlannerApp = responsiviser()(PlannerApp);\nconst mapDispatchToProps = {\n  loadFutureItems,\n  loadPastButtonClicked,\n  loadPastUntilNewActivity,\n  togglePlannerItemCompletion,\n  updateTodo\n};\nexport default notifier(connect(mapStateToProps, mapDispatchToProps)(ResponsivePlannerApp));","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { omitProps, getElementType, deprecated } from '@instructure/ui-react-utils';\nimport { PresentationContent } from '../PresentationContent';\nimport { ScreenReaderContent } from '../ScreenReaderContent';\n/**\n---\ncategory: components/utilities/deprecated\nid: DeprecatedAccessibleContent\n---\n*/\n\nvar AccessibleContent = (_dec = deprecated('7.0.0', null, 'Use AccessibleContent from ui-a11y-content instead'), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AccessibleContent, _Component);\n\n  function AccessibleContent() {\n    _classCallCheck(this, AccessibleContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AccessibleContent).apply(this, arguments));\n  }\n\n  _createClass(AccessibleContent, [{\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, omitProps(this.props, AccessibleContent.propTypes));\n\n      var ElementType = getElementType(AccessibleContent, this.props);\n      return React.createElement(ElementType, props, React.createElement(ScreenReaderContent, null, this.props.alt), React.createElement(PresentationContent, null, this.props.children));\n    }\n  }]);\n\n  AccessibleContent.displayName = \"AccessibleContent\";\n  return AccessibleContent;\n}(Component), _class2.propTypes = {\n  alt: PropTypes.string,\n  children: PropTypes.node,\n\n  /**\n  * the element type to render the screen reader content as\n  */\n  as: PropTypes.elementType\n}, _class2.defaultProps = {\n  alt: void 0,\n  as: 'span',\n  children: null\n}, _temp)) || _class);\nexport default AccessibleContent;\nexport { AccessibleContent };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M252.356 1468.235c53.76-59.971 86.513-139.143 86.513-225.882V847.059c0-342.55 278.626-621.177 621.176-621.177 342.438 0 621.177 278.626 621.177 621.177v395.294c0 86.739 32.753 165.91 86.4 225.882H252.356zm707.69 338.824c-124.575 0-225.883-101.308-225.883-225.883h451.765c0 124.575-101.309 225.883-225.883 225.883zm734.117-564.706V847.059c0-385.694-299.294-702.268-677.647-731.294V0H903.575v115.765c-378.466 29.026-677.647 345.6-677.647 731.294v395.294c0 124.574-101.309 225.882-225.883 225.882v112.941h621.177c0 186.805 151.906 338.824 338.823 338.824 186.805 0 338.824-152.019 338.824-338.824h621.176v-112.94c-124.574 0-225.882-101.309-225.882-225.883z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconAlertsLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconAlertsLine, _Component);\n\n  function IconAlertsLine() {\n    _classCallCheck(this, IconAlertsLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconAlertsLine).apply(this, arguments));\n  }\n\n  _createClass(IconAlertsLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconAlerts\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconAlertsLine.displayName = \"IconAlertsLine\";\n  return IconAlertsLine;\n}(Component);\n\nIconAlertsLine.glyphName = 'alerts';\nIconAlertsLine.variant = 'Line';\nIconAlertsLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconAlertsLine;\nexport { IconAlertsLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M903.53 0v903.53H0v112.94h903.53V1920h112.94v-903.53H1920V903.53h-903.53V0z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconPlusLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconPlusLine, _Component);\n\n  function IconPlusLine() {\n    _classCallCheck(this, IconPlusLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconPlusLine).apply(this, arguments));\n  }\n\n  _createClass(IconPlusLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconPlus\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconPlusLine.displayName = \"IconPlusLine\";\n  return IconPlusLine;\n}(Component);\n\nIconPlusLine.glyphName = 'plus';\nIconPlusLine.variant = 'Line';\nIconPlusLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconPlusLine;\nexport { IconPlusLine };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M219.03 0H1801.44v1920H219.03v-439.216h-56.514c-31.196 0-56.515-25.299-56.515-56.47 0-31.172 25.319-56.47 56.515-56.47h56.514V1029.02h-56.514c-31.196 0-56.515-25.3-56.515-56.471 0-31.172 25.319-56.47 56.515-56.47h56.514V577.254h-56.514c-31.196 0-56.515-25.299-56.515-56.47 0-31.172 25.319-56.471 56.515-56.471h56.514V0zm1469.382 1807.059V112.94H332.059v351.373h56.515c31.196 0 56.514 25.299 56.514 56.47 0 31.172-25.318 56.47-56.514 56.47h-56.515v338.824h56.515c31.196 0 56.514 25.3 56.514 56.471 0 31.172-25.318 56.47-56.514 56.47h-56.515v338.824h56.515c31.196 0 56.514 25.299 56.514 56.47 0 31.172-25.318 56.471-56.514 56.471h-56.515v326.275h1356.353zM1461.96 734.118v508.235H558.43v-903.53h621.177v112.942H671.373v677.647h677.647V734.118h112.94zM889.315 622.114l145.017 145.13 352.602-352.603 79.85 79.85-432.452 432.451-224.866-224.979 79.85-79.85z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconGradebookLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconGradebookLine, _Component);\n\n  function IconGradebookLine() {\n    _classCallCheck(this, IconGradebookLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconGradebookLine).apply(this, arguments));\n  }\n\n  _createClass(IconGradebookLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconGradebook\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconGradebookLine.displayName = \"IconGradebookLine\";\n  return IconGradebookLine;\n}(Component);\n\nIconGradebookLine.glyphName = 'gradebook';\nIconGradebookLine.variant = 'Line';\nIconGradebookLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconGradebookLine;\nexport { IconGradebookLine };","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { matchComponentTypes } from './matchComponentTypes';\nimport { ensureSingleChild } from './ensureSingleChild';\n/**\n---\ncategory: utilities/react\n---\nAbstract component identifier. Helpful for picking out a specific child.\n\n  ```js\n  class App extends Component {\n    render () {\n      const title = pick(Title, this.props.children)\n      const content = pick(Content, this.props.children)\n\n      return (\n        <div>\n          {title}\n          <ContextView>\n            {content}\n          </ContextView>\n         </div>\n     )\n    }\n  }\n\n  class Title extends ComponentIdentifier { static displayName = 'Title' }\n  class Content extends ComponentIdentifier { static displayName = 'Content' }\n\n  ReactDOM.render(\n    <App>\n      <Title><h2>Hello World!</h2></Title>\n      <Content><div>This text gets decorated within `App`.</div></Content>\n    </App>,\n    document.getElementById('container')\n  )\n  ```\n  @module ComponentIdentifier\n**/\n\nvar ComponentIdentifier =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ComponentIdentifier, _Component);\n\n  function ComponentIdentifier() {\n    _classCallCheck(this, ComponentIdentifier);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ComponentIdentifier).apply(this, arguments));\n  }\n\n  _createClass(ComponentIdentifier, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          props = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      return ensureSingleChild(children, props);\n    }\n  }]);\n\n  ComponentIdentifier.displayName = \"ComponentIdentifier\";\n  return ComponentIdentifier;\n}(Component);\n\nComponentIdentifier.propTypes = {\n  children: PropTypes.node\n};\nComponentIdentifier.defaultProps = {\n  children: null\n};\n\nComponentIdentifier.pick = function (component, children) {\n  var result;\n  React.Children.forEach(children, function (child) {\n    if (matchComponentTypes(child, [component])) {\n      result = child;\n    }\n  });\n  return result;\n};\n\nexport default ComponentIdentifier;\nexport { ComponentIdentifier };","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp, _dec2, _class3, _class4, _temp2, _dec3, _dec4, _dec5, _class5, _class6, _temp3;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { PositionPropTypes } from '@instructure/ui-position';\nimport { Popover as UIPopover } from '@instructure/ui-popover';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { Children, controllable, element } from '@instructure/ui-prop-types';\nimport { ComponentIdentifier, deprecated } from '@instructure/ui-react-utils';\nimport { ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nvar PopoverTrigger = (_dec = testable(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_ComponentIdentifier) {\n  _inherits(PopoverTrigger, _ComponentIdentifier);\n\n  function PopoverTrigger() {\n    _classCallCheck(this, PopoverTrigger);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PopoverTrigger).apply(this, arguments));\n  }\n\n  return PopoverTrigger;\n}(ComponentIdentifier), _class2.displayName = 'PopoverTrigger', _temp)) || _class);\nvar PopoverContent = (_dec2 = testable(), _dec2(_class3 = (_temp2 = _class4 =\n/*#__PURE__*/\nfunction (_ComponentIdentifier2) {\n  _inherits(PopoverContent, _ComponentIdentifier2);\n\n  function PopoverContent() {\n    _classCallCheck(this, PopoverContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PopoverContent).apply(this, arguments));\n  }\n\n  return PopoverContent;\n}(ComponentIdentifier), _class4.displayName = 'PopoverContent', _temp2)) || _class3);\n/**\n---\ncategory: components/deprecated\nid: DeprecatedPopover\n---\n**/\n\nvar Popover = (_dec3 = deprecated('7.0.0', null, 'Use Popover from ui-popover instead.'), _dec4 = testable(), _dec5 = bidirectional(), _dec3(_class5 = _dec4(_class5 = _dec5(_class5 = (_temp3 = _class6 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Popover, _Component);\n\n  function Popover() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Popover);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Popover)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.show = function (e) {\n      _this._popover && _this._popover.show(e);\n    };\n\n    _this.hide = function (e, documentClick) {\n      _this._popover && _this._popover.hide(e, documentClick);\n    };\n\n    _this.toggle = function (e) {\n      _this._popover && _this._popover.toggle(e);\n    };\n\n    return _this;\n  }\n\n  _createClass(Popover, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          show = _this$props.show,\n          defaultShow = _this$props.defaultShow,\n          label = _this$props.label,\n          variant = _this$props.variant,\n          alignArrow = _this$props.alignArrow,\n          trackPosition = _this$props.trackPosition,\n          onShow = _this$props.onShow,\n          onDismiss = _this$props.onDismiss,\n          onToggle = _this$props.onToggle,\n          children = _this$props.children,\n          passthroughProps = _objectWithoutProperties(_this$props, [\"show\", \"defaultShow\", \"label\", \"variant\", \"alignArrow\", \"trackPosition\", \"onShow\", \"onDismiss\", \"onToggle\", \"children\"]);\n\n      var trigger = ComponentIdentifier.pick(Popover.Trigger, children);\n      var content = ComponentIdentifier.pick(Popover.Content, children);\n      return React.createElement(UIPopover, Object.assign({}, passthroughProps, {\n        isShowingContent: show,\n        defaultIsShowingContent: defaultShow,\n        screenReaderLabel: label,\n        color: variant === 'inverse' ? 'primary-inverse' : 'primary',\n        shouldAlignArrow: alignArrow,\n        shouldTrackPosition: trackPosition,\n        onShowContent: function onShowContent() {\n          onToggle(true);\n        },\n        onHideContent: function onHideContent(e, _ref) {\n          var documentClick = _ref.documentClick;\n          onDismiss(e, documentClick);\n          onToggle(false);\n        },\n        onPositioned: onShow,\n        ref: function ref(el) {\n          return _this2._popover = el;\n        },\n        renderTrigger: trigger,\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }), content);\n    }\n  }, {\n    key: \"placement\",\n    get: function get() {\n      return this._popover && this._popover.placement;\n    }\n  }, {\n    key: \"shown\",\n    get: function get() {\n      return this._popover && this._popover.shown;\n    }\n  }, {\n    key: \"defaultFocusElement\",\n    get: function get() {\n      return this._popover && this._popover.defaultFocusElement;\n    }\n  }]);\n\n  Popover.displayName = \"Popover\";\n  return Popover;\n}(Component), _class6.Trigger = PopoverTrigger, _class6.Content = PopoverContent, _class6.propTypes = {\n  /**\n   * Children of the `<Popover />`\n   */\n  children: Children.oneOf([PopoverTrigger, PopoverContent]),\n\n  /**\n   * The placement of the content in relation to the trigger\n   */\n  placement: PositionPropTypes.placement,\n\n  /**\n   * The action that causes the Content to display (`click`, `hover`, `focus`)\n   */\n  on: PropTypes.oneOfType([PropTypes.oneOf(['click', 'hover', 'focus']), PropTypes.arrayOf(PropTypes.oneOf(['click', 'hover', 'focus']))]),\n  variant: PropTypes.oneOf(['default', 'inverse']),\n\n  /**\n  * Controls the shadow depth for the `<Popover />`\n  */\n  shadow: ThemeablePropTypes.shadow,\n\n  /**\n  * Controls the z-index depth for the `<Popover />` content\n  */\n  stacking: ThemeablePropTypes.stacking,\n\n  /**\n   * Whether or not the content should be rendered on initial render.\n   */\n  defaultShow: PropTypes.bool,\n\n  /**\n  * Whether or not the `<Popover />` is shown (should be accompanied by `onToggle`)\n  */\n  show: controllable(PropTypes.bool, 'onToggle', 'defaultShow'),\n\n  /**\n   *\n   * A function that returns a reference to the content element\n   */\n  contentRef: PropTypes.func,\n\n  /**\n   * Call this function when the content visibility is toggled. When used with `show`,\n   * `<Popover />` will not control its own state.\n   */\n  onToggle: PropTypes.func,\n\n  /**\n   * Callback fired when component is clicked\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired when trigger is focused\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Callback fired when component is blurred\n   */\n  onBlur: PropTypes.func,\n  onKeyDown: PropTypes.func,\n\n  /**\n   * Callback fired when content is rendered and positioned\n   */\n  onShow: PropTypes.func,\n\n  /**\n   * Callback fired when mouse is over trigger\n   */\n  onMouseOver: PropTypes.func,\n\n  /**\n   * Callback fired when mouse leaves trigger\n   */\n  onMouseOut: PropTypes.func,\n\n  /**\n   * Callback fired when the `<Popover />` requests to be hidden (via close button, escape key, etc.)\n   */\n  onDismiss: PropTypes.func,\n\n  /**\n  * Should the `<Popover />` display with an arrow pointing to the trigger\n  */\n  withArrow: PropTypes.bool,\n\n  /**\n   * An accessible label for the `<Popover />` content\n   */\n  label: PropTypes.string,\n\n  /**\n   * An element or a function returning an element to focus by default\n   */\n  defaultFocusElement: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * Should the `<Popover />` render offscreen when visually hidden\n  */\n  shouldRenderOffscreen: PropTypes.bool,\n\n  /**\n   * Whether focus should contained within the `<Popover/>` when it is open\n   */\n  shouldContainFocus: PropTypes.bool,\n\n  /**\n   * Whether focus should be returned to the trigger when the `<Popover/>` is closed\n   */\n  shouldReturnFocus: PropTypes.bool,\n\n  /**\n   * Should the `<Popover />` hide when clicks occur outside the content\n   */\n  shouldCloseOnDocumentClick: PropTypes.bool,\n\n  /**\n   * Should the `<Popover />` hide when the escape key is pressed\n   */\n  shouldCloseOnEscape: PropTypes.bool,\n\n  /**\n   * The horizontal offset for the positioned content\n   */\n  offsetX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * The vertical offset for the positioned content\n   */\n  offsetY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Callback fired when the position changes\n   */\n  onPositionChanged: PropTypes.func,\n\n  /**\n   * Callback fired when content has been mounted and is initially positioned\n   */\n  onPositioned: PropTypes.func,\n\n  /**\n   * Whether or not position should be tracked or just set on initial render\n   */\n  trackPosition: PropTypes.bool,\n\n  /**\n   * The parent in which to constrain the popover.\n   * One of: 'window', 'scroll-parent', 'parent', 'none', an element,\n   * or a function returning an element\n   */\n  constrain: PositionPropTypes.constrain,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Popover />` (defaults to `document.body`)\n   */\n  mountNode: PositionPropTypes.mountNode,\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * An element, function returning an element, or array of elements that will not be hidden from\n   * the screen reader when the `<Popover />` is open\n   */\n  liveRegion: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element, PropTypes.func]),\n\n  /**\n   * Target element for positioning the Popover (if it differs from the trigger)\n   */\n  positionTarget: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * should the content offset to align by its arrow\n   */\n  alignArrow: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n   * should the content become focused when the trigger is blurred\n   */\n  shouldFocusContentOnTriggerBlur: PropTypes.bool\n}, _class6.defaultProps = {\n  children: null,\n  onToggle: function onToggle(open) {},\n  onClick: function onClick(event) {},\n  onFocus: function onFocus(event) {},\n  onBlur: function onBlur(event) {},\n  onMouseOver: function onMouseOver(event) {},\n  onMouseOut: function onMouseOut(event) {},\n  onShow: function onShow(position) {},\n  onDismiss: function onDismiss(event, documentClick) {},\n  placement: 'bottom center',\n  stacking: 'topmost',\n  shadow: 'resting',\n  offsetX: 0,\n  offsetY: 0,\n  variant: 'default',\n  on: ['hover', 'focus'],\n  contentRef: function contentRef(el) {},\n  defaultShow: false,\n  withArrow: true,\n  trackPosition: true,\n  constrain: 'window',\n  onPositioned: function onPositioned(position) {},\n  onPositionChanged: function onPositionChanged(position) {},\n  shouldRenderOffscreen: false,\n  shouldContainFocus: false,\n  shouldReturnFocus: true,\n  shouldCloseOnDocumentClick: true,\n  shouldFocusContentOnTriggerBlur: false,\n  shouldCloseOnEscape: true,\n  defaultFocusElement: null,\n  label: null,\n  mountNode: null,\n  insertAt: 'bottom',\n  liveRegion: null,\n  positionTarget: null,\n  alignArrow: false,\n  id: void 0,\n  show: void 0,\n  closeButtonRef: void 0,\n  closeButtonLabel: void 0,\n  onKeyDown: void 0\n}, _temp3)) || _class5) || _class5) || _class5);\nexport default Popover;\nexport { Popover, PopoverTrigger, PopoverContent };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Dialog } from '@instructure/ui-dialog';\nimport { deprecated, omitProps } from '@instructure/ui-react-utils';\nimport { element } from '@instructure/ui-prop-types';\nimport { createChainedFunction } from '@instructure/ui-utils';\nimport { bidirectional } from '@instructure/ui-i18n';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { Portal } from '@instructure/ui-portal';\nimport { mirrorHorizontalPlacement } from '@instructure/ui-position';\nimport { Transition } from '@instructure/ui-motion';\nvar styles = {\n  componentId: 'fLzZc',\n  template: function template(theme) {\n    return \"\\n\\n.fLzZc_bGBk{background-color:\".concat(theme.background || 'inherit', \";box-sizing:border-box;max-height:100vh;max-width:100vw;overflow-x:hidden;overflow-y:auto;position:fixed;z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n.fLzZc_dHtp{border-color:\").concat(theme.borderColor || 'inherit', \";border-style:\").concat(theme.borderStyle || 'inherit', \";border-width:0}\\n\\n.fLzZc_fSpQ{box-shadow:\").concat(theme.boxShadow || 'inherit', \"}\\n\\n.fLzZc_ehJX .fLzZc_caGd,.fLzZc_bQpq .fLzZc_caGd,.fLzZc_bxia .fLzZc_caGd{min-height:100vh}\\n\\n.fLzZc_bgun,.fLzZc_dLYh{inset-inline-end:0;inset-inline-start:0}\\n\\n[dir=ltr] .fLzZc_bgun,[dir=ltr] .fLzZc_dLYh{left:0;right:0}\\n\\n[dir=rtl] .fLzZc_bgun,[dir=rtl] .fLzZc_dLYh{left:0;right:0}\\n\\n.fLzZc_bQpq,.fLzZc_bxia{bottom:0;top:0}\\n\\n.fLzZc_bQpq.fLzZc_dfBC,.fLzZc_bxia.fLzZc_dfBC{width:\").concat(theme.xSmallWidth || 'inherit', \"}\\n\\n.fLzZc_bQpq.fLzZc_doqw,.fLzZc_bxia.fLzZc_doqw{width:\").concat(theme.smallWidth || 'inherit', \"}\\n\\n.fLzZc_bQpq.fLzZc_cXTs,.fLzZc_bxia.fLzZc_cXTs{width:\").concat(theme.regularWidth || 'inherit', \"}\\n\\n.fLzZc_bQpq.fLzZc_ycrn,.fLzZc_bxia.fLzZc_ycrn{width:\").concat(theme.mediumWidth || 'inherit', \"}\\n\\n.fLzZc_bQpq.fLzZc_cMDj,.fLzZc_bxia.fLzZc_cMDj{width:\").concat(theme.largeWidth || 'inherit', \"}\\n\\n.fLzZc_ehJX{bottom:0;left:0;right:0;top:0}\\n\\n.fLzZc_bxia{inset-inline-end:auto;inset-inline-start:0}\\n\\n[dir=ltr] .fLzZc_bxia{left:0;right:auto}\\n\\n[dir=rtl] .fLzZc_bxia{left:auto;right:0}\\n\\n.fLzZc_bxia.fLzZc_dHtp{border-inline-end-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n[dir=ltr] .fLzZc_bxia.fLzZc_dHtp{border-right-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n[dir=rtl] .fLzZc_bxia.fLzZc_dHtp{border-left-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n.fLzZc_bQpq{inset-inline-end:0;inset-inline-start:auto}\\n\\n[dir=ltr] .fLzZc_bQpq{left:auto;right:0}\\n\\n[dir=rtl] .fLzZc_bQpq{left:0;right:auto}\\n\\n.fLzZc_bQpq.fLzZc_dHtp{border-inline-start-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n[dir=ltr] .fLzZc_bQpq.fLzZc_dHtp{border-left-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n[dir=rtl] .fLzZc_bQpq.fLzZc_dHtp{border-right-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n.fLzZc_dLYh{top:0}\\n\\n.fLzZc_dLYh.fLzZc_dHtp{border-bottom-width:\").concat(theme.borderWidth || 'inherit', \"}\\n\\n.fLzZc_bgun{bottom:0}\\n\\n.fLzZc_bgun.fLzZc_dHtp{border-top-width:\").concat(theme.borderWidth || 'inherit', \"}\");\n  },\n  'root': 'fLzZc_bGBk',\n  'border': 'fLzZc_dHtp',\n  'shadow': 'fLzZc_fSpQ',\n  'placement--center': 'fLzZc_ehJX',\n  'content': 'fLzZc_caGd',\n  'placement--end': 'fLzZc_bQpq',\n  'placement--start': 'fLzZc_bxia',\n  'placement--bottom': 'fLzZc_bgun',\n  'placement--top': 'fLzZc_dLYh',\n  'x-small': 'fLzZc_dfBC',\n  'small': 'fLzZc_doqw',\n  'regular': 'fLzZc_cXTs',\n  'medium': 'fLzZc_ycrn',\n  'large': 'fLzZc_cMDj'\n};\nimport theme from './theme';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedTray\n---\n**/\n\nvar Tray = (_dec = deprecated('7.0.0', null, 'Use Tray from ui-tray instead.'), _dec2 = testable(), _dec3 = bidirectional(), _dec4 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tray, _Component);\n\n  function Tray() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Tray);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Tray)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      transitioning: false\n    };\n\n    _this.handleTransitionComplete = function () {\n      _this.setState({\n        transitioning: false\n      });\n    };\n\n    _this.handlePortalOpen = function (DOMNode) {\n      _this.DOMNode = DOMNode; // We apply the theme here because now we have a DOM node (provided by Portal)\n\n      DOMNode && _this.applyTheme(DOMNode);\n    };\n\n    return _this;\n  }\n\n  _createClass(Tray, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.open !== prevProps.open) {\n        this.setState({\n          transitioning: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props = this.props,\n          label = _this$props.label,\n          children = _this$props.children,\n          size = _this$props.size,\n          placement = _this$props.placement,\n          open = _this$props.open,\n          defaultFocusElement = _this$props.defaultFocusElement,\n          contentRef = _this$props.contentRef,\n          shouldContainFocus = _this$props.shouldContainFocus,\n          shouldReturnFocus = _this$props.shouldReturnFocus,\n          shouldCloseOnDocumentClick = _this$props.shouldCloseOnDocumentClick,\n          onOpen = _this$props.onOpen,\n          onClose = _this$props.onClose,\n          onDismiss = _this$props.onDismiss,\n          mountNode = _this$props.mountNode,\n          insertAt = _this$props.insertAt,\n          liveRegion = _this$props.liveRegion,\n          onEnter = _this$props.onEnter,\n          onEntering = _this$props.onEntering,\n          onEntered = _this$props.onEntered,\n          onExit = _this$props.onExit,\n          onExiting = _this$props.onExiting,\n          onExited = _this$props.onExited,\n          onTransition = _this$props.onTransition,\n          border = _this$props.border,\n          shadow = _this$props.shadow,\n          props = _objectWithoutProperties(_this$props, [\"label\", \"children\", \"size\", \"placement\", \"open\", \"defaultFocusElement\", \"contentRef\", \"shouldContainFocus\", \"shouldReturnFocus\", \"shouldCloseOnDocumentClick\", \"onOpen\", \"onClose\", \"onDismiss\", \"mountNode\", \"insertAt\", \"liveRegion\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"onTransition\", \"border\", \"shadow\"]);\n\n      var portalIsOpen = open || this.state.transitioning;\n      return React.createElement(Portal, {\n        open: portalIsOpen,\n        onOpen: this.handlePortalOpen,\n        insertAt: insertAt,\n        mountNode: mountNode\n      }, portalIsOpen && React.createElement(Transition, {\n        in: open,\n        type: this.transition,\n        onTransition: onTransition,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: createChainedFunction(this.handleTransitionComplete, onEntered, onOpen),\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: createChainedFunction(this.handleTransitionComplete, onExited, onClose),\n        transitionOnMount: true,\n        transitionEnter: true,\n        transitionExit: true\n      }, React.createElement(\"span\", Object.assign({}, omitProps(props, Tray.propTypes), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles.border, border), _defineProperty(_classnames, styles.shadow, shadow), _defineProperty(_classnames, styles[size], true), _defineProperty(_classnames, styles[\"placement--\".concat(this.props.placement)], true), _classnames)),\n        ref: contentRef\n      }), this.state.transitioning ? children : React.createElement(Dialog, {\n        as: \"div\",\n        label: label,\n        defaultFocusElement: this.defaultFocusElement,\n        open: true,\n        shouldContainFocus: shouldContainFocus,\n        shouldReturnFocus: shouldReturnFocus,\n        shouldCloseOnDocumentClick: shouldCloseOnDocumentClick,\n        shouldCloseOnEscape: true,\n        liveRegion: liveRegion,\n        onDismiss: onDismiss\n      }, React.createElement(\"div\", {\n        className: styles.content\n      }, children)))));\n    }\n  }, {\n    key: \"placement\",\n    get: function get() {\n      var placement = this.props.placement;\n      return this.rtl ? mirrorHorizontalPlacement(placement, ' ') : placement;\n    }\n  }, {\n    key: \"direction\",\n    get: function get() {\n      switch (this.placement) {\n        case 'top':\n          return 'up';\n\n        case 'bottom':\n          return 'down';\n\n        case 'end':\n          return 'right';\n\n        default:\n          // start\n          return 'left';\n      }\n    }\n  }, {\n    key: \"transition\",\n    get: function get() {\n      return \"slide-\".concat(this.direction);\n    }\n  }, {\n    key: \"defaultFocusElement\",\n    get: function get() {\n      var _this2 = this;\n\n      return this.props.defaultFocusElement || function () {\n        return _this2._closeButton;\n      };\n    }\n  }, {\n    key: \"DOMNode\",\n    get: function get() {\n      return this._DOMNode;\n    },\n    set: function set(el) {\n      this._DOMNode = el;\n    }\n  }]);\n\n  Tray.displayName = \"Tray\";\n  return Tray;\n}(Component), _class2.propTypes = {\n  label: PropTypes.string.isRequired,\n  children: PropTypes.node,\n\n  /*\n   * The size (width) of the `<Tray />` when placement is `start` or `end`\n   */\n  size: PropTypes.oneOf(['x-small', 'small', 'regular', 'medium', 'large']),\n\n  /**\n  * Placement to determine where the `<Tray />` should display in the viewport\n  */\n  placement: PropTypes.oneOf(['top', 'bottom', 'start', 'end']),\n\n  /**\n   * Whether or not the `<Tray />` is open\n   */\n  open: PropTypes.bool,\n\n  /**\n   * An element or a function returning an element to focus by default\n   */\n  defaultFocusElement: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n   *\n   * A function that returns a reference to the content element\n   */\n  contentRef: PropTypes.func,\n\n  /**\n   * Whether focus should be contained within the `<Tray/>` when it is open\n   */\n  shouldContainFocus: PropTypes.bool,\n\n  /**\n   * Whether focus should be restored when the `<Tray/>` is closed\n   */\n  shouldReturnFocus: PropTypes.bool,\n\n  /**\n   * Should the `<Tray />` hide when clicks occur outside the content\n   */\n  shouldCloseOnDocumentClick: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Tray />` content has been mounted in the DOM\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when `<Tray />` has been unmounted from the DOM\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the `<Tray />` is requesting to be closed\n   */\n  onDismiss: PropTypes.func,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Tray />` (defaults to `document.body`)\n   */\n  mountNode: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * An element, function returning an element, or array of elements that will not be hidden from\n   * the screen reader when the `<Tray />` is open\n   */\n  liveRegion: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element, PropTypes.func]),\n\n  /**\n   * Callback fired when the <Tray /> transitions in/out\n   */\n  onTransition: PropTypes.func,\n\n  /**\n   * Callback fired before the <Tray /> transitions in\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired as the <Tray /> begins to transition in\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the <Tray /> finishes transitioning in\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired right before the <Tray /> transitions out\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired as the <Tray /> begins to transition out\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the <Tray /> finishes transitioning out\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Should the `<Tray />` have a border\n   */\n  border: PropTypes.bool,\n\n  /**\n   * Should the `<Tray />` have a box shadow\n   */\n  shadow: PropTypes.bool\n}, _class2.defaultProps = {\n  open: false,\n  onOpen: function onOpen(event) {},\n  onClose: function onClose(event) {},\n  onDismiss: function onDismiss(event) {},\n  onEnter: function onEnter() {},\n  onEntering: function onEntering() {},\n  onEntered: function onEntered() {},\n  onExit: function onExit() {},\n  onExiting: function onExiting() {},\n  onExited: function onExited() {},\n  mountNode: null,\n  insertAt: 'bottom',\n  liveRegion: null,\n  contentRef: function contentRef(el) {},\n  shouldCloseOnDocumentClick: false,\n  shouldContainFocus: true,\n  shouldReturnFocus: true,\n  defaultFocusElement: null,\n  size: 'small',\n  placement: 'start',\n  shadow: true,\n  border: false,\n  children: null,\n  onTransition: void 0\n}, _temp)) || _class) || _class) || _class) || _class);\nexport default Tray;\nexport { Tray };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      breakpoints = _ref.breakpoints,\n      shadows = _ref.shadows,\n      stacking = _ref.stacking,\n      borders = _ref.borders;\n  return {\n    background: colors.backgroundLightest,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    boxShadow: shadows.depth3,\n    xSmallWidth: breakpoints.xSmall,\n    smallWidth: '20em',\n    // 368px\n    regularWidth: breakpoints.small,\n    mediumWidth: breakpoints.medium,\n    largeWidth: breakpoints.large,\n    zIndex: stacking.topmost\n  };\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport moment from 'moment-timezone';\n/**\n* ---\n* category: utilities/i18n\n* ---\n* A wrapper for [moment](https://momentjs.com/) utils.\n* @module DateTime\n*/\n\n/**\n* Return an instance of a [moment](https://momentjs.com) initialized with the current date + time\n* @param {String} locale\n* @param {String} timezone\n* @returns {Object} an instance of a moment.\n*/\n\nfunction now(locale, timezone) {\n  _checkParams(locale, timezone);\n\n  return moment().locale(locale).tz(timezone);\n}\n/**\n* Parses a string into a localized ISO 8601 string with timezone\n* @param {String} dateString\n* @param {String} locale\n* @param {String} timezone\n* @returns {String} ISO 8601 string\n*/\n\n\nfunction parse(dateString, locale, timezone) {\n  _checkParams(locale, timezone); // list all available localized formats, from most specific to least\n\n\n  return moment.tz(dateString, [moment.ISO_8601, 'llll', 'LLLL', 'lll', 'LLL', 'll', 'LL', 'l', 'L'], locale, timezone);\n}\n/**\n* Determines if a string is a valid ISO 8601 string\n* @param {String} dateString\n* @returns {Boolean} true if dateString is a valid ISO 8601 string\n*/\n\n\nfunction isValid(dateString) {\n  return moment(dateString, [moment.ISO_8601]).isValid();\n}\n/**\n* Get the users's time zone (or guess)\n* see https://momentjs.com/timezone/docs/#/using-timezones/guessing-user-timezone/\n* @returns {String} a time zone identifier (see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)\n*/\n\n\nfunction browserTimeZone() {\n  return moment.tz.guess();\n}\n/**\n* Return a localized date + time with timezone as a ISO 8601 string\n* @param {String} dateString\n* @param {String} locale\n* @param {String} timezone\n* @param {String} format\n* @returns {String} Localized ISO 8601 string\n*/\n\n\nfunction toLocaleString(dateString, locale, timezone, format) {\n  var d = parse(dateString, locale, timezone);\n  var iso8601format = 'YYYY-MM-DDTHH:mm:ss.SSSZ';\n  return format ? d.format(format) : d.format(iso8601format);\n}\n\nfunction _checkParams(locale, timezone) {\n  if (locale == null) throw Error('locale must be specified');\n  if (timezone == null) throw Error('timezone must be specified');\n}\n\nvar DateTime = {\n  now: now,\n  parse: parse,\n  browserTimeZone: browserTimeZone,\n  isValid: isValid,\n  toLocaleString: toLocaleString\n};\nexport default DateTime;\nexport { DateTime };","/*\n* The MIT License (MIT)\n*\n* Copyright (c) 2015 - present Instructure, Inc.\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in all\n* copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n* SOFTWARE.\n*/\nimport { canUseDOM } from '@instructure/ui-dom-utils';\nvar defaultLocale = 'en-US';\n/**\n* ---\n* category: utilities/i18n\n* ---\n* Localization utilities\n* @module Locale\n*/\n\nvar Locale = {\n  defaultLocale: defaultLocale,\n\n  /**\n  * Return the locale from the browser\n  * @returns {String} locale (defaults to 'en-US')\n  */\n  browserLocale: function browserLocale(nav) {\n    var hasDOM = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : canUseDOM;\n    if (nav) return nav.language;\n    if (!hasDOM) return defaultLocale;\n    var documentLanguage = window.document.documentElement.lang;\n    if (documentLanguage) return documentLanguage;\n    var hasNavigatorLanguages = window.navigator && window.navigator.languages && window.navigator.languages.length;\n    var hasNavigatorLanguage = window.navigator && window.navigator.language;\n    if (hasNavigatorLanguages) return window.navigator.languages[0];\n    if (hasNavigatorLanguage) return window.navigator.language || window.navigator.browserLanguage;\n    return defaultLocale;\n  }\n};\nexport default Locale;\nexport { Locale };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { makeRequirable } from '@instructure/ui-prop-types';\nvar I18nPropTypes = {\n  /**\n   *\n   * Verify that the given prop is a correctly formatted ISO 8601 formatted string.\n   *\n   * @param {Object} props - object containing the component props\n   * @param {string} propName - name of the given prop\n   * @param {string} componentName - name of the component\n   * @param {string} location\n   * @param {string} propFullName\n   * @returns {Error} if prop is an invalid ISO 8601 string\n   */\n  iso8601: function iso8601(props, propName, componentName, location) {\n    var propValue = props[propName];\n    if (typeof propValue === 'undefined' || propValue === '') return;\n    var propValueType = typeof propValue;\n\n    if (typeof propValueType !== 'string') {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` of type `\").concat(propValueType, \"` supplied to `\").concat(componentName, \"`, expected \") + \"an ISO 8601 formatted string.\");\n    }\n\n    var iso8601regex = /^([+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([.,]\\d+(?!:))?)?(\\17[0-5]\\d([.,]\\d+)?)?([zZ]|([+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n\n    if (typeof propValue === 'string' && !propValue.match(iso8601regex)) {\n      return new Error(\"Invalid \".concat(location, \" `\").concat(propName, \"` `\").concat(propValue, \"` supplied to `\").concat(componentName, \"`, expected \") + \"an ISO 8601 formatted string.\");\n    }\n  }\n};\nI18nPropTypes.iso8601.isRequired = makeRequirable(I18nPropTypes.iso8601);\nexport default I18nPropTypes;\nexport {\n/**\n * ---\n * category: utilities/i18n\n * ---\n * @module I18nPropTypes\n * Custom I18n prop types for React components.\n */\nI18nPropTypes };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { deprecated, callRenderProp, getInteraction, passthroughProps } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { FormField, FormPropTypes } from '@instructure/ui-form-field';\nimport { Flex } from '@instructure/ui-flex';\nimport { uid } from '@instructure/uid';\nimport { themeable } from '@instructure/ui-themeable';\nvar styles = {\n  componentId: 'qBMHb',\n  template: function template(theme) {\n    return \"\\n\\n.qBMHb_cSXm{background:\".concat(theme.background || 'inherit', \";border:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";position:relative}\\n\\n.qBMHb_cSXm,.qBMHb_cSXm:before{box-sizing:border-box;display:block}\\n\\n.qBMHb_cSXm:before{border:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.25rem;content:\\\"\\\";left:-0.25rem;opacity:0;pointer-events:none;position:absolute;right:-0.25rem;top:-0.25rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.qBMHb_cSXm.qBMHb_cVYB:before{opacity:1;transform:scale(1)}\\n\\n.qBMHb_cSXm.qBMHb_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.qBMHb_cSXm.qBMHb_fszt,.qBMHb_cSXm.qBMHb_fszt.qBMHb_cVYB:before{border-color:\").concat(theme.errorBorderColor || 'inherit', \"}\\n\\n.qBMHb_cwos,input[type].qBMHb_cwos{-moz-appearance:none;-moz-osx-font-smoothing:grayscale;-webkit-appearance:none;-webkit-font-smoothing:antialiased;all:initial;animation:none 0s ease 0s 1 normal none running;appearance:none;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:transparent;border:medium none currentColor;border:none;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:#000;color:\").concat(theme.color || 'inherit', \";column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;font-weight:\").concat(theme.fontWeight || 'inherit', \";height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;outline:none;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding:0 \").concat(theme.padding || 'inherit', \";page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;width:100%;word-spacing:normal;z-index:auto}\\n\\n.qBMHb_cwos::-ms-clear,input[type].qBMHb_cwos::-ms-clear{display:none}\\n\\n.qBMHb_cwos[autocomplete=off]::-webkit-contacts-auto-fill-button,input[type].qBMHb_cwos[autocomplete=off]::-webkit-contacts-auto-fill-button{display:none!important}\\n\\n.qBMHb_cwos:focus,input[type].qBMHb_cwos:focus{box-shadow:none}\\n\\n.qBMHb_cwos:-ms-input-placeholder,input[type].qBMHb_cwos:-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.qBMHb_cwos::-ms-input-placeholder,input[type].qBMHb_cwos::-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.qBMHb_cwos::placeholder,input[type].qBMHb_cwos::placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.qBMHb_cwos.qBMHb_doqw,input[type].qBMHb_cwos.qBMHb_doqw{font-size:\").concat(theme.smallFontSize || 'inherit', \";height:calc(\").concat(theme.smallHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \");line-height:calc(\").concat(theme.smallHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \")}\\n\\n.qBMHb_cwos.qBMHb_ycrn,input[type].qBMHb_cwos.qBMHb_ycrn{font-size:\").concat(theme.mediumFontSize || 'inherit', \";height:calc(\").concat(theme.mediumHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \");line-height:calc(\").concat(theme.mediumHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \")}\\n\\n.qBMHb_cwos.qBMHb_cMDj,input[type].qBMHb_cwos.qBMHb_cMDj{font-size:\").concat(theme.largeFontSize || 'inherit', \";height:calc(\").concat(theme.largeHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \");line-height:calc(\").concat(theme.largeHeight || 'inherit', \" - 2*\").concat(theme.borderWidth || 'inherit', \")}\\n\\n.qBMHb_cwos.qBMHb_EMjX,input[type].qBMHb_cwos.qBMHb_EMjX{text-align:start}\\n\\n[dir=ltr] .qBMHb_cwos.qBMHb_EMjX,[dir=ltr] input[type].qBMHb_cwos.qBMHb_EMjX{text-align:left}\\n\\n[dir=rtl] .qBMHb_cwos.qBMHb_EMjX,[dir=rtl] input[type].qBMHb_cwos.qBMHb_EMjX{text-align:right}\\n\\n.qBMHb_cwos.qBMHb_ImeN,[dir=ltr] .qBMHb_cwos.qBMHb_ImeN,[dir=ltr] input[type].qBMHb_cwos.qBMHb_ImeN,[dir=rtl] .qBMHb_cwos.qBMHb_ImeN,[dir=rtl] input[type].qBMHb_cwos.qBMHb_ImeN,input[type].qBMHb_cwos.qBMHb_ImeN{text-align:center}\");\n  },\n  'facade': 'qBMHb_cSXm',\n  'focused': 'qBMHb_cVYB',\n  'disabled': 'qBMHb_ywdX',\n  'invalid': 'qBMHb_fszt',\n  'input': 'qBMHb_cwos',\n  'small': 'qBMHb_doqw',\n  'medium': 'qBMHb_ycrn',\n  'large': 'qBMHb_cMDj',\n  'textAlign--start': 'qBMHb_EMjX',\n  'textAlign--center': 'qBMHb_ImeN'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar TextInput = (_dec = deprecated('7.0.0', {\n  label: 'renderLabel',\n  required: 'isRequired',\n  inline: 'display'\n}), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TextInput, _Component);\n\n  function TextInput(props) {\n    var _this;\n\n    _classCallCheck(this, TextInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextInput).call(this));\n\n    _this.handleInputRef = function (node) {\n      _this._input = node;\n\n      _this.props.inputRef(node);\n    };\n\n    _this.handleChange = function (event) {\n      _this.props.onChange(event, event.target.value);\n    };\n\n    _this.handleBlur = function (event) {\n      _this.props.onBlur(event);\n\n      _this.setState({\n        hasFocus: false\n      });\n    };\n\n    _this.handleFocus = function (event) {\n      _this.props.onFocus(event);\n\n      _this.setState({\n        hasFocus: true\n      });\n    };\n\n    _this.state = {\n      hasFocus: false\n    };\n    _this._defaultId = uid('TextInput');\n    _this._messagesId = uid('TextInput-messages');\n    return _this;\n  }\n\n  _createClass(TextInput, [{\n    key: \"focus\",\n    value: function focus() {\n      this._input.focus();\n    }\n  }, {\n    key: \"renderInput\",\n    value: function renderInput() {\n      var _inputClasses;\n\n      var _this$props = this.props,\n          type = _this$props.type,\n          size = _this$props.size,\n          htmlSize = _this$props.htmlSize,\n          display = _this$props.display,\n          textAlign = _this$props.textAlign,\n          placeholder = _this$props.placeholder,\n          value = _this$props.value,\n          defaultValue = _this$props.defaultValue,\n          required = _this$props.required,\n          isRequired = _this$props.isRequired,\n          rest = _objectWithoutProperties(_this$props, [\"type\", \"size\", \"htmlSize\", \"display\", \"textAlign\", \"placeholder\", \"value\", \"defaultValue\", \"required\", \"isRequired\"]);\n\n      var props = passthroughProps(rest);\n      var interaction = this.interaction;\n      var inputClasses = (_inputClasses = {}, _defineProperty(_inputClasses, styles.input, true), _defineProperty(_inputClasses, styles[size], size), _defineProperty(_inputClasses, styles[\"textAlign--\".concat(textAlign)], textAlign), _inputClasses);\n      var descriptionIds = '';\n\n      if (props['aria-describedby']) {\n        descriptionIds = \"\".concat(props['aria-describedby']);\n      }\n\n      if (this.hasMessages) {\n        descriptionIds = descriptionIds !== '' ? \"\".concat(descriptionIds, \" \").concat(this._messagesId) : this._messagesId;\n      }\n\n      return React.createElement(\"input\", Object.assign({}, props, {\n        className: classnames(inputClasses),\n        defaultValue: defaultValue,\n        value: value,\n        placeholder: placeholder,\n        ref: this.handleInputRef,\n        type: type,\n        id: this.id,\n        required: isRequired || required,\n        \"aria-invalid\": this.invalid ? 'true' : null,\n        disabled: interaction === 'disabled',\n        readOnly: interaction === 'readonly',\n        \"aria-describedby\": descriptionIds !== '' ? descriptionIds : null,\n        size: htmlSize,\n        onChange: this.handleChange,\n        onBlur: this.handleBlur,\n        onFocus: this.handleFocus\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _facadeClasses;\n\n      var _this$props2 = this.props,\n          width = _this$props2.width,\n          inline = _this$props2.inline,\n          display = _this$props2.display,\n          label = _this$props2.label,\n          renderLabel = _this$props2.renderLabel,\n          renderBeforeInput = _this$props2.renderBeforeInput,\n          renderAfterInput = _this$props2.renderAfterInput,\n          messages = _this$props2.messages,\n          inputContainerRef = _this$props2.inputContainerRef,\n          icon = _this$props2.icon,\n          shouldNotWrap = _this$props2.shouldNotWrap;\n      var interaction = this.interaction;\n      var renderBeforeOrAfter = renderBeforeInput || renderAfterInput || icon;\n      var facadeClasses = (_facadeClasses = {}, _defineProperty(_facadeClasses, styles.facade, true), _defineProperty(_facadeClasses, styles.disabled, interaction === 'disabled'), _defineProperty(_facadeClasses, styles.invalid, this.invalid), _defineProperty(_facadeClasses, styles.focused, this.state.hasFocus), _facadeClasses);\n      return React.createElement(FormField, {\n        id: this.id,\n        label: callRenderProp(renderLabel || label),\n        messagesId: this._messagesId,\n        messages: messages,\n        inline: display === 'inline-block' || inline,\n        width: width,\n        inputContainerRef: inputContainerRef,\n        layout: this.props.layout // eslint-disable-line react/prop-types\n\n      }, React.createElement(\"span\", {\n        className: classnames(facadeClasses)\n      }, renderBeforeOrAfter ? React.createElement(Flex, {\n        wrap: shouldNotWrap ? 'no-wrap' : 'wrap'\n      }, renderBeforeInput && React.createElement(Flex.Item, {\n        padding: \"0 0 0 small\"\n      }, callRenderProp(renderBeforeInput)), React.createElement(Flex.Item, {\n        shouldGrow: true,\n        shouldShrink: true\n      }, React.createElement(Flex, {\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }, React.createElement(Flex.Item, {\n        shouldGrow: true,\n        shouldShrink: true\n      }, this.renderInput()), (renderAfterInput || icon) && React.createElement(Flex.Item, {\n        padding: \"0 small 0 0\"\n      }, renderAfterInput ? callRenderProp(renderAfterInput) : callRenderProp(icon)))))\n      /* If no prepended or appended content, don't render Flex layout */\n      : this.renderInput()));\n    }\n  }, {\n    key: \"interaction\",\n    get: function get() {\n      return getInteraction({\n        props: this.props\n      });\n    }\n  }, {\n    key: \"hasMessages\",\n    get: function get() {\n      return this.props.messages && this.props.messages.length > 0;\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.props.messages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._input);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._input.value;\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this.props.id || this._defaultId;\n    }\n  }]);\n\n  TextInput.displayName = \"TextInput\";\n  return TextInput;\n}(Component), _class2.propTypes = {\n  /**\n  * The form field label.\n  */\n  renderLabel: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * The type of input.\n  */\n  type: PropTypes.oneOf(['text', 'email', 'url', 'tel', 'search', 'password']),\n\n  /**\n  * The id of the text input. One is generated if not supplied.\n  */\n  id: PropTypes.string,\n\n  /**\n  * the selected value (must be accompanied by an `onChange` prop)\n  */\n  value: controllable(PropTypes.string),\n\n  /**\n  * value to set on initial render\n  */\n  defaultValue: PropTypes.string,\n\n  /**\n  * Specifies if interaction with the input is enabled, disabled, or readonly.\n  * When \"disabled\", the input changes visibly to indicate that it cannot\n  * receive user interactions. When \"readonly\" the input still cannot receive\n  * user interactions but it keeps the same styles as if it were enabled.\n  */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * The size of the text input.\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * The text alignment of the input.\n  */\n  textAlign: PropTypes.oneOf(['start', 'center']),\n\n  /**\n  * The width of the input.\n  */\n  width: PropTypes.string,\n\n  /**\n  * The width of the input, in characters, if a width is not explicitly\n  * provided via the `width` prop. Only applicable if `isInline={true}`.\n  */\n  htmlSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * The display of the root element.\n  */\n  display: PropTypes.oneOf(['inline-block', 'block']),\n\n  /**\n  * Prevents the default behavior of wrapping the input and rendered content\n  * when available space is exceeded.\n  */\n  shouldNotWrap: PropTypes.bool,\n\n  /**\n  * Html placeholder text to display when the input has no value. This should be hint text, not a label\n  * replacement.\n  */\n  placeholder: PropTypes.string,\n\n  /**\n  * Whether or not the text input is required.\n  */\n  isRequired: PropTypes.bool,\n\n  /**\n  * a function that provides a reference to the actual input element\n  */\n  inputRef: PropTypes.func,\n\n  /**\n  * a function that provides a reference a parent of the input element\n  */\n  inputContainerRef: PropTypes.func,\n\n  /**\n  * Content to display before the input text, such as an icon\n  */\n  renderBeforeInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Content to display after the input text, such as an icon\n  */\n  renderAfterInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Callback executed when the input fires a change event.\n  * @param {Object} event - the event object\n  * @param {Object} value - the string value of the input\n  */\n  onChange: PropTypes.func,\n\n  /**\n  * Callback fired when input loses focus.\n  */\n  onBlur: PropTypes.func,\n\n  /**\n  * Callback fired when input receives focus.\n  */\n  onFocus: PropTypes.func,\n\n  /* eslint-disable react/require-default-props */\n\n  /**\n  * __Deprecated - use `renderAfterInput`__\n  */\n  icon: PropTypes.func,\n\n  /**\n  * __Deprecated - use `renderLabel`__\n  */\n  label: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * __Deprecated - use `isRequired`__\n  */\n  required: PropTypes.bool,\n\n  /**\n  * __Deprecated - use `display`__\n  */\n  inline: PropTypes.bool\n  /* eslint-enable react/require-default-props */\n\n}, _class2.defaultProps = {\n  renderLabel: void 0,\n  type: 'text',\n  id: void 0,\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  isRequired: false,\n  value: void 0,\n  defaultValue: void 0,\n  display: 'block',\n  shouldNotWrap: false,\n  placeholder: void 0,\n  width: void 0,\n  size: 'medium',\n  htmlSize: void 0,\n  textAlign: 'start',\n  messages: [],\n  inputRef: function inputRef(input) {},\n  inputContainerRef: function inputContainerRef(container) {},\n  onChange: function onChange(event, value) {},\n  onBlur: function onBlur(event) {},\n  onFocus: function onFocus(event) {},\n  renderBeforeInput: void 0,\n  renderAfterInput: void 0\n}, _temp)) || _class) || _class);\nexport default TextInput;\nexport { TextInput };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      forms = _ref.forms;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    borderColor: colors.borderMedium,\n    borderRadius: borders.radiusMedium,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest,\n    padding: spacing.small,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineStyle: borders.style,\n    focusOutlineColor: colors.borderBrand,\n    errorBorderColor: colors.borderDanger,\n    errorOutlineColor: colors.borderDanger,\n    placeholderColor: colors.textDark,\n    smallFontSize: typography.fontSizeSmall,\n    smallHeight: forms.inputHeightSmall,\n    mediumFontSize: typography.fontSizeMedium,\n    mediumHeight: forms.inputHeightMedium,\n    largeFontSize: typography.fontSizeLarge,\n    largeHeight: forms.inputHeightLarge\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusOutlineColor: variables['ic-brand-primary']\n  };\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { testable } from '@instructure/ui-testable';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { passthroughProps } from '@instructure/ui-react-utils';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { BaseButton } from '../BaseButton';\nimport theme from './theme.js';\n/**\n---\ncategory: components\n---\n**/\n\nvar IconButton = (_dec = testable(), _dec2 = themeable(theme), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconButton, _Component);\n\n  function IconButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, IconButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(IconButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._baseButton = null;\n    return _this;\n  }\n\n  _createClass(IconButton, [{\n    key: \"focus\",\n    value: function focus() {\n      this._baseButton && this._baseButton.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          renderIcon = _this$props.renderIcon,\n          screenReaderLabel = _this$props.screenReaderLabel,\n          type = _this$props.type,\n          size = _this$props.size,\n          elementRef = _this$props.elementRef,\n          as = _this$props.as,\n          interaction = _this$props.interaction,\n          color = _this$props.color,\n          focusColor = _this$props.focusColor,\n          shape = _this$props.shape,\n          withBackground = _this$props.withBackground,\n          withBorder = _this$props.withBorder,\n          margin = _this$props.margin,\n          cursor = _this$props.cursor,\n          href = _this$props.href,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"renderIcon\", \"screenReaderLabel\", \"type\", \"size\", \"elementRef\", \"as\", \"interaction\", \"color\", \"focusColor\", \"shape\", \"withBackground\", \"withBorder\", \"margin\", \"cursor\", \"href\"]);\n\n      var theme = this.theme;\n      return React.createElement(BaseButton, Object.assign({}, passthroughProps(props), {\n        type: type,\n        size: size,\n        elementRef: elementRef,\n        as: as,\n        interaction: interaction,\n        color: color,\n        focusColor: focusColor,\n        shape: shape,\n        withBackground: withBackground,\n        withBorder: withBorder,\n        margin: margin,\n        cursor: cursor,\n        href: href,\n        renderIcon: children || renderIcon,\n        theme: theme,\n        ref: function ref(component) {\n          _this2._baseButton = component;\n        },\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }), React.createElement(ScreenReaderContent, null, screenReaderLabel));\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return this._baseButton && this._baseButton.focused;\n    }\n  }]);\n\n  IconButton.displayName = \"IconButton\";\n  return IconButton;\n}(Component), _class2.propTypes = {\n  /**\n   * An icon, or function returning an icon (identical to the `renderIcon` prop).\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * An icon, or function that returns an icon (identical to the `children` prop).\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * An accessible label for the `IconButton`.\n   */\n  screenReaderLabel: PropTypes.string.isRequired,\n\n  /**\n   * Specifies the type of the `IconButton`'s underlying html element.\n   */\n  type: PropTypes.oneOf(['button', 'submit', 'reset']),\n\n  /**\n   * The size of the `IconButton`\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Provides a reference to the `IconButton`'s underlying html element.\n   */\n  elementRef: PropTypes.func,\n\n  /**\n   * The element to render as the component root, `button` by default.\n   */\n  as: PropTypes.elementType,\n\n  /**\n   * Specifies if interaction with the `IconButton` is enabled, disabled, or readonly.\n   */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n   * Specifies the color for the `IconButton`.\n   */\n  color: PropTypes.oneOf(['primary', 'primary-inverse', 'secondary', 'success', 'danger']),\n\n  /**\n   * Override the `Button`'s default focus outline color.\n   */\n  focusColor: PropTypes.oneOf(['info', 'inverse']),\n\n  /**\n   * Specifies if the `IconButton` shape should be a circle or rectangle.\n   */\n  shape: PropTypes.oneOf(['rectangle', 'circle']),\n\n  /**\n   * Specifies if the `IconButton` should render with a solid background. When false, the background is transparent.\n   */\n  withBackground: PropTypes.bool,\n\n  /**\n   * Specifies if the `IconButton` should render with a border.\n   */\n  withBorder: PropTypes.bool,\n\n  /**\n   * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n   * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n   * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n   */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n   * Specify a mouse cursor to use when hovering over the button.\n   * The `pointer` cursor is used by default.\n   */\n  cursor: PropTypes.string,\n\n  /**\n   * Specifies an href attribute for the `IconButton`'s underlying html element.\n   */\n  href: PropTypes.string\n}, _class2.defaultProps = {\n  children: null,\n  renderIcon: void 0,\n  type: 'button',\n  size: 'medium',\n  elementRef: function elementRef(el) {},\n  as: 'button',\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  color: 'secondary',\n  focusColor: void 0,\n  shape: 'rectangle',\n  withBackground: true,\n  withBorder: true,\n  margin: '0',\n  cursor: 'pointer',\n  href: void 0\n}, _temp)) || _class) || _class);\nexport default IconButton;\nexport { IconButton };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1352.005.012l176.13 176.13L744.27 960.131l783.864 783.74L1352.005 1920 391.887 960.13z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenStartSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenStartSolid, _Component);\n\n  function IconArrowOpenStartSolid() {\n    _classCallCheck(this, IconArrowOpenStartSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenStartSolid).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenStartSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenStart\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenStartSolid.displayName = \"IconArrowOpenStartSolid\";\n  return IconArrowOpenStartSolid;\n}(Component);\n\nIconArrowOpenStartSolid.glyphName = 'arrow-open-start';\nIconArrowOpenStartSolid.variant = 'Solid';\nIconArrowOpenStartSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenStartSolid;\nexport { IconArrowOpenStartSolid };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton } from '@instructure/ui-buttons';\nimport { IconArrowOpenStartSolid, IconArrowOpenEndSolid } from '@instructure/ui-icons';\nimport { themeable } from '@instructure/ui-themeable';\nvar styles = {\n  componentId: 'dfDow',\n  template: function template(theme) {\n    return \"\\n\\n.dfDow_bGBk{align-items:center;box-sizing:border-box;color:\".concat(theme.color || 'inherit', \";display:flex;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";justify-content:space-between;padding:0 0.125rem}\\n\\n.dfDow_eCxz{font-size:\").concat(theme.buttonIconSize || 'inherit', \"}\");\n  },\n  'root': 'dfDow_bGBk',\n  'arrowIcon': 'dfDow_eCxz'\n};\nimport theme from './theme';\n/**\n---\nparent: DatePicker\n---\n**/\n\nvar DatePickerPagination = (_dec = themeable(theme, styles), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DatePickerPagination, _Component);\n\n  function DatePickerPagination() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DatePickerPagination);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DatePickerPagination)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handlePrevClick = function (e) {\n      _this.props.onPrev(e);\n    };\n\n    _this.handleNextClick = function (e) {\n      _this.props.onNext(e);\n    };\n\n    return _this;\n  }\n\n  _createClass(DatePickerPagination, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: styles.root\n      }, React.createElement(IconButton, {\n        withBackground: false,\n        withBorder: false,\n        onClick: this.handlePrevClick,\n        renderIcon: React.createElement(IconArrowOpenStartSolid, {\n          className: styles.arrowIcon\n        }),\n        screenReaderLabel: this.props.previousLabel\n      }), this.props.children, React.createElement(IconButton, {\n        withBackground: false,\n        withBorder: false,\n        onClick: this.handleNextClick,\n        renderIcon: React.createElement(IconArrowOpenEndSolid, {\n          className: styles.arrowIcon\n        }),\n        screenReaderLabel: this.props.nextLabel\n      }));\n    }\n  }]);\n\n  DatePickerPagination.displayName = \"DatePickerPagination\";\n  return DatePickerPagination;\n}(Component), _class2.propTypes = {\n  previousLabel: PropTypes.string.isRequired,\n  nextLabel: PropTypes.string.isRequired,\n  onPrev: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired,\n  children: PropTypes.node\n}, _class2.defaultProps = {\n  children: null\n}, _temp)) || _class);\nexport default DatePickerPagination;\nexport { DatePickerPagination };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textDarkest,\n    buttonIconSize: typography.fontSizeMedium\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      stacking = _ref.stacking;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest,\n    borderRadius: borders.radiusMedium,\n    labelMargin: '0',\n    labelPadding: spacing.xSmall,\n    headerFontWeight: typography.fontWeightBold,\n    cellPadding: spacing.xSmall,\n    cellMinWidth: spacing.large,\n    cellMinHeight: spacing.large,\n    cellBorderWidth: borders.widthSmall,\n    cellBorderStyle: borders.style,\n    todayBackground: colors.backgroundBrand,\n    todayBorderRadius: spacing.large,\n    // to make the today highlight circular\n    todayColor: colors.textLightest,\n    selectedBackground: colors.backgroundSuccess,\n    selectedColor: colors.textLightest,\n    otherMonthColor: colors.textDark,\n    focusOutline: colors.borderBrand,\n    zIndex: stacking.above\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusOutline: variables['ic-brand-primary']\n  };\n};","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n* ---\n* parent: DateInput\n* ---\n*/\nvar isSameMonth = function isSameMonth(a, b) {\n  return a.isSame(b, 'year') && a.isSame(b, 'month');\n};\n\nvar isSameDay = function isSameDay(a, b) {\n  return isSameMonth(a, b) && a.isSame(b, 'day');\n};\n\nvar isDayDisabled = function isDayDisabled(day, disabledDaysOfWeek, disabledDays) {\n  var disabledDayOfWeek = disabledDaysOfWeek.indexOf(day.weekday()) >= 0;\n  var disabledDay;\n\n  if (disabledDays && typeof disabledDays === \"function\") {\n    disabledDay = disabledDays(day);\n  } else {\n    disabledDay = disabledDays.some(function (disabledDay) {\n      return isSameDay(day, disabledDay);\n    });\n  }\n\n  return disabledDayOfWeek || disabledDay;\n};\n\nexport { isSameMonth, isSameDay, isDayDisabled };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { I18nPropTypes, DateTime, Locale } from '@instructure/ui-i18n';\nimport { themeable } from '@instructure/ui-themeable';\nimport { PresentationContent, ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { testable } from '@instructure/ui-testable';\nimport { DatePickerPagination } from './DatePickerPagination';\nvar styles = {\n  componentId: 'dfDow',\n  template: function template(theme) {\n    return \"\\n\\n.dyUpz_bGBk{align-items:stretch;background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";display:inline-flex;flex-direction:column;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\\n\\n.dyUpz_xKLf,[dir=ltr] .dyUpz_xKLf,[dir=rtl] .dyUpz_xKLf{text-align:center}\\n\\n.dyUpz_drdB{border-collapse:collapse}\\n\\n.dyUpz_fsuY{font-weight:\").concat(theme.headerFontWeight || 'inherit', \"}\\n\\n.dyUpz_bPWd{-moz-appearance:none;-moz-user-select:none;-ms-user-select:none;-webkit-appearance:none;-webkit-user-select:none;appearance:none;background-color:\").concat(theme.background || 'inherit', \";border:none;border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;cursor:pointer;font-size:\").concat(theme.fontSize || 'inherit', \";min-height:\").concat(theme.cellMinHeight || 'inherit', \";min-width:\").concat(theme.cellMinWidth || 'inherit', \";outline:none;overflow:visible;padding:\").concat(theme.cellPadding || 'inherit', \";position:relative;text-align:center;touch-action:manipulation;user-select:none}\\n\\n[dir=ltr] .dyUpz_bPWd,[dir=rtl] .dyUpz_bPWd{text-align:center}\\n\\n.dyUpz_bPWd:focus{box-shadow:inset 0 0 0 0.125rem \").concat(theme.background || 'inherit', \",0 0 0 0.0625rem \").concat(theme.focusOutline || 'inherit', \"}\\n\\n.dyUpz_bPWd.dyUpz_bCDV{color:\").concat(theme.otherMonthColor || 'inherit', \"}\\n\\n.dyUpz_bPWd.dyUpz_fxYf{background-color:\").concat(theme.todayBackground || 'inherit', \";border-radius:\").concat(theme.todayBorderRadius || 'inherit', \";color:\").concat(theme.todayColor || 'inherit', \"}\\n\\n.dyUpz_bPWd.dyUpz_fGhm{background-color:\").concat(theme.selectedBackground || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";color:\").concat(theme.selectedColor || 'inherit', \"}\\n\\n.dyUpz_blJt{margin:\").concat(theme.labelMargin || 'inherit', \";padding:\").concat(theme.labelPadding || 'inherit', \";text-align:center}\\n\\n[dir=ltr] .dyUpz_blJt,[dir=rtl] .dyUpz_blJt{text-align:center}\\n\\n.dyUpz_ywdX{cursor:not-allowed;opacity:0.5}\");\n  },\n  'root': 'dyUpz_bGBk',\n  'calendar': 'dyUpz_xKLf',\n  'table': 'dyUpz_drdB',\n  'header': 'dyUpz_fsuY',\n  'cell': 'dyUpz_bPWd',\n  'outside': 'dyUpz_bCDV',\n  'today': 'dyUpz_fxYf',\n  'selected': 'dyUpz_fGhm',\n  'label': 'dyUpz_blJt',\n  'disabled': 'dyUpz_ywdX'\n};\nimport theme from './theme';\nimport { isSameMonth, isSameDay, isDayDisabled } from \"../utils/dateHelpers\";\n/**\n---\nparent: DateInput\n---\n**/\n\nvar DatePicker = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DatePicker, _Component);\n\n  function DatePicker(props, context) {\n    var _this;\n\n    _classCallCheck(this, DatePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DatePicker).call(this, props, context));\n\n    _this.findNextEnabledDay = function (date, eventKeycode) {\n      var currentIteration = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var iterationMax = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 60;\n\n      switch (eventKeycode) {\n        case keycode.codes.left:\n          date.subtract(1, 'days');\n          break;\n\n        case keycode.codes.right:\n          date.add(1, 'days');\n          break;\n\n        case keycode.codes.up:\n          date.subtract(7, 'days');\n          break;\n\n        case keycode.codes.down:\n          date.add(7, 'days');\n          break;\n\n        default:\n          break;\n      } // Since we allow a datesDisabled callback function, the set of disabled dates is non\n      // deterministic, which means without this check the function could recurse infinitely.\n\n\n      if (currentIteration >= iterationMax) {\n        return null;\n      } else if (isDayDisabled(date, _this.props.disabledDaysOfWeek, _this.props.disabledDays)) {\n        return _this.findNextEnabledDay(date, eventKeycode, currentIteration + 1);\n      } else {\n        return date;\n      }\n    };\n\n    _this.handleCalendarKeyDown = function (e) {\n      var _keycode$codes = keycode.codes,\n          up = _keycode$codes.up,\n          down = _keycode$codes.down,\n          left = _keycode$codes.left,\n          right = _keycode$codes.right;\n\n      if (!(e.keyCode === up || e.keyCode === down || e.keyCode === left || e.keyCode === right)) {\n        return;\n      }\n\n      var focusedDate = _this.parseDate(_this.state.focusedValue);\n\n      var newFocusedDate = _this.findNextEnabledDay(focusedDate, e.keyCode);\n\n      if (!newFocusedDate) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      var newFocusedString = newFocusedDate.format();\n\n      _this.updatePagination(newFocusedString);\n\n      _this.setState({\n        focusedValue: newFocusedString\n      });\n    };\n\n    _this.handlePaginationPrev = function (e) {\n      var sliderMoment = _this.parseDate(_this.state.renderedValue);\n\n      var sliderString = sliderMoment.subtract(1, 'months').format();\n\n      _this.setState({\n        renderedValue: sliderString\n      });\n\n      _this.fireRenderedChange(e, sliderString);\n    };\n\n    _this.handlePaginationNext = function (e) {\n      var sliderMoment = _this.parseDate(_this.state.renderedValue);\n\n      var sliderString = sliderMoment.add(1, 'months').format();\n\n      _this.setState({\n        renderedValue: sliderString\n      });\n\n      _this.fireRenderedChange(e, sliderString);\n    };\n\n    _this.handleDateClick = function (e, clickedString) {\n      _this.updatePagination(clickedString);\n\n      _this.setState({\n        selectedValue: clickedString\n      });\n\n      _this.fireSelectedChange(e, clickedString);\n    };\n\n    _this.handleDateFocus = function (focusedString) {\n      _this.setState({\n        focusedValue: focusedString\n      });\n    };\n\n    var locale = _this._locale(props, context);\n\n    var timezone = _this._timezone(props, context);\n\n    var defaultTodayValue = DateTime.now(locale, timezone).hour(0).minute(0).second(0).millisecond(0).format();\n\n    var todayValue = _this._validateDateProp(props.todayValue, defaultTodayValue, 'todayValue', locale, timezone);\n\n    var selectedValue = _this._validateDateProp(props.selectedValue || props.defaultSelectedValue, todayValue, 'selectedValue', locale, timezone);\n\n    var renderedValue = _this._validateDateProp(props.renderedValue || props.defaultRenderedValue, selectedValue, 'renderedValue', locale, timezone);\n\n    var focusedValue = selectedValue;\n    _this.state = {\n      selectedValue: selectedValue,\n      renderedValue: renderedValue,\n      todayValue: todayValue,\n      focusedValue: focusedValue\n    };\n    return _this;\n  }\n\n  _createClass(DatePicker, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (nextProps.selectedValue !== this.props.selectedValue || nextProps.renderedValue !== this.props.renderedValue || nextProps.todayValue !== this.props.todayValue) {\n        this.setState(function (state) {\n          return {\n            selectedValue: _this2.validateDateProp(nextProps.selectedValue, state.selectedValue, 'selectedValue'),\n            renderedValue: _this2.validateDateProp(nextProps.renderedValue, state.renderedValue, 'renderedValue'),\n            todayValue: _this2.validateDateProp(nextProps.todayValue, state.todayValue, 'todayValue')\n          };\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.focusedValue !== prevState.focusedValue && this._focusedDay) {\n        this._focusedDay.focus();\n      }\n    }\n  }, {\n    key: \"_validateDateProp\",\n    value: function _validateDateProp(dateStr, fallbackDateStr, propName, locale, timezone) {\n      var parsedDate = this._parseDate(dateStr, locale, timezone);\n\n      var isEmpty = !dateStr;\n      var isValid = parsedDate.isValid();\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(isEmpty || isValid, \"[DatePicker] Unexpected date format received for '\".concat(propName, \"' prop: '\").concat(dateStr, \"'.\"));\n\n      return isEmpty || !isValid ? fallbackDateStr : dateStr;\n    }\n  }, {\n    key: \"validateDateProp\",\n    value: function validateDateProp(dateStr, fallbackDateStr, propName) {\n      return this._validateDateProp(dateStr, fallbackDateStr, propName, this.locale, this.timezone);\n    }\n  }, {\n    key: \"_locale\",\n    value: function _locale(props, context) {\n      return props.locale || context.locale || Locale.browserLocale();\n    }\n  }, {\n    key: \"_timezone\",\n    value: function _timezone(props, context) {\n      return props.timezone || context.timezone || DateTime.browserTimeZone();\n    }\n  }, {\n    key: \"_parseDate\",\n    value: function _parseDate(dateStr, locale, timezone) {\n      return DateTime.parse(dateStr, locale, timezone);\n    }\n  }, {\n    key: \"parseDate\",\n    value: function parseDate(dateStr) {\n      return this._parseDate(dateStr, this.locale, this.timezone);\n    }\n  }, {\n    key: \"updatePagination\",\n    value: function updatePagination(newValueString) {\n      var newValueMoment = this.parseDate(newValueString);\n      var newMonth = newValueMoment.month();\n      var newYear = newValueMoment.year();\n      var renderedMoment = this.parseDate(this.state.renderedValue);\n      var renderedMonth = renderedMoment.month();\n      var renderedYear = renderedMoment.year();\n\n      if (newYear < renderedYear) {\n        this.handlePaginationPrev();\n        return;\n      }\n\n      if (newYear > renderedYear) {\n        this.handlePaginationNext();\n        return;\n      }\n\n      if (newMonth < renderedMonth) {\n        this.handlePaginationPrev();\n      }\n\n      if (newMonth > renderedMonth) {\n        this.handlePaginationNext();\n      }\n    }\n  }, {\n    key: \"fireRenderedChange\",\n    value: function fireRenderedChange(e, newRenderedString) {\n      if (typeof this.props.onRenderedChange === 'function') {\n        this.props.onRenderedChange(e, newRenderedString);\n      }\n    }\n  }, {\n    key: \"fireSelectedChange\",\n    value: function fireSelectedChange(e, newSelectedString) {\n      if (typeof this.props.onSelectedChange === 'function') {\n        this.props.onSelectedChange(e, newSelectedString);\n      }\n    }\n  }, {\n    key: \"renderHeaderCell\",\n    value: function renderHeaderCell(day) {\n      return React.createElement(\"th\", {\n        className: styles.header,\n        key: day.dayOfYear()\n      }, React.createElement(PresentationContent, null, day.format('dd')), React.createElement(ScreenReaderContent, null, day.format('dddd')));\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader(rendered) {\n      var _this3 = this;\n\n      var firstDay = rendered.clone().startOf('week');\n      var days = [0, 1, 2, 3, 4, 5, 6].map(function (n) {\n        return firstDay.clone().add(n, 'd');\n      });\n      return React.createElement(\"tr\", null, days.map(function (d) {\n        return _this3.renderHeaderCell(d);\n      }));\n    }\n  }, {\n    key: \"renderDayCell\",\n    value: function renderDayCell(day, today, selected, rendered, focused) {\n      var _classes,\n          _this4 = this;\n\n      var disabled = isDayDisabled(day, this.props.disabledDaysOfWeek, this.props.disabledDays);\n      var classes = (_classes = {}, _defineProperty(_classes, styles.cell, true), _defineProperty(_classes, styles.today, isSameDay(day, today)), _defineProperty(_classes, styles.selected, isSameDay(day, selected)), _defineProperty(_classes, styles.outside, !isSameMonth(day, rendered)), _defineProperty(_classes, styles.disabled, disabled), _classes);\n      var handleDateClick = disabled ? function (e) {\n        return null;\n      } : function (e) {\n        return _this4.handleDateClick(e, day.format());\n      };\n\n      var handleDateFocus = function handleDateFocus() {\n        return _this4.handleDateFocus(day.format());\n      };\n\n      return React.createElement(\"td\", {\n        key: day.dayOfYear()\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: classnames(classes),\n        tabIndex: isSameMonth(day, rendered) ? '0' : '-1',\n        ref: function ref(c) {\n          if (isSameDay(day, focused)) {\n            _this4._focusedDay = c;\n          }\n        },\n        onClick: handleDateClick,\n        onFocus: handleDateFocus,\n        disabled: disabled,\n        \"aria-current\": isSameDay(day, today) ? 'date' : 'false'\n      }, day.format('D')));\n    }\n  }, {\n    key: \"renderWeekRow\",\n    value: function renderWeekRow(firstDay, today, selected, rendered, focused) {\n      var _this5 = this;\n\n      return React.createElement(\"tr\", {\n        key: firstDay.week()\n      }, [0, 1, 2, 3, 4, 5, 6].map(function (n) {\n        return _this5.renderDayCell(firstDay.clone().add(n, 'd'), today, selected, rendered, focused);\n      }));\n    }\n  }, {\n    key: \"renderCalendar\",\n    value: function renderCalendar(today, selected, rendered, focused) {\n      var _this6 = this;\n\n      var firstDay = rendered.clone().startOf('month').startOf('week');\n\n      if (selected) {\n        // Copy selected value's time so we don't change it on the user\n        firstDay.hour(selected.hour()).minute(selected.minute()).second(selected.second()).millisecond(selected.millisecond());\n      }\n\n      return [0, 7, 14, 21, 28, 35].map(function (weekIncrement) {\n        var firstOfWeek = firstDay.clone().add(weekIncrement, 'd');\n        return _this6.renderWeekRow(firstOfWeek, today, selected, rendered, focused);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      /* eslint-disable jsx-a11y/no-static-element-interactions */\n      var today = this.parseDate(this.state.todayValue);\n      var selected = this.parseDate(this.state.selectedValue);\n      var rendered = this.parseDate(this.state.renderedValue);\n      var focused = this.parseDate(this.state.focusedValue);\n      return React.createElement(\"div\", {\n        className: styles.root\n      }, React.createElement(DatePickerPagination, {\n        previousLabel: this.props.previousLabel,\n        nextLabel: this.props.nextLabel,\n        onPrev: this.handlePaginationPrev,\n        onNext: this.handlePaginationNext\n      }, React.createElement(\"div\", {\n        className: styles.label\n      }, React.createElement(\"div\", null, rendered.format('MMMM')), React.createElement(\"div\", null, rendered.format('YYYY')))), React.createElement(\"div\", {\n        ref: function ref(c) {\n          _this7._calendar = c;\n        },\n        className: styles.calendar,\n        onKeyDown: this.handleCalendarKeyDown\n      }, React.createElement(\"table\", {\n        className: styles.table\n      }, React.createElement(\"thead\", null, this.renderHeader(rendered)), React.createElement(\"tbody\", null, this.renderCalendar(today, selected, rendered, focused)))));\n      /* eslint-enable jsx-a11y/no-static-element-interactions */\n    }\n  }, {\n    key: \"locale\",\n    get: function get() {\n      return this._locale(this.props, this.context);\n    }\n  }, {\n    key: \"timezone\",\n    get: function get() {\n      return this._timezone(this.props, this.context);\n    }\n  }, {\n    key: \"todayValue\",\n    get: function get() {\n      return this.state.todayValue;\n    }\n  }, {\n    key: \"selectedValue\",\n    get: function get() {\n      return this.state.selectedValue;\n    }\n  }, {\n    key: \"renderedValue\",\n    get: function get() {\n      return this.state.renderedValue;\n    }\n  }, {\n    key: \"focusedValue\",\n    get: function get() {\n      return this.state.focusedValue;\n    }\n  }]);\n\n  DatePicker.displayName = \"DatePicker\";\n  return DatePicker;\n}(Component), _class2.propTypes = {\n  /**\n    The label to put on the previous month button of the calendar.\n  **/\n  previousLabel: PropTypes.string.isRequired,\n\n  /**\n    The label to put on the next month button of the calendar.\n  **/\n  nextLabel: PropTypes.string.isRequired,\n\n  /**\n    An ISO 8601 formatted string. The selected value on initial render.\n  **/\n  defaultSelectedValue: I18nPropTypes.iso8601,\n\n  /**\n    An ISO 8601 formatted string. Must be accompanied by an onSelectedChange property.\n    Defaults to today's date.\n  **/\n  selectedValue: controllable(I18nPropTypes.iso8601, 'onSelectedChange', 'defaultSelectedValue'),\n\n  /**\n    An ISO 8601 formatted string. The rendered value on initial render.\n  **/\n  defaultRenderedValue: I18nPropTypes.iso8601,\n\n  /**\n    An ISO 8601 formatted string. Must be accompanied by an onRenderedChange property.\n    Defaults to today's date.\n  **/\n  renderedValue: controllable(I18nPropTypes.iso8601, 'onRenderedChange', 'defaultRenderedValue'),\n\n  /**\n    An ISO 8601 formatted string. Defaults to the current date. DatePicker doesn't\n    attempt to change this value. Defaults to today's date.\n  **/\n  todayValue: I18nPropTypes.iso8601,\n\n  /**\n    A standard language id\n  **/\n  locale: PropTypes.string,\n\n  /**\n    A timezone identifier in the format: Area/Location\n  **/\n  timezone: PropTypes.string,\n\n  /**\n    Called with the triggering event followed by an ISO 8601 formatted string.\n  **/\n  onSelectedChange: PropTypes.func,\n\n  /**\n    Called with the triggering event followed by an ISO 8601 formatted string.\n  **/\n  onRenderedChange: PropTypes.func,\n\n  /**\n    An array of weekdays that should be unselectable. Each day should be an integer\n    corresponding to the day of the week, where 0 = Sunday, 1 = Monday, 2 = Tuesday,\n    3 = Wednesday, 4 = Thursday, 5 = Friday, 6 = Saturday.\n  **/\n  disabledDaysOfWeek: PropTypes.array,\n\n  /**\n    An array of Date objects that should be unselectable or a callback function\n    that gets passed a date and should return a boolean indicating where it is\n    unselectable.\n  **/\n  disabledDays: PropTypes.oneOfType([PropTypes.array, PropTypes.func])\n}, _class2.defaultProps = {\n  disabledDaysOfWeek: [],\n  disabledDays: [],\n  onRenderedChange: void 0,\n  onSelectedChange: void 0,\n  locale: void 0,\n  timezone: void 0,\n  todayValue: void 0,\n  renderedValue: void 0,\n  defaultRenderedValue: void 0,\n  selectedValue: void 0,\n  defaultSelectedValue: void 0\n}, _class2.contextTypes = {\n  locale: PropTypes.string,\n  timezone: PropTypes.string\n}, _temp)) || _class) || _class);\nexport default DatePicker;\nexport { DatePicker, DatePickerPagination };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport keycode from 'keycode';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { DateTime, I18nPropTypes, Locale } from '@instructure/ui-i18n';\nimport { FormPropTypes } from '@instructure/ui-form-field';\nimport { LayoutPropTypes } from '@instructure/ui-layout';\nimport { Popover } from '@instructure/ui-overlays';\nimport { createChainedFunction } from '@instructure/ui-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { deprecated, omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { TextInput } from '@instructure/ui-text-input';\nimport { DatePicker } from './DatePicker';\nvar styles = {\n  componentId: 'fabZw',\n  template: function template(theme) {\n    return \"\\n\\n.fabZw_bGBk{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\");\n  },\n  'root': 'fabZw_bGBk'\n};\nimport theme from './theme';\nimport { isDayDisabled } from \"./utils/dateHelpers\";\n/**\n---\ncategory: components/deprecated\nid: DeprecatedDateInput\n---\n**/\n\nvar DateInput = (_dec = testable(), _dec2 = deprecated('7.0.0', null, 'Use DateInput from ui-date-input instead.'), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateInput, _Component);\n\n  function DateInput(props, context) {\n    var _this;\n\n    _classCallCheck(this, DateInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DateInput).call(this, props, context));\n\n    _this.textInputRef = function (node) {\n      _this._input = node;\n\n      if (node) {\n        _this.props.inputRef(node);\n      }\n    };\n\n    _this.handleTextInputChange = function (event) {\n      // because we're controlling the TextInput\n      _this.setState({\n        textInputValue: event.target.value,\n        showCalendar: false\n      });\n    };\n\n    _this.handleTextInputKeyDown = function (event) {\n      if (event.keyCode === keycode.codes.enter) {\n        event.preventDefault(); // prevent form submission\n\n        _this.acceptValue(event);\n      }\n    };\n\n    _this.handleTextInputClick = function (event) {\n      // accept the current value first so the calendar shows the correct selected date\n      _this.acceptValue(event);\n\n      _this.showCalendar();\n    };\n\n    _this.handleTextInputBlur = function (event) {\n      // when focus leaves the textInput field, replace its text with the properly formatted\n      // string for the date. This is handy because once the user types \"Nov\", we will parse that\n      // into November 1st of the current year.\n      _this.acceptValue(event);\n    };\n\n    _this.handleCalendarSelect = function (event, newValue) {\n      var parsedDate = _this.parseDate(newValue);\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(parsedDate.isValid(), \"[DateInput] Unexpected date format received from DatePicker: '\".concat(newValue, \"'.\"));\n\n      _this.acceptValue(event, newValue);\n\n      if (parsedDate.isValid()) {\n        _this.hideCalendar();\n      }\n    };\n\n    _this.handleCalendarDismiss = function () {\n      _this.hideCalendar();\n    };\n\n    var initialDateValue = props.dateValue || props.defaultDateValue || void 0;\n\n    var locale = _this._locale(props, context);\n\n    var timezone = _this._timezone(props, context);\n\n    var _parsedDate = _this._parseDate(initialDateValue, locale, timezone);\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(!initialDateValue || _parsedDate.isValid(), \"[DateInput] Unexpected date format received: '\".concat(initialDateValue, \"'.\"));\n\n    _this.state = _objectSpread({\n      showCalendar: false\n    }, _this.computeState(initialDateValue, _parsedDate, props));\n    delete _this._input;\n    return _this;\n  }\n\n  _createClass(DateInput, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var valueChanged = nextProps.dateValue !== this.props.dateValue || nextProps.defaultDateValue !== this.props.defaultDateValue;\n      var isUpdated = valueChanged || nextProps.locale !== this.props.locale || nextProps.timezone !== this.props.timezone;\n\n      if (isUpdated) {\n        this.setState(function (prevState) {\n          var value = valueChanged ? nextProps.dateValue != null ? nextProps.dateValue : nextProps.defaultDateValue || void 0 : prevState.acceptedValue;\n          var locale = nextProps.locale || _this2.locale;\n          var timezone = nextProps.timezone || _this2.timezone;\n\n          var parsedDate = _this2._parseDate(value, locale, timezone);\n\n          /*#__PURE__*/\n\n          /*#__PURE__*/\n          _error(!value || parsedDate.isValid(), \"[DateInput] Unexpected date format received: '\".concat(value, \"'.\"));\n\n          return _this2.computeState(value, parsedDate, nextProps, prevState);\n        });\n      }\n    }\n    /**\n    * focus the input element\n    */\n\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this._input.focus();\n    }\n  }, {\n    key: \"toggleCalendar\",\n    value: function toggleCalendar(showCalendar) {\n      this.setState({\n        showCalendar: showCalendar\n      });\n    }\n  }, {\n    key: \"showCalendar\",\n    value: function showCalendar() {\n      this.toggleCalendar(true);\n    }\n  }, {\n    key: \"hideCalendar\",\n    value: function hideCalendar() {\n      this.toggleCalendar(false);\n    }\n  }, {\n    key: \"acceptValue\",\n    value: function acceptValue(event, dateStr) {\n      var _this3 = this;\n\n      var rawAcceptedValue = dateStr || event.target.value;\n      this.setState(function (state, props) {\n        var parsedDate = _this3.parseDate(rawAcceptedValue).hour(state.hour).minute(state.minute).second(state.second).millisecond(state.millisecond);\n\n        var newState = _this3.computeState(rawAcceptedValue, parsedDate, props, state);\n\n        var acceptedValueChanged = newState.acceptedValue !== state.acceptedValue;\n        var validOrEmptyChanged = newState.isValidOrEmpty !== state.isValidOrEmpty;\n        var dateIsDisabled = parsedDate.isValid() ? isDayDisabled(parsedDate, _this3.props.disabledDaysOfWeek, _this3.props.disabledDays) : false;\n\n        if ((acceptedValueChanged || validOrEmptyChanged) && typeof _this3.props.onDateChange === 'function') {\n          _this3.props.onDateChange(event, // since the API here is ISO dates in, we should pass an ISO date back in the handler\n          newState.acceptedValue, newState.textInputValue, !newState.isValidOrEmpty, dateIsDisabled);\n        }\n\n        return newState;\n      });\n    }\n  }, {\n    key: \"_parseDate\",\n    value: function _parseDate(dateStr, locale, timezone) {\n      return DateTime.parse(dateStr, locale, timezone);\n    }\n  }, {\n    key: \"_timezone\",\n    value: function _timezone(props, context) {\n      return props.timezone || context.timezone || DateTime.browserTimeZone();\n    }\n  }, {\n    key: \"_locale\",\n    value: function _locale(props, context) {\n      return props.locale || context.locale || Locale.browserLocale();\n    }\n  }, {\n    key: \"parseDate\",\n    value: function parseDate(dateStr) {\n      return this._parseDate(dateStr, this.locale, this.timezone);\n    }\n  }, {\n    key: \"computeState\",\n    value: function computeState(rawValue, parsedDate, props, state) {\n      if (parsedDate.isValid()) {\n        return {\n          isValidOrEmpty: true,\n          acceptedValue: parsedDate.toISOString(true),\n          textInputValue: parsedDate.format(props.format),\n          hour: parsedDate.hour(),\n          minute: parsedDate.minute(),\n          second: parsedDate.second(),\n          millisecond: parsedDate.millisecond()\n        };\n      } else {\n        var textInputValue = state ? state.textInputValue : '';\n\n        if (rawValue === '') {\n          textInputValue = '';\n        }\n\n        return {\n          isValidOrEmpty: !rawValue,\n          acceptedValue: void 0,\n          textInputValue: textInputValue || '',\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ignoredProps = ['type', 'messages', 'defaultValue', 'value'];\n      var textInputProps = pickProps(this.props, omitProps(TextInput.propTypes, {}, ignoredProps));\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          onKeyDown = _this$props.onKeyDown,\n          onClick = _this$props.onClick,\n          onBlur = _this$props.onBlur; // eslint-disable-line react/prop-types\n\n      return React.createElement(\"span\", null, React.createElement(TextInput, Object.assign({}, textInputProps, {\n        value: this.state.textInputValue,\n        messages: this.messages,\n        onChange: createChainedFunction(onChange, this.handleTextInputChange),\n        onKeyDown: createChainedFunction(onKeyDown, this.handleTextInputKeyDown),\n        onClick: createChainedFunction(onClick, this.handleTextInputClick),\n        onBlur: createChainedFunction(onBlur, this.handleTextInputBlur),\n        inputRef: this.textInputRef\n      })), React.createElement(Popover, {\n        placement: this.props.placement,\n        show: this.state.showCalendar,\n        onDismiss: this.handleCalendarDismiss,\n        positionTarget: this._input\n      }, React.createElement(Popover.Content, null, React.createElement(DatePicker, {\n        todayValue: this.props.todayValue,\n        previousLabel: this.props.previousLabel,\n        nextLabel: this.props.nextLabel,\n        selectedValue: this.calendarSelectedValue,\n        locale: this.locale,\n        timezone: this.timezone,\n        onSelectedChange: this.handleCalendarSelect,\n        disabledDaysOfWeek: this.props.disabledDaysOfWeek,\n        disabledDays: this.props.disabledDays,\n        ref: this.props.datePickerRef\n      }))));\n    }\n  }, {\n    key: \"hasMessages\",\n    get: function get() {\n      return this.messages && this.messages.length > 0;\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.messages && this.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      // either the input has focus, or the calendar is open, in which case\n      // it has focus\n      return isActiveElement(this._input) || this.state.showCalendar;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._input.value;\n    }\n  }, {\n    key: \"calendarSelectedValue\",\n    get: function get() {\n      var acceptedValue = this.state.acceptedValue;\n      var value = acceptedValue ? this.parseDate(acceptedValue) : void 0;\n\n      if (!value || !value.isValid()) {\n        value = DateTime.now(this.locale, this.timezone);\n      }\n\n      return value.toISOString(true);\n    }\n  }, {\n    key: \"locale\",\n    get: function get() {\n      return this._locale(this.props, this.context);\n    }\n  }, {\n    key: \"timezone\",\n    get: function get() {\n      return this._timezone(this.props, this.context);\n    }\n  }, {\n    key: \"messages\",\n    get: function get() {\n      if (!this.props.validationFeedback || !this.state.textInputValue) {\n        return this.props.messages;\n      }\n\n      var messages = [];\n      var parsedDate = this.parseDate(this.state.textInputValue);\n      var isValid = parsedDate.isValid();\n\n      if (isValid && isDayDisabled(parsedDate, this.props.disabledDaysOfWeek, this.props.disabledDays)) {\n        var disabledDateMessage = this.props.disabledDateMessage;\n\n        if (typeof disabledDateMessage === 'function') {\n          disabledDateMessage = disabledDateMessage(this.state.textInputValue);\n        }\n\n        messages.push({\n          text: disabledDateMessage || \"\".concat(parsedDate.format(this.props.format), \" is disabled\"),\n          type: 'error'\n        });\n      } else if (isValid) {\n        messages.push({\n          text: parsedDate.format(this.props.format),\n          type: 'success'\n        });\n      } else {\n        var invalidDateMessage = this.props.invalidDateMessage;\n\n        if (typeof invalidDateMessage === 'function') {\n          invalidDateMessage = invalidDateMessage(this.state.textInputValue);\n        }\n\n        messages.push({\n          text: invalidDateMessage || parsedDate.format(this.props.format),\n          type: 'error'\n        });\n      }\n\n      return messages.concat(this.props.messages);\n    }\n  }]);\n\n  DateInput.displayName = \"DateInput\";\n  return DateInput;\n}(Component), _class2.propTypes = {\n  /**\n    The label to put on the previous month button of the calendar.\n  **/\n  previousLabel: PropTypes.string.isRequired,\n\n  /**\n    The label to put on the next month button of the calendar.\n  **/\n  nextLabel: PropTypes.string.isRequired,\n\n  /**\n   * The message that's used when the data is invalid.\n   */\n  invalidDateMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n\n  /**\n   * The message that's used when a date is disabled\n   */\n  disabledDateMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Where the calendar popover should be placed.\n   */\n  placement: LayoutPropTypes.placement,\n\n  /**\n    This display to show in the input when a date is selected.\n    Valid formats are compatible with\n    [moment.js formats](https://momentjs.com/docs/#/displaying/format/),\n    including localized formats.\n  **/\n  format: PropTypes.string,\n  // display format\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n    A standard language id\n  **/\n  locale: PropTypes.string,\n\n  /**\n    A timezone identifier in the format: Area/Location\n  **/\n  timezone: PropTypes.string,\n\n  /**\n    An ISO 8601 formatted string. The initial date value to display on render.\n    It should only be used when using this component as an uncontrolled input.\n  **/\n  defaultDateValue: I18nPropTypes.iso8601,\n\n  /**\n    Called when the date value of the input has changed.\n    The parameters are the triggering event, new date value in ISO 8601 format,\n    the raw user input, if the conversion from raw to a date was successful, and\n    if the selected date is disabled.\n  **/\n  onDateChange: PropTypes.func,\n\n  /**\n  * the selected value (must be accompanied by an `onDateChange` prop)\n  */\n  dateValue: controllable(I18nPropTypes.iso8601, 'onDateChange', 'defaultDateValue'),\n\n  /**\n    Whether to display validation feedback while typing.\n  **/\n  validationFeedback: PropTypes.bool,\n  datePickerRef: PropTypes.func,\n  inputRef: PropTypes.func,\n\n  /**\n    An ISO 8601 formatted string. Defaults to the current date.\n  **/\n  todayValue: I18nPropTypes.iso8601,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n  width: PropTypes.string,\n  inline: PropTypes.bool,\n\n  /**\n  * Html placeholder text to display when the input has no value. This should be hint text, not a label\n  * replacement.\n  */\n  placeholder: PropTypes.string,\n\n  /**\n   * Whether or not to disable the input\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n  required: PropTypes.bool,\n\n  /**\n    An array of weekdays that should be unselectable. Each day should be an integer\n    corresponding to the day of the week, where 0 = Sunday, 1 = Monday, 2 = Tuesday,\n    3 = Wednesday, 4 = Thursday, 5 = Friday, 6 = Saturday.\n  **/\n  disabledDaysOfWeek: PropTypes.array,\n\n  /**\n    An array of Date objects that should be unselectable or a callback function\n    that gets passed a date and should return a boolean indicating where it is\n    unselectable.\n  **/\n  disabledDays: PropTypes.oneOfType([PropTypes.array, PropTypes.func])\n}, _class2.defaultProps = {\n  disabledDateMessage: void 0,\n  placement: 'bottom center',\n  messages: [],\n  format: 'LL',\n  validationFeedback: true,\n  onDateChange: function onDateChange(e, isoValue, rawValue, rawConversionFailed, dateIsDisabled) {},\n  datePickerRef: function datePickerRef(el) {},\n  inputRef: function inputRef(el) {},\n  invalidDateMessage: function invalidDateMessage(textInputValue) {},\n  required: false,\n  inline: false,\n  size: 'medium',\n  disabled: false,\n  readOnly: false,\n  layout: 'stacked',\n  disabledDaysOfWeek: [],\n  disabledDays: [],\n  placeholder: void 0,\n  width: void 0,\n  todayValue: void 0,\n  dateValue: void 0,\n  defaultDateValue: void 0,\n  timezone: void 0,\n  locale: void 0\n}, _class2.contextTypes = {\n  locale: PropTypes.string,\n  timezone: PropTypes.string\n}, _temp)) || _class) || _class) || _class);\nexport default DateInput;\nexport { DateInput, DatePicker };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp, _dec2, _class3, _class4, _temp2, _dec3, _dec4, _dec5, _class5, _class6, _temp3;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { element } from '@instructure/ui-prop-types';\nimport { ComponentIdentifier, deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { Position as UIPosition, PositionPropTypes } from '@instructure/ui-position';\nvar styles = {\n  componentId: 'bgLNT',\n  template: function template(theme) {\n    return \"\\n\\n.bgLNT_bGBk{box-sizing:border-box;z-index:\".concat(theme.zIndex || 'inherit', \"}\");\n  },\n  'root': 'bgLNT_bGBk'\n};\nimport theme from './theme';\nvar PositionTarget = (_dec = testable(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_ComponentIdentifier) {\n  _inherits(PositionTarget, _ComponentIdentifier);\n\n  function PositionTarget() {\n    _classCallCheck(this, PositionTarget);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PositionTarget).apply(this, arguments));\n  }\n\n  return PositionTarget;\n}(ComponentIdentifier), _class2.displayName = 'PositionTarget', _class2.locatorAttribute = 'data-position-target', _temp)) || _class);\nvar PositionContent = (_dec2 = testable(), _dec2(_class3 = (_temp2 = _class4 =\n/*#__PURE__*/\nfunction (_ComponentIdentifier2) {\n  _inherits(PositionContent, _ComponentIdentifier2);\n\n  function PositionContent() {\n    _classCallCheck(this, PositionContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PositionContent).apply(this, arguments));\n  }\n\n  return PositionContent;\n}(ComponentIdentifier), _class4.displayName = 'PositionContent', _class4.propTypes = {\n  children: PropTypes.node,\n  placement: PositionPropTypes.placement\n}, _class4.locatorAttribute = 'data-position-content', _temp2)) || _class3);\n/**\n---\ncategory: components/utilities/deprecated\nid: DeprecatedPosition\n---\n**/\n\nvar Position = (_dec3 = deprecated('7.0.0', null, 'Use @instructure/ui-position instead'), _dec4 = testable(), _dec5 = themeable(theme, styles), _dec3(_class5 = _dec4(_class5 = _dec5(_class5 = (_temp3 = _class6 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Position, _Component);\n\n  function Position() {\n    _classCallCheck(this, Position);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Position).apply(this, arguments));\n  }\n\n  _createClass(Position, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          id = _this$props.id,\n          trackPosition = _this$props.trackPosition,\n          placement = _this$props.placement,\n          offsetX = _this$props.offsetX,\n          offsetY = _this$props.offsetY,\n          mountNode = _this$props.mountNode,\n          target = _this$props.target,\n          insertAt = _this$props.insertAt,\n          over = _this$props.over,\n          onPositioned = _this$props.onPositioned,\n          onPositionChanged = _this$props.onPositionChanged,\n          constrain = _this$props.constrain,\n          passthroughProps = _objectWithoutProperties(_this$props, [\"children\", \"id\", \"trackPosition\", \"placement\", \"offsetX\", \"offsetY\", \"mountNode\", \"target\", \"insertAt\", \"over\", \"onPositioned\", \"onPositionChanged\", \"constrain\"]);\n\n      var renderTarget = ComponentIdentifier.pick(Position.Target, children);\n      var content = ComponentIdentifier.pick(Position.Content, children);\n      return React.createElement(UIPosition, Object.assign({}, passthroughProps, {\n        target: target,\n        renderTarget: renderTarget,\n        id: id,\n        shouldTrackPosition: trackPosition,\n        placement: placement,\n        offsetX: offsetX,\n        offsetY: offsetY,\n        mountNode: mountNode,\n        insertAt: insertAt,\n        constrain: constrain,\n        shouldPositionOverTarget: over,\n        onPositioned: onPositioned,\n        onPositionChanged: onPositionChanged\n      }), content);\n    }\n  }]);\n\n  Position.displayName = \"Position\";\n  return Position;\n}(Component), _class6.Target = PositionTarget, _class6.Content = PositionContent, _class6.locatorAttribute = 'data-position', _class6.propTypes = {\n  /**\n   * The children to be rendered within the `<Position />`\n   */\n  children: PropTypes.node,\n\n  /**\n   * The target to be used when not using `<PositionTarget />`\n   */\n  target: PropTypes.oneOfType([element, PropTypes.func]),\n\n  /**\n   * Whether or not you want the content to position over the `<PositionTarget />`\n   */\n  over: PropTypes.bool,\n\n  /**\n   * The placement of the content in relation to the trigger\n   */\n  placement: PositionPropTypes.placement,\n\n  /**\n   * The horizontal offset for the positioned content\n   */\n  offsetX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * The vertical offset for the positioned content\n   */\n  offsetY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Callback fired when the position changes\n   */\n  onPositionChanged: PropTypes.func,\n\n  /**\n   * Callback fired when `<Position />` content has been mounted and is initially positioned\n   */\n  onPositioned: PropTypes.func,\n\n  /**\n   * Whether or not position of the target should be tracked or just set statically on render\n   */\n  trackPosition: PropTypes.bool,\n\n  /**\n   * An element or a function returning an element to use as the mount node\n   * for the `<Position />` (defaults to `document.body`)\n   */\n  mountNode: PositionPropTypes.mountNode,\n\n  /**\n   * Insert the element at the 'top' of the mountNode or at the 'bottom'\n   */\n  insertAt: PropTypes.oneOf(['bottom', 'top']),\n\n  /**\n   * The parent in which to constrain the placement.\n   * One of: 'window', 'scroll-parent', 'parent', 'none', an element,\n   * or a function returning an element\n   */\n  constrain: PositionPropTypes.constrain,\n  id: PropTypes.string\n}, _class6.defaultProps = {\n  trackPosition: true,\n  placement: 'bottom center',\n  offsetX: 0,\n  offsetY: 0,\n  mountNode: null,\n  target: null,\n  insertAt: 'bottom',\n  over: false,\n  onPositioned: function onPositioned(position) {},\n  onPositionChanged: function onPositionChanged(position) {},\n  constrain: 'window',\n  children: null,\n  id: void 0\n}, _temp3)) || _class5) || _class5) || _class5);\nexport default Position;\nexport { Position, PositionTarget, PositionContent };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var stacking = _ref.stacking;\n  return {\n    zIndex: stacking.topmost\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M.153 526.146l92.168-92.299 867.766 867.636 867.636-867.636 92.43 92.3-960.066 959.934z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenDownLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenDownLine, _Component);\n\n  function IconArrowOpenDownLine() {\n    _classCallCheck(this, IconArrowOpenDownLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenDownLine).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenDownLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenDown\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenDownLine.displayName = \"IconArrowOpenDownLine\";\n  return IconArrowOpenDownLine;\n}(Component);\n\nIconArrowOpenDownLine.glyphName = 'arrow-open-down';\nIconArrowOpenDownLine.variant = 'Line';\nIconArrowOpenDownLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenDownLine;\nexport { IconArrowOpenDownLine };","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { View } from '@instructure/ui-view';\nimport { Spinner } from '@instructure/ui-spinner';\nimport getOptionId from '../utils/getOptionId';\nvar styles = {\n  componentId: 'eZsEe',\n  template: function template(theme) {\n    return \"\\n\\n.eZsEe_dKpE{box-sizing:border-box;list-style-type:none;margin:0;overflow:auto;padding:0}\\n\\n.eZsEe_ecYO{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;align-items:center;background:\".concat(theme.background || 'inherit', \";cursor:pointer;display:flex;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.mediumFontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";outline:none;padding:\").concat(theme.padding || 'inherit', \";transition:background 0.2s;user-select:none}\\n\\n.eZsEe_ecYO.eZsEe_doqw{font-size:\").concat(theme.smallFontSize || 'inherit', \"}\\n\\n.eZsEe_ecYO.eZsEe_ycrn{font-size:\").concat(theme.mediumFontSize || 'inherit', \"}\\n\\n.eZsEe_ecYO.eZsEe_cMDj{font-size:\").concat(theme.largeFontSize || 'inherit', \"}\\n\\n.eZsEe_ecYO.eZsEe_cNcI:not(.eZsEe_fckf){background:\").concat(theme.highlightedBackground || 'inherit', \"}\\n\\n.eZsEe_ecYO.eZsEe_fGhm:not(.eZsEe_fckf){background:\").concat(theme.activeBackground || 'inherit', \"}\\n\\n.eZsEe_ecYO.eZsEe_ywdX:not(.eZsEe_fckf){cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.eZsEe_ecYO.eZsEe_fckf{cursor:not-allowed;font-weight:\").concat(theme.groupFontWeight || 'inherit', \";pointer-events:none}\\n\\n.eZsEe_ecYO.eZsEe_dXHE{-webkit-padding-start:\").concat(theme.groupPadding || 'inherit', \";padding-inline-start:\").concat(theme.groupPadding || 'inherit', \"}\\n\\n[dir=ltr] .eZsEe_ecYO.eZsEe_dXHE{padding-left:\").concat(theme.groupPadding || 'inherit', \"}\\n\\n[dir=rtl] .eZsEe_ecYO.eZsEe_dXHE{padding-right:\").concat(theme.groupPadding || 'inherit', \"}\\n\\n.eZsEe_blJt{color:\").concat(theme.labelColor || 'inherit', \"}\\n\\n.eZsEe_cNcI:not(.eZsEe_fckf) .eZsEe_blJt,.eZsEe_fGhm:not(.eZsEe_fckf) .eZsEe_blJt{color:\").concat(theme.activeLabelColor || 'inherit', \"}\\n\\n.eZsEe_dnnz{-webkit-margin-end:\").concat(theme.iconPaddingEnd || 'inherit', \";-webkit-margin-start:0;margin-inline-end:\").concat(theme.iconPaddingEnd || 'inherit', \";margin-inline-start:0}\\n\\n[dir=ltr] .eZsEe_dnnz{margin-left:0;margin-right:\").concat(theme.iconPaddingEnd || 'inherit', \"}\\n\\n[dir=rtl] .eZsEe_dnnz{margin-left:\").concat(theme.iconPaddingEnd || 'inherit', \";margin-right:0}\\n\\n.eZsEe_crZr{z-index:\").concat(theme.zIndex || 'inherit', \"}\");\n  },\n  'optionsList': 'eZsEe_dKpE',\n  'option': 'eZsEe_ecYO',\n  'small': 'eZsEe_doqw',\n  'medium': 'eZsEe_ycrn',\n  'large': 'eZsEe_cMDj',\n  'highlighted': 'eZsEe_cNcI',\n  'groupLabel': 'eZsEe_fckf',\n  'selected': 'eZsEe_fGhm',\n  'disabled': 'eZsEe_ywdX',\n  'groupItem': 'eZsEe_dXHE',\n  'label': 'eZsEe_blJt',\n  'icon': 'eZsEe_dnnz',\n  'container': 'eZsEe_crZr'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedSelect\n---\n**/\n\nvar SelectOptionsList = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SelectOptionsList, _Component);\n\n  function SelectOptionsList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SelectOptionsList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SelectOptionsList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.optionHeight = 5;\n\n    _this.handleClick = function (event, option) {\n      if (option.disabled || option.groupLabel) {\n        event.preventDefault();\n        return;\n      }\n\n      _this.props.onSelect(event, option);\n    };\n\n    return _this;\n  }\n\n  _createClass(SelectOptionsList, [{\n    key: \"renderStaticOption\",\n    value: function renderStaticOption(message) {\n      var _this$props = this.props,\n          size = _this$props.size,\n          onStaticClick = _this$props.onStaticClick;\n      return React.createElement(\"li\", {\n        // eslint-disable-line\n        tabIndex: \"-1\",\n        role: \"option\",\n        \"aria-disabled\": \"true\",\n        \"aria-selected\": \"false\",\n        className: classnames(styles.option, _defineProperty({}, styles[size], size)),\n        onClick: onStaticClick\n      }, React.createElement(\"span\", {\n        className: styles.label\n      }, message));\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon(icon) {\n      if (typeof icon !== 'undefined' && icon !== null) {\n        var Icon = icon;\n        return React.createElement(\"span\", {\n          className: styles.icon\n        }, React.createElement(Icon, null));\n      }\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          options = _this$props2.options,\n          optionsId = _this$props2.optionsId,\n          loadingText = _this$props2.loadingText,\n          emptyOption = _this$props2.emptyOption,\n          selectedOption = _this$props2.selectedOption,\n          onHighlightOption = _this$props2.onHighlightOption,\n          size = _this$props2.size,\n          highlightedIndex = _this$props2.highlightedIndex;\n\n      if (loadingText) {\n        return this.renderStaticOption(React.createElement(Spinner, {\n          size: \"x-small\",\n          renderTitle: loadingText\n        }));\n      }\n\n      if (options.length === 0) {\n        return this.renderStaticOption(emptyOption);\n      }\n\n      return options.map(function (option, index) {\n        var _classnames2;\n\n        var children = option.children,\n            id = option.id,\n            icon = option.icon,\n            groupLabel = option.groupLabel,\n            groupItem = option.groupItem;\n        var selected = getOptionId(selectedOption) === id;\n        var disabled = option.disabled || groupLabel;\n        var handlers = {\n          onMouseEnter: function onMouseEnter() {\n            return onHighlightOption(index);\n          },\n          onClick: function onClick(event) {\n            return _this2.handleClick(event, option);\n          }\n        };\n        /* eslint-disable jsx-a11y/role-has-required-aria-props */\n\n        return React.createElement(\"li\", Object.assign({}, handlers, {\n          role: \"option\",\n          key: id,\n          id: \"\".concat(optionsId, \"_\").concat(id),\n          className: classnames(styles.option, (_classnames2 = {}, _defineProperty(_classnames2, styles.selected, selected), _defineProperty(_classnames2, styles[size], size), _defineProperty(_classnames2, styles.highlighted, index === highlightedIndex), _defineProperty(_classnames2, styles.disabled, disabled), _defineProperty(_classnames2, styles.groupLabel, groupLabel), _defineProperty(_classnames2, styles.groupItem, groupItem), _classnames2)),\n          tabIndex: \"-1\",\n          \"aria-selected\": selected ? 'true' : 'false',\n          \"aria-disabled\": disabled ? 'true' : null\n        }), React.createElement(\"span\", {\n          className: styles.label\n        }, icon && _this2.renderIcon(icon), children));\n        /* eslint-enable jsx-a11y/role-has-required-aria-props */\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          optionsId = _this$props3.optionsId,\n          menuRef = _this$props3.menuRef,\n          visibleOptionsCount = _this$props3.visibleOptionsCount,\n          maxWidth = _this$props3.maxWidth,\n          props = _objectWithoutProperties(_this$props3, [\"optionsId\", \"menuRef\", \"visibleOptionsCount\", \"maxWidth\"]);\n\n      return React.createElement(View, {\n        style: props.style // must pass the style prop for positioning\n        ,\n        className: styles.container,\n        maxWidth: maxWidth || 0,\n        borderWidth: \"small\",\n        borderRadius: \"medium\",\n        shadow: \"resting\",\n        background: \"primary\"\n      }, !!this.props.expanded && React.createElement(\"ul\", {\n        className: styles.optionsList,\n        id: optionsId,\n        onKeyDown: this.props.onKeyDown,\n        onKeyUp: this.props.onKeyUp,\n        onBlur: this.props.onBlur,\n        onClick: function onClick(event) {\n          // prevent synthetic event from firing on the document\n          // when select is in a dialog, this event could inadvertently close the dialog\n          event.stopPropagation();\n          event.nativeEvent.stopImmediatePropagation();\n        },\n        tabIndex: \"-1\",\n        ref: function ref(el) {\n          menuRef(el);\n\n          if (el) {\n            // store the height of the   options\n            _this3.optionHeight = el.querySelector('li').clientHeight;\n          }\n        },\n        role: \"listbox\",\n        style: {\n          maxHeight: \"\".concat(visibleOptionsCount * this.optionHeight, \"px\")\n        }\n      }, this.renderOptions()));\n    }\n  }]);\n\n  SelectOptionsList.displayName = \"SelectOptionsList\";\n  return SelectOptionsList;\n}(Component), _class2.propTypes = {\n  /**\n  * the selected value\n  */\n  selectedOption: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })]),\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })),\n\n  /**\n   * id for options list element\n   */\n  optionsId: PropTypes.string,\n\n  /**\n  * a function that provides a reference to the internal options list element\n  */\n  menuRef: PropTypes.func,\n\n  /**\n   * The amount of options that are visible without scrolling\n   */\n  visibleOptionsCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Give the Spinner a title to be read by screenreaders. Disables menu\n   * interaction and renders a Spinner in its place.\n   */\n  loadingText: PropTypes.string,\n\n  /**\n   * The menu content to render when no options are present or are filtered away\n   */\n  emptyOption: PropTypes.node,\n\n  /**\n   * Callback fired when an option gets highlighted\n   */\n  onHighlightOption: PropTypes.func,\n\n  /**\n   * Callback fired on the option selection\n   */\n  onSelect: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Options dropdown can be wider than input if maxWidth is provided\n   */\n  maxWidth: PropTypes.string,\n\n  /**\n   * Callback fired when the empty option is selected by click\n   */\n  onStaticClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  highlightedIndex: PropTypes.number,\n  expanded: PropTypes.bool,\n  disabled: PropTypes.bool\n}, _class2.defaultProps = {\n  selectedOption: null,\n  options: [],\n  visibleOptionsCount: 8,\n  loadingText: null,\n  emptyOption: '---',\n  size: 'medium',\n  expanded: false,\n  menuRef: function menuRef(el) {},\n  onHighlightOption: function onHighlightOption(event) {},\n  onSelect: function onSelect(event, selectedOption) {},\n  onStaticClick: function onStaticClick(event) {},\n  disabled: false,\n  optionsId: void 0,\n  highlightedIndex: void 0,\n  maxWidth: void 0,\n  onKeyDown: void 0,\n  onKeyUp: void 0,\n  onBlur: void 0\n}, _temp)) || _class) || _class);\nexport default SelectOptionsList;\nexport { SelectOptionsList };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n* ---\n* parent: DeprecatedSelect\n* private: true\n* ---\n*/\nexport default function getOptionId(option) {\n  if (typeof option === 'string') {\n    return option;\n  }\n\n  if (!option || typeof option !== 'object') {\n    return null;\n  }\n\n  if (typeof option.id !== 'undefined' && option.id !== null) {\n    return option.id;\n  }\n\n  if (typeof option.value !== 'undefined' && option.value !== null) {\n    return option.value;\n  }\n\n  return null;\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      stacking = _ref.stacking,\n      forms = _ref.forms;\n  return {\n    zIndex: stacking.topmost,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    groupFontWeight: typography.fontWeightBold,\n    lineHeight: typography.lineHeightCondensed,\n    labelColor: colors.textDarkest,\n    background: colors.backgroundLightest,\n    highlightedBackground: colors.backgroundBrand,\n    activeBackground: colors.backgroundDark,\n    activeLabelColor: colors.textLightest,\n    padding: \"\".concat(spacing.xSmall, \" \").concat(spacing.small),\n    iconPaddingEnd: spacing.small,\n    groupPadding: spacing.medium,\n    smallFontSize: typography.fontSizeSmall,\n    mediumFontSize: typography.fontSizeMedium,\n    largeFontSize: typography.fontSizeLarge\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    labelColor: variables['ic-brand-font-color-dark'],\n    highlightedBackground: variables['ic-brand-primary']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { Dialog } from '@instructure/ui-dialog';\nimport { hasVisibleChildren } from '@instructure/ui-a11y-utils';\nimport { ScreenReaderContent } from '@instructure/ui-a11y-content';\nimport { FormField, FormFieldLayout, FormPropTypes } from '@instructure/ui-form-field';\nimport { LayoutPropTypes, Position } from '@instructure/ui-layout';\nimport { containsActiveElement, findDOMNode, isActiveElement } from '@instructure/ui-dom-utils';\nimport { createChainedFunction } from '@instructure/ui-utils';\nimport { uid } from '@instructure/uid';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { IconArrowOpenDownLine } from '@instructure/ui-icons';\nimport { SelectOptionsList } from '../SelectOptionsList';\nimport getOptionId from '../utils/getOptionId';\nvar styles = {\n  componentId: 'bgKsu',\n  template: function template(theme) {\n    return \"\\n\\n.bgKsu_engK{display:block;position:relative}\\n\\n.bgKsu_engK:before{border:\".concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.25rem;box-sizing:border-box;content:\\\"\\\";display:block;left:-0.25rem;opacity:0;pointer-events:none;position:absolute;right:-0.25rem;top:-0.25rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.bgKsu_engK.bgKsu_eWbJ:before{opacity:1;transform:scale(1)}\\n\\n.bgKsu_engK.bgKsu_eWbJ.bgKsu_fszt:before{border-color:\").concat(theme.errorOutlineColor || 'inherit', \"}\\n\\n.bgKsu_dtDb{background:\").concat(theme.background || 'inherit', \";border:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";box-sizing:border-box;display:flex;flex-wrap:wrap;font-family:\").concat(theme.fontFamily || 'inherit', \";margin:0;min-width:0.0625rem;overflow:hidden}\\n\\n.bgKsu_dtDb.bgKsu_fszt,.bgKsu_dtDb.bgKsu_fszt.bgKsu_eWbJ{border-color:\").concat(theme.errorBorderColor || 'inherit', \"}\\n\\n.bgKsu_dtDb.bgKsu_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.bgKsu_dtDb.bgKsu_doqw{font-size:\").concat(theme.smallFontSize || 'inherit', \"}\\n\\n.bgKsu_dtDb.bgKsu_ycrn{font-size:\").concat(theme.mediumFontSize || 'inherit', \"}\\n\\n.bgKsu_dtDb.bgKsu_cMDj{font-size:\").concat(theme.largeFontSize || 'inherit', \"}\\n\\n.bgKsu_ccod{display:flex;flex:1 1 auto;position:relative}\\n\\n.bgKsu_cwos,input[type].bgKsu_cwos{-moz-appearance:none;-moz-osx-font-smoothing:grayscale;-webkit-appearance:none;-webkit-font-smoothing:antialiased;all:initial;animation:none 0s ease 0s 1 normal none running;appearance:none;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:#000;color:\").concat(theme.color || 'inherit', \";column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;cursor:default;direction:ltr;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-family:inherit;font-size:medium;font-size:inherit;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;font-weight:\").concat(theme.fontWeight || 'inherit', \";height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;line-height:1;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding:0 \").concat(theme.inputPadding || 'inherit', \";page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:start;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;width:100%;word-spacing:normal;z-index:auto}\\n\\n[dir=ltr] .bgKsu_cwos,[dir=ltr] input[type].bgKsu_cwos{text-align:left}\\n\\n[dir=rtl] .bgKsu_cwos,[dir=rtl] input[type].bgKsu_cwos{text-align:right}\\n\\n.bgKsu_cwos::-ms-clear,input[type].bgKsu_cwos::-ms-clear{display:none}\\n\\n.bgKsu_cwos.bgKsu_bfxl,input[type].bgKsu_cwos.bgKsu_bfxl{cursor:text}\\n\\n.bgKsu_cwos[autocomplete=off]::-webkit-contacts-auto-fill-button,input[type].bgKsu_cwos[autocomplete=off]::-webkit-contacts-auto-fill-button{display:none!important}\\n\\n.bgKsu_cwos:-ms-input-placeholder,input[type].bgKsu_cwos:-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.bgKsu_cwos::-ms-input-placeholder,input[type].bgKsu_cwos::-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.bgKsu_cwos::placeholder,input[type].bgKsu_cwos::placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.bgKsu_doqw .bgKsu_cwos,.bgKsu_doqw input[type].bgKsu_cwos{min-height:calc(\").concat(theme.smallHeight || 'inherit', \" - 0.125rem)}\\n\\n.bgKsu_ycrn .bgKsu_cwos,.bgKsu_ycrn input[type].bgKsu_cwos{min-height:calc(\").concat(theme.mediumHeight || 'inherit', \" - 0.125rem)}\\n\\n.bgKsu_cMDj .bgKsu_cwos,.bgKsu_cMDj input[type].bgKsu_cwos{min-height:calc(\").concat(theme.largeHeight || 'inherit', \" - 0.125rem)}\\n\\n.bgKsu_ewVP{-webkit-margin-end:0;-webkit-margin-start:\").concat(theme.inputPadding || 'inherit', \";align-items:center;display:flex;height:100%;margin-inline-end:0;margin-inline-start:\").concat(theme.inputPadding || 'inherit', \"}\\n\\n[dir=ltr] .bgKsu_ewVP{margin-left:\").concat(theme.inputPadding || 'inherit', \";margin-right:0}\\n\\n[dir=rtl] .bgKsu_ewVP{margin-left:0;margin-right:\").concat(theme.inputPadding || 'inherit', \"}\\n\\n.bgKsu_dnnz{-webkit-margin-end:\").concat(theme.inputPadding || 'inherit', \";-webkit-margin-start:0;align-self:center;display:flex;fill:\").concat(theme.iconColor || 'inherit', \";flex-shrink:0;margin-inline-end:\").concat(theme.inputPadding || 'inherit', \";margin-inline-start:0;pointer-events:none}\\n\\n[dir=ltr] .bgKsu_dnnz{margin-left:0;margin-right:\").concat(theme.inputPadding || 'inherit', \"}\\n\\n[dir=rtl] .bgKsu_dnnz{margin-left:\").concat(theme.inputPadding || 'inherit', \";margin-right:0}\\n\\n.bgKsu_blJt{all:initial;animation:none 0s ease 0s 1 normal none running;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-family:inherit;font-size:medium;font-size:inherit;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;font-weight:inherit;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;line-height:inherit;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:inherit;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto}\\n\\n[dir=ltr] .bgKsu_blJt,[dir=rtl] .bgKsu_blJt{text-align:inherit}\");\n  },\n  'inputWidth': 'bgKsu_engK',\n  'focus': 'bgKsu_eWbJ',\n  'invalid': 'bgKsu_fszt',\n  'inputContainer': 'bgKsu_dtDb',\n  'disabled': 'bgKsu_ywdX',\n  'small': 'bgKsu_doqw',\n  'medium': 'bgKsu_ycrn',\n  'large': 'bgKsu_cMDj',\n  'inputLayout': 'bgKsu_ccod',\n  'input': 'bgKsu_cwos',\n  'editable': 'bgKsu_bfxl',\n  'inputIcon': 'bgKsu_ewVP',\n  'icon': 'bgKsu_dnnz',\n  'label': 'bgKsu_blJt'\n};\nimport theme from './theme';\n/**\n---\nparent: DeprecatedSelect\n---\n**/\n\nvar SelectField = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SelectField, _Component);\n\n  function SelectField(props) {\n    var _this;\n\n    _classCallCheck(this, SelectField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectField).call(this, props));\n    _this._menu = null;\n    _this._input = null;\n    _this._inputContainer = null;\n    _this._timeouts = [];\n    _this.timeoutId = null;\n\n    _this.open = function () {\n      _this.setState(function () {\n        return {\n          expanded: true\n        };\n      }, function () {\n        _this.highlightSelectedOption();\n\n        _this.props.onOpen();\n      });\n    };\n\n    _this.close = function (event, selectedOption) {\n      _this.setState(function (state) {\n        if (state.expanded) {\n          _this.props.onClose(event, selectedOption);\n        }\n\n        return {\n          expanded: false\n        };\n      });\n    };\n\n    _this.select = function (event, selectedOption) {\n      _this.props.onSelect(event, selectedOption);\n\n      if (_this.props.closeOnSelect) {\n        event.preventDefault();\n\n        _this.close(event, selectedOption);\n      }\n    };\n\n    _this.highlightSelectedOption = function () {\n      var index = 0;\n\n      if (_this.selectedIndex > 0) {\n        index = _this.selectedIndex;\n      } // setTimeout forced due to the need to wait for the browser to render the menu\n\n\n      _this._timeouts.push(setTimeout(function () {\n        _this.highlightOption(index);\n      }, 0));\n    };\n\n    _this.highlightOption = function (index) {\n      var option = _this.props.options[index];\n\n      if (!_this.props.loadingText && option) {\n        if (option.disabled || option.groupLabel) {\n          // target index is disabled, try next option instead\n          if (index > _this.state.highlightedIndex && index + 1 < _this.props.options.length) {\n            _this.highlightOption(index + 1);\n          } else if (index < _this.state.highlightedIndex && index - 1 >= 0) {\n            _this.highlightOption(index - 1);\n          }\n\n          return;\n        }\n\n        _this.setState({\n          highlightedIndex: index\n        });\n\n        _this.props.onHighlight(index); // Update scrolling\n\n\n        var menu = findDOMNode(_this._menu);\n\n        if (menu) {\n          var item = menu.querySelectorAll('li')[index];\n          var parentTop = menu.scrollTop;\n          var elemTop = item.offsetTop;\n          var parentBottom = parentTop + menu.clientHeight;\n          var elemBottom = elemTop + item.clientHeight;\n\n          if (elemBottom > parentBottom) {\n            menu.scrollTop = elemBottom - menu.clientHeight;\n          } else if (elemTop < parentTop) {\n            menu.scrollTop = elemTop;\n          }\n        }\n      }\n    };\n\n    _this.handleHomeKey = function (event) {\n      if (_this.props.options.length > 0) {\n        _this.highlightOption(0);\n      }\n    };\n\n    _this.handleEndKey = function (event) {\n      if (_this.props.options.length > 0) {\n        _this.highlightOption(_this.props.options.length - 1);\n      }\n    };\n\n    _this.handleEnterKey = function (event) {\n      if (_this.expanded && !_this.props.loadingText && _this.props.options.length) {\n        _this.select(event, _this.props.options[_this.state.highlightedIndex]);\n      }\n    };\n\n    _this.handleUpArrowKey = function (event) {\n      if (_this.expanded) {\n        var index = Math.max(0, _this.state.highlightedIndex - 1);\n        var option = _this.props.options[index];\n\n        var el = _this._menu.querySelectorAll('li')[index];\n\n        _this.highlightOption(index); // set dom focus so VO will read highlighted option correctly\n\n\n        if (el && option && !option.disabled && !option.groupLabel) {\n          el.focus();\n        }\n      } else {\n        _this.open();\n      }\n    };\n\n    _this.handleDownArrowKey = function (event) {\n      if (_this.expanded) {\n        var index = Math.min(_this.props.options.length - 1, _this.state.highlightedIndex + 1);\n        var option = _this.props.options[index];\n\n        var el = _this._menu.querySelectorAll('li')[index];\n\n        _this.highlightOption(index); // set dom focus so VO will read highlighted option correctly\n\n\n        if (el && option && !option.disabled && !option.groupLabel) {\n          el.focus();\n        }\n      } else {\n        _this.open();\n      }\n    };\n\n    _this.handleSpaceKey = function (event) {\n      if (!_this.expanded) {\n        event.preventDefault();\n\n        _this.open();\n      }\n    };\n\n    _this.keyMap = {\n      up: _this.handleUpArrowKey,\n      down: _this.handleDownArrowKey,\n      home: _this.handleHomeKey,\n      end: _this.handleEndKey,\n      enter: _this.handleEnterKey,\n      space: _this.handleSpaceKey\n    };\n\n    _this.handlePositioned = function () {\n      _this.setState({\n        positioned: true\n      }, function () {\n        return _this.props.onPositioned();\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      var key = keycode.names[event.keyCode]; // eslint-disable-next-line no-prototype-builtins\n\n      if (_this.keyMap.hasOwnProperty(key)) {\n        if ((key !== 'enter' || _this.expanded) && key !== 'space') {\n          event.preventDefault();\n        }\n\n        _this.keyMap[key](event);\n      } else {\n        // return dom focus to input when the user tries to type\n        if (_this._input && _this.props.editable) {\n          _this._input.focus();\n        }\n      }\n\n      if (key === 'tab') {\n        // return focus to input and back into natural tab order\n        _this._input.focus();\n      }\n\n      _this.props.onKeyDown(event);\n    };\n\n    _this.handleKeyUp = function (event) {\n      var key = keycode.names[event.keyCode];\n\n      if (key === 'esc' && _this.expanded) {\n        event.preventDefault(); // ensure focus returns to input\n\n        if (_this._input) {\n          _this._input.focus();\n        }\n\n        _this.close(event);\n      }\n\n      _this.props.onKeyUp(event);\n    };\n\n    _this.handleMouseDown = function (event) {\n      event.preventDefault();\n    };\n\n    _this.handleFocus = function (event) {\n      _this.setState(function () {\n        return {\n          focus: true\n        };\n      });\n\n      _this.props.onFocus(event);\n    };\n\n    _this.handleBlur = function (event) {\n      event.persist(); // is focus on an input or a tag\n\n      var stillFocused = _this._inputContainer.contains(event.relatedTarget);\n\n      if (!stillFocused && _this.expanded) {\n        // is focus on an option\n        stillFocused = _this._menu.contains(event.relatedTarget);\n      }\n\n      _this.setState(function () {\n        return {\n          focus: stillFocused\n        };\n      }, function () {\n        if (_this.expanded && !stillFocused) {\n          _this._timeouts.push(setTimeout(function () {\n            // timeout so we can check where focus went to\n            if (!containsActiveElement(_this._menu)) {\n              // is focus still not on an option\n              _this.close(event);\n            }\n          }, 0));\n        }\n\n        if (!stillFocused) {\n          _this.props.onBlur(event);\n        }\n      });\n    };\n\n    _this.handleClick = function (event) {\n      event.preventDefault();\n\n      if (_this.props.disabled || _this.props.readOnly) {\n        return;\n      }\n\n      if (!_this.expanded) {\n        if (_this._input && !isActiveElement(_this._input)) {\n          _this._input.focus();\n        }\n\n        _this.open();\n      } else {\n        _this.close();\n      }\n\n      _this.props.onClick(event);\n    };\n\n    _this.handleChange = function (event) {\n      if (!_this.expanded) {\n        _this.open();\n      }\n\n      _this.props.onInputChange(event, event.target.value);\n    };\n\n    _this.handleMenuRef = function (node) {\n      _this._menu = node;\n    };\n\n    _this.handleInputRef = function (node) {\n      _this._input = node;\n    };\n\n    _this.handleInputContainerRef = function (node) {\n      _this._inputContainer = node;\n    };\n\n    _this.state = {\n      focus: false,\n      highlightedIndex: _this.getSelectedIndex(props),\n      expanded: false,\n      positioned: false\n    };\n    _this._defaultId = uid('Select');\n    _this._optionsId = uid('Select-Options');\n    _this._assistId = uid('Select-assistiveText');\n    return _this;\n  }\n\n  _createClass(SelectField, [{\n    key: \"getSelectedIndex\",\n    value: function getSelectedIndex(props) {\n      if (props.selectedOption) {\n        var index = props.options.findIndex(function (option) {\n          return getOptionId(option) === getOptionId(props.selectedOption);\n        });\n        return Math.max(index, 0);\n      } else {\n        return -1;\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.options !== nextProps.options) {\n        this.highlightSelectedOption();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._timeouts.forEach(function (timeout) {\n        return clearTimeout(timeout);\n      });\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      if (typeof this.props.selectedOption.icon === 'function') {\n        var Icon = this.props.selectedOption.icon;\n        return React.createElement(\"span\", {\n          className: styles.inputIcon\n        }, React.createElement(Icon, null));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames, _classnames2;\n\n      var _this$props = this.props,\n          size = _this$props.size,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly,\n          editable = _this$props.editable,\n          required = _this$props.required,\n          width = _this$props.width,\n          options = _this$props.options,\n          selectedOption = _this$props.selectedOption,\n          loadingText = _this$props.loadingText,\n          emptyOption = _this$props.emptyOption,\n          visibleOptionsCount = _this$props.visibleOptionsCount,\n          children = _this$props.children,\n          onStaticClick = _this$props.onStaticClick,\n          assistiveText = _this$props.assistiveText,\n          layout = _this$props.layout,\n          announcement = _this$props.announcement,\n          constrain = _this$props.constrain;\n      var inputProps = omitProps(this.props, SelectField.propTypes, ['allowEmpty', 'assistiveText', 'value'].concat(_toConsumableArray(Object.keys(FormField.propTypes))));\n      var highlightedOption = options[this.state.highlightedIndex];\n\n      if (highlightedOption && this.expanded) {\n        inputProps['aria-activedescendant'] = \"\".concat(this._optionsId, \"_\").concat(highlightedOption.id);\n      } else {\n        inputProps['aria-activedescendant'] = null;\n      }\n\n      var wrappedLabel = React.createElement(\"label\", {\n        htmlFor: this.id,\n        className: styles.label\n      }, this.props.label);\n\n      if (!hasVisibleChildren(this.props.label)) {\n        wrappedLabel = React.createElement(ScreenReaderContent, null, wrappedLabel);\n      }\n\n      return React.createElement(FormFieldLayout, Object.assign({}, pickProps(this.props, FormFieldLayout.propTypes), {\n        as: \"span\",\n        label: wrappedLabel,\n        id: this.id,\n        vAlign: layout === 'inline' ? 'middle' : null,\n        onMouseDown: this.handleMouseDown\n      }), React.createElement(\"span\", {\n        style: {\n          width: width || 'auto'\n        },\n        className: classnames(styles.inputWidth, (_classnames = {}, _defineProperty(_classnames, styles.invalid, this.invalid), _defineProperty(_classnames, styles.focus, this.state.focus), _classnames))\n      }, React.createElement(\"span\", {\n        ref: this.handleInputContainerRef,\n        className: classnames(styles.inputContainer, (_classnames2 = {}, _defineProperty(_classnames2, styles.invalid, this.invalid), _defineProperty(_classnames2, styles.disabled, disabled), _defineProperty(_classnames2, styles[size], size), _defineProperty(_classnames2, styles.focus, this.state.focus), _classnames2))\n      }, children, React.createElement(\"span\", {\n        className: styles.inputLayout,\n        onClick: this.handleClick\n      }, selectedOption && this.renderIcon(), React.createElement(\"input\", Object.assign({}, inputProps, {\n        id: this.id,\n        className: classnames(styles.input, _defineProperty({}, styles.editable, editable)),\n        onFocus: this.handleFocus,\n        onChange: editable ? this.handleChange : null,\n        onKeyDown: this.handleKeyDown,\n        onKeyUp: this.handleKeyUp,\n        onBlur: this.handleBlur,\n        type: \"text\",\n        ref: createChainedFunction(this.props.inputRef, this.handleInputRef),\n        role: \"combobox\",\n        \"aria-expanded\": this.expanded,\n        \"aria-owns\": this.expanded ? this._optionsId : null,\n        \"aria-describedby\": this._assistId,\n        \"aria-controls\": this.expanded ? this._optionsId : null,\n        \"aria-autocomplete\": editable ? 'list' : null,\n        \"aria-haspopup\": \"true\",\n        autoComplete: editable ? 'off' : null,\n        required: required,\n        \"aria-required\": required,\n        \"aria-invalid\": this.invalid ? 'true' : null,\n        readOnly: !editable,\n        disabled: disabled || readOnly\n      })), React.createElement(IconArrowOpenDownLine, {\n        width: \"0.875rem\",\n        height: \"0.875rem\",\n        className: styles.icon\n      })))), React.createElement(Dialog, {\n        open: this.state.expanded\n      }, React.createElement(Position, {\n        trackPosition: this.expanded,\n        placement: this.placement,\n        onPositioned: this.handlePositioned,\n        target: this._inputContainer,\n        constrain: constrain\n      }, React.createElement(Position.Content, null, React.createElement(SelectOptionsList, {\n        options: options,\n        selectedOption: selectedOption,\n        optionsId: this._optionsId,\n        menuRef: this.handleMenuRef,\n        visibleOptionsCount: visibleOptionsCount,\n        loadingText: loadingText,\n        emptyOption: emptyOption,\n        onStaticClick: onStaticClick,\n        onHighlightOption: this.highlightOption,\n        onSelect: this.select,\n        expanded: this.state.expanded,\n        onKeyDown: this.handleKeyDown,\n        onKeyUp: this.handleKeyUp,\n        onBlur: this.handleBlur,\n        highlightedIndex: this.state.highlightedIndex,\n        maxWidth: this.props.optionsMaxWidth\n      })))), React.createElement(\"span\", {\n        id: this._assistId,\n        style: {\n          display: 'none'\n        }\n      }, assistiveText), React.createElement(ScreenReaderContent, null, React.createElement(\"span\", {\n        role: \"log\",\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\"\n      }, announcement)));\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this.props.id || this._defaultId;\n    }\n  }, {\n    key: \"expanded\",\n    get: function get() {\n      return this.state.positioned && this.state.expanded;\n    }\n  }, {\n    key: \"placement\",\n    get: function get() {\n      if (this.state.expanded) {\n        return this.props.placement || 'bottom stretch';\n      } else {\n        return 'offscreen';\n      }\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.props.messages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }, {\n    key: \"selectedIndex\",\n    get: function get() {\n      return this.getSelectedIndex(this.props);\n    }\n  }]);\n\n  SelectField.displayName = \"SelectField\";\n  return SelectField;\n}(Component), _class2.propTypes = {\n  /**\n  * the selected value (must be accompanied by an `onSelect` prop)\n  */\n  selectedOption: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })]),\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })),\n\n  /**\n   * The placement of the menu in relation to the input, passed down to Position\n   */\n  placement: LayoutPropTypes.placement,\n  label: PropTypes.node.isRequired,\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n\n  /**\n   * Options dropdown can be wider than input if optionsMaxWidth is provided\n   */\n  optionsMaxWidth: PropTypes.string,\n\n  /**\n   * Give the Spinner a title to be read by screenreaders. Disables menu\n   * interaction and renders a Spinner in its place.\n   */\n  loadingText: PropTypes.string,\n\n  /**\n  * Determines whether the user can type in the input\n  */\n  editable: PropTypes.bool,\n\n  /**\n   * The menu content to render when no options are present or are filtered away\n   */\n  emptyOption: PropTypes.node,\n\n  /**\n   * The amount of options that are visible without scrolling\n   */\n  visibleOptionsCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Custom text to be read by the screenreader when Select is focused\n   */\n  assistiveText: PropTypes.string,\n\n  /**\n   * Additional text to provide screenreader feedback upon user action\n   */\n  announcement: PropTypes.string,\n\n  /**\n   * Callback fired when the options have been positioned\n   */\n  onPositioned: PropTypes.func,\n\n  /**\n   * Callback fired on the option selection\n   */\n  onSelect: PropTypes.func,\n\n  /**\n   * Callback fired when the empty option is selected by click\n   */\n  onStaticClick: PropTypes.func,\n\n  /**\n   * Callback fired when an option gets highlighted\n   */\n  onHighlight: PropTypes.func,\n\n  /**\n   * Width of the whole container\n   */\n  width: PropTypes.string,\n\n  /**\n   * Determines whether or not to display the FormField inline\n   */\n  inline: PropTypes.bool,\n\n  /**\n   * Children to be rendered inside the input container before the actual input\n   */\n  children: PropTypes.node,\n\n  /**\n   * Callback fired when the input gains focus\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Callback fired when the input container lost focus\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired on keyDown for the input\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * Callback fired on keyUp for the input\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * Callback fired on click for the input\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Callback fired on change for the input\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Callback fired when the menu is opened\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when the menu is closed\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Optional id for the FormField\n   */\n  id: PropTypes.string,\n\n  /**\n  * a function that provides a reference to the internal input element\n  */\n  inputRef: PropTypes.func,\n\n  /**\n  * should the menu be closed when a selection happens\n  */\n  closeOnSelect: PropTypes.bool,\n\n  /**\n   * The parent in which to constrain the menu.\n   * One of: 'window', 'scroll-parent', 'parent', 'none', an element,\n   * or a function returning an element\n   */\n  constrain: LayoutPropTypes.constrain,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  required: PropTypes.bool\n}, _class2.defaultProps = {\n  emptyOption: '---',\n  selectedOption: null,\n  size: 'medium',\n  loadingText: null,\n  announcement: null,\n  options: [],\n  visibleOptionsCount: 8,\n  closeOnSelect: true,\n  editable: false,\n  inline: false,\n  constrain: 'window',\n  onPositioned: function onPositioned() {},\n  onSelect: function onSelect(event, selectedOption) {},\n  onStaticClick: function onStaticClick(event) {},\n  onHighlight: function onHighlight(event) {},\n  onClick: function onClick(event) {},\n  onInputChange: function onInputChange(event) {},\n  onFocus: function onFocus(event) {},\n  onBlur: function onBlur(event) {},\n  onKeyDown: function onKeyDown(event) {},\n  onKeyUp: function onKeyUp(event) {},\n  onOpen: function onOpen(event) {},\n  onClose: function onClose(event) {},\n  disabled: false,\n  readOnly: false,\n  required: false,\n  inputRef: void 0,\n  id: void 0,\n  children: null,\n  width: void 0,\n  assistiveText: void 0,\n  optionsMaxWidth: void 0,\n  layout: void 0,\n  messages: void 0,\n  placement: void 0\n}, _temp)) || _class) || _class);\nexport default SelectField;\nexport { SelectField };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      stacking = _ref.stacking,\n      forms = _ref.forms;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    borderColor: colors.borderMedium,\n    borderRadius: borders.radiusMedium,\n    color: colors.textDarkest,\n    iconColor: colors.textDarkest,\n    background: colors.backgroundLightest,\n    inputPadding: spacing.small,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineStyle: borders.style,\n    errorBorderColor: colors.borderDanger,\n    errorOutlineColor: colors.borderDanger,\n    placeholderColor: colors.textDark,\n    smallFontSize: typography.fontSizeSmall,\n    smallHeight: forms.inputHeightSmall,\n    mediumFontSize: typography.fontSizeMedium,\n    mediumHeight: forms.inputHeightMedium,\n    largeFontSize: typography.fontSizeLarge,\n    largeHeight: forms.inputHeightLarge\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusBorderColor: variables['ic-brand-primary'],\n    focusOutlineColor: variables['ic-brand-primary']\n  };\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport deepEqual from 'deep-equal';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { SelectField } from '../SelectField';\nimport getOptionId from '../utils/getOptionId';\nvar optionType = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  children: PropTypes.node\n});\n/**\n---\nparent: DeprecatedSelect\n---\n**/\n\nvar SelectSingle = (_dec = testable(), _dec(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SelectSingle, _Component);\n\n  function SelectSingle(_props) {\n    var _this;\n\n    _classCallCheck(this, SelectSingle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectSingle).call(this, _props));\n    _this._input = null;\n\n    _this.focus = function () {\n      _this._input && _this._input.focus();\n    };\n\n    _this.matchSelectedOption = function (state, selectedOption) {\n      var inputValue = _this._input.value;\n      var match;\n\n      if (selectedOption) {\n        // find option with a value that matches current selected value\n        match = state.filteredOptions.find(function (option) {\n          return option.value === selectedOption.value;\n        });\n      } else {\n        // find option with a label that matches input's value\n        match = state.filteredOptions.find(function (option) {\n          return option.label.toLowerCase() === inputValue.toLowerCase();\n        });\n      }\n\n      return match;\n    };\n\n    _this.handleClose = function (event, newSelectedOption) {\n      return _this.setState(function (prevState, props) {\n        var inputValue = _this._input.value;\n\n        var match = _this.matchSelectedOption(prevState, newSelectedOption);\n\n        var selectedOption = newSelectedOption || prevState.selectedOption;\n\n        if (match) {\n          _this._input.value = match.label;\n\n          if (!selectedOption || getOptionId(match) !== getOptionId(selectedOption)) {\n            props.onChange(event, match);\n          }\n        } else if (selectedOption) {\n          if (props.allowEmpty && _this._input.value === '') {\n            props.onChange(event, null);\n            return {\n              filterText: null,\n              filteredOptions: props.options,\n              selectedOption: null\n            };\n          } else if (!_this.props.allowCustom) {\n            // reset the value to the last valid value\n            _this._input.value = selectedOption.label;\n          }\n        } else if (!_this.props.allowCustom) {\n          // clean wrong values\n          _this._input.value = '';\n        }\n\n        if (_this._input.value !== inputValue) {\n          _this.props.onInputChange(null, _this._input.value);\n        }\n\n        return {\n          filterText: _this.props.allowCustom ? _this._input.value : null,\n          filteredOptions: props.options,\n          selectedOption: match || selectedOption\n        };\n      }, _this.props.onClose);\n    };\n\n    _this.handleInputChange = function (event, value) {\n      _this.props.onInputChange(event, value);\n\n      var filterText = value.toLowerCase();\n\n      if (_this.state.filterText !== filterText) {\n        _this.setState(function (prevState, props) {\n          var filteredOptions = props.filter(_this.props.options, filterText || '');\n          var selectedOption = prevState.selectedOption;\n\n          if (props.allowCustom && filteredOptions.length === 0) {\n            selectedOption = void 0;\n          }\n\n          return {\n            filterText: filterText,\n            filteredOptions: filteredOptions,\n            selectedOption: selectedOption\n          };\n        });\n      }\n    };\n\n    _this.handleSelect = function (event, selectedOption) {\n      if (_this._input.value !== selectedOption.label) {\n        _this._input.value = selectedOption.label;\n\n        _this.props.onInputChange(null, _this._input.value);\n      }\n\n      _this.setState({\n        filterText: null,\n        filteredOptions: _this.props.options,\n        selectedOption: selectedOption\n      }, function () {\n        return _this.focus();\n      });\n\n      _this.props.onChange(event, selectedOption);\n    };\n\n    _this.handleInputRef = function (node) {\n      _this._input = node;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      _this.props.inputRef.apply(_assertThisInitialized(_this), [node].concat(args));\n    };\n\n    _this.state = {\n      filterText: null,\n      filteredOptions: _props.options,\n      selectedOption: _this.getSelectedOptionFromProps(_props)\n    };\n    return _this;\n  }\n\n  _createClass(SelectSingle, [{\n    key: \"findSelectedOption\",\n    value: function findSelectedOption(options, selected) {\n      var id = getOptionId(selected);\n      var foundOption = options.find(function (option) {\n        return getOptionId(option) === id;\n      });\n      return foundOption || selected;\n    }\n  }, {\n    key: \"getSelectedOptionFromProps\",\n    value: function getSelectedOptionFromProps(props, selected) {\n      return selected ? this.findSelectedOption(props.options, selected) : this.findSelectedOption(props.options, props.selectedOption || props.defaultSelectedOption);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.state.selectedOption) {\n        this._input.value = this.state.selectedOption.label || '';\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var optionsChanged = !deepEqual(this.props.options, nextProps.options);\n      var selectedChanged = this.props.selectedOption != nextProps.selectedOption // undefined == null -> no change\n      && !deepEqual(this.props.selectedOption, nextProps.selectedOption) && !this.props.disabled && !this.props.readOnly;\n      var valueChanged = this.props.value !== nextProps.value;\n\n      if (optionsChanged || selectedChanged || valueChanged) {\n        this.setState(function (prevState) {\n          var selected = selectedChanged ? null : prevState.selectedOption;\n\n          var selectedOption = _this2.getSelectedOptionFromProps(nextProps, selected);\n\n          var filterText = prevState.filterText || '';\n\n          if (nextProps.allowCustom && selectedChanged && !_this2.props.selectedOption) {\n            // went from custom text entry to a selection from the options\n            filterText = selectedOption && selectedOption.label || '';\n          }\n\n          var filteredOptions = nextProps.filter(nextProps.options, filterText);\n          var value = selectedOption && selectedOption.label || nextProps.value || '';\n\n          if ((nextProps.allowCustom || prevState.filterText === null) && _this2._input.value !== value) {\n            _this2._input.value = value;\n            nextProps.onInputChange(null, _this2._input.value);\n          }\n\n          if (optionsChanged) {\n            nextProps.onOptionsChange(filteredOptions);\n          }\n\n          return {\n            selectedOption: selectedOption,\n            filteredOptions: filteredOptions\n          };\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SelectField, Object.assign({}, omitProps(this.props, SelectSingle.propTypes), {\n        editable: this.props.allowCustom || this.props.editable // allowCustom requires editable\n        ,\n        inputRef: this.handleInputRef,\n        options: this.state.filteredOptions,\n        selectedOption: this.state.selectedOption,\n        disabled: this.props.disabled,\n        readOnly: this.props.readOnly,\n        onSelect: this.handleSelect,\n        onStaticClick: this.focus,\n        onClose: this.handleClose,\n        onInputChange: this.handleInputChange,\n        optionsMaxWidth: this.props.optionsMaxWidth,\n        closeOnSelect: this.props.closeOnSelect\n      }));\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._input);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var selected = this.state.selectedOption;\n\n      if (selected) {\n        return selected.value;\n      }\n\n      if (this.props.allowCustom) {\n        return this._input.value;\n      }\n\n      return null;\n    }\n  }]);\n\n  SelectSingle.displayName = \"SelectSingle\";\n  return SelectSingle;\n}(Component), _class2.propTypes = {\n  /**\n  * The options to render in the menu\n  */\n  options: PropTypes.arrayOf(optionType),\n\n  /**\n  * a function that provides a reference to the internal input element\n  */\n  inputRef: PropTypes.func,\n\n  /**\n  * the selected value (must be accompanied by an `onChange` prop)\n  */\n  selectedOption: controllable(PropTypes.oneOfType([PropTypes.string, optionType]), 'onChange', 'defaultSelectedOption'),\n\n  /**\n   * Options dropdown can be wider than input if optionsMaxWidth is provided\n   */\n  optionsMaxWidth: PropTypes.string,\n\n  /**\n  * value to set on initial render, meant for an uncontrolled component\n  */\n  defaultSelectedOption: PropTypes.oneOfType([PropTypes.string, optionType]),\n\n  /**\n  * Determines whether the user can type in the input\n  */\n  editable: PropTypes.bool,\n\n  /**\n  * for non-multiple Select, allows the user to empty selection\n  */\n  allowEmpty: PropTypes.bool,\n\n  /**\n   * If true, the user can freely enter a value not available in the options list.\n   * Implies editable is true.\n   */\n  allowCustom: PropTypes.bool,\n\n  /**\n   * Whether or not to disable the input\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * The filter function applied to the options when writing on the input\n   */\n  filter: PropTypes.func,\n\n  /**\n   * Callback fired when the menu is closed\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when one of the menu options gets selected\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Callback fired when on the onChange of the internal input\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Callback fired when the options displayed in the menu change\n   */\n  onOptionsChange: PropTypes.func,\n\n  /**\n  * should the menu be closed when a selection happens\n  */\n  closeOnSelect: PropTypes.bool,\n\n  /**\n   * the current value. The selected option's value, or the entered text if allowCustom is true\n   */\n  value: PropTypes.string\n}, _class2.defaultProps = {\n  options: void 0,\n  selectedOption: void 0,\n  defaultSelectedOption: void 0,\n  value: void 0,\n  filter: void 0,\n  readOnly: false,\n  disabled: false,\n  allowCustom: false,\n  allowEmpty: false,\n  editable: false,\n  optionsMaxWidth: void 0,\n  inputRef: function inputRef(node) {},\n  onClose: function onClose() {},\n  onChange: function onChange(event, selectedOption) {},\n  onInputChange: function onInputChange(event, value) {},\n  onOptionsChange: function onOptionsChange(filteredOptions) {},\n  closeOnSelect: true\n}, _temp)) || _class);\nexport default SelectSingle;\nexport { SelectSingle };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { IconXSolid } from '@instructure/ui-icons';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { isActiveElement } from '@instructure/ui-dom-utils';\nimport { testable } from '@instructure/ui-testable';\nvar styles = {\n  componentId: 'DyQTK',\n  template: function template(theme) {\n    return \"\\n\\n.DyQTK_eAEM{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;align-items:center;box-sizing:border-box;display:inline-flex;font-family:\".concat(theme.fontFamily || 'inherit', \";text-align:center;user-select:none;vertical-align:middle}\\n\\n[dir=ltr] .DyQTK_eAEM,[dir=rtl] .DyQTK_eAEM{text-align:center}\\n\\n.DyQTK_doqw{font-size:\").concat(theme.fontSizeSmall || 'inherit', \";padding:\").concat(theme.paddingSmall || 'inherit', \"}\\n\\n.DyQTK_doqw .DyQTK_eWKC{line-height:calc(\").concat(theme.heightSmall || 'inherit', \" - \").concat(theme.defaultBorderWidth || 'inherit', \"*2)}\\n\\n.DyQTK_doqw .DyQTK_dnnz{font-size:0.75rem}\\n\\n.DyQTK_ycrn{font-size:calc(\").concat(theme.fontSizeMedium || 'inherit', \" - 0.0625rem);padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.DyQTK_ycrn .DyQTK_eWKC{line-height:calc(\").concat(theme.heightMedium || 'inherit', \" - \").concat(theme.defaultBorderWidth || 'inherit', \"*2)}\\n\\n.DyQTK_ycrn .DyQTK_dnnz{font-size:0.75rem}\\n\\n.DyQTK_cMDj{font-size:calc(\").concat(theme.fontSizeLarge || 'inherit', \" - 0.0625rem);padding:\").concat(theme.padding || 'inherit', \"}\\n\\n.DyQTK_cMDj .DyQTK_eWKC{line-height:calc(\").concat(theme.heightLarge || 'inherit', \" - \").concat(theme.defaultBorderWidth || 'inherit', \"*2)}\\n\\n.DyQTK_cMDj .DyQTK_dnnz{font-size:0.875rem}\\n\\n.DyQTK_EwaR{outline:none;overflow:visible;position:relative;touch-action:manipulation;transition:background-color \").concat(theme.transitionTiming || 'inherit', \"}\\n\\n.DyQTK_EwaR:before{border:\").concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:\").concat(theme.borderRadius || 'inherit', \";bottom:-0.3125rem;box-sizing:border-box;content:\\\"\\\";left:-0.3125rem;opacity:0;pointer-events:none;position:absolute;right:-0.3125rem;top:-0.3125rem;transform:scale(0.9);transition:all \").concat(theme.transitionTiming || 'inherit', \"}\\n\\n.DyQTK_EwaR:not(.DyQTK_erdA){cursor:pointer}\\n\\n.DyQTK_EwaR:focus:before{opacity:1;transform:scale(1)}\\n\\n.DyQTK_EwaR.DyQTK_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.DyQTK_dnnz{-webkit-margin-end:0;-webkit-margin-start:\").concat(theme.iconMargin || 'inherit', \";cursor:pointer;margin-inline-end:0;margin-inline-start:\").concat(theme.iconMargin || 'inherit', \";transform:translateY(0.0625rem);transition:all \").concat(theme.transitionTiming || 'inherit', \"}\\n\\n[dir=ltr] .DyQTK_dnnz{margin-left:\").concat(theme.iconMargin || 'inherit', \";margin-right:0}\\n\\n[dir=rtl] .DyQTK_dnnz{margin-left:0;margin-right:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n.DyQTK_eWKC{max-width:\").concat(theme.maxWidth || 'inherit', \";overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\\n\\n.DyQTK_ddES{background-color:\").concat(theme.defaultBackground || 'inherit', \";border:\").concat(theme.defaultBorderWidth || 'inherit', \" \").concat(theme.defaultBorderStyle || 'inherit', \" \").concat(theme.defaultBorderColor || 'inherit', \";border-radius:\").concat(theme.defaultBorderRadius || 'inherit', \";color:\").concat(theme.defaultColor || 'inherit', \"}\\n\\n.DyQTK_ddES.DyQTK_EwaR:before{border-radius:\").concat(theme.defaultBorderRadius || 'inherit', \"}\\n\\n.DyQTK_ddES.DyQTK_EwaR:hover{background-color:\").concat(theme.defaultBackgroundHover || 'inherit', \"}\\n\\n.DyQTK_ddES.DyQTK_erdA .DyQTK_dnnz{color:\").concat(theme.defaultIconColor || 'inherit', \"}\\n\\n.DyQTK_ddES.DyQTK_erdA:hover .DyQTK_dnnz{color:\").concat(theme.defaultIconHoverColor || 'inherit', \"}\\n\\n.DyQTK_eXrk{background-color:\").concat(theme.inlineBackground || 'inherit', \";border:\").concat(theme.inlineBorderWidth || 'inherit', \" \").concat(theme.inlineBorderStyle || 'inherit', \" \").concat(theme.inlineBorderColor || 'inherit', \";border-radius:\").concat(theme.inlineBorderRadius || 'inherit', \";color:\").concat(theme.inlineColor || 'inherit', \";cursor:text;margin:0 0.1875rem 0.1875rem}\\n\\n.DyQTK_eXrk.DyQTK_EwaR:before{border-radius:calc(\").concat(theme.inlineBorderRadius || 'inherit', \"*1.5)}\\n\\n.DyQTK_eXrk.DyQTK_EwaR:hover{background-color:\").concat(theme.inlineBackgroundHover || 'inherit', \"}\\n\\n.DyQTK_eXrk.DyQTK_erdA .DyQTK_dnnz{background-color:\").concat(theme.inlineIconColor || 'inherit', \";border-radius:50%;color:\").concat(theme.inlineBackground || 'inherit', \";font-size:0.75rem;inset-inline-end:0;inset-inline-start:auto;padding:0.25rem;position:absolute;top:0;transform:translate(40%,-40%)}\\n\\n[dir=ltr] .DyQTK_eXrk.DyQTK_erdA .DyQTK_dnnz{left:auto;right:0}\\n\\n[dir=rtl] .DyQTK_eXrk.DyQTK_erdA .DyQTK_dnnz{left:0;right:auto}\\n\\n.DyQTK_eXrk.DyQTK_erdA:hover .DyQTK_dnnz{background-color:\").concat(theme.inlineIconHoverColor || 'inherit', \"}\\n\\n[dir=rtl] .DyQTK_eXrk.DyQTK_erdA .DyQTK_dnnz{transform:translate(-40%,-40%)}\");\n  },\n  'tagRoot': 'DyQTK_eAEM',\n  'small': 'DyQTK_doqw',\n  'text': 'DyQTK_eWKC',\n  'icon': 'DyQTK_dnnz',\n  'medium': 'DyQTK_ycrn',\n  'large': 'DyQTK_cMDj',\n  'button': 'DyQTK_EwaR',\n  'dismissible': 'DyQTK_erdA',\n  'disabled': 'DyQTK_ywdX',\n  'default': 'DyQTK_ddES',\n  'inline': 'DyQTK_eXrk'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Tag = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tag, _Component);\n\n  function Tag() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Tag);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Tag)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.focus = function () {\n      _this._container && _this._container.focus();\n    };\n\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly,\n          onClick = _this$props.onClick;\n\n      if (disabled || readOnly) {\n        e.preventDefault();\n        e.stopPropagation();\n      } else if (typeof onClick === 'function') {\n        onClick(e);\n      }\n    };\n\n    _this.handleRef = function (node) {\n      _this._container = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(Tag, [{\n    key: \"render\",\n    value: function render() {\n      var _classes;\n\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          dismissible = _this$props2.dismissible,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          size = _this$props2.size,\n          text = _this$props2.text,\n          title = _this$props2.title,\n          onClick = _this$props2.onClick,\n          margin = _this$props2.margin,\n          variant = _this$props2.variant;\n      var classes = (_classes = {}, _defineProperty(_classes, styles.tagRoot, true), _defineProperty(_classes, styles[variant], true), _defineProperty(_classes, styles[size], size), _defineProperty(_classes, styles.dismissible, dismissible), _defineProperty(_classes, styles.button, onClick), _defineProperty(_classes, styles.disabled, disabled), _classes);\n      var passthroughProps = View.omitViewProps(omitProps(this.props, Tag.propTypes), Tag);\n      return React.createElement(View, Object.assign({}, passthroughProps, {\n        ref: this.handleRef,\n        elementRef: this.props.elementRef,\n        className: classNames(className, classes),\n        as: onClick ? 'button' : 'span',\n        margin: margin,\n        type: onClick ? 'button' : null,\n        onClick: onClick ? this.handleClick : null,\n        disabled: disabled || readOnly,\n        display: null,\n        title: title || (typeof text === 'string' ? text : null)\n      }), React.createElement(\"span\", {\n        className: styles.text\n      }, text), onClick && dismissible ? React.createElement(IconXSolid, {\n        className: styles.icon\n      }) : null);\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._container);\n    }\n  }]);\n\n  Tag.displayName = \"Tag\";\n  return Tag;\n}(Component), _class2.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\n  title: PropTypes.string,\n\n  /**\n   * Whether or not to disable the tag\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n  dismissible: PropTypes.bool,\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * If you add an onClick prop, Tag renders as a clickable button\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * Provides a reference to the underlying html root element\n  */\n  elementRef: PropTypes.func,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  variant: PropTypes.oneOf(['default', 'inline'])\n}, _class2.defaultProps = {\n  size: 'medium',\n  dismissible: false,\n  variant: 'default',\n  elementRef: void 0,\n  className: void 0,\n  title: void 0,\n  disabled: false,\n  readOnly: false,\n  margin: void 0,\n  onClick: void 0\n}, _temp)) || _class) || _class);\nexport default Tag;\nexport { Tag };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { darken } from '@instructure/ui-color-utils';\nexport default function generator(_ref) {\n  var borders = _ref.borders,\n      colors = _ref.colors,\n      forms = _ref.forms,\n      spacing = _ref.spacing,\n      typography = _ref.typography;\n\n  var tagVariant = function tagVariant(style, _ref2) {\n    var _ref3;\n\n    var borderColor = _ref2.borderColor,\n        borderRadius = _ref2.borderRadius,\n        borderStyle = _ref2.borderStyle,\n        borderWidth = _ref2.borderWidth,\n        hoverColor = _ref2.hoverColor,\n        iconColor = _ref2.iconColor,\n        iconHoverColor = _ref2.iconHoverColor,\n        mainColor = _ref2.mainColor,\n        textColor = _ref2.textColor;\n    return _ref3 = {}, _defineProperty(_ref3, \"\".concat(style, \"BackgroundHover\"), hoverColor || darken(mainColor, 5)), _defineProperty(_ref3, \"\".concat(style, \"Background\"), mainColor), _defineProperty(_ref3, \"\".concat(style, \"BorderColor\"), borderColor), _defineProperty(_ref3, \"\".concat(style, \"BorderRadius\"), borderRadius || '999rem'), _defineProperty(_ref3, \"\".concat(style, \"BorderStyle\"), borderStyle || borders.style), _defineProperty(_ref3, \"\".concat(style, \"BorderWidth\"), borderWidth || borders.widthSmall), _defineProperty(_ref3, \"\".concat(style, \"Color\"), textColor), _defineProperty(_ref3, \"\".concat(style, \"IconColor\"), iconColor || textColor), _defineProperty(_ref3, \"\".concat(style, \"IconHoverColor\"), iconHoverColor || iconColor || textColor), _ref3;\n  };\n\n  return _objectSpread({\n    fontFamily: typography.fontFamily,\n    heightSmall: '1.3125rem',\n    // matches Pill component height\n    heightMedium: forms.inputHeightSmall,\n    heightLarge: forms.inputHeightMedium,\n    fontSizeSmall: typography.fontSizeXSmall,\n    fontSizeMedium: typography.fontSizeSmall,\n    fontSizeLarge: typography.fontSizeMedium,\n    padding: \"0 \".concat(spacing.xSmall),\n    paddingSmall: \"0 \".concat(spacing.xSmall),\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineStyle: borders.style,\n    maxWidth: '10rem',\n    iconMargin: spacing.small,\n    transitionTiming: '0.2s'\n  }, tagVariant('default', {\n    borderColor: colors.borderMedium,\n    iconColor: colors.textDarkest,\n    iconHoverColor: colors.textBrand,\n    mainColor: colors.textLight,\n    textColor: colors.textDarkest\n  }), {}, tagVariant('inline', {\n    borderColor: colors.borderDark,\n    borderRadius: borders.radiusMedium,\n    iconColor: colors.textDark,\n    iconHoverColor: colors.textDark,\n    mainColor: colors.textLightest,\n    textColor: colors.textDarkest\n  }));\n}\n\ngenerator['canvas-a11y'] = generator['canvas-high-contrast'] = function (_ref4) {\n  var colors = _ref4.colors;\n  return {\n    defaultBackground: colors.backgroundLightest,\n    defaultBorderColor: colors.borderDarkest\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    focusOutlineColor: variables['ic-brand-primary'],\n    textColor: variables['ic-brand-font-color-dark'],\n    defaultIconColor: variables['ic-brand-font-color-dark'],\n    defaultIconHoverColor: variables['ic-brand-primary'],\n    defaultColor: variables['ic-brand-font-color-dark']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport deepEqual from 'deep-equal';\nimport { themeable } from '@instructure/ui-themeable';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { omitProps } from '@instructure/ui-react-utils';\nimport { isActiveElement, containsActiveElement } from '@instructure/ui-dom-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { Tag } from '@instructure/ui-tag';\nimport { SelectField } from '../SelectField';\nimport getOptionId from '../utils/getOptionId';\nvar styles = {\n  componentId: 'bknox',\n  template: function template(theme) {\n    return \"\\n\\n.bknox_dTVD{-webkit-margin-end:0;-webkit-margin-start:\".concat(theme.tagStartMargin || 'inherit', \";margin-inline-end:0;margin-inline-start:\").concat(theme.tagStartMargin || 'inherit', \";margin-top:calc(\").concat(theme.tagTopMargin || 'inherit', \" + 0.125rem)}\\n\\n[dir=ltr] .bknox_dTVD{margin-left:\").concat(theme.tagStartMargin || 'inherit', \";margin-right:0}\\n\\n[dir=rtl] .bknox_dTVD{margin-left:0;margin-right:\").concat(theme.tagStartMargin || 'inherit', \"}\\n\\n.bknox_dTVD:last-of-type{margin-bottom:\").concat(theme.tagTopMargin || 'inherit', \"}\");\n  },\n  'tag': 'bknox_dTVD'\n};\nimport theme from './theme';\nvar optionType = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  dismissible: PropTypes.bool,\n  children: PropTypes.node\n});\n/**\n---\nparent: DeprecatedSelect\n---\n**/\n\nvar SelectMultiple = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SelectMultiple, _Component);\n\n  function SelectMultiple(_props) {\n    var _this;\n\n    _classCallCheck(this, SelectMultiple);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectMultiple).call(this, _props));\n    _this._input = null;\n\n    _this.focus = function () {\n      _this._input && _this._input.focus();\n    };\n\n    _this.cleanInput = function () {\n      if (_this._input.value !== '') {\n        _this._input.value = '';\n\n        _this.props.onInputChange(null, '');\n      }\n    };\n\n    _this.matchSelectedOptions = function (state, selectedOption) {\n      if (selectedOption) {\n        // find options with values that match current selected values\n        return state.filteredOptions.filter(function (option) {\n          return selectedOption.find(function (selected) {\n            return selected.value === option.value;\n          });\n        });\n      } else {\n        // find an option with a label that matches input's value\n        return [state.filteredOptions.find(function (option) {\n          return option.label.toLowerCase() === _this._input.value.toLowerCase();\n        })].filter(function (value) {\n          return value;\n        });\n      }\n    };\n\n    _this.amendMatchesToState = function (state, props, matches, onChange) {\n      if (matches && matches.length > 0) {\n        var selectedOption = [].concat(_toConsumableArray(state.selectedOption), _toConsumableArray(matches));\n\n        if (typeof onChange === 'function') {\n          onChange(selectedOption);\n        }\n\n        return {\n          filteredOptions: _this.getFilteredOptions(props, '', selectedOption),\n          selectedOption: selectedOption\n        };\n      }\n\n      return {\n        filteredOptions: _this.getFilteredOptions(props, '', state.selectedOption)\n      };\n    };\n\n    _this.handleClose = function (event) {\n      return _this.setState(function (prevState, props) {\n        var matches = _this.matchSelectedOptions(prevState);\n\n        _this.cleanInput();\n\n        return _this.amendMatchesToState(prevState, props, matches, function (selectedOption) {\n          props.onChange(event, selectedOption);\n        });\n      }, _this.props.onClose);\n    };\n\n    _this.handleInputChange = function (event, value) {\n      _this.props.onInputChange(event, value);\n\n      var filterText = value.toLowerCase();\n\n      if (_this.state.filterText !== filterText) {\n        _this.setState(function (prevState, props) {\n          return {\n            filterText: filterText,\n            filteredOptions: _this.getFilteredOptions(props, filterText, prevState.selectedOption)\n          };\n        });\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _this$state = _this.state,\n          filterText = _this$state.filterText,\n          selectedOption = _this$state.selectedOption,\n          length = _this$state.selectedOption.length; // If the user pressed backspace while focusing on input, input is emtpy and there's selectedOptions\n\n      if ((event.key === 'Backspace' || event.key === 'Delete') && length > 0 && filterText === '' && isActiveElement(_this._input)) {\n        _this.dismiss(event, selectedOption[length - 1]);\n      }\n\n      _this.props.onKeyDown(event);\n    };\n\n    _this.handleSelect = function (event, newOption) {\n      _this.cleanInput();\n\n      var newSelectedOption = [].concat(_toConsumableArray(_this.state.selectedOption), [newOption]);\n\n      _this.setState(function (prevState, props) {\n        var selectedOption = _this.isControlled ? prevState.selectedOption : newSelectedOption;\n        return {\n          filterText: '',\n          filteredOptions: _this.getFilteredOptions(props, '', selectedOption),\n          selectedOption: selectedOption\n        };\n      }, _this.focus);\n\n      _this.props.onChange(event, newSelectedOption);\n    };\n\n    _this.dismiss = function (event, tag) {\n      // to prevent expanding the menu onClick\n      event.preventDefault();\n      event.stopPropagation();\n      var tagId = getOptionId(tag);\n\n      var newSelectedOption = _this.state.selectedOption.filter(function (o) {\n        return getOptionId(o) !== tagId;\n      });\n\n      _this.setState(function (prevState, props) {\n        var selectedOption = _this.isControlled ? prevState.selectedOption : newSelectedOption;\n        return {\n          filteredOptions: _this.getFilteredOptions(props, prevState.filterText, selectedOption),\n          selectedOption: selectedOption\n        };\n      }, _this.focus);\n\n      _this.props.onChange(event, newSelectedOption);\n    };\n\n    _this.handleInputRef = function (node) {\n      _this._input = node;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      _this.props.inputRef.apply(_assertThisInitialized(_this), [node].concat(args));\n    };\n\n    var _selectedOption = _this.getSelectedOptionFromProps(_props);\n\n    var filteredOptions = _this.getFilteredOptions(_props, '', _selectedOption);\n\n    _this.state = {\n      filterText: '',\n      selectedOption: _selectedOption,\n      filteredOptions: filteredOptions\n    };\n    return _this;\n  }\n\n  _createClass(SelectMultiple, [{\n    key: \"getOptionMap\",\n    value: function getOptionMap(options) {\n      return options.reduce(function (map, option) {\n        map[getOptionId(option)] = option; // eslint-disable-line no-param-reassign\n\n        return map;\n      }, {});\n    }\n  }, {\n    key: \"findSelectedOptions\",\n    value: function findSelectedOptions() {\n      var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var selected = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n      var optionMap = this.getOptionMap(options);\n      return selected.map(function (option) {\n        var id = getOptionId(option);\n        var foundOption = optionMap[id];\n\n        if (typeof option === 'object') {\n          return _objectSpread({}, option, {}, foundOption);\n        }\n\n        return foundOption || option;\n      });\n    }\n  }, {\n    key: \"getSelectedOptionFromProps\",\n    value: function getSelectedOptionFromProps(props, selected) {\n      return selected ? this.findSelectedOptions(props.options, selected) : this.findSelectedOptions(props.options, props.selectedOption || props.defaultSelectedOption);\n    }\n  }, {\n    key: \"getFilteredOptions\",\n    value: function getFilteredOptions(_ref, filterText) {\n      var filter = _ref.filter,\n          options = _ref.options;\n      var selectedOption = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n      var filteredOptions = filter(options, filterText);\n      var optionMap = this.getOptionMap(selectedOption);\n      return filteredOptions.filter(function (o) {\n        return !optionMap[getOptionId(o)];\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var optionsChanged = !deepEqual(this.props.options, nextProps.options);\n      var selectedChanged = !deepEqual(this.props.selectedOption, nextProps.selectedOption) && !this.props.disabled && !this.props.readOnly;\n\n      if (optionsChanged || selectedChanged) {\n        this.setState(function (prevState) {\n          var selected = selectedChanged ? null : prevState.selectedOption;\n\n          var selectedOption = _this2.getSelectedOptionFromProps(nextProps, selected);\n\n          var filteredOptions = _this2.getFilteredOptions(nextProps, prevState.filterText, selectedOption);\n\n          if (optionsChanged) {\n            _this2.props.onOptionsChange(filteredOptions);\n          }\n\n          return {\n            selectedOption: selectedOption,\n            filteredOptions: filteredOptions\n          };\n        });\n      }\n    }\n  }, {\n    key: \"renderTags\",\n    value: function renderTags() {\n      var _this3 = this;\n\n      return this.state.selectedOption.filter(function (option) {\n        return option && option.label;\n      }).map(function (tag, index) {\n        var isDismissible = tag.dismissible !== false;\n        var dismissibleProps = {};\n\n        if (isDismissible) {\n          dismissibleProps = {\n            dismissible: true,\n            onClick: function onClick(event) {\n              return _this3.dismiss(event, tag);\n            },\n            onMouseDown: function onMouseDown(event) {\n              // prevent event from propagating up to SelectField\n              event.stopPropagation();\n            }\n          };\n        }\n\n        return React.createElement(Tag, Object.assign({\n          className: styles.tag,\n          key: getOptionId(tag) + tag.label,\n          title: tag.label,\n          text: _this3.props.formatSelectedOption(tag, index),\n          size: _this3.props.size,\n          disabled: _this3.props.disabled,\n          readOnly: _this3.props.readOnly\n        }, dismissibleProps));\n      });\n    }\n  }, {\n    key: \"renderInputs\",\n    value: function renderInputs() {\n      var _this4 = this;\n\n      return this.state.selectedOption.filter(function (option) {\n        return option && option.label;\n      }).map(function (tag, index) {\n        return React.createElement(\"input\", {\n          type: \"hidden\",\n          key: getOptionId(tag) + tag.label,\n          name: _this4.props.name,\n          value: tag.value\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(SelectField, Object.assign({}, omitProps(this.props, SelectMultiple.propTypes), {\n        ref: function ref(el) {\n          _this5._field = el;\n        },\n        inputRef: this.handleInputRef,\n        editable: this.props.editable,\n        options: this.state.filteredOptions,\n        size: this.props.size,\n        disabled: this.props.disabled,\n        readOnly: this.props.readOnly,\n        onSelect: this.handleSelect,\n        onStaticClick: this.focus,\n        onClose: this.handleClose,\n        onInputChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        optionsMaxWidth: this.props.optionsMaxWidth,\n        closeOnSelect: this.props.closeOnSelect\n      }), this.renderTags(), this.renderInputs());\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return containsActiveElement(this._field);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.state.selectedOption.map(function (selected) {\n        return selected && selected.value;\n      });\n    }\n  }, {\n    key: \"isControlled\",\n    get: function get() {\n      return !!this.props.selectedOption;\n    }\n  }]);\n\n  SelectMultiple.displayName = \"SelectMultiple\";\n  return SelectMultiple;\n}(Component), _class2.propTypes = {\n  /**\n  * The options to render in the menu\n  */\n  options: PropTypes.arrayOf(optionType),\n\n  /**\n  * a function that provides a reference to the internal input element\n  */\n  inputRef: PropTypes.func,\n\n  /**\n  * the selected value (must be accompanied by an `onChange` prop)\n  */\n  selectedOption: controllable(PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, optionType])), 'onChange', 'defaultSelectedOption'),\n\n  /**\n  * value to set on initial render, meant for an uncontrolled component\n  */\n  defaultSelectedOption: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, optionType])),\n\n  /**\n  * Determines whether the user can type in the input\n  */\n  editable: PropTypes.bool,\n\n  /**\n   * Optional name for the FormField\n   */\n  name: PropTypes.string,\n\n  /**\n   * The size used for input and menu options\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Options dropdown can be wider than input if optionsMaxWidth is provided\n   */\n  optionsMaxWidth: PropTypes.string,\n\n  /**\n   * The filter function applied to the options when the value of the input changes\n   */\n  filter: PropTypes.func,\n\n  /**\n   * The format function called for each Tag to render its contents\n   */\n  formatSelectedOption: PropTypes.func,\n\n  /**\n   * Whether or not to disable the input and tags\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * Callback fired when the menu is closed\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when one of the menu options gets selected\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Callback fired on the onChange of the internal input\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Callback fired when the options displayed in the menu change\n   */\n  onOptionsChange: PropTypes.func,\n\n  /**\n   * Callback fired on the onKeyDown of the internal input\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n  * should the menu be closed when a selection happens\n  */\n  closeOnSelect: PropTypes.bool,\n\n  /**\n   * must be false for multiple select\n   */\n  allowCustom: PropTypes.oneOf([false])\n}, _class2.defaultProps = {\n  inputRef: function inputRef() {},\n  formatSelectedOption: function formatSelectedOption(tag) {\n    return tag.children || tag.label;\n  },\n  onClose: function onClose() {},\n  onChange: function onChange(event, selectedOption) {},\n  onInputChange: function onInputChange(event) {},\n  onOptionsChange: function onOptionsChange(filteredOptions) {},\n  onKeyDown: function onKeyDown(event) {},\n  closeOnSelect: true,\n  allowCustom: false,\n  readOnly: false,\n  disabled: false,\n  filter: void 0,\n  optionsMaxWidth: void 0,\n  size: void 0,\n  name: void 0,\n  editable: false,\n  selectedOption: void 0,\n  defaultSelectedOption: void 0,\n  options: void 0\n}, _temp)) || _class) || _class);\nexport default SelectMultiple;\nexport { SelectMultiple };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var spacing = _ref.spacing;\n  return {\n    tagTopMargin: spacing.xxxSmall,\n    tagStartMargin: spacing.xxSmall\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {};\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport deepEqual from 'deep-equal';\nimport { Children, controllable } from '@instructure/ui-prop-types';\nimport { FormPropTypes } from '@instructure/ui-form-field';\nimport { LayoutPropTypes } from '@instructure/ui-layout';\nimport { deprecated, omitProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { SelectSingle } from './SelectSingle';\nimport { SelectMultiple } from './SelectMultiple';\nimport { SelectField } from './SelectField';\nimport { SelectOptionsList } from './SelectOptionsList';\nimport parseOptions from './utils/parseOptions';\n/**\n---\ncategory: components/deprecated\nid: DeprecatedSelect\n---\n**/\n\nvar Select = (_dec = testable(), _dec2 = deprecated('7.0.0', null, 'Use SimpleSelect from ui-simple-select for basic configurations or Select from ui-select for more complex configuations.'), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Select, _Component);\n\n  function Select(props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this._input = null;\n\n    _this.focus = function () {\n      _this._subComponent && _this._subComponent.focus();\n    };\n\n    _this.handleRef = function (node) {\n      _this._subComponent = node;\n    };\n\n    var options = parseOptions(props.children);\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(!(props.allowCustom && props.multiple), \"[Select] The 'allowCustom' and 'multiple' props are mutually exclusive.\");\n\n    _this.state = {\n      options: options\n    };\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var options = parseOptions(nextProps.children);\n\n      if (!deepEqual(this.state.options, options)) {\n        this.setState({\n          options: options\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Component = this.props.multiple ? SelectMultiple : SelectSingle;\n      var defaultSelectedOption = this.props.defaultOption;\n\n      if (!defaultSelectedOption && !this.props.allowCustom) {\n        defaultSelectedOption = this.props.value;\n      } // select first non-disabled option for standard select components\n\n\n      if (!this.props.editable && !this.props.allowCustom && !this.props.multiple && typeof defaultSelectedOption === 'undefined') {\n        for (var i = 0; this.state.options.length; i++) {\n          var option = this.state.options[i];\n\n          if (!option.disabled) {\n            defaultSelectedOption = option;\n            break;\n          }\n        }\n      }\n\n      return React.createElement(Component, Object.assign({\n        ref: this.handleRef\n      }, omitProps(this.props, {}, ['multiple', 'defaultOption', !this.props.multiple ? 'formatSelectedOption' : '']), {\n        options: this.state.options,\n        defaultSelectedOption: defaultSelectedOption,\n        closeOnSelect: this.props.closeOnSelect\n      }));\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return this._subComponent && this._subComponent.focused;\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return !!this.props.messages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._subComponent && this._subComponent.value;\n    }\n  }]);\n\n  Select.displayName = \"Select\";\n  return Select;\n}(Component), _class2.propTypes = {\n  /**\n   * Determines wether Select allows multiple values\n   */\n  multiple: PropTypes.bool,\n\n  /**\n  * Determines whether the user can type in the input\n  */\n  editable: PropTypes.bool,\n\n  /**\n  * Each children must be an option element.\n  */\n  children: Children.oneOf(['option', 'optgroup']),\n\n  /**\n  * a function that provides a reference to the internal input element\n  */\n  inputRef: PropTypes.func,\n  value: PropTypes.string,\n\n  /**\n  * the selected value (must be accompanied by an `onChange` prop)\n  */\n  selectedOption: controllable(PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  }), PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })]))]), 'onChange', 'defaultOption'),\n\n  /**\n  * value to set on initial render, meant for an uncontrolled component\n  */\n  defaultOption: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  }), PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    children: PropTypes.node,\n    disabled: PropTypes.bool,\n    icon: PropTypes.func,\n    groupLabel: PropTypes.bool\n  })]))]),\n\n  /**\n  * for not multiple Select, allows the user to empty selection\n  */\n  allowEmpty: PropTypes.bool,\n\n  /**\n   * SelectSingle only (Mutually exclusive with multiple=true)\n   * If true, the user can freely enter a value not available in the options list.\n   * Implies editable is true.\n   */\n  allowCustom: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n   * The placement of the content in relation to the trigger, passed down to Position\n   */\n  placement: LayoutPropTypes.placement,\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n\n  /**\n   * Options dropdown can be wider than input if optionsMaxWidth is provided\n   */\n  optionsMaxWidth: PropTypes.string,\n\n  /**\n   * Give the Spinner a title to be read by screenreaders. Disables menu\n   * interaction and renders a Spinner in its place.\n   */\n  loadingText: PropTypes.string,\n\n  /**\n   * The menu content to render when no options are present or are filtered away\n   */\n  emptyOption: PropTypes.node,\n\n  /**\n   * The amount of options that are visible without scrolling\n   */\n  visibleOptionsCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * Custom text to be read by the screenreader when Select is focused\n   */\n  assistiveText: PropTypes.string,\n\n  /**\n   * Additional text to provide screenreader feedback upon user action\n   */\n  announcement: PropTypes.string,\n\n  /**\n   * The filter function applied to the options when writing on the input\n   */\n  filter: PropTypes.func,\n\n  /**\n   * The format function called for each Tag to render its contents\n   */\n  formatSelectedOption: PropTypes.func,\n\n  /**\n   * Whether or not to disable the input\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * Callback fired when `<Position />` content has been rendered\n   */\n  onPositioned: PropTypes.func,\n\n  /**\n   * Callback fired when the menu is opened\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback fired when the menu is closed\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when one of the menu options gets selected. Second parameter is the selected option.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Callback fired when on the onChange of the internal input.\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Callback fired when the options displayed in the menu change\n   */\n  onOptionsChange: PropTypes.func,\n\n  /**\n   * Callback fired when on the onBlur of the internal input\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when on the onClick of the internal input\n   */\n  onClick: PropTypes.func,\n\n  /**\n  * should the menu be closed when a selection happens\n  */\n  closeOnSelect: PropTypes.bool,\n\n  /**\n   * The parent in which to constrain the menu.\n   * One of: 'window', 'scroll-parent', 'parent', 'none', an element,\n   * or a function returning an element\n   */\n  constrain: LayoutPropTypes.constrain\n}, _class2.defaultProps = {\n  multiple: false,\n  editable: false,\n  allowEmpty: true,\n  allowCustom: false,\n  emptyOption: '---',\n  selectedOption: null,\n  size: 'medium',\n  loadingText: null,\n  visibleOptionsCount: 8,\n  optionsMaxWidth: null,\n  inputRef: function inputRef(node) {},\n  filter: function filter(options, filterText) {\n    return options.filter(function (option) {\n      return option.label.toLowerCase().startsWith(filterText.toLowerCase());\n    });\n  },\n  formatSelectedOption: function formatSelectedOption(tag) {\n    return tag.label || tag.children;\n  },\n  closeOnSelect: true,\n  constrain: 'window',\n  onBlur: void 0,\n  onClick: void 0,\n  onOptionsChange: void 0,\n  onInputChange: void 0,\n  onChange: void 0,\n  onClose: void 0,\n  onOpen: void 0,\n  onPositioned: void 0,\n  readOnly: false,\n  disabled: false,\n  announcement: void 0,\n  assistiveText: void 0,\n  layout: void 0,\n  messages: void 0,\n  placement: void 0,\n  id: void 0,\n  defaultOption: void 0,\n  value: void 0,\n  children: null\n}, _temp)) || _class) || _class);\nexport default Select;\nexport { Select, SelectField, SelectOptionsList };","import { error as _error } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children } from 'react';\nexport default function parseOptions(children) {\n  var options = Children.map(children, function (child) {\n    var _child$props = child.props,\n        label = _child$props.label,\n        value = _child$props.value,\n        children = _child$props.children;\n\n    if (child.type === 'optgroup') {\n      var group = [];\n      var groupValue = value || label;\n      group.push(React.createElement(\"option\", Object.assign({}, child.props, {\n        value: groupValue,\n        group: groupValue,\n        groupLabel: true,\n        disabled: true\n      }), label));\n      Children.forEach(children, function (option, index) {\n        group.push(React.createElement(\"option\", Object.assign({}, option.props, {\n          group: groupValue,\n          groupItem: true\n        }), option.props.children));\n      });\n      return group;\n    } else {\n      return child;\n    }\n  });\n  return Children.map(options, function (option) {\n    var _option$props = option.props,\n        label = _option$props.label,\n        id = _option$props.id,\n        value = _option$props.value,\n        children = _option$props.children,\n        disabled = _option$props.disabled,\n        icon = _option$props.icon,\n        group = _option$props.group,\n        groupLabel = _option$props.groupLabel,\n        groupItem = _option$props.groupItem;\n\n    /*#__PURE__*/\n\n    /*#__PURE__*/\n    _error(typeof value === 'string', \"[Select] The 'value' prop on <option> must be a string.\");\n\n    return {\n      id: id || value,\n      label: label || children,\n      children: children || label,\n      disabled: disabled || false,\n      value: value,\n      icon: icon || null,\n      // the value or label of the group this option belongs to\n      group: group || null,\n      // whether or not this option is just a label for a group\n      groupLabel: groupLabel || false,\n      // whether or not this option is an item in a group\n      groupItem: groupItem || false\n    };\n  }) || [];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeable } from '@instructure/ui-themeable';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { I18nPropTypes, DateTime, Locale } from '@instructure/ui-i18n';\nimport { deprecated, omitProps, pickProps } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { Select } from '../Select';\nvar styles = {\n  componentId: 'fabZw',\n  template: function template(theme) {\n    return \"\\n\\n.fabZw_bGBk{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\");\n  },\n  'root': 'fabZw_bGBk'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar TimeInput = (_dec = testable(), _dec2 = themeable(theme, styles), _dec3 = deprecated('7.0.0', null, 'Use @instructure/ui-time-select instead'), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TimeInput, _Component);\n\n  function TimeInput() {\n    _classCallCheck(this, TimeInput);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TimeInput).apply(this, arguments));\n  }\n\n  _createClass(TimeInput, [{\n    key: \"locale\",\n    value: function locale() {\n      return this.props.locale || this.context.locale || Locale.browserLocale();\n    }\n  }, {\n    key: \"timezone\",\n    value: function timezone() {\n      return this.props.timezone || this.context.timezone || DateTime.browserTimeZone();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          defaultToFirstOption = _this$props.defaultToFirstOption,\n          defaultValue = _this$props.defaultValue,\n          format = _this$props.format,\n          label = _this$props.label,\n          onChange = _this$props.onChange,\n          step = _this$props.step,\n          value = _this$props.value,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly;\n      var locale = this.locale();\n      var timezone = this.timezone();\n      var ignoredProps = ['defaultOption', 'selectedOption'];\n      var selectProps = pickProps(this.props, omitProps(Select.propTypes, {}, ignoredProps));\n      var options = this.renderOptions(defaultValue, format, locale, step, timezone, value);\n      var defaultOption = this.getDefaultOption(defaultToFirstOption, defaultValue, options);\n      var selectedOption = this.getSelectedOption(format, locale, timezone, value);\n      return React.createElement(Select, Object.assign({\n        ref: function ref(el) {\n          _this._select = el;\n        },\n        editable: true,\n        label: label,\n        defaultOption: defaultOption,\n        selectedOption: selectedOption,\n        onChange: onChange,\n        disabled: disabled,\n        readOnly: readOnly\n      }, selectProps), options);\n    }\n  }, {\n    key: \"renderOptions\",\n    value: function renderOptions(defaultValue, format, locale, step, timezone, value) {\n      var date = this.getBaseDateForRendering(defaultValue, locale, timezone, value);\n      var options = [];\n\n      for (var hour = 0; hour < 24; hour++) {\n        for (var minute = 0; minute < 60 / step; minute++) {\n          var minutes = minute * step;\n          date.hour(hour).minute(minutes);\n          options.push(React.createElement(\"option\", {\n            key: \"\".concat(hour, \":\").concat(minutes),\n            value: date.toISOString()\n          }, date.format(format)));\n        }\n      }\n\n      return options;\n    }\n  }, {\n    key: \"getBaseDateForRendering\",\n    value: function getBaseDateForRendering(defaultValue, locale, timezone, value) {\n      var baseDate;\n      var baseValue = value || defaultValue;\n\n      if (baseValue) {\n        baseDate = DateTime.parse(baseValue, locale, timezone);\n      } else {\n        baseDate = DateTime.now(locale, timezone);\n      }\n\n      return baseDate.second(0).millisecond(0);\n    } // TODO: Change Autocomplete to allow specifying a string for selectedOption (like defaultOption allows)\n\n  }, {\n    key: \"getSelectedOption\",\n    value: function getSelectedOption(format, locale, timezone, value) {\n      if (!value) {\n        return;\n      }\n\n      var date = DateTime.parse(value, locale, timezone);\n      return {\n        value: date.toISOString(),\n        label: date.format(format)\n      };\n    }\n  }, {\n    key: \"getDefaultOption\",\n    value: function getDefaultOption(defaultToFirstOption, defaultValue, options) {\n      return defaultValue || (defaultToFirstOption ? options[0].props.value : void 0);\n    }\n  }, {\n    key: \"focused\",\n\n    /* eslint-disable react/require-default-props */\n    get: function get() {\n      return this._select && this._select.focused;\n    }\n  }]);\n\n  TimeInput.displayName = \"TimeInput\";\n  return TimeInput;\n}(Component), _class2.propTypes = {\n  /**\n   * Whether to default to the first option when `defaultValue` hasn't been specified.\n   */\n  defaultToFirstOption: PropTypes.bool,\n\n  /**\n   * An ISO 8601 formatted date string to use if `value` isn't provided.\n   */\n  defaultValue: I18nPropTypes.iso8601,\n\n  /**\n   * The format to use when displaying the possible and currently selected options.\n   *\n   * See [moment.js formats](https://momentjs.com/docs/#/displaying/format/) for the list of available formats.\n   */\n  format: PropTypes.string,\n\n  /**\n   * The label associated with the underlying [TextInput](#TextInput).\n   */\n  label: PropTypes.node.isRequired,\n\n  /**\n   * A standard language identifier.\n   *\n   * See [moment.js i18n](https://momentjs.com/docs/#/i18n/) for more details.\n   *\n   * This property can also be set via a context property and if both are set then the component property takes\n   * precedence over the context property.\n   *\n   * The web browser's locale will be used if no value is set via a component property or a context\n   * property.\n   */\n  locale: PropTypes.string,\n\n  /**\n   * Callback fired when one of the menu options gets selected\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The number of minutes to increment by when generating the allowable options.\n   */\n  step: PropTypes.oneOf([5, 10, 15, 20, 30, 60]),\n\n  /**\n   * A timezone identifier in the format: Area/Location\n   *\n   * See [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) for the list\n   * of possible options.\n   *\n   * This property can also be set via a context property and if both are set then the component property takes\n   * precedence over the context property.\n   *\n   * The web browser's timezone will be used if no value is set via a component property or a context\n   * property.\n   */\n  timezone: PropTypes.string,\n\n  /**\n   * An ISO 8601 formatted date string representing the current selected value\n   * (must be accompanied by an onChange prop).\n   */\n  value: controllable(I18nPropTypes.iso8601),\n\n  /**\n   * Whether or not to disable the select\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool\n}, _class2.defaultProps = {\n  defaultToFirstOption: false,\n  format: 'LT',\n  step: 30\n}, _class2.contextTypes = {\n  locale: PropTypes.string,\n  timezone: PropTypes.string\n}, _temp)) || _class) || _class) || _class);\nexport default TimeInput;\nexport { TimeInput };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2018 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { DateTime, I18nPropTypes, Locale } from '@instructure/ui-i18n';\nimport { FormPropTypes, FormFieldGroup } from '@instructure/ui-form-field';\nimport { deprecated } from '@instructure/ui-react-utils';\nimport { testable } from '@instructure/ui-testable';\nimport { DateInput } from '../DateInput';\nimport { TimeInput } from '../TimeInput';\n/**\n---\ncategory: components\n---\n**/\n\nvar DateTimeInput = (_dec = testable(), _dec2 = deprecated('7.0.0', null, 'Use @instructure/ui-date-input and @instructure/ui-select instead'), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateTimeInput, _Component);\n\n  function DateTimeInput(props, context) {\n    var _this;\n\n    _classCallCheck(this, DateTimeInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DateTimeInput).call(this, props, context));\n\n    _this.handleChange = function (e, value) {\n      var _this$parseISO = _this.parseISO(value),\n          iso = _this$parseISO.iso,\n          message = _this$parseISO.message;\n\n      if (iso && iso !== _this.state.iso || !message) {\n        if (_this.props.onChange) {\n          _this.props.onChange(e, iso);\n        }\n\n        return _this.setState({\n          iso: iso,\n          message: message\n        });\n      }\n\n      return _this.setState({\n        message: message\n      });\n    };\n\n    _this.handleDateChange = function (e, isoValue, rawValue, rawConversionFailed, dateIsDisabled) {\n      var date = rawConversionFailed ? rawValue : isoValue;\n\n      var value = _this.combineDateAndTime(date, _this.state.iso);\n\n      _this.handleChange(e, value);\n    };\n\n    _this.handleTimeChange = function (e, option) {\n      var date = _this.state.iso;\n\n      if (date) {\n        var value = option && option.value || '';\n\n        _this.handleChange(e, value);\n      } else {\n        var label = option && option.label || '';\n\n        _this.setState({\n          message: _this.getErrorMessage('', label)\n        });\n      }\n    };\n\n    _this.handleBlur = function (e) {\n      if (_this.props.required && !_this.state.iso) {\n        _this.setState({\n          message: _this.getErrorMessage()\n        });\n      } // when TABbing from the DateInput to TimeInput or visa-versa, the blur\n      // happens on the target before the relatedTarget gets focus.\n      // The timeout gives it a moment for that to happen\n\n\n      if (typeof _this.props.onBlur === 'function') {\n        window.setTimeout(function () {\n          if (!_this.focused) {\n            _this.props.onBlur(e);\n          }\n        }, 0);\n      }\n    };\n\n    _this.dateInputComponentRef = function (node) {\n      _this._dateInput = node;\n    };\n\n    _this.timeInputComponentRef = function (node) {\n      _this._timeInput = node;\n    };\n\n    _this.state = _objectSpread({}, _this.parseISO(props.value || props.defaultValue));\n    _this._dateInput = null;\n    _this._timeInput = null;\n    return _this;\n  }\n\n  _createClass(DateTimeInput, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var valueChanged = nextProps.value !== this.props.value || nextProps.defaultValue !== this.props.defaultValue;\n      var isUpdated = valueChanged || nextProps.locale !== this.props.locale || nextProps.timezone !== this.props.timezone;\n\n      if (isUpdated) {\n        this.setState(function (prevState) {\n          var iso = valueChanged ? nextProps.value || nextProps.defaultValue : prevState.iso;\n          return _objectSpread({}, _this2.parseISO(iso, nextProps.locale, nextProps.timezone));\n        });\n      }\n    }\n  }, {\n    key: \"getErrorMessage\",\n    value: function getErrorMessage(rawDateValue, rawTimeValue) {\n      var invalidDateTimeMessage = this.props.invalidDateTimeMessage;\n      var text = typeof invalidDateTimeMessage === 'function' ? invalidDateTimeMessage(rawDateValue, rawTimeValue) : invalidDateTimeMessage;\n      return text ? {\n        text: text,\n        type: 'error'\n      } : null;\n    }\n  }, {\n    key: \"parseISO\",\n    value: function parseISO() {\n      var iso = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';\n      var locale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.locale;\n      var timezone = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.timezone;\n      var parsed = DateTime.parse(iso, locale, timezone);\n\n      if (parsed.isValid()) {\n        return {\n          iso: parsed.toISOString(true),\n          message: {\n            type: 'success',\n            text: parsed.format(this.props.messageFormat)\n          }\n        };\n      }\n\n      return {\n        iso: void 0,\n        message: iso ? this.getErrorMessage.apply(this, _toConsumableArray(iso.split('T'))) : null\n      };\n    }\n  }, {\n    key: \"combineDateAndTime\",\n    value: function combineDateAndTime(dateISO, timeISO) {\n      if (!dateISO) {\n        return '';\n      }\n\n      if (!timeISO) {\n        return dateISO;\n      }\n\n      var date = dateISO.replace(/T.*/, '');\n      var time = timeISO.replace(/.*T/, '');\n      return \"\".concat(date, \"T\").concat(time);\n    }\n  }, {\n    key: \"focus\",\n\n    /**\n     * Focus me.\n     *\n     * When this `DateTimeInput` gets focus, we hand it off to the\n     * underlying `DateInput`.\n     */\n    value: function focus() {\n      if (this._dateInput) {\n        this._dateInput.focus();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          description = _this$props.description,\n          datePlaceholder = _this$props.datePlaceholder,\n          dateLabel = _this$props.dateLabel,\n          dateNextLabel = _this$props.dateNextLabel,\n          datePreviousLabel = _this$props.datePreviousLabel,\n          dateFormat = _this$props.dateFormat,\n          dateInputRef = _this$props.dateInputRef,\n          timeLabel = _this$props.timeLabel,\n          timeFormat = _this$props.timeFormat,\n          timeStep = _this$props.timeStep,\n          timeInputRef = _this$props.timeInputRef,\n          locale = _this$props.locale,\n          timezone = _this$props.timezone,\n          messages = _this$props.messages,\n          layout = _this$props.layout,\n          required = _this$props.required,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly;\n      var _this$state = this.state,\n          iso = _this$state.iso,\n          message = _this$state.message;\n      return React.createElement(FormFieldGroup, {\n        description: description,\n        colSpacing: \"medium\",\n        rowSpacing: \"small\",\n        layout: layout,\n        vAlign: \"top\",\n        messages: [].concat(_toConsumableArray(message ? [message] : []), _toConsumableArray(messages || []))\n      }, React.createElement(DateInput, {\n        dateValue: iso,\n        onDateChange: this.handleDateChange,\n        onBlur: this.handleBlur,\n        ref: this.dateInputComponentRef,\n        inputRef: dateInputRef,\n        placeholder: datePlaceholder,\n        label: dateLabel,\n        locale: locale,\n        format: dateFormat,\n        nextLabel: dateNextLabel,\n        previousLabel: datePreviousLabel,\n        timezone: timezone,\n        validationFeedback: false,\n        required: required,\n        disabled: disabled,\n        readOnly: readOnly\n      }), React.createElement(TimeInput, {\n        value: iso,\n        onChange: this.handleTimeChange,\n        onBlur: this.handleBlur,\n        ref: this.timeInputComponentRef,\n        label: timeLabel,\n        locale: locale,\n        format: timeFormat,\n        step: timeStep,\n        timezone: timezone,\n        inputRef: timeInputRef,\n        disabled: disabled,\n        readOnly: readOnly\n      }));\n    }\n  }, {\n    key: \"locale\",\n    get: function get() {\n      return this.props.locale || this.context.locale || Locale.browserLocale();\n    }\n  }, {\n    key: \"timezone\",\n    get: function get() {\n      return this.props.timezone || this.context.timezone || DateTime.browserTimeZone();\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return this._dateInput && this._dateInput.focused || this._timeInput && this._timeInput.focused;\n    }\n  }]);\n\n  DateTimeInput.displayName = \"DateTimeInput\";\n  return DateTimeInput;\n}(Component), _class2.propTypes = {\n  /**\n  * The label over the composite `DateTimeInput` component\n  **/\n  description: PropTypes.node.isRequired,\n\n  /**\n  * The label over the Date Input\n  **/\n  dateLabel: PropTypes.string.isRequired,\n\n  /**\n  * The label to put on the previous month button of the calendar.\n  **/\n  datePreviousLabel: PropTypes.string.isRequired,\n\n  /**\n  * The label to put on the next month button of the calendar.\n  **/\n  dateNextLabel: PropTypes.string.isRequired,\n\n  /**\n  * HTML placeholder text to display when the date input has no value.\n  * This should be hint text, not a label replacement.\n  **/\n  datePlaceholder: PropTypes.string,\n\n  /**\n  * The format of the date shown in the `DateInput` when a date is selected.\n  * Valid formats are compatible with\n  * [moment.js formats](https://momentjs.com/docs/#/displaying/format/),\n  * including localized formats.\n  *\n  * If omitted, deferrs to the underlying `DateInput`'s default.\n  **/\n  dateFormat: PropTypes.string,\n\n  /**\n  * The label over the time input\n  **/\n  timeLabel: PropTypes.string.isRequired,\n\n  /**\n   * The number of minutes to increment by when generating the allowable time options.\n   */\n  timeStep: PropTypes.oneOf([5, 10, 15, 20, 30, 60]),\n\n  /**\n  * The format of the time shown in the `TimeInput` when a time is selected.\n  * Valid formats are compatible with\n  * [moment.js formats](https://momentjs.com/docs/#/displaying/format/),\n  * including localized formats.\n  *\n  * If omitted, deferrs to the underlying `TimeInput`'s default.\n  **/\n  timeFormat: PropTypes.string,\n\n  /**\n  * A standard language identifier.\n  *\n  * See [moment.js i18n](https://momentjs.com/docs/#/i18n/) for more details.\n  *\n  * This property can also be set via a context property and if both are set then the component property takes\n  * precedence over the context property.\n  *\n  * The web browser's locale will be used if no value is set via a component property or a context\n  * property.\n  **/\n  locale: PropTypes.string,\n\n  /**\n  * A timezone identifier in the format: Area/Location\n  *\n  * See [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) for the list\n  * of possible options.\n  *\n  * This property can also be set via a context property and if both are set then the component property takes\n  * precedence over the context property.\n  *\n  * The web browser's timezone will be used if no value is set via a component property or a context\n  * property.\n  **/\n  timezone: PropTypes.string,\n\n  /**\n  * The message shown to the user when the data is invalid.\n  * If a string, shown to the user anytime the input is invalid.\n  *\n  * If a function, receives 2 parameters:\n  *  *rawDateValue*: the string entered as a date by the user,\n  *  *rawTimeValue*: the string entered as a time by the user.\n  *\n  * Currently, times must be selected from a list, it can never be incorrect,\n  * Though `invalidDateTimeMessage` will be called if the user selects a time without\n  * setting the date.\n  *\n  * Either parameter is undefined if the user has not entered anything,\n  * which you can use to test for no input if the `DateTimeInput` is required.\n  **/\n  invalidDateTimeMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n\n  /**\n  * Messages my parent would like displayed\n  * object with shape: `{\n  *   text: PropTypes.string,\n  *   type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *  }\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * This format of the composite date-time when displayed in messages.\n  * Valid formats are compatible with\n  * [moment.js formats](https://momentjs.com/docs/#/displaying/format/),\n  * including localized formats.\n  **/\n  messageFormat: PropTypes.string,\n\n  /**\n  * Vertically stacked, horizontally arranged in 2 columns, or inline.\n  * See [FormFieldGroup](#FormFieldGroup) for details.\n  **/\n  layout: PropTypes.oneOf(['stacked', 'columns', 'inline']),\n\n  /**\n  * An ISO 8601 formatted date string representing the current date-time\n  * (must be accompanied by an onChange prop).\n  **/\n  value: controllable(I18nPropTypes.iso8601, 'onChange'),\n\n  /**\n  * An ISO 8601 formatted date string to use if `value` isn't provided.\n  **/\n  defaultValue: I18nPropTypes.iso8601,\n  required: PropTypes.bool,\n\n  /**\n   * Whether or not to disable the inputs\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n  * Called when the date-time value has changed.\n  * The passed in parameters are\n  * *event*: the triggering event (which may be from the underlying\n  * `DateInput` or `TimeInput`), *isoValue*: the new date value in ISO 8601 format.\n  **/\n  onChange: PropTypes.func,\n\n  /**\n  * The <input> element where the date is entered.\n  **/\n  dateInputRef: PropTypes.func,\n\n  /**\n  * The <input> element where the time is entered.\n  **/\n  timeInputRef: PropTypes.func,\n\n  /**\n   * onBlur event handler for when focus leaves DateTimeInput.\n   * Does not fire when focus moves between DateInput and TimeInput within the component\n   */\n  onBlur: PropTypes.func\n}, _class2.defaultProps = {\n  layout: 'inline',\n  timeStep: 30,\n  messageFormat: 'LLL',\n  required: false,\n  disabled: false,\n  readOnly: false,\n  onBlur: void 0,\n  timeInputRef: void 0,\n  dateInputRef: void 0,\n  onChange: void 0,\n  defaultValue: void 0,\n  value: void 0,\n  messages: void 0,\n  timezone: void 0,\n  locale: void 0,\n  timeFormat: void 0,\n  datePlaceholder: void 0,\n  dateFormat: void 0\n}, _class2.contextTypes = {\n  locale: PropTypes.string,\n  timezone: PropTypes.string\n}, _temp)) || _class) || _class);\nexport default DateTimeInput;\nexport { DateTimeInput };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { controllable } from '@instructure/ui-prop-types';\nimport { FormField, FormPropTypes } from '@instructure/ui-form-field';\nimport { addEventListener, addResizeListener, findDOMNode, isActiveElement, requestAnimationFrame } from '@instructure/ui-dom-utils';\nimport { debounce } from '@instructure/debounce';\nimport { uid } from '@instructure/uid';\nimport { px } from '@instructure/ui-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { omitProps, pickProps } from '@instructure/ui-react-utils';\nvar styles = {\n  componentId: 'chpSa',\n  template: function template(theme) {\n    return \"\\n\\n.chpSa_byIz{position:relative}\\n\\n.chpSa_cPAP{border:\".concat(theme.focusOutlineWidth || 'inherit', \" \").concat(theme.focusOutlineStyle || 'inherit', \" \").concat(theme.focusOutlineColor || 'inherit', \";border-radius:calc(\").concat(theme.borderRadius || 'inherit', \"*1.5);bottom:-0.25rem;box-sizing:border-box;display:block;left:-0.25rem;opacity:0;pointer-events:none;position:absolute;right:-0.25rem;top:-0.25rem;transform:scale(0.95);transition:all 0.2s}\\n\\n.chpSa_blLZ{-moz-appearance:none;-moz-osx-font-smoothing:grayscale;-webkit-appearance:none;-webkit-font-smoothing:antialiased;all:initial;animation:none 0s ease 0s 1 normal none running;appearance:none;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:\").concat(theme.background || 'inherit', \";border:medium none currentColor;border-bottom-color:\").concat(theme.borderBottomColor || 'inherit', \";border-collapse:separate;border-image:none;border-left-color:\").concat(theme.borderLeftColor || 'inherit', \";border-radius:0;border-radius:\").concat(theme.borderRadius || 'inherit', \";border-right-color:\").concat(theme.borderRightColor || 'inherit', \";border-spacing:0;border-style:\").concat(theme.borderStyle || 'inherit', \";border-top-color:\").concat(theme.borderTopColor || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";bottom:auto;box-shadow:none;box-sizing:content-box;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:#000;color:\").concat(theme.color || 'inherit', \";column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-span:1;column-width:auto;columns:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;display:block;empty-cells:show;float:none;font-family:serif;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:medium;font-stretch:normal;font-style:normal;font-variant:normal;font-weight:400;font-weight:\").concat(theme.fontWeight || 'inherit', \";height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding:\").concat(theme.padding || 'inherit', \";page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;right:auto;tab-size:8;table-layout:auto;text-align:left;text-align:start;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-origin:50% 50% 0;transform-style:flat;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;white-space:pre-wrap;widows:2;width:auto;width:100%;word-spacing:normal;word-wrap:break-word;z-index:auto}\\n\\n[dir=ltr] .chpSa_blLZ{text-align:left}\\n\\n[dir=rtl] .chpSa_blLZ{text-align:right}\\n\\n.chpSa_blLZ:focus~.chpSa_cPAP{opacity:1;transform:scale(1)}\\n\\n.chpSa_blLZ[aria-invalid],.chpSa_blLZ[aria-invalid]:focus,.chpSa_blLZ[aria-invalid]:focus~.chpSa_cPAP{border-color:\").concat(theme.errorBorderColor || 'inherit', \"}\\n\\n.chpSa_blLZ:-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.chpSa_blLZ::-ms-input-placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.chpSa_blLZ::placeholder{color:\").concat(theme.placeholderColor || 'inherit', \"}\\n\\n.chpSa_blLZ.chpSa_ywdX{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.chpSa_doqw{font-size:\").concat(theme.smallFontSize || 'inherit', \"}\\n\\n.chpSa_ycrn{font-size:\").concat(theme.mediumFontSize || 'inherit', \"}\\n\\n.chpSa_cMDj{font-size:\").concat(theme.largeFontSize || 'inherit', \"}\");\n  },\n  'layout': 'chpSa_byIz',\n  'outline': 'chpSa_cPAP',\n  'textarea': 'chpSa_blLZ',\n  'disabled': 'chpSa_ywdX',\n  'small': 'chpSa_doqw',\n  'medium': 'chpSa_ycrn',\n  'large': 'chpSa_cMDj'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar TextArea = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TextArea, _Component);\n\n  function TextArea() {\n    var _this;\n\n    _classCallCheck(this, TextArea);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextArea).call(this));\n\n    _this._textareaResize = function (evt) {\n      var textareaHeight = _this._textarea.style.height;\n\n      if (textareaHeight != _this._height) {\n        _this._manuallyResized = true;\n        _this._textarea.style.overflowY = 'auto'; // update container minHeight to ensure focus ring always wraps input\n\n        _this._container.style.minHeight = textareaHeight;\n      }\n    };\n\n    _this.grow = function (evt) {\n      if (!_this._textarea || _this._manuallyResized) {\n        return;\n      }\n\n      var offset = _this._textarea.offsetHeight - _this._textarea.clientHeight;\n      var height = ''; // Notes:\n      // 1. height has be reset to `auto` every time this method runs, or scrollHeight will not reset\n      // 2. `this._textarea.scrollHeight` will not reset if assigned to a variable; it needs to be written out each time\n\n      _this._textarea.style.height = 'auto';\n      _this._textarea.style.overflowY = 'hidden'; // hide scrollbars for autoGrow textareas\n\n      height = _this._textarea.scrollHeight + offset + 'px';\n      var maxHeight = px(_this.props.maxHeight, findDOMNode(_assertThisInitialized(_this)));\n\n      if (_this.props.maxHeight && _this._textarea.scrollHeight > maxHeight) {\n        _this._textarea.style.overflowY = 'auto'; // add scroll if scrollHeight exceeds maxHeight in pixels\n      } else if (_this.props.height) {\n        if (_this._textarea.value === '') {\n          height = _this.props.height;\n        } else if (px(_this.props.height, findDOMNode(_assertThisInitialized(_this))) > _this._textarea.scrollHeight) {\n          _this._textarea.style.overflowY = 'auto'; // add scroll if scrollHeight exceeds height in pixels\n\n          height = _this.props.height;\n        }\n      } // preserve container height to prevent scroll jumping on long textareas,\n      // but make sure container doesn't exceed maxHeight prop\n\n\n      var heightExceedsMax = px(height) > maxHeight;\n\n      if (!heightExceedsMax) {\n        _this._container.style.minHeight = height;\n      }\n\n      _this._height = height;\n      _this._textarea.style.height = height;\n      _this._textarea.scrollTop = _this._textarea.scrollHeight;\n    };\n\n    _this.handleChange = function (event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          value = _this$props.value,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly;\n\n      if (disabled || readOnly) {\n        event.preventDefault();\n        return;\n      }\n\n      if (typeof value === 'undefined') {\n        // if uncontrolled\n        _this.autoGrow();\n      }\n\n      if (typeof onChange === 'function') {\n        onChange(event);\n      }\n    };\n\n    _this.handleContainerRef = function (node) {\n      _this._container = node;\n    };\n\n    _this._defaultId = uid('TextArea');\n    return _this;\n  }\n\n  _createClass(TextArea, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.autoGrow();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.autoGrow();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._listener) {\n        this._listener.remove();\n      }\n\n      if (this._textareaResizeListener) {\n        this._textareaResizeListener.remove();\n      }\n\n      if (this._request) {\n        this._request.cancel();\n      }\n\n      if (this._debounced) {\n        this._debounced.cancel();\n      }\n    }\n  }, {\n    key: \"autoGrow\",\n    value: function autoGrow() {\n      if (this.props.autoGrow) {\n        if (!this._debounced) {\n          this._debounced = debounce(this.grow, 200, {\n            leading: false,\n            trailing: true\n          });\n        }\n\n        if (!this._listener) {\n          this._listener = addEventListener(window, 'resize', this._debounced);\n        }\n\n        if (this._textarea && !this._textareaResizeListener) {\n          this._textareaResizeListener = addResizeListener(this._textarea, this._textareaResize, ['height']);\n        }\n\n        this._request = requestAnimationFrame(this.grow);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this._textarea.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classes,\n          _this2 = this;\n\n      var _this$props2 = this.props,\n          autoGrow = _this$props2.autoGrow,\n          placeholder = _this$props2.placeholder,\n          value = _this$props2.value,\n          defaultValue = _this$props2.defaultValue,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          required = _this$props2.required,\n          width = _this$props2.width,\n          height = _this$props2.height,\n          maxHeight = _this$props2.maxHeight,\n          textareaRef = _this$props2.textareaRef,\n          resize = _this$props2.resize,\n          size = _this$props2.size;\n      var props = omitProps(this.props, TextArea.propTypes);\n      var classes = (_classes = {}, _defineProperty(_classes, styles.textarea, true), _defineProperty(_classes, styles[size], true), _defineProperty(_classes, styles.disabled, disabled), _classes);\n      var style = {\n        width: width,\n        resize: resize,\n        height: !autoGrow ? height : null,\n        maxHeight: maxHeight\n      };\n      var textarea = React.createElement(\"textarea\", Object.assign({}, props, {\n        value: value,\n        defaultValue: defaultValue,\n        placeholder: placeholder,\n        ref: function ref(textarea) {\n          _this2._textarea = textarea;\n\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          textareaRef.apply(_this2, [textarea].concat(args));\n        },\n        style: style,\n        id: this.id,\n        required: required,\n        \"aria-required\": required,\n        \"aria-invalid\": this.invalid ? 'true' : null,\n        disabled: disabled || readOnly,\n        className: classnames(classes),\n        onChange: this.handleChange\n      }));\n      return React.createElement(FormField, Object.assign({}, pickProps(this.props, FormField.propTypes), {\n        vAlign: \"top\",\n        id: this.id,\n        ref: function ref(el) {\n          _this2._node = el;\n        }\n      }), React.createElement(\"div\", {\n        className: styles.layout,\n        style: {\n          width: width,\n          maxHeight: maxHeight\n        },\n        ref: this.handleContainerRef\n      }, textarea, !disabled && !readOnly ? React.createElement(\"span\", {\n        className: styles.outline,\n        \"aria-hidden\": \"true\"\n      }) : null));\n    }\n  }, {\n    key: \"minHeight\",\n    get: function get() {\n      return this._textarea.style.minHeight;\n    }\n  }, {\n    key: \"invalid\",\n    get: function get() {\n      return this.props.messages && this.props.messages.findIndex(function (message) {\n        return message.type === 'error';\n      }) >= 0;\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this.props.id || this._defaultId;\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return isActiveElement(this._textarea);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._textarea.value;\n    }\n  }]);\n\n  TextArea.displayName = \"TextArea\";\n  return TextArea;\n}(Component), _class2.propTypes = {\n  label: PropTypes.node.isRequired,\n  id: PropTypes.string,\n\n  /**\n  * sets the font-size for the textarea\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  layout: PropTypes.oneOf(['stacked', 'inline']),\n\n  /**\n  * the textarea will expand vertically to fit the height of the content,\n  * unless its content exceeds `maxHeight`\n  */\n  autoGrow: PropTypes.bool,\n\n  /**\n  * is the textarea resizable (in supported browsers)\n  */\n  resize: PropTypes.oneOf(['none', 'both', 'horizontal', 'vertical']),\n\n  /**\n  * a fixed width for the textarea\n  */\n  width: PropTypes.string,\n\n  /**\n  * a initial height for the textarea (if autoGrow is true it will grow vertically)\n  */\n  height: PropTypes.string,\n\n  /**\n  * when autoGrow is true, the textarea will never grow beyond this value\n  */\n  maxHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n  * object with shape: `{\n  * text: PropTypes.string,\n  * type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  *   }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n  inline: PropTypes.bool,\n\n  /**\n  * Html placeholder text to display when the input has no value. This should be hint text, not a label\n  * replacement.\n  */\n  placeholder: PropTypes.string,\n\n  /**\n   * Whether or not to disable the textarea\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Works just like disabled but keeps the same styles as if it were active\n   */\n  readOnly: PropTypes.bool,\n  required: PropTypes.bool,\n\n  /**\n  * a function that provides a reference to the actual textarea element\n  */\n  textareaRef: PropTypes.func,\n\n  /**\n  * value to set on initial render\n  */\n  defaultValue: PropTypes.string,\n\n  /**\n  * the selected value (must be accompanied by an `onChange` prop)\n  */\n  value: controllable(PropTypes.string),\n\n  /**\n  * when used with the `value` prop, the component will not control its own state\n  */\n  onChange: PropTypes.func\n}, _class2.defaultProps = {\n  size: 'medium',\n  autoGrow: true,\n  resize: 'none',\n  inline: false,\n  messages: [],\n  disabled: false,\n  readOnly: false,\n  textareaRef: function textareaRef(textarea) {},\n  layout: 'stacked',\n  id: void 0,\n  value: void 0,\n  defaultValue: void 0,\n  onChange: void 0,\n  required: false,\n  placeholder: void 0,\n  width: void 0,\n  height: void 0,\n  maxHeight: void 0\n}, _temp)) || _class) || _class);\nexport default TextArea;\nexport { TextArea };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      borders = _ref.borders,\n      spacing = _ref.spacing,\n      typography = _ref.typography,\n      forms = _ref.forms;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    borderTopColor: colors.borderMedium,\n    borderRightColor: colors.borderMedium,\n    borderBottomColor: colors.borderMedium,\n    borderLeftColor: colors.borderMedium,\n    borderRadius: borders.radiusMedium,\n    padding: spacing.small,\n    focusOutlineColor: colors.borderBrand,\n    focusOutlineWidth: borders.widthMedium,\n    focusOutlineStyle: borders.style,\n    errorBorderColor: colors.borderDanger,\n    errorOutlineColor: colors.borderDanger,\n    placeholderColor: colors.textDark,\n    smallFontSize: typography.fontSizeSmall,\n    smallHeight: forms.inputHeightSmall,\n    mediumFontSize: typography.fontSizeMedium,\n    mediumHeight: forms.inputHeightMedium,\n    largeFontSize: typography.fontSizeLarge,\n    largeHeight: forms.inputHeightLarge\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark'],\n    focusOutlineColor: variables['ic-brand-primary']\n  };\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M.153 1393.854l92.168 92.299 867.766-867.636 867.636 867.636 92.43-92.3L960.087 433.92z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowOpenUpLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowOpenUpLine, _Component);\n\n  function IconArrowOpenUpLine() {\n    _classCallCheck(this, IconArrowOpenUpLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowOpenUpLine).apply(this, arguments));\n  }\n\n  _createClass(IconArrowOpenUpLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowOpenUp\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowOpenUpLine.displayName = \"IconArrowOpenUpLine\";\n  return IconArrowOpenUpLine;\n}(Component);\n\nIconArrowOpenUpLine.glyphName = 'arrow-open-up';\nIconArrowOpenUpLine.variant = 'Line';\nIconArrowOpenUpLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowOpenUpLine;\nexport { IconArrowOpenUpLine };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n/**\n---\nparent: Select\nid: Select.Option\n---\n@module Option\n**/\n\nvar Option =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Option, _Component);\n\n  function Option() {\n    _classCallCheck(this, Option);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Option).apply(this, arguments));\n  }\n\n  _createClass(Option, [{\n    key: \"render\",\n    value: function render() {\n      // this component is only used for prop validation. Select.Option children\n      // are parsed in Select and rendered as Options.Item components\n      return null;\n    }\n  }]);\n\n  Option.displayName = \"Option\";\n  return Option;\n}(Component);\n\nOption.propTypes = {\n  /**\n  * The id for the option.\n  */\n  id: PropTypes.string.isRequired,\n\n  /**\n  * Whether or not this option is highlighted.\n  */\n  isHighlighted: PropTypes.bool,\n\n  /**\n  * Whether or not this option is selected.\n  */\n  isSelected: PropTypes.bool,\n\n  /**\n  * Whether or not this option is disabled.\n  */\n  isDisabled: PropTypes.bool,\n\n  /**\n  * Content to display before the option label, such as an icon.\n  */\n  renderBeforeLabel: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Content to display after the option label, such as an icon.\n  */\n  renderAfterLabel: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Content to display as the option label.\n  */\n  children: PropTypes.node\n};\nOption.defaultProps = {\n  isHighlighted: false,\n  isSelected: false,\n  isDisabled: false,\n  renderBeforeLabel: void 0,\n  renderAfterLabel: void 0,\n  children: null\n};\nexport default Option;\nexport { Option };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { Option } from '../Option';\n/**\n---\nparent: Select\nid: Select.Group\n---\n@module Group\n**/\n\nvar Group =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Group, _Component);\n\n  function Group() {\n    _classCallCheck(this, Group);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Group).apply(this, arguments));\n  }\n\n  _createClass(Group, [{\n    key: \"render\",\n    value: function render() {\n      // this component is only used for prop validation. Select.Group children\n      // are parsed in Select and rendered as Options components\n      return null;\n    }\n  }]);\n\n  Group.displayName = \"Group\";\n  return Group;\n}(Component);\n\nGroup.propTypes = {\n  /**\n  * The label associated with the group options.\n  */\n  renderLabel: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n  * Children of type `<Select.Option />` that will be considered part of the group.\n  */\n  children: ChildrenPropTypes.oneOf([Option])\n};\nGroup.defaultProps = {\n  children: null\n};\nexport default Group;\nexport { Group };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Children as ChildrenPropTypes } from '@instructure/ui-prop-types';\nimport { FormPropTypes } from '@instructure/ui-form-field';\nimport { createChainedFunction } from '@instructure/ui-utils';\nimport { themeable } from '@instructure/ui-themeable';\nimport { testable } from '@instructure/ui-testable';\nimport { matchComponentTypes, omitProps, getInteraction } from '@instructure/ui-react-utils';\nimport { getBoundingClientRect, isActiveElement } from '@instructure/ui-dom-utils';\nimport { PositionPropTypes } from '@instructure/ui-position';\nimport { View } from '@instructure/ui-view';\nimport { Selectable } from '@instructure/ui-selectable';\nimport { Popover } from '@instructure/ui-popover';\nimport { TextInput } from '@instructure/ui-text-input';\nimport { Options } from '@instructure/ui-options';\nimport { IconArrowOpenDownLine, IconArrowOpenUpLine } from '@instructure/ui-icons';\nimport { uid } from '@instructure/uid';\nimport { Group } from './Group';\nimport { Option } from './Option';\nvar styles = {\n  componentId: 'cCAhm',\n  template: function template(theme) {\n    return \"\\n\\n.cCAhm_bGBk{color:\".concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \"}\\n\\n.cCAhm_doqw .cCAhm_dnnz{font-size:\").concat(theme.smallIconSize || 'inherit', \"}\\n\\n.cCAhm_ycrn .cCAhm_dnnz{font-size:\").concat(theme.mediumIconSize || 'inherit', \"}\\n\\n.cCAhm_cMDj .cCAhm_dnnz{font-size:\").concat(theme.largeIconSize || 'inherit', \"}\\n\\n.cCAhm_dJgE{display:none}\");\n  },\n  'root': 'cCAhm_bGBk',\n  'small': 'cCAhm_doqw',\n  'icon': 'cCAhm_dnnz',\n  'medium': 'cCAhm_ycrn',\n  'large': 'cCAhm_cMDj',\n  'assistiveText': 'cCAhm_dJgE'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(Options.Separator, null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(Options.Separator, null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(IconArrowOpenUpLine, {\n  inline: false\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(IconArrowOpenDownLine, {\n  inline: false\n});\n\nvar Select = (_dec = testable(), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Select, _Component);\n\n  function Select() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Select)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      hasInputRef: false\n    };\n    _this._defaultId = uid('Select');\n    _this._assistId = uid('Select-assistiveText');\n    _this._input = null;\n    _this._inputContainer = null;\n    _this._list = null;\n    _this._optionIds = [];\n    _this._optionHeight = 36;\n\n    _this.handleInputRef = function (node) {\n      // ensures list is positioned with respect to input if list is open on mount\n      if (!_this.state.hasInputRef) {\n        _this.setState({\n          hasInputRef: true\n        });\n      }\n\n      _this._input = node;\n\n      _this.props.inputRef(node);\n    };\n\n    _this.handleListRef = function (node) {\n      _this._list = node;\n\n      _this.props.listRef(node); // store option height to calulcate list maxHeight\n\n\n      if (node) {\n        _this._optionHeight = node.querySelector('[role=\"option\"]').offsetHeight;\n      }\n    };\n\n    _this.handleInputContainerRef = function (node) {\n      _this._inputContainer = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"focus\",\n    value: function focus() {\n      this._input && this._input.focus();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      // scroll option into view if needed\n      this.scrollToOption(this.highlightedOptionId);\n    }\n  }, {\n    key: \"scrollToOption\",\n    value: function scrollToOption(id) {\n      if (this._listView) {\n        var option = this._listView.querySelector(\"[id=\\\"\".concat(id, \"\\\"]\"));\n\n        if (!option) return;\n        var listItem = option.parentNode;\n        var parentTop = getBoundingClientRect(this._listView).top;\n        var elemTop = getBoundingClientRect(listItem).top;\n        var parentBottom = parentTop + this._listView.clientHeight;\n        var elemBottom = elemTop + listItem.clientHeight;\n\n        if (elemBottom > parentBottom) {\n          this._listView.scrollTop += elemBottom - parentBottom;\n        } else if (elemTop < parentTop) {\n          this._listView.scrollTop -= parentTop - elemTop;\n        }\n      }\n    }\n  }, {\n    key: \"highlightOption\",\n    value: function highlightOption(event, id) {\n      var onRequestHighlightOption = this.props.onRequestHighlightOption;\n\n      if (id) {\n        onRequestHighlightOption(event, {\n          id: id\n        });\n      }\n    }\n  }, {\n    key: \"getEventHandlers\",\n    value: function getEventHandlers() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          isShowingOptions = _this$props.isShowingOptions,\n          _onRequestShowOptions = _this$props.onRequestShowOptions,\n          _onRequestHideOptions = _this$props.onRequestHideOptions,\n          _onRequestSelectOption = _this$props.onRequestSelectOption;\n      var highlightedOptionId = this.highlightedOptionId;\n      var selectedOptionId = this.selectedOptionId;\n      return this.interaction === 'enabled' ? {\n        onRequestShowOptions: function onRequestShowOptions(event) {\n          _onRequestShowOptions(event);\n\n          if (selectedOptionId && !Array.isArray(selectedOptionId)) {\n            // highlight selected option on show\n            _this2.highlightOption(event, selectedOptionId);\n          }\n        },\n        onRequestHideOptions: function onRequestHideOptions(event) {\n          _onRequestHideOptions(event);\n        },\n        onRequestHighlightOption: function onRequestHighlightOption(event, _ref) {\n          var id = _ref.id,\n              direction = _ref.direction;\n          if (!isShowingOptions) return; // if id exists, use that\n\n          var highlightId = _this2._optionIds.indexOf(id) > -1 ? id : null;\n\n          if (!highlightId) {\n            if (!highlightedOptionId) {\n              // nothing highlighted yet, highlight first option\n              highlightId = _this2._optionIds[0];\n            } else {\n              // find next id based on direction\n              var index = _this2._optionIds.indexOf(highlightedOptionId);\n\n              highlightId = index > -1 ? _this2._optionIds[index + direction] : null;\n            }\n          }\n\n          if (highlightId) {\n            // only highlight if id exists as a valid option\n            _this2.highlightOption(event, highlightId);\n          }\n        },\n        onRequestHighlightFirstOption: function onRequestHighlightFirstOption(event) {\n          _this2.highlightOption(event, _this2._optionIds[0]);\n        },\n        onRequestHighlightLastOption: function onRequestHighlightLastOption(event) {\n          _this2.highlightOption(event, _this2._optionIds[_this2._optionIds.length - 1]);\n        },\n        onRequestSelectOption: function onRequestSelectOption(event, _ref2) {\n          var id = _ref2.id;\n\n          if (id && _this2._optionIds.indexOf(id) !== -1) {\n            // only select if id exists as a valid option\n            _onRequestSelectOption(event, {\n              id: id\n            });\n          }\n        }\n      } : {};\n    }\n  }, {\n    key: \"renderOption\",\n    value: function renderOption(option, data) {\n      var getOptionProps = data.getOptionProps,\n          getDisabledOptionProps = data.getDisabledOptionProps;\n      var _option$props = option.props,\n          id = _option$props.id,\n          isDisabled = _option$props.isDisabled,\n          isHighlighted = _option$props.isHighlighted,\n          isSelected = _option$props.isSelected,\n          renderBeforeLabel = _option$props.renderBeforeLabel,\n          renderAfterLabel = _option$props.renderAfterLabel,\n          children = _option$props.children;\n\n      var optionProps = _objectSpread({}, omitProps(option.props, _objectSpread({}, Option.propTypes, {}, Options.Item.propTypes)), {}, getOptionProps({\n        id: id\n      }), {\n        // Options.Item props\n        renderBeforeLabel: renderBeforeLabel,\n        renderAfterLabel: renderAfterLabel\n      }); // should option be treated as highlighted or selected\n\n\n      if (isSelected) {\n        optionProps.variant = 'selected';\n      } else if (isHighlighted) {\n        optionProps.variant = 'highlighted';\n      } // should option be treated as disabled\n\n\n      if (isDisabled) {\n        optionProps.variant = 'disabled';\n        optionProps = _objectSpread({}, optionProps, {}, getDisabledOptionProps());\n      } else {\n        // track as valid option if not disabled\n        this._optionIds.push(id);\n      }\n\n      return React.createElement(Options.Item, optionProps, children);\n    }\n  }, {\n    key: \"renderGroup\",\n    value: function renderGroup(group, data) {\n      var _this3 = this;\n\n      var getOptionProps = data.getOptionProps,\n          getDisabledOptionProps = data.getDisabledOptionProps,\n          isFirstChild = data.isFirstChild,\n          isLastChild = data.isLastChild,\n          afterGroup = data.afterGroup;\n\n      var _group$props = group.props,\n          id = _group$props.id,\n          renderLabel = _group$props.renderLabel,\n          children = _group$props.children,\n          rest = _objectWithoutProperties(_group$props, [\"id\", \"renderLabel\", \"children\"]);\n\n      var groupChildren = []; // add a separator above\n\n      if (!isFirstChild && !afterGroup) {\n        groupChildren.push(_ref3);\n      } // create a sublist as a group\n      // a wrapping listitem will be created by Options\n\n\n      groupChildren.push(React.createElement(Options, Object.assign({\n        id: id,\n        as: \"ul\",\n        role: \"group\",\n        renderLabel: renderLabel,\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }, omitProps(rest, _objectSpread({}, Options.propTypes, {}, Group.propTypes))), Children.map(children, function (child) {\n        return _this3.renderOption(child, {\n          getOptionProps: getOptionProps,\n          getDisabledOptionProps: getDisabledOptionProps\n        });\n      }))); // add a separator below\n\n      if (!isLastChild) {\n        groupChildren.push(_ref4);\n      }\n\n      return groupChildren;\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList(data) {\n      var _this4 = this;\n\n      var getListProps = data.getListProps,\n          getOptionProps = data.getOptionProps,\n          getDisabledOptionProps = data.getDisabledOptionProps;\n      var _this$props2 = this.props,\n          isShowingOptions = _this$props2.isShowingOptions,\n          optionsMaxWidth = _this$props2.optionsMaxWidth,\n          visibleOptionsCount = _this$props2.visibleOptionsCount,\n          children = _this$props2.children;\n      var lastWasGroup = false;\n      var viewProps = isShowingOptions ? {\n        display: 'block',\n        overflowY: 'auto',\n        maxHeight: this._optionHeight * visibleOptionsCount,\n        maxWidth: optionsMaxWidth || this.width,\n        background: 'primary',\n        elementRef: function elementRef(node) {\n          return _this4._listView = node;\n        }\n      } : {\n        maxHeight: 0\n      };\n      return React.createElement(View, viewProps, React.createElement(Options, Object.assign({}, getListProps({\n        as: 'ul',\n        elementRef: this.handleListRef\n      }), {\n        __dangerouslyIgnoreExperimentalWarnings: true\n      }), isShowingOptions ? Children.map(children, function (child, index) {\n        if (!child || !matchComponentTypes(child, [Group, Option])) {\n          return; // ignore invalid children\n        }\n\n        if (matchComponentTypes(child, [Option])) {\n          lastWasGroup = false;\n          return _this4.renderOption(child, {\n            getOptionProps: getOptionProps,\n            getDisabledOptionProps: getDisabledOptionProps\n          });\n        }\n\n        if (matchComponentTypes(child, [Group])) {\n          var afterGroup = lastWasGroup ? true : false;\n          lastWasGroup = true;\n          return _this4.renderGroup(child, {\n            getOptionProps: getOptionProps,\n            getDisabledOptionProps: getDisabledOptionProps,\n            // for rendering separators appropriately\n            isFirstChild: index === 0,\n            isLastChild: index === Children.count(children) - 1,\n            afterGroup: afterGroup\n          });\n        }\n      }) : null));\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      return React.createElement(\"span\", {\n        className: styles.icon\n      }, this.props.isShowingOptions ? _ref5 : _ref6);\n    }\n  }, {\n    key: \"renderInput\",\n    value: function renderInput(data) {\n      var getInputProps = data.getInputProps,\n          getTriggerProps = data.getTriggerProps;\n\n      var _this$props3 = this.props,\n          renderLabel = _this$props3.renderLabel,\n          inputValue = _this$props3.inputValue,\n          placeholder = _this$props3.placeholder,\n          isRequired = _this$props3.isRequired,\n          size = _this$props3.size,\n          isInline = _this$props3.isInline,\n          width = _this$props3.width,\n          htmlSize = _this$props3.htmlSize,\n          messages = _this$props3.messages,\n          renderBeforeInput = _this$props3.renderBeforeInput,\n          renderAfterInput = _this$props3.renderAfterInput,\n          onFocus = _this$props3.onFocus,\n          onBlur = _this$props3.onBlur,\n          onInputChange = _this$props3.onInputChange,\n          onRequestHideOptions = _this$props3.onRequestHideOptions,\n          rest = _objectWithoutProperties(_this$props3, [\"renderLabel\", \"inputValue\", \"placeholder\", \"isRequired\", \"size\", \"isInline\", \"width\", \"htmlSize\", \"messages\", \"renderBeforeInput\", \"renderAfterInput\", \"onFocus\", \"onBlur\", \"onInputChange\", \"onRequestHideOptions\"]);\n\n      var interaction = this.interaction;\n      var passthroughProps = omitProps(rest, Select.propTypes);\n\n      var _getTriggerProps = getTriggerProps(_objectSpread({}, passthroughProps)),\n          ref = _getTriggerProps.ref,\n          triggerProps = _objectWithoutProperties(_getTriggerProps, [\"ref\"]);\n\n      var isEditable = typeof onInputChange !== 'undefined'; // props to ensure screen readers treat uneditable selects as accessible\n      // popup buttons rather than comboboxes.\n\n      var overrideProps = !isEditable ? {\n        role: 'button',\n        title: inputValue,\n        'aria-autocomplete': null\n      } : {}; // backdoor to autocomplete attr to work around chrome autofill issues\n\n      if (passthroughProps['autoComplete']) {\n        overrideProps.autoComplete = passthroughProps['autoComplete'];\n      }\n\n      return React.createElement(TextInput, Object.assign({}, triggerProps, getInputProps(_objectSpread({\n        id: this.id,\n        renderLabel: renderLabel,\n        placeholder: placeholder,\n        size: size,\n        width: width,\n        htmlSize: htmlSize,\n        messages: messages,\n        value: inputValue,\n        inputRef: createChainedFunction(ref, this.handleInputRef),\n        inputContainerRef: this.handleInputContainerRef,\n        interaction: interaction === 'enabled' && !isEditable ? 'readonly' // prevent keyboard cursor\n        : interaction,\n        isRequired: isRequired,\n        display: isInline ? 'inline-block' : 'block',\n        renderBeforeInput: renderBeforeInput,\n        renderAfterInput: renderAfterInput || this.renderIcon(),\n        onChange: onInputChange,\n        onFocus: onFocus,\n        onBlur: createChainedFunction(onBlur, onRequestHideOptions)\n      }, overrideProps))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props4 = this.props,\n          size = _this$props4.size,\n          constrain = _this$props4.constrain,\n          placement = _this$props4.placement,\n          mountNode = _this$props4.mountNode,\n          assistiveText = _this$props4.assistiveText,\n          isShowingOptions = _this$props4.isShowingOptions; // clear temporary option store\n\n      this._optionIds = [];\n      var highlightedOptionId = this.highlightedOptionId;\n      var selectedOptionId = this.selectedOptionId;\n      var classes = classnames(styles.root, _defineProperty({}, styles[size], size));\n      return React.createElement(Selectable, Object.assign({\n        highlightedOptionId: highlightedOptionId,\n        isShowingOptions: isShowingOptions,\n        selectedOptionId: selectedOptionId ? selectedOptionId : null\n      }, this.getEventHandlers()), function (_ref7) {\n        var getRootProps = _ref7.getRootProps,\n            getInputProps = _ref7.getInputProps,\n            getTriggerProps = _ref7.getTriggerProps,\n            getListProps = _ref7.getListProps,\n            getOptionProps = _ref7.getOptionProps,\n            getDisabledOptionProps = _ref7.getDisabledOptionProps,\n            getDescriptionProps = _ref7.getDescriptionProps;\n        return React.createElement(\"span\", getRootProps({\n          className: classes\n        }), _this5.renderInput({\n          getInputProps: getInputProps,\n          getTriggerProps: getTriggerProps\n        }), React.createElement(\"span\", Object.assign({}, getDescriptionProps(), {\n          className: styles.assistiveText\n        }), assistiveText), React.createElement(Popover, {\n          constrain: constrain,\n          placement: placement,\n          mountNode: mountNode,\n          positionTarget: _this5._inputContainer,\n          isShowingContent: isShowingOptions,\n          shouldReturnFocus: false,\n          withArrow: false\n        }, _this5.renderList({\n          getListProps: getListProps,\n          getOptionProps: getOptionProps,\n          getDisabledOptionProps: getDisabledOptionProps\n        })));\n      });\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return this._input && isActiveElement(this._input);\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this.props.id || this._defaultId;\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this._inputContainer && this._inputContainer.offsetWidth;\n    }\n  }, {\n    key: \"interaction\",\n    get: function get() {\n      return getInteraction({\n        props: this.props\n      });\n    }\n  }, {\n    key: \"highlightedOptionId\",\n    get: function get() {\n      var highlightedOptionId = null;\n      Children.toArray(this.props.children).forEach(function (child) {\n        if (matchComponentTypes(child, [Group])) {\n          // group found\n          Children.toArray(child.props.children).forEach(function (option) {\n            // check options in group\n            if (option.props.isHighlighted) {\n              highlightedOptionId = option.props.id;\n            }\n          });\n        } else {\n          // ungrouped option found\n          if (child.props.isHighlighted) {\n            highlightedOptionId = child.props.id;\n          }\n        }\n      });\n      return highlightedOptionId;\n    }\n  }, {\n    key: \"selectedOptionId\",\n    get: function get() {\n      var selectedOptionId = [];\n      Children.toArray(this.props.children).forEach(function (child) {\n        if (matchComponentTypes(child, [Group])) {\n          // group found\n          Children.toArray(child.props.children).forEach(function (option) {\n            // check options in group\n            if (option.props.isSelected) {\n              selectedOptionId.push(option.props.id);\n            }\n          });\n        } else {\n          // ungrouped option found\n          if (child.props.isSelected) {\n            selectedOptionId.push(child.props.id);\n          }\n        }\n      });\n      if (selectedOptionId.length === 1) return selectedOptionId[0];\n      if (selectedOptionId.length === 0) return null;\n      return selectedOptionId;\n    }\n  }]);\n\n  Select.displayName = \"Select\";\n  return Select;\n}(Component), _class2.Option = Option, _class2.Group = Group, _class2.propTypes = {\n  /**\n  * The form field label.\n  */\n  renderLabel: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n  * The value to display in the text input.\n  */\n  inputValue: PropTypes.string,\n\n  /**\n  * Whether or not to show the options list.\n  */\n  isShowingOptions: PropTypes.bool,\n\n  /**\n  * The id of the text input. One is generated if not supplied.\n  */\n  id: PropTypes.string,\n\n  /**\n  * The size of the text input.\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * Additional helpful text to provide to screen readers about the operation\n  * of the component.\n  */\n  assistiveText: PropTypes.string,\n\n  /**\n  * Html placeholder text to display when the input has no value. This should\n  * be hint text, not a label replacement.\n  */\n  placeholder: PropTypes.string,\n\n  /**\n  * Specifies if interaction with the input is enabled, disabled, or readonly.\n  * When \"disabled\", the input changes visibly to indicate that it cannot\n  * receive user interactions. When \"readonly\" the input still cannot receive\n  * user interactions but it keeps the same styles as if it were enabled.\n  */\n  interaction: PropTypes.oneOf(['enabled', 'disabled', 'readonly']),\n\n  /**\n  * Whether or not the text input is required.\n  */\n  isRequired: PropTypes.bool,\n\n  /**\n  * Whether the input is rendered inline with other elements or if it\n  * is rendered as a block level element.\n  */\n  isInline: PropTypes.bool,\n\n  /**\n  * The width of the text input.\n  */\n  width: PropTypes.string,\n\n  /**\n  * The width of the text input, in characters, if a width is not explicitly\n  * provided via the `width` prop. Only applicable if `isInline={true}`.\n  */\n  htmlSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * The max width the options list can be before option text wraps. If not\n  * set, the list will only display as wide as the text input.\n  */\n  optionsMaxWidth: PropTypes.string,\n\n  /**\n  * The number of options that should be visible before having to scroll.\n  */\n  visibleOptionsCount: PropTypes.number,\n\n  /**\n  * Displays messages and validation for the input. It should be an object\n  * with the following shape:\n  * `{\n  *   text: PropTypes.string,\n  *   type: PropTypes.oneOf(['error', 'hint', 'success', 'screenreader-only'])\n  * }`\n  */\n  messages: PropTypes.arrayOf(FormPropTypes.message),\n\n  /**\n  * The placement of the options list.\n  */\n  placement: PositionPropTypes.placement,\n\n  /**\n  * The parent in which to constrain the placement.\n  */\n  constrain: PositionPropTypes.constrain,\n\n  /**\n   * An element or a function returning an element to use mount the options\n   * list to in the DOM (defaults to `document.body`)\n   */\n  mountNode: PositionPropTypes.mountNode,\n\n  /**\n  * Callback fired when text input receives focus.\n  */\n  onFocus: PropTypes.func,\n\n  /**\n  * Callback fired when text input loses focus.\n  */\n  onBlur: PropTypes.func,\n\n  /**\n  * Callback fired when text input value changes.\n  */\n  onInputChange: PropTypes.func,\n\n  /**\n  * Callback fired requesting that the options list be shown.\n  */\n  onRequestShowOptions: PropTypes.func,\n\n  /**\n  * Callback fired requesting that the options list be hidden.\n  */\n  onRequestHideOptions: PropTypes.func,\n\n  /**\n  * Callback fired requesting a particular option be highlighted.\n  */\n  onRequestHighlightOption: PropTypes.func,\n\n  /**\n  * Callback fired requesting a particular option be selected.\n  */\n  onRequestSelectOption: PropTypes.func,\n\n  /**\n  * A ref to the html `input` element.\n  */\n  inputRef: PropTypes.func,\n\n  /**\n  * A ref to the html `ul` element.\n  */\n  listRef: PropTypes.func,\n\n  /**\n  * Content to display before the text input. This will commonly be an icon or\n  * tags to show multiple selections.\n  */\n  renderBeforeInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Content to display after the text input. This content will replace the\n  * default arrow icons.\n  */\n  renderAfterInput: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * Children of type `<Select.Option />` or `<Select.Group />`.\n  */\n  children: ChildrenPropTypes.oneOf([Group, Option])\n}, _class2.defaultProps = {\n  inputValue: '',\n  isShowingOptions: false,\n  id: void 0,\n  size: 'medium',\n  assistiveText: void 0,\n  placeholder: null,\n  // Leave interaction default undefined so that `disabled` and `readOnly` can also be supplied\n  interaction: void 0,\n  isRequired: false,\n  isInline: false,\n  width: void 0,\n  htmlSize: void 0,\n  optionsMaxWidth: void 0,\n  visibleOptionsCount: 8,\n  messages: void 0,\n  placement: 'bottom stretch',\n  constrain: 'window',\n  mountNode: void 0,\n  onFocus: function onFocus(event) {},\n  onBlur: function onBlur(event) {},\n  onInputChange: void 0,\n  onRequestShowOptions: function onRequestShowOptions(event) {},\n  onRequestHideOptions: function onRequestHideOptions(event) {},\n  onRequestHighlightOption: function onRequestHighlightOption(event, data) {},\n  onRequestSelectOption: function onRequestSelectOption(event, data) {},\n  inputRef: function inputRef(node) {},\n  listRef: function listRef(node) {},\n  renderBeforeInput: null,\n  renderAfterInput: null,\n  children: null\n}, _temp)) || _class) || _class);\nexport default Select;\nexport { Select };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    smallIconSize: typography.fontSizeXSmall,\n    mediumIconSize: typography.fontSizeSmall,\n    largeIconSize: typography.fontSizeMedium,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest\n  };\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/*\n * Copyright (C) 2019 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n---\n  CanvasSelect is a wrapper on the new (as of instui 5 or 6 or so) controlled-only Select\n  While CanvasSelect is also controlled-only, it has a simpler api and is almost a drop-in\n  replacement for the old instui Select used throughout canvas at this time. One big difference\n  is the need to pass in an options property rather than rendering <Options> children\n\n  It does not currently support old-Select's allowCustom property\n  (see https://instructure.design/#DeprecatedSelect)\n\n  It only handles single-select. Multi-select will likely have to be in a separate component\n\n  <CanvasSelect\n    id=\"your-id\"\n    label=\"select's label\"\n    value={value}             // should match the ID of the selected option\n    onChange={handleChange}   // function(event, selectedOption)\n    {...otherPropsPassedToTheUnderlyingSelect}  // if you need to (width=\"100%\" is a popular one)\n  >\n    <CanvasSelect.Option key=\"1\" id=\"1\" value=\"1\">one</CanvasSelect.Option>\n    <CanvasSelect.Option key=\"2\" id=\"2\" value=\"2\">two</CanvasSelect.Option>\n    <CanvasSelect.Option key=\"3\" id=\"3\" value=\"3\">three</CanvasSelect.Option>\n  </CanvasSelect>\n---\n*/\nimport React from 'react';\nimport { func, node, string, oneOfType } from 'prop-types';\nimport { compact, castArray, isEqual } from 'lodash';\nimport { Select } from '@instructure/ui-select';\nimport { Alert } from '@instructure/ui-alerts';\nimport { matchComponentTypes } from '@instructure/ui-react-utils';\nimport formatMessage from './format-message';\nconst noOptionsOptionId = '_noOptionsOption'; // CanvasSelectOption and CanvasSelectGroup are components our client can create thru CanvasSelect\n// to pass us our options. They are never rendered themselves, but get transformed into INSTUI's\n// Select.Option and Select.Group on rendering CanvasSelect. See renderChildren below.\n\nfunction CanvasSelectOption() {\n  return /*#__PURE__*/React.createElement(\"div\", null);\n}\n\nCanvasSelectOption.propTypes = {\n  id: string.isRequired,\n  // eslint-disable-line react/no-unused-prop-types\n  value: string.isRequired // eslint-disable-line react/no-unused-prop-types\n\n};\n\nfunction CanvasSelectGroup() {\n  return /*#__PURE__*/React.createElement(\"div\", null);\n}\n\nCanvasSelectGroup.propTypes = {\n  label: string.isRequired // eslint-disable-line react/no-unused-prop-types\n\n};\nexport default class CanvasSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.backupKey = 0;\n\n    this.handleBlur = _event => {\n      this.setState({\n        highlightedOptionId: null\n      });\n    };\n\n    this.handleShowOptions = () => {\n      this.setState({\n        isShowingOptions: true\n      });\n    };\n\n    this.handleHideOptions = _event => {\n      this.setState(state => {\n        const text = this.getOptionLabelById(state.selectedOptionId);\n        return {\n          isShowingOptions: false,\n          highlightedOptionId: null,\n          inputValue: text,\n          announcement: formatMessage('List collapsed.')\n        };\n      });\n    };\n\n    this.handleHighlightOption = (event, {\n      id\n    }) => {\n      if (id === noOptionsOptionId) return;\n      const text = this.getOptionLabelById(id);\n      const nowOpen = this.state.isShowingOptions ? '' : formatMessage('List expanded.');\n      const inputValue = event.type === 'keydown' ? text : this.state.inputValue;\n      this.setState({\n        highlightedOptionId: id,\n        inputValue,\n        announcement: \"\".concat(text, \" \").concat(nowOpen)\n      });\n    };\n\n    this.handleSelectOption = (event, {\n      id\n    }) => {\n      if (id === noOptionsOptionId) {\n        this.setState({\n          isShowingOptions: false,\n          announcement: formatMessage('List collapsed')\n        });\n      } else {\n        const text = this.getOptionLabelById(id);\n        const prevSelection = this.state.selectedOptionId;\n        this.setState({\n          selectedOptionId: id,\n          inputValue: text,\n          isShowingOptions: false,\n          announcement: formatMessage('{option} selected. List collapsed.', {\n            option: text\n          })\n        });\n        const option = this.getOptionByFieldValue('id', id);\n\n        if (prevSelection !== id) {\n          this.props.onChange(event, option.props.value);\n        }\n      }\n    };\n\n    const _option = this.getOptionByFieldValue('value', props.value);\n\n    this.state = {\n      inputValue: _option ? _option.props.children : '',\n      isShowingOptions: false,\n      highlightedOptionId: null,\n      selectedOptionId: _option ? _option.props.id : null,\n      announcement: null\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.value !== prevProps.value || !isEqual(this.props.children, prevProps.children)) {\n      const option = this.getOptionByFieldValue('value', this.props.value); // eslint-disable-next-line react/no-did-update-set-state\n\n      this.setState({\n        inputValue: option ? option.props.children : '',\n        selectedOptionId: option ? option.props.id : ''\n      });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          id = _this$props.id,\n          label = _this$props.label,\n          value = _this$props.value,\n          onChange = _this$props.onChange,\n          children = _this$props.children,\n          noOptionsLabel = _this$props.noOptionsLabel,\n          otherProps = _objectWithoutProperties(_this$props, [\"id\", \"label\", \"value\", \"onChange\", \"children\", \"noOptionsLabel\"]);\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Select, Object.assign({\n      id: id,\n      renderLabel: () => label,\n      assistiveText: formatMessage('Use arrow keys to navigate options.'),\n      inputValue: this.state.inputValue,\n      isShowingOptions: this.state.isShowingOptions,\n      onBlur: this.handleBlur,\n      onRequestShowOptions: this.handleShowOptions,\n      onRequestHideOptions: this.handleHideOptions,\n      onRequestHighlightOption: this.handleHighlightOption,\n      onRequestSelectOption: this.handleSelectOption\n    }, otherProps), this.renderChildren(children)), /*#__PURE__*/React.createElement(Alert, {\n      liveRegion: () => document.getElementById('flash_screenreader_holder'),\n      liveRegionPoliteness: \"assertive\",\n      screenReaderOnly: true\n    }, this.state.announcement));\n  }\n\n  renderChildren(children) {\n    if (!Array.isArray(children)) {\n      // children is 1 child\n      if (matchComponentTypes(children, [CanvasSelectOption])) {\n        return this.renderOption(children);\n      } else if (matchComponentTypes(children, [CanvasSelectGroup])) {\n        return this.renderGroup(children);\n      } else {\n        return this.renderNoOptionsOption();\n      }\n    }\n\n    const opts = children.map(child => {\n      if (Array.isArray(child)) {\n        return this.renderChildren(child);\n      } else if (matchComponentTypes(child, [CanvasSelectOption])) {\n        return this.renderOption(child);\n      } else if (matchComponentTypes(child, [CanvasSelectGroup])) {\n        return this.renderGroup(child);\n      }\n\n      return null;\n    }).filter(child => !!child); // instui Select blows up on undefined options\n\n    if (opts.length === 0) {\n      return this.renderNoOptionsOption();\n    }\n\n    return opts;\n  }\n\n  renderOption(option) {\n    const _option$props = option.props,\n          id = _option$props.id,\n          children = _option$props.children,\n          optionProps = _objectWithoutProperties(_option$props, [\"id\", \"children\"]);\n\n    return /*#__PURE__*/React.createElement(Select.Option, Object.assign({\n      id: id,\n      key: option.key || id || ++this.backupKey,\n      isHighlighted: id === this.state.highlightedOptionId,\n      isSelected: id === this.state.selectedOptionId\n    }, optionProps), children);\n  }\n\n  renderGroup(group) {\n    const _group$props = group.props,\n          id = _group$props.id,\n          label = _group$props.label,\n          otherProps = _objectWithoutProperties(_group$props, [\"id\", \"label\"]);\n\n    const children = compact(castArray(group.props.children));\n    return /*#__PURE__*/React.createElement(Select.Group, Object.assign({\n      \"data-testid\": \"Group:\".concat(label),\n      renderLabel: () => label,\n      key: group.key || id || ++this.backupKey\n    }, otherProps), children.map(c => this.renderOption(c)));\n  }\n\n  renderNoOptionsOption() {\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      id: noOptionsOptionId,\n      isHighlighted: false,\n      isSelected: false\n    }, this.props.noOptionsLabel);\n  }\n\n  getOptionLabelById(oid) {\n    const option = this.getOptionByFieldValue('id', oid);\n    return option ? option.props.children : '';\n  }\n\n  getOptionByFieldValue(field, value, options = castArray(this.props.children)) {\n    if (!this.props.children) return null;\n    let foundOpt = null;\n\n    for (let i = 0; i < options.length; ++i) {\n      const o = options[i];\n\n      if (Array.isArray(o)) {\n        foundOpt = this.getOptionByFieldValue(field, value, o);\n      } else if (matchComponentTypes(o, [CanvasSelectOption])) {\n        if (o.props[field] === value) {\n          foundOpt = o;\n        }\n      } else if (matchComponentTypes(o, [CanvasSelectGroup])) {\n        const groupOptions = castArray(o.props.children);\n\n        for (let j = 0; j < groupOptions.length; ++j) {\n          const o2 = groupOptions[j];\n\n          if (o2.props[field] === value) {\n            foundOpt = o2;\n            break;\n          }\n        }\n      }\n\n      if (foundOpt) {\n        break;\n      }\n    }\n\n    return foundOpt;\n  }\n\n}\nCanvasSelect.Option = CanvasSelectOption;\nCanvasSelect.Group = CanvasSelectGroup;\nCanvasSelect.propTypes = {\n  id: string,\n  label: oneOfType([node, func]).isRequired,\n  value: string,\n  onChange: func.isRequired,\n  children: node,\n  noOptionsLabel: string // unselectable option to display when there are no options\n\n};\nCanvasSelect.defaultProps = {\n  noOptionsLabel: '---'\n};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport { themeable } from '@instructure/ui-themeable';\nimport { View } from '@instructure/ui-layout';\nimport { FormFieldGroup } from '@instructure/ui-form-field';\nimport { ScreenReaderContent } from '@instructure/ui-a11y';\nimport { Button } from '@instructure/ui-buttons';\nimport PropTypes from 'prop-types';\nimport { DateTimeInput } from '@instructure/ui-forms';\nimport { TextArea } from '@instructure/ui-text-area';\nimport { TextInput } from '@instructure/ui-text-input';\nimport moment from 'moment-timezone';\nimport CanvasSelect from '../../CanvasSelect';\nimport formatMessage from '../../format-message';\nimport { courseShape } from '../plannerPropTypes';\nconst styles = {\n  componentId: 'brMfX',\n  template: function (theme) {\n    return \"\\n\\n.root_V0ij{background:\".concat(theme.background || 'inherit', \";box-sizing:border-box;max-width:100%;width:19rem}\");\n  },\n  'root': 'root_V0ij'\n};\nimport theme from './theme';\nexport class UpdateItemTray extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateMessages = () => {\n      if (!this.state.updates.date) {\n        this.setState({\n          dateMessages: [{\n            type: 'error',\n            text: formatMessage('Date is required')\n          }]\n        });\n      } else {\n        this.setState({\n          dateMessages: []\n        });\n      }\n    };\n\n    this.handleSave = () => {\n      const updates = _objectSpread({}, this.state.updates);\n\n      if (updates.courseId) {\n        updates.context = {\n          id: updates.courseId\n        };\n      } else {\n        updates.context = {\n          id: null\n        };\n      }\n\n      updates.date = updates.date.toISOString();\n      delete updates.courseId;\n      this.props.onSavePlannerItem(updates);\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(state => ({\n        updates: _objectSpread({}, state.updates, {\n          [field]: value\n        })\n      }), this.updateMessages);\n    };\n\n    this.handleCourseIdChange = (e, value) => {\n      if (!value) return;\n      if (value === 'none') value = void 0;\n      this.handleChange('courseId', value);\n    };\n\n    this.handleTitleChange = e => {\n      const value = e.target.value;\n\n      if (value === '') {\n        this.setState({\n          titleMessages: [{\n            type: 'error',\n            text: formatMessage('title is required')\n          }]\n        });\n      } else {\n        this.setState({\n          titleMessages: []\n        });\n      }\n\n      this.handleChange('title', value);\n    };\n\n    this.handleDateChange = (e, isoDate) => {\n      const value = isoDate || '';\n      this.handleChange('date', moment.tz(value, this.props.timeZone));\n    };\n\n    this.onInvalidDateTimeMessage = this.invalidDateTimeMessage.bind(this);\n\n    this.handleDeleteClick = () => {\n      // eslint-disable-next-line no-restricted-globals, no-alert\n      if (confirm(formatMessage('Are you sure you want to delete this planner item?'))) {\n        this.props.onDeletePlannerItem(this.props.noteItem);\n      }\n    };\n\n    const _updates = this.getNoteUpdates(props);\n\n    this.state = {\n      updates: _updates,\n      titleMessages: [],\n      dateMessages: []\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (!_.isEqual(this.props.noteItem, nextProps.noteItem)) {\n      const updates = this.getNoteUpdates(nextProps);\n      this.setState({\n        updates\n      }, this.updateMessages);\n    }\n  }\n\n  editingExistingNote() {\n    return this.props.noteItem && this.props.noteItem.uniqueId;\n  }\n\n  getNoteUpdates(props) {\n    const updates = _.cloneDeep(props.noteItem) || {};\n\n    if (updates.context) {\n      updates.courseId = updates.context.id;\n      delete updates.context;\n    }\n\n    if (!updates.date) {\n      updates.date = moment.tz(props.timeZone).endOf('day');\n    }\n\n    return updates;\n  }\n\n  invalidDateTimeMessage(rawDateValue, _rawTimeValue) {\n    let errmsg;\n\n    if (rawDateValue) {\n      errmsg = formatMessage('#{date} is not a valid date.', {\n        date: rawDateValue\n      });\n    } else {\n      errmsg = formatMessage('You must provide a date and time.');\n    }\n\n    return errmsg;\n  } // separating the function from the bound callback is necessary so I can spy\n  // on invalidDateTimeMessage in unit tests.\n\n\n  findCurrentValue(field) {\n    return this.state.updates[field] || '';\n  }\n\n  isValid() {\n    if (this.state.updates.title && this.state.updates.date && this.state.updates.date.isValid()) {\n      return this.state.updates.title.replace(/\\s/g, '').length > 0;\n    }\n\n    return false;\n  }\n\n  renderDeleteButton() {\n    if (!this.editingExistingNote()) return;\n    return /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      margin: \"0 x-small 0 0\",\n      onClick: this.handleDeleteClick\n    }, formatMessage('Delete'));\n  }\n\n  renderSaveButton() {\n    return /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      margin: \"0 0 0 x-small\",\n      disabled: !this.isValid(),\n      onClick: this.handleSave\n    }, formatMessage('Save'));\n  }\n\n  renderTitleInput() {\n    const value = this.findCurrentValue('title');\n    return /*#__PURE__*/React.createElement(TextInput, {\n      renderLabel: () => formatMessage('Title'),\n      value: value,\n      messages: this.state.titleMessages,\n      onChange: this.handleTitleChange\n    });\n  }\n\n  renderDateInput() {\n    const datevalue = this.state.updates.date && this.state.updates.date.isValid() ? this.state.updates.date.toISOString() : void 0;\n    return /*#__PURE__*/React.createElement(DateTimeInput, {\n      required: true,\n      description: /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('The date and time this to do is due')),\n      messages: this.state.dateMessages,\n      dateLabel: formatMessage('Date'),\n      dateNextLabel: formatMessage('Next Month'),\n      datePreviousLabel: formatMessage('Previous Month'),\n      timeLabel: formatMessage('Time'),\n      timeStep: 30,\n      locale: this.props.locale,\n      timezone: this.props.timeZone,\n      value: datevalue,\n      layout: \"stacked\",\n      onChange: this.handleDateChange,\n      invalidDateTimeMessage: this.onInvalidDateTimeMessage\n    });\n  }\n\n  renderCourseSelect() {\n    const noneOption = {\n      value: 'none',\n      label: formatMessage('Optional: Add Course')\n    };\n    const courseOptions = (this.props.courses || []).filter(course => course.enrollmentType === 'StudentEnrollment').map(course => ({\n      value: course.id,\n      label: course.longName\n    }));\n    const courseId = this.findCurrentValue('courseId');\n    const selectedOption = courseId ? courseOptions.find(o => o.value === courseId) : noneOption;\n    return /*#__PURE__*/React.createElement(CanvasSelect, {\n      label: formatMessage('Course'),\n      id: \"to-do-item-course-select\",\n      value: selectedOption.value,\n      onChange: this.handleCourseIdChange\n    }, [noneOption, ...courseOptions].map(props => /*#__PURE__*/React.createElement(CanvasSelect.Option, {\n      key: props.value,\n      id: props.value,\n      value: props.value\n    }, props.label)));\n  }\n\n  renderDetailsInput() {\n    const value = this.findCurrentValue('details');\n    return /*#__PURE__*/React.createElement(TextArea, {\n      label: formatMessage('Details'),\n      height: \"10rem\",\n      autoGrow: false,\n      value: value,\n      onChange: e => this.handleChange('details', e.target.value)\n    });\n  }\n\n  renderTrayHeader() {\n    if (this.editingExistingNote()) {\n      return /*#__PURE__*/React.createElement(\"h2\", null, formatMessage('Edit {title}', {\n        title: this.props.noteItem.title\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"h2\", null, formatMessage('Add To Do'));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.root\n    }, /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      padding: \"large medium medium\"\n    }, /*#__PURE__*/React.createElement(FormFieldGroup, {\n      rowSpacing: \"small\",\n      description: /*#__PURE__*/React.createElement(ScreenReaderContent, null, this.renderTrayHeader())\n    }, this.renderTitleInput(), this.renderDateInput(), this.renderCourseSelect(), this.renderDetailsInput()), /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      margin: \"small 0 0\",\n      textAlign: \"end\"\n    }, this.renderDeleteButton(), this.renderSaveButton())));\n  }\n\n}\nUpdateItemTray.propTypes = {\n  courses: PropTypes.arrayOf(PropTypes.shape(courseShape)).isRequired,\n  noteItem: PropTypes.object,\n  onSavePlannerItem: PropTypes.func.isRequired,\n  onDeletePlannerItem: PropTypes.func.isRequired,\n  locale: PropTypes.string.isRequired,\n  timeZone: PropTypes.string.isRequired\n};\nexport default themeable(theme, styles)(UpdateItemTray);","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  typography\n}) {\n  const cssVars = {\n    background: colors.white\n  };\n  return cssVars;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Adapted from jQuery UI core\n *\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n **/\nimport { getComputedStyle, findDOMNode, elementMatches } from '@instructure/ui-dom-utils';\nimport { warn } from '@instructure/console';\n/**\n* ---\n* category: utilities/deprecated\n* id: deprecatedFindFocusable\n* ---\n*\n* Given an element, finds and returns all visible, focusable children.\n* Focusable elements include input, select, textarea, button, and object.\n* Anchor tags are also focusable if they include an href or\n* tabindex attribute (including tabindeces less than zero).\n*\n* @param {ReactComponent|DomNode} el - component or DOM node\n* @param {Function} filter - a function to filter the matching nodes\n* @param {Boolean} shouldSearchRootNode - should the root node be included in the search\n* @returns {Array} array of all tabbable children\n*/\n\nfunction findFocusable(el, filter, shouldSearchRootNode) {\n  warn(false, '[findFocusable] is deprecated. It has been moved from `@instructure/ui-a11y` to `@instructure/ui-dom-utils`');\n  var element = findDOMNode(el);\n\n  if (!element || typeof element.querySelectorAll !== 'function') {\n    return [];\n  }\n\n  var focusableSelector = 'a[href],frame,iframe,object,input:not([type=hidden]),select,textarea,button,*[tabindex]';\n  var matches = Array.from(element.querySelectorAll(focusableSelector));\n\n  if (shouldSearchRootNode && elementMatches(element, focusableSelector)) {\n    matches = [].concat(_toConsumableArray(matches), [element]);\n  }\n\n  return matches.filter(function (el) {\n    if (typeof filter === 'function') {\n      return filter(el) && focusable(el);\n    } else {\n      return focusable(el);\n    }\n  });\n}\n\nfunction hidden(element) {\n  var cs = getComputedStyle(element);\n  return cs.display !== 'inline' && element.offsetWidth <= 0 && element.offsetHeight <= 0 || cs.display === 'none';\n}\n\nfunction positioned(element) {\n  var POS = ['fixed', 'absolute'];\n  if (POS.includes(element.style.position.toLowerCase())) return true;\n  if (POS.includes(getComputedStyle(element).getPropertyValue('position').toLowerCase())) return true;\n  return false;\n}\n\nfunction visible(element) {\n  /* eslint no-param-reassign:0 */\n  while (element) {\n    if (element === document.body) break;\n    if (hidden(element)) return false;\n    if (positioned(element)) break;\n    element = element.parentNode;\n  }\n\n  return true;\n}\n\nfunction focusable(element) {\n  return !element.disabled && visible(element);\n}\n\nexport default findFocusable;\nexport { findFocusable };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { warn } from '@instructure/console';\nimport { findFocusable } from './findFocusable';\n/**\n * ---\n * category: utilities/deprecated\n * id: deprecatedFindTabbable\n * ---\n *\n * Given an element, finds and returns all visible, tabbable children.\n * Tabbable elements include input, select, textarea, button, and object.\n * Anchor tags are also tabbable if they include an href or zero or positive\n * tabindex attribute (to include elements with negative tabindex attributes,\n * use findFocusable).\n *\n * @param {ReactComponent|DomNode} el - component or DOM node\n * @param {Boolean} shouldSearchRootNode - should the root node be included in the search\n * @returns {Array} array of all tabbable children\n */\n\nfunction findTabbable(el, shouldSearchRootNode) {\n  warn(false, '[findTabbable] is deprecated. It has been moved from `@instructure/ui-a11y` to `@instructure/ui-dom-utils`');\n  return findFocusable(el, function (element) {\n    return !isInvalidTabIndex(element.getAttribute('tabindex'));\n  }, shouldSearchRootNode);\n}\n\nfunction isInvalidTabIndex(tabIndex) {\n  return !isNaN(tabIndex) && tabIndex < 0;\n}\n\nexport default findTabbable;\nexport { findTabbable };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { findDOMNode, isActiveElement, containsActiveElement, getActiveElement } from '@instructure/ui-dom-utils';\nimport { findTabbable } from './findTabbable';\n/**\n * ---\n * category: utilities/deprecated\n * id: deprecatedScopeTab\n * ---\n *\n * Scope tab in order to trap focus within a specified\n * element.\n *\n * @param {ReactElement|DOMNode} element\n * @param {Event} event the DOM Event that was fired\n * @param {function} function executed when leaving final tabbable instead of the default behavior\n */\n\nfunction scopeTab(element, event, onLeavingFinalTabbable) {\n  var node = findDOMNode(element);\n  var tabbable = findTabbable(node);\n\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  } // Account for a changing tabindex of the active element\n  // (a case that happens with Menu for KO a11y)\n\n\n  if (containsActiveElement(element)) {\n    var activeElement = getActiveElement();\n\n    if (tabbable.indexOf(activeElement) === -1) {\n      tabbable.push(activeElement);\n    }\n  }\n\n  var finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  var leavingFinalTabbable = isActiveElement(finalTabbable) || // handle immediate shift+tab after opening with mouse\n  isActiveElement(node) || // already left final tabbable\n  !containsActiveElement(element);\n  if (!leavingFinalTabbable) return;\n\n  if (typeof onLeavingFinalTabbable === 'function') {\n    onLeavingFinalTabbable();\n    return;\n  }\n\n  event.preventDefault();\n  var target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n  target.focus();\n}\n\nexport default scopeTab;\nexport { scopeTab };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { warn as _warn } from \"@instructure/console\";\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addInputModeListener, addEventListener, containsActiveElement, findFocusable } from '@instructure/ui-dom-utils';\nimport { polyfill } from '@instructure/ui-react-utils';\n\nvar Focusable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Focusable, _Component);\n\n  function Focusable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Focusable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Focusable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._focusListener = null;\n    _this._blurListener = null;\n    _this._inputModeListener = null;\n    _this.state = {\n      focused: false,\n      focusable: false\n    };\n\n    _this.handleInputModeChange = function () {\n      _this.forceUpdate();\n    };\n\n    _this.handleFocus = function (event) {\n      _this.removeFocusListener();\n\n      _this.setState({\n        focused: true\n      });\n    };\n\n    _this.handleBlur = function (event) {\n      _this.removeBlurListener();\n\n      _this.setState({\n        focused: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Focusable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var focusable = this.focusable,\n          focused = this.focused;\n      this.addFocusableListeners(focusable, focused);\n      this._inputModeListener = addInputModeListener({\n        onInputModeChange: this.handleInputModeChange\n      });\n      this.setState({\n        focusable: focusable,\n        focused: focused\n      });\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n      var _this$props = this.props,\n          render = _this$props.render,\n          children = _this$props.children; // prevent blur from firing when focusable element is replaced\n\n      if (prevProps.children !== children || prevProps.render !== render) {\n        this.removeFocusableListeners();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var focusable = this.focusable;\n\n      if (!focusable && this.state.focusable) {\n        this.removeFocusableListeners();\n        this.setState({\n          focusable: false,\n          focused: false\n        });\n      } else if (focusable !== this.state.focusable) {\n        this.removeFocusableListeners();\n\n        if (this.state.focused) {\n          focusable.focus();\n        }\n\n        this.addFocusableListeners(focusable, this.state.focused);\n        this.setState({\n          focusable: focusable\n        });\n      } else {\n        this.addFocusableListeners(focusable, this.state.focused);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._inputModeListener) {\n        this._inputModeListener.remove();\n\n        this._inputModeListener = null;\n      }\n\n      this.removeFocusableListeners();\n    }\n  }, {\n    key: \"addFocusableListeners\",\n    value: function addFocusableListeners(focusable, focused) {\n      if (!focusable) return;\n\n      if (focused && !this._blurListener) {\n        this._blurListener = addEventListener(focusable, 'blur', this.handleBlur, true);\n      } else if (!this._focusListener) {\n        this._focusListener = addEventListener(focusable, 'focus', this.handleFocus, true);\n      }\n    }\n  }, {\n    key: \"removeFocusableListeners\",\n    value: function removeFocusableListeners() {\n      this.removeFocusListener();\n      this.removeBlurListener();\n    }\n  }, {\n    key: \"removeFocusListener\",\n    value: function removeFocusListener() {\n      if (this._focusListener) {\n        this._focusListener.remove();\n\n        this._focusListener = null;\n      }\n    }\n  }, {\n    key: \"removeBlurListener\",\n    value: function removeBlurListener() {\n      if (this._blurListener) {\n        this._blurListener.remove();\n\n        this._blurListener = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var focusable = this.focusable;\n\n      if (focusable) {\n        focusable.focus();\n      }\n    }\n  }, {\n    key: \"isFocusVisible\",\n    value: function isFocusVisible(focusable, focused) {\n      if (!focusable || !focused) return false; // always show focus for keyboard input mode\n\n      if (this._inputModeListener && this._inputModeListener.isKeyboardMode()) return true;\n      var tagName = focusable.tagName,\n          type = focusable.type,\n          isContentEditable = focusable.isContentEditable;\n\n      if (tagName == 'INPUT' && Focusable.inputTypes[type]) {\n        return true;\n      }\n\n      if (tagName == 'TEXTAREA') {\n        return true;\n      }\n\n      if (isContentEditable) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          _this$props2$render = _this$props2.render,\n          render = _this$props2$render === void 0 ? children : _this$props2$render;\n      var _this$state = this.state,\n          focusable = _this$state.focusable,\n          focused = _this$state.focused;\n\n      if (typeof render === 'function') {\n        return render({\n          focused: focused,\n          focusable: focusable,\n          focusVisible: this.isFocusVisible(focusable, focused)\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"focused\",\n    get: function get() {\n      return containsActiveElement(this);\n    }\n  }, {\n    key: \"focusable\",\n    get: function get() {\n      var focusable = findFocusable(this, function () {\n        return true;\n      }, true) || [];\n      var focusableCount = focusable && focusable.length || 0;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _warn(focusableCount === 1, \"[Focusable] Exactly one focusable child is required (\".concat(focusableCount, \" found).\"));\n\n      focusable = focusable ? focusable[0] : false;\n\n      if (focusable && typeof focusable.focus === 'function') {\n        return focusable;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"focusVisible\",\n    get: function get() {\n      var _this$state2 = this.state,\n          focusable = _this$state2.focusable,\n          focused = _this$state2.focused;\n      return this.isFocusVisible(focusable, focused);\n    }\n  }]);\n\n  Focusable.displayName = \"Focusable\";\n  return Focusable;\n}(Component);\n\nFocusable.propTypes = {\n  /**\n   * @param {Object} renderProps\n   * @param {Boolean} renderProps.focused - Is the element focused (via keyboard only)?\n   * @param {HTMLElement} renderProps.focusable - The focusable element\n   * @param {Boolean} renderProps.focusVisible - Whether the focus state should be visible or not\n   */\n  children: PropTypes.func,\n\n  /**\n   * Identical to children\n   */\n  render: PropTypes.func\n};\nFocusable.defaultProps = {\n  children: null,\n  render: void 0\n};\nFocusable.inputTypes = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\npolyfill(Focusable);\nexport default Focusable;\nexport { Focusable };\nexport { default as FocusableView } from '../FocusableView';","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { passthroughProps, callRenderProp, deprecated } from '@instructure/ui-react-utils';\nimport { View } from '@instructure/ui-view';\nvar styles = {\n  componentId: 'bdYPe',\n  template: function template(theme) {\n    return \"\\n\\n.bdYPe_bGBk{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;font-family:\".concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";user-select:none}\\n\\n.bdYPe_bGBk[aria-disabled],.bdYPe_bGBk[aria-selected]{cursor:default}\\n\\n.bdYPe_bGBk[aria-disabled]{opacity:0.5}\\n\\n.bdYPe_bGBk:focus{outline:none}\\n\\n.bdYPe_ddES,.bdYPe_eLeB{white-space:nowrap}\\n\\n.bdYPe_eLeB{-webkit-margin-end:0.2em;border:0.0625rem solid transparent;border-top-left-radius:0.1875rem;border-top-right-radius:0.1875rem;box-sizing:border-box;color:\").concat(theme.secondaryColor || 'inherit', \";margin-bottom:-0.0625rem;margin-inline-end:0.2em;padding:0.7em 1em}\\n\\n[dir=ltr] .bdYPe_eLeB{margin-right:0.2em}\\n\\n[dir=rtl] .bdYPe_eLeB{margin-left:0.2em}\\n\\n.bdYPe_eLeB:first-of-type{-webkit-margin-start:0;margin-inline-start:0}\\n\\n[dir=ltr] .bdYPe_eLeB:first-of-type{margin-left:0}\\n\\n[dir=rtl] .bdYPe_eLeB:first-of-type{margin-right:0}\\n\\n.bdYPe_eLeB:not([aria-selected]):not([aria-disabled]):hover,.bdYPe_eLeB[aria-selected]{background:\").concat(theme.secondarySelectedBackground || 'inherit', \";border-color:\").concat(theme.secondarySelectedBorderColor || 'inherit', \"}\\n\\n.bdYPe_eLeB:hover,.bdYPe_eLeB[aria-disabled],.bdYPe_eLeB[aria-selected]{color:\").concat(theme.secondarySelectedColor || 'inherit', \"}\\n\\n.bdYPe_eLeB[aria-selected]{border-bottom-color:\").concat(theme.secondarySelectedBackground || 'inherit', \";z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n@keyframes bdYPe_epeh{to{opacity:1;transform:translateZ(0) scaleX(1)}}\\n\\n.bdYPe_ddES{color:\").concat(theme.defaultColor || 'inherit', \";line-height:1;padding:1rem 1.25rem;position:relative;z-index:\").concat(theme.zIndex || 'inherit', \"}\\n\\n.bdYPe_ddES:after{bottom:-0.0625rem;content:\\\"\\\";height:0.25rem;inset-inline-start:0;opacity:0;position:absolute;transform:translateZ(0) scaleX(0.01);width:100%}\\n\\n[dir=ltr] .bdYPe_ddES:after{left:0}\\n\\n[dir=rtl] .bdYPe_ddES:after{right:0}\\n\\n.bdYPe_ddES[aria-disabled]{font-weight:400}\\n\\n.bdYPe_ddES:not([aria-selected]):not([aria-disabled]):hover{border-bottom-color:\").concat(theme.defaultHoverBorderColor || 'inherit', \"}\\n\\n.bdYPe_ddES[aria-selected]:after{animation-duration:0.2s;animation-fill-mode:forwards;animation-name:bdYPe_epeh;animation-timing-function:ease-out;background-color:\").concat(theme.defaultSelectedBorderColor || 'inherit', \"}\");\n  },\n  'root': 'bdYPe_bGBk',\n  'default': 'bdYPe_ddES',\n  'secondary': 'bdYPe_eLeB',\n  'selectedTab': 'bdYPe_epeh'\n};\nimport theme from './theme';\n/**\n---\nparent: Tabs\nid: Tabs.Tab\n---\n**/\n\nvar Tab = (_dec = deprecated('7.0.0', {\n  selected: 'isSelected',\n  disabled: 'isDisabled'\n}), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tab, _Component);\n\n  function Tab() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Tab);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Tab)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClick = function (event) {\n      var _this$props = _this.props,\n          onClick = _this$props.onClick,\n          index = _this$props.index,\n          id = _this$props.id,\n          disabled = _this$props.disabled,\n          isDisabled = _this$props.isDisabled;\n\n      if (disabled || isDisabled) {\n        return;\n      }\n\n      onClick(event, {\n        index: index,\n        id: id\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _this$props2 = _this.props,\n          onKeyDown = _this$props2.onKeyDown,\n          index = _this$props2.index,\n          id = _this$props2.id,\n          disabled = _this$props2.disabled,\n          isDisabled = _this$props2.isDisabled;\n\n      if (disabled || isDisabled) {\n        return;\n      }\n\n      onKeyDown(event, {\n        index: index,\n        id: id\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Tab, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          variant = _this$props3.variant,\n          selected = _this$props3.selected,\n          disabled = _this$props3.disabled,\n          controls = _this$props3.controls,\n          children = _this$props3.children,\n          props = _objectWithoutProperties(_this$props3, [\"id\", \"variant\", \"selected\", \"disabled\", \"controls\", \"children\"]);\n\n      var isSelected = selected || props.isSelected;\n      var isDisabled = disabled || props.isDisabled;\n      return React.createElement(View, Object.assign({}, passthroughProps(props), {\n        as: \"div\",\n        role: \"tab\",\n        id: id,\n        onClick: this.handleClick,\n        onKeyDown: this.handleKeyDown,\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[variant], true), _classnames)),\n        \"aria-selected\": isSelected ? 'true' : null,\n        \"aria-disabled\": isDisabled ? 'true' : null,\n        \"aria-controls\": controls,\n        tabIndex: isSelected && !isDisabled ? '0' : null\n      }), callRenderProp(children));\n    }\n  }]);\n\n  Tab.displayName = \"Tab\";\n  return Tab;\n}(Component), _class2.propTypes = {\n  variant: PropTypes.oneOf(['default', 'secondary']),\n  id: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  controls: PropTypes.string.isRequired,\n  isDisabled: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n  * deprecated\n  */\n  disabled: PropTypes.bool,\n\n  /**\n  * deprecated\n  */\n  selected: PropTypes.bool\n}, _class2.defaultProps = {\n  children: null,\n  variant: 'default',\n  isDisabled: false,\n  disabled: void 0,\n  isSelected: false,\n  selected: void 0,\n  onClick: function onClick(event, _ref) {\n    var index = _ref.index,\n        id = _ref.id;\n  },\n  onKeyDown: function onKeyDown(event, _ref2) {\n    var index = _ref2.index,\n        id = _ref2.id;\n  }\n}, _temp)) || _class) || _class);\nexport default Tab;\nexport { Tab };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var colors = _ref.colors,\n      typography = _ref.typography,\n      stacking = _ref.stacking;\n  return {\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeightCondensed,\n    fontSize: typography.fontSizeMedium,\n    defaultColor: colors.textDarkest,\n    defaultlHoverBorderColor: colors.borderMedium,\n    defaultSelectedBorderColor: colors.borderBrand,\n    secondaryColor: colors.textBrand,\n    secondarySelectedBackground: colors.backgroundLightest,\n    secondarySelectedBorderColor: colors.borderMedium,\n    secondarySelectedColor: colors.textDarkest,\n    zIndex: stacking.above\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    defaultColor: variables['ic-brand-font-color-dark'],\n    defaultSelectedBorderColor: variables['ic-brand-primary'],\n    secondaryColor: variables['ic-brand-primary'],\n    secondarySelectedColor: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _dec2, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { passthroughProps, deprecated } from '@instructure/ui-react-utils';\nimport { Transition } from '@instructure/ui-motion';\nvar styles = {\n  componentId: 'dpCPB',\n  template: function template(theme) {\n    return \"\\n\\n.dpCPB_bGBk{font-family:\".concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \"}\\n\\n.dpCPB_caGd,.dpCPB_bGBk{box-sizing:border-box}\\n\\n.dpCPB_caGd{background:\").concat(theme.background || 'inherit', \";border-color:\").concat(theme.borderColor || 'inherit', \";border-style:\").concat(theme.borderStyle || 'inherit', \";border-width:\").concat(theme.borderWidth || 'inherit', \";color:\").concat(theme.color || 'inherit', \";width:100%}\\n\\n.dpCPB_cLQw{overflow:auto}\\n\\n.dpCPB_ddES .dpCPB_caGd,.dpCPB_eLeB .dpCPB_caGd{border-bottom:none;border-left:none;border-right:none}\");\n  },\n  'root': 'dpCPB_bGBk',\n  'content': 'dpCPB_caGd',\n  'overflow': 'dpCPB_cLQw',\n  'default': 'dpCPB_ddES',\n  'secondary': 'dpCPB_eLeB'\n};\nimport theme from './theme';\n/**\n---\nparent: Tabs\nid: Tabs.Panel\n---\n**/\n\nvar Panel = (_dec = deprecated('7.0.0', {\n  title: 'renderTitle',\n  selected: 'isSelected',\n  disabled: 'isDisabled'\n}), _dec2 = themeable(theme, styles), _dec(_class = _dec2(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Panel, _Component);\n\n  function Panel() {\n    _classCallCheck(this, Panel);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Panel).apply(this, arguments));\n  }\n\n  _createClass(Panel, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames, _classnames2;\n\n      var _this$props = this.props,\n          selected = _this$props.selected,\n          disabled = _this$props.disabled,\n          labelledBy = _this$props.labelledBy,\n          variant = _this$props.variant,\n          id = _this$props.id,\n          maxHeight = _this$props.maxHeight,\n          minHeight = _this$props.minHeight,\n          padding = _this$props.padding,\n          textAlign = _this$props.textAlign,\n          children = _this$props.children,\n          elementRef = _this$props.elementRef,\n          props = _objectWithoutProperties(_this$props, [\"selected\", \"disabled\", \"labelledBy\", \"variant\", \"id\", \"maxHeight\", \"minHeight\", \"padding\", \"textAlign\", \"children\", \"elementRef\"]); // TODO: clean this up when selected and disabled props are removed in 7.0:\n\n\n      var isSelected = selected || props.isSelected;\n      var isDisabled = disabled || props.isDisabled;\n      var isHidden = !isSelected || !!isDisabled;\n      return React.createElement(\"div\", Object.assign({}, passthroughProps(props), {\n        className: classnames((_classnames = {}, _defineProperty(_classnames, styles.root, true), _defineProperty(_classnames, styles[variant], true), _classnames)),\n        role: \"tabpanel\",\n        id: id,\n        \"aria-labelledby\": labelledBy,\n        \"aria-hidden\": isHidden ? 'true' : null,\n        ref: elementRef\n      }), React.createElement(Transition, {\n        type: \"fade\",\n        in: !isHidden,\n        unmountOnExit: true,\n        transitionExit: false\n      }, React.createElement(View, {\n        className: classnames((_classnames2 = {}, _defineProperty(_classnames2, styles.content, true), _defineProperty(_classnames2, styles.overflow, maxHeight), _classnames2)),\n        maxHeight: maxHeight,\n        minHeight: minHeight,\n        as: \"div\",\n        padding: padding,\n        textAlign: textAlign\n      }, children)));\n    }\n  }]);\n\n  Panel.displayName = \"Panel\";\n  return Panel;\n}(Component), _class2.propTypes = {\n  /**\n  * The content that will be rendered in the corresponding <Tab /> and will label\n  * this `<Tabs.Panel />` for screen readers\n  */\n  renderTitle: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  children: PropTypes.node,\n  variant: PropTypes.oneOf(['default', 'secondary']),\n  isSelected: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  maxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  id: PropTypes.string,\n  labelledBy: PropTypes.string,\n  padding: ThemeablePropTypes.spacing,\n  textAlign: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n  * deprecated\n  */\n  title: PropTypes.node,\n\n  /**\n  * deprecated\n  */\n  selected: PropTypes.bool,\n\n  /**\n  * deprecated\n  */\n  disabled: PropTypes.bool,\n  elementRef: PropTypes.func\n}, _class2.defaultProps = {\n  children: null,\n  id: void 0,\n  disabled: void 0,\n  isDisabled: false,\n  maxHeight: void 0,\n  minHeight: void 0,\n  textAlign: 'start',\n  variant: 'default',\n  labelledBy: null,\n  selected: void 0,\n  isSelected: false,\n  padding: 'small',\n  title: void 0,\n  elementRef: function elementRef(el) {}\n}, _temp)) || _class) || _class);\nexport default Panel;\nexport { Panel };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function generator(_ref) {\n  var typography = _ref.typography,\n      colors = _ref.colors,\n      borders = _ref.borders;\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    lineHeight: typography.lineHeight,\n    color: colors.textDarkest,\n    background: colors.backgroundLightest,\n    borderColor: colors.borderMedium,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    color: variables['ic-brand-font-color-dark']\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { error as _error } from \"@instructure/console\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _temp;\n\n/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport keycode from 'keycode';\nimport { View } from '@instructure/ui-view';\nimport { themeable, ThemeablePropTypes } from '@instructure/ui-themeable';\nimport { Children } from '@instructure/ui-prop-types';\nimport { deprecated, matchComponentTypes, safeCloneElement, passthroughProps } from '@instructure/ui-react-utils';\nimport { uid } from '@instructure/uid';\nimport { testable } from '@instructure/ui-testable';\nimport { Focusable } from '@instructure/ui-focusable';\nimport { Tab } from './Tab';\nimport { Panel } from './Panel';\nvar styles = {\n  componentId: 'XBLto',\n  template: function template(theme) {\n    return \"\\n\\n.XBLto_bXVH{display:flex;flex-flow:row wrap}\\n\\n.XBLto_ddES{background:\".concat(theme.defaultBackground || 'inherit', \"}\");\n  },\n  'tabs': 'XBLto_bXVH',\n  'default': 'XBLto_ddES'\n};\nimport theme from './theme';\n/**\n---\ncategory: components\n---\n**/\n\nvar Tabs = (_dec = deprecated('7.0.0', {\n  size: 'maxWidth',\n  selectedIndex: true,\n  onChange: 'onRequestTabChange',\n  focus: 'shouldFocusOnRender'\n}), _dec2 = testable(), _dec3 = themeable(theme, styles), _dec(_class = _dec2(_class = _dec3(_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tabs, _Component);\n\n  function Tabs() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Tabs);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Tabs)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleTabClick = function (event, _ref) {\n      var index = _ref.index,\n          id = _ref.id;\n\n      var nextTab = _this.getNextTab(index, 0);\n\n      _this.fireOnChange(event, nextTab);\n    };\n\n    _this.handleTabKeyDown = function (event, _ref2) {\n      var index = _ref2.index;\n      var nextTab;\n\n      if (event.keyCode === keycode.codes.up || event.keyCode === keycode.codes.left) {\n        // Select next tab to the left\n        nextTab = _this.getNextTab(index, -1);\n      } else if (event.keyCode === keycode.codes.down || event.keyCode === keycode.codes.right) {\n        // Select next tab to the right\n        nextTab = _this.getNextTab(index, 1);\n      }\n\n      if (nextTab) {\n        event.preventDefault();\n\n        _this.fireOnChange(event, nextTab);\n      }\n    };\n\n    _this.handleFocusableRef = function (el) {\n      _this._focusable = el;\n    };\n\n    return _this;\n  }\n\n  _createClass(Tabs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.focus || this.props.shouldFocusOnRender) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.focus && !prevProps.focus || this.props.shouldFocusOnRender && !prevProps.shouldFocusOnRender) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"getNextTab\",\n    value: function getNextTab(startIndex, step) {\n      var tabs = React.Children.toArray(this.props.children).map(function (child) {\n        return matchComponentTypes(child, [Panel]) && child;\n      });\n      var count = tabs.length;\n      var change = step < 0 ? step + count : step;\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(startIndex >= 0 && startIndex < count, \"[Tabs] Invalid tab index: '\".concat(startIndex, \"'.\"));\n\n      var nextIndex = startIndex;\n      var nextTab;\n\n      do {\n        nextIndex = (nextIndex + change) % count;\n        nextTab = tabs[nextIndex];\n      } while (nextTab && nextTab.props && (nextTab.props.disabled || nextTab.props.isDisabled));\n\n      /*#__PURE__*/\n\n      /*#__PURE__*/\n      _error(nextIndex >= 0 && nextIndex < count, \"[Tabs] Invalid tab index: '\".concat(nextIndex, \"'.\"));\n\n      return {\n        index: nextIndex,\n        id: nextTab.props.id\n      };\n    }\n  }, {\n    key: \"fireOnChange\",\n    value: function fireOnChange(event, _ref3) {\n      var index = _ref3.index,\n          id = _ref3.id;\n\n      if (typeof this.props.onChange === 'function') {\n        this.props.onChange(event, {\n          index: index\n        });\n      }\n\n      if (typeof this.props.onRequestTabChange === 'function') {\n        this.props.onRequestTabChange(event, {\n          index: index,\n          id: id\n        });\n      }\n    }\n  }, {\n    key: \"createTab\",\n    value: function createTab(index, generatedId, selected, panel) {\n      var id = panel.props.id || generatedId;\n      var disabled = panel.props.disabled || panel.props.isDisabled;\n      return createElement(Tab, {\n        variant: this.props.variant,\n        key: \"tab-\".concat(id),\n        id: \"tab-\".concat(id),\n        controls: panel.props.id || \"panel-\".concat(id),\n        index: index,\n        selected: void 0,\n        isSelected: selected,\n        disabled: void 0,\n        isDisabled: disabled,\n        children: panel.props.renderTitle || panel.props.title,\n        onClick: this.handleTabClick,\n        onKeyDown: this.handleTabKeyDown\n      });\n    }\n  }, {\n    key: \"clonePanel\",\n    value: function clonePanel(index, generatedId, selected, panel) {\n      var id = panel.props.id || generatedId;\n      return safeCloneElement(panel, {\n        id: panel.props.id || \"panel-\".concat(id),\n        labelledBy: \"tab-\".concat(id),\n        selected: void 0,\n        isSelected: selected,\n        key: panel.props.id || \"panel-\".concat(id),\n        variant: this.props.variant,\n        padding: panel.props.padding || this.props.padding,\n        textAlign: panel.props.textAlign || this.props.textAlign,\n        maxHeight: panel.maxHeight || this.props.maxHeight,\n        minHeight: panel.minHeight || this.props.minHeight\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this._focusable && typeof this._focusable.focus === 'function' && this._focusable.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var panels = [];\n      var tabs = [];\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          elementRef = _this$props.elementRef,\n          size = _this$props.size,\n          maxWidth = _this$props.maxWidth,\n          variant = _this$props.variant,\n          margin = _this$props.margin,\n          screenReaderLabel = _this$props.screenReaderLabel,\n          onRequestTabChange = _this$props.onRequestTabChange,\n          onChange = _this$props.onChange,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"elementRef\", \"size\", \"maxWidth\", \"variant\", \"margin\", \"screenReaderLabel\", \"onRequestTabChange\", \"onChange\"]);\n\n      var selectedChildIndex = React.Children.toArray(children).filter(function (child) {\n        return matchComponentTypes(child, [Panel]);\n      }).findIndex(function (child) {\n        return (child.props.selected || child.props.isSelected) && !(child.props.disabled || child.props.isDisabled);\n      });\n      var index = 0;\n      var selectedIndex = props.selectedIndex || (selectedChildIndex >= 0 ? selectedChildIndex : 0);\n      React.Children.forEach(children, function (child) {\n        if (matchComponentTypes(child, [Panel])) {\n          var selected = !(child.props.disabled || child.props.isDisabled) && (child.props.selected || child.props.isSelected || selectedIndex === index);\n          var id = uid();\n          tabs.push(_this2.createTab(index, id, selected, child));\n          panels.push(_this2.clonePanel(index, id, selected, child));\n          index++;\n        } else {\n          panels.push(child);\n        }\n      });\n      return React.createElement(View, Object.assign({}, passthroughProps(props), {\n        elementRef: elementRef,\n        maxWidth: maxWidth ? maxWidth : this.theme[size],\n        margin: margin,\n        as: \"div\",\n        className: classnames(_defineProperty({}, styles[variant], true))\n      }), React.createElement(Focusable, {\n        ref: this.handleFocusableRef\n      }, function (_ref4) {\n        var focusVisible = _ref4.focusVisible;\n        return React.createElement(View, {\n          as: \"div\",\n          display: \"flex\",\n          position: \"relative\",\n          borderRadius: \"medium\",\n          withFocusOutline: focusVisible,\n          shouldAnimateFocus: false,\n          role: \"tablist\",\n          className: styles.tabs,\n          \"aria-label\": screenReaderLabel\n        }, tabs);\n      }), panels);\n    }\n  }]);\n\n  Tabs.displayName = \"Tabs\";\n  return Tabs;\n}(Component), _class2.propTypes = {\n  /**\n  * children of type `Tabs.Panel`\n  */\n  children: Children.oneOf([Panel, null]),\n  variant: PropTypes.oneOf(['default', 'secondary']),\n\n  /**\n  * A screen ready only label for the list of tabs\n  */\n  screenReaderLabel: PropTypes.string,\n\n  /**\n  * Called when the selected tab should change\n  */\n  onRequestTabChange: PropTypes.func,\n  maxWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  minHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n  * Valid values are `0`, `none`, `auto`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `margin=\"small auto large\"`.\n  */\n  margin: ThemeablePropTypes.spacing,\n\n  /**\n  * Valid values are `0`, `none`, `xxx-small`, `xx-small`, `x-small`,\n  * `small`, `medium`, `large`, `x-large`, `xx-large`. Apply these values via\n  * familiar CSS-like shorthand. For example: `padding=\"small x-large large\"`.\n  */\n  padding: ThemeablePropTypes.spacing,\n  textAlign: PropTypes.oneOf(['start', 'center', 'end']),\n  elementRef: PropTypes.func,\n  shouldFocusOnRender: PropTypes.bool,\n\n  /**\n  * deprecated\n  */\n  onChange: PropTypes.func,\n\n  /**\n  * deprecated\n  */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n  * deprecated\n  */\n  selectedIndex: PropTypes.number,\n\n  /**\n  * deprecated\n  */\n  focus: PropTypes.bool\n}, _class2.defaultProps = {\n  selectedIndex: void 0,\n  variant: 'default',\n  padding: void 0,\n  textAlign: void 0,\n  size: void 0,\n  maxWidth: void 0,\n  maxHeight: void 0,\n  minHeight: void 0,\n  onChange: void 0,\n  onRequestTabChange: function onRequestTabChange(event, _ref5) {\n    var index = _ref5.index,\n        id = _ref5.id;\n  },\n  margin: void 0,\n  children: null,\n  elementRef: function elementRef(el) {},\n  screenReaderLabel: void 0,\n  focus: void 0,\n  shouldFocusOnRender: false\n}, _class2.Panel = Panel, _class2.Tab = Tab, _temp)) || _class) || _class) || _class);\nexport default Tabs;\nexport { Tabs, Panel };","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nexport default function (_ref) {\n  var colors = _ref.colors,\n      breakpoints = _ref.breakpoints;\n  return {\n    defaultBackground: colors.backgroundLightest,\n    small: breakpoints.small,\n    medium: breakpoints.medium,\n    large: breakpoints.large\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M960.195 831.973L432.222 304 304 432.222l527.973 527.973L304 1488.168l128.222 128.222 527.973-527.973 527.973 527.973 128.222-128.222-527.973-527.973 527.973-527.973L1488.168 304z\",\n  fillRule: \"nonzero\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconXLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconXLine, _Component);\n\n  function IconXLine() {\n    _classCallCheck(this, IconXLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconXLine).apply(this, arguments));\n  }\n\n  _createClass(IconXLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconX\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconXLine.displayName = \"IconXLine\";\n  return IconXLine;\n}(Component);\n\nIconXLine.glyphName = 'x';\nIconXLine.variant = 'Line';\nIconXLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconXLine;\nexport { IconXLine };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { themeable } from '@instructure/ui-themeable';\nimport moment from 'moment-timezone';\nimport { Button } from '@instructure/ui-buttons';\nimport { Pill } from '@instructure/ui-elements';\nimport { PresentationContent, ScreenReaderContent } from '@instructure/ui-a11y';\nimport { IconXLine } from '@instructure/ui-icons';\nimport { bool, string, number, func, object } from 'prop-types';\nimport { getFullDateAndTime } from '../../utilities/dateUtils';\nimport formatMessage from '../../format-message';\nimport { animatable } from '../../dynamic-ui';\nconst styles = {\n  componentId: 'eAJaG',\n  template: function (theme) {\n    return \"\\n\\n.root_2_RE{background:\".concat(theme.background || 'inherit', \";box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";padding:\").concat(theme.padding || 'inherit', \";position:relative}\\n\\n.oppNameAndTitle_2_RE{max-width:16.5rem}\\n\\n.oppName_2_RE{box-sizing:border-box;color:\").concat(theme.secondaryColor || 'inherit', \";flex:1;font-size:\").concat(theme.nameFontSize || 'inherit', \";letter-spacing:0.0625rem;margin-right:\").concat(theme.closeButtonIconSize || 'inherit', \";min-width:1px;padding-top:\").concat(theme.namePaddingTop || 'inherit', \";text-transform:uppercase}\\n\\n.title_2_RE{margin-bottom:\").concat(theme.titleMargin || 'inherit', \"}\\n\\n.close_2_RE{offset-inline-end:0;position:absolute;top:0}\\n\\n[dir=ltr] .close_2_RE{right:0}\\n\\n[dir=rtl] .close_2_RE{left:0}\\n\\n.oppName_2_RE,.title_2_RE{-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;word-wrap:break-word}\\n\\n.footer_2_RE{align-items:flex-end;box-sizing:border-box;display:flex;justify-content:space-between;padding-inline-end:\").concat(theme.footerPadding || 'inherit', \"}\\n\\n[dir=ltr] .footer_2_RE{padding-right:\").concat(theme.footerPadding || 'inherit', \"}\\n\\n[dir=rtl] .footer_2_RE{padding-left:\").concat(theme.footerPadding || 'inherit', \"}\\n\\n.status_2_RE{box-sizing:border-box;flex-grow:1;min-width:1px;padding-inline-end:\").concat(theme.statusPadding || 'inherit', \"}\\n\\n[dir=ltr] .status_2_RE{padding-right:\").concat(theme.statusPadding || 'inherit', \"}\\n\\n[dir=rtl] .status_2_RE{padding-left:\").concat(theme.statusPadding || 'inherit', \"}\\n\\n.points_2_RE{box-sizing:border-box;color:\").concat(theme.secondaryColor || 'inherit', \";flex-shrink:0;font-size:\").concat(theme.pointsFontSize || 'inherit', \";line-height:\").concat(theme.pointsLineHeight || 'inherit', \";min-width:1px;text-align:end;text-transform:uppercase}\\n\\n[dir=ltr] .points_2_RE{text-align:right}\\n\\n[dir=rtl] .points_2_RE{text-align:left}\\n\\n.pointsNumber_2_RE{display:block;font-size:\").concat(theme.pointsNumberFontSize || 'inherit', \"}\\n\\n.due_2_RE{color:\").concat(theme.secondaryColor || 'inherit', \";font-size:\").concat(theme.dueFontSize || 'inherit', \";margin-top:\").concat(theme.dueMargin || 'inherit', \"}\\n\\n.dueText_2_RE{font-weight:\").concat(theme.dueTextFontWeight || 'inherit', \"}\");\n  },\n  'root': 'root_2_RE',\n  'oppNameAndTitle': 'oppNameAndTitle_2_RE',\n  'oppName': 'oppName_2_RE',\n  'title': 'title_2_RE',\n  'close': 'close_2_RE',\n  'footer': 'footer_2_RE',\n  'status': 'status_2_RE',\n  'points': 'points_2_RE',\n  'pointsNumber': 'pointsNumber_2_RE',\n  'due': 'due_2_RE',\n  'dueText': 'dueText_2_RE'\n};\nimport theme from './theme.js';\nexport class Opportunity extends Component {\n  constructor(props) {\n    super(props);\n\n    this.linkRef = ref => {\n      this.link = ref;\n    };\n\n    this.dismiss = () => {\n      if (this.props.dismiss) {\n        this.props.dismiss(this.props.id, this.props.plannerOverride);\n      }\n    };\n\n    const tzMomentizedDate = moment.tz(props.dueAt, props.timeZone);\n    this.fullDate = getFullDateAndTime(tzMomentizedDate);\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('opportunity', this, this.props.animatableIndex, [this.props.id]);\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.props.deregisterAnimatable('opportunity', this, [this.props.id]);\n    this.props.registerAnimatable('opportunity', this, newProps.animatableIndex, [newProps.id]);\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('opportunity', this, [this.props.id]);\n  }\n\n  getFocusable() {\n    return this.link;\n  }\n\n  renderButton() {\n    const isDismissed = this.props.plannerOverride && this.props.plannerOverride.dismissed;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.close\n    }, isDismissed ? null : /*#__PURE__*/React.createElement(Button, {\n      onClick: this.dismiss,\n      variant: \"icon\",\n      icon: IconXLine,\n      size: \"small\",\n      title: formatMessage('Dismiss {opportunityName}', {\n        opportunityName: this.props.opportunityTitle\n      })\n    }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('Dismiss {opportunityName}', {\n      opportunityName: this.props.opportunityTitle\n    }))));\n  }\n\n  renderPoints() {\n    if (typeof this.props.points !== 'number') {\n      return /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('There are no points associated with this item'));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.points\n    }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('{points} points', {\n      points: this.props.points\n    })), /*#__PURE__*/React.createElement(PresentationContent, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.pointsNumber\n    }, this.props.points), formatMessage('points')));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.root\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.oppNameAndTitle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.oppName\n    }, this.props.courseName), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"link\",\n      theme: {\n        mediumPadding: '0',\n        mediumHeight: 'normal'\n      },\n      href: this.props.url,\n      buttonRef: this.linkRef\n    }, this.props.opportunityTitle))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.footer\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.status\n    }, /*#__PURE__*/React.createElement(Pill, {\n      text: formatMessage('Missing'),\n      variant: \"danger\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.due\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.dueText\n    }, formatMessage('Due:')), \" \", this.fullDate)), this.renderPoints()), this.renderButton());\n  }\n\n}\nOpportunity.propTypes = {\n  id: string.isRequired,\n  dueAt: string.isRequired,\n  points: number,\n  courseName: string.isRequired,\n  opportunityTitle: string.isRequired,\n  timeZone: string.isRequired,\n  url: string.isRequired,\n  dismiss: func,\n  plannerOverride: object,\n  registerAnimatable: func,\n  deregisterAnimatable: func,\n  animatableIndex: number\n};\nOpportunity.defaultProps = {\n  registerAnimatable: () => {},\n  deregisterAnimatable: () => {},\n  dismiss: () => {}\n};\nexport default animatable(themeable(theme, styles)(Opportunity));","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  spacing,\n  typography\n}) {\n  return {\n    lineHeight: typography.lineHeightCondensed,\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.licorice,\n    secondaryColor: colors.slate,\n    background: colors.white,\n    namePaddingTop: spacing.xxSmall,\n    nameFontSize: typography.fontSizeSmall,\n    statusPadding: spacing.small,\n    dueFontSize: typography.fontSizeXSmall,\n    dueMargin: spacing.xxSmall,\n    dueTextFontWeight: typography.fontWeightBold,\n    footerPadding: spacing.xSmall,\n    pointsFontSize: typography.fontSizeXSmall,\n    pointsNumberFontSize: typography.fontSizeLarge,\n    pointsLineHeight: typography.lineHeightFit,\n    titleMargin: spacing.xSmall,\n    closeButtonIconSize: '1.75rem' // to match instui Button smallHeight\n\n  };\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { themeable } from '@instructure/ui-themeable';\nimport { scopeTab, AccessibleContent } from '@instructure/ui-a11y';\nimport keycode from 'keycode';\nimport { Tabs } from '@instructure/ui-tabs';\nimport { CloseButton } from '@instructure/ui-buttons';\nimport { array, string, func, number, oneOfType } from 'prop-types';\nimport Opportunity from '../Opportunity';\nimport { specialFallbackFocusId } from '../../dynamic-ui/util';\nimport { animatable } from '../../dynamic-ui';\nimport formatMessage from '../../format-message';\nconst styles = {\n  componentId: 'fzQJr',\n  template: function (theme) {\n    return \"\\n\\n.root_3FFz{box-sizing:border-box;line-height:\".concat(theme.lineHeight || 'inherit', \";max-height:36rem;max-width:100%;overflow:auto;padding:\").concat(theme.padding || 'inherit', \";width:20rem}\\n\\n.header_3FFz{border-bottom:\").concat(theme.borderBottom || 'inherit', \";margin-bottom:0.25rem;text-align:center}\\n\\n[dir=ltr] .header_3FFz,[dir=rtl] .header_3FFz{text-align:center}\\n\\n.list_3FFz{box-sizing:border-box;color:\").concat(theme.color || 'inherit', \";list-style-type:none}\\n\\n.item_3FFz,.list_3FFz{margin:0;padding:0}\\n\\n.item_3FFz:not(:last-of-type){margin-bottom:\").concat(theme.itemMargin || 'inherit', \"}\\n\\n.item_3FFz:not(:first-of-type){border-top:\").concat(theme.borderWidth || 'inherit', \" \").concat(theme.borderStyle || 'inherit', \" \").concat(theme.borderColor || 'inherit', \";padding-top:\").concat(theme.itemPadding || 'inherit', \"}\\n\\n.loading_3FFz,[dir=ltr] .loading_3FFz,[dir=rtl] .loading_3FFz{text-align:center}\");\n  },\n  'root': 'root_3FFz',\n  'header': 'header_3FFz',\n  'list': 'list_3FFz',\n  'item': 'item_3FFz',\n  'loading': 'loading_3FFz'\n};\nimport theme from './theme.js';\nexport const OPPORTUNITY_SPECIAL_FALLBACK_FOCUS_ID = specialFallbackFocusId('opportunity');\nexport class Opportunities extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleTabChange = (event, {\n      index,\n      id\n    }) => {\n      this.setState({\n        selectedIndex: index\n      });\n    };\n\n    this.handleKeyDown = event => {\n      if (event.keyCode === keycode.codes.tab) {\n        scopeTab(this._content, event);\n      }\n\n      if (event.keyCode === keycode.codes.escape) {\n        event.preventDefault();\n        this.props.togglePopover();\n      }\n    };\n\n    this.courseAttr = (id, attr) => {\n      const course = this.props.courses.find(c => c.id === id) || {};\n      return course[attr];\n    };\n\n    this.getTabPanelContentDivRefFromList = ol => {\n      this.tabPanelContentDiv = ol && ol.parentElement;\n    };\n\n    this.state = {\n      innerMaxHeight: 'auto',\n      selectedIndex: 0\n    };\n    this.closeButtonRef = null;\n    this.tabPanelContentDiv = null;\n  }\n\n  componentDidMount() {\n    this.props.registerAnimatable('opportunity', this, -1, [OPPORTUNITY_SPECIAL_FALLBACK_FOCUS_ID]);\n    this.setMaxHeight(this.props);\n    this.closeButtonRef.focus();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setMaxHeight(nextProps);\n  }\n\n  componentWillUnmount() {\n    this.props.deregisterAnimatable('opportunity', this, [OPPORTUNITY_SPECIAL_FALLBACK_FOCUS_ID]);\n  }\n\n  getFocusable() {\n    return this.closeButtonRef;\n  }\n\n  // the only place on the TabList heirarchy where we can set a maxHeight is on\n  // TabPanel, which puts the style on it's child content-holding div.\n  // To keep the scrolling area w/in the TabPanel's content so that\n  // the TabList doesn't outgrow its parent and the user winds up scrolling the tabs\n  // out of view, we need to subtract out how much space the TabList's boilerplate takes\n  // up to set the TabPanel's maxHeight appropriately.\n  // Unfortunately TabPanel's tabRef returns a ref to the Tab, and TabPanel's ref returns\n  // a ref to the TabPanel component. Even if we get it's div, it doesn't have it's padding\n  // at the time when the component mounts and our calculation is off.\n  setMaxHeight(props) {\n    let mxht = 'auto';\n\n    if (this.tabPanelContentDiv) {\n      const style = window.getComputedStyle(this.tabPanelContentDiv);\n      const padding = parseInt(style['padding-top']) + parseInt(style['padding-bottom']);\n      const border = parseInt(style['border-top-width']) + parseInt(style['border-bottom-width']);\n      mxht = \"\".concat(props.maxHeight - this.tabPanelContentDiv.offsetTop - padding - border, \"px\");\n    }\n\n    this.setState({\n      innerMaxHeight: mxht\n    });\n  } // the parent of the <ol> holding the opportunities is the div TabPanel will assign\n  // TabPanel's maxHeight prop to.\n\n\n  renderOpportunities(opportunities, dismissed) {\n    return /*#__PURE__*/React.createElement(\"ol\", {\n      className: styles.list,\n      ref: this.getTabPanelContentDivRefFromList\n    }, opportunities.map((opportunity, oppIndex) => /*#__PURE__*/React.createElement(\"li\", {\n      key: opportunity.id,\n      className: styles.item\n    }, /*#__PURE__*/React.createElement(Opportunity, {\n      id: opportunity.id,\n      dueAt: opportunity.due_at,\n      points: opportunity.points_possible,\n      courseName: this.courseAttr(opportunity.course_id, 'shortName'),\n      opportunityTitle: opportunity.name,\n      timeZone: this.props.timeZone,\n      dismiss: dismissed ? null : this.props.dismiss,\n      plannerOverride: opportunity.planner_override,\n      url: opportunity.html_url,\n      animatableIndex: oppIndex\n    }))));\n  }\n\n  renderNewOpportunities() {\n    return this.props.newOpportunities.length ? this.renderOpportunities(this.props.newOpportunities, false) : /*#__PURE__*/React.createElement(\"div\", null, formatMessage('Nothing new needs attention.'));\n  }\n\n  renderDismissedOpportunities() {\n    return this.props.dismissedOpportunities.length ? this.renderOpportunities(this.props.dismissedOpportunities, true) : /*#__PURE__*/React.createElement(\"div\", null, formatMessage('Nothing here needs attention.'));\n  }\n\n  renderTitle(which) {\n    const srtitle = which === 'new' ? formatMessage('New Opportunities') : formatMessage('Dismissed Opportunities');\n    const title = which === 'new' ? formatMessage('New') : formatMessage('Dismissed');\n    return /*#__PURE__*/React.createElement(AccessibleContent, {\n      alt: srtitle\n    }, title);\n  }\n\n  renderCloseButton() {\n    return /*#__PURE__*/React.createElement(CloseButton, {\n      placement: \"end\",\n      offset: \"x-small\",\n      variant: \"icon\",\n      onClick: this.props.togglePopover,\n      buttonRef: el => {\n        this.closeButtonRef = el;\n      }\n    }, formatMessage('Close Opportunity Center popup'));\n  }\n\n  render() {\n    const selectedIndex = this.state.selectedIndex;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"opportunities_parent\",\n      className: styles.root,\n      onKeyDown: this.handleKeyDown,\n      ref: c => {\n        this._content = c;\n      },\n      style: {\n        maxHeight: this.props.maxHeight\n      }\n    }, this.renderCloseButton(), /*#__PURE__*/React.createElement(Tabs, {\n      onRequestTabChange: this.handleTabChange\n    }, /*#__PURE__*/React.createElement(Tabs.Panel, {\n      renderTitle: this.renderTitle('new'),\n      maxHeight: this.state.innerMaxHeight,\n      selected: selectedIndex === 0\n    }, this.renderNewOpportunities()), /*#__PURE__*/React.createElement(Tabs.Panel, {\n      renderTitle: this.renderTitle('dismissed'),\n      maxHeight: this.state.innerMaxHeight,\n      selected: selectedIndex === 1\n    }, this.renderDismissedOpportunities())));\n  }\n\n}\nOpportunities.propTypes = {\n  newOpportunities: array.isRequired,\n  dismissedOpportunities: array.isRequired,\n  timeZone: string.isRequired,\n  courses: array.isRequired,\n  dismiss: func.isRequired,\n  togglePopover: func.isRequired,\n  maxHeight: oneOfType([number, string]),\n  registerAnimatable: func,\n  deregisterAnimatable: func\n};\nOpportunities.defaultProps = {\n  maxHeight: 'none',\n  registerAnimatable: () => {},\n  deregisterAnimatable: () => {}\n};\nexport default animatable(themeable(theme, styles)(Opportunities));","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  borders,\n  colors,\n  spacing,\n  typography\n}) {\n  return {\n    padding: \"\".concat(spacing.xSmall, \" \").concat(spacing.small, \" \").concat(spacing.small),\n    borderBottom: \"\".concat(borders.widthSmall, \" \").concat(borders.style, \" \").concat(colors.tiara),\n    borderColor: colors.tiara,\n    borderWidth: borders.widthSmall,\n    borderStyle: borders.style,\n    itemMargin: spacing.small,\n    itemPadding: spacing.xxSmall,\n    lineHeight: typography.lineHeightCondensed\n  };\n}","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors\n}) {\n  return {\n    courseColor: colors.brand\n  };\n}\n\ngenerator['canvas-a11y'] = generator['modern-a11y'] = function ({\n  colors\n}) {\n  return {\n    courseColor: colors.licorice\n  };\n};\n\ngenerator.canvas = function (variables) {\n  return {\n    courseColor: variables['ic-brand-primary']\n  };\n};","/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { themeable } from '@instructure/ui-themeable';\nimport { bool, string, arrayOf, shape } from 'prop-types';\nimport { View } from '@instructure/ui-layout';\nimport { Heading, Spinner, Text } from '@instructure/ui-elements';\nimport { Button } from '@instructure/ui-buttons';\nimport { courseShape } from '../plannerPropTypes';\nimport formatMessage from '../../format-message';\nimport ErrorAlert from '../ErrorAlert';\nconst styles = {\n  componentId: 'cMptf',\n  template: function (theme) {\n    return \"\\n\\n.course_1QkD{border-bottom-color:\".concat(theme.courseColor || 'inherit', \"}\");\n  },\n  'course': 'course_1QkD'\n};\nimport theme from './theme.js';\nexport class GradesDisplay extends React.Component {\n  scoreString(score) {\n    const fixedScore = parseFloat(score);\n    if (isNaN(fixedScore)) return formatMessage('No Grade');\n    return \"\".concat(fixedScore.toFixed(2), \"%\");\n  }\n\n  renderSpinner() {\n    return /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      textAlign: \"center\",\n      margin: \"0 0 large 0\"\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      renderTitle: () => formatMessage('Grades are loading'),\n      size: \"small\"\n    }));\n  }\n\n  renderCaveat() {\n    if (this.props.loading) return;\n\n    if (this.props.courses.some(course => course.hasGradingPeriods)) {\n      return /*#__PURE__*/React.createElement(View, {\n        as: \"div\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/React.createElement(Text, {\n        size: \"x-small\",\n        fontStyle: \"italic\"\n      }, formatMessage('*Only most recent grading period shown.')));\n    }\n  }\n\n  renderGrades() {\n    if (this.props.loadingError) return;\n    return this.props.courses.map(course => {\n      const courseNameStyles = {\n        borderBottom: \"solid thin\",\n        borderBottomColor: course.color\n      };\n      return /*#__PURE__*/React.createElement(View, {\n        key: course.id,\n        as: \"div\",\n        margin: \"0 0 large 0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.course,\n        style: courseNameStyles\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        size: \"small\",\n        theme: {\n          smallPadding: '0',\n          smallHeight: 'normal'\n        },\n        href: \"\".concat(course.href, \"/grades\")\n      }, /*#__PURE__*/React.createElement(Text, {\n        transform: \"uppercase\"\n      }, course.shortName))), /*#__PURE__*/React.createElement(Text, {\n        as: \"div\",\n        size: \"large\",\n        weight: \"light\"\n      }, this.scoreString(course.score)));\n    });\n  }\n\n  renderError() {\n    if (this.props.loadingError) {\n      return /*#__PURE__*/React.createElement(ErrorAlert, {\n        error: this.props.loadingError\n      }, formatMessage('Error loading grades'));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(View, null, this.renderError(), /*#__PURE__*/React.createElement(View, {\n      textAlign: \"center\"\n    }, /*#__PURE__*/React.createElement(Heading, {\n      level: \"h2\",\n      margin: \"0 0 large 0\"\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: \"medium\",\n      weight: \"bold\"\n    }, formatMessage('My Grades')))), this.props.loading ? this.renderSpinner() : this.renderGrades(), this.renderCaveat());\n  }\n\n}\nGradesDisplay.propTypes = {\n  loading: bool,\n  loadingError: string,\n  courses: arrayOf(shape(courseShape)).isRequired\n};\nGradesDisplay.defaultProps = {\n  loading: false\n};\nexport default themeable(theme, styles)(GradesDisplay);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M906.228.001L277 629.229 432.901 785.13l363.072-363.071V1919.99h220.51V422.059l363.073 363.071 155.9-155.901z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowUpSolid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowUpSolid, _Component);\n\n  function IconArrowUpSolid() {\n    _classCallCheck(this, IconArrowUpSolid);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowUpSolid).apply(this, arguments));\n  }\n\n  _createClass(IconArrowUpSolid, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowUp\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowUpSolid.displayName = \"IconArrowUpSolid\";\n  return IconArrowUpSolid;\n}(Component);\n\nIconArrowUpSolid.glyphName = 'arrow-up';\nIconArrowUpSolid.variant = 'Solid';\nIconArrowUpSolid.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowUpSolid;\nexport { IconArrowUpSolid };","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M902.83 0v1699.925l-476.465-476.467L345 1304.823 960.177 1920l615.407-615.177-81.365-81.365-476.466 476.467V0z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconArrowDownLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconArrowDownLine, _Component);\n\n  function IconArrowDownLine() {\n    _classCallCheck(this, IconArrowDownLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconArrowDownLine).apply(this, arguments));\n  }\n\n  _createClass(IconArrowDownLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconArrowDown\",\n        viewBox: \"0 0 1920 1920\"\n      }), _ref);\n    }\n  }]);\n\n  IconArrowDownLine.displayName = \"IconArrowDownLine\";\n  return IconArrowDownLine;\n}(Component);\n\nIconArrowDownLine.glyphName = 'arrow-down';\nIconArrowDownLine.variant = 'Line';\nIconArrowDownLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconArrowDownLine;\nexport { IconArrowDownLine };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { darken } from '@instructure/ui-color-utils';\nexport default function generator({\n  borders,\n  colors,\n  typography,\n  spacing\n}) {\n  return {\n    fontSize: typography.fontSizeXSmall,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.white,\n    background: colors.brand,\n    backgroundHover: darken(colors.brand, 5),\n    padding: \"0 \".concat(spacing.small),\n    textTransform: 'uppercase',\n    lineHeight: spacing.medium,\n    iconMargin: spacing.xxSmall,\n    hasIconRightPadding: spacing.xSmall,\n    borderRadius: borders.radiusMedium,\n    focusRingWidth: borders.widthSmall,\n    focusRingColor: colors.brand\n  };\n}\n\ngenerator.canvas = function (variables) {\n  return {\n    background: variables['ic-brand-primary'],\n    backgroundHover: darken(variables['ic-brand-primary'], 5),\n    focusRingColor: variables['ic-brand-primary']\n  };\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { themeable } from '@instructure/ui-themeable';\nimport { bool, func, node, number, string, oneOf } from 'prop-types';\nimport { IconArrowUpSolid, IconArrowDownLine } from '@instructure/ui-icons';\nimport { ScreenReaderContent } from '@instructure/ui-a11y';\nconst styles = {\n  componentId: 'feqxT',\n  template: function (theme) {\n    return \"\\n\\n.root_3o4v{-moz-appearance:none;-webkit-appearance:none;-webkit-user-select:none;appearance:none;background-color:\".concat(theme.background || 'inherit', \";border:none;border-bottom-left-radius:\").concat(theme.borderRadius || 'inherit', \";border-bottom-right-radius:\").concat(theme.borderRadius || 'inherit', \";color:\").concat(theme.color || 'inherit', \";cursor:pointer;display:block;font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";line-height:\").concat(theme.lineHeight || 'inherit', \";outline:none;overflow:visible;padding:0;position:fixed;text-transform:\").concat(theme.textTransform || 'inherit', \";touch-action:manipulation;transition:background-color 0.2s;user-select:none;white-space:nowrap}\\n\\n.root_3o4v,.root_3o4v:before{box-sizing:border-box}\\n\\n.root_3o4v:before{border:\").concat(theme.focusRingWidth || 'inherit', \" solid \").concat(theme.focusRingColor || 'inherit', \";border-bottom-left-radius:\").concat(theme.borderRadius || 'inherit', \";border-bottom-right-radius:\").concat(theme.borderRadius || 'inherit', \";content:\\\"\\\";height:calc(100% + 0.5rem);left:-0.25rem;opacity:0;position:absolute;top:-0.25rem;transform:scale(0.25);transition:all 0.2s ease-out;width:calc(100% + 0.5rem)}\\n\\n.root_3o4v:focus:before{opacity:1;transform:scale(1)}\\n\\n.root_3o4v:focus,.root_3o4v:hover{background-color:\").concat(theme.backgroundHover || 'inherit', \"}\\n\\n.root_3o4v:focus .icon_3o4v,.root_3o4v:hover .icon_3o4v{transform:translate3d(0,-0.0625rem,0) scale(1.2)}\\n\\n.root_3o4v[aria-disabled]{cursor:not-allowed;opacity:0.5;pointer-events:none}\\n\\n.icon_3o4v{display:block;font-size:0.75rem;margin-inline-start:\").concat(theme.iconMargin || 'inherit', \";transform:translate3d(0,-0.0625rem,0);transition:all 0.2s}\\n\\n[dir=ltr] .icon_3o4v{margin-left:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n[dir=rtl] .icon_3o4v{margin-right:\").concat(theme.iconMargin || 'inherit', \"}\\n\\n.direction--down_3o4v .layout_3o4v,.direction--up_3o4v .layout_3o4v{padding-inline-end:\").concat(theme.hasIconRightPadding || 'inherit', \"}\\n\\n[dir=ltr] .direction--down_3o4v .layout_3o4v,[dir=ltr] .direction--up_3o4v .layout_3o4v{padding-right:\").concat(theme.hasIconRightPadding || 'inherit', \"}\\n\\n[dir=rtl] .direction--down_3o4v .layout_3o4v,[dir=rtl] .direction--up_3o4v .layout_3o4v{padding-left:\").concat(theme.hasIconRightPadding || 'inherit', \"}\\n\\n.layout_3o4v{align-items:center;box-sizing:border-box;display:flex;height:100%;padding:\").concat(theme.padding || 'inherit', \";width:100%}\\n\\n.newActivityButton_3o4v{offset-inline-start:0;position:absolute;top:100%}\\n\\n[dir=ltr] .newActivityButton_3o4v{left:0}\\n\\n[dir=rtl] .newActivityButton_3o4v{right:0}\");\n  },\n  'root': 'root_3o4v',\n  'icon': 'icon_3o4v',\n  'direction--down': 'direction--down_3o4v',\n  'layout': 'layout_3o4v',\n  'direction--up': 'direction--up_3o4v',\n  'newActivityButton': 'newActivityButton_3o4v'\n};\nimport theme from './theme.js';\n\nclass StickyButton extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = e => {\n      const _this$props = this.props,\n            disabled = _this$props.disabled,\n            onClick = _this$props.onClick;\n\n      if (disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n      } else if (typeof onClick === 'function') {\n        onClick(e);\n      }\n    };\n  }\n\n  renderIcon() {\n    const direction = this.props.direction;\n\n    if (direction === 'up') {\n      return /*#__PURE__*/React.createElement(IconArrowUpSolid, {\n        className: styles.icon\n      });\n    } else if (direction === 'down') {\n      return /*#__PURE__*/React.createElement(IconArrowDownLine, {\n        className: styles.icon\n      });\n    } else {\n      return null;\n    }\n  }\n\n  get descriptionId() {\n    return \"\".concat(this.props.id, \"_desc\");\n  }\n\n  renderDescription() {\n    if (this.props.description) {\n      return /*#__PURE__*/React.createElement(ScreenReaderContent, {\n        id: this.descriptionId\n      }, this.props.description);\n    }\n\n    return null;\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          id = _this$props2.id,\n          children = _this$props2.children,\n          disabled = _this$props2.disabled,\n          hidden = _this$props2.hidden,\n          direction = _this$props2.direction,\n          zIndex = _this$props2.zIndex;\n    const classes = {\n      [styles.root]: true,\n      [styles['direction--' + direction]]: direction !== 'none'\n    };\n    const style = {\n      zIndex: zIndex || null\n    };\n    return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"button\", {\n      id: id,\n      type: \"button\",\n      onClick: this.handleClick,\n      className: classnames(classes, styles.newActivityButton),\n      style: style,\n      \"aria-disabled\": disabled ? 'true' : null,\n      \"aria-hidden\": hidden ? 'true' : null,\n      ref: this.props.buttonRef,\n      \"aria-describedby\": this.props.description ? this.descriptionId : null\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.layout\n    }, children, this.renderIcon())), this.renderDescription());\n  }\n\n}\n\nStickyButton.propTypes = {\n  id: string.isRequired,\n  children: node.isRequired,\n  onClick: func,\n  disabled: bool,\n  hidden: bool,\n  direction: oneOf(['none', 'up', 'down']),\n  className: string,\n  zIndex: number,\n  buttonRef: func,\n  description: string\n};\nStickyButton.defaultProps = {\n  direction: 'none',\n  offset: '0',\n  className: ''\n};\nexport default themeable(theme, styles)(StickyButton);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { themeable } from '@instructure/ui-themeable';\nimport { Button, CloseButton } from '@instructure/ui-buttons';\nimport { ScreenReaderContent, AccessibleContent } from '@instructure/ui-a11y';\nimport { View } from '@instructure/ui-layout';\nimport { Portal } from '@instructure/ui-portal';\nimport { IconPlusLine, IconAlertsLine, IconGradebookLine } from '@instructure/ui-icons';\nimport { Popover, Tray } from '@instructure/ui-overlays';\nimport PropTypes from 'prop-types';\nimport { Badge } from '@instructure/ui-elements';\nimport { momentObj } from 'react-moment-proptypes';\nimport UpdateItemTray from '../UpdateItemTray';\nimport Opportunities from '../Opportunities';\nimport GradesDisplay from '../GradesDisplay';\nimport StickyButton from '../StickyButton';\nimport responsiviser from '../responsiviser';\nimport { sizeShape, courseShape, opportunityShape } from '../plannerPropTypes';\nimport { savePlannerItem, deletePlannerItem, cancelEditingPlannerItem, openEditingPlannerItem, getNextOpportunities, getInitialOpportunities, dismissOpportunity, clearUpdateTodo, startLoadingGradesSaga, scrollToToday, scrollToNewActivity } from '../../actions';\nconst styles = {\n  componentId: 'dIgyp',\n  template: function (theme) {\n    return \"\\n\\n.root_2rqW{background:\".concat(theme.background || 'inherit', \";color:\").concat(theme.color || 'inherit', \";font-family:\").concat(theme.fontFamily || 'inherit', \";font-size:\").concat(theme.fontSize || 'inherit', \";font-weight:\").concat(theme.fontWeight || 'inherit', \";white-space:nowrap}\");\n  },\n  'root': 'root_2rqW'\n};\nimport theme from './theme.js';\nimport formatMessage from '../../format-message';\nimport { notifier } from '../../dynamic-ui';\nimport { getFirstLoadedMoment } from '../../utilities/dateUtils';\nexport class PlannerHeader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSavePlannerItem = plannerItem => {\n      this.handleCloseTray();\n      this.props.savePlannerItem(plannerItem);\n    };\n\n    this.handleDeletePlannerItem = plannerItem => {\n      this.handleCloseTray();\n      this.props.deletePlannerItem(plannerItem);\n    };\n\n    this.handleCloseTray = () => {\n      this.setUpdateItemTray(false);\n    };\n\n    this.handleToggleTray = () => {\n      if (this.state.trayOpen) {\n        this.handleCloseTray();\n      } else {\n        this.setUpdateItemTray(true);\n      }\n    };\n\n    this.toggleAriaHiddenStuff = hide => {\n      if (hide) {\n        this.props.ariaHideElement.setAttribute('aria-hidden', 'true');\n      } else {\n        this.props.ariaHideElement.removeAttribute('aria-hidden');\n      }\n    };\n\n    this.toggleGradesTray = () => {\n      if (!this.state.gradesTrayOpen && !this.props.loading.loadingGrades && !this.props.loading.gradesLoaded) {\n        this.props.startLoadingGradesSaga();\n      }\n\n      this.setState({\n        gradesTrayOpen: !this.state.gradesTrayOpen\n      });\n    };\n\n    this.handleTodayClick = () => {\n      if (this.props.scrollToToday) {\n        this.props.scrollToToday();\n      }\n    };\n\n    this.handleNewActivityClick = () => {\n      this.props.scrollToNewActivity();\n    };\n\n    this.closeOpportunitiesDropdown = () => {\n      this._doToggleOpportunitiesDropdown(false);\n    };\n\n    this.openOpportunitiesDropdown = () => {\n      this._doToggleOpportunitiesDropdown(true);\n    };\n\n    this.toggleOpportunitiesDropdown = () => {\n      this._doToggleOpportunitiesDropdown(!this.state.opportunitiesOpen);\n    };\n\n    this.opportunityTitle = () => {\n      return formatMessage(\"{\\n        count, plural,\\n        =0 {# opportunities}\\n        one {# opportunity}\\n        other {# opportunities}\\n      }\", {\n        count: this.state.newOpportunities.length\n      });\n    };\n\n    this.getTrayLabel = () => {\n      if (this.props.todo.updateTodoItem && this.props.todo.updateTodoItem.title) {\n        return formatMessage('Edit {title}', {\n          title: this.props.todo.updateTodoItem.title\n        });\n      }\n\n      return formatMessage('Add To Do');\n    };\n\n    const _this$segregateOpport = this.segregateOpportunities(props.opportunities),\n          _this$segregateOpport2 = _slicedToArray(_this$segregateOpport, 2),\n          newOpportunities = _this$segregateOpport2[0],\n          dismissedOpportunities = _this$segregateOpport2[1];\n\n    this.state = {\n      newOpportunities,\n      dismissedOpportunities,\n      trayOpen: false,\n      gradesTrayOpen: false,\n      opportunitiesOpen: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.getInitialOpportunities();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const _this$segregateOpport3 = this.segregateOpportunities(nextProps.opportunities),\n          _this$segregateOpport4 = _slicedToArray(_this$segregateOpport3, 2),\n          newOpportunities = _this$segregateOpport4[0],\n          dismissedOpportunities = _this$segregateOpport4[1];\n\n    if (!nextProps.loading.allOpportunitiesLoaded && !nextProps.loading.loadingOpportunities) {\n      nextProps.getNextOpportunities();\n    }\n\n    if (this.props.todo.updateTodoItem !== nextProps.todo.updateTodoItem) {\n      this.setUpdateItemTray(!!nextProps.todo.updateTodoItem);\n    }\n\n    this.setState({\n      newOpportunities,\n      dismissedOpportunities\n    });\n  }\n\n  componentWillUpdate() {\n    this.props.preTriggerDynamicUiUpdates();\n  }\n\n  componentDidUpdate() {\n    if (this.props.todo.updateTodoItem) {\n      this.toggleAriaHiddenStuff(this.state.trayOpen);\n    }\n\n    this.props.triggerDynamicUiUpdates();\n  }\n\n  // segregate new and dismissed opportunities\n  segregateOpportunities(opportunities) {\n    const newOpportunities = [];\n    const dismissedOpportunities = [];\n    opportunities.items.forEach(opportunity => {\n      if (opportunity.planner_override && opportunity.planner_override.dismissed) {\n        dismissedOpportunities.push(opportunity);\n      } else {\n        newOpportunities.push(opportunity);\n      }\n    });\n    return [newOpportunities, dismissedOpportunities];\n  } // sets the tray open state and tells dynamic-ui what just happened\n  // via open/cancelEditingPlannerItem\n\n\n  setUpdateItemTray(trayOpen) {\n    if (trayOpen) {\n      if (this.props.openEditingPlannerItem) {\n        this.props.openEditingPlannerItem(); // tell dynamic-ui we've started editing\n      }\n    } else if (this.props.cancelEditingPlannerItem) {\n      this.props.cancelEditingPlannerItem();\n    }\n\n    this.setState({\n      trayOpen\n    }, () => {\n      this.toggleAriaHiddenStuff(this.state.trayOpen);\n    });\n  }\n\n  _doToggleOpportunitiesDropdown(openOrClosed) {\n    this.setState({\n      opportunitiesOpen: !!openOrClosed\n    }, () => {\n      this.toggleAriaHiddenStuff(this.state.opportunitiesOpen);\n      this.opportunitiesButton.focus();\n    });\n  }\n\n  // Size the opportunities popover so that it fits on the screen under the trigger button\n  getPopupVerticalRoom() {\n    const trigger = this.opportunitiesHtmlButton;\n\n    if (trigger) {\n      const buffer = 30;\n      const minRoom = 250;\n      const rect = trigger.getBoundingClientRect();\n      const offset = rect.top + rect.height;\n      return Math.max(window.innerHeight - offset - buffer, minRoom);\n    }\n\n    return 'none';\n  }\n\n  newActivityAboveView() {\n    if (this.props.loading.isLoading) return false;\n    if (!this.props.firstNewActivityDate) return false;\n    const firstLoadedMoment = getFirstLoadedMoment(this.props.days, this.props.timeZone);\n    const firstNewActivityLoaded = firstLoadedMoment.isSame(this.props.firstNewActivityDate) || firstLoadedMoment.isBefore(this.props.firstNewActivityDate);\n    return !(firstNewActivityLoaded && !this.props.ui.naiAboveScreen);\n  }\n\n  renderNewActivity() {\n    return /*#__PURE__*/React.createElement(Portal, {\n      mountNode: this.props.auxElement,\n      open: this.newActivityAboveView()\n    }, /*#__PURE__*/React.createElement(StickyButton, {\n      id: this.props.stickyButtonId,\n      direction: \"up\",\n      onClick: this.handleNewActivityClick,\n      zIndex: this.props.stickyZIndex,\n      buttonRef: ref => this.newActivityButtonRef = ref,\n      className: \"StickyButton-styles__newActivityButton\",\n      description: formatMessage('Scrolls up to the previous item with new activity.')\n    }, formatMessage('New Activity')));\n  }\n\n  renderToday(buttonMargin) {\n    // if we're not displaying any items, don't show the today button\n    // this is true if the planner is completely empty, or showing the balloons\n    // because everything is in the past when first loaded\n    if (this.props.days.length > 0) {\n      return /*#__PURE__*/React.createElement(Button, {\n        id: \"planner-today-btn\",\n        variant: \"light\",\n        margin: buttonMargin,\n        onClick: this.handleTodayClick\n      }, formatMessage('Today'));\n    }\n\n    return null;\n  }\n\n  renderOpportunitiesButton(margin) {\n    const badgeProps = {\n      margin,\n      countUntil: 100\n    };\n\n    if (this.props.loading.allOpportunitiesLoaded && this.state.newOpportunities.length) {\n      badgeProps.count = this.state.newOpportunities.length;\n\n      badgeProps.formatOutput = formattedCount => {\n        return /*#__PURE__*/React.createElement(AccessibleContent, {\n          alt: this.opportunityTitle()\n        }, formattedCount);\n      };\n    } else {\n      badgeProps.formatOutput = () => {\n        return /*#__PURE__*/React.createElement(AccessibleContent, {\n          alt: this.opportunityTitle()\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Badge, badgeProps, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggleOpportunitiesDropdown,\n      variant: \"icon\",\n      icon: IconAlertsLine,\n      ref: b => {\n        this.opportunitiesButton = b;\n      },\n      buttonRef: b => {\n        this.opportunitiesHtmlButton = b;\n      }\n    }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('opportunities popup'))));\n  }\n\n  render() {\n    const verticalRoom = this.getPopupVerticalRoom();\n    let buttonMarginRight = 'medium';\n\n    if (this.props.responsiveSize === 'medium') {\n      buttonMarginRight = 'small';\n    } else if (this.props.responsiveSize === 'small') {\n      buttonMarginRight = 'x-small';\n    }\n\n    const buttonMargin = \"0 \".concat(buttonMarginRight, \" 0 0\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(styles.root, \" PlannerHeader\")\n    }, this.renderToday(buttonMargin), /*#__PURE__*/React.createElement(Button, {\n      variant: \"icon\",\n      icon: IconPlusLine,\n      margin: buttonMargin,\n      onClick: this.handleToggleTray,\n      ref: b => {\n        this.addNoteBtn = b;\n      }\n    }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('Add To Do'))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"icon\",\n      icon: IconGradebookLine,\n      margin: buttonMargin,\n      onClick: this.toggleGradesTray\n    }, /*#__PURE__*/React.createElement(ScreenReaderContent, null, formatMessage('Show My Grades'))), /*#__PURE__*/React.createElement(Popover, {\n      onDismiss: this.closeOpportunitiesDropdown,\n      show: this.state.opportunitiesOpen,\n      on: \"click\",\n      constrain: \"window\",\n      placement: \"bottom end\"\n    }, /*#__PURE__*/React.createElement(Popover.Trigger, null, this.renderOpportunitiesButton(buttonMargin)), /*#__PURE__*/React.createElement(Popover.Content, null, /*#__PURE__*/React.createElement(Opportunities, {\n      togglePopover: this.closeOpportunitiesDropdown,\n      newOpportunities: this.state.newOpportunities,\n      dismissedOpportunities: this.state.dismissedOpportunities,\n      courses: this.props.courses,\n      timeZone: this.props.timeZone,\n      dismiss: this.props.dismissOpportunity,\n      maxHeight: verticalRoom\n    }))), /*#__PURE__*/React.createElement(Tray, {\n      open: this.state.trayOpen,\n      label: this.getTrayLabel(),\n      placement: \"end\",\n      shouldContainFocus: true,\n      shouldReturnFocus: false,\n      onDismiss: this.handleCloseTray\n    }, /*#__PURE__*/React.createElement(CloseButton, {\n      placement: \"start\",\n      variant: \"icon\",\n      onClick: this.handleCloseTray\n    }, formatMessage('Close')), /*#__PURE__*/React.createElement(UpdateItemTray, {\n      locale: this.props.locale,\n      timeZone: this.props.timeZone,\n      noteItem: this.props.todo.updateTodoItem,\n      onSavePlannerItem: this.handleSavePlannerItem,\n      onDeletePlannerItem: this.handleDeletePlannerItem,\n      courses: this.props.courses\n    })), /*#__PURE__*/React.createElement(Tray, {\n      label: formatMessage('My Grades'),\n      open: this.state.gradesTrayOpen,\n      placement: \"end\",\n      shouldContainFocus: true,\n      shouldReturnFocus: true,\n      onDismiss: this.toggleGradesTray\n    }, /*#__PURE__*/React.createElement(View, {\n      as: \"div\",\n      padding: \"large large medium\"\n    }, /*#__PURE__*/React.createElement(CloseButton, {\n      placement: \"start\",\n      variant: \"icon\",\n      onClick: this.toggleGradesTray\n    }, formatMessage('Close')), /*#__PURE__*/React.createElement(GradesDisplay, {\n      courses: this.props.courses,\n      loading: this.props.loading.loadingGrades,\n      loadingError: this.props.loading.gradesLoadingError\n    }))), this.renderNewActivity());\n  }\n\n}\nPlannerHeader.propTypes = {\n  courses: PropTypes.arrayOf(PropTypes.shape(courseShape)).isRequired,\n  savePlannerItem: PropTypes.func.isRequired,\n  deletePlannerItem: PropTypes.func.isRequired,\n  cancelEditingPlannerItem: PropTypes.func,\n  openEditingPlannerItem: PropTypes.func,\n  triggerDynamicUiUpdates: PropTypes.func,\n  preTriggerDynamicUiUpdates: PropTypes.func,\n  scrollToToday: PropTypes.func,\n  scrollToNewActivity: PropTypes.func,\n  locale: PropTypes.string.isRequired,\n  timeZone: PropTypes.string.isRequired,\n  opportunities: PropTypes.shape(opportunityShape).isRequired,\n  getInitialOpportunities: PropTypes.func.isRequired,\n  getNextOpportunities: PropTypes.func.isRequired,\n  dismissOpportunity: PropTypes.func.isRequired,\n  clearUpdateTodo: PropTypes.func.isRequired,\n  startLoadingGradesSaga: PropTypes.func.isRequired,\n  firstNewActivityDate: momentObj,\n  days: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.oneOfType([\n  /* date */\n  PropTypes.string, PropTypes.arrayOf(\n  /* items */\n  PropTypes.object)]))),\n  ui: PropTypes.shape({\n    naiAboveScreen: PropTypes.bool\n  }),\n  todo: PropTypes.shape({\n    updateTodoItem: PropTypes.shape({\n      title: PropTypes.string\n    })\n  }),\n  stickyZIndex: PropTypes.number,\n  loading: PropTypes.shape({\n    isLoading: PropTypes.bool,\n    allPastItemsLoaded: PropTypes.bool,\n    allFutureItemsLoaded: PropTypes.bool,\n    allOpportunitiesLoaded: PropTypes.bool,\n    loadingOpportunities: PropTypes.bool,\n    setFocusAfterLoad: PropTypes.bool,\n    firstNewDayKey: PropTypes.object,\n    futureNextUrl: PropTypes.string,\n    pastNextUrl: PropTypes.string,\n    seekingNewActivity: PropTypes.bool,\n    loadingGrades: PropTypes.bool,\n    gradesLoaded: PropTypes.bool,\n    gradesLoadingError: PropTypes.string\n  }).isRequired,\n  ariaHideElement: PropTypes.instanceOf(Element).isRequired,\n  auxElement: PropTypes.instanceOf(Element).isRequired,\n  stickyButtonId: PropTypes.string.isRequired,\n  responsiveSize: sizeShape\n};\nPlannerHeader.defaultProps = {\n  triggerDynamicUiUpdates: () => {},\n  preTriggerDynamicUiUpdates: () => {},\n  stickyZIndex: 0,\n  responsiveSize: 'large'\n};\nexport const ResponsivePlannerHeader = responsiviser()(PlannerHeader);\nexport const ThemedPlannerHeader = themeable(theme, styles)(ResponsivePlannerHeader);\nexport const NotifierPlannerHeader = notifier(ThemedPlannerHeader);\n\nconst mapStateToProps = ({\n  opportunities,\n  loading,\n  courses,\n  todo,\n  days,\n  timeZone,\n  ui,\n  firstNewActivityDate\n}) => ({\n  opportunities,\n  loading,\n  courses,\n  todo,\n  days,\n  timeZone,\n  ui,\n  firstNewActivityDate\n});\n\nconst mapDispatchToProps = {\n  savePlannerItem,\n  deletePlannerItem,\n  cancelEditingPlannerItem,\n  openEditingPlannerItem,\n  getInitialOpportunities,\n  getNextOpportunities,\n  dismissOpportunity,\n  clearUpdateTodo,\n  startLoadingGradesSaga,\n  scrollToToday,\n  scrollToNewActivity\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(NotifierPlannerHeader);","/* Global variables (colors, typography, spacing, etc.) are defined in lib/themes */\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nexport default function generator({\n  colors,\n  typography\n}) {\n  return {\n    fontSize: typography.fontSizeMedium,\n    fontFamily: typography.fontFamily,\n    fontWeight: typography.fontWeightNormal,\n    color: colors.oxford,\n    background: colors.white\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport { SVGIcon } from '@instructure/ui-svg-images';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M338.824 903.53V790.587h1242.465V903.53H338.824zm0 338.823v-112.941h903.529v112.94h-903.53zm282.352-903.53c-93.402 0-169.411-76.009-169.411-169.411C451.765 76.009 527.775 0 621.176 0c93.403 0 169.412 76.01 169.412 169.412 0 26.09-6.437 50.484-16.94 72.62L999.98 468.255l-79.962 79.962-226.221-226.334c-22.137 10.504-46.532 16.942-72.622 16.942zm847.06 1444.857v-315.445h315.444l-315.445 315.445zM1016.47 225.882v112.942h790.588v1016.47h-451.765v451.765H112.941V338.824h225.883V225.882H0V1920h1421.478c45.176 0 87.755-17.619 119.717-49.581l329.224-329.11c31.962-32.076 49.581-74.655 49.581-119.831V225.882h-903.53z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\"\n});\n\nvar IconNoteLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IconNoteLine, _Component);\n\n  function IconNoteLine() {\n    _classCallCheck(this, IconNoteLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconNoteLine).apply(this, arguments));\n  }\n\n  _createClass(IconNoteLine, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SVGIcon, Object.assign({}, this.props, {\n        name: \"IconNote\",\n        viewBox: \"0 0 1920 1920\",\n        bidirectional: true\n      }), _ref);\n    }\n  }]);\n\n  IconNoteLine.displayName = \"IconNoteLine\";\n  return IconNoteLine;\n}(Component);\n\nIconNoteLine.glyphName = 'note';\nIconNoteLine.variant = 'Line';\nIconNoteLine.propTypes = _objectSpread({}, SVGIcon.propTypes);\nexport default IconNoteLine;\nexport { IconNoteLine };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { Button, CloseButton } from '@instructure/ui-buttons';\nimport { Text, List } from '@instructure/ui-elements';\nimport { IconAssignmentLine, IconQuizLine, IconAnnouncementLine, IconDiscussionLine, IconNoteLine, IconCalendarMonthLine, IconDocumentLine, IconPeerReviewLine } from '@instructure/ui-icons';\nimport { func, shape, object, arrayOf, number, string } from 'prop-types';\nimport { dateTimeString } from '../../utilities/dateUtils';\nimport formatMessage from '../../format-message';\n\nconst getIconComponent = itemType => {\n  switch (itemType) {\n    case 'Assignment':\n      return /*#__PURE__*/React.createElement(IconAssignmentLine, {\n        label: formatMessage('Assignment'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Quiz':\n      return /*#__PURE__*/React.createElement(IconQuizLine, {\n        label: formatMessage('Quiz'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Discussion':\n      return /*#__PURE__*/React.createElement(IconDiscussionLine, {\n        label: formatMessage('Discussion'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Announcement':\n      return /*#__PURE__*/React.createElement(IconAnnouncementLine, {\n        label: formatMessage('Announcement'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Calendar Event':\n      return /*#__PURE__*/React.createElement(IconCalendarMonthLine, {\n        label: formatMessage('Calendar Event'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Page':\n      return /*#__PURE__*/React.createElement(IconDocumentLine, {\n        label: formatMessage('Page'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    case 'Peer Review':\n      return /*#__PURE__*/React.createElement(IconPeerReviewLine, {\n        label: formatMessage('Peer Review'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n\n    default:\n      return /*#__PURE__*/React.createElement(IconNoteLine, {\n        label: formatMessage('To Do'),\n        className: \"ToDoSidebarItem__Icon\"\n      });\n  }\n};\n\nconst getContextShortName = (courses, courseId) => {\n  const course = courses.find(x => x.id === courseId);\n  return course ? course.shortName : '';\n};\n\nexport default class ToDoItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = () => {\n      this.props.handleDismissClick(this.props.item);\n    };\n\n    this.getInformationRow = (dueAt, points) => {\n      const toDisplay = [];\n\n      if (points) {\n        toDisplay.push( /*#__PURE__*/React.createElement(List.Item, {\n          key: \"points\"\n        }, formatMessage('{numPoints} points', {\n          numPoints: points\n        })));\n      }\n\n      toDisplay.push( /*#__PURE__*/React.createElement(List.Item, {\n        key: \"date\"\n      }, dateTimeString(dueAt, this.props.timeZone)));\n      return toDisplay;\n    };\n  }\n\n  focus() {\n    const focusable = this.linkRef || this.buttonRef;\n    if (focusable) focusable.focus();\n  }\n\n  itemTitle() {\n    if (this.props.item.type === 'Peer Review') {\n      return formatMessage('Peer Review for {itemTitle}', {\n        itemTitle: this.props.item.title\n      });\n    }\n\n    return this.props.item.title;\n  }\n\n  render() {\n    const title = /*#__PURE__*/React.createElement(Text, {\n      size: \"small\",\n      lineHeight: \"fit\"\n    }, this.itemTitle());\n    const titleComponent = this.props.item.html_url ? /*#__PURE__*/React.createElement(Button, {\n      variant: \"link\",\n      theme: {\n        mediumPadding: '0',\n        mediumHeight: 'normal'\n      },\n      buttonRef: elt => {\n        this.linkRef = elt;\n      },\n      href: this.props.item.html_url\n    }, title) : /*#__PURE__*/React.createElement(Text, null, title);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ToDoSidebarItem\"\n    }, getIconComponent(this.props.item.type), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ToDoSidebarItem__Info\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ToDoSidebarItem__Title\"\n    }, titleComponent), /*#__PURE__*/React.createElement(Text, {\n      color: \"secondary\",\n      size: \"small\",\n      weight: \"bold\",\n      lineHeight: \"fit\"\n    }, getContextShortName(this.props.courses, this.props.item.course_id)), /*#__PURE__*/React.createElement(List, {\n      variant: \"inline\",\n      delimiter: \"pipe\",\n      size: \"small\"\n    }, this.getInformationRow(this.props.item.date, this.props.item.points))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ToDoSidebarItem__Close\"\n    }, /*#__PURE__*/React.createElement(CloseButton, {\n      variant: \"icon\",\n      size: \"small\",\n      onClick: this.handleClick,\n      buttonRef: elt => {\n        this.buttonRef = elt;\n      }\n    }, formatMessage('Dismiss {itemTitle}', {\n      itemTitle: this.props.item.title\n    }))));\n  }\n\n}\nToDoItem.propTypes = {\n  item: shape({\n    title: string,\n    html_url: string,\n    type: string,\n    course_id: string,\n    date: object,\n    // moment\n    points: number\n  }),\n  courses: arrayOf(object).isRequired,\n  handleDismissClick: func.isRequired,\n  timeZone: string,\n  locale: string\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { func, arrayOf, object, bool, string } from 'prop-types';\nimport moment from 'moment-timezone';\nimport { List, Spinner, Text } from '@instructure/ui-elements';\nimport { View } from '@instructure/ui-layout';\nimport { Button } from '@instructure/ui-buttons';\nimport formatMessage from '../../format-message';\nimport { sidebarLoadInitialItems, sidebarCompleteItem } from '../../actions';\nimport ToDoItem from './ToDoItem';\nexport class ToDoSidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.dismissedItemIndex = null;\n    this.titleFocus = null;\n    this.state = {\n      visibleToDos: this.getVisibleItems(props.items)\n    };\n  }\n\n  componentDidMount() {\n    this.props.sidebarLoadInitialItems(moment.tz(this.props.timeZone).startOf('day'), this.props.forCourse);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const visibleToDos = this.getVisibleItems(nextProps.items);\n    this.setState({\n      visibleToDos\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.dismissedItemIndex != null) {\n      const previousIndex = this.dismissedItemIndex - 1;\n      this.dismissedItemIndex = null;\n\n      if (previousIndex >= 0) {\n        this.todoItemComponents[previousIndex].focus();\n      } else {\n        this.titleFocus.focus();\n      }\n    }\n  }\n\n  getVisibleItems(items) {\n    const incompletedFilter = item => {\n      if (!item) return false;\n      return !item.completed;\n    };\n\n    return items.filter(incompletedFilter).slice(0, 7);\n  }\n\n  handleDismissClick(itemIndex, item) {\n    this.dismissedItemIndex = itemIndex;\n    this.props.sidebarCompleteItem(item).catch(() => {\n      this.dismissedItemIndex = null;\n    });\n  }\n\n  renderShowAll() {\n    if (this.props.changeDashboardView && this.state.visibleToDos.length > 0) {\n      return /*#__PURE__*/React.createElement(View, {\n        as: \"div\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        onClick: () => this.props.changeDashboardView('planner')\n      }, formatMessage('Show All')));\n    }\n\n    return null;\n  }\n\n  renderItems() {\n    this.todoItemComponents = [];\n\n    if (this.state.visibleToDos.length === 0) {\n      return /*#__PURE__*/React.createElement(Text, {\n        size: \"small\"\n      }, formatMessage('Nothing for now'));\n    }\n\n    return /*#__PURE__*/React.createElement(List, {\n      id: \"planner-todosidebar-item-list\",\n      variant: \"unstyled\"\n    }, this.state.visibleToDos.map((item, itemIndex) => /*#__PURE__*/React.createElement(List.Item, {\n      key: item.uniqueId\n    }, /*#__PURE__*/React.createElement(ToDoItem, {\n      ref: component => {\n        this.todoItemComponents[itemIndex] = component;\n      },\n      item: item,\n      courses: this.props.courses,\n      handleDismissClick: (...args) => this.handleDismissClick(itemIndex, item),\n      locale: this.props.locale,\n      timeZone: this.props.timeZone\n    }))));\n  }\n\n  render() {\n    if (!this.props.loaded) {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"todo-list-header\"\n      }, formatMessage('To Do')), /*#__PURE__*/React.createElement(View, {\n        as: \"div\",\n        textAlign: \"center\"\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        renderTitle: () => formatMessage('To Do Items Loading'),\n        size: \"small\"\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"todo-list-header\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      tabIndex: \"-1\",\n      ref: elt => {\n        this.titleFocus = elt;\n      }\n    }, formatMessage('To Do'))), this.renderItems(), this.renderShowAll());\n  }\n\n}\nToDoSidebar.propTypes = {\n  sidebarLoadInitialItems: func.isRequired,\n  sidebarCompleteItem: func.isRequired,\n  items: arrayOf(object).isRequired,\n  loaded: bool,\n  courses: arrayOf(object).isRequired,\n  timeZone: string,\n  locale: string,\n  changeDashboardView: func,\n  forCourse: string\n};\nToDoSidebar.defaultProps = {\n  loaded: false,\n  timeZone: moment.tz.guess(),\n  locale: 'en',\n  forCourse: void 0\n};\n\nconst mapStateToProps = state => ({\n  items: state.sidebar.items,\n  loaded: state.sidebar.loaded\n});\n\nconst mapDispatchToProps = {\n  sidebarLoadInitialItems,\n  sidebarCompleteItem\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ToDoSidebar);","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport parse from 'format-message-parse';\nimport print from 'format-message-print';\nimport { reverse } from 'esrever';\nconst PREFIX_EMOJI = ['(╯°□°）╯︵', '(ﾉಥ益ಥ）ﾉ', '(ノಠ益ಠ)ノ彡', '(J °O°)J ', '(ノ ゜Д゜)ノ ︵', \"(╯'□')╯︵\", 'ʕノ•ᴥ•ʔノ', '┗[© ♒ ©]┛ ︵'];\nconst POSTFIX_EMOJI = ['︵ヽ(`Д´)ﾉ', ' /(.□. \\\\）', '︵ ~ (._.)', ' ( \\\\o°o)\\\\', ' ლ(⌒-⌒ლ)'];\nconst INVERTED = {\n  a: '\\u0250',\n  b: 'q',\n  c: '\\u0254',\n  d: 'p',\n  e: '\\u01DD',\n  f: '\\u025F',\n  g: '\\u0183',\n  h: '\\u0265',\n  i: '\\u1D09',\n  j: '\\u027E',\n  k: '\\u029E',\n  m: '\\u026F',\n  n: 'u',\n  r: '\\u0279',\n  t: '\\u0287',\n  v: '\\u028C',\n  w: '\\u028D',\n  y: '\\u028E',\n  A: '\\u2200',\n  C: '\\u0186',\n  E: '\\u018E',\n  F: '\\u2132',\n  G: '\\u05E4',\n  H: 'H',\n  I: 'I',\n  J: '\\u017F',\n  L: '\\u02E5',\n  M: 'W',\n  N: 'N',\n  P: '\\u0500',\n  T: '\\u2534',\n  U: '\\u2229',\n  V: '\\u039B',\n  Y: '\\u2144',\n  '1': '\\u0196',\n  '2': '\\u1105',\n  '3': '\\u0190',\n  '4': '\\u3123',\n  '5': '\\u03DB',\n  '6': '9',\n  '7': '\\u3125',\n  '8': '8',\n  '9': '6',\n  '0': '0',\n  '.': '\\u02D9',\n  ',': \"'\",\n  '\"': ',,',\n  '`': ',',\n  '?': '\\u00BF',\n  '!': '\\u00A1',\n  '[': ']',\n  '(': ')',\n  '{': '}',\n  '<': '>',\n  '&': '\\u214B',\n  _: '\\u203E',\n  '\\u2234': '\\u2235',\n  '\\u2045': '\\u2046'\n};\nObject.keys(INVERTED).forEach(key => {\n  INVERTED[INVERTED[key]] = key;\n});\nexport default function flip(pattern) {\n  const elements = parse(pattern).map(flipElement).reverse();\n  let index = String(pattern).length % (PREFIX_EMOJI.length + POSTFIX_EMOJI.length);\n\n  if (index < PREFIX_EMOJI.length) {\n    elements.unshift(PREFIX_EMOJI[index]);\n  } else {\n    index -= PREFIX_EMOJI.length;\n    elements.push(POSTFIX_EMOJI[index]);\n  }\n\n  return print(elements);\n}\nexport function flipAll(strings) {\n  if (Object.keys(strings).length === 1) {\n    strings = strings[Object.keys(strings)[0]];\n  }\n\n  return Object.keys(strings).reduce((flipped, id) => {\n    flipped[id] = {\n      message: flip(strings[id].message || strings[id])\n    };\n    return flipped;\n  }, {});\n}\n\nfunction flipElement(element) {\n  if (typeof element === 'string') return flipText(element);\n  const type = element[1];\n\n  if (type === 'plural' || type === 'selectordinal') {\n    element = element.slice();\n    element[3] = flipOptions(element[3]);\n  } else if (type === 'select') {\n    element = element.slice();\n    element[2] = flipOptions(element[2]);\n  }\n\n  return element;\n}\n\nfunction flipOptions(options) {\n  const flipped = {};\n  Object.keys(options).forEach(key => {\n    flipped[key] = options[key].map(flipElement).reverse();\n  });\n  return flipped;\n}\n\nfunction flipText(text) {\n  return reverse(text).split('').map(c => INVERTED[c] || c).join('');\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport ar from '@instructure/translations/lib/canvas-planner/ar.json';\nimport da from '@instructure/translations/lib/canvas-planner/da.json';\nimport de from '@instructure/translations/lib/canvas-planner/de.json';\nimport el from '@instructure/translations/lib/canvas-planner/el.json';\nimport enAU from '@instructure/translations/lib/canvas-planner/en_AU.json';\nimport enGB from '@instructure/translations/lib/canvas-planner/en_GB.json';\nimport en from '@instructure/translations/lib/canvas-planner/en.json';\nimport es from '@instructure/translations/lib/canvas-planner/es.json';\nimport faIR from '@instructure/translations/lib/canvas-planner/fa_IR.json';\nimport frCA from '@instructure/translations/lib/canvas-planner/fr_CA.json';\nimport fr from '@instructure/translations/lib/canvas-planner/fr.json';\nimport he from '@instructure/translations/lib/canvas-planner/he.json';\nimport ht from '@instructure/translations/lib/canvas-planner/ht.json';\nimport hu from '@instructure/translations/lib/canvas-planner/hu.json';\nimport hy from '@instructure/translations/lib/canvas-planner/hy.json';\nimport it from '@instructure/translations/lib/canvas-planner/it.json';\nimport ja from '@instructure/translations/lib/canvas-planner/ja.json';\nimport ko from '@instructure/translations/lib/canvas-planner/ko.json';\nimport mi from '@instructure/translations/lib/canvas-planner/mi.json';\nimport nl from '@instructure/translations/lib/canvas-planner/nl.json';\nimport nn from '@instructure/translations/lib/canvas-planner/nn.json';\nimport pl from '@instructure/translations/lib/canvas-planner/pl.json';\nimport ptBR from '@instructure/translations/lib/canvas-planner/pt_BR.json';\nimport pt from '@instructure/translations/lib/canvas-planner/pt.json';\nimport ru from '@instructure/translations/lib/canvas-planner/ru.json';\nimport sv from '@instructure/translations/lib/canvas-planner/sv.json';\nimport tr from '@instructure/translations/lib/canvas-planner/tr.json';\nimport ukUA from '@instructure/translations/lib/canvas-planner/uk_UA.json';\nimport zhHans from '@instructure/translations/lib/canvas-planner/zh.json';\nimport zhHant from '@instructure/translations/lib/canvas-planner/zh_HK.json';\nimport { flipAll } from './flip-message';\nexport default {\n  enflip: flipAll(en),\n  ar,\n  da,\n  de,\n  el,\n  'en-au': enAU,\n  'en-gb': enGB,\n  en,\n  es,\n  'fa-ir': faIR,\n  'fr-ca': frCA,\n  fr,\n  he,\n  ht,\n  hu,\n  hy,\n  it,\n  ja,\n  ko,\n  mi,\n  nl,\n  nn,\n  pl,\n  'pt-br': ptBR,\n  pt,\n  ru,\n  sv,\n  tr,\n  'uk-ua': ukUA,\n  'zh-cn': zhHans,\n  'zh-tw': zhHant\n};","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport formatMessage from '../format-message';\nimport locales from './indexLocales';\nexport default {\n  init: function init(locale) {\n    document.documentElement.lang = locale;\n    formatMessage.setup({\n      locale,\n      missingTranslation: 'ignore',\n      translations: locales,\n      generateId: require('format-message-generate-id/underscored_crc32')\n    });\n  }\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var sym = function sym(id) {\n  return '@@redux-saga/' + id;\n};\n\nexport var TASK = /*#__PURE__*/sym('TASK');\nexport var HELPER = /*#__PURE__*/sym('HELPER');\nexport var MATCH = /*#__PURE__*/sym('MATCH');\nexport var CANCEL = /*#__PURE__*/sym('CANCEL_PROMISE');\nexport var SAGA_ACTION = /*#__PURE__*/sym('SAGA_ACTION');\nexport var SELF_CANCELLATION = /*#__PURE__*/sym('SELF_CANCELLATION');\nexport var konst = function konst(v) {\n  return function () {\n    return v;\n  };\n};\nexport var kTrue = /*#__PURE__*/konst(true);\nexport var kFalse = /*#__PURE__*/konst(false);\nexport var noop = function noop() {};\nexport var ident = function ident(v) {\n  return v;\n};\n\nexport function check(value, predicate, error) {\n  if (!predicate(value)) {\n    log('error', 'uncaught at check', error);\n    throw new Error(error);\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function hasOwn(object, property) {\n  return is.notUndef(object) && hasOwnProperty.call(object, property);\n}\n\nexport var is = {\n  undef: function undef(v) {\n    return v === null || v === undefined;\n  },\n  notUndef: function notUndef(v) {\n    return v !== null && v !== undefined;\n  },\n  func: function func(f) {\n    return typeof f === 'function';\n  },\n  number: function number(n) {\n    return typeof n === 'number';\n  },\n  string: function string(s) {\n    return typeof s === 'string';\n  },\n  array: Array.isArray,\n  object: function object(obj) {\n    return obj && !is.array(obj) && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n  },\n  promise: function promise(p) {\n    return p && is.func(p.then);\n  },\n  iterator: function iterator(it) {\n    return it && is.func(it.next) && is.func(it.throw);\n  },\n  iterable: function iterable(it) {\n    return it && is.func(Symbol) ? is.func(it[Symbol.iterator]) : is.array(it);\n  },\n  task: function task(t) {\n    return t && t[TASK];\n  },\n  observable: function observable(ob) {\n    return ob && is.func(ob.subscribe);\n  },\n  buffer: function buffer(buf) {\n    return buf && is.func(buf.isEmpty) && is.func(buf.take) && is.func(buf.put);\n  },\n  pattern: function pattern(pat) {\n    return pat && (is.string(pat) || (typeof pat === 'undefined' ? 'undefined' : _typeof(pat)) === 'symbol' || is.func(pat) || is.array(pat));\n  },\n  channel: function channel(ch) {\n    return ch && is.func(ch.take) && is.func(ch.close);\n  },\n  helper: function helper(it) {\n    return it && it[HELPER];\n  },\n  stringableFunc: function stringableFunc(f) {\n    return is.func(f) && hasOwn(f, 'toString');\n  }\n};\n\nexport var object = {\n  assign: function assign(target, source) {\n    for (var i in source) {\n      if (hasOwn(source, i)) {\n        target[i] = source[i];\n      }\n    }\n  }\n};\n\nexport function remove(array, item) {\n  var index = array.indexOf(item);\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\n\nexport var array = {\n  from: function from(obj) {\n    var arr = Array(obj.length);\n    for (var i in obj) {\n      if (hasOwn(obj, i)) {\n        arr[i] = obj[i];\n      }\n    }\n    return arr;\n  }\n};\n\nexport function deferred() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var def = _extends({}, props);\n  var promise = new Promise(function (resolve, reject) {\n    def.resolve = resolve;\n    def.reject = reject;\n  });\n  def.promise = promise;\n  return def;\n}\n\nexport function arrayOfDeffered(length) {\n  var arr = [];\n  for (var i = 0; i < length; i++) {\n    arr.push(deferred());\n  }\n  return arr;\n}\n\nexport function delay(ms) {\n  var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var timeoutId = void 0;\n  var promise = new Promise(function (resolve) {\n    timeoutId = setTimeout(function () {\n      return resolve(val);\n    }, ms);\n  });\n\n  promise[CANCEL] = function () {\n    return clearTimeout(timeoutId);\n  };\n\n  return promise;\n}\n\nexport function createMockTask() {\n  var _ref;\n\n  var running = true;\n  var _result = void 0,\n      _error = void 0;\n\n  return _ref = {}, _ref[TASK] = true, _ref.isRunning = function isRunning() {\n    return running;\n  }, _ref.result = function result() {\n    return _result;\n  }, _ref.error = function error() {\n    return _error;\n  }, _ref.setRunning = function setRunning(b) {\n    return running = b;\n  }, _ref.setResult = function setResult(r) {\n    return _result = r;\n  }, _ref.setError = function setError(e) {\n    return _error = e;\n  }, _ref;\n}\n\nexport function autoInc() {\n  var seed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  return function () {\n    return ++seed;\n  };\n}\n\nexport var uid = /*#__PURE__*/autoInc();\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\nvar kReturn = function kReturn(value) {\n  return { value: value, done: true };\n};\nexport function makeIterator(next) {\n  var thro = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : kThrow;\n  var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var isHelper = arguments[3];\n\n  var iterator = { name: name, next: next, throw: thro, return: kReturn };\n\n  if (isHelper) {\n    iterator[HELPER] = true;\n  }\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n  return iterator;\n}\n\n/**\n  Print error in a useful way whether in a browser environment\n  (with expandable error stack traces), or in a node.js environment\n  (text-only log output)\n **/\nexport function log(level, message) {\n  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  /*eslint-disable no-console*/\n  if (typeof window === 'undefined') {\n    console.log('redux-saga ' + level + ': ' + message + '\\n' + (error && error.stack || error));\n  } else {\n    console[level](message, error);\n  }\n}\n\nexport function deprecate(fn, deprecationWarning) {\n  return function () {\n    if (process.env.NODE_ENV === 'development') log('warn', deprecationWarning);\n    return fn.apply(undefined, arguments);\n  };\n}\n\nexport var updateIncentive = function updateIncentive(deprecated, preferred) {\n  return deprecated + ' has been deprecated in favor of ' + preferred + ', please update your code';\n};\n\nexport var internalErr = function internalErr(err) {\n  return new Error('\\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\\n  in redux-saga code and not yours. Thanks for reporting this in the project\\'s github repo.\\n  Error: ' + err + '\\n');\n};\n\nexport var createSetContextWarning = function createSetContextWarning(ctx, props) {\n  return (ctx ? ctx + '.' : '') + 'setContext(props): argument ' + props + ' is not a plain object';\n};\n\nexport var wrapSagaDispatch = function wrapSagaDispatch(dispatch) {\n  return function (action) {\n    return dispatch(Object.defineProperty(action, SAGA_ACTION, { value: true }));\n  };\n};\n\nexport var cloneableGenerator = function cloneableGenerator(generatorFunc) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var history = [];\n    var gen = generatorFunc.apply(undefined, args);\n    return {\n      next: function next(arg) {\n        history.push(arg);\n        return gen.next(arg);\n      },\n      clone: function clone() {\n        var clonedGen = cloneableGenerator(generatorFunc).apply(undefined, args);\n        history.forEach(function (arg) {\n          return clonedGen.next(arg);\n        });\n        return clonedGen;\n      },\n      return: function _return(value) {\n        return gen.return(value);\n      },\n      throw: function _throw(exception) {\n        return gen.throw(exception);\n      }\n    };\n  };\n};","import { kTrue, noop } from './utils';\n\nexport var BUFFER_OVERFLOW = \"Channel's Buffer overflow!\";\n\nvar ON_OVERFLOW_THROW = 1;\nvar ON_OVERFLOW_DROP = 2;\nvar ON_OVERFLOW_SLIDE = 3;\nvar ON_OVERFLOW_EXPAND = 4;\n\nvar zeroBuffer = { isEmpty: kTrue, put: noop, take: noop };\n\nfunction ringBuffer() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var overflowAction = arguments[1];\n\n  var arr = new Array(limit);\n  var length = 0;\n  var pushIndex = 0;\n  var popIndex = 0;\n\n  var push = function push(it) {\n    arr[pushIndex] = it;\n    pushIndex = (pushIndex + 1) % limit;\n    length++;\n  };\n\n  var take = function take() {\n    if (length != 0) {\n      var it = arr[popIndex];\n      arr[popIndex] = null;\n      length--;\n      popIndex = (popIndex + 1) % limit;\n      return it;\n    }\n  };\n\n  var flush = function flush() {\n    var items = [];\n    while (length) {\n      items.push(take());\n    }\n    return items;\n  };\n\n  return {\n    isEmpty: function isEmpty() {\n      return length == 0;\n    },\n    put: function put(it) {\n      if (length < limit) {\n        push(it);\n      } else {\n        var doubledLimit = void 0;\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW);\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it;\n            pushIndex = (pushIndex + 1) % limit;\n            popIndex = pushIndex;\n            break;\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit;\n\n            arr = flush();\n\n            length = arr.length;\n            pushIndex = arr.length;\n            popIndex = 0;\n\n            arr.length = doubledLimit;\n            limit = doubledLimit;\n\n            push(it);\n            break;\n          default:\n          // DROP\n        }\n      }\n    },\n    take: take,\n    flush: flush\n  };\n}\n\nexport var buffers = {\n  none: function none() {\n    return zeroBuffer;\n  },\n  fixed: function fixed(limit) {\n    return ringBuffer(limit, ON_OVERFLOW_THROW);\n  },\n  dropping: function dropping(limit) {\n    return ringBuffer(limit, ON_OVERFLOW_DROP);\n  },\n  sliding: function sliding(limit) {\n    return ringBuffer(limit, ON_OVERFLOW_SLIDE);\n  },\n  expanding: function expanding(initialSize) {\n    return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);\n  }\n};","var queue = [];\n/**\n  Variable to hold a counting semaphore\n  - Incrementing adds a lock and puts the scheduler in a `suspended` state (if it's not\n    already suspended)\n  - Decrementing releases a lock. Zero locks puts the scheduler in a `released` state. This\n    triggers flushing the queued tasks.\n**/\nvar semaphore = 0;\n\n/**\n  Executes a task 'atomically'. Tasks scheduled during this execution will be queued\n  and flushed after this task has finished (assuming the scheduler endup in a released\n  state).\n**/\nfunction exec(task) {\n  try {\n    suspend();\n    task();\n  } finally {\n    release();\n  }\n}\n\n/**\n  Executes or queues a task depending on the state of the scheduler (`suspended` or `released`)\n**/\nexport function asap(task) {\n  queue.push(task);\n\n  if (!semaphore) {\n    suspend();\n    flush();\n  }\n}\n\n/**\n  Puts the scheduler in a `suspended` state. Scheduled tasks will be queued until the\n  scheduler is released.\n**/\nexport function suspend() {\n  semaphore++;\n}\n\n/**\n  Puts the scheduler in a `released` state.\n**/\nfunction release() {\n  semaphore--;\n}\n\n/**\n  Releases the current lock. Executes all queued tasks if the scheduler is in the released state.\n**/\nexport function flush() {\n  release();\n\n  var task = void 0;\n  while (!semaphore && (task = queue.shift()) !== undefined) {\n    exec(task);\n  }\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport { is, check, remove, MATCH, internalErr, SAGA_ACTION } from './utils';\nimport { buffers } from './buffers';\nimport { asap } from './scheduler';\n\nvar CHANNEL_END_TYPE = '@@redux-saga/CHANNEL_END';\nexport var END = { type: CHANNEL_END_TYPE };\nexport var isEnd = function isEnd(a) {\n  return a && a.type === CHANNEL_END_TYPE;\n};\n\nexport function emitter() {\n  var subscribers = [];\n\n  function subscribe(sub) {\n    subscribers.push(sub);\n    return function () {\n      return remove(subscribers, sub);\n    };\n  }\n\n  function emit(item) {\n    var arr = subscribers.slice();\n    for (var i = 0, len = arr.length; i < len; i++) {\n      arr[i](item);\n    }\n  }\n\n  return {\n    subscribe: subscribe,\n    emit: emit\n  };\n}\n\nexport var INVALID_BUFFER = 'invalid buffer passed to channel factory function';\nexport var UNDEFINED_INPUT_ERROR = 'Saga was provided with an undefined action';\n\nif (process.env.NODE_ENV !== 'production') {\n  UNDEFINED_INPUT_ERROR += '\\nHints:\\n    - check that your Action Creator returns a non-undefined value\\n    - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\\n  ';\n}\n\nexport function channel() {\n  var buffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : buffers.fixed();\n\n  var closed = false;\n  var takers = [];\n\n  check(buffer, is.buffer, INVALID_BUFFER);\n\n  function checkForbiddenStates() {\n    if (closed && takers.length) {\n      throw internalErr('Cannot have a closed channel with pending takers');\n    }\n    if (takers.length && !buffer.isEmpty()) {\n      throw internalErr('Cannot have pending takers with non empty buffer');\n    }\n  }\n\n  function put(input) {\n    checkForbiddenStates();\n    check(input, is.notUndef, UNDEFINED_INPUT_ERROR);\n    if (closed) {\n      return;\n    }\n    if (!takers.length) {\n      return buffer.put(input);\n    }\n    for (var i = 0; i < takers.length; i++) {\n      var cb = takers[i];\n      if (!cb[MATCH] || cb[MATCH](input)) {\n        takers.splice(i, 1);\n        return cb(input);\n      }\n    }\n  }\n\n  function take(cb) {\n    checkForbiddenStates();\n    check(cb, is.func, \"channel.take's callback must be a function\");\n\n    if (closed && buffer.isEmpty()) {\n      cb(END);\n    } else if (!buffer.isEmpty()) {\n      cb(buffer.take());\n    } else {\n      takers.push(cb);\n      cb.cancel = function () {\n        return remove(takers, cb);\n      };\n    }\n  }\n\n  function flush(cb) {\n    checkForbiddenStates(); // TODO: check if some new state should be forbidden now\n    check(cb, is.func, \"channel.flush' callback must be a function\");\n    if (closed && buffer.isEmpty()) {\n      cb(END);\n      return;\n    }\n    cb(buffer.flush());\n  }\n\n  function close() {\n    checkForbiddenStates();\n    if (!closed) {\n      closed = true;\n      if (takers.length) {\n        var arr = takers;\n        takers = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n          arr[i](END);\n        }\n      }\n    }\n  }\n\n  return {\n    take: take,\n    put: put,\n    flush: flush,\n    close: close,\n    get __takers__() {\n      return takers;\n    },\n    get __closed__() {\n      return closed;\n    }\n  };\n}\n\nexport function eventChannel(subscribe) {\n  var buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : buffers.none();\n  var matcher = arguments[2];\n\n  /**\n    should be if(typeof matcher !== undefined) instead?\n    see PR #273 for a background discussion\n  **/\n  if (arguments.length > 2) {\n    check(matcher, is.func, 'Invalid match function passed to eventChannel');\n  }\n\n  var chan = channel(buffer);\n  var close = function close() {\n    if (!chan.__closed__) {\n      if (unsubscribe) {\n        unsubscribe();\n      }\n      chan.close();\n    }\n  };\n  var unsubscribe = subscribe(function (input) {\n    if (isEnd(input)) {\n      close();\n      return;\n    }\n    if (matcher && !matcher(input)) {\n      return;\n    }\n    chan.put(input);\n  });\n  if (chan.__closed__) {\n    unsubscribe();\n  }\n\n  if (!is.func(unsubscribe)) {\n    throw new Error('in eventChannel: subscribe should return a function to unsubscribe');\n  }\n\n  return {\n    take: chan.take,\n    flush: chan.flush,\n    close: close\n  };\n}\n\nexport function stdChannel(subscribe) {\n  var chan = eventChannel(function (cb) {\n    return subscribe(function (input) {\n      if (input[SAGA_ACTION]) {\n        cb(input);\n        return;\n      }\n      asap(function () {\n        return cb(input);\n      });\n    });\n  });\n\n  return _extends({}, chan, {\n    take: function take(cb, matcher) {\n      if (arguments.length > 1) {\n        check(matcher, is.func, \"channel.take's matcher argument must be a function\");\n        cb[MATCH] = matcher;\n      }\n      chan.take(cb);\n    }\n  });\n}","import { sym, is, ident, check, deprecate, updateIncentive, createSetContextWarning, SELF_CANCELLATION } from './utils';\n\nvar IO = /*#__PURE__*/sym('IO');\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar ALL = 'ALL';\nvar RACE = 'RACE';\nvar CALL = 'CALL';\nvar CPS = 'CPS';\nvar FORK = 'FORK';\nvar JOIN = 'JOIN';\nvar CANCEL = 'CANCEL';\nvar SELECT = 'SELECT';\nvar ACTION_CHANNEL = 'ACTION_CHANNEL';\nvar CANCELLED = 'CANCELLED';\nvar FLUSH = 'FLUSH';\nvar GET_CONTEXT = 'GET_CONTEXT';\nvar SET_CONTEXT = 'SET_CONTEXT';\n\nvar TEST_HINT = '\\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)';\n\nvar effect = function effect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref[type] = payload, _ref;\n};\n\nexport var detach = function detach(eff) {\n  check(asEffect.fork(eff), is.object, 'detach(eff): argument must be a fork effect');\n  eff[FORK].detached = true;\n  return eff;\n};\n\nexport function take() {\n  var patternOrChannel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '*';\n\n  if (arguments.length) {\n    check(arguments[0], is.notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n  if (is.pattern(patternOrChannel)) {\n    return effect(TAKE, { pattern: patternOrChannel });\n  }\n  if (is.channel(patternOrChannel)) {\n    return effect(TAKE, { channel: patternOrChannel });\n  }\n  throw new Error('take(patternOrChannel): argument ' + String(patternOrChannel) + ' is not valid channel or a valid pattern');\n}\n\ntake.maybe = function () {\n  var eff = take.apply(undefined, arguments);\n  eff[TAKE].maybe = true;\n  return eff;\n};\n\nexport var takem = /*#__PURE__*/deprecate(take.maybe, /*#__PURE__*/updateIncentive('takem', 'take.maybe'));\n\nexport function put(channel, action) {\n  if (arguments.length > 1) {\n    check(channel, is.notUndef, 'put(channel, action): argument channel is undefined');\n    check(channel, is.channel, 'put(channel, action): argument ' + channel + ' is not a valid channel');\n    check(action, is.notUndef, 'put(channel, action): argument action is undefined');\n  } else {\n    check(channel, is.notUndef, 'put(action): argument action is undefined');\n    action = channel;\n    channel = null;\n  }\n  return effect(PUT, { channel: channel, action: action });\n}\n\nput.resolve = function () {\n  var eff = put.apply(undefined, arguments);\n  eff[PUT].resolve = true;\n  return eff;\n};\n\nput.sync = /*#__PURE__*/deprecate(put.resolve, /*#__PURE__*/updateIncentive('put.sync', 'put.resolve'));\n\nexport function all(effects) {\n  return effect(ALL, effects);\n}\n\nexport function race(effects) {\n  return effect(RACE, effects);\n}\n\nfunction getFnCallDesc(meth, fn, args) {\n  check(fn, is.notUndef, meth + ': argument fn is undefined');\n\n  var context = null;\n  if (is.array(fn)) {\n    var _fn = fn;\n    context = _fn[0];\n    fn = _fn[1];\n  } else if (fn.fn) {\n    var _fn2 = fn;\n    context = _fn2.context;\n    fn = _fn2.fn;\n  }\n  if (context && is.string(fn) && is.func(context[fn])) {\n    fn = context[fn];\n  }\n  check(fn, is.func, meth + ': argument ' + fn + ' is not a function');\n\n  return { context: context, fn: fn, args: args };\n}\n\nexport function call(fn) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return effect(CALL, getFnCallDesc('call', fn, args));\n}\n\nexport function apply(context, fn) {\n  var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  return effect(CALL, getFnCallDesc('apply', { context: context, fn: fn }, args));\n}\n\nexport function cps(fn) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return effect(CPS, getFnCallDesc('cps', fn, args));\n}\n\nexport function fork(fn) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return effect(FORK, getFnCallDesc('fork', fn, args));\n}\n\nexport function spawn(fn) {\n  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return detach(fork.apply(undefined, [fn].concat(args)));\n}\n\nexport function join() {\n  for (var _len5 = arguments.length, tasks = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    tasks[_key5] = arguments[_key5];\n  }\n\n  if (tasks.length > 1) {\n    return all(tasks.map(function (t) {\n      return join(t);\n    }));\n  }\n  var task = tasks[0];\n  check(task, is.notUndef, 'join(task): argument task is undefined');\n  check(task, is.task, 'join(task): argument ' + task + ' is not a valid Task object ' + TEST_HINT);\n  return effect(JOIN, task);\n}\n\nexport function cancel() {\n  for (var _len6 = arguments.length, tasks = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    tasks[_key6] = arguments[_key6];\n  }\n\n  if (tasks.length > 1) {\n    return all(tasks.map(function (t) {\n      return cancel(t);\n    }));\n  }\n  var task = tasks[0];\n  if (tasks.length === 1) {\n    check(task, is.notUndef, 'cancel(task): argument task is undefined');\n    check(task, is.task, 'cancel(task): argument ' + task + ' is not a valid Task object ' + TEST_HINT);\n  }\n  return effect(CANCEL, task || SELF_CANCELLATION);\n}\n\nexport function select(selector) {\n  for (var _len7 = arguments.length, args = Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n    args[_key7 - 1] = arguments[_key7];\n  }\n\n  if (arguments.length === 0) {\n    selector = ident;\n  } else {\n    check(selector, is.notUndef, 'select(selector,[...]): argument selector is undefined');\n    check(selector, is.func, 'select(selector,[...]): argument ' + selector + ' is not a function');\n  }\n  return effect(SELECT, { selector: selector, args: args });\n}\n\n/**\n  channel(pattern, [buffer])    => creates an event channel for store actions\n**/\nexport function actionChannel(pattern, buffer) {\n  check(pattern, is.notUndef, 'actionChannel(pattern,...): argument pattern is undefined');\n  if (arguments.length > 1) {\n    check(buffer, is.notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');\n    check(buffer, is.buffer, 'actionChannel(pattern, buffer): argument ' + buffer + ' is not a valid buffer');\n  }\n  return effect(ACTION_CHANNEL, { pattern: pattern, buffer: buffer });\n}\n\nexport function cancelled() {\n  return effect(CANCELLED, {});\n}\n\nexport function flush(channel) {\n  check(channel, is.channel, 'flush(channel): argument ' + channel + ' is not valid channel');\n  return effect(FLUSH, channel);\n}\n\nexport function getContext(prop) {\n  check(prop, is.string, 'getContext(prop): argument ' + prop + ' is not a string');\n  return effect(GET_CONTEXT, prop);\n}\n\nexport function setContext(props) {\n  check(props, is.object, createSetContextWarning(null, props));\n  return effect(SET_CONTEXT, props);\n}\n\nvar createAsEffectType = function createAsEffectType(type) {\n  return function (effect) {\n    return effect && effect[IO] && effect[type];\n  };\n};\n\nexport var asEffect = {\n  take: /*#__PURE__*/createAsEffectType(TAKE),\n  put: /*#__PURE__*/createAsEffectType(PUT),\n  all: /*#__PURE__*/createAsEffectType(ALL),\n  race: /*#__PURE__*/createAsEffectType(RACE),\n  call: /*#__PURE__*/createAsEffectType(CALL),\n  cps: /*#__PURE__*/createAsEffectType(CPS),\n  fork: /*#__PURE__*/createAsEffectType(FORK),\n  join: /*#__PURE__*/createAsEffectType(JOIN),\n  cancel: /*#__PURE__*/createAsEffectType(CANCEL),\n  select: /*#__PURE__*/createAsEffectType(SELECT),\n  actionChannel: /*#__PURE__*/createAsEffectType(ACTION_CHANNEL),\n  cancelled: /*#__PURE__*/createAsEffectType(CANCELLED),\n  flush: /*#__PURE__*/createAsEffectType(FLUSH),\n  getContext: /*#__PURE__*/createAsEffectType(GET_CONTEXT),\n  setContext: /*#__PURE__*/createAsEffectType(SET_CONTEXT)\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineEnumerableProperties(obj, descs) { for (var key in descs) { var desc = descs[key]; desc.configurable = desc.enumerable = true; if (\"value\" in desc) desc.writable = true; Object.defineProperty(obj, key, desc); } return obj; }\n\nimport { noop, kTrue, is, log as _log, check, deferred, uid as nextEffectId, array, remove, object, TASK, CANCEL, SELF_CANCELLATION, makeIterator, createSetContextWarning, deprecate, updateIncentive } from './utils';\nimport { asap, suspend, flush } from './scheduler';\nimport { asEffect } from './io';\nimport { stdChannel as _stdChannel, eventChannel, isEnd } from './channel';\nimport { buffers } from './buffers';\n\nexport var NOT_ITERATOR_ERROR = 'proc first argument (Saga function result) must be an iterator';\n\nexport var CHANNEL_END = {\n  toString: function toString() {\n    return '@@redux-saga/CHANNEL_END';\n  }\n};\nexport var TASK_CANCEL = {\n  toString: function toString() {\n    return '@@redux-saga/TASK_CANCEL';\n  }\n};\n\nvar matchers = {\n  wildcard: function wildcard() {\n    return kTrue;\n  },\n  default: function _default(pattern) {\n    return (typeof pattern === 'undefined' ? 'undefined' : _typeof(pattern)) === 'symbol' ? function (input) {\n      return input.type === pattern;\n    } : function (input) {\n      return input.type === String(pattern);\n    };\n  },\n  array: function array(patterns) {\n    return function (input) {\n      return patterns.some(function (p) {\n        return matcher(p)(input);\n      });\n    };\n  },\n  predicate: function predicate(_predicate) {\n    return function (input) {\n      return _predicate(input);\n    };\n  }\n};\n\nfunction matcher(pattern) {\n  // prettier-ignore\n  return (pattern === '*' ? matchers.wildcard : is.array(pattern) ? matchers.array : is.stringableFunc(pattern) ? matchers.default : is.func(pattern) ? matchers.predicate : matchers.default)(pattern);\n}\n\n/**\n  Used to track a parent task and its forks\n  In the new fork model, forked tasks are attached by default to their parent\n  We model this using the concept of Parent task && main Task\n  main task is the main flow of the current Generator, the parent tasks is the\n  aggregation of the main tasks + all its forked tasks.\n  Thus the whole model represents an execution tree with multiple branches (vs the\n  linear execution tree in sequential (non parallel) programming)\n\n  A parent tasks has the following semantics\n  - It completes if all its forks either complete or all cancelled\n  - If it's cancelled, all forks are cancelled as well\n  - It aborts if any uncaught error bubbles up from forks\n  - If it completes, the return value is the one returned by the main task\n**/\nfunction forkQueue(name, mainTask, cb) {\n  var tasks = [],\n      result = void 0,\n      completed = false;\n  addTask(mainTask);\n\n  function abort(err) {\n    cancelAll();\n    cb(err, true);\n  }\n\n  function addTask(task) {\n    tasks.push(task);\n    task.cont = function (res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      remove(tasks, task);\n      task.cont = noop;\n      if (isErr) {\n        abort(res);\n      } else {\n        if (task === mainTask) {\n          result = res;\n        }\n        if (!tasks.length) {\n          completed = true;\n          cb(result);\n        }\n      }\n    };\n    // task.cont.cancel = task.cancel\n  }\n\n  function cancelAll() {\n    if (completed) {\n      return;\n    }\n    completed = true;\n    tasks.forEach(function (t) {\n      t.cont = noop;\n      t.cancel();\n    });\n    tasks = [];\n  }\n\n  return {\n    addTask: addTask,\n    cancelAll: cancelAll,\n    abort: abort,\n    getTasks: function getTasks() {\n      return tasks;\n    },\n    taskNames: function taskNames() {\n      return tasks.map(function (t) {\n        return t.name;\n      });\n    }\n  };\n}\n\nfunction createTaskIterator(_ref) {\n  var context = _ref.context,\n      fn = _ref.fn,\n      args = _ref.args;\n\n  if (is.iterator(fn)) {\n    return fn;\n  }\n\n  // catch synchronous failures; see #152 and #441\n  var result = void 0,\n      error = void 0;\n  try {\n    result = fn.apply(context, args);\n  } catch (err) {\n    error = err;\n  }\n\n  // i.e. a generator function returns an iterator\n  if (is.iterator(result)) {\n    return result;\n  }\n\n  // do not bubble up synchronous failures for detached forks\n  // instead create a failed task. See #152 and #441\n  return error ? makeIterator(function () {\n    throw error;\n  }) : makeIterator(function () {\n    var pc = void 0;\n    var eff = { done: false, value: result };\n    var ret = function ret(value) {\n      return { done: true, value: value };\n    };\n    return function (arg) {\n      if (!pc) {\n        pc = true;\n        return eff;\n      } else {\n        return ret(arg);\n      }\n    };\n  }());\n}\n\nvar wrapHelper = function wrapHelper(helper) {\n  return { fn: helper };\n};\n\nexport default function proc(iterator) {\n  var subscribe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return noop;\n  };\n  var dispatch = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop;\n  var getState = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : noop;\n  var parentContext = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var parentEffectId = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n  var name = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 'anonymous';\n  var cont = arguments[8];\n\n  check(iterator, is.iterator, NOT_ITERATOR_ERROR);\n\n  var effectsString = '[...effects]';\n  var runParallelEffect = deprecate(runAllEffect, updateIncentive(effectsString, 'all(' + effectsString + ')'));\n\n  var sagaMonitor = options.sagaMonitor,\n      logger = options.logger,\n      onError = options.onError;\n\n  var log = logger || _log;\n  var logError = function logError(err) {\n    var message = err.sagaStack;\n\n    if (!message && err.stack) {\n      message = err.stack.split('\\n')[0].indexOf(err.message) !== -1 ? err.stack : 'Error: ' + err.message + '\\n' + err.stack;\n    }\n\n    log('error', 'uncaught at ' + name, message || err.message || err);\n  };\n  var stdChannel = _stdChannel(subscribe);\n  var taskContext = Object.create(parentContext);\n  /**\n    Tracks the current effect cancellation\n    Each time the generator progresses. calling runEffect will set a new value\n    on it. It allows propagating cancellation to child effects\n  **/\n  next.cancel = noop;\n\n  /**\n    Creates a new task descriptor for this generator, We'll also create a main task\n    to track the main flow (besides other forked tasks)\n  **/\n  var task = newTask(parentEffectId, name, iterator, cont);\n  var mainTask = { name: name, cancel: cancelMain, isRunning: true };\n  var taskQueue = forkQueue(name, mainTask, end);\n\n  /**\n    cancellation of the main task. We'll simply resume the Generator with a Cancel\n  **/\n  function cancelMain() {\n    if (mainTask.isRunning && !mainTask.isCancelled) {\n      mainTask.isCancelled = true;\n      next(TASK_CANCEL);\n    }\n  }\n\n  /**\n    This may be called by a parent generator to trigger/propagate cancellation\n    cancel all pending tasks (including the main task), then end the current task.\n     Cancellation propagates down to the whole execution tree holded by this Parent task\n    It's also propagated to all joiners of this task and their execution tree/joiners\n     Cancellation is noop for terminated/Cancelled tasks tasks\n  **/\n  function cancel() {\n    /**\n      We need to check both Running and Cancelled status\n      Tasks can be Cancelled but still Running\n    **/\n    if (iterator._isRunning && !iterator._isCancelled) {\n      iterator._isCancelled = true;\n      taskQueue.cancelAll();\n      /**\n        Ending with a Never result will propagate the Cancellation to all joiners\n      **/\n      end(TASK_CANCEL);\n    }\n  }\n  /**\n    attaches cancellation logic to this task's continuation\n    this will permit cancellation to propagate down the call chain\n  **/\n  cont && (cont.cancel = cancel);\n\n  // tracks the running status\n  iterator._isRunning = true;\n\n  // kicks up the generator\n  next();\n\n  // then return the task descriptor to the caller\n  return task;\n\n  /**\n    This is the generator driver\n    It's a recursive async/continuation function which calls itself\n    until the generator terminates or throws\n  **/\n  function next(arg, isErr) {\n    // Preventive measure. If we end up here, then there is really something wrong\n    if (!mainTask.isRunning) {\n      throw new Error('Trying to resume an already finished generator');\n    }\n\n    try {\n      var result = void 0;\n      if (isErr) {\n        result = iterator.throw(arg);\n      } else if (arg === TASK_CANCEL) {\n        /**\n          getting TASK_CANCEL automatically cancels the main task\n          We can get this value here\n           - By cancelling the parent task manually\n          - By joining a Cancelled task\n        **/\n        mainTask.isCancelled = true;\n        /**\n          Cancels the current effect; this will propagate the cancellation down to any called tasks\n        **/\n        next.cancel();\n        /**\n          If this Generator has a `return` method then invokes it\n          This will jump to the finally block\n        **/\n        result = is.func(iterator.return) ? iterator.return(TASK_CANCEL) : { done: true, value: TASK_CANCEL };\n      } else if (arg === CHANNEL_END) {\n        // We get CHANNEL_END by taking from a channel that ended using `take` (and not `takem` used to trap End of channels)\n        result = is.func(iterator.return) ? iterator.return() : { done: true };\n      } else {\n        result = iterator.next(arg);\n      }\n\n      if (!result.done) {\n        runEffect(result.value, parentEffectId, '', next);\n      } else {\n        /**\n          This Generator has ended, terminate the main task and notify the fork queue\n        **/\n        mainTask.isMainRunning = false;\n        mainTask.cont && mainTask.cont(result.value);\n      }\n    } catch (error) {\n      if (mainTask.isCancelled) {\n        logError(error);\n      }\n      mainTask.isMainRunning = false;\n      mainTask.cont(error, true);\n    }\n  }\n\n  function end(result, isErr) {\n    iterator._isRunning = false;\n    stdChannel.close();\n    if (!isErr) {\n      iterator._result = result;\n      iterator._deferredEnd && iterator._deferredEnd.resolve(result);\n    } else {\n      if (result instanceof Error) {\n        Object.defineProperty(result, 'sagaStack', {\n          value: 'at ' + name + ' \\n ' + (result.sagaStack || result.stack),\n          configurable: true\n        });\n      }\n      if (!task.cont) {\n        if (result instanceof Error && onError) {\n          onError(result);\n        } else {\n          logError(result);\n        }\n      }\n      iterator._error = result;\n      iterator._isAborted = true;\n      iterator._deferredEnd && iterator._deferredEnd.reject(result);\n    }\n    task.cont && task.cont(result, isErr);\n    task.joiners.forEach(function (j) {\n      return j.cb(result, isErr);\n    });\n    task.joiners = null;\n  }\n\n  function runEffect(effect, parentEffectId) {\n    var label = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var cb = arguments[3];\n\n    var effectId = nextEffectId();\n    sagaMonitor && sagaMonitor.effectTriggered({ effectId: effectId, parentEffectId: parentEffectId, label: label, effect: effect });\n\n    /**\n      completion callback and cancel callback are mutually exclusive\n      We can't cancel an already completed effect\n      And We can't complete an already cancelled effectId\n    **/\n    var effectSettled = void 0;\n\n    // Completion callback passed to the appropriate effect runner\n    function currCb(res, isErr) {\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      cb.cancel = noop; // defensive measure\n      if (sagaMonitor) {\n        isErr ? sagaMonitor.effectRejected(effectId, res) : sagaMonitor.effectResolved(effectId, res);\n      }\n      cb(res, isErr);\n    }\n    // tracks down the current cancel\n    currCb.cancel = noop;\n\n    // setup cancellation logic on the parent cb\n    cb.cancel = function () {\n      // prevents cancelling an already completed effect\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      /**\n        propagates cancel downward\n        catch uncaught cancellations errors; since we can no longer call the completion\n        callback, log errors raised during cancellations into the console\n      **/\n      try {\n        currCb.cancel();\n      } catch (err) {\n        logError(err);\n      }\n      currCb.cancel = noop; // defensive measure\n\n      sagaMonitor && sagaMonitor.effectCancelled(effectId);\n    };\n\n    /**\n      each effect runner must attach its own logic of cancellation to the provided callback\n      it allows this generator to propagate cancellation downward.\n       ATTENTION! effect runners must setup the cancel logic by setting cb.cancel = [cancelMethod]\n      And the setup must occur before calling the callback\n       This is a sort of inversion of control: called async functions are responsible\n      for completing the flow by calling the provided continuation; while caller functions\n      are responsible for aborting the current flow by calling the attached cancel function\n       Library users can attach their own cancellation logic to promises by defining a\n      promise[CANCEL] method in their returned promises\n      ATTENTION! calling cancel must have no effect on an already completed or cancelled effect\n    **/\n    var data = void 0;\n    // prettier-ignore\n    return (\n      // Non declarative effect\n      is.promise(effect) ? resolvePromise(effect, currCb) : is.helper(effect) ? runForkEffect(wrapHelper(effect), effectId, currCb) : is.iterator(effect) ? resolveIterator(effect, effectId, name, currCb)\n\n      // declarative effects\n      : is.array(effect) ? runParallelEffect(effect, effectId, currCb) : (data = asEffect.take(effect)) ? runTakeEffect(data, currCb) : (data = asEffect.put(effect)) ? runPutEffect(data, currCb) : (data = asEffect.all(effect)) ? runAllEffect(data, effectId, currCb) : (data = asEffect.race(effect)) ? runRaceEffect(data, effectId, currCb) : (data = asEffect.call(effect)) ? runCallEffect(data, effectId, currCb) : (data = asEffect.cps(effect)) ? runCPSEffect(data, currCb) : (data = asEffect.fork(effect)) ? runForkEffect(data, effectId, currCb) : (data = asEffect.join(effect)) ? runJoinEffect(data, currCb) : (data = asEffect.cancel(effect)) ? runCancelEffect(data, currCb) : (data = asEffect.select(effect)) ? runSelectEffect(data, currCb) : (data = asEffect.actionChannel(effect)) ? runChannelEffect(data, currCb) : (data = asEffect.flush(effect)) ? runFlushEffect(data, currCb) : (data = asEffect.cancelled(effect)) ? runCancelledEffect(data, currCb) : (data = asEffect.getContext(effect)) ? runGetContextEffect(data, currCb) : (data = asEffect.setContext(effect)) ? runSetContextEffect(data, currCb) : /* anything else returned as is */currCb(effect)\n    );\n  }\n\n  function resolvePromise(promise, cb) {\n    var cancelPromise = promise[CANCEL];\n    if (is.func(cancelPromise)) {\n      cb.cancel = cancelPromise;\n    } else if (is.func(promise.abort)) {\n      cb.cancel = function () {\n        return promise.abort();\n      };\n      // TODO: add support for the fetch API, whenever they get around to\n      // adding cancel support\n    }\n    promise.then(cb, function (error) {\n      return cb(error, true);\n    });\n  }\n\n  function resolveIterator(iterator, effectId, name, cb) {\n    proc(iterator, subscribe, dispatch, getState, taskContext, options, effectId, name, cb);\n  }\n\n  function runTakeEffect(_ref2, cb) {\n    var channel = _ref2.channel,\n        pattern = _ref2.pattern,\n        maybe = _ref2.maybe;\n\n    channel = channel || stdChannel;\n    var takeCb = function takeCb(inp) {\n      return inp instanceof Error ? cb(inp, true) : isEnd(inp) && !maybe ? cb(CHANNEL_END) : cb(inp);\n    };\n    try {\n      channel.take(takeCb, matcher(pattern));\n    } catch (err) {\n      return cb(err, true);\n    }\n    cb.cancel = takeCb.cancel;\n  }\n\n  function runPutEffect(_ref3, cb) {\n    var channel = _ref3.channel,\n        action = _ref3.action,\n        resolve = _ref3.resolve;\n\n    /**\n      Schedule the put in case another saga is holding a lock.\n      The put will be executed atomically. ie nested puts will execute after\n      this put has terminated.\n    **/\n    asap(function () {\n      var result = void 0;\n      try {\n        result = (channel ? channel.put : dispatch)(action);\n      } catch (error) {\n        // If we have a channel or `put.resolve` was used then bubble up the error.\n        if (channel || resolve) return cb(error, true);\n        logError(error);\n      }\n\n      if (resolve && is.promise(result)) {\n        resolvePromise(result, cb);\n      } else {\n        return cb(result);\n      }\n    });\n    // Put effects are non cancellables\n  }\n\n  function runCallEffect(_ref4, effectId, cb) {\n    var context = _ref4.context,\n        fn = _ref4.fn,\n        args = _ref4.args;\n\n    var result = void 0;\n    // catch synchronous failures; see #152\n    try {\n      result = fn.apply(context, args);\n    } catch (error) {\n      return cb(error, true);\n    }\n    return is.promise(result) ? resolvePromise(result, cb) : is.iterator(result) ? resolveIterator(result, effectId, fn.name, cb) : cb(result);\n  }\n\n  function runCPSEffect(_ref5, cb) {\n    var context = _ref5.context,\n        fn = _ref5.fn,\n        args = _ref5.args;\n\n    // CPS (ie node style functions) can define their own cancellation logic\n    // by setting cancel field on the cb\n\n    // catch synchronous failures; see #152\n    try {\n      var cpsCb = function cpsCb(err, res) {\n        return is.undef(err) ? cb(res) : cb(err, true);\n      };\n      fn.apply(context, args.concat(cpsCb));\n      if (cpsCb.cancel) {\n        cb.cancel = function () {\n          return cpsCb.cancel();\n        };\n      }\n    } catch (error) {\n      return cb(error, true);\n    }\n  }\n\n  function runForkEffect(_ref6, effectId, cb) {\n    var context = _ref6.context,\n        fn = _ref6.fn,\n        args = _ref6.args,\n        detached = _ref6.detached;\n\n    var taskIterator = createTaskIterator({ context: context, fn: fn, args: args });\n\n    try {\n      suspend();\n      var _task = proc(taskIterator, subscribe, dispatch, getState, taskContext, options, effectId, fn.name, detached ? null : noop);\n\n      if (detached) {\n        cb(_task);\n      } else {\n        if (taskIterator._isRunning) {\n          taskQueue.addTask(_task);\n          cb(_task);\n        } else if (taskIterator._error) {\n          taskQueue.abort(taskIterator._error);\n        } else {\n          cb(_task);\n        }\n      }\n    } finally {\n      flush();\n    }\n    // Fork effects are non cancellables\n  }\n\n  function runJoinEffect(t, cb) {\n    if (t.isRunning()) {\n      var joiner = { task: task, cb: cb };\n      cb.cancel = function () {\n        return remove(t.joiners, joiner);\n      };\n      t.joiners.push(joiner);\n    } else {\n      t.isAborted() ? cb(t.error(), true) : cb(t.result());\n    }\n  }\n\n  function runCancelEffect(taskToCancel, cb) {\n    if (taskToCancel === SELF_CANCELLATION) {\n      taskToCancel = task;\n    }\n    if (taskToCancel.isRunning()) {\n      taskToCancel.cancel();\n    }\n    cb();\n    // cancel effects are non cancellables\n  }\n\n  function runAllEffect(effects, effectId, cb) {\n    var keys = Object.keys(effects);\n\n    if (!keys.length) {\n      return cb(is.array(effects) ? [] : {});\n    }\n\n    var completedCount = 0;\n    var completed = void 0;\n    var results = {};\n    var childCbs = {};\n\n    function checkEffectEnd() {\n      if (completedCount === keys.length) {\n        completed = true;\n        cb(is.array(effects) ? array.from(_extends({}, results, { length: keys.length })) : results);\n      }\n    }\n\n    keys.forEach(function (key) {\n      var chCbAtKey = function chCbAtKey(res, isErr) {\n        if (completed) {\n          return;\n        }\n        if (isErr || isEnd(res) || res === CHANNEL_END || res === TASK_CANCEL) {\n          cb.cancel();\n          cb(res, isErr);\n        } else {\n          results[key] = res;\n          completedCount++;\n          checkEffectEnd();\n        }\n      };\n      chCbAtKey.cancel = noop;\n      childCbs[key] = chCbAtKey;\n    });\n\n    cb.cancel = function () {\n      if (!completed) {\n        completed = true;\n        keys.forEach(function (key) {\n          return childCbs[key].cancel();\n        });\n      }\n    };\n\n    keys.forEach(function (key) {\n      return runEffect(effects[key], effectId, key, childCbs[key]);\n    });\n  }\n\n  function runRaceEffect(effects, effectId, cb) {\n    var completed = void 0;\n    var keys = Object.keys(effects);\n    var childCbs = {};\n\n    keys.forEach(function (key) {\n      var chCbAtKey = function chCbAtKey(res, isErr) {\n        if (completed) {\n          return;\n        }\n\n        if (isErr) {\n          // Race Auto cancellation\n          cb.cancel();\n          cb(res, true);\n        } else if (!isEnd(res) && res !== CHANNEL_END && res !== TASK_CANCEL) {\n          var _response;\n\n          cb.cancel();\n          completed = true;\n          var response = (_response = {}, _response[key] = res, _response);\n          cb(is.array(effects) ? [].slice.call(_extends({}, response, { length: keys.length })) : response);\n        }\n      };\n      chCbAtKey.cancel = noop;\n      childCbs[key] = chCbAtKey;\n    });\n\n    cb.cancel = function () {\n      // prevents unnecessary cancellation\n      if (!completed) {\n        completed = true;\n        keys.forEach(function (key) {\n          return childCbs[key].cancel();\n        });\n      }\n    };\n    keys.forEach(function (key) {\n      if (completed) {\n        return;\n      }\n      runEffect(effects[key], effectId, key, childCbs[key]);\n    });\n  }\n\n  function runSelectEffect(_ref7, cb) {\n    var selector = _ref7.selector,\n        args = _ref7.args;\n\n    try {\n      var state = selector.apply(undefined, [getState()].concat(args));\n      cb(state);\n    } catch (error) {\n      cb(error, true);\n    }\n  }\n\n  function runChannelEffect(_ref8, cb) {\n    var pattern = _ref8.pattern,\n        buffer = _ref8.buffer;\n\n    var match = matcher(pattern);\n    match.pattern = pattern;\n    cb(eventChannel(subscribe, buffer || buffers.fixed(), match));\n  }\n\n  function runCancelledEffect(data, cb) {\n    cb(!!mainTask.isCancelled);\n  }\n\n  function runFlushEffect(channel, cb) {\n    channel.flush(cb);\n  }\n\n  function runGetContextEffect(prop, cb) {\n    cb(taskContext[prop]);\n  }\n\n  function runSetContextEffect(props, cb) {\n    object.assign(taskContext, props);\n    cb();\n  }\n\n  function newTask(id, name, iterator, cont) {\n    var _done, _ref9, _mutatorMap;\n\n    iterator._deferredEnd = null;\n    return _ref9 = {}, _ref9[TASK] = true, _ref9.id = id, _ref9.name = name, _done = 'done', _mutatorMap = {}, _mutatorMap[_done] = _mutatorMap[_done] || {}, _mutatorMap[_done].get = function () {\n      if (iterator._deferredEnd) {\n        return iterator._deferredEnd.promise;\n      } else {\n        var def = deferred();\n        iterator._deferredEnd = def;\n        if (!iterator._isRunning) {\n          iterator._error ? def.reject(iterator._error) : def.resolve(iterator._result);\n        }\n        return def.promise;\n      }\n    }, _ref9.cont = cont, _ref9.joiners = [], _ref9.cancel = cancel, _ref9.isRunning = function isRunning() {\n      return iterator._isRunning;\n    }, _ref9.isCancelled = function isCancelled() {\n      return iterator._isCancelled;\n    }, _ref9.isAborted = function isAborted() {\n      return iterator._isAborted;\n    }, _ref9.result = function result() {\n      return iterator._result;\n    }, _ref9.error = function error() {\n      return iterator._error;\n    }, _ref9.setContext = function setContext(props) {\n      check(props, is.object, createSetContextWarning('task', props));\n      object.assign(taskContext, props);\n    }, _defineEnumerableProperties(_ref9, _mutatorMap), _ref9;\n  }\n}","import { is, check, uid as nextSagaId, wrapSagaDispatch, noop, log } from './utils';\nimport proc from './proc';\n\nvar RUN_SAGA_SIGNATURE = 'runSaga(storeInterface, saga, ...args)';\nvar NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + ': saga argument must be a Generator function!';\n\nexport function runSaga(storeInterface, saga) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var iterator = void 0;\n\n  if (is.iterator(storeInterface)) {\n    if (process.env.NODE_ENV === 'development') {\n      log('warn', 'runSaga(iterator, storeInterface) has been deprecated in favor of ' + RUN_SAGA_SIGNATURE);\n    }\n    iterator = storeInterface;\n    storeInterface = saga;\n  } else {\n    check(saga, is.func, NON_GENERATOR_ERR);\n    iterator = saga.apply(undefined, args);\n    check(iterator, is.iterator, NON_GENERATOR_ERR);\n  }\n\n  var _storeInterface = storeInterface,\n      subscribe = _storeInterface.subscribe,\n      dispatch = _storeInterface.dispatch,\n      getState = _storeInterface.getState,\n      context = _storeInterface.context,\n      sagaMonitor = _storeInterface.sagaMonitor,\n      logger = _storeInterface.logger,\n      onError = _storeInterface.onError;\n\n\n  var effectId = nextSagaId();\n\n  if (sagaMonitor) {\n    // monitors are expected to have a certain interface, let's fill-in any missing ones\n    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || noop;\n    sagaMonitor.effectResolved = sagaMonitor.effectResolved || noop;\n    sagaMonitor.effectRejected = sagaMonitor.effectRejected || noop;\n    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || noop;\n    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || noop;\n\n    sagaMonitor.effectTriggered({ effectId: effectId, root: true, parentEffectId: 0, effect: { root: true, saga: saga, args: args } });\n  }\n\n  var task = proc(iterator, subscribe, wrapSagaDispatch(dispatch), getState, context, { sagaMonitor: sagaMonitor, logger: logger, onError: onError }, effectId, saga.name);\n\n  if (sagaMonitor) {\n    sagaMonitor.effectResolved(effectId, task);\n  }\n\n  return task;\n}","function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport { is, check, object, createSetContextWarning } from './utils';\nimport { emitter } from './channel';\nimport { ident } from './utils';\nimport { runSaga } from './runSaga';\n\nexport default function sagaMiddlewareFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref$context = _ref.context,\n      context = _ref$context === undefined ? {} : _ref$context,\n      options = _objectWithoutProperties(_ref, ['context']);\n\n  var sagaMonitor = options.sagaMonitor,\n      logger = options.logger,\n      onError = options.onError;\n\n\n  if (is.func(options)) {\n    if (process.env.NODE_ENV === 'production') {\n      throw new Error('Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead');\n    } else {\n      throw new Error('You passed a function to the Saga middleware. You are likely trying to start a        Saga by directly passing it to the middleware. This is no longer possible starting from 0.10.0.        To run a Saga, you must do it dynamically AFTER mounting the middleware into the store.\\n        Example:\\n          import createSagaMiddleware from \\'redux-saga\\'\\n          ... other imports\\n\\n          const sagaMiddleware = createSagaMiddleware()\\n          const store = createStore(reducer, applyMiddleware(sagaMiddleware))\\n          sagaMiddleware.run(saga, ...args)\\n      ');\n    }\n  }\n\n  if (logger && !is.func(logger)) {\n    throw new Error('`options.logger` passed to the Saga middleware is not a function!');\n  }\n\n  if (process.env.NODE_ENV === 'development' && options.onerror) {\n    throw new Error('`options.onerror` was removed. Use `options.onError` instead.');\n  }\n\n  if (onError && !is.func(onError)) {\n    throw new Error('`options.onError` passed to the Saga middleware is not a function!');\n  }\n\n  if (options.emitter && !is.func(options.emitter)) {\n    throw new Error('`options.emitter` passed to the Saga middleware is not a function!');\n  }\n\n  function sagaMiddleware(_ref2) {\n    var getState = _ref2.getState,\n        dispatch = _ref2.dispatch;\n\n    var sagaEmitter = emitter();\n    sagaEmitter.emit = (options.emitter || ident)(sagaEmitter.emit);\n\n    sagaMiddleware.run = runSaga.bind(null, {\n      context: context,\n      subscribe: sagaEmitter.subscribe,\n      dispatch: dispatch,\n      getState: getState,\n      sagaMonitor: sagaMonitor,\n      logger: logger,\n      onError: onError\n    });\n\n    return function (next) {\n      return function (action) {\n        if (sagaMonitor && sagaMonitor.actionDispatched) {\n          sagaMonitor.actionDispatched(action);\n        }\n        var result = next(action); // hit reducers\n        sagaEmitter.emit(action);\n        return result;\n      };\n    };\n  }\n\n  sagaMiddleware.run = function () {\n    throw new Error('Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware');\n  };\n\n  sagaMiddleware.setContext = function (props) {\n    check(props, is.object, createSetContextWarning('sagaMiddleware', props));\n    object.assign(context, props);\n  };\n\n  return sagaMiddleware;\n}","import { is, makeIterator } from '../utils';\n\nvar done = { done: true, value: undefined };\nexport var qEnd = {};\n\nexport function safeName(patternOrChannel) {\n  if (is.channel(patternOrChannel)) {\n    return 'channel';\n  } else if (Array.isArray(patternOrChannel)) {\n    return String(patternOrChannel.map(function (entry) {\n      return String(entry);\n    }));\n  } else {\n    return String(patternOrChannel);\n  }\n}\n\nexport default function fsmIterator(fsm, q0) {\n  var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'iterator';\n\n  var updateState = void 0,\n      qNext = q0;\n\n  function next(arg, error) {\n    if (qNext === qEnd) {\n      return done;\n    }\n\n    if (error) {\n      qNext = qEnd;\n      throw error;\n    } else {\n      updateState && updateState(arg);\n\n      var _fsm$qNext = fsm[qNext](),\n          q = _fsm$qNext[0],\n          output = _fsm$qNext[1],\n          _updateState = _fsm$qNext[2];\n\n      qNext = q;\n      updateState = _updateState;\n      return qNext === qEnd ? done : output;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name, true);\n}","import fsmIterator, { qEnd, safeName } from './fsmIterator';\nimport { take, fork } from '../io';\nimport { END } from '../channel';\n\nexport default function takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = { done: false, value: take(patternOrChannel) };\n  var yFork = function yFork(ac) {\n    return { done: false, value: fork.apply(undefined, [worker].concat(args, [ac])) };\n  };\n\n  var action = void 0,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return ['q2', yTake, setAction];\n    },\n    q2: function q2() {\n      return action === END ? [qEnd] : ['q1', yFork(action)];\n    }\n  }, 'q1', 'takeEvery(' + safeName(patternOrChannel) + ', ' + worker.name + ')');\n}","import { fork } from './io';\nimport { takeEveryHelper, takeLatestHelper, throttleHelper } from './sagaHelpers';\n\nexport function takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(undefined, [takeEveryHelper, patternOrChannel, worker].concat(args));\n}\n\nexport function takeLatest(patternOrChannel, worker) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(undefined, [takeLatestHelper, patternOrChannel, worker].concat(args));\n}\n\nexport function throttle(ms, pattern, worker) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n    args[_key3 - 3] = arguments[_key3];\n  }\n\n  return fork.apply(undefined, [throttleHelper, ms, pattern, worker].concat(args));\n}","import middleware from './internal/middleware';\nexport default middleware;\n\nexport { runSaga } from './internal/runSaga';\nexport { END, eventChannel, channel } from './internal/channel';\nexport { buffers } from './internal/buffers';\nexport { takeEvery, takeLatest, throttle } from './internal/sagaHelpers';\nexport { delay, CANCEL } from './internal/utils';\nexport { detach } from './internal/io';\n\nimport * as effects from './effects';\nimport * as utils from './utils';\n\nexport { effects, utils };","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nimport { mergeDays, deleteItemFromDays } from '../utilities/daysUtils';\n\nfunction deletedPlannerItem(state, action) {\n  if (action.error) return state;\n  return deleteItemFromDays(state, action.payload);\n}\n\nexport default handleActions({\n  GOT_DAYS_SUCCESS: (state, action) => mergeDays(state, action.payload.internalDays),\n  DELETED_PLANNER_ITEM: deletedPlannerItem\n}, []);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nimport parseLinkHeader from 'parse-link-header';\nimport { mergeDays, purgeDuplicateDays } from '../utilities/daysUtils';\nimport { findNextLink } from '../utilities/apiUtils';\n\nfunction loadingState(currentState, loadingState) {\n  return _objectSpread({}, currentState, {\n    isLoading: false,\n    loadingPast: false,\n    loadingFuture: false,\n    loadingError: void 0\n  }, loadingState);\n}\n\nfunction findNextLinkFromAction(action) {\n  const response = action.payload.response;\n  if (response == null) return null;\n  return findNextLink(response);\n}\n\nfunction getNextUrls(state, action) {\n  const linkState = {};\n  const nextLink = findNextLinkFromAction(action);\n\n  if (state.isLoading || state.loadingFuture) {\n    linkState.futureNextUrl = nextLink;\n    if (nextLink == null) linkState.allFutureItemsLoaded = true;\n  }\n\n  if (state.loadingPast) {\n    linkState.pastNextUrl = nextLink;\n    if (nextLink == null) linkState.allPastItemsLoaded = true;\n  }\n\n  return linkState;\n}\n\nfunction gotDaysSuccess(state, action) {\n  const newState = {\n    seekingNewActivity: false,\n    plannerLoaded: true\n  };\n  newState.partialPastDays = purgeDuplicateDays(state.partialPastDays, action.payload.internalDays);\n  newState.partialFutureDays = purgeDuplicateDays(state.partialFutureDays, action.payload.internalDays);\n  return loadingState(state, newState);\n}\n\nfunction gotPartialPastDays(state, action) {\n  const linkState = getNextUrls(state, action);\n  return _objectSpread({}, state, {}, linkState, {\n    partialPastDays: mergeDays(state.partialPastDays, action.payload.internalDays)\n  });\n}\n\nfunction gotPartialFutureDays(state, action) {\n  const linkState = getNextUrls(state, action);\n  return _objectSpread({}, state, {}, linkState, {\n    partialFutureDays: mergeDays(state.partialFutureDays, action.payload.internalDays)\n  });\n}\n\nfunction gotItemsError(state, action) {\n  const error = action.payload.message || action.payload;\n  return loadingState(state, {\n    loadingError: error\n  });\n}\n\nexport default handleActions({\n  GOT_DAYS_SUCCESS: gotDaysSuccess,\n  GOT_ITEMS_ERROR: gotItemsError,\n  GOT_PARTIAL_PAST_DAYS: gotPartialPastDays,\n  GOT_PARTIAL_FUTURE_DAYS: gotPartialFutureDays,\n  START_LOADING_OPPORTUNITIES: (state, action) => {\n    return _objectSpread({}, state, {\n      loadingOpportunities: true\n    });\n  },\n  START_LOADING_ITEMS: (state, action) => {\n    return loadingState(state, {\n      isLoading: true\n    });\n  },\n  GETTING_PAST_ITEMS: (state, action) => {\n    return loadingState(state, {\n      loadingError: state.loadingError,\n      // don't reset error until we're successful\n      loadingPast: true,\n      seekingNewActivity: action.payload.seekingNewActivity\n    });\n  },\n  PEEKED_INTO_PAST: (state, action) => {\n    return loadingState(state, {\n      hasSomeItems: action.payload.hasSomeItems,\n      allPastItemsLoaded: !action.payload.hasSomeItems,\n      isLoading: state.isLoading\n    });\n  },\n  GETTING_FUTURE_ITEMS: (state, action) => {\n    return loadingState(state, {\n      loadingError: state.loadingError,\n      // don't reset error until we're successful\n      loadingFuture: true\n    });\n  },\n  DELETED_PLANNER_ITEM: (state, action) => {\n    return loadingState(state, {\n      hasSomeItems: false\n    }); // because we can no longer be sure\n  },\n  SAVED_PLANNER_ITEM: (state, action) => {\n    return loadingState(state, {\n      hasSomeItems: true\n    }); // even if days[] is empty, we know we have an item\n  },\n  ALL_FUTURE_ITEMS_LOADED: (state, action) => {\n    return loadingState(state, {\n      allFutureItemsLoaded: true\n    });\n  },\n  ALL_OPPORTUNITIES_LOADED: (state, action) => {\n    return _objectSpread({}, state, {\n      loadingOpportunities: false,\n      allOpportunitiesLoaded: true\n    });\n  },\n  ALL_PAST_ITEMS_LOADED: (state, action) => {\n    return loadingState(state, {\n      allPastItemsLoaded: true\n    });\n  },\n  ADD_OPPORTUNITIES: (state, action) => {\n    return _objectSpread({}, state, {\n      loadingOpportunities: false\n    });\n  },\n  START_LOADING_GRADES_SAGA: (state, action) => _objectSpread({}, state, {\n    loadingGrades: true,\n    gradesLoadingError: null\n  }),\n  GOT_GRADES_SUCCESS: (state, action) => _objectSpread({}, state, {\n    loadingGrades: false,\n    gradesLoaded: true,\n    gradesLoadingError: null\n  }),\n  GOT_GRADES_ERROR: (state, action) => _objectSpread({}, state, {\n    loadingGrades: false,\n    gradesLoaded: false,\n    gradesLoadingError: action.payload.message\n  })\n}, loadingState({}, {\n  isLoading: false,\n  loadingPast: false,\n  loadingFuture: false,\n  plannerLoaded: false,\n  allPastItemsLoaded: false,\n  allFutureItemsLoaded: false,\n  allOpportunitiesLoaded: false,\n  loadingOpportunities: false,\n  futureNextUrl: null,\n  pastNextUrl: null,\n  seekingNewActivity: false,\n  partialPastDays: [],\n  partialFutureDays: [],\n  hasSomeItems: null,\n  // Tri-state. Initially null because we haven't checked yet.\n  // Set to true if the first peek into the past returns an item.\n  // Reset to false if an item is deleted, because we can't know\n  // if it was the last one.\n  loadingGrades: false,\n  gradesLoaded: false,\n  gradesLoadingError: null\n}));","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\n\nfunction mergeGradesIntoCourses(courses, action) {\n  const grades = action.payload;\n  return courses.map(course => {\n    const newCourse = _objectSpread({}, course, {}, grades[course.id]);\n\n    delete newCourse.courseId; // remove confusing duplicate field\n\n    return newCourse;\n  });\n}\n\nexport default handleActions({\n  INITIAL_OPTIONS: (state, action) => action.payload.env.STUDENT_PLANNER_COURSES,\n  GOT_GRADES_SUCCESS: mergeGradesIntoCourses\n}, []);","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nexport default handleActions({\n  INITIAL_OPTIONS: (state, action) => action.payload.env.STUDENT_PLANNER_GROUPS\n}, []);","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nimport { cloneDeep } from 'lodash';\n\nfunction setOpportunityState(state, action) {\n  // merge payload into state, ignoring duplicates\n  // this approach favors the existing item over the new\n  const opportunities = [...state.items].concat(action.payload.items.filter(payitem => state.items.findIndex(stateitem => stateitem.id === payitem.id) < 0));\n  return {\n    items: opportunities,\n    nextUrl: action.payload.nextUrl\n  };\n}\n\nexport default handleActions({\n  ADD_OPPORTUNITIES: setOpportunityState,\n  DISMISSED_OPPORTUNITY: (state, action) => {\n    const stateCopy = cloneDeep(state);\n    const dismissedOpportunity = stateCopy.items.find(opportunity => opportunity.id === action.payload.assignment_id);\n\n    if (dismissedOpportunity.planner_override) {\n      dismissedOpportunity.planner_override.dismissed = action.payload.dismissed;\n    } else {\n      dismissedOpportunity.planner_override = action.payload;\n    }\n\n    return stateCopy;\n  }\n}, {\n  items: [],\n  nextUrl: null\n});","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nimport { cloneDeep } from 'lodash';\nexport default handleActions({\n  UPDATE_TODO: (state, action) => {\n    return cloneDeep(action.payload);\n  },\n  CLEAR_UPDATE_TODO: (state, action) => {\n    return {};\n  }\n}, {});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2015 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\n\nfunction handleSetNaiAboveScreen(state, action) {\n  return _objectSpread({}, state, {\n    naiAboveScreen: action.payload\n  });\n}\n\nexport default handleActions({\n  SET_NAI_ABOVE_SCREEN: handleSetNaiAboveScreen\n}, {\n  naiAboveScreen: false\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2018 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport moment from 'moment-timezone';\nimport { mergeNewItemsIntoDays, findItemInDays, deleteItemFromDays, deleteItemFromDaysAt } from '../utilities/daysUtils';\nimport { isInMomentRange } from '../utilities/dateUtils'; // This algorithm divides the timeline into 5 sections:\n// distant past: we haven't started loading this yet.\n// near past: we've started loading this (state.loading.partialPastDays)\n// loaded: the days we're currently showing (state.days)\n// near future: we've started loading these dates (state.loading.partialFutureDays)\n// distant future: we haven't started loading this yet.\n// The timeline looks like this:\n//\n//   ^\n//   |                              ^ distant past\n//  --- first partial past date   --|--\n//   |                              \\\n//  --- last partial past date       } near past range\n//   |                              /\n//  --- first loaded day          --|--\n//   |                              \\\n//   |                               } loaded range\n//   |                              /\n//  --- last loaded day           --|--\n//   |                              \\\n//  --- first partial future date    } near future range\n//   |                              /\n//  --- last partial future date  --|--\n//   |                              v  distant future\n//   v\n//\n// * If a saved item's date falls into the loaded range, we should display it immediately.\n// * If a saved item's date falls into the distant past or distant future, we can alert and not\n// add it to anything because we know it would be loaded on further page loads.\n// * If a saved item falls into the near past or near future, we need to alert and add it to the\n// corresponding partially loaded days because in this case it's possible the item would have\n// appeared on a page that has already been loaded. If so, we can't count on it being loaded on\n// further paging, so we need to add it in memory, even if it won't be immediately displayed.\n//\n// We also add the item to the partially loaded dates even if we know the saved item's date is\n// complete because we want to have consistent behavior based on the state the user can see. If\n// the item falls into the loaded range then they can expect it to be displayed. If it's not in\n// the loaded range, they will get an alert instead. This means the partially loaded days can have\n// multiple dates, which otherwise doesn't happen, but this works fine.\n\nfunction momentForDayAtIndex(state, days, dayIndex) {\n  if (dayIndex < 0) dayIndex = days.length + dayIndex;\n  const day = days[dayIndex];\n  if (day === void 0) return moment.invalid();\n  return moment.tz(day[0], state.timeZone);\n}\n\nfunction itemInRange(firstDayMoment, lastDayMoment, item) {\n  return isInMomentRange(item.date, firstDayMoment, lastDayMoment);\n} // The loaded range is a special case because the range of the days array can extend to infinity\n// if all days in that direction are loaded (allFutureItemsLoaded or allPastItemsLoaded).\n\n\nfunction itemDateIsLoaded(state, item) {\n  let firstDayMoment, lastDayMoment;\n  const itemMoment = item.dateBucketMoment.clone().startOf('day');\n  const today = moment.tz(state.timeZone).startOf('day');\n\n  if (state.days.length === 0) {\n    // If state.days is empty then there is no loaded range for a new item to fall\n    // into, but we still want to add the item if all[Future/Past]ItemsLoaded, or if it falls on\n    // today. In this case, pretend that today is present in the days array so today is in range.\n    firstDayMoment = lastDayMoment = today;\n  } else {\n    firstDayMoment = momentForDayAtIndex(state, state.days, 0);\n    lastDayMoment = momentForDayAtIndex(state, state.days, -1); // today is always loaded, even if the only loaded items are in the future\n\n    if (today.isBefore(firstDayMoment)) firstDayMoment = today;\n  }\n\n  const isFirstOrAfter = state.loading.allPastItemsLoaded || itemMoment.isSame(firstDayMoment) || itemMoment.isAfter(firstDayMoment);\n  const isLastOrBefore = state.loading.allFutureItemsLoaded || itemMoment.isSame(lastDayMoment) || itemMoment.isBefore(lastDayMoment);\n  return isFirstOrAfter && isLastOrBefore;\n}\n\nfunction itemIsInNearPast(state, item) {\n  const firstDayInPartialPastDays = momentForDayAtIndex(state, state.loading.partialPastDays, 0);\n  const firstDayInDays = momentForDayAtIndex(state, state.days, 0);\n  return itemInRange(firstDayInPartialPastDays, firstDayInDays, item);\n}\n\nfunction itemIsInNearFuture(state, item) {\n  const lastDayInDays = momentForDayAtIndex(state, state.days, -1);\n  const lastDayInPartialFutureDays = momentForDayAtIndex(state, state.loading.partialFutureDays, -1);\n  return itemInRange(lastDayInDays, lastDayInPartialFutureDays, item);\n}\n\nexport default function savePlannerItem(state, action) {\n  if (!state) return void 0; // leave it to other reducers to generate initial state\n\n  if (action.type !== 'SAVED_PLANNER_ITEM') return state;\n  if (action.error) return state; // Save actions from the todo sidebar that happen before the planner is loaded will mess up its\n  // initial state, so we ignore them.\n\n  if (!state.loading.plannerLoaded) return state;\n  const item = action.payload.item;\n\n  if (itemDateIsLoaded(state, item)) {\n    const _findItemInDays = findItemInDays(state.days, item.uniqueId),\n          dayIndex = _findItemInDays.dayIndex,\n          itemIndex = _findItemInDays.itemIndex,\n          oldItem = _findItemInDays.item;\n\n    let nextDays = state.days;\n\n    if (oldItem && !oldItem.dateBucketMoment.isSame(item.dateBucketMoment)) {\n      nextDays = deleteItemFromDaysAt(state.days, dayIndex, itemIndex);\n    }\n\n    return _objectSpread({}, state, {\n      days: mergeNewItemsIntoDays(nextDays, [item])\n    });\n  } else if (itemIsInNearPast(state, item)) {\n    const nextDays = deleteItemFromDays(state.days, item);\n    const nextPartial = mergeNewItemsIntoDays(state.loading.partialPastDays, [item]);\n    return _objectSpread({}, state, {\n      days: nextDays,\n      loading: _objectSpread({}, state.loading, {\n        partialPastDays: nextPartial\n      })\n    });\n  } else if (itemIsInNearFuture(state, item)) {\n    const nextDays = deleteItemFromDays(state.days, item);\n    const nextPartial = mergeNewItemsIntoDays(state.loading.partialFutureDays, [item]);\n    return _objectSpread({}, state, {\n      days: nextDays,\n      loading: _objectSpread({}, state.loading, {\n        partialFutureDays: nextPartial\n      })\n    });\n  } else {\n    // item is in distant past or distant future\n    const nextDays = deleteItemFromDays(state.days, item);\n    if (nextDays === state.days) return state;\n    return _objectSpread({}, state, {\n      days: nextDays\n    });\n  }\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { handleActions } from 'redux-actions';\nimport { combineReducers } from 'redux';\nimport { isInMomentRange } from '../utilities/dateUtils';\nimport { orderItemsByTimeAndTitle } from '../utilities/daysUtils';\nconst items = handleActions({\n  SIDEBAR_ITEMS_LOADED: (state, action) => {\n    const newState = state.concat(action.payload.items);\n    sortItems(newState);\n    return newState;\n  },\n  DELETED_PLANNER_ITEM: deleteItem\n}, []);\n\nfunction deleteItem(state, action) {\n  const doomedIndex = state.findIndex(item => item.uniqueId === action.payload.uniqueId);\n\n  if (doomedIndex > -1) {\n    const newState = state.slice();\n    newState.splice(doomedIndex, 1);\n    return newState;\n  }\n\n  return state;\n}\n\nconst nextUrl = handleActions({\n  SIDEBAR_ITEMS_LOADED: (state, action) => action.payload.nextUrl\n}, null);\nconst loading = handleActions({\n  SIDEBAR_ITEMS_LOADING: () => true,\n  SIDEBAR_ITEMS_LOADED: () => false,\n  SIDEBAR_ENOUGH_ITEMS_LOADED: () => false,\n  SIDEBAR_ITEMS_LOADING_FAILED: () => false\n}, false);\nconst loaded = handleActions({\n  SIDEBAR_ENOUGH_ITEMS_LOADED: () => true\n}, false);\nconst range = handleActions({\n  SIDEBAR_ITEMS_LOADING: (state, action) => {\n    if (action.payload) return _objectSpread({}, state, {}, action.payload);else return state;\n  }\n}, {});\nconst combinedReducer = combineReducers({\n  items,\n  loading,\n  nextUrl,\n  loaded,\n  range\n});\n\nfunction sortItems(items) {\n  return items.sort(orderItemsByTimeAndTitle);\n}\n\nfunction savedItemReducer(state, action) {\n  if (!state) return void 0;\n  if (!state.loaded || action.type !== 'SAVED_PLANNER_ITEM') return state;\n  if (!action.payload.item || !action.payload.item.uniqueId) return state;\n  const newItem = action.payload.item;\n  const newItems = state.items.slice();\n  let changed = false;\n  const oldItemIndex = state.items.findIndex(item => item.uniqueId === newItem.uniqueId);\n\n  if (oldItemIndex > -1) {\n    newItems.splice(oldItemIndex, 1);\n    changed = true;\n  }\n\n  if (isInMomentRange(newItem.date, state.range.firstMoment, state.range.lastMoment)) {\n    newItems.push(newItem);\n    sortItems(newItems);\n    changed = true;\n  }\n\n  return changed ? _objectSpread({}, state, {\n    items: newItems\n  }) : state;\n}\n\nexport default function reducer(state, action) {\n  let newState = savedItemReducer(state, action);\n  newState = combinedReducer(newState, action);\n  return newState;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { combineReducers } from 'redux';\nimport { handleAction } from 'redux-actions';\nimport days from './days-reducer';\nimport loading from './loading-reducer';\nimport courses from './courses-reducer';\nimport groups from './groups-reducer';\nimport opportunities from './opportunities-reducer';\nimport todo from './todo-reducer';\nimport ui from './ui-reducer';\nimport savePlannerItem from './save-item-reducer';\nimport sidebar from './sidebar-reducer';\nconst locale = handleAction('INITIAL_OPTIONS', (state, action) => {\n  return action.payload.env.MOMENT_LOCALE;\n}, 'en');\nconst timeZone = handleAction('INITIAL_OPTIONS', (state, action) => {\n  return action.payload.env.TIMEZONE;\n}, 'UTC');\nconst currentUser = handleAction('INITIAL_OPTIONS', (state, action) => {\n  const env = action.payload.env;\n  const user = env.current_user;\n  const userColor = env.PREFERENCES && env.PREFERENCES.custom_colors && env.PREFERENCES.custom_colors[\"user_\".concat(user.id)];\n  return {\n    id: user.id,\n    displayName: user.display_name,\n    avatarUrl: env.current_user.avatar_is_fallback ? null : env.current_user.avatar_image_url,\n    color: userColor\n  };\n}, {});\nconst firstNewActivityDate = handleAction('FOUND_FIRST_NEW_ACTIVITY_DATE', (state, action) => {\n  return action.payload.clone();\n}, null);\nconst combinedReducers = combineReducers({\n  courses,\n  groups,\n  locale,\n  timeZone,\n  currentUser,\n  days,\n  loading,\n  firstNewActivityDate,\n  opportunities,\n  todo,\n  ui,\n  sidebar\n});\nexport default function finalReducer(state, action) {\n  const nextState = savePlannerItem(state, action);\n  return combinedReducers(nextState, action);\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport * as LA from './loading-actions.js';\nimport { anyNewActivityDays, didWeFindToday } from '../utilities/statusUtils';\nimport { itemsToDays } from '../utilities/daysUtils';\nexport const mergeFutureItems = (newFutureItems, response) => (dispatch, getState) => {\n  dispatch(LA.gotPartialFutureDays(itemsToDays(newFutureItems), response));\n  const state = getState();\n  const completeDays = extractCompleteDays(state.loading.partialFutureDays, state.loading.allFutureItemsLoaded, 'asc');\n  return mergeCompleteDays(completeDays, dispatch, state.loading.allFutureItemsLoaded, response);\n};\nexport const mergePastItems = (newPastItems, response) => (dispatch, getState) => {\n  dispatch(LA.gotPartialPastDays(itemsToDays(newPastItems), response));\n  const state = getState();\n  const completeDays = extractCompleteDays(state.loading.partialPastDays, state.loading.allPastItemsLoaded, 'desc');\n  return mergeCompleteDays(completeDays, dispatch, state.loading.allPastItemsLoaded, response);\n};\n\nfunction mergePastItemsFor(foundPredicate, newPastItems, response, dispatch, getState) {\n  dispatch(LA.gotPartialPastDays(itemsToDays(newPastItems), response));\n  const state = getState();\n  const completeDays = extractCompleteDays(state.loading.partialPastDays, state.loading.allPastItemsLoaded, 'desc');\n\n  if (foundPredicate(completeDays) || state.loading.allPastItemsLoaded) {\n    return mergeCompleteDays(completeDays, dispatch, state.loading.allPastItemsLoaded, response);\n  }\n\n  return false;\n}\n\nexport const mergePastItemsForNewActivity = (newPastItems, response) => (dispatch, getState) => {\n  return mergePastItemsFor(anyNewActivityDays, newPastItems, response, dispatch, getState);\n};\nexport const mergePastItemsForToday = (newPastItems, response) => (dispatch, getState) => {\n  return mergePastItemsFor(didWeFindToday, newPastItems, response, dispatch, getState);\n};\nexport const consumePeekIntoPast = (newPastItems, response) => (dispatch, getState) => {\n  const hasSomeItems = newPastItems.length > 0;\n  dispatch(LA.peekedIntoPast({\n    hasSomeItems\n  }));\n  return true;\n};\n\nfunction mergeCompleteDays(completeDays, dispatch, allItemsLoaded, response) {\n  if (completeDays.length || allItemsLoaded) {\n    dispatch(LA.gotDaysSuccess(completeDays, response));\n    return true;\n  }\n\n  return false;\n}\n\nfunction extractCompleteDays(daysArray, everythingCompleted, direction) {\n  const partialDays = daysArray.slice();\n  if (direction === 'desc') partialDays.reverse();\n  if (everythingCompleted) return partialDays;\n  const completeDays = partialDays.slice(0, -1);\n  return completeDays;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport axios from 'axios';\nimport parseLinkHeader from 'parse-link-header';\nimport { put, select, call, all, takeEvery } from 'redux-saga/effects';\nimport { getFirstLoadedMoment, getLastLoadedMoment } from '../utilities/dateUtils';\nimport { transformApiToInternalGrade } from '../utilities/apiUtils';\nimport { gotItemsError, sendFetchRequest, gotGradesSuccess, gotGradesError } from './loading-actions';\nimport { mergeFutureItems, mergePastItems, mergePastItemsForNewActivity, mergePastItemsForToday, consumePeekIntoPast } from './saga-actions';\nexport default function* allSagas() {\n  yield all([call(watchForSagas)]);\n}\n\nfunction* watchForSagas() {\n  yield takeEvery('START_LOADING_PAST_SAGA', loadPastSaga);\n  yield takeEvery('START_LOADING_FUTURE_SAGA', loadFutureSaga);\n  yield takeEvery('START_LOADING_PAST_UNTIL_NEW_ACTIVITY_SAGA', loadPastUntilNewActivitySaga);\n  yield takeEvery('START_LOADING_GRADES_SAGA', loadGradesSaga);\n  yield takeEvery('START_LOADING_PAST_UNTIL_TODAY_SAGA', loadPastUntilTodaySaga);\n  yield takeEvery('PEEK_INTO_PAST_SAGA', peekIntoPastSaga);\n} // fromMomentFunction: function\n//   arg: currentState\n//   returns: the fromMoment that should be passed to the fetch request\n// actionCreator: function\n//   arg: transformedItems - an array of new items to merge into the state\n//   arg: response - the response of the fetch\n//   returns: an action that returns a thunk.\n//     The thunk should return:\n//        true if the conditions were met and we can stop loading items\n//        false if the new items did not meet the conditions and we should load more items\n// opts: for sendFetchRequest\n//   intoThePast\n\n\nfunction* loadingLoop(fromMomentFunction, actionCreator, opts) {\n  try {\n    let currentState = null;\n\n    const getState = () => currentState; // don't want create a new function inside a loop\n\n\n    let continueLoading = true;\n\n    while (continueLoading) {\n      currentState = yield select();\n      const fromMoment = fromMomentFunction(currentState);\n\n      const loadingOptions = _objectSpread({\n        fromMoment,\n        getState\n      }, opts);\n\n      const _yield$call = yield call(sendFetchRequest, loadingOptions),\n            transformedItems = _yield$call.transformedItems,\n            response = _yield$call.response;\n\n      const thunk = yield call(actionCreator, transformedItems, response);\n      const stopLoading = yield put(thunk); // the saga lib catches exceptions thrown by `put` and returns undefined in that case.\n      // make sure we got a boolean like we expect.\n\n      if (typeof stopLoading !== 'boolean') {\n        throw new Error(\"saga error invoking action \".concat(actionCreator.name, \". It returned a non-boolean: \").concat(stopLoading));\n      }\n\n      continueLoading = !stopLoading;\n    }\n  } catch (e) {\n    yield put(gotItemsError(e));\n  }\n}\n\nexport function* loadPastSaga() {\n  yield* loadingLoop(fromMomentPast, mergePastItems, {\n    intoThePast: true\n  });\n}\nexport function* loadFutureSaga() {\n  yield* loadingLoop(fromMomentFuture, mergeFutureItems, {\n    intoThePast: false\n  });\n}\nexport function* loadPastUntilNewActivitySaga() {\n  yield* loadingLoop(fromMomentPast, mergePastItemsForNewActivity, {\n    intoThePast: true\n  });\n}\nexport function* peekIntoPastSaga() {\n  yield* loadingLoop(fromMomentPast, consumePeekIntoPast, {\n    intoThePast: true,\n    perPage: 1\n  });\n}\nexport function* loadGradesSaga() {\n  const loadingOptions = {\n    params: {\n      include: ['total_scores', 'current_grading_period_scores'],\n      enrollment_type: 'student',\n      enrollment_state: 'active'\n    }\n  };\n\n  try {\n    // exhaust pagination because we really do need all the grades.\n    let loadingUrl = '/api/v1/users/self/courses';\n    const gradesData = {};\n\n    while (loadingUrl != null) {\n      const response = yield call(axios.get, loadingUrl, loadingOptions);\n      response.data.forEach(apiData => {\n        const internalGrade = transformApiToInternalGrade(apiData);\n        gradesData[internalGrade.courseId] = internalGrade;\n      });\n      const links = parseLinkHeader(response.headers.link);\n      loadingUrl = links && links.next ? links.next.url : null;\n    }\n\n    yield put(gotGradesSuccess(gradesData));\n  } catch (loadingError) {\n    yield put(gotGradesError(loadingError));\n    throw loadingError;\n  }\n}\nexport function* loadPastUntilTodaySaga() {\n  yield* loadingLoop(fromMomentPast, mergePastItemsForToday, {\n    intoThePast: true\n  });\n}\n\nfunction fromMomentPast(state) {\n  return getFirstLoadedMoment(state.days, state.timeZone);\n}\n\nfunction fromMomentFuture(state) {\n  const lastMoment = getLastLoadedMoment(state.days, state.timeZone);\n  if (state.days.length) lastMoment.add(1, 'days');\n  return lastMoment;\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction isScrollPositionAtTop(wind) {\n  return wind.pageYOffset === 0;\n}\n\nfunction isScrollPositionAtBottom(wind) {\n  const doc = wind.document.documentElement;\n  const docBottom = doc.getBoundingClientRect().bottom;\n  const clientHeight = doc.clientHeight; // clientHeight is rounded to an integer, while the rect is a more precise\n  // float. This means sometimes bottom is greater than the clientHeight\n  // because clientHeight has been rounded off. Also, there appears to be\n  // a bug with chrome when zoomed out and this will be off by more than\n  // half a pixel. So to fix this, we'll pad the clientHeight just a little\n  // so things will work when we're near the bottom.\n\n  return docBottom <= clientHeight + 2;\n}\n\nfunction isWheelUpEvent(e) {\n  return e.deltaY < 0;\n}\n\nfunction isWheelDownEvent(e) {\n  return e.deltaY > 0;\n}\n\nfunction handleScrollAttempt(cb, e) {\n  e.preventDefault();\n  cb();\n}\n\nfunction handleWindowWheel(pastCb, futureCb, wind, e) {\n  if (isScrollPositionAtTop(wind) && isWheelUpEvent(e)) {\n    handleScrollAttempt(pastCb, e);\n  } else if (isScrollPositionAtBottom(wind) && isWheelDownEvent(e)) {\n    handleScrollAttempt(futureCb, e);\n  }\n} // User drags a finger down the screen to scroll up.\n// When she gets to the top, and keeps on pulling down, call the callback\n// and vice versa\n\n\nlet ongoingTouch = null;\n\nfunction handleTouchStart(e) {\n  if (ongoingTouch === null) {\n    ongoingTouch = e.changedTouches[0];\n  }\n}\n\nfunction handleWindowTouchMove(pastCb, futureCb, wind, e) {\n  if (!ongoingTouch) return;\n  const thisTouch = e.changedTouches[ongoingTouch.identifier];\n  if (!thisTouch) return;\n\n  if (isScrollPositionAtTop(wind) && thisTouch.screenY - ongoingTouch.screenY > 3) {\n    pastCb();\n  } else if (isScrollPositionAtBottom(wind) && thisTouch.screenY - ongoingTouch.screenY < -3) {\n    futureCb();\n  }\n}\n\nfunction handleTouchEnd(e) {\n  ongoingTouch = null;\n}\n\nclass ScrollHandler {\n  constructor(scrollCb, wind) {\n    this.mostRecentScrollPosition = 0;\n    this.callbackThrottle = false;\n\n    this.throttledScrollEvent = () => {\n      try {\n        this.scrollCb(this.mostRecentScrollPosition);\n      } finally {\n        this.callbackThrottle = false;\n      }\n    };\n\n    this.handleScrollEvent = () => {\n      this.mostRecentScrollPosition = this.wind.pageYOffset;\n\n      if (!this.callbackThrottle) {\n        this.callbackThrottle = true;\n        this.wind.setTimeout(this.throttledScrollEvent, 0);\n      }\n    };\n\n    this.scrollCb = scrollCb;\n    this.wind = wind;\n    wind.addEventListener('scroll', this.handleScrollEvent);\n  }\n\n}\n\nexport function registerScrollEvents({\n  scrollIntoPast: scrollIntoPastCb,\n  scrollIntoFuture: scrollIntoFutureCb,\n  scrollPositionChange: scrollCb,\n  window: wind\n}) {\n  wind = wind || window;\n  const boundWindowWheel = handleWindowWheel.bind(void 0, scrollIntoPastCb, scrollIntoFutureCb, wind);\n  wind.addEventListener('wheel', boundWindowWheel);\n  wind.addEventListener('touchstart', handleTouchStart);\n  wind.addEventListener('touchend', handleTouchEnd);\n  const boundTouchMove = handleWindowTouchMove.bind(void 0, scrollIntoPastCb, scrollIntoFutureCb, wind);\n  wind.addEventListener('touchmove', boundTouchMove);\n  new ScrollHandler(scrollCb, wind);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\n/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport moment from 'moment-timezone';\nimport PlannerApp from './components/PlannerApp';\nimport PlannerHeader from './components/PlannerHeader';\nimport ToDoSidebar from './components/ToDoSidebar';\nimport i18n from './i18n';\nimport configureStore from './store/configureStore';\nimport { initialOptions, getPlannerItems, scrollIntoPast, loadFutureItems } from './actions';\nimport { registerScrollEvents } from './utilities/scrollUtils';\nimport { initialize as initializeAlerts } from './utilities/alertUtils';\nimport { initializeContent } from './utilities/contentUtils';\nimport { initializeDateTimeFormatters } from './utilities/dateUtils';\nimport { DynamicUiManager, DynamicUiProvider, specialFallbackFocusId } from './dynamic-ui';\nlet externalPlannerActive;\n\nconst plannerActive = () => externalPlannerActive ? externalPlannerActive() : false;\n\nconst dynamicUiManager = new DynamicUiManager({\n  plannerActive\n});\nexport const store = configureStore(dynamicUiManager);\n\nfunction handleScrollIntoPastAttempt() {\n  if (!plannerActive()) return;\n\n  if (!store.getState().loading.loadingPast && !store.getState().loading.loadingFuture && !store.getState().loading.allPastItemsLoaded) {\n    store.dispatch(scrollIntoPast());\n  }\n}\n\nfunction handleScrollIntoFutureAttempt() {\n  if (!plannerActive()) return;\n\n  if (!store.getState().loading.loadingPast && !store.getState().loading.loadingFuture && !store.getState().loading.allFutureItemsLoaded) {\n    store.dispatch(loadFutureItems());\n  }\n}\n\nfunction externalFocusableWrapper(externalFallbackFocusable) {\n  return {\n    getFocusable() {\n      return externalFallbackFocusable;\n    },\n\n    getScrollable() {\n      return externalFallbackFocusable;\n    }\n\n  };\n}\n\nconst defaultOptions = {\n  getActiveApp: () => '',\n  stickyZIndex: 3\n};\nconst defaultEnv = {};\nconst plannerHeaderId = 'dashboard_header_container';\nconst plannerNewActivityButtonId = 'new_activity_button';\n\nfunction mergeDefaultOptions(options) {\n  const newOpts = _objectSpread({}, defaultOptions, {}, options);\n\n  newOpts.env = _objectSpread({}, defaultEnv, {}, options.env); // special handling for these env vars because sometimes they come in\n  // explicitly set to false instead of just not being defined in options.env\n\n  if (!newOpts.env.STUDENT_PLANNER_COURSES) newOpts.env.STUDENT_PLANNER_COURSES = [];\n  if (!newOpts.env.STUDENT_PLANNER_GROUPS) newOpts.env.STUDENT_PLANNER_GROUPS = [];\n  return newOpts;\n}\n\nfunction initializeCourseAndGroupColors(options) {\n  if (!options.env.PREFERENCES) return;\n  options.env.STUDENT_PLANNER_COURSES = options.env.STUDENT_PLANNER_COURSES.map(dc => _objectSpread({}, dc, {\n    color: options.env.PREFERENCES.custom_colors[dc.assetString]\n  }));\n  options.env.STUDENT_PLANNER_GROUPS = options.env.STUDENT_PLANNER_GROUPS.map(dg => _objectSpread({}, dg, {\n    color: options.env.PREFERENCES.custom_colors[dg.assetString] || '#666666'\n  }));\n} // You have to call this first, before you call loadPlannerDashboard or renderToDoSidebar\n// options: {\n// env: {                       <required: ENV from Canvas>\n//   MOMENT_LOCALE,             <required>\n//   TIMEZONE,                  <required>\n//   current_user: {            <required>\n//     id,\n//     display_name,\n//     avatar_image_url,\n//   }\n//   PREFERENCES: {             <optional>\n//     custom_colors,\n//   },\n//   STUDENT_PLANNER_COURSES,   <default: []>\n//   STUDENT_PLANNER_GROUPS,    <default: []>\n// }\n// flashError,                  <required>\n// flashMessage,                <required>\n// srFlashMessage,              <required>\n// convertApiUserContent,       <required - conversion to make user content from api work properly>\n// dateTimeFormatters: {        <optional - canvas methods for date and time formatting>\n//   dateString,                <optional>\n//   timeString,                <optional>\n//   datetimeString,            <optional>\n// },\n// externalFallbackFocusable,   <optional - element where focus goes when it should go before planner>\n// getActiveApp,                <optional - method to get the current dashboard>\n// changeDashboardView,         <optional - method to change the current dashboard>\n// forCourse,                   <optional - course id if this is a sidebar for a specific course page>\n\n\nlet initializedOptions = null;\nexport function initializePlanner(options) {\n  if (initializedOptions) throw new Error('initializePlanner may not be called more than once');\n  options = mergeDefaultOptions(options);\n\n  if (!(options.env.MOMENT_LOCALE && options.env.TIMEZONE)) {\n    throw new Error('env.MOMENT_LOCALE and env.TIMEZONE are required options for initializePlanner');\n  }\n\n  const _options = options,\n        flashError = _options.flashError,\n        flashMessage = _options.flashMessage,\n        srFlashMessage = _options.srFlashMessage;\n\n  if (!(flashError && flashMessage && srFlashMessage)) {\n    throw new Error('flash message callbacks are required options for initializePlanner');\n  }\n\n  if (!options.convertApiUserContent) {\n    throw new Error('convertApiUserContent is a required option for initializePlanner');\n  }\n\n  externalPlannerActive = () => options.getActiveApp() === 'planner';\n\n  i18n.init(options.env.MOMENT_LOCALE);\n  moment.locale(options.env.MOMENT_LOCALE);\n  moment.tz.setDefault(options.env.TIMEZONE);\n  initializeAlerts({\n    visualSuccessCallback: flashMessage,\n    visualErrorCallback: flashError,\n    srAlertCallback: srFlashMessage\n  });\n  initializeContent(options);\n  initializeDateTimeFormatters(options.dateTimeFormatters);\n  options.plannerNewActivityButtonId = plannerNewActivityButtonId;\n  dynamicUiManager.setOffsetElementIds(plannerHeaderId, plannerNewActivityButtonId);\n\n  if (options.externalFallbackFocusable) {\n    dynamicUiManager.registerAnimatable('item', externalFocusableWrapper(options.externalFallbackFocusable), -1, [specialFallbackFocusId('item')]);\n  }\n\n  initializeCourseAndGroupColors(options);\n  initializedOptions = options;\n  store.dispatch(initialOptions(options));\n}\nexport function resetPlanner() {\n  initializedOptions = null;\n}\n\nfunction render(element) {\n  registerScrollEvents({\n    scrollIntoPast: handleScrollIntoPastAttempt,\n    scrollIntoFuture: handleScrollIntoFutureAttempt,\n    scrollPositionChange: pos => dynamicUiManager.handleScrollPositionChange(pos)\n  });\n  ReactDOM.render( /*#__PURE__*/React.createElement(DynamicUiProvider, {\n    manager: dynamicUiManager\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(PlannerApp, {\n    appRef: app => dynamicUiManager.setApp(app),\n    changeDashboardView: initializedOptions.changeDashboardView,\n    plannerActive: plannerActive,\n    currentUser: store.getState().currentUser,\n    focusFallback: () => dynamicUiManager.focusFallback('item')\n  }))), element);\n  store.dispatch(getPlannerItems(moment.tz(initializedOptions.env.timeZone).startOf('day')));\n} // This method allows you to render the header items into a separate DOM node\n\n\nfunction renderHeader(element, auxElement) {\n  const ariaHideElement = document.getElementById('application'); // Using this pattern because default params don't merge objects\n\n  ReactDOM.render( /*#__PURE__*/React.createElement(DynamicUiProvider, {\n    manager: dynamicUiManager\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(PlannerHeader, {\n    stickyZIndex: initializedOptions.stickyZIndex,\n    stickyButtonId: initializedOptions.plannerNewActivityButtonId,\n    timeZone: initializedOptions.env.TIMEZONE,\n    locale: initializedOptions.env.MOMENT_LOCALE,\n    ariaHideElement: ariaHideElement,\n    auxElement: auxElement\n  }))), element);\n} // This method allows you to render the To Do Sidebar into a separate DOM node\n\n\nexport function renderToDoSidebar(element) {\n  if (!initializedOptions) throw new Error('initializePlanner must be called before renderToDoSidebar');\n  const env = initializedOptions.env;\n  ReactDOM.render( /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(ToDoSidebar, {\n    courses: env.STUDENT_PLANNER_COURSES,\n    timeZone: env.TIMEZONE,\n    locale: env.MOMENT_LOCALE,\n    changeDashboardView: initializedOptions.changeDashboardView,\n    forCourse: initializedOptions.forCourse\n  })), element);\n}\nexport function loadPlannerDashboard() {\n  if (!initializedOptions) throw new Error('initializePlanner must be called before loadPlannerDashboard');\n  const element = document.getElementById('dashboard-planner');\n  const headerElement = document.getElementById('dashboard-planner-header');\n  const headerAuxElement = document.getElementById('dashboard-planner-header-aux');\n\n  if (element) {\n    render(element);\n  }\n\n  if (headerElement) {\n    renderHeader(headerElement, headerAuxElement);\n  }\n}","/*\n * Copyright (C) 2017 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that they will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport reduxPromise from 'redux-promise';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport rootReducer from '../reducers';\nimport { createDynamicUiMiddleware } from '../dynamic-ui';\nimport allSagas from '../actions/sagas';\nexport default function configureStore(uiManager, defaultState) {\n  const sagaMiddleware = createSagaMiddleware();\n  const middlewares = [reduxThunk, reduxPromise, sagaMiddleware, createDynamicUiMiddleware(uiManager)];\n  const store = createStore(rootReducer, defaultState, composeWithDevTools(applyMiddleware(...middlewares)));\n  sagaMiddleware.run(allSagas);\n  return store;\n}","export default (function (value) {\n  if (typeof value !== 'object' || value === null) return false;\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n});","export default (function (value) {\n  return value === null || value === undefined;\n});","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 - present Instructure, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { formatVariableName } from './formatVariableName';\n/**\n* ---\n* category: utilities/themes\n* ---\n* Replace the variables values with the CSS variable\n* @param {Object} variables\n* @param {String} prefix a prefix to add to the variable names\n* @returns {Object} the theme variables object with CSS variables in place of values\n*/\n\nfunction replaceValuesWithVariableNames(variables, prefix) {\n  var map = {};\n  Object.keys(variables || {}).forEach(function (variableName) {\n    map[variableName] = \"var(\".concat(formatVariableName(variableName, prefix), \")\");\n  });\n  return map;\n}\n\nexport default replaceValuesWithVariableNames;\nexport { replaceValuesWithVariableNames };","var noCase = require('no-case')\nvar upperCase = require('upper-case')\n\n/**\n * Title case a string.\n *\n * @param  {string} value\n * @param  {string} [locale]\n * @return {string}\n */\nmodule.exports = function (value, locale) {\n  return noCase(value, locale).replace(/^.| ./g, function (m) {\n    return upperCase(m, locale)\n  })\n}\n"],"sourceRoot":""}