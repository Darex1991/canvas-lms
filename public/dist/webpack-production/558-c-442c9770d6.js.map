{"version":3,"sources":["webpack:///./app/coffeescripts/util/brandableCss.js","webpack:///./public/javascripts/translations/EquationEditorView.js","webpack:///./public/javascripts/dummyI18nResource.js?10a4","webpack:///./public/javascripts/translations/tinymce.equation_toolbar_view.js","webpack:///./public/javascripts/dummyI18nResource.js?3b86","webpack:///./app/views/jst/tinymce/EquationToolbarView.handlebars","webpack:///./public/javascripts/translations/mathquill.js","webpack:///./public/javascripts/dummyI18nResource.js?9a27","webpack:///./public/javascripts/mathquill.js","webpack:///./app/coffeescripts/views/tinymce/EquationToolbarView.js","webpack:///./public/javascripts/translations/tinymce.equation_editor_view.js","webpack:///./public/javascripts/dummyI18nResource.js?ed55","webpack:///./app/views/jst/tinymce/EquationEditorView.handlebars","webpack:///./app/coffeescripts/views/tinymce/EquationEditorView.js","webpack:///./public/javascripts/translations/user_content.js","webpack:///./public/javascripts/dummyI18nResource.js?15ea","webpack:///./app/coffeescripts/str/apiUserContent.js"],"names":["loadedStylesheets","brandableCss","getCssVariant","variant","window","ENV","use_responsive_layout","contrast","use_high_contrast","rtl","isRTL","urlFor","bundleName","combinedChecksum","includesNoVariables","brandAndVariant","ASSET_HOST","join","loadStylesheet","opts","linkElement","document","createElement","rel","href","setAttribute","head","appendChild","canvasCssVariablesPolyfill","mergeI18nTranslations","JSON","parse","scoped","Handlebars","default","template","templates","depth0","helpers","partials","data","this","compilerInfo","helper","options","buffer","helperMissing","merge","escapeExpression","hash","t","call","_","jQueryDataKey","min","Math","max","MathElement","MathCommand","Symbol","cmd","html","text","init","length","slice","MathBlock","MathFragment","parent","prev","next","arguments","self","jQinit","fold","$","jQ","child","add","createRoot","root","textbox","editable","include_toolbar","contents","detach","addClass","block","revert","empty","unbind","removeClass","append","cursor","Cursor","renderLatex","textareaSelectionTimeout","textareaSpan","textarea","children","setTextareaSelection","latex","selection","val","select","range","createTextRange","expand","button_tabs","name","I18n","example","button_groups","html_template_overrides","binomial","frac","sqrt","nthroot","supscript","subscript","vector","tabs","panes","each","index","tab","push","htmlEscape","buttons","group","obj","LatexCmds","match","raw","html_template","toolbar","click","e","preventDefault","find","attr","focus","getAttribute","keydown","direction","listIndex","$tabLinks","keyCode","get","mousedown","stopPropagation","writeLatex","title","addToolbar","selectionChanged","setTimeout","forceIERedraw","bind","target","anticursor","blink","mousemove","seek","pageX","pageY","selectFrom","docmousemove","mouseup","show","noop","prepend","blur","clearSelection","paste","appendTo","hide","trigger","deleteSelection","redraw","skipTextInput","lastKeydn","lastKeydnHappened","lastKeypressWhich","textInput","i","charAt","which","clearTimeout","RootMathBlock","RootMathCommand","firstChild","ch","write","isEmpty","insertAfter","backspace","insertNew","VanillaSymbol","insertBefore","RootTextBlock","prototype","lastChild","eachChild","fn","foldChildren","text_template","replacedFragment","initBlocks","blockify","newBlock","num_blocks","child_text","insertAt","respace","placeCursor","remove","el","newFirstChild","newLastChild","replace","ctrlKey","metaKey","originalEvent","keyIdentifier","shiftKey","prependTo","selectRight","selectLeft","moveLeft","moveRight","deleteForward","altKey","chunk","j","scale","transformPropName","CharCmds","div_style","style","prop","transform","WebkitTransform","MozTransform","OTransform","msTransform","proto","cons","args","Array","apply","concat","Style","SupSub","Fraction","LiveFraction","SquareRoot","NthRoot","Bracket","open","close","end","CloseBracket","Paren","CloseParen","Pipes","TextBlock","replacedText","InnerTextBlock","makeTextBlock","SomeTextBlock","LatexCommandInput","Binomial","wrapInner","blockjQ","bracketjQs","Choose","Vector","Variable","NonSymbolaSymbol","BinaryOperator","PlusMinus","BigSymbol","NonItalicizedFunction","_jQ","toggleClass","Selection","x","y","css","className","calculateMarginRight","width","fontSize","marginTop","filter","intervalId","setInterval","load","mathrm","mathit","mathbf","mathsf","mathtt","underline","overline","bar","limit","respaced","prevWidth","outerWidth","thisWidth","left","marginRight","superscript","dfrac","cfrac","fraction","over","innerHeight","optional_arg_command","height","outerHeight","langle","lang","rangle","rang","lparen","lbrack","lbracket","rparen","rbrack","rbracket","lpipe","rpipe","textblock","innerblock","textnormal","textrm","textup","textmd","em","italic","italics","emph","textit","textsl","strong","bold","textbf","sf","textsf","tt","texttt","textsc","uppercase","lowercase","nextSibling","renderCommand","last","insertCmd","binom","choose","currentBlock","c","f","prime","alpha","beta","gamma","delta","zeta","eta","theta","iota","kappa","mu","nu","xi","rho","sigma","tau","chi","psi","omega","phi","phiv","varphi","epsilon","epsiv","varepsilon","piv","varpi","sigmaf","sigmav","varsigma","thetav","vartheta","thetasym","upsilon","upsi","gammad","Gammad","digamma","kappav","varkappa","rhov","varrho","pi","lambda","Upsilon","Upsi","upsih","Upsih","Gamma","Delta","Theta","Lambda","Xi","Pi","Sigma","Phi","Psi","Omega","forall","pm","plusmn","plusminus","mp","mnplus","minusplus","sdot","cdot","notin","sim","cong","equiv","oplus","otimes","times","div","divide","divides","ne","neq","ast","star","loast","lowast","therefor","therefore","cuz","because","propto","asymp","approx","lt","gt","le","leq","ge","geq","isin","ni","contains","notni","niton","notcontains","doesnotcontain","sub","subset","sup","supset","superset","nsub","notsub","nsubset","notsubset","nsup","notsup","nsupset","notsupset","nsuperset","notsuperset","sube","subeq","subsete","subseteq","supe","supeq","supsete","supseteq","supersete","superseteq","nsube","nsubeq","notsube","notsubeq","nsubsete","nsubseteq","notsubsete","notsubseteq","nsupe","nsupeq","notsupe","notsupeq","nsupsete","nsupseteq","notsupsete","notsupseteq","nsupersete","nsuperseteq","notsupersete","notsuperseteq","sum","summation","prod","product","coprod","coproduct","integral","N","naturals","Naturals","P","primes","Primes","projective","Projective","probability","Probability","Z","integers","Integers","Q","rationals","Rationals","R","reals","Reals","C","complex","Complex","complexes","Complexes","complexplane","Complexplane","ComplexPlane","H","Hamiltonian","quaternions","Quaternions","quad","emsp","qquad","diamond","bigtriangleup","ominus","uplus","bigtriangledown","sqcap","triangleleft","sqcup","triangleright","odot","bigcirc","dagger","ddagger","wr","amalg","models","prec","succ","preceq","succeq","simeq","mid","ll","gg","parallel","bowtie","sqsubset","sqsupset","smile","sqsubseteq","sqsupseteq","doteq","frown","vdash","dashv","longleftarrow","longrightarrow","Longleftarrow","Longrightarrow","longleftrightarrow","updownarrow","Longleftrightarrow","Updownarrow","mapsto","nearrow","hookleftarrow","hookrightarrow","searrow","leftharpoonup","rightharpoonup","swarrow","leftharpoondown","rightharpoondown","nwarrow","ldots","cdots","vdots","ddots","surd","triangle","ell","top","flat","natural","sharp","wp","bot","clubsuit","diamondsuit","heartsuit","spadesuit","oint","bigcap","bigcup","bigsqcup","bigvee","bigwedge","bigodot","bigotimes","bigoplus","biguplus","lfloor","rfloor","lceil","rceil","slash","lbrace","rbrace","caret","underscore","backslash","vert","perp","perpendicular","nabla","del","hbar","AA","Angstrom","angstrom","ring","circ","circle","bull","bullet","setminus","smallsetminus","not","neg","dots","ellip","hellip","ellipsis","hellipsis","converges","darr","dnarr","dnarrow","downarrow","dArr","dnArr","dnArrow","Downarrow","diverges","uarr","uparrow","uArr","Uparrow","to","rarr","rightarrow","implies","rArr","Rightarrow","gets","larr","leftarrow","impliedby","lArr","Leftarrow","harr","lrarr","leftrightarrow","iff","hArr","lrArr","Leftrightarrow","Re","Real","real","Im","imag","image","imagin","imaginary","Imaginary","part","partial","inf","infin","infty","infinity","alef","alefsym","aleph","alephsym","xist","xists","exist","exists","and","land","wedge","or","lor","vee","o","O","emptyset","oslash","Oslash","nothing","varnothing","cup","union","cap","intersect","intersection","deg","degree","ang","angle","ln","lg","log","span","proj","det","dim","mod","lcm","gcd","gcf","hcf","lim","trig","clearInterval","first","ancestor","old_parent","hopLeft","hopRight","hasClass","offset","prevDist","dist","resolveNonItalicizedFunctions","node","count","functions","sin","sinh","asin","arcsin","asinh","arcsinh","cos","cosh","acos","arccos","acosh","arccosh","tan","tanh","atan","arctan","atanh","arctanh","sec","sech","asec","arcsec","asech","arcsech","cosec","cosech","acosec","arccosec","acosech","arccosech","csc","csch","acsc","arccsc","acsch","arccsch","cotan","cotanh","acotan","arccotan","acotanh","arccotanh","cot","coth","acot","arccot","acoth","arccoth","single_char","substring","noMoveCursor","writeLatexBlock","token","shift","insertCh","unshift","test","ret","latexCmd","unwrapGramp","gramp","greatgramp","uncle","cousin","right","leftRight","oneA","otherA","loopThroughAncestors","oneI","otherI","levelUp","clear","wrapAll","replaceWith","mathquill","RootBlock","EquationToolbarView","Backbone","View","els","render","cacheEls","$toolbar","loadMathJax","addMathJaxEvents","renderPreview","jax","MathJax","Hub","getAllJax","tex","Queue","field","getElementById","createRange","selectionStart","s","selectionEnd","value","$matheditor","keyup","initClass","EquationEditorView","elems","map","elem","includes","nodeType","nodeValue","getEquationText","nodeName","dataset","equationContent","alt","childNodes","constructor","initialize","editor","$editor","id","prevSelection","getBookmark","$el","nodes","getNode","equation","dialog","minWidth","minHeight","resizable","dialogClass","initialRender","onClose","class","onSubmit","restoreCaret","getContent","$mathjaxMessage","setView","renderEquation","opposite","toggleView","view","getEquation","$mathquillContainer","$mathjaxEditor","$mathjaxView","$mathquillView","moveToBookmark","encodeURIComponent","doubleEncodeEquationForUrl","event","altText","url","$img","src","$div","RceCommandShim","apiUserContent","translateMathmlForScreenreaders","$equationImage","mathml","mathmlSpan","toMediaCommentLink","$link","toLowerCase","convert","$dummy","forEditing","$this","uuid","uniqueId","action","files_domain","$form","submit","equationImage","removeAttr","after"],"mappings":"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","file":"558-c-442c9770d6.js","sourcesContent":["//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport {isRTL} from 'jsx/shared/helpers/rtlHelper'\n\nconst loadedStylesheets = {}\n\nconst brandableCss = {\n  getCssVariant() {\n    const variant = window.ENV.use_responsive_layout ? 'responsive_layout' : 'new_styles'\n    const contrast = window.ENV.use_high_contrast ? 'high_contrast' : 'normal_contrast'\n    const rtl = isRTL() ? '_rtl' : ''\n    return `${variant}_${contrast}${rtl}`\n  },\n\n  // combinedChecksum should be like '09f833ef7a'\n  // and includesNoVariables should be true if this bundle does not\n  // \"@include\" variables.scss, brand_variables.scss or variant_variables.scss\n  urlFor(bundleName, {combinedChecksum, includesNoVariables}) {\n    const brandAndVariant = includesNoVariables ? 'no_variables' : brandableCss.getCssVariant()\n\n    return [\n      window.ENV.ASSET_HOST || '',\n      'dist',\n      'brandable_css',\n      brandAndVariant,\n      `${bundleName}-${combinedChecksum}.css`\n    ].join('/')\n  },\n\n  // bundleName should be something like 'jst/foo'\n  loadStylesheet(bundleName, opts) {\n    if (bundleName in loadedStylesheets) return\n\n    const linkElement = document.createElement('link')\n    linkElement.rel = 'stylesheet'\n    linkElement.href = brandableCss.urlFor(bundleName, opts)\n\n    // give the person trying to track down a bug a hint on how this link tag got on the page\n    linkElement.setAttribute('data-loaded-by-brandableCss', true)\n    document.head.appendChild(linkElement)\n\n    // For browsers that don't support css varibles (right now only IE11), we need to pass\n    // this newly injected stylesheet to the cssVariables polyfill so that it can polyfill it.\n    // The polyfill will only exist on window in browsers that need it.\n    if (window.canvasCssVariablesPolyfill) window.canvasCssVariablesPolyfill(linkElement)\n  }\n}\nexport default brandableCss\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"       .\\\",\\\"equation_editor_title\\\":\\\"         /   LaTeX\\\"}},\\\"cy\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Rhowch Hafaliad\\\"},\\\"cannot_render_equation\\\":\\\"Does dim modd rendror hafaliad hwn yn y Wedd Syml.\\\",\\\"equation_editor_title\\\":\\\"Defnyddiwch y barrau offer yma, neu newid ir Wedd Uwch i deipio/gludo yn LaTeX\\\"}},\\\"da\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Indst regnestykke\\\"},\\\"cannot_render_equation\\\":\\\"Dette regnestykke kan ikke gengives i Basisvisning.\\\",\\\"equation_editor_title\\\":\\\"Brug vrktjslinjerne her, eller Skift visning til Avanceret for at indtaste/indstte i LaTex\\\"}},\\\"da-x-k12\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Indst regnestykke\\\"},\\\"cannot_render_equation\\\":\\\"Dette regnestykke kan ikke gengives i Basisvisning.\\\",\\\"equation_editor_title\\\":\\\"Brug vrktjslinjerne her, eller Skift visning til Avanceret for at indtaste/indstte i LaTex\\\"}},\\\"de\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Gleichung einfgen\\\"},\\\"cannot_render_equation\\\":\\\"Diese Gleichung kann in der Basisansicht nicht dargestellt werden.\\\",\\\"equation_editor_title\\\":\\\"Die Symbolleisten hier verwenden oder Ansicht zum Eingeben/Einfgen in LaTex in \\\\\\\"Erweitert\\\\\\\" ndern\\\"}},\\\"el\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"          \\\",\\\"equation_editor_title\\\":\\\"             /  LaTeX\\\"}},\\\"en-AU\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insert Equation\\\"},\\\"cannot_render_equation\\\":\\\"This equation cannot be rendered in Basic View.\\\",\\\"equation_editor_title\\\":\\\"Use the toolbars here, or Switch View to Advanced to type/paste in LaTeX\\\"}},\\\"en-CA\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insert Equation\\\"},\\\"cannot_render_equation\\\":\\\"This equation cannot be rendered in Basic View.\\\",\\\"equation_editor_title\\\":\\\"Use the toolbars here, or Switch View to Advanced to type/paste in LaTeX\\\"}},\\\"en-GB\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insert equation\\\"},\\\"cannot_render_equation\\\":\\\"This equation cannot be rendered in Basic View.\\\",\\\"equation_editor_title\\\":\\\"Use the toolbars here, or switch view to Advanced to type/paste in LaTeX\\\"}},\\\"es\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insertar ecuacin\\\"},\\\"cannot_render_equation\\\":\\\"Esta ecuacin no se puede representar en vista bsica.\\\",\\\"equation_editor_title\\\":\\\"Utilice las barras de herramientas que aparecen aqu o cambie la vista a Avanzada para escribir/pegar en formato LaTeX\\\"}},\\\"fa\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"         .\\\",\\\"equation_editor_title\\\":\\\"          /        \\\"}},\\\"fi\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Lis yhtl\\\"},\\\"cannot_render_equation\\\":\\\"Tt kaavaa ei voida hahmontaa perusnkymss.\\\",\\\"equation_editor_title\\\":\\\"Kyt tykalupalkkia tll tai Vaihda nkymksi Lisasetukset kirjoittaaksesi/listksesi LaTeXissa\\\"}},\\\"fr\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insrer une quation\\\"},\\\"cannot_render_equation\\\":\\\"Cette quation ne peut pas tre affiche en mode simple.\\\",\\\"equation_editor_title\\\":\\\"Utilisez les barres doutils ou passez en mode daffichage avanc pour taper/coller le contenu au format LaTeX.\\\"}},\\\"fr-CA\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Insrer une quation\\\"},\\\"cannot_render_equation\\\":\\\"Cette quation ne peut pas tre affiche en mode simple.\\\",\\\"equation_editor_title\\\":\\\"Utiliser les barres doutils ou passer en mode daffichage avanc pour saisir/coller le contenu dans LaTeX\\\"}},\\\"he\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"      \\\",\\\"equation_editor_title\\\":\\\"    ,      /  LaTeX\\\"}},\\\"ht\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Ensere Ekwasyon\\\"},\\\"cannot_render_equation\\\":\\\"Ekwasyon sa a paka rann nan Afichaj Bazik la.\\\",\\\"equation_editor_title\\\":\\\"Itilize ba zouti ki la a, oswa Chanje Afichaj la an Avanse pou tape/kole LaTeX\\\"}},\\\"hu\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Egyenlet beszrsa\\\"},\\\"cannot_render_equation\\\":\\\"Ezt az egyenletet nem lehet megjelenteni alapnzetben.\\\",\\\"equation_editor_title\\\":\\\"Hasznlja az eszkztrakat, vagy vltson halad nzetre, hogy rhasson/beilleszthessen LaTeX formtumban\\\"}},\\\"hy\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"      :\\\",\\\"equation_editor_title\\\":\\\"       LaTeX  /  \\\"}},\\\"is\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Setja inn jfnu\\\"},\\\"cannot_render_equation\\\":\\\"essi jafna getur ekki birst  grunnsn\\\",\\\"equation_editor_title\\\":\\\"Notau verkfrastikuna hrna, ea skiptu skjnum  tarlegra til a sl inn / lma  LaTeX\\\"}},\\\"it\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Inserisci equazione\\\"},\\\"cannot_render_equation\\\":\\\"Impossibile eseguire il rendering di questa equazione nella visualizzazione base.\\\",\\\"equation_editor_title\\\":\\\"Usa qui la la barra degli strumenti o passa alla visualizzazione avanzata per digitare/incollare in LaTeX\\\"}},\\\"ja\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"\\\"},\\\"cannot_render_equation\\\":\\\"\\\",\\\"equation_editor_title\\\":\\\"LaTeX /\\\"}},\\\"ko\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"      .\\\",\\\"equation_editor_title\\\":\\\"Use the toolbars here, or Switch View to Advanced to type/paste in LaTeX\\\"}},\\\"mi\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Kkuhu Whrite\\\"},\\\"cannot_render_equation\\\":\\\"IWhakuru whrite\\\",\\\"equation_editor_title\\\":\\\"Whakamahia ng tapytapu i konei ara Huri Titiro ki Mtatau ki patopato/whakapiri i roto i LaTex\\\"}},\\\"nb\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Sett inn ligning\\\"},\\\"cannot_render_equation\\\":\\\"Denne ligningen kan ikke legges frem i enkel visning.\\\",\\\"equation_editor_title\\\":\\\"Bruk verktylinjene her, eller endre visning til avansert for  skrive inn/lime inn LaTeX\\\"}},\\\"nb-x-k12\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Sett inn ligning\\\"},\\\"cannot_render_equation\\\":\\\"Denne ligningen kan ikke legges frem i enkel visning.\\\",\\\"equation_editor_title\\\":\\\"Bruk verktylinjene her, eller endre visning til avansert for  skrive inn/lime inn LaTeX\\\"}},\\\"nl\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Vergelijking invoegen\\\"},\\\"cannot_render_equation\\\":\\\"Deze vergelijking kan niet in basisweergave weergegeven worden.\\\",\\\"equation_editor_title\\\":\\\"De werkbalken hier gebruiken of naar ge-avanceerd overschakelen om in LaTeX in te voeren of te plakken\\\"}},\\\"nn\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Set inn likning\\\"},\\\"cannot_render_equation\\\":\\\"Kan ikkje gje att som grunnleggande vising.\\\",\\\"equation_editor_title\\\":\\\"Bruk verktylinjene, eller byt vising til Avansert for  skrive/lime inn LaTeX\\\"}},\\\"pl\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Wstaw rwnanie\\\"},\\\"cannot_render_equation\\\":\\\"Nie mona odtworzy rwnania w widoku podstawowym.\\\",\\\"equation_editor_title\\\":\\\"Skorzystaj z paskw narzdzi tutaj lub Przecz widok do zaawansowanego, aby wpisa/wklei LaTeX\\\"}},\\\"pt\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Inserir equao\\\"},\\\"cannot_render_equation\\\":\\\"No  possvel reproduzir esta equao em Vista Bsica.\\\",\\\"equation_editor_title\\\":\\\"Utilizar as barras de ferramentas aqui ou Mudar para Vista Avanada para digitar/colar em formato LaTeX\\\"}},\\\"pt-BR\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Inserir equao\\\"},\\\"cannot_render_equation\\\":\\\"Esta equao no pode ser entregue em exibio bsica\\\",\\\"equation_editor_title\\\":\\\"Use as barras de tarefas aqui ou alterne a exibio para Avanado para digitar/colar no LaTeX\\\"}},\\\"ru\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\" \\\"},\\\"cannot_render_equation\\\":\\\"        .\\\",\\\"equation_editor_title\\\":\\\"       ,   /   LaTeX\\\"}},\\\"sv\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Infoga ekvation\\\"},\\\"cannot_render_equation\\\":\\\"Den hr ekvationen kan inte tolkas i enkel vy.\\\",\\\"equation_editor_title\\\":\\\"Anvnd verktygsflten hr, eller ndra vyn till Avancerad fr att skriva/klistra in i LaTeX.\\\"}},\\\"sv-x-k12\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Infoga ekvation\\\"},\\\"cannot_render_equation\\\":\\\"Den hr ekvationen kan inte tolkas i enkel vy.\\\",\\\"equation_editor_title\\\":\\\"Anvnd verktygsflten hr, eller ndra vyn till Avancerad fr att skriva/klistra in i LaTeX.\\\"}},\\\"tr\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"Denklem Ekle\\\"},\\\"cannot_render_equation\\\":\\\"Bu denklem Temel Grnmde ilenemez.\\\",\\\"equation_editor_title\\\":\\\"Buradaki ara ubuklarn kullann ya da LaTeX'te yazmak/yaptrmak iin Grnm Deitir'den Gelimi'i sein.\\\"}},\\\"zh-Hans\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"\\\"},\\\"cannot_render_equation\\\":\\\"\\\",\\\"equation_editor_title\\\":\\\" LaTeX /\\\"}},\\\"zh-Hant\\\":{\\\"EquationEditorView\\\":{\\\"button\\\":{\\\"insert_equation\\\":\\\"\\\"},\\\"cannot_render_equation\\\":\\\"\\\",\\\"equation_editor_title\\\":\\\"/ LaTeX\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/EquationEditorView';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('EquationEditorView');\n  ","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\" \\\",\\\"relationships\\\":\\\"\\\"}}},\\\"cy\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Saethau\\\",\\\"basic\\\":\\\"Syml\\\",\\\"delimiters\\\":\\\"Amffinyddion\\\",\\\"greek\\\":\\\"Groegaidd\\\",\\\"misc\\\":\\\"Amrywiol\\\",\\\"operators\\\":\\\"Gweithredwyr\\\",\\\"relationships\\\":\\\"Cysylltiadau\\\"}}},\\\"da\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pile\\\",\\\"basic\\\":\\\"Grundlggende\\\",\\\"delimiters\\\":\\\"Begrnsere\\\",\\\"greek\\\":\\\"Grsk\\\",\\\"misc\\\":\\\"Bland\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forhold\\\"}}},\\\"da-x-k12\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pile\\\",\\\"basic\\\":\\\"Grundlggende\\\",\\\"delimiters\\\":\\\"Begrnsere\\\",\\\"greek\\\":\\\"Grsk\\\",\\\"misc\\\":\\\"Bland\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forhold\\\"}}},\\\"de\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pfeile\\\",\\\"basic\\\":\\\"Grundlegend\\\",\\\"delimiters\\\":\\\"Trennzeichen\\\",\\\"greek\\\":\\\"Griechisch\\\",\\\"misc\\\":\\\"Sonstige\\\",\\\"operators\\\":\\\"Operatoren\\\",\\\"relationships\\\":\\\"Beziehungen\\\"}}},\\\"el\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"en-AU\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"misc\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"en-CA\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"misc\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"en-GB\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"misc\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"es\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flechas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Griego\\\",\\\"misc\\\":\\\"Varios\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relaciones\\\"}}},\\\"fa\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\" \\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\" \\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"fi\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"nuolet\\\",\\\"basic\\\":\\\"Perus\\\",\\\"delimiters\\\":\\\"Erottimet\\\",\\\"greek\\\":\\\"Kreikkalainen\\\",\\\"misc\\\":\\\"Sekalainen\\\",\\\"operators\\\":\\\"Operaattorit\\\",\\\"relationships\\\":\\\"Suhteet\\\"}}},\\\"fr\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flches\\\",\\\"basic\\\":\\\"Simple\\\",\\\"delimiters\\\":\\\"Dlimiteurs\\\",\\\"greek\\\":\\\"Grec\\\",\\\"misc\\\":\\\"Divers\\\",\\\"operators\\\":\\\"Oprateurs\\\",\\\"relationships\\\":\\\"Relations\\\"}}},\\\"fr-CA\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flches\\\",\\\"basic\\\":\\\"Simple\\\",\\\"delimiters\\\":\\\"Dlimiteurs\\\",\\\"greek\\\":\\\"Grec\\\",\\\"misc\\\":\\\"Divers\\\",\\\"operators\\\":\\\"Oprateurs\\\",\\\"relationships\\\":\\\"Relations\\\"}}},\\\"he\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"ht\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flch\\\",\\\"basic\\\":\\\"Bazik\\\",\\\"delimiters\\\":\\\"Delimit\\\",\\\"greek\\\":\\\"Grk\\\",\\\"misc\\\":\\\"Divs\\\",\\\"operators\\\":\\\"Operat\\\",\\\"relationships\\\":\\\"Relasyon\\\"}}},\\\"hu\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Nyilak\\\",\\\"basic\\\":\\\"Alap\\\",\\\"delimiters\\\":\\\"Elvlaszt jelek\\\",\\\"greek\\\":\\\"Grg\\\",\\\"misc\\\":\\\"Egyb\\\",\\\"operators\\\":\\\"Mveletek\\\",\\\"relationships\\\":\\\"Kapcsolatok\\\"}}},\\\"hy\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"is\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"rvar\\\",\\\"basic\\\":\\\"Grunnur\\\",\\\"delimiters\\\":\\\"Afmarkari\\\",\\\"greek\\\":\\\"Grska\\\",\\\"misc\\\":\\\"mislegt\\\",\\\"operators\\\":\\\"Stjrnendur\\\",\\\"relationships\\\":\\\"Sambnd\\\"}}},\\\"it\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Frecce\\\",\\\"basic\\\":\\\"Base\\\",\\\"delimiters\\\":\\\"Delimitatori\\\",\\\"greek\\\":\\\"Greco\\\",\\\"misc\\\":\\\"Varie\\\",\\\"operators\\\":\\\"Operatori\\\",\\\"relationships\\\":\\\"Relazioni\\\"}}},\\\"ja\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"ko\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\" \\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"mi\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"pere\\\",\\\"basic\\\":\\\"Taketake\\\",\\\"delimiters\\\":\\\"Ng Kaiwehe\\\",\\\"greek\\\":\\\"Kariki\\\",\\\"misc\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Ng Kaiwhakamahi\\\",\\\"relationships\\\":\\\"Ng whanaungatanga\\\"}}},\\\"nb\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Avgrensninger\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"misc\\\":\\\"Sammensatt.\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forbindelser\\\"}}},\\\"nb-x-k12\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Avgrensninger\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"misc\\\":\\\"Sammensatt.\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forbindelser\\\"}}},\\\"nl\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pijlen\\\",\\\"basic\\\":\\\"Basis\\\",\\\"delimiters\\\":\\\"Scheidingstekens\\\",\\\"greek\\\":\\\"Grieks\\\",\\\"misc\\\":\\\"Diversen\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relaties\\\"}}},\\\"nn\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Standard\\\",\\\"delimiters\\\":\\\"Skiljeteikn\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"misc\\\":\\\"Diverse\\\",\\\"operators\\\":\\\"Operatr\\\",\\\"relationships\\\":\\\"Relasjon\\\"}}},\\\"pl\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Strzaki\\\",\\\"basic\\\":\\\"Podstawowe\\\",\\\"delimiters\\\":\\\"Ograniczniki\\\",\\\"greek\\\":\\\"Greckie\\\",\\\"misc\\\":\\\"Rne\\\",\\\"operators\\\":\\\"Operatory\\\",\\\"relationships\\\":\\\"Powizania\\\"}}},\\\"pt\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Setas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Grego\\\",\\\"misc\\\":\\\"Diversos\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relacionamentos\\\"}}},\\\"pt-BR\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Setas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Grego\\\",\\\"misc\\\":\\\"Diversos\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relacionamentos\\\"}}},\\\"ru\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"sl\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Puice\\\",\\\"basic\\\":\\\"Osnovno\\\",\\\"delimiters\\\":\\\"Loila\\\",\\\"greek\\\":\\\"Grina\\\",\\\"misc\\\":\\\"Razno\\\",\\\"operators\\\":\\\"Upravljavci\\\",\\\"relationships\\\":\\\"Razmerja\\\"}}},\\\"sv\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pilar\\\",\\\"basic\\\":\\\"Enkel\\\",\\\"delimiters\\\":\\\"Skiljetecken\\\",\\\"greek\\\":\\\"Grekiska\\\",\\\"misc\\\":\\\"Blandat\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Relationer\\\"}}},\\\"sv-x-k12\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pilar\\\",\\\"basic\\\":\\\"Enkel\\\",\\\"delimiters\\\":\\\"Skiljetecken\\\",\\\"greek\\\":\\\"Grekiska\\\",\\\"misc\\\":\\\"Blandat\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Relationer\\\"}}},\\\"tr\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Oklar\\\",\\\"basic\\\":\\\"Basit\\\",\\\"delimiters\\\":\\\"Ayralar\\\",\\\"greek\\\":\\\"Yunan\\\",\\\"misc\\\":\\\"eitli\\\",\\\"operators\\\":\\\"Operatrler\\\",\\\"relationships\\\":\\\"likiler\\\"}}},\\\"uk\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"'\\\"}}},\\\"zh-Hans\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"zh-Hant\\\":{\\\"editor\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"misc\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/tinymce.equation_toolbar_view';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('tinymce.equation_toolbar_view');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!tinymce.equation_toolbar_view\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'tinymce/EquationToolbarView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<ul class=\\\"mathquill-tab-bar\\\" role=\\\"tablist\\\">\\n  <li class=\\\"\\\">\\n    <a href=\\\"#basic_tab\\\" aria-controls=\\\"basic_tab\\\" aria-selected=\\\"true\\\" role=\\\"tab\\\"\\n      tabindex=\\\"0\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.basic\", \"Basic\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.basic\", \"Basic\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\">+</span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.basic\", \"Basic\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.basic\", \"Basic\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#greek_tab\\\" aria-controls=\\\"greek_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.greek\", \"Greek\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.greek\", \"Greek\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\"></span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.greek\", \"Greek\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.greek\", \"Greek\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#operators_tab\\\" aria-controls=\\\"operators_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\"  aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.operators\", \"Operators\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.operators\", \"Operators\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\" ></span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.operators\", \"Operators\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.operators\", \"Operators\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#relationships_tab\\\" aria-controls=\\\"relationships_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.relationships\", \"Relationships\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.relationships\", \"Relationships\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\"></span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.relationships\", \"Relationships\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.relationships\", \"Relationships\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#arrows_tab\\\" aria-controls=\\\"arrows_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.arrows\", \"Arrows\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.arrows\", \"Arrows\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\"></span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.arrows\", \"Arrows\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.arrows\", \"Arrows\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#delimiters_tab\\\" aria-controls=\\\"delimiters_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.delimiters\", \"Delimiters\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.delimiters\", \"Delimiters\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\">{</span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.delimiters\", \"Delimiters\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.delimiters\", \"Delimiters\", options)))\n    + \"\\n    </a>\\n  </li>\\n  <li class=\\\"\\\">\\n    <a href=\\\"#misc_tab\\\" aria-controls=\\\"misc_tab\\\" aria-selected=\\\"false\\\" role=\\\"tab\\\"\\n      tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.misc\", \"Misc\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.misc\", \"Misc\", options)))\n    + \"\\\"\\n    >\\n      <span class=\\\"mathquill-rendered-math\\\" ></span>\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_toolbar_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.tabs.misc\", \"Misc\", options) : helperMissing.call(depth0, \"t\", \"#editor.tabs.misc\", \"Misc\", options)))\n    + \"\\n    </a>\\n  </li>\\n</ul>\\n<div class=\\\"mathquill-toolbar-panes\\\">\\n  <div class=\\\"mathquill-tab-pane mathquill-tab-pane-selected\\\" id=\\\"basic_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"_{sub}\\\" aria-label=\\\"_{sub}\\\"><sub\\n          style=\\\"font-size: 0.6em; line-height: 3.5;\\\">sub</sub></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"^{sup}\\\" aria-label=\\\"^{sup}\\\"><sup style=\\\"font-size: 0.6em\\\">sup</sup></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\frac{n}{m}\\\" aria-label=\\\"\\\\frac{n}{m}\\\"><span style=\\\"font-size: 0.55em; vertical-align: middle\\\"\\n                                                                 class=\\\"fraction\\\"><span class=\\\"numerator\\\"><var>n</var></span><span\\n          class=\\\"denominator\\\"><var>m</var></span><span style=\\\"width:0\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqrt{x}\\\" aria-label=\\\"\\\\sqrt{x}\\\"><span class=\\\"block\\\"><span class=\\\"sqrt-prefix\\\"></span><span\\n          class=\\\"sqrt-stem\\\">&nbsp;</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqrt[n]{x}\\\" aria-label=\\\"\\\\sqrt[n]{x}\\\"><span style=\\\"font-size: 0.7em\\\"><sup\\n          class=\\\"nthroot\\\"><var>n</var></sup><span class=\\\"block\\\"><span class=\\\"sqrt-prefix\\\"></span><span\\n          class=\\\"sqrt-stem\\\">&nbsp;</span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\langle \\\\rangle\\\" aria-label=\\\"\\\\langle \\\\rangle\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"block\\\"><span class=\\\"paren\\\"></span><span class=\\\"block\\\"></span><span\\n          class=\\\"paren\\\"></span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\binom{n}{m}\\\" aria-label=\\\"\\\\binom{n}{m}\\\"><span style=\\\"font-size: 0.48em\\\"><span class=\\\"paren\\\"\\n                                                                                                    style=\\\"font-size: 2.087912087912088em; \\\">(</span><span\\n          class=\\\"array\\\"><span><var>n</var></span><span><var>m</var></span></span><span class=\\\"paren\\\"\\n                                                                                       style=\\\"font-size: 2.087912087912088em; \\\">)</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\begin{matrix} 1 \\\\\\\\ 2 \\\\\\\\ 3 \\\\end{matrix}\\\" aria-label=\\\"\\\\begin{matrix} 1 \\\\\\\\ 2 \\\\\\\\ 3 \\\\end{matrix}\\\"><span class=\\\"array\\\"\\n                                                                   style=\\\"vertical-align: middle; font-size: 0.4em; line-height: 0.9em\\\"><span>1</span><span>2</span><span>3</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"f\\\" aria-label=\\\"f\\\"><span style=\\\"line-height: 1.5em\\\"><var\\n          class=\\\"florin\\\"></var><span style=\\\"display:inline-block;width:0\\\">&nbsp;</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\prime\\\" aria-label=\\\"\\\\prime\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"+\\\" aria-label=\\\"+\\\"><span style=\\\"line-height: 1.5em\\\"><span>+</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"-\\\" aria-label=\\\"-\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\pm\\\" aria-label=\\\"\\\\pm\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mp\\\" aria-label=\\\"\\\\mp\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\cdot\\\" aria-label=\\\"\\\\cdot\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"=\\\" aria-label=\\\"=\\\"><span style=\\\"line-height: 1.5em\\\"><span class=\\\"binary-operator\\\">=</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\times\\\" aria-label=\\\"\\\\times\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\div\\\" aria-label=\\\"\\\\div\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ast\\\" aria-label=\\\"\\\\ast\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\therefore\\\" aria-label=\\\"\\\\therefore\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\because\\\" aria-label=\\\"\\\\because\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sum{n}\\\" aria-label=\\\"\\\\sum{n}\\\"><span style=\\\"line-height: 1.5em\\\"><big></big></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\prod{n}\\\" aria-label=\\\"\\\\prod{n}\\\"><span style=\\\"line-height: 1.5em\\\"><big></big></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\coprod{n}\\\" aria-label=\\\"\\\\coprod{n}\\\"><span style=\\\"line-height: 1.5em\\\"><big></big></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\int{x}\\\" aria-label=\\\"\\\\int{x}\\\"><span style=\\\"line-height: 1.5em\\\"><big></big></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{N}\\\" aria-label=\\\"\\\\mathbb{N}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{P}\\\" aria-label=\\\"\\\\mathbb{P}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{Z}\\\" aria-label=\\\"\\\\mathbb{Z}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{Q}\\\" aria-label=\\\"\\\\mathbb{Q}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{R}\\\" aria-label=\\\"\\\\mathbb{R}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{C}\\\" aria-label=\\\"\\\\mathbb{C}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mathbb{H}\\\" aria-label=\\\"\\\\mathbb{H}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"greek_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\alpha\\\" aria-label=\\\"\\\\alpha\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\beta\\\" aria-label=\\\"\\\\beta\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\gamma\\\" aria-label=\\\"\\\\gamma\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\delta\\\" aria-label=\\\"\\\\delta\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\epsilon\\\" aria-label=\\\"\\\\epsilon\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\zeta\\\" aria-label=\\\"\\\\zeta\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\eta\\\" aria-label=\\\"\\\\eta\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\theta\\\" aria-label=\\\"\\\\theta\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\iota\\\" aria-label=\\\"\\\\iota\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\kappa\\\" aria-label=\\\"\\\\kappa\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\lambda\\\" aria-label=\\\"\\\\lambda\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"nonSymbola\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mu\\\" aria-label=\\\"\\\\mu\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\nu\\\" aria-label=\\\"\\\\nu\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\xi\\\" aria-label=\\\"\\\\xi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\pi\\\" aria-label=\\\"\\\\pi\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"nonSymbola\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rho\\\" aria-label=\\\"\\\\rho\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sigma\\\" aria-label=\\\"\\\\sigma\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\tau\\\" aria-label=\\\"\\\\tau\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\upsilon\\\" aria-label=\\\"\\\\upsilon\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\phi\\\" aria-label=\\\"\\\\phi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\chi\\\" aria-label=\\\"\\\\chi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\psi\\\" aria-label=\\\"\\\\psi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\omega\\\" aria-label=\\\"\\\\omega\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\digamma\\\" aria-label=\\\"\\\\digamma\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varepsilon\\\" aria-label=\\\"\\\\varepsilon\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\vartheta\\\" aria-label=\\\"\\\\vartheta\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varkappa\\\" aria-label=\\\"\\\\varkappa\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varpi\\\" aria-label=\\\"\\\\varpi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varrho\\\" aria-label=\\\"\\\\varrho\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varsigma\\\" aria-label=\\\"\\\\varsigma\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><var></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varphi\\\" aria-label=\\\"\\\\varphi\\\"><span style=\\\"line-height: 1.5em\\\"><var></var></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Gamma\\\" aria-label=\\\"\\\\Gamma\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Delta\\\" aria-label=\\\"\\\\Delta\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Theta\\\" aria-label=\\\"\\\\Theta\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Lambda\\\" aria-label=\\\"\\\\Lambda\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Xi\\\" aria-label=\\\"\\\\Xi\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Pi\\\" aria-label=\\\"\\\\Pi\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Sigma\\\" aria-label=\\\"\\\\Sigma\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Upsilon\\\" aria-label=\\\"\\\\Upsilon\\\"><span style=\\\"line-height: 1.5em\\\"><var\\n          style=\\\"font-family: serif\\\"></var></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Phi\\\" aria-label=\\\"\\\\Phi\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Psi\\\" aria-label=\\\"\\\\Psi\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Omega\\\" aria-label=\\\"\\\\Omega\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"operators_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\wedge\\\" aria-label=\\\"\\\\wedge\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\vee\\\" aria-label=\\\"\\\\vee\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\cup\\\" aria-label=\\\"\\\\cup\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\cap\\\" aria-label=\\\"\\\\cap\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\diamond\\\" aria-label=\\\"\\\\diamond\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bigtriangleup\\\" aria-label=\\\"\\\\bigtriangleup\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ominus\\\" aria-label=\\\"\\\\ominus\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\uplus\\\" aria-label=\\\"\\\\uplus\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\otimes\\\" aria-label=\\\"\\\\otimes\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\oplus\\\" aria-label=\\\"\\\\oplus\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bigtriangledown\\\" aria-label=\\\"\\\\bigtriangledown\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqcap\\\" aria-label=\\\"\\\\sqcap\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\triangleleft\\\" aria-label=\\\"\\\\triangleleft\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqcup\\\" aria-label=\\\"\\\\sqcup\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\triangleright\\\" aria-label=\\\"\\\\triangleright\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\odot\\\" aria-label=\\\"\\\\odot\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bigcirc\\\" aria-label=\\\"\\\\bigcirc\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\dagger\\\" aria-label=\\\"\\\\dagger\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ddagger\\\" aria-label=\\\"\\\\ddagger\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\wr\\\" aria-label=\\\"\\\\wr\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\amalg\\\" aria-label=\\\"\\\\amalg\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"relationships_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"&lt;\\\" aria-label=\\\"&lt;\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\">&lt;</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"&gt;\\\" aria-label=\\\"&gt;\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\">&gt;</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\equiv\\\" aria-label=\\\"\\\\equiv\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\cong\\\" aria-label=\\\"\\\\cong\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sim\\\" aria-label=\\\"\\\\sim\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\in\\\" aria-label=\\\"\\\\not\\\\in\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ne\\\" aria-label=\\\"\\\\ne\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\propto\\\" aria-label=\\\"\\\\propto\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\approx\\\" aria-label=\\\"\\\\approx\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\le\\\" aria-label=\\\"\\\\le\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ge\\\" aria-label=\\\"\\\\ge\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\in\\\" aria-label=\\\"\\\\in\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ni\\\" aria-label=\\\"\\\\ni\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\ni\\\" aria-label=\\\"\\\\not\\\\ni\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\subset\\\" aria-label=\\\"\\\\subset\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\supset\\\" aria-label=\\\"\\\\supset\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\subset\\\" aria-label=\\\"\\\\not\\\\subset\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\supset\\\" aria-label=\\\"\\\\not\\\\supset\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\subseteq\\\" aria-label=\\\"\\\\subseteq\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\supseteq\\\" aria-label=\\\"\\\\supseteq\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\subseteq\\\" aria-label=\\\"\\\\not\\\\subseteq\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\not\\\\supseteq\\\" aria-label=\\\"\\\\not\\\\supseteq\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\models\\\" aria-label=\\\"\\\\models\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\prec\\\" aria-label=\\\"\\\\prec\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\succ\\\" aria-label=\\\"\\\\succ\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\preceq\\\" aria-label=\\\"\\\\preceq\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\succeq\\\" aria-label=\\\"\\\\succeq\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\simeq\\\" aria-label=\\\"\\\\simeq\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mid\\\" aria-label=\\\"\\\\mid\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ll\\\" aria-label=\\\"\\\\ll\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\gg\\\" aria-label=\\\"\\\\gg\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\parallel\\\" aria-label=\\\"\\\\parallel\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bowtie\\\" aria-label=\\\"\\\\bowtie\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqsubset\\\" aria-label=\\\"\\\\sqsubset\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqsupset\\\" aria-label=\\\"\\\\sqsupset\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\smile\\\" aria-label=\\\"\\\\smile\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqsubseteq\\\" aria-label=\\\"\\\\sqsubseteq\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sqsupseteq\\\" aria-label=\\\"\\\\sqsupseteq\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\doteq\\\" aria-label=\\\"\\\\doteq\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\frown\\\" aria-label=\\\"\\\\frown\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\vdash\\\" aria-label=\\\"\\\\vdash\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\dashv\\\" aria-label=\\\"\\\\dashv\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\exists\\\" aria-label=\\\"\\\\exists\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\varnothing\\\" aria-label=\\\"\\\\varnothing\\\"><span style=\\\"line-height: 1.5em\\\"><span\\n          class=\\\"binary-operator\\\"></span></span></a></li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"arrows_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\longleftarrow\\\" aria-label=\\\"\\\\longleftarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\longrightarrow\\\" aria-label=\\\"\\\\longrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Longleftarrow\\\" aria-label=\\\"\\\\Longleftarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Longrightarrow\\\" aria-label=\\\"\\\\Longrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\longleftrightarrow\\\" aria-label=\\\"\\\\longleftrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\updownarrow\\\" aria-label=\\\"\\\\updownarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Longleftrightarrow\\\" aria-label=\\\"\\\\Longleftrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Updownarrow\\\" aria-label=\\\"\\\\Updownarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\mapsto\\\" aria-label=\\\"\\\\mapsto\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\nearrow\\\" aria-label=\\\"\\\\nearrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\hookleftarrow\\\" aria-label=\\\"\\\\hookleftarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\hookrightarrow\\\" aria-label=\\\"\\\\hookrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\searrow\\\" aria-label=\\\"\\\\searrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\leftharpoonup\\\" aria-label=\\\"\\\\leftharpoonup\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rightharpoonup\\\" aria-label=\\\"\\\\rightharpoonup\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\swarrow\\\" aria-label=\\\"\\\\swarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\leftharpoondown\\\" aria-label=\\\"\\\\leftharpoondown\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rightharpoondown\\\" aria-label=\\\"\\\\rightharpoondown\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\nwarrow\\\" aria-label=\\\"\\\\nwarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\downarrow\\\" aria-label=\\\"\\\\downarrow\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Downarrow\\\" aria-label=\\\"\\\\Downarrow\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\uparrow\\\" aria-label=\\\"\\\\uparrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Uparrow\\\" aria-label=\\\"\\\\Uparrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rightarrow\\\" aria-label=\\\"\\\\rightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Rightarrow\\\" aria-label=\\\"\\\\Rightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\leftarrow\\\" aria-label=\\\"\\\\leftarrow\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Leftarrow\\\" aria-label=\\\"\\\\Leftarrow\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\leftrightarrow\\\" aria-label=\\\"\\\\leftrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Leftrightarrow\\\" aria-label=\\\"\\\\Leftrightarrow\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"delimiters_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\lfloor\\\" aria-label=\\\"\\\\lfloor\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rfloor\\\" aria-label=\\\"\\\\rfloor\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\lceil\\\" aria-label=\\\"\\\\lceil\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rceil\\\" aria-label=\\\"\\\\rceil\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\slash\\\" aria-label=\\\"\\\\slash\\\"><span style=\\\"line-height: 1.5em\\\"><span>/</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\lbrace\\\" aria-label=\\\"\\\\lbrace\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span>{</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\rbrace\\\" aria-label=\\\"\\\\rbrace\\\"><span style=\\\"line-height: 1.5em\\\"><span>}</span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n  <div class=\\\"mathquill-tab-pane\\\" id=\\\"misc_tab\\\" role=\\\"tabpanel\\\">\\n    <ul>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\forall\\\" aria-label=\\\"\\\\forall\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ldots\\\" aria-label=\\\"\\\\ldots\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\cdots\\\" aria-label=\\\"\\\\cdots\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\vdots\\\" aria-label=\\\"\\\\vdots\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\unicode{8944}\\\" aria-label=\\\"\\\\unicode{8944}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\surd\\\" aria-label=\\\"\\\\surd\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\triangle\\\" aria-label=\\\"\\\\triangle\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\ell\\\" aria-label=\\\"\\\\ell\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\top\\\" aria-label=\\\"\\\\top\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\flat\\\" aria-label=\\\"\\\\flat\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\natural\\\" aria-label=\\\"\\\\natural\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\sharp\\\" aria-label=\\\"\\\\sharp\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\wp\\\" aria-label=\\\"\\\\wp\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bot\\\" aria-label=\\\"\\\\bot\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\clubsuit\\\" aria-label=\\\"\\\\clubsuit\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\diamondsuit\\\" aria-label=\\\"\\\\diamondsuit\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\heartsuit\\\" aria-label=\\\"\\\\heartsuit\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\spadesuit\\\" aria-label=\\\"\\\\spadesuit\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\unicode{94}\\\" aria-label=\\\"\\\\unicode{94}\\\"><span style=\\\"line-height: 1.5em\\\"><span>^</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\unicode{95}\\\" aria-label=\\\"\\\\unicode{95}\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span>_</span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\backslash\\\" aria-label=\\\"\\\\backslash\\\"><span style=\\\"line-height: 1.5em\\\"><span>\\\\</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\vert\\\" aria-label=\\\"\\\\vert\\\"><span style=\\\"line-height: 1.5em\\\"><span>|</span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\perp\\\" aria-label=\\\"\\\\perp\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\nabla\\\" aria-label=\\\"\\\\nabla\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\hbar\\\" aria-label=\\\"\\\\hbar\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\unicode{8491}\\\" aria-label=\\\"\\\\unicode{8491}\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\circ\\\" aria-label=\\\"\\\\circ\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\bullet\\\" aria-label=\\\"\\\\bullet\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\setminus\\\" aria-label=\\\"\\\\setminus\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\neg\\\" aria-label=\\\"\\\\neg\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\dots\\\" aria-label=\\\"\\\\dots\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Re\\\" aria-label=\\\"\\\\Re\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\Im\\\" aria-label=\\\"\\\\Im\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\partial\\\" aria-label=\\\"\\\\partial\\\"><span\\n          style=\\\"line-height: 1.5em\\\"><span></span></span></a></li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\infty\\\" aria-label=\\\"\\\\infty\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\aleph\\\" aria-label=\\\"\\\\aleph\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"^\\\\circ\\\" aria-label=\\\"^\\\\circ\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li><a href=\\\"#\\\" class=\\\"mathquill-rendered-math\\\" title=\\\"\\\\angle\\\" aria-label=\\\"\\\\angle\\\"><span style=\\\"line-height: 1.5em\\\"><span></span></span></a>\\n      </li>\\n      <li class=\\\"mathquill-button-spacer\\\"></li>\\n    </ul>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    ;\n    export default templates[name];\n  ","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"cy\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Saethau\\\",\\\"basic\\\":\\\"Syml\\\",\\\"delimiters\\\":\\\"Amffinyddion\\\",\\\"greek\\\":\\\"Groegaidd\\\",\\\"miscellaneous\\\":\\\"Amrywiol\\\",\\\"operators\\\":\\\"Gweithredwyr\\\",\\\"relationships\\\":\\\"Cysylltiadau\\\"}}},\\\"da\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pile\\\",\\\"basic\\\":\\\"Grundlggende\\\",\\\"delimiters\\\":\\\"Begrnsere\\\",\\\"greek\\\":\\\"Grsk\\\",\\\"miscellaneous\\\":\\\"Bland\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forhold\\\"}}},\\\"da-x-k12\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pile\\\",\\\"basic\\\":\\\"Grundlggende\\\",\\\"delimiters\\\":\\\"Begrnsere\\\",\\\"greek\\\":\\\"Grsk\\\",\\\"miscellaneous\\\":\\\"Bland\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forhold\\\"}}},\\\"de\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pfeile\\\",\\\"basic\\\":\\\"Grundlegend\\\",\\\"delimiters\\\":\\\"Trennzeichen\\\",\\\"greek\\\":\\\"Griechisch\\\",\\\"miscellaneous\\\":\\\"Sonstige\\\",\\\"operators\\\":\\\"Operatoren\\\",\\\"relationships\\\":\\\"Beziehungen\\\"}}},\\\"el\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"en-AU\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"miscellaneous\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"en-CA\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"miscellaneous\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"en-GB\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Arrows\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Delimiters\\\",\\\"greek\\\":\\\"Greek\\\",\\\"miscellaneous\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relationships\\\"}}},\\\"es\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flechas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Griego\\\",\\\"miscellaneous\\\":\\\"Varios\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relaciones\\\"}}},\\\"fa\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\" \\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"  \\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"fi\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"nuolet\\\",\\\"basic\\\":\\\"Perus\\\",\\\"delimiters\\\":\\\"Erottimet\\\",\\\"greek\\\":\\\"Kreikkalainen\\\",\\\"miscellaneous\\\":\\\"Sekalainen\\\",\\\"operators\\\":\\\"Operaattorit\\\",\\\"relationships\\\":\\\"Suhteet\\\"}}},\\\"fr\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flches\\\",\\\"basic\\\":\\\"De base\\\",\\\"delimiters\\\":\\\"Dlimiteurs\\\",\\\"greek\\\":\\\"Grec\\\",\\\"miscellaneous\\\":\\\"Divers\\\",\\\"operators\\\":\\\"Oprateurs\\\",\\\"relationships\\\":\\\"Relations\\\"}}},\\\"fr-CA\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flches\\\",\\\"basic\\\":\\\"Simple\\\",\\\"delimiters\\\":\\\"Dlimiteurs\\\",\\\"greek\\\":\\\"Grec\\\",\\\"miscellaneous\\\":\\\"Divers\\\",\\\"operators\\\":\\\"Oprateurs\\\",\\\"relationships\\\":\\\"Relations\\\"}}},\\\"he\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"ht\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Flch\\\",\\\"basic\\\":\\\"Bazik\\\",\\\"delimiters\\\":\\\"Delimit\\\",\\\"greek\\\":\\\"Grk\\\",\\\"miscellaneous\\\":\\\"Divs\\\",\\\"operators\\\":\\\"Operat\\\",\\\"relationships\\\":\\\"Relasyon\\\"}}},\\\"hu\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Nyilak\\\",\\\"basic\\\":\\\"Alap\\\",\\\"delimiters\\\":\\\"Elvlaszt jelek\\\",\\\"greek\\\":\\\"Grg\\\",\\\"miscellaneous\\\":\\\"Egyb\\\",\\\"operators\\\":\\\"Mveletek\\\",\\\"relationships\\\":\\\"Kapcsolatok\\\"}}},\\\"hy\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"is\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"rvar\\\",\\\"basic\\\":\\\"Grunnur\\\",\\\"delimiters\\\":\\\"Afmarkarar\\\",\\\"greek\\\":\\\"Grska\\\",\\\"miscellaneous\\\":\\\"mislegt\\\",\\\"operators\\\":\\\"Stjrnendur\\\",\\\"relationships\\\":\\\"Sambnd\\\"}}},\\\"it\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Frecce\\\",\\\"basic\\\":\\\"Base\\\",\\\"delimiters\\\":\\\"Delimitatori\\\",\\\"greek\\\":\\\"Greco\\\",\\\"miscellaneous\\\":\\\"Varie\\\",\\\"operators\\\":\\\"Operatori\\\",\\\"relationships\\\":\\\"Relazioni\\\"}}},\\\"ja\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"ko\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\" \\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"mi\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"pere\\\",\\\"basic\\\":\\\"Taketake\\\",\\\"delimiters\\\":\\\"Ng Kaiwehe\\\",\\\"greek\\\":\\\"Kariki\\\",\\\"miscellaneous\\\":\\\"Misc\\\",\\\"operators\\\":\\\"Ng Kaiwhakamahi\\\",\\\"relationships\\\":\\\"Ng whanaungatanga\\\"}}},\\\"nb\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Avgrensninger\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"miscellaneous\\\":\\\"Sammensatt.\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forbindelser\\\"}}},\\\"nb-x-k12\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Basic\\\",\\\"delimiters\\\":\\\"Avgrensninger\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"miscellaneous\\\":\\\"Sammensatt.\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Forbindelser\\\"}}},\\\"nl\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pijlen\\\",\\\"basic\\\":\\\"Basis\\\",\\\"delimiters\\\":\\\"Scheidingstekens\\\",\\\"greek\\\":\\\"Grieks\\\",\\\"miscellaneous\\\":\\\"Diversen\\\",\\\"operators\\\":\\\"Operators\\\",\\\"relationships\\\":\\\"Relaties\\\"}}},\\\"nn\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Piler\\\",\\\"basic\\\":\\\"Standard\\\",\\\"delimiters\\\":\\\"Skiljeteikn\\\",\\\"greek\\\":\\\"Gresk\\\",\\\"miscellaneous\\\":\\\"Diverse\\\",\\\"operators\\\":\\\"Operatr\\\",\\\"relationships\\\":\\\"Relasjon\\\"}}},\\\"pl\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Strzaki\\\",\\\"basic\\\":\\\"Podstawowe\\\",\\\"delimiters\\\":\\\"Ograniczniki\\\",\\\"greek\\\":\\\"Greckie\\\",\\\"miscellaneous\\\":\\\"Rne\\\",\\\"operators\\\":\\\"Operatory\\\",\\\"relationships\\\":\\\"Powizania\\\"}}},\\\"pt\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Setas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Grego\\\",\\\"miscellaneous\\\":\\\"Diversos\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relacionamentos\\\"}}},\\\"pt-BR\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Setas\\\",\\\"basic\\\":\\\"Bsico\\\",\\\"delimiters\\\":\\\"Delimitadores\\\",\\\"greek\\\":\\\"Grego\\\",\\\"miscellaneous\\\":\\\"Diversos\\\",\\\"operators\\\":\\\"Operadores\\\",\\\"relationships\\\":\\\"Relacionamentos\\\"}}},\\\"ru\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"sl\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Puice\\\",\\\"basic\\\":\\\"Osnovno\\\",\\\"delimiters\\\":\\\"Loila\\\",\\\"greek\\\":\\\"Grina\\\",\\\"miscellaneous\\\":\\\"Razno\\\",\\\"operators\\\":\\\"Upravljavci\\\",\\\"relationships\\\":\\\"Razmerja\\\"}}},\\\"sv\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pilar\\\",\\\"basic\\\":\\\"Enkel\\\",\\\"delimiters\\\":\\\"Skiljetecken\\\",\\\"greek\\\":\\\"Grekiska\\\",\\\"miscellaneous\\\":\\\"Blandat\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Relationer\\\"}}},\\\"sv-x-k12\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Pilar\\\",\\\"basic\\\":\\\"Enkel\\\",\\\"delimiters\\\":\\\"Skiljetecken\\\",\\\"greek\\\":\\\"Grekiska\\\",\\\"miscellaneous\\\":\\\"Blandat\\\",\\\"operators\\\":\\\"Operatrer\\\",\\\"relationships\\\":\\\"Relationer\\\"}}},\\\"tr\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"Oklar\\\",\\\"basic\\\":\\\"Basit\\\",\\\"delimiters\\\":\\\"Ayralar\\\",\\\"greek\\\":\\\"Yunan\\\",\\\"miscellaneous\\\":\\\"eitli\\\",\\\"operators\\\":\\\"Operatrler\\\",\\\"relationships\\\":\\\"likiler\\\"}}},\\\"uk\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"zh-Hans\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}},\\\"zh-Hant\\\":{\\\"mathquill\\\":{\\\"tabs\\\":{\\\"arrows\\\":\\\"\\\",\\\"basic\\\":\\\"\\\",\\\"delimiters\\\":\\\"\\\",\\\"greek\\\":\\\"\\\",\\\"miscellaneous\\\":\\\"\\\",\\\"operators\\\":\\\"\\\",\\\"relationships\\\":\\\"\\\"}}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/mathquill';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('mathquill');\n  ","/*\n * Copyright (C) 2011 - present Instructure, Inc.\n *\n * This file is part of Canvas.\n *\n * Canvas is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, version 3 of the License.\n *\n * Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n * details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Instructure tweaks/additions:\n *  * wysiwyg toolbar and misc fixes, i.e. https://github.com/jenseng/mathquill/tree/fancyeditor2\n *  * AMD-ified\n *  * I18n'd toolbar tabs\n */\n\n// xsslint jqueryObject.identifier contents textareaSpan\n// xsslint jqueryObject.property jQ\n\n/**\n * Copyleft 2010-2011 Jay and Han (laughinghan@gmail.com)\n *   under the GNU Lesser General Public License\n *     http://www.gnu.org/licenses/lgpl.html\n * Project Website: http://mathquill.com\n */\nimport I18n from 'i18n!mathquill'\nimport $ from 'jquery'\nimport htmlEscape from './str/htmlEscape'\n\n  var undefined,\n    _, //temp variable of prototypes\n    jQueryDataKey = '[[mathquill internal data]]',\n    min = Math.min,\n    max = Math.max;\n\n  /*************************************************\n   * Abstract base classes of blocks and commands.\n   ************************************************/\n\n  /**\n   * MathElement is the core Math DOM tree node prototype.\n   * Both MathBlock's and MathCommand's descend from it.\n   */\n  function MathElement(){}\n  _ = MathElement.prototype;\n  _.prev = 0;\n  _.next = 0;\n  _.parent = 0;\n  _.firstChild = 0;\n  _.lastChild = 0;\n  _.eachChild = function(fn) {\n    for (var child = this.firstChild; child; child = child.next)\n      if (fn.call(this, child) === false) break;\n\n    return this;\n  };\n  _.foldChildren = function(fold, fn) {\n    this.eachChild(function(child) {\n      fold = fn.call(this, fold, child);\n    });\n    return fold;\n  };\n  _.keydown = function(e) {\n    return this.parent.keydown(e);\n  };\n  _.textInput = function(ch) {\n    return this.parent.textInput(ch);\n  };\n\n  /**\n   * Commands and operators, like subscripts, exponents, or fractions.\n   * Descendant commands are organized into blocks.\n   * May be passed a MathFragment that's being replaced.\n   */\n  function MathCommand(){}\n  _ = MathCommand.prototype = new MathElement;\n  _.init = function(cmd, html_template, text_template, replacedFragment) {\n    var self = this; // minifier optimization\n\n    if (cmd) self.cmd = cmd;\n    if (html_template) self.html_template = html_template;\n    if (text_template) self.text_template = text_template;\n\n    self.jQ = $(self.html_template[0]).data(jQueryDataKey, {cmd: self});\n    self.initBlocks(replacedFragment);\n  };\n  _.initBlocks = function(replacedFragment) {\n    var self = this;\n    //single-block commands\n    if (self.html_template.length === 1) {\n      self.firstChild =\n      self.lastChild =\n      self.jQ.data(jQueryDataKey).block =\n        (replacedFragment && replacedFragment.blockify()) || new MathBlock;\n\n      self.firstChild.parent = self;\n      self.firstChild.jQ = self.jQ.append(self.firstChild.jQ);\n\n      return;\n    }\n    //otherwise, the succeeding elements of html_template should be child blocks\n    var newBlock, prev, num_blocks = self.html_template.length;\n    this.firstChild = newBlock = prev =\n      (replacedFragment && replacedFragment.blockify()) || new MathBlock;\n\n    newBlock.parent = self;\n    newBlock.jQ = $(self.html_template[1])\n      .data(jQueryDataKey, {block: newBlock})\n      .append(newBlock.jQ)\n      .appendTo(self.jQ);\n\n    newBlock.blur();\n\n    for (var i = 2; i < num_blocks; i += 1) {\n      newBlock = new MathBlock;\n      newBlock.parent = self;\n      newBlock.prev = prev;\n      prev.next = newBlock;\n      prev = newBlock;\n\n      newBlock.jQ = $(self.html_template[i])\n        .data(jQueryDataKey, {block: newBlock})\n        .appendTo(self.jQ);\n\n      newBlock.blur();\n    }\n    self.lastChild = newBlock;\n  };\n  _.latex = function() {\n    return this.foldChildren(this.cmd, (latex, child) => latex + '{' + (child.latex() || ' ') + '}');\n  };\n  _.text_template = [''];\n  _.text = function() {\n    var i = 0;\n    return this.foldChildren(this.text_template[i], function(text, child) {\n      i += 1;\n      var child_text = child.text();\n      if (text && this.text_template[i] === '('\n          && child_text[0] === '(' && child_text.slice(-1) === ')')\n        return text + child_text.slice(1, -1) + this.text_template[i];\n      return text + child.text() + (this.text_template[i] || '');\n    });\n  };\n  _.insertAt = function(cursor) {\n    var cmd = this;\n\n    cmd.parent = cursor.parent;\n    cmd.next = cursor.next;\n    cmd.prev = cursor.prev;\n\n    if (cursor.prev)\n      cursor.prev.next = cmd;\n    else\n      cursor.parent.firstChild = cmd;\n\n    if (cursor.next)\n      cursor.next.prev = cmd;\n    else\n      cursor.parent.lastChild = cmd;\n\n    cursor.prev = cmd;\n\n    cmd.jQ.insertBefore(cursor.jQ);\n\n    //adjust context-sensitive spacing\n    cmd.respace();\n    if (cmd.next)\n      cmd.next.respace();\n    if (cmd.prev)\n      cmd.prev.respace();\n\n    cmd.placeCursor(cursor);\n\n    cursor.redraw(); //this will soon be cmd.trigger('redraw')\n  };\n  _.respace = $.noop; //placeholder for context-sensitive spacing\n  _.placeCursor = function(cursor) {\n    //append the cursor to the first empty child, or if none empty, the last one\n    cursor.appendTo(this.foldChildren(this.firstChild, (prev, child) => prev.isEmpty() ? prev : child));\n  };\n  _.isEmpty = function() {\n    return this.foldChildren(true, (isEmpty, child) => isEmpty && child.isEmpty());\n  };\n  _.remove = function() {\n    var self = this,\n        prev = self.prev,\n        next = self.next,\n        parent = self.parent;\n\n    if (prev)\n      prev.next = next;\n    else\n      parent.firstChild = next;\n\n    if (next)\n      next.prev = prev;\n    else\n      parent.lastChild = prev;\n\n    self.jQ.remove();\n\n    return self;\n  };\n\n  /**\n   * Lightweight command without blocks or children.\n   */\n  function Symbol(cmd, html, text) {\n    this.init(cmd, [ html ],\n      [ text || (cmd && cmd.length > 1 ? cmd.slice(1) : cmd) ]);\n  }\n  _ = Symbol.prototype = new MathCommand;\n  _.initBlocks = $.noop;\n  _.latex = function(){ return this.cmd; };\n  _.text = function(){ return this.text_template; };\n  _.placeCursor = $.noop;\n  _.isEmpty = function(){ return true; };\n\n  /**\n   * Children and parent of MathCommand's. Basically partitions all the\n   * symbols and operators that descend (in the Math DOM tree) from\n   * ancestor operators.\n   */\n  function MathBlock(){}\n  _ = MathBlock.prototype = new MathElement;\n  _.latex = function() {\n    return this.foldChildren('', (latex, child) => latex + child.latex());\n  };\n  _.text = function() {\n    return this.firstChild === this.lastChild ?\n      this.firstChild.text() :\n      this.foldChildren('(', (text, child) => text + child.text()) + ')';\n  };\n  _.isEmpty = function() {\n    return this.firstChild === 0 && this.lastChild === 0;\n  };\n  _.focus = function() {\n    this.jQ.addClass('hasCursor');\n    if (this.isEmpty())\n      this.jQ.removeClass('empty');\n\n    return this;\n  };\n  _.blur = function() {\n    this.jQ.removeClass('hasCursor');\n    if (this.isEmpty())\n      this.jQ.addClass('empty');\n\n    return this;\n  };\n\n  /**\n   * An entity outside the Math DOM tree with one-way pointers (so it's only\n   * a \"view\" of part of the tree, not an actual node/entity in the tree)\n   * that delimit a list of symbols and operators.\n   */\n  function MathFragment(parent, prev, next) {\n    if (!arguments.length) return;\n\n    var self = this;\n\n    self.parent = parent;\n    self.prev = prev || 0; //so you can do 'new MathFragment(block)' without\n    self.next = next || 0; //ending up with this.prev or this.next === undefined\n\n    self.jQinit(self.fold($(), (jQ, child) => child.jQ.add(jQ)));\n  }\n  _ = MathFragment.prototype;\n  _.remove = MathCommand.prototype.remove;\n  _.jQinit = function(children) {\n    this.jQ = children;\n  };\n  _.each = function(fn) {\n    for (var el = this.prev.next || this.parent.firstChild; el !== this.next; el = el.next)\n      if (fn.call(this, el) === false) break;\n\n    return this;\n  };\n  _.fold = function(fold, fn) {\n    this.each(function(el) {\n      fold = fn.call(this, fold, el);\n    });\n    return fold;\n  };\n  _.latex = function() {\n    return this.fold('', (latex, el) => latex + el.latex());\n  };\n  _.blockify = function() {\n    var self = this,\n        prev = self.prev,\n        next = self.next,\n        parent = self.parent,\n        newBlock = new MathBlock,\n        newFirstChild = newBlock.firstChild = prev.next || parent.firstChild,\n        newLastChild = newBlock.lastChild = next.prev || parent.lastChild;\n\n    if (prev)\n      prev.next = next;\n    else\n      parent.firstChild = next;\n\n    if (next)\n      next.prev = prev;\n    else\n      parent.lastChild = prev;\n\n    newFirstChild.prev = self.prev = 0;\n    newLastChild.next = self.next = 0;\n\n    self.parent = newBlock;\n    self.each(el => { el.parent = newBlock; });\n\n    newBlock.jQ = self.jQ;\n\n    return newBlock;\n  };\n\n  /*********************************************\n   * Root math elements with event delegation.\n   ********************************************/\n\n  function createRoot(jQ, root, textbox, editable, include_toolbar) {\n    var contents = jQ.contents().detach();\n\n    if (!textbox)\n      jQ.addClass('mathquill-rendered-math');\n\n    root.jQ = jQ.data(jQueryDataKey, {\n      block: root,\n      revert: function() {\n        jQ.empty().unbind('.mathquill')\n          .removeClass('mathquill-rendered-math mathquill-editable mathquill-textbox mathquill-editor')\n          .append(contents);\n      }\n    });\n\n    var cursor = root.cursor = new Cursor(root);\n\n    root.renderLatex(contents.text());\n\n    //textarea stuff\n    var textareaSpan = root.textarea = $('<span class=\"textarea\"><textarea></textarea></span>'),\n      textarea = textareaSpan.children();\n    if (include_toolbar)\n      addToolbar(root, jQ);\n\n    var textareaSelectionTimeout;\n    root.selectionChanged = function() {\n      if (textareaSelectionTimeout === undefined)\n        textareaSelectionTimeout = setTimeout(setTextareaSelection);\n      forceIERedraw(jQ[0]);\n    };\n    function setTextareaSelection() {\n      textareaSelectionTimeout = undefined;\n      var latex = cursor.selection ? '$'+cursor.selection.latex()+'$' : '';\n      textarea.val(latex);\n      if (latex) {\n        if (textarea[0].select)\n          textarea[0].select();\n        else if (document.selection) {\n          var range = textarea[0].createTextRange();\n          range.expand('textedit');\n          range.select();\n        }\n      }\n    };\n\n    //prevent native selection except textarea\n    jQ.bind('selectstart.mathquill', e => {\n      if (e.target !== textarea[0])\n        e.preventDefault();\n      e.stopPropagation();\n    });\n\n    //drag-to-select event handling\n    var anticursor, blink = cursor.blink;\n    jQ.bind('mousedown.mathquill', e => {\n      cursor.blink = $.noop;\n      cursor.seek($(e.target), e.pageX, e.pageY);\n\n      anticursor = new MathFragment(cursor.parent, cursor.prev, cursor.next);\n\n      if (!editable)\n        jQ.prepend(textareaSpan);\n\n      jQ.mousemove(mousemove);\n      $(document).mousemove(docmousemove).mouseup(mouseup);\n\n      e.stopPropagation();\n    });\n    function mousemove(e) {\n      cursor.seek($(e.target), e.pageX, e.pageY);\n\n      if (cursor.prev !== anticursor.prev\n          || cursor.parent !== anticursor.parent)\n        cursor.selectFrom(anticursor);\n\n      return false;\n    }\n    function docmousemove(e) {\n      delete e.target;\n      return mousemove(e);\n    }\n    function mouseup(e) {\n      anticursor = undefined;\n      cursor.blink = blink;\n      if (!cursor.selection) {\n        if (editable)\n          cursor.show();\n        else\n          textareaSpan.detach();\n      }\n      jQ.unbind('mousemove', mousemove);\n      $(document).unbind('mousemove', docmousemove).unbind('mouseup', mouseup);\n    }\n\n    if (!editable) {\n      jQ.bind('cut paste', false).bind('copy', setTextareaSelection)\n        .prepend('<span class=\"selectable\">$'+htmlEscape(root.latex())+'$</span>');\n      textarea.blur(() => {\n        cursor.clearSelection();\n        setTimeout(function detach() {\n          textareaSpan.detach();\n        }); //detaching during blur explodes in WebKit\n      });\n\n      return;\n    }\n\n    jQ.prepend(textareaSpan);\n\n    //root CSS classes\n    jQ.addClass('mathquill-editable');\n    if (textbox)\n      jQ.addClass('mathquill-textbox');\n\n    //focus and blur handling\n    textarea.focus(e => {\n      if (!cursor.parent)\n        cursor.appendTo(root);\n      cursor.parent.jQ.addClass('hasCursor');\n      if (cursor.selection) {\n        cursor.selection.jQ.removeClass('blur');\n        setTimeout(root.selectionChanged); //select textarea after focus\n      }\n      else\n        cursor.show();\n      e.stopPropagation();\n    }).blur(e => {\n      cursor.hide().parent.blur();\n      if (cursor.selection)\n        cursor.selection.jQ.addClass('blur');\n      e.stopPropagation();\n    });\n\n    jQ.bind('focus.mathquill blur.mathquill', e => {\n      textarea.trigger(e);\n    }).bind('mousedown.mathquill', () => {\n      setTimeout(focus);\n    }).bind('click.mathquill', focus) //stupid Mobile Safari\n    .blur();\n    function focus() {\n      textarea.focus();\n    }\n\n    //clipboard event handling\n    jQ.bind('cut', e => {\n      setTextareaSelection();\n      if (cursor.selection)\n        setTimeout(() => { cursor.deleteSelection(); cursor.redraw(); });\n      e.stopPropagation();\n    }).bind('copy', e => {\n      setTextareaSelection();\n      skipTextInput = true;\n      e.stopPropagation();\n    }).bind('paste', e => {\n      skipTextInput = true;\n      setTimeout(paste);\n      e.stopPropagation();\n    });\n    function paste() {\n      //FIXME HACK the parser in RootTextBlock needs to be moved to\n      //Cursor::writeLatex or something so this'll work with MathQuill textboxes\n      var latex = textarea.val();\n      if (latex.slice(0,1) === '$' && latex.slice(-1) === '$')\n        latex = latex.slice(1, -1);\n      else if (!latex.match(/^\\\\/)) // make it text if it doesn't look like latex\n        latex = '\\\\text{' + latex + '}';\n      cursor.writeLatex(latex).show();\n      textarea.val('');\n    }\n\n    //keyboard events and text input, see Wiki page \"Keyboard Events\"\n    var lastKeydn, lastKeydnHappened, lastKeypressWhich, skipTextInput = false;\n    jQ.bind('keydown.mathquill', e => {\n      lastKeydn = e;\n      lastKeydnHappened = true;\n      if (cursor.parent.keydown(e) === false)\n        e.preventDefault();\n    }).bind('keypress.mathquill', e => {\n      if (lastKeydnHappened)\n        lastKeydnHappened = false;\n      else {\n        //there's two ways keypress might be triggered without a keydown happening first:\n        if (lastKeypressWhich !== e.which)\n          //all browsers do that if this textarea is given focus during the keydown of\n          //a different focusable element, i.e. by that element's keydown event handler.\n          //No way of knowing original keydown, so ignore this keypress\n          return;\n        else\n          //some browsers do that when auto-repeating key events, replay the keydown\n          cursor.parent.keydown(lastKeydn);\n      }\n      lastKeypressWhich = e.which;\n\n      if (textareaSelectionTimeout !== undefined)\n        clearTimeout(textareaSelectionTimeout);\n\n      //after keypress event, trigger virtual textInput event if text was\n      //input to textarea\n      skipTextInput = false;\n      setTimeout(textInput);\n    });\n\n    function textInput() {\n      if (skipTextInput) return;\n      var text = textarea.val();\n      if (text) {\n        textarea.val('');\n        for (var i = 0; i < text.length; i += 1) {\n          cursor.parent.textInput(text.charAt(i));\n        }\n      }\n      else {\n        if (cursor.selection || textareaSelectionTimeout !== undefined)\n          setTextareaSelection();\n      }\n    }\n  }\n\n  function addToolbar(root, jQ) {\n    // the button groups include most LatexCmds, de-duped and categorized.\n    // functions like \"log\" are excluded, since we have some fu to auto-convert\n    // them as they are typed (i.e. you can just type \"log\", don't need the \\ )\n    var button_tabs = [\n      { name: I18n.t('tabs.basic', 'Basic'),\n        example: '+',\n        button_groups: [\n          [\"subscript\", \"supscript\", \"frac\", \"sqrt\", \"nthroot\", \"langle\", \"binomial\", \"vector\", \"f\", \"prime\"],\n          [\"+\", \"-\", \"pm\", \"mp\", \"cdot\", \"=\", \"times\", \"div\", \"ast\"],\n          [\"therefore\", \"because\"],\n          [\"sum\", \"prod\", \"coprod\", \"int\"],\n          [\"N\", \"P\", \"Z\", \"Q\", \"R\", \"C\", \"H\"]\n        ]},\n      { name: I18n.t('tabs.greek', 'Greek'),\n        example: '',\n        button_groups: [\n          [\"alpha\", \"beta\", \"gamma\", \"delta\", \"epsilon\", \"zeta\", \"eta\", \"theta\", \"iota\", \"kappa\", \"lambda\", \"mu\", \"nu\", \"xi\", \"pi\", \"rho\", \"sigma\", \"tau\", \"upsilon\", \"phi\", \"chi\", \"psi\", \"omega\"],\n          [\"digamma\", \"varepsilon\", \"vartheta\", \"varkappa\", \"varpi\", \"varrho\", \"varsigma\", \"varphi\"],\n          [\"Gamma\", \"Delta\", \"Theta\", \"Lambda\", \"Xi\", \"Pi\", \"Sigma\", \"Upsilon\", \"Phi\", \"Psi\", \"Omega\"]\n        ]},\n      { name: I18n.t('tabs.operators', 'Operators'),\n        example: '',\n        button_groups: [[\"wedge\", \"vee\", \"cup\", \"cap\", \"diamond\", \"bigtriangleup\", \"ominus\", \"uplus\", \"otimes\", \"oplus\", \"bigtriangledown\", \"sqcap\", \"triangleleft\", \"sqcup\", \"triangleright\", \"odot\", \"bigcirc\", \"dagger\", \"ddagger\", \"wr\", \"amalg\"]\n        ]},\n      { name: I18n.t('tabs.relationships', 'Relationships'),\n        example: '',\n        button_groups: [[\"<\", \">\", \"equiv\", \"cong\", \"sim\", \"notin\", \"ne\", \"propto\", \"approx\", \"le\", \"ge\", \"in\", \"ni\", \"notni\", \"subset\", \"supset\", \"notsubset\", \"notsupset\", \"subseteq\", \"supseteq\", \"notsubseteq\", \"notsupseteq\", \"models\", \"prec\", \"succ\", \"preceq\", \"succeq\", \"simeq\", \"mid\", \"ll\", \"gg\", \"parallel\", \"bowtie\", \"sqsubset\", \"sqsupset\", \"smile\", \"sqsubseteq\", \"sqsupseteq\", \"doteq\", \"frown\", \"vdash\", \"dashv\", \"exists\", \"varnothing\"]\n        ]},\n      { name: I18n.t('tabs.arrows', 'Arrows'),\n        example: '',\n        button_groups: [[\"longleftarrow\", \"longrightarrow\", \"Longleftarrow\", \"Longrightarrow\", \"longleftrightarrow\", \"updownarrow\", \"Longleftrightarrow\", \"Updownarrow\", \"mapsto\", \"nearrow\", \"hookleftarrow\", \"hookrightarrow\", \"searrow\", \"leftharpoonup\", \"rightharpoonup\", \"swarrow\", \"leftharpoondown\", \"rightharpoondown\", \"nwarrow\", \"downarrow\", \"Downarrow\", \"uparrow\", \"Uparrow\", \"rightarrow\", \"Rightarrow\", \"leftarrow\", \"lArr\", \"leftrightarrow\", \"Leftrightarrow\"]\n        ]},\n      { name: I18n.t('tabs.delimiters', 'Delimiters'),\n        example: '{',\n        button_groups: [[\"lfloor\", \"rfloor\", \"lceil\", \"rceil\", \"slash\", \"lbrace\", \"rbrace\"]\n        ]},\n      { name: I18n.t('tabs.miscellaneous', 'Misc'),\n        example: '',\n        button_groups: [[\"forall\", \"ldots\", \"cdots\", \"vdots\", \"ddots\", \"surd\", \"triangle\", \"ell\", \"top\", \"flat\", \"natural\", \"sharp\", \"wp\", \"bot\", \"clubsuit\", \"diamondsuit\", \"heartsuit\", \"spadesuit\", \"caret\", \"underscore\", \"backslash\", \"vert\", \"perp\", \"nabla\", \"hbar\", \"AA\", \"circ\", \"bullet\", \"setminus\", \"neg\", \"dots\", \"Re\", \"Im\", \"partial\", \"infty\", \"aleph\", \"deg\", \"angle\"]\n        ]}\n    ];\n\n    //some html_templates aren't very pretty/useful, so we override them.\n    var html_template_overrides = {\n      binomial: '<span style=\"font-size: 0.48em\"><span class=\"paren\" style=\"font-size: 2.087912087912088em; \">(</span><span class=\"array\"><span><var>n</var></span><span><var>m</var></span></span><span class=\"paren\" style=\"font-size: 2.087912087912088em; \">)</span></span>',\n      frac: '<span style=\"font-size: 0.55em; vertical-align: middle\" class=\"fraction\"><span class=\"numerator\"><var>n</var></span><span class=\"denominator\"><var>m</var></span><span style=\"width:0\"></span></span>',\n      sqrt: '<span class=\"block\"><span class=\"sqrt-prefix\">&radic;</span><span class=\"sqrt-stem\">&nbsp;</span></span>',\n      nthroot: '<span style=\"font-size: 0.7em\"><sup class=\"nthroot\"><var>n</var></sup><span class=\"block\"><span class=\"sqrt-prefix\">&radic;</span><span class=\"sqrt-stem\">&nbsp;</span></span></span>',\n      supscript: '<sup style=\"font-size: 0.6em\">sup</sup>',\n      subscript: '<sub style=\"font-size: 0.6em; line-height: 3.5;\">sub</sub>',\n      vector: '<span class=\"array\" style=\"vertical-align: middle; font-size: 0.4em; line-height: 0.9em\"><span>1</span><span>2</span><span>3</span></span>'\n    }\n\n    var tabs = [];\n    var panes = [];\n    $.each(button_tabs, (index, tab) => {\n      tabs.push(\n        '<li><a href=\"#' + htmlEscape(tab.name) + '_tab\" role=\"tab\" tabindex=\"-1\" aria-controls=\"' + htmlEscape(tab.name) + '_tab\">'\n        + '  <span class=\"mathquill-rendered-math\">' + htmlEscape(tab.example) + '</span>' + htmlEscape(tab.name) + '</a></li>'\n      );\n      var buttons = [];\n      $.each(tab.button_groups, (index, group) => {\n        $.each(group, (index, cmd) => {\n          var obj = new LatexCmds[cmd](undefined, cmd);\n           buttons.push('<li><a class=\"mathquill-rendered-math\" href=\"#\" title=\"' + htmlEscape(cmd.match(/^[a-z]+$/i) ? '\\\\' + cmd : cmd) + '\">' +\n                       $.raw(html_template_overrides[cmd] ? html_template_overrides[cmd] : '<span style=\"line-height: 1.5em\">' + $.raw(obj.html_template.join('')) + '</span>') +\n                       '</a></li>');\n        });\n        buttons.push('<li class=\"mathquill-button-spacer\"></li>');\n      });\n      panes.push('<div class=\"mathquill-tab-pane\" id=\"' + htmlEscape(tab.name) + '_tab\" role=\"tabpanel\"><ul>' + $.raw(buttons.join('')) + '</ul></div>');\n    });\n    root.toolbar = $('#mathquill-view .mathquill-toolbar').html('<ul class=\"mathquill-tab-bar\" role=\"tablist\">' + $.raw(tabs.join('')) + '</ul><div class=\"mathquill-toolbar-panes\">' + $.raw(panes.join('')) + '</div>');\n    $('#mathquill-view .mathquill-tab-bar li a').click(function(e) {\n      e.preventDefault();\n      $('#mathquill-view .mathquill-tab-bar li').removeClass('mathquill-tab-selected')\n        .find('a').attr('tabindex', '-1').attr('aria-selected', 'false');\n      $('#mathquill-view .mathquill-tab-pane').removeClass('mathquill-tab-pane-selected');\n      $(this).attr('tabindex', '0').attr('aria-selected', 'true').focus()\n        .parent().addClass('mathquill-tab-selected');\n      $(this.getAttribute('href')).addClass('mathquill-tab-pane-selected');\n    }).keydown(function (e) {\n      var direction, listIndex, $tabLinks;\n      switch (e.keyCode) {\n        case 37:\n          direction = 'l';\n          break;\n        case 39:\n          direction = 'r';\n          break;\n        default:\n          return true;\n      }\n      e.preventDefault();\n      $tabLinks = $('#mathquill-view .mathquill-tab-bar li a');\n      listIndex = $tabLinks.index(this);\n      if (listIndex === $tabLinks.length-1 && direction === 'r') {\n        listIndex = -1;\n      }\n      (direction === 'r') ? listIndex++ : listIndex--;\n      $($tabLinks.get(listIndex)).focus().click();\n    });\n    $('#mathquill-view .mathquill-tab-bar li:first-child a').click();\n    $('#mathquill-view a.mathquill-rendered-math').mousedown(e => {\n      e.stopPropagation();\n    }).click(function(){\n      root.cursor.writeLatex(this.title, true);\n      jQ.focus();\n    });\n  }\n\n  function RootMathBlock(){}\n  _ = RootMathBlock.prototype = new MathBlock;\n  _.latex = function() {\n    return MathBlock.prototype.latex.call(this).replace(/(\\\\[a-z]+) (?![a-z])/ig,'$1');\n  };\n  _.text = function() {\n    return this.foldChildren('', (text, child) => text + child.text());\n  };\n  _.renderLatex = function(latex) {\n    this.jQ.children().slice(1).remove();\n    this.firstChild = this.lastChild = 0;\n    this.cursor.appendTo(this).writeLatex(latex);\n    this.blur();\n  };\n  _.keydown = function(e)\n  {\n    e.ctrlKey = e.ctrlKey || e.metaKey;\n    switch ((e.originalEvent && e.originalEvent.keyIdentifier) || e.which) {\n    case 8: //backspace\n    case 'Backspace':\n    case 'U+0008':\n      if (e.ctrlKey)\n        while (this.cursor.prev || this.cursor.selection)\n          this.cursor.backspace();\n      else\n        this.cursor.backspace();\n      break;\n    case 27: //may as well be the same as tab until we figure out what to do with it\n    case 'Esc':\n    case 'U+001B':\n    case 9: //tab\n    case 'Tab':\n    case 'U+0009':\n      if (e.ctrlKey) break;\n\n      var parent = this.cursor.parent;\n      if (e.shiftKey) { //shift+Tab = go one block left if it exists, else escape left.\n        if (parent === this.cursor.root) //cursor is in root editable, continue default\n          return this.skipTextInput = true;\n        else if (parent.prev) //go one block left\n          this.cursor.appendTo(parent.prev);\n        else //get out of the block\n          this.cursor.insertBefore(parent.parent);\n      }\n      else { //plain Tab = go one block right if it exists, else escape right.\n        if (parent === this.cursor.root) //cursor is in root editable, continue default\n          return this.skipTextInput = true;\n        else if (parent.next) //go one block right\n          this.cursor.prependTo(parent.next);\n        else //get out of the block\n          this.cursor.insertAfter(parent.parent);\n      }\n\n      this.cursor.clearSelection();\n      break;\n    case 13: //enter\n    case 'Enter':\n      break;\n    case 35: //end\n    case 'End':\n      if (e.shiftKey)\n        while (this.cursor.next || (e.ctrlKey && this.cursor.parent !== this))\n          this.cursor.selectRight();\n      else //move to the end of the root block or the current block.\n        this.cursor.clearSelection().appendTo(e.ctrlKey ? this : this.cursor.parent);\n      break;\n    case 36: //home\n    case 'Home':\n      if (e.shiftKey)\n        while (this.cursor.prev || (e.ctrlKey && this.cursor.parent !== this))\n          this.cursor.selectLeft();\n      else //move to the start of the root block or the current block.\n        this.cursor.clearSelection().prependTo(e.ctrlKey ? this : this.cursor.parent);\n      break;\n    case 37: //left\n    case 'Left':\n      if (e.ctrlKey) break;\n\n      if (e.shiftKey)\n        this.cursor.selectLeft();\n      else\n        this.cursor.moveLeft();\n      break;\n    case 38: //up\n    case 'Up':\n      if (e.ctrlKey) break;\n\n      if (e.shiftKey) {\n        if (this.cursor.prev)\n          while (this.cursor.prev)\n            this.cursor.selectLeft();\n        else\n          this.cursor.selectLeft();\n      }\n      else if (this.cursor.parent.prev)\n        this.cursor.clearSelection().appendTo(this.cursor.parent.prev);\n      else if (this.cursor.prev)\n        this.cursor.clearSelection().prependTo(this.cursor.parent);\n      else if (this.cursor.parent !== this)\n        this.cursor.clearSelection().insertBefore(this.cursor.parent.parent);\n      break;\n    case 39: //right\n    case 'Right':\n      if (e.ctrlKey) break;\n\n      if (e.shiftKey)\n        this.cursor.selectRight();\n      else\n        this.cursor.moveRight();\n      break;\n    case 40: //down\n    case 'Down':\n      if (e.ctrlKey) break;\n\n      if (e.shiftKey) {\n        if (this.cursor.next)\n          while (this.cursor.next)\n            this.cursor.selectRight();\n        else\n          this.cursor.selectRight();\n      }\n      else if (this.cursor.parent.next)\n        this.cursor.clearSelection().prependTo(this.cursor.parent.next);\n      else if (this.cursor.next)\n        this.cursor.clearSelection().appendTo(this.cursor.parent);\n      else if (this.cursor.parent !== this)\n        this.cursor.clearSelection().insertAfter(this.cursor.parent.parent);\n      break;\n    case 46: //delete\n    case 'Del':\n    case 'U+007F':\n      if (e.ctrlKey)\n        while (this.cursor.next || this.cursor.selection)\n          this.cursor.deleteForward();\n      else\n        this.cursor.deleteForward();\n      break;\n    case 65: //the 'A' key, as in Ctrl+A Select All\n    case 'A':\n    case 'U+0041':\n      if (e.ctrlKey && !e.shiftKey && !e.altKey) {\n        if (this !== this.cursor.root) //so not stopPropagation'd at RootMathCommand\n          return this.parent.keydown(e);\n\n        this.cursor.clearSelection().appendTo(this);\n        while (this.cursor.prev)\n          this.cursor.selectLeft();\n        break;\n      }\n    default:\n      this.skipTextInput = false;\n      return true;\n    }\n    this.skipTextInput = true;\n    return false;\n  };\n  _.textInput = function(ch) {\n    if (!this.skipTextInput)\n      this.cursor.write(ch);\n  };\n\n  function RootMathCommand(cursor) {\n    this.init('$');\n    this.firstChild.cursor = cursor;\n    this.firstChild.textInput = function(ch) {\n      if (this.skipTextInput) return;\n\n      if (ch !== '$' || cursor.parent !== this)\n        cursor.write(ch);\n      else if (this.isEmpty()) {\n        cursor.insertAfter(this.parent).backspace()\n          .insertNew(new VanillaSymbol('\\\\$','$')).show();\n      }\n      else if (!cursor.next)\n        cursor.insertAfter(this.parent);\n      else if (!cursor.prev)\n        cursor.insertBefore(this.parent);\n      else\n        cursor.write(ch);\n    };\n  }\n  _ = RootMathCommand.prototype = new MathCommand;\n  _.html_template = ['<span class=\"mathquill-rendered-math\"></span>'];\n  _.initBlocks = function() {\n    this.firstChild =\n    this.lastChild =\n    this.jQ.data(jQueryDataKey).block =\n      new RootMathBlock;\n\n    this.firstChild.parent = this;\n    this.firstChild.jQ = this.jQ;\n  };\n  _.latex = function() {\n    return '$' + this.firstChild.latex() + '$';\n  };\n\n  function RootTextBlock(){}\n  _ = RootTextBlock.prototype = new MathBlock;\n  _.renderLatex = function(latex) {\n    var self = this, cursor = self.cursor;\n    self.jQ.children().slice(1).remove();\n    self.firstChild = self.lastChild = 0;\n    cursor.show().appendTo(self);\n\n    latex = latex.match(/(?:\\\\\\$|[^$])+|\\$(?:\\\\\\$|[^$])*\\$|\\$(?:\\\\\\$|[^$])*$/g) || '';\n    for (var i = 0; i < latex.length; i += 1) {\n      var chunk = latex[i];\n      if (chunk[0] === '$') {\n        if (chunk[-1+chunk.length] === '$' && chunk[-2+chunk.length] !== '\\\\')\n          chunk = chunk.slice(1, -1);\n        else\n          chunk = chunk.slice(1);\n\n        var root = new RootMathCommand(cursor);\n        cursor.insertNew(root);\n        root.firstChild.renderLatex(chunk);\n        cursor.show().insertAfter(root);\n      }\n      else {\n        for (var j = 0; j < chunk.length; j += 1)\n          this.cursor.insertNew(new VanillaSymbol(chunk[j]));\n      }\n    }\n  };\n  _.keydown = RootMathBlock.prototype.keydown;\n  _.textInput = function(ch) {\n    if (this.skipTextInput) return;\n\n    this.cursor.deleteSelection();\n    if (ch === '$')\n      this.cursor.insertNew(new RootMathCommand(this.cursor));\n    else\n      this.cursor.insertNew(new VanillaSymbol(ch));\n  };\n\n  /***************************\n   * Commands and Operators.\n   **************************/\n\n  var CharCmds = {}, LatexCmds = {}; //single character commands, LaTeX commands\n\n  var scale, // = function(jQ, x, y) { ... }\n  //will use a CSS 2D transform to scale the jQuery-wrapped HTML elements,\n  //or the filter matrix transform fallback for IE 5.5-8, or gracefully degrade to\n  //increasing the fontSize to match the vertical Y scaling factor.\n\n  //ideas from http://github.com/louisremi/jquery.transform.js\n  //see also http://msdn.microsoft.com/en-us/library/ms533014(v=vs.85).aspx\n\n    forceIERedraw = $.noop,\n    div = document.createElement('div'),\n    div_style = div.style,\n    transformPropNames = {\n      transform:1,\n      WebkitTransform:1,\n      MozTransform:1,\n      OTransform:1,\n      msTransform:1\n    },\n    transformPropName;\n\n  for (var prop in transformPropNames) {\n    if (prop in div_style) {\n      transformPropName = prop;\n      break;\n    }\n  }\n\n  if (transformPropName) {\n    scale = function(jQ, x, y) {\n      jQ.css(transformPropName, 'scale('+x+','+y+')');\n    };\n  }\n  else if ('filter' in div_style) { //IE 6, 7, & 8 fallback, see https://github.com/laughinghan/mathquill/wiki/Transforms\n    forceIERedraw = function(el){ el.className = el.className; };\n    scale = function(jQ, x, y) { //NOTE: assumes y > x\n      x /= (1+(y-1)/2);\n      jQ.addClass('matrixed').css({\n        fontSize: y + 'em',\n        marginTop: '-.1em',\n        filter: 'progid:DXImageTransform.Microsoft'\n          + '.Matrix(M11=' + x + \",SizingMethod='auto expand')\"\n      });\n      function calculateMarginRight() {\n        jQ.css('marginRight', (1+jQ.width())*(x-1)/x + 'px');\n      }\n      calculateMarginRight();\n      var intervalId = setInterval(calculateMarginRight);\n      $(window).load(() => {\n        clearTimeout(intervalId);\n        calculateMarginRight();\n      });\n    };\n  }\n  else {\n    scale = function(jQ, x, y) {\n      jQ.css('fontSize', y + 'em');\n    };\n  }\n\n  function proto(parent, child) { //shorthand for prototyping\n    child.prototype = parent.prototype;\n    return child;\n  }\n\n  function bind(cons) { //shorthand for binding arguments to constructor\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    return proto(cons, function() {\n      cons.apply(this, Array.prototype.concat.apply(args, arguments));\n    });\n  }\n\n  //because I miss the <font> tag\n  //(that's a joke, I hate this, it's like actively *fighting*\n  // separation of presentation and content and everything HTML and CSS\n  // are about, but it's an intrinsic problem with WYSIWYG)\n  //TODO: WYSIWYM?\n  function Style(cmd, html_template, replacedFragment) {\n    this.init(cmd, [ html_template ], undefined, replacedFragment);\n  }\n  proto(MathCommand, Style);\n  //fonts\n  LatexCmds.mathrm = bind(Style, '\\\\mathrm', '<span class=\"roman font\"></span>');\n  LatexCmds.mathit = bind(Style, '\\\\mathit', '<i class=\"font\"></i>');\n  LatexCmds.mathbf = bind(Style, '\\\\mathbf', '<b class=\"font\"></b>');\n  LatexCmds.mathsf = bind(Style, '\\\\mathsf', '<span class=\"sans-serif font\"></span>');\n  LatexCmds.mathtt = bind(Style, '\\\\mathtt', '<span class=\"monospace font\"></span>');\n  //text-decoration\n  LatexCmds.underline = bind(Style, '\\\\underline', '<span class=\"underline\"></span>');\n  LatexCmds.overline = LatexCmds.bar = bind(Style, '\\\\overline', '<span class=\"overline\"></span>');\n\n  function SupSub(cmd, html, text, replacedFragment) {\n    this.init(cmd, [ html ], [ text ], replacedFragment);\n  }\n  _ = SupSub.prototype = new MathCommand;\n  _.latex = function() {\n    var latex = this.firstChild.latex();\n    if (latex.length === 1)\n      return this.cmd + latex;\n    else\n      return this.cmd + '{' + (latex || ' ') + '}';\n  };\n  _.redraw = function() {\n    if (this.prev)\n      this.prev.respace();\n    //SupSub::respace recursively calls respace on all the following SupSubs\n    //so if prev is a SupSub, no need to call respace on this or following nodes\n    if (!(this.prev instanceof SupSub)) {\n      this.respace();\n      //and if next is a SupSub, then this.respace() will have already called\n      //this.next.respace()\n      if (this.next && !(this.next instanceof SupSub))\n        this.next.respace();\n    }\n  };\n  _.respace = function() {\n    if (\n      this.prev.cmd === '\\\\int ' || (\n        this.prev instanceof SupSub && this.prev.cmd != this.cmd\n        && this.prev.prev && this.prev.prev.cmd === '\\\\int '\n      )\n    ) {\n      if (!this.limit) {\n        this.limit = true;\n        this.jQ.addClass('limit');\n      }\n    }\n    else {\n      if (this.limit) {\n        this.limit = false;\n        this.jQ.removeClass('limit');\n      }\n    }\n\n    this.respaced = this.prev instanceof SupSub && this.prev.cmd != this.cmd && !this.prev.respaced;\n    if (this.respaced) {\n      var fontSize = +this.jQ.css('fontSize').slice(0,-2),\n        prevWidth = this.prev.jQ.outerWidth(),\n        thisWidth = this.jQ.outerWidth();\n      this.jQ.css({\n        left: (this.limit && this.cmd === '_' ? -.25 : 0) - prevWidth/fontSize + 'em',\n        marginRight: .1 - min(thisWidth, prevWidth)/fontSize + 'em'\n          //1px extra so it doesn't wrap in retarded browsers (Firefox 2, I think)\n      });\n    }\n    else if (this.limit && this.cmd === '_') {\n      this.jQ.css({\n        left: '-.25em',\n        marginRight: ''\n      });\n    }\n    else {\n      this.jQ.css({\n        left: '',\n        marginRight: ''\n      });\n    }\n\n    if (this.next instanceof SupSub)\n      this.next.respace();\n\n    return this;\n  };\n\n  LatexCmds.subscript = LatexCmds._ = proto(SupSub, function(replacedFragment) {\n    SupSub.call(this, '_', '<sub></sub>', '_', replacedFragment);\n  });\n\n  LatexCmds.superscript =\n  LatexCmds.supscript =\n  LatexCmds['^'] = proto(SupSub, function(replacedFragment) {\n    SupSub.call(this, '^', '<sup></sup>', '**', replacedFragment);\n  });\n\n  function Fraction(replacedFragment) {\n    this.init('\\\\frac', undefined, undefined, replacedFragment);\n    this.jQ.append('<span style=\"display:inline-block;width:0\">&nbsp;</span>');\n  }\n  _ = Fraction.prototype = new MathCommand;\n  _.html_template = [\n    '<span class=\"fraction\"></span>',\n    '<span class=\"numerator\"></span>',\n    '<span class=\"denominator\"></span>'\n  ];\n  _.text_template = ['(', '/', ')'];\n\n  LatexCmds.frac = LatexCmds.dfrac = LatexCmds.cfrac = LatexCmds.fraction = Fraction;\n\n  function LiveFraction() {\n    Fraction.apply(this, arguments);\n  }\n  _ = LiveFraction.prototype = new Fraction;\n  _.placeCursor = function(cursor) { //TODO: better architecture so this can be done more cleanly, highjacking MathCommand::placeCursor doesn't seem like the right place to do this\n    if (this.firstChild.isEmpty()) {\n      var prev = this.prev;\n      while (prev &&\n        !(\n          prev instanceof BinaryOperator ||\n          prev instanceof TextBlock ||\n          prev instanceof BigSymbol\n        ) //lookbehind for operator\n      )\n        prev = prev.prev;\n\n      if (prev instanceof BigSymbol && prev.next instanceof SupSub) {\n        prev = prev.next;\n        if (prev.next instanceof SupSub && prev.next.cmd != prev.cmd)\n          prev = prev.next;\n      }\n\n      if (prev !== this.prev) { //FIXME: major Law of Demeter violation, shouldn't know here that MathCommand::initBlocks does some initialization that MathFragment::blockify doesn't\n        var newBlock = new MathFragment(this.parent, prev, this).blockify();\n        newBlock.jQ = this.firstChild.jQ.empty().removeClass('empty').append(newBlock.jQ).data(jQueryDataKey, { block: newBlock });\n        newBlock.next = this.lastChild;\n        newBlock.parent = this;\n        this.firstChild = this.lastChild.prev = newBlock;\n      }\n    }\n    cursor.appendTo(this.lastChild);\n  };\n\n  LatexCmds.over = CharCmds['/'] = LiveFraction;\n\n  function SquareRoot(replacedFragment) {\n    this.init('\\\\sqrt', undefined, undefined, replacedFragment);\n  }\n  _ = SquareRoot.prototype = new MathCommand;\n  _.html_template = [\n    '<span class=\"block\"><span class=\"sqrt-prefix\">&radic;</span></span>',\n    '<span class=\"sqrt-stem\"></span>'\n  ];\n  _.text_template = ['sqrt(', ')'];\n  _.redraw = function() {\n    var block = this.lastChild.jQ;\n    scale(block.prev(), 1, block.innerHeight()/+block.css('fontSize').slice(0,-2) - .1);\n  };\n  _.optional_arg_command = 'nthroot';\n\n  LatexCmds.sqrt = LatexCmds[''] = SquareRoot;\n\n  function NthRoot(replacedFragment) {\n    SquareRoot.call(this, replacedFragment);\n    this.jQ = this.firstChild.jQ.detach().add(this.jQ);\n  }\n  _ = NthRoot.prototype = new SquareRoot;\n  _.html_template = [\n    '<span class=\"block\"><span class=\"sqrt-prefix\">&radic;</span></span>',\n    '<sup class=\"nthroot\"></sup>',\n    '<span class=\"sqrt-stem\"></span>'\n  ];\n  _.text_template = ['sqrt[', '](', ')'];\n  _.latex = function() {\n    return '\\\\sqrt['+this.firstChild.latex()+']{'+this.lastChild.latex()+'}';\n  };\n\n  LatexCmds.nthroot = NthRoot;\n\n  // Round/Square/Curly/Angle Brackets (aka Parens/Brackets/Braces)\n  function Bracket(open, close, cmd, end, replacedFragment) {\n    this.init('\\\\left'+cmd,\n      ['<span class=\"block\"><span class=\"paren\">'+htmlEscape(open)+'</span><span class=\"block\"></span><span class=\"paren\">'+htmlEscape(close)+'</span></span>'],\n      [open, close],\n      replacedFragment);\n    this.end = '\\\\right'+end;\n  }\n  _ = Bracket.prototype = new MathCommand;\n  _.initBlocks = function(replacedFragment) { //FIXME: possible Law of Demeter violation, hardcore MathCommand::initBlocks knowledge needed here\n    this.firstChild = this.lastChild =\n      (replacedFragment && replacedFragment.blockify()) || new MathBlock;\n    this.firstChild.parent = this;\n    this.firstChild.jQ = this.jQ.children(':eq(1)')\n      .data(jQueryDataKey, {block: this.firstChild})\n      .append(this.firstChild.jQ);\n\n    var block = this.blockjQ = this.firstChild.jQ;\n    this.bracketjQs = block.prev().add(block.next());\n  };\n  _.latex = function() {\n    return this.cmd + this.firstChild.latex() + this.end;\n  };\n  _.redraw = function() {\n    var height = this.blockjQ.outerHeight()/+this.blockjQ.css('fontSize').slice(0,-2);\n    scale(this.bracketjQs, min(1 + .2*(height - 1), 1.2), 1.05*height);\n  };\n\n  CharCmds['{'] = proto(Bracket, function(replacedFragment) {\n    Bracket.call(this, '{', '}', '\\\\{', '\\\\}', replacedFragment);\n  });\n  LatexCmds.langle = LatexCmds.lang = proto(Bracket, function(replacedFragment) {\n    Bracket.call(this,'&lang;','&rang;','\\\\langle ','\\\\rangle ',replacedFragment);\n  });\n\n  // Closing bracket matching opening bracket above\n  function CloseBracket(open, close, cmd, end, replacedFragment) {\n    Bracket.apply(this, arguments);\n  }\n  _ = CloseBracket.prototype = new Bracket;\n  _.placeCursor = function(cursor) {\n    //if I'm at the end of my parent who is a matching open-paren, and I was not passed\n    //  a selection fragment, get rid of me and put cursor after my parent\n    if (!this.next && this.parent.parent && this.parent.parent.end === this.end && this.firstChild.isEmpty())\n      cursor.backspace().insertAfter(this.parent.parent);\n    else {\n      this.firstChild.blur();\n      this.redraw();\n    }\n  };\n\n  CharCmds['}'] = proto(CloseBracket, function(replacedFragment) {\n    CloseBracket.call(this, '{','}','\\\\{','\\\\}',replacedFragment);\n  });\n  LatexCmds.rangle = LatexCmds.rang = proto(CloseBracket, function(replacedFragment) {\n    CloseBracket.call(this,'&lang;','&rang;','\\\\langle ','\\\\rangle ',replacedFragment);\n  });\n\n  function Paren(open, close, replacedFragment) {\n    Bracket.call(this, open, close, open, close, replacedFragment);\n  }\n  Paren.prototype = Bracket.prototype;\n\n  LatexCmds.lparen = CharCmds['('] = proto(Paren, function(replacedFragment) {\n    Paren.call(this, '(', ')', replacedFragment);\n  });\n  LatexCmds.lbrack = LatexCmds.lbracket = CharCmds['['] = proto(Paren, function(replacedFragment) {\n    Paren.call(this, '[', ']', replacedFragment);\n  });\n\n  function CloseParen(open, close, replacedFragment) {\n    CloseBracket.call(this, open, close, open, close, replacedFragment);\n  }\n  CloseParen.prototype = CloseBracket.prototype;\n\n  LatexCmds.rparen = CharCmds[')'] = proto(CloseParen, function(replacedFragment) {\n    CloseParen.call(this, '(', ')', replacedFragment);\n  });\n  LatexCmds.rbrack = LatexCmds.rbracket = CharCmds[']'] = proto(CloseParen, function(replacedFragment) {\n    CloseParen.call(this, '[', ']', replacedFragment);\n  });\n\n  function Pipes(replacedFragment) {\n    Paren.call(this, '|', '|', replacedFragment);\n  }\n  _ = Pipes.prototype = new Paren;\n  _.placeCursor = function(cursor) {\n    if (!this.next && this.parent.parent && this.parent.parent.end === this.end && this.firstChild.isEmpty())\n      cursor.backspace().insertAfter(this.parent.parent);\n    else\n      cursor.appendTo(this.firstChild);\n  };\n\n  LatexCmds.lpipe = LatexCmds.rpipe = CharCmds['|'] = Pipes;\n\n  function TextBlock(replacedText) {\n    if (replacedText instanceof MathFragment)\n      this.replacedText = replacedText.remove().jQ.text();\n    else if (typeof replacedText === 'string')\n      this.replacedText = replacedText;\n\n    this.init();\n  }\n  _ = TextBlock.prototype = new MathCommand;\n  _.cmd = '\\\\text';\n  _.html_template = ['<span class=\"text\"></span>'];\n  _.text_template = ['\"', '\"'];\n  _.initBlocks = function() { //FIXME: another possible Law of Demeter violation, but this seems much cleaner, like it was supposed to be done this way\n    this.firstChild =\n    this.lastChild =\n    this.jQ.data(jQueryDataKey).block = new InnerTextBlock;\n\n    this.firstChild.parent = this;\n    this.firstChild.jQ = this.jQ.append(this.firstChild.jQ);\n  };\n  _.placeCursor = function(cursor) { //TODO: this should be done in the constructor that's passed replacedFragment, but you need the cursor to create new characters and insert them\n    (this.cursor = cursor).appendTo(this.firstChild);\n\n    if (this.replacedText)\n      for (var i = 0; i < this.replacedText.length; i += 1)\n        this.write(this.replacedText.charAt(i));\n  };\n  _.write = function(ch) {\n    this.cursor.insertNew(new VanillaSymbol(ch));\n  };\n  _.keydown = function(e) {\n    //backspace and delete and ends of block don't unwrap\n    if (!this.cursor.selection &&\n      (\n        (e.which === 8 && !this.cursor.prev) ||\n        (e.which === 46 && !this.cursor.next)\n      )\n    ) {\n      if (this.isEmpty())\n        this.cursor.insertAfter(this);\n      return false;\n    }\n    return this.parent.keydown(e);\n  };\n  _.textInput = function(ch) {\n    this.cursor.deleteSelection();\n    if (ch !== '$')\n      this.write(ch);\n    else if (this.isEmpty())\n      this.cursor.insertAfter(this).backspace().insertNew(new VanillaSymbol('\\\\$','$'));\n    else if (!this.cursor.next)\n      this.cursor.insertAfter(this);\n    else if (!this.cursor.prev)\n      this.cursor.insertBefore(this);\n    else { //split apart\n      var next = new TextBlock(new MathFragment(this.firstChild, this.cursor.prev));\n      next.placeCursor = function(cursor) { //FIXME HACK: pretend no prev so they don't get merged\n        this.prev = 0;\n        delete this.placeCursor;\n        this.placeCursor(cursor);\n      };\n      next.firstChild.focus = function(){ return this; };\n      this.cursor.insertAfter(this).insertNew(next);\n      next.prev = this;\n      this.cursor.insertBefore(next);\n      delete next.firstChild.focus;\n    }\n  };\n  function InnerTextBlock(){}\n  _ = InnerTextBlock.prototype = new MathBlock;\n  _.blur = function() {\n    this.jQ.removeClass('hasCursor');\n    if (this.isEmpty()) {\n      var textblock = this.parent, cursor = textblock.cursor;\n      if (cursor.parent === this)\n        this.jQ.addClass('empty');\n      else {\n        cursor.hide();\n        textblock.remove();\n        if (cursor.next === textblock)\n          cursor.next = textblock.next;\n        else if (cursor.prev === textblock)\n          cursor.prev = textblock.prev;\n\n        cursor.show().redraw();\n      }\n    }\n    return this;\n  };\n  _.focus = function() {\n    MathBlock.prototype.focus.call(this);\n\n    var textblock = this.parent;\n    if (textblock.next.cmd === textblock.cmd) { //TODO: seems like there should be a better way to move MathElements around\n      var innerblock = this,\n        cursor = textblock.cursor,\n        next = textblock.next.firstChild;\n\n      next.eachChild(child => {\n        child.parent = innerblock;\n        child.jQ.appendTo(innerblock.jQ);\n      });\n\n      if (this.lastChild)\n        this.lastChild.next = next.firstChild;\n      else\n        this.firstChild = next.firstChild;\n\n      next.firstChild.prev = this.lastChild;\n      this.lastChild = next.lastChild;\n\n      next.parent.remove();\n\n      if (cursor.prev)\n        cursor.insertAfter(cursor.prev);\n      else\n        cursor.prependTo(this);\n\n      cursor.redraw();\n    }\n    else if (textblock.prev.cmd === textblock.cmd) {\n      var cursor = textblock.cursor;\n      if (cursor.prev)\n        textblock.prev.firstChild.focus();\n      else\n        cursor.appendTo(textblock.prev.firstChild);\n    }\n    return this;\n  };\n\n  CharCmds.$ =\n  LatexCmds.text =\n  LatexCmds.textnormal =\n  LatexCmds.textrm =\n  LatexCmds.textup =\n  LatexCmds.textmd =\n    TextBlock;\n\n  function makeTextBlock(latex, html) {\n    function SomeTextBlock() {\n      TextBlock.apply(this, arguments);\n    }\n    _ = SomeTextBlock.prototype = new TextBlock;\n    _.cmd = latex;\n    _.html_template = [ html ];\n\n    return SomeTextBlock;\n  }\n\n  LatexCmds.em = LatexCmds.italic = LatexCmds.italics =\n  LatexCmds.emph = LatexCmds.textit = LatexCmds.textsl =\n    makeTextBlock('\\\\textit', '<i class=\"text\"></i>');\n  LatexCmds.strong = LatexCmds.bold = LatexCmds.textbf =\n    makeTextBlock('\\\\textbf', '<b class=\"text\"></b>');\n  LatexCmds.sf = LatexCmds.textsf =\n    makeTextBlock('\\\\textsf', '<span class=\"sans-serif text\"></span>');\n  LatexCmds.tt = LatexCmds.texttt =\n    makeTextBlock('\\\\texttt', '<span class=\"monospace text\"></span>');\n  LatexCmds.textsc =\n    makeTextBlock('\\\\textsc', '<span style=\"font-variant:small-caps\" class=\"text\"></span>');\n  LatexCmds.uppercase =\n    makeTextBlock('\\\\uppercase', '<span style=\"text-transform:uppercase\" class=\"text\"></span>');\n  LatexCmds.lowercase =\n    makeTextBlock('\\\\lowercase', '<span style=\"text-transform:lowercase\" class=\"text\"></span>');\n\n  // input box to type a variety of LaTeX commands beginning with a backslash\n  function LatexCommandInput(replacedFragment) {\n    this.init('\\\\');\n    if (replacedFragment) {\n      this.replacedFragment = replacedFragment.detach();\n      this.isEmpty = function(){ return false; };\n    }\n  }\n  _ = LatexCommandInput.prototype = new MathCommand;\n  _.html_template = ['<span class=\"latex-command-input\">\\\\</span>'];\n  _.text_template = ['\\\\'];\n  _.placeCursor = function(cursor) { //TODO: better architecture, better place for this to be done, and more cleanly\n    this.cursor = cursor.appendTo(this.firstChild);\n    if (this.replacedFragment)\n      this.jQ =\n        this.jQ.add(this.replacedFragment.jQ.addClass('blur').bind(\n          'mousedown mousemove', //FIXME: is monkey-patching the mousedown and mousemove handlers the right way to do this?\n          function(e) {\n            $(e.target = this.nextSibling).trigger(e);\n            return false;\n          }\n        ).insertBefore(this.jQ));\n  };\n  _.latex = function() {\n    return '\\\\' + this.firstChild.latex() + ' ';\n  };\n  _.keydown = function(e) {\n    if (e.which === 9 || e.which === 13) { //tab or enter\n      this.renderCommand();\n      return false;\n    }\n    return this.parent.keydown(e);\n  };\n  _.textInput = function(ch) {\n    if (ch.match(/[a-z:]/i)) {\n      this.cursor.deleteSelection();\n      this.cursor.insertNew(new VanillaSymbol(ch));\n      return;\n    }\n    this.renderCommand();\n    if (ch === ' ' || (ch === '\\\\' && this.firstChild.isEmpty()))\n      return;\n\n    this.cursor.parent.textInput(ch);\n  };\n  _.renderCommand = function() {\n    this.jQ = this.jQ.last();\n    this.remove();\n    if (this.next)\n      this.cursor.insertBefore(this.next);\n    else\n      this.cursor.appendTo(this.parent);\n\n    var latex = this.firstChild.latex();\n    if (latex)\n      this.cursor.insertCmd(latex, this.replacedFragment);\n    else {\n      var cmd = new VanillaSymbol('\\\\backslash ','\\\\');\n      this.cursor.insertNew(cmd);\n      if (this.replacedFragment)\n        this.replacedFragment.remove();\n    }\n  };\n\n  CharCmds['\\\\'] = LatexCommandInput;\n\n  function Binomial(replacedFragment) {\n    this.init('\\\\binom', undefined, undefined, replacedFragment);\n    this.jQ.wrapInner('<span class=\"array\"></span>');\n    this.blockjQ = this.jQ.children();\n    this.bracketjQs =\n      $('<span class=\"paren\">(</span>').prependTo(this.jQ)\n      .add( $('<span class=\"paren\">)</span>').appendTo(this.jQ) );\n  }\n  _ = Binomial.prototype = new MathCommand;\n  _.html_template =\n    ['<span class=\"block\"></span>', '<span></span>', '<span></span>'];\n  _.text_template = ['choose(',',',')'];\n  _.redraw = Bracket.prototype.redraw;\n  LatexCmds.binom = LatexCmds.binomial = Binomial;\n\n  function Choose() {\n    Binomial.apply(this, arguments);\n  }\n  _ = Choose.prototype = new Binomial;\n  _.placeCursor = LiveFraction.prototype.placeCursor;\n\n  LatexCmds.choose = Choose;\n\n  function Vector(replacedFragment) {\n    this.init('\\\\vector', undefined, undefined, replacedFragment);\n  }\n  _ = Vector.prototype = new MathCommand;\n  _.html_template = ['<span class=\"array\"></span>', '<span></span>'];\n  _.latex = function() {\n    return '\\\\begin{matrix}' + this.foldChildren([], (latex, child) => {\n      latex.push(child.latex());\n      return latex;\n    }).join('\\\\\\\\') + '\\\\end{matrix}';\n  };\n  _.text = function() {\n    return '[' + this.foldChildren([], (text, child) => {\n      text.push(child.text());\n      return text;\n    }).join() + ']';\n  }\n  _.placeCursor = function(cursor) {\n    this.cursor = cursor.appendTo(this.firstChild);\n  };\n  _.keydown = function(e) {\n    var currentBlock = this.cursor.parent;\n\n    if (currentBlock.parent === this) {\n      if (e.which === 13) { //enter\n        var newBlock = new MathBlock;\n        newBlock.parent = this;\n        newBlock.jQ = $('<span></span>')\n          .data(jQueryDataKey, {block: newBlock})\n          .insertAfter(currentBlock.jQ);\n        if (currentBlock.next)\n          currentBlock.next.prev = newBlock;\n        else\n          this.lastChild = newBlock;\n\n        newBlock.next = currentBlock.next;\n        currentBlock.next = newBlock;\n        newBlock.prev = currentBlock;\n        this.cursor.appendTo(newBlock).redraw();\n        return false;\n      }\n      else if (e.which === 9 && !e.shiftKey && !currentBlock.next) { //tab\n        if (currentBlock.isEmpty()) {\n          if (currentBlock.prev) {\n            this.cursor.insertAfter(this);\n            delete currentBlock.prev.next;\n            this.lastChild = currentBlock.prev;\n            currentBlock.jQ.remove();\n            this.cursor.redraw();\n            return false;\n          }\n          else\n            return this.parent.keydown(e);\n        }\n\n        var newBlock = new MathBlock;\n        newBlock.parent = this;\n        newBlock.jQ = $('<span></span>').data(jQueryDataKey, {block: newBlock}).appendTo(this.jQ);\n        this.lastChild = newBlock;\n        currentBlock.next = newBlock;\n        newBlock.prev = currentBlock;\n        this.cursor.appendTo(newBlock).redraw();\n        return false;\n      }\n      else if (e.which === 8) { //backspace\n        if (currentBlock.isEmpty()) {\n          if (currentBlock.prev) {\n            this.cursor.appendTo(currentBlock.prev)\n            currentBlock.prev.next = currentBlock.next;\n          }\n          else {\n            this.cursor.insertBefore(this);\n            this.firstChild = currentBlock.next;\n          }\n\n          if (currentBlock.next)\n            currentBlock.next.prev = currentBlock.prev;\n          else\n            this.lastChild = currentBlock.prev;\n\n          currentBlock.jQ.remove();\n          if (this.isEmpty())\n            this.cursor.deleteForward();\n          else\n            this.cursor.redraw();\n\n          return false;\n        }\n        else if (!this.cursor.prev)\n          return false;\n      }\n    }\n    return this.parent.keydown(e);\n  };\n\n  LatexCmds.vector = Vector;\n\n  LatexCmds.editable = proto(RootMathCommand, function() {\n    this.init('\\\\editable');\n    createRoot(this.jQ, this.firstChild, false, true);\n    var cursor;\n    this.placeCursor = function(c) { cursor = c.appendTo(this.firstChild); };\n    this.firstChild.blur = function() {\n      if (cursor.prev !== this.parent) return; //when cursor is inserted after editable, append own cursor FIXME HACK\n      delete this.blur;\n      this.cursor.appendTo(this);\n      MathBlock.prototype.blur.call(this);\n    };\n    this.latex = function(){ return this.firstChild.latex(); };\n    this.text = function(){ return this.firstChild.text(); };\n  });\n\n  /**********************************\n   * Symbols and Special Characters\n   *********************************/\n\n  LatexCmds.f = bind(Symbol, 'f', '<var class=\"florin\">&fnof;</var><span style=\"display:inline-block;width:0\">&nbsp;</span>');\n\n  function Variable(ch, html) {\n    Symbol.call(this, ch, '<var>'+$.raw(html || htmlEscape(ch))+'</var>');\n  }\n  _ = Variable.prototype = new Symbol;\n  _.text = function() {\n    var text = this.cmd;\n    if (this.prev && !(this.prev instanceof Variable)\n        && !(this.prev instanceof BinaryOperator))\n      text = '*' + text;\n    if (this.next && !(this.next instanceof BinaryOperator)\n        && !(this.next.cmd === '^'))\n      text += '*';\n    return text;\n  };\n\n  function VanillaSymbol(ch, html) {\n    Symbol.call(this, ch, '<span>'+$.raw(html || htmlEscape(ch))+'</span>');\n  }\n  VanillaSymbol.prototype = Symbol.prototype;\n\n  LatexCmds[':'] = CharCmds[' '] = bind(VanillaSymbol, '\\\\:', ' ');\n\n  LatexCmds.prime = CharCmds[\"'\"] = bind(VanillaSymbol, \"'\", '&prime;');\n\n  function NonSymbolaSymbol(ch, html) { //does not use Symbola font\n    Symbol.call(this, ch, '<span class=\"nonSymbola\">'+$.raw(html || htmlEscape(ch))+'</span>');\n  }\n  NonSymbolaSymbol.prototype = Symbol.prototype;\n\n  LatexCmds['@'] = NonSymbolaSymbol;\n  LatexCmds['&'] = bind(NonSymbolaSymbol, '\\\\&', '&');\n  LatexCmds['%'] = bind(NonSymbolaSymbol, '\\\\%', '%');\n\n  //the following are all Greek to me, but this helped a lot: http://www.ams.org/STIX/ion/stixsig03.html\n\n  //lowercase Greek letter variables\n  LatexCmds.alpha =\n  LatexCmds.beta =\n  LatexCmds.gamma =\n  LatexCmds.delta =\n  LatexCmds.zeta =\n  LatexCmds.eta =\n  LatexCmds.theta =\n  LatexCmds.iota =\n  LatexCmds.kappa =\n  LatexCmds.mu =\n  LatexCmds.nu =\n  LatexCmds.xi =\n  LatexCmds.rho =\n  LatexCmds.sigma =\n  LatexCmds.tau =\n  LatexCmds.chi =\n  LatexCmds.psi =\n  LatexCmds.omega = proto(Symbol, function(replacedFragment, latex) {\n    Variable.call(this,'\\\\'+latex+' ','&'+latex+';');\n  });\n\n  //why can't anybody FUCKING agree on these\n  LatexCmds.phi = //W3C or Unicode?\n    bind(Variable,'\\\\phi ','&#981;');\n\n  LatexCmds.phiv = //Elsevier and 9573-13\n  LatexCmds.varphi = //AMS and LaTeX\n    bind(Variable,'\\\\varphi ','&phi;');\n\n  LatexCmds.epsilon = //W3C or Unicode?\n    bind(Variable,'\\\\epsilon ','&#1013;');\n\n  LatexCmds.epsiv = //Elsevier and 9573-13\n  LatexCmds.varepsilon = //AMS and LaTeX\n    bind(Variable,'\\\\varepsilon ','&epsilon;');\n\n  LatexCmds.piv = //W3C/Unicode and Elsevier and 9573-13\n  LatexCmds.varpi = //AMS and LaTeX\n    bind(Variable,'\\\\varpi ','&piv;');\n\n  LatexCmds.sigmaf = //W3C/Unicode\n  LatexCmds.sigmav = //Elsevier\n  LatexCmds.varsigma = //LaTeX\n    bind(Variable,'\\\\varsigma ','&sigmaf;');\n\n  LatexCmds.thetav = //Elsevier and 9573-13\n  LatexCmds.vartheta = //AMS and LaTeX\n  LatexCmds.thetasym = //W3C/Unicode\n    bind(Variable,'\\\\vartheta ','&thetasym;');\n\n  LatexCmds.upsilon = //AMS and LaTeX and W3C/Unicode\n  LatexCmds.upsi = //Elsevier and 9573-13\n    bind(Variable,'\\\\upsilon ','&upsilon;');\n\n  //these aren't even mentioned in the HTML character entity references\n  LatexCmds.gammad = //Elsevier\n  LatexCmds.Gammad = //9573-13 -- WTF, right? I dunno if this was a typo in the reference (see above)\n  LatexCmds.digamma = //LaTeX\n    bind(Variable,'\\\\digamma ','&#989;');\n\n  LatexCmds.kappav = //Elsevier\n  LatexCmds.varkappa = //AMS and LaTeX\n    bind(Variable,'\\\\varkappa ','&#1008;');\n\n  LatexCmds.rhov = //Elsevier and 9573-13\n  LatexCmds.varrho = //AMS and LaTeX\n    bind(Variable,'\\\\varrho ','&#1009;');\n\n  //Greek constants, look best in un-italicised Times New Roman\n  LatexCmds.pi = LatexCmds[''] = bind(NonSymbolaSymbol,'\\\\pi ','&pi;');\n  LatexCmds.lambda = bind(NonSymbolaSymbol,'\\\\lambda ','&lambda;');\n\n  //uppercase greek letters\n\n  LatexCmds.Upsilon = //LaTeX\n  LatexCmds.Upsi = //Elsevier and 9573-13\n  LatexCmds.upsih = //W3C/Unicode \"upsilon with hook\"\n  LatexCmds.Upsih = //'cos it makes sense to me\n    bind(Symbol,'\\\\Upsilon ','<var style=\"font-family: serif\">&upsih;</var>'); //Symbola's 'upsilon with a hook' is a capital Y without hooks :(\n\n  LatexCmds.Gamma =\n  LatexCmds.Delta =\n  LatexCmds.Theta =\n  LatexCmds.Lambda =\n  LatexCmds.Xi =\n  LatexCmds.Pi =\n  LatexCmds.Sigma =\n  LatexCmds.Phi =\n  LatexCmds.Psi =\n  LatexCmds.Omega =\n\n  //other symbols with the same LaTeX command and HTML character entity reference\n  LatexCmds.forall = proto(Symbol, function(replacedFragment, latex) {\n    VanillaSymbol.call(this,'\\\\'+latex+' ','&'+latex+';');\n  });\n\n  function BinaryOperator(cmd, html, text) {\n    Symbol.call(this, cmd, '<span class=\"binary-operator\">'+html+'</span>', text);\n  }\n  BinaryOperator.prototype = new Symbol; //so instanceof will work\n\n  function PlusMinus(cmd, html) {\n    VanillaSymbol.apply(this, arguments);\n  }\n  _ = PlusMinus.prototype = new BinaryOperator; //so instanceof will work\n  _.respace = function() {\n    if (!this.prev) {\n      this.jQ[0].className = '';\n    }\n    else if (\n      this.prev instanceof BinaryOperator &&\n      this.next && !(this.next instanceof BinaryOperator)\n    ) {\n      this.jQ[0].className = 'unary-operator';\n    }\n    else {\n      this.jQ[0].className = 'binary-operator';\n    }\n    return this;\n  };\n\n  LatexCmds['+'] = bind(PlusMinus, '+', '+');\n  //yes, these are different dashes, I think one is an en dash and the other is a hyphen\n  LatexCmds[''] = LatexCmds['-'] = bind(PlusMinus, '-', '&minus;');\n  LatexCmds[''] = LatexCmds.pm = LatexCmds.plusmn = LatexCmds.plusminus =\n    bind(PlusMinus,'\\\\pm ','&plusmn;');\n  LatexCmds.mp = LatexCmds.mnplus = LatexCmds.minusplus =\n    bind(PlusMinus,'\\\\mp ','&#8723;');\n\n  CharCmds['*'] = LatexCmds.sdot = LatexCmds.cdot =\n    bind(BinaryOperator, '\\\\cdot ', '&middot;');\n  //semantically should be &sdot;, but &middot; looks better\n\n  LatexCmds['='] = bind(BinaryOperator, '=', '=');\n  LatexCmds['<'] = bind(BinaryOperator, '<', '&lt;');\n  LatexCmds['>'] = bind(BinaryOperator, '>', '&gt;');\n\n  LatexCmds.notin =\n  LatexCmds.sim =\n  LatexCmds.cong =\n  LatexCmds.equiv =\n  LatexCmds.oplus =\n  LatexCmds.otimes = proto(BinaryOperator, function(replacedFragment, latex) {\n    BinaryOperator.call(this, '\\\\'+latex+' ', '&'+latex+';');\n  });\n\n  LatexCmds.times = proto(BinaryOperator, function(replacedFragment, latex) {\n    BinaryOperator.call(this, '\\\\times ', '&times;', '[x]')\n  });\n\n  LatexCmds[''] = LatexCmds.div = LatexCmds.divide = LatexCmds.divides =\n    bind(BinaryOperator,'\\\\div ','&divide;', '[/]');\n\n  LatexCmds[''] = LatexCmds.ne = LatexCmds.neq = bind(BinaryOperator,'\\\\ne ','&ne;');\n\n  LatexCmds.ast = LatexCmds.star = LatexCmds.loast = LatexCmds.lowast =\n    bind(BinaryOperator,'\\\\ast ','&lowast;');\n    //case 'there4 = // a special exception for this one, perhaps?\n  LatexCmds.therefor = LatexCmds.therefore =\n    bind(BinaryOperator,'\\\\therefore ','&there4;');\n\n  LatexCmds.cuz = // l33t\n  LatexCmds.because = bind(BinaryOperator,'\\\\because ','&#8757;');\n\n  LatexCmds.prop = LatexCmds.propto = bind(BinaryOperator,'\\\\propto ','&prop;');\n\n  LatexCmds[''] = LatexCmds.asymp = LatexCmds.approx = bind(BinaryOperator,'\\\\approx ','&asymp;');\n\n  LatexCmds.lt = bind(BinaryOperator,'<','&lt;');\n\n  LatexCmds.gt = bind(BinaryOperator,'>','&gt;');\n\n  LatexCmds[''] = LatexCmds.le = LatexCmds.leq = bind(BinaryOperator,'\\\\le ','&le;');\n\n  LatexCmds[''] = LatexCmds.ge = LatexCmds.geq = bind(BinaryOperator,'\\\\ge ','&ge;');\n\n  LatexCmds.isin = LatexCmds['in'] = bind(BinaryOperator,'\\\\in ','&isin;');\n\n  LatexCmds.ni = LatexCmds.contains = bind(BinaryOperator,'\\\\ni ','&ni;');\n\n  LatexCmds.notni = LatexCmds.niton = LatexCmds.notcontains = LatexCmds.doesnotcontain =\n    bind(BinaryOperator,'\\\\not\\\\ni ','&#8716;');\n\n  LatexCmds.sub = LatexCmds.subset = bind(BinaryOperator,'\\\\subset ','&sub;');\n\n  LatexCmds.sup = LatexCmds.supset = LatexCmds.superset =\n    bind(BinaryOperator,'\\\\supset ','&sup;');\n\n  LatexCmds.nsub = LatexCmds.notsub =\n  LatexCmds.nsubset = LatexCmds.notsubset =\n    bind(BinaryOperator,'\\\\not\\\\subset ','&#8836;');\n\n  LatexCmds.nsup = LatexCmds.notsup =\n  LatexCmds.nsupset = LatexCmds.notsupset =\n  LatexCmds.nsuperset = LatexCmds.notsuperset =\n    bind(BinaryOperator,'\\\\not\\\\supset ','&#8837;');\n\n  LatexCmds.sube = LatexCmds.subeq = LatexCmds.subsete = LatexCmds.subseteq =\n    bind(BinaryOperator,'\\\\subseteq ','&sube;');\n\n  LatexCmds.supe = LatexCmds.supeq =\n  LatexCmds.supsete = LatexCmds.supseteq =\n  LatexCmds.supersete = LatexCmds.superseteq =\n    bind(BinaryOperator,'\\\\supseteq ','&supe;');\n\n  LatexCmds.nsube = LatexCmds.nsubeq =\n  LatexCmds.notsube = LatexCmds.notsubeq =\n  LatexCmds.nsubsete = LatexCmds.nsubseteq =\n  LatexCmds.notsubsete = LatexCmds.notsubseteq =\n    bind(BinaryOperator,'\\\\not\\\\subseteq ','&#8840;');\n\n  LatexCmds.nsupe = LatexCmds.nsupeq =\n  LatexCmds.notsupe = LatexCmds.notsupeq =\n  LatexCmds.nsupsete = LatexCmds.nsupseteq =\n  LatexCmds.notsupsete = LatexCmds.notsupseteq =\n  LatexCmds.nsupersete = LatexCmds.nsuperseteq =\n  LatexCmds.notsupersete = LatexCmds.notsuperseteq =\n    bind(BinaryOperator,'\\\\not\\\\supseteq ','&#8841;');\n\n\n  //sum, product, coproduct, integral\n  function BigSymbol(ch, html) {\n    Symbol.call(this, ch, '<big>'+html+'</big>');\n  }\n  BigSymbol.prototype = new Symbol; //so instanceof will work\n\n  LatexCmds[''] = LatexCmds.sum = LatexCmds.summation = bind(BigSymbol,'\\\\sum ','&sum;');\n  LatexCmds[''] = LatexCmds.prod = LatexCmds.product = bind(BigSymbol,'\\\\prod ','&prod;');\n  LatexCmds.coprod = LatexCmds.coproduct = bind(BigSymbol,'\\\\coprod ','&#8720;');\n  LatexCmds[''] = LatexCmds['int'] = LatexCmds.integral = bind(BigSymbol,'\\\\int ','&int;');\n\n\n\n  //the canonical sets of numbers\n  LatexCmds.N = LatexCmds.naturals = LatexCmds.Naturals =\n    bind(VanillaSymbol,'\\\\mathbb{N}','&#8469;');\n\n  LatexCmds.P =\n  LatexCmds.primes = LatexCmds.Primes =\n  LatexCmds.projective = LatexCmds.Projective =\n  LatexCmds.probability = LatexCmds.Probability =\n    bind(VanillaSymbol,'\\\\mathbb{P}','&#8473;');\n\n  LatexCmds.Z = LatexCmds.integers = LatexCmds.Integers =\n    bind(VanillaSymbol,'\\\\mathbb{Z}','&#8484;');\n\n  LatexCmds.Q = LatexCmds.rationals = LatexCmds.Rationals =\n    bind(VanillaSymbol,'\\\\mathbb{Q}','&#8474;');\n\n  LatexCmds.R = LatexCmds.reals = LatexCmds.Reals =\n    bind(VanillaSymbol,'\\\\mathbb{R}','&#8477;');\n\n  LatexCmds.C =\n  LatexCmds.complex = LatexCmds.Complex =\n  LatexCmds.complexes = LatexCmds.Complexes =\n  LatexCmds.complexplane = LatexCmds.Complexplane = LatexCmds.ComplexPlane =\n    bind(VanillaSymbol,'\\\\mathbb{C}','&#8450;');\n\n  LatexCmds.H = LatexCmds.Hamiltonian = LatexCmds.quaternions = LatexCmds.Quaternions =\n    bind(VanillaSymbol,'\\\\mathbb{H}','&#8461;');\n\n  //spacing\n  LatexCmds.quad = LatexCmds.emsp = bind(VanillaSymbol,'\\\\quad ','    ');\n  LatexCmds.qquad = bind(VanillaSymbol,'\\\\qquad ','        ');\n  /* spacing special characters, gonna have to implement this in LatexCommandInput::textInput somehow\n  case ',':\n    return new VanillaSymbol('\\\\, ',' ');\n  case ':':\n    return new VanillaSymbol('\\\\: ','  ');\n  case ';':\n    return new VanillaSymbol('\\\\; ','   ');\n  case '!':\n    return new Symbol('\\\\! ','<span style=\"margin-right:-.2em\"></span>');\n  */\n\n  //binary operators\n  LatexCmds.diamond = bind(VanillaSymbol, '\\\\diamond ', '&#9671;');\n  LatexCmds.bigtriangleup = bind(VanillaSymbol, '\\\\bigtriangleup ', '&#9651;');\n  LatexCmds.ominus = bind(VanillaSymbol, '\\\\ominus ', '&#8854;');\n  LatexCmds.uplus = bind(VanillaSymbol, '\\\\uplus ', '&#8846;');\n  LatexCmds.bigtriangledown = bind(VanillaSymbol, '\\\\bigtriangledown ', '&#9661;');\n  LatexCmds.sqcap = bind(VanillaSymbol, '\\\\sqcap ', '&#8851;');\n  LatexCmds.triangleleft = bind(VanillaSymbol, '\\\\triangleleft ', '&#8882;');\n  LatexCmds.sqcup = bind(VanillaSymbol, '\\\\sqcup ', '&#8852;');\n  LatexCmds.triangleright = bind(VanillaSymbol, '\\\\triangleright ', '&#8883;');\n  LatexCmds.odot = bind(VanillaSymbol, '\\\\odot ', '&#8857;');\n  LatexCmds.bigcirc = bind(VanillaSymbol, '\\\\bigcirc ', '&#9711;');\n  LatexCmds.dagger = bind(VanillaSymbol, '\\\\dagger ', '&#0134;');\n  LatexCmds.ddagger = bind(VanillaSymbol, '\\\\ddagger ', '&#135;');\n  LatexCmds.wr = bind(VanillaSymbol, '\\\\wr ', '&#8768;');\n  LatexCmds.amalg = bind(VanillaSymbol, '\\\\amalg ', '&#8720;');\n\n  //relationship symbols\n  LatexCmds.models = bind(VanillaSymbol, '\\\\models ', '&#8872;');\n  LatexCmds.prec = bind(VanillaSymbol, '\\\\prec ', '&#8826;');\n  LatexCmds.succ = bind(VanillaSymbol, '\\\\succ ', '&#8827;');\n  LatexCmds.preceq = bind(VanillaSymbol, '\\\\preceq ', '&#8828;');\n  LatexCmds.succeq = bind(VanillaSymbol, '\\\\succeq ', '&#8829;');\n  LatexCmds.simeq = bind(VanillaSymbol, '\\\\simeq ', '&#8771;');\n  LatexCmds.mid = bind(VanillaSymbol, '\\\\mid ', '&#8739;');\n  LatexCmds.ll = bind(VanillaSymbol, '\\\\ll ', '&#8810;');\n  LatexCmds.gg = bind(VanillaSymbol, '\\\\gg ', '&#8811;');\n  LatexCmds.parallel = bind(VanillaSymbol, '\\\\parallel ', '&#8741;');\n  LatexCmds.bowtie = bind(VanillaSymbol, '\\\\bowtie ', '&#8904;');\n  LatexCmds.sqsubset = bind(VanillaSymbol, '\\\\sqsubset ', '&#8847;');\n  LatexCmds.sqsupset = bind(VanillaSymbol, '\\\\sqsupset ', '&#8848;');\n  LatexCmds.smile = bind(VanillaSymbol, '\\\\smile ', '&#8995;');\n  LatexCmds.sqsubseteq = bind(VanillaSymbol, '\\\\sqsubseteq ', '&#8849;');\n  LatexCmds.sqsupseteq = bind(VanillaSymbol, '\\\\sqsupseteq ', '&#8850;');\n  LatexCmds.doteq = bind(VanillaSymbol, '\\\\doteq ', '&#8784;');\n  LatexCmds.frown = bind(VanillaSymbol, '\\\\frown ', '&#8994;');\n  LatexCmds.vdash = bind(VanillaSymbol, '\\\\vdash ', '&#8870;');\n  LatexCmds.dashv = bind(VanillaSymbol, '\\\\dashv ', '&#8867;');\n\n  //arrows\n  LatexCmds.longleftarrow = bind(VanillaSymbol, '\\\\longleftarrow ', '&#8592;');\n  LatexCmds.longrightarrow = bind(VanillaSymbol, '\\\\longrightarrow ', '&#8594;');\n  LatexCmds.Longleftarrow = bind(VanillaSymbol, '\\\\Longleftarrow ', '&#8656;');\n  LatexCmds.Longrightarrow = bind(VanillaSymbol, '\\\\Longrightarrow ', '&#8658;');\n  LatexCmds.longleftrightarrow = bind(VanillaSymbol, '\\\\longleftrightarrow ', '&#8596;');\n  LatexCmds.updownarrow = bind(VanillaSymbol, '\\\\updownarrow ', '&#8597;');\n  LatexCmds.Longleftrightarrow = bind(VanillaSymbol, '\\\\Longleftrightarrow ', '&#8660;');\n  LatexCmds.Updownarrow = bind(VanillaSymbol, '\\\\Updownarrow ', '&#8661;');\n  LatexCmds.mapsto = bind(VanillaSymbol, '\\\\mapsto ', '&#8614;');\n  LatexCmds.nearrow = bind(VanillaSymbol, '\\\\nearrow ', '&#8599;');\n  LatexCmds.hookleftarrow = bind(VanillaSymbol, '\\\\hookleftarrow ', '&#8617;');\n  LatexCmds.hookrightarrow = bind(VanillaSymbol, '\\\\hookrightarrow ', '&#8618;');\n  LatexCmds.searrow = bind(VanillaSymbol, '\\\\searrow ', '&#8600;');\n  LatexCmds.leftharpoonup = bind(VanillaSymbol, '\\\\leftharpoonup ', '&#8636;');\n  LatexCmds.rightharpoonup = bind(VanillaSymbol, '\\\\rightharpoonup ', '&#8640;');\n  LatexCmds.swarrow = bind(VanillaSymbol, '\\\\swarrow ', '&#8601;');\n  LatexCmds.leftharpoondown = bind(VanillaSymbol, '\\\\leftharpoondown ', '&#8637;');\n  LatexCmds.rightharpoondown = bind(VanillaSymbol, '\\\\rightharpoondown ', '&#8641;');\n  LatexCmds.nwarrow = bind(VanillaSymbol, '\\\\nwarrow ', '&#8598;');\n\n  //Misc\n  LatexCmds.ldots = bind(VanillaSymbol, '\\\\ldots ', '&#8230;');\n  LatexCmds.cdots = bind(VanillaSymbol, '\\\\cdots ', '&#8943;');\n  LatexCmds.vdots = bind(VanillaSymbol, '\\\\vdots ', '&#8942;');\n  LatexCmds.ddots = bind(VanillaSymbol, '\\\\ddots ', '&#8944;');\n  LatexCmds.surd = bind(VanillaSymbol, '\\\\surd ', '&#8730;');\n  LatexCmds.triangle = bind(VanillaSymbol, '\\\\triangle ', '&#9653;');\n  LatexCmds.ell = bind(VanillaSymbol, '\\\\ell ', '&#8467;');\n  LatexCmds.top = bind(VanillaSymbol, '\\\\top ', '&#8868;');\n  LatexCmds.flat = bind(VanillaSymbol, '\\\\flat ', '&#9837;');\n  LatexCmds.natural = bind(VanillaSymbol, '\\\\natural ', '&#9838;');\n  LatexCmds.sharp = bind(VanillaSymbol, '\\\\sharp ', '&#9839;');\n  LatexCmds.wp = bind(VanillaSymbol, '\\\\wp ', '&#8472;');\n  LatexCmds.bot = bind(VanillaSymbol, '\\\\bot ', '&#8869;');\n  LatexCmds.clubsuit = bind(VanillaSymbol, '\\\\clubsuit ', '&#9827;');\n  LatexCmds.diamondsuit = bind(VanillaSymbol, '\\\\diamondsuit ', '&#9826;');\n  LatexCmds.heartsuit = bind(VanillaSymbol, '\\\\heartsuit ', '&#9825;');\n  LatexCmds.spadesuit = bind(VanillaSymbol, '\\\\spadesuit ', '&#9824;');\n\n  //variable-sized\n  LatexCmds.oint = bind(VanillaSymbol, '\\\\oint ', '&#8750;');\n  LatexCmds.bigcap = bind(VanillaSymbol, '\\\\bigcap ', '&#8745;');\n  LatexCmds.bigcup = bind(VanillaSymbol, '\\\\bigcup ', '&#8746;');\n  LatexCmds.bigsqcup = bind(VanillaSymbol, '\\\\bigsqcup ', '&#8852;');\n  LatexCmds.bigvee = bind(VanillaSymbol, '\\\\bigvee ', '&#8744;');\n  LatexCmds.bigwedge = bind(VanillaSymbol, '\\\\bigwedge ', '&#8743;');\n  LatexCmds.bigodot = bind(VanillaSymbol, '\\\\bigodot ', '&#8857;');\n  LatexCmds.bigotimes = bind(VanillaSymbol, '\\\\bigotimes ', '&#8855;');\n  LatexCmds.bigoplus = bind(VanillaSymbol, '\\\\bigoplus ', '&#8853;');\n  LatexCmds.biguplus = bind(VanillaSymbol, '\\\\biguplus ', '&#8846;');\n\n  //delimiters\n  LatexCmds.lfloor = bind(VanillaSymbol, '\\\\lfloor ', '&#8970;');\n  LatexCmds.rfloor = bind(VanillaSymbol, '\\\\rfloor ', '&#8971;');\n  LatexCmds.lceil = bind(VanillaSymbol, '\\\\lceil ', '&#8968;');\n  LatexCmds.rceil = bind(VanillaSymbol, '\\\\rceil ', '&#8969;');\n  LatexCmds.slash = bind(VanillaSymbol, '/');\n  LatexCmds.lbrace = bind(VanillaSymbol, '\\\\lbrace ', '&#123;');\n  LatexCmds.rbrace = bind(VanillaSymbol, '\\\\rbrace ', '&#125;');\n\n  //various symbols\n\n  LatexCmds.caret = bind(VanillaSymbol,'\\\\caret ','^');\n  LatexCmds.underscore = bind(VanillaSymbol,'\\\\underscore ','_');\n  LatexCmds.backslash = bind(VanillaSymbol,'\\\\backslash ','\\\\');\n  LatexCmds.vert = bind(VanillaSymbol,'|');\n  LatexCmds.perp = LatexCmds.perpendicular = bind(VanillaSymbol,'\\\\perp ','&perp;');\n  LatexCmds.nabla = LatexCmds.del = bind(VanillaSymbol,'\\\\nabla ','&nabla;');\n  LatexCmds.hbar = bind(VanillaSymbol,'\\\\hbar ','&#8463;');\n\n  LatexCmds.AA = LatexCmds.Angstrom = LatexCmds.angstrom =\n    bind(VanillaSymbol,'\\\\text\\\\AA ','&#8491;');\n\n  LatexCmds.ring = LatexCmds.circ = LatexCmds.circle =\n    bind(VanillaSymbol,'\\\\circ ','&#8728;');\n\n  LatexCmds.bull = LatexCmds.bullet = bind(VanillaSymbol,'\\\\bullet ','&bull;');\n\n  LatexCmds.setminus = LatexCmds.smallsetminus =\n    bind(VanillaSymbol,'\\\\setminus ','&#8726;');\n\n  LatexCmds.not = //bind(Symbol,'\\\\not ','<span class=\"not\">/</span>');\n  LatexCmds[''] = LatexCmds.neg = bind(VanillaSymbol,'\\\\neg ','&not;');\n\n  LatexCmds[''] = LatexCmds.dots = LatexCmds.ellip = LatexCmds.hellip =\n  LatexCmds.ellipsis = LatexCmds.hellipsis =\n    bind(VanillaSymbol,'\\\\dots ','&hellip;');\n\n  LatexCmds.converges =\n  LatexCmds.darr = LatexCmds.dnarr = LatexCmds.dnarrow = LatexCmds.downarrow =\n    bind(VanillaSymbol,'\\\\downarrow ','&darr;');\n\n  LatexCmds.dArr = LatexCmds.dnArr = LatexCmds.dnArrow = LatexCmds.Downarrow =\n    bind(VanillaSymbol,'\\\\Downarrow ','&dArr;');\n\n  LatexCmds.diverges = LatexCmds.uarr = LatexCmds.uparrow =\n    bind(VanillaSymbol,'\\\\uparrow ','&uarr;');\n\n  LatexCmds.uArr = LatexCmds.Uparrow = bind(VanillaSymbol,'\\\\Uparrow ','&uArr;');\n\n  LatexCmds.to = bind(BinaryOperator,'\\\\to ','&rarr;');\n\n  LatexCmds.rarr = LatexCmds.rightarrow = bind(VanillaSymbol,'\\\\rightarrow ','&rarr;');\n\n  LatexCmds.implies = bind(BinaryOperator,'\\\\Rightarrow ','&rArr;');\n\n  LatexCmds.rArr = LatexCmds.Rightarrow = bind(VanillaSymbol,'\\\\Rightarrow ','&rArr;');\n\n  LatexCmds.gets = bind(BinaryOperator,'\\\\gets ','&larr;');\n\n  LatexCmds.larr = LatexCmds.leftarrow = bind(VanillaSymbol,'\\\\leftarrow ','&larr;');\n\n  LatexCmds.impliedby = bind(BinaryOperator,'\\\\Leftarrow ','&lArr;');\n\n  LatexCmds.lArr = LatexCmds.Leftarrow = bind(VanillaSymbol,'\\\\Leftarrow ','&lArr;');\n\n  LatexCmds.harr = LatexCmds.lrarr = LatexCmds.leftrightarrow =\n    bind(VanillaSymbol,'\\\\leftrightarrow ','&harr;');\n\n  LatexCmds.iff = bind(BinaryOperator,'\\\\Leftrightarrow ','&hArr;');\n\n  LatexCmds.hArr = LatexCmds.lrArr = LatexCmds.Leftrightarrow =\n    bind(VanillaSymbol,'\\\\Leftrightarrow ','&hArr;');\n\n  LatexCmds.Re = LatexCmds.Real = LatexCmds.real = bind(VanillaSymbol,'\\\\Re ','&real;');\n\n  LatexCmds.Im = LatexCmds.imag =\n  LatexCmds.image = LatexCmds.imagin = LatexCmds.imaginary = LatexCmds.Imaginary =\n    bind(VanillaSymbol,'\\\\Im ','&image;');\n\n  LatexCmds.part = LatexCmds.partial = bind(VanillaSymbol,'\\\\partial ','&part;');\n\n  LatexCmds.inf = LatexCmds.infin = LatexCmds.infty = LatexCmds.infinity =\n    bind(VanillaSymbol,'\\\\infty ','&infin;');\n\n  LatexCmds.alef = LatexCmds.alefsym = LatexCmds.aleph = LatexCmds.alephsym =\n    bind(VanillaSymbol,'\\\\aleph ','&alefsym;');\n\n  LatexCmds.xist = //LOL\n  LatexCmds.xists = LatexCmds.exist = LatexCmds.exists =\n    bind(VanillaSymbol,'\\\\exists ','&exist;');\n\n  LatexCmds.and = LatexCmds.land = LatexCmds.wedge =\n    bind(VanillaSymbol,'\\\\wedge ','&and;');\n\n  LatexCmds.or = LatexCmds.lor = LatexCmds.vee = bind(VanillaSymbol,'\\\\vee ','&or;');\n\n  LatexCmds.o = LatexCmds.O =\n  LatexCmds.empty = LatexCmds.emptyset =\n  LatexCmds.oslash = LatexCmds.Oslash =\n  LatexCmds.nothing = LatexCmds.varnothing =\n    bind(BinaryOperator,'\\\\varnothing ','&empty;');\n\n  LatexCmds.cup = LatexCmds.union = bind(VanillaSymbol,'\\\\cup ','&cup;');\n\n  LatexCmds.cap = LatexCmds.intersect = LatexCmds.intersection =\n    bind(VanillaSymbol,'\\\\cap ','&cap;');\n\n  LatexCmds.deg = LatexCmds.degree = bind(VanillaSymbol,'^\\\\circ ','&deg;');\n\n  LatexCmds.ang = LatexCmds.angle = bind(VanillaSymbol,'\\\\angle ','&ang;');\n\n\n  function NonItalicizedFunction(replacedFragment, fn) {\n    Symbol.call(this, '\\\\'+fn+' ', '<span>'+htmlEscape(fn)+'</span>');\n  }\n  _ = NonItalicizedFunction.prototype = new Symbol;\n  _.respace = function()\n  {\n    this.jQ[0].className =\n      (this.next instanceof SupSub || this.next instanceof Bracket) ?\n      '' : 'non-italicized-function';\n  };\n\n  LatexCmds.ln =\n  LatexCmds.lg =\n  LatexCmds.log =\n  LatexCmds.span =\n  LatexCmds.proj =\n  LatexCmds.det =\n  LatexCmds.dim =\n  LatexCmds.min =\n  LatexCmds.max =\n  LatexCmds.mod =\n  LatexCmds.lcm =\n  LatexCmds.gcd =\n  LatexCmds.gcf =\n  LatexCmds.hcf =\n  LatexCmds.lim = NonItalicizedFunction;\n\n  (function() {\n    var trig = ['sin', 'cos', 'tan', 'sec', 'cosec', 'csc', 'cotan', 'cot'];\n    for (var i in trig) {\n      LatexCmds[trig[i]] =\n      LatexCmds[trig[i]+'h'] =\n      LatexCmds['a'+trig[i]] = LatexCmds['arc'+trig[i]] =\n      LatexCmds['a'+trig[i]+'h'] = LatexCmds['arc'+trig[i]+'h'] =\n        NonItalicizedFunction;\n    }\n  }());\n\n  /********************************************\n   * Cursor and Selection \"singleton\" classes\n   *******************************************/\n\n  /* The main thing that manipulates the Math DOM. Makes sure to manipulate the\n  HTML DOM to match. */\n\n  /* Sort of singletons, since there should only be one per editable math\n  textbox, but any one HTML document can contain many such textboxes, so any one\n  JS environment could actually contain many instances. */\n\n  //A fake cursor in the fake textbox that the math is rendered in.\n  function Cursor(root) {\n    this.parent = this.root = root;\n    var jQ = this.jQ = this._jQ = $('<span class=\"cursor\">&zwj;</span>');\n\n    //closured for setInterval\n    this.blink = function(){ jQ.toggleClass('blink'); }\n  }\n  _ = Cursor.prototype;\n  _.prev = 0;\n  _.next = 0;\n  _.parent = 0;\n  _.show = function() {\n    this.jQ = this._jQ.removeClass('blink');\n    if ('intervalId' in this) //already was shown, just restart interval\n      clearInterval(this.intervalId);\n    else { //was hidden and detached, insert this.jQ back into HTML DOM\n      if (this.next) {\n        if (this.selection && this.selection.prev === this.prev)\n          this.jQ.insertBefore(this.selection.jQ);\n        else\n          this.jQ.insertBefore(this.next.jQ.first());\n      }\n      else\n        this.jQ.appendTo(this.parent.jQ);\n      this.parent.focus();\n    }\n    this.intervalId = setInterval(this.blink, 500);\n    return this;\n  };\n  _.hide = function() {\n    if ('intervalId' in this)\n      clearInterval(this.intervalId);\n    delete this.intervalId;\n    this.jQ.detach();\n    this.jQ = $();\n    return this;\n  };\n  _.redraw = function() {\n    for (var ancestor = this.parent; ancestor; ancestor = ancestor.parent)\n      if (ancestor.redraw)\n        ancestor.redraw();\n  };\n  _.insertAt = function(parent, prev, next) {\n    var old_parent = this.parent;\n\n    this.parent = parent;\n    this.prev = prev;\n    this.next = next;\n\n    old_parent.blur(); //blur may need to know cursor's destination\n  };\n  _.insertBefore = function(el) {\n    this.insertAt(el.parent, el.prev, el)\n    this.parent.jQ.addClass('hasCursor');\n    this.jQ.insertBefore(el.jQ.first());\n    return this;\n  };\n  _.insertAfter = function(el) {\n    this.insertAt(el.parent, el, el.next);\n    this.parent.jQ.addClass('hasCursor');\n    this.jQ.insertAfter(el.jQ.last());\n    return this;\n  };\n  _.prependTo = function(el) {\n    this.insertAt(el, 0, el.firstChild);\n    if (el.textarea) //never insert before textarea\n      this.jQ.insertAfter(el.textarea);\n    else\n      this.jQ.prependTo(el.jQ);\n    el.focus();\n    return this;\n  };\n  _.appendTo = function(el) {\n    this.insertAt(el, el.lastChild, 0);\n    this.jQ.appendTo(el.jQ);\n    el.focus();\n    return this;\n  };\n  _.hopLeft = function() {\n    this.jQ.insertBefore(this.prev.jQ.first());\n    this.next = this.prev;\n    this.prev = this.prev.prev;\n    return this;\n  };\n  _.hopRight = function() {\n    this.jQ.insertAfter(this.next.jQ.last());\n    this.prev = this.next;\n    this.next = this.next.next;\n    return this;\n  };\n  _.moveLeft = function() {\n    if (this.selection)\n      this.insertBefore(this.selection.prev.next || this.parent.firstChild).clearSelection();\n    else {\n      if (this.prev) {\n        if (this.prev.lastChild)\n          this.appendTo(this.prev.lastChild)\n        else\n          this.hopLeft();\n      }\n      else { //we're at the beginning of a block\n        if (this.parent.prev)\n          this.appendTo(this.parent.prev);\n        else if (this.parent !== this.root)\n          this.insertBefore(this.parent.parent);\n        //else we're at the beginning of the root, so do nothing.\n      }\n    }\n    return this.show();\n  };\n  _.moveRight = function() {\n    if (this.selection)\n      this.insertAfter(this.selection.next.prev || this.parent.lastChild).clearSelection();\n    else {\n      if (this.next) {\n        if (this.next.firstChild)\n          this.prependTo(this.next.firstChild)\n        else\n          this.hopRight();\n      }\n      else { //we're at the end of a block\n        if (this.parent.next)\n          this.prependTo(this.parent.next);\n        else if (this.parent !== this.root)\n          this.insertAfter(this.parent.parent);\n        //else we're at the end of the root, so do nothing.\n      }\n    }\n    return this.show();\n  };\n  _.seek = function(target, pageX, pageY) {\n    var cursor = this.clearSelection();\n    if (target.hasClass('empty')) {\n      cursor.prependTo(target.data(jQueryDataKey).block);\n      return cursor;\n    }\n\n    var data = target.data(jQueryDataKey);\n    if (data) {\n      //if clicked a symbol, insert at whichever side is closer\n      if (data.cmd && !data.block) {\n        if (target.outerWidth() > 2*(pageX - target.offset().left))\n          cursor.insertBefore(data.cmd);\n        else\n          cursor.insertAfter(data.cmd);\n\n        return cursor;\n      }\n    }\n    //if no MathQuill data, try parent, if still no, forget it\n    else {\n      target = target.parent();\n      data = target.data(jQueryDataKey);\n      if (!data)\n        data = {block: cursor.root};\n    }\n\n    if (data.cmd)\n      cursor.insertAfter(data.cmd);\n    else\n      cursor.appendTo(data.block);\n\n    //move cursor to position closest to click\n    var dist = cursor.jQ.offset().left - pageX, prevDist;\n    do {\n      cursor.moveLeft();\n      prevDist = dist;\n      dist = cursor.jQ.offset().left - pageX;\n    }\n    while (dist > 0 && (cursor.prev || cursor.parent !== cursor.root));\n\n    if (-dist > prevDist)\n      cursor.moveRight();\n\n    return cursor;\n  };\n  _.resolveNonItalicizedFunctions = function() {\n    var node = this.prev;\n    var raw = node ? node.latex().replace(/ $/, '') : null;\n    var count = 0;\n    var functions = {ln: 1, lg: 1, log: 1, span: 1, proj: 1, det: 1, dim: 1, min: 1, max: 1, mod: 1, lcm: 1, gcd: 1, gcf: 1, hcf: 1, lim: 1, sin: 1, sinh: 1, asin: 1, arcsin: 1, asinh: 1, arcsinh: 1, cos: 1, cosh: 1, acos: 1, arccos: 1, acosh: 1, arccosh: 1, tan: 1, tanh: 1, atan: 1, arctan: 1, atanh: 1, arctanh: 1, sec: 1, sech: 1, asec: 1, arcsec: 1, asech: 1, arcsech: 1, cosec: 1, cosech: 1, acosec: 1, arccosec: 1, acosech: 1, arccosech: 1, csc: 1, csch: 1, acsc: 1, arccsc: 1, acsch: 1, arccsch: 1, cotan: 1, cotanh: 1, acotan: 1, arccotan: 1, acotanh: 1, arccotanh: 1, cot: 1, coth: 1, acot: 1, arccot: 1, acoth: 1, arccoth: 1}\n    var latex = '';\n    while (node && raw) {\n      var single_char = raw.match(/^[a-z]$/);\n      if (single_char || latex && raw[0] == '\\\\' && functions[raw.substring(1)] && functions[(raw + latex).substring(1)]) {\n        count++;\n        latex = raw.replace(/\\\\/, '') + latex;\n        node = node.prev;\n        raw = node ? node.latex().replace(/ $/, '') : null;\n        if (!single_char || (!node || !raw.match(/^[a-z]$/)) && functions[latex]) {\n          for(var i = 0; i < count; i++) {\n            this.selectLeft();\n          }\n          this.writeLatex(\"\\\\\" + latex);\n          return;\n        }\n      }\n      else {\n        return;\n      }\n    }\n  };\n  _.writeLatex = function(latex, noMoveCursor) {\n    this.deleteSelection();\n    latex = ( latex && latex.match(/\\\\text\\{([^}]|\\\\\\})*\\}|\\\\:|\\\\[a-z]*|[^\\s]/ig) ) || 0;\n    (function writeLatexBlock(cursor) {\n      while (latex.length) {\n        var token = latex.shift(); //pop first item\n        if (!token || token === '}' || token === ']') return;\n\n        var cmd;\n        if (token.slice(0, 6) === '\\\\text{') {\n          cmd = new TextBlock(token.slice(6, -1));\n          cursor.insertNew(cmd).insertAfter(cmd);\n          continue; //skip recursing through children\n        }\n        else if (token === '\\\\left' || token === '\\\\right') { //FIXME HACK: implement real \\left and \\right LaTeX commands, rather than special casing them here\n          token = latex.shift();\n          if (token === '\\\\')\n            token = latex.shift();\n\n          cursor.insertCh(token);\n          cmd = cursor.prev || cursor.parent.parent;\n\n          if (cursor.prev) //was a close-paren, so break recursion\n            return;\n          else //was an open-paren, hack to put the following latex\n            latex.unshift('{'); //in the ParenBlock in the math DOM\n        }\n        else if (/^\\\\[a-z:]+$/i.test(token)) {\n          token = token.slice(1);\n          var cmd = LatexCmds[token];\n          if (cmd) {\n            cmd = new cmd(undefined, token);\n            if (latex[0] === '[' && cmd.optional_arg_command) {\n              //e.g. \\sqrt{m} -> SquareRoot, \\sqrt[n]{m} -> NthRoot\n              token = cmd.optional_arg_command;\n              cmd = new LatexCmds[token](undefined, token);\n            }\n            cursor.insertNew(cmd);\n          }\n          else {\n            cmd = new TextBlock(token);\n            cursor.insertNew(cmd).insertAfter(cmd);\n            continue; //skip recursing through children\n          }\n        }\n        else {\n          if (token.match(/[a-eg-zA-Z]/)) //exclude f because want florin\n            cmd = new Variable(token);\n          else if (cmd = LatexCmds[token])\n            cmd = new cmd;\n          else\n            cmd = new VanillaSymbol(token);\n\n          cursor.insertNew(cmd);\n        }\n        cmd.eachChild(child => {\n          cursor.appendTo(child);\n          var token = latex.shift();\n          if (!token) return false;\n\n          if (token === '{' || token === '[')\n            writeLatexBlock(cursor);\n          else\n            cursor.insertCh(token);\n        });\n        if (!noMoveCursor)\n          cursor.insertAfter(cmd);\n      }\n    }(this));\n    return this.hide();\n  };\n  _.write = function(ch) {\n    var ret = this.show().insertCh(ch);\n    if (this.root.toolbar)\n      this.resolveNonItalicizedFunctions();\n    return ret;\n  };\n  _.insertCh = function(ch) {\n    if (this.selection) {\n      //gotta do this before this.selection is mutated by 'new cmd(this.selection)'\n      this.prev = this.selection.prev;\n      this.next = this.selection.next;\n    }\n\n    var cmd;\n    if (ch.match(/^[a-eg-zA-Z]$/)) //exclude f because want florin\n      cmd = new Variable(ch);\n    else if (cmd = CharCmds[ch] || LatexCmds[ch])\n      cmd = new cmd(this.selection, ch);\n    else\n      cmd = new VanillaSymbol(ch);\n\n    if (this.selection) {\n      if (cmd instanceof Symbol)\n        this.selection.remove();\n      delete this.selection;\n    }\n\n    return this.insertNew(cmd);\n  };\n  _.insertNew = function(cmd) {\n    cmd.insertAt(this);\n    return this;\n  };\n  _.insertCmd = function(latexCmd, replacedFragment) {\n    var cmd = LatexCmds[latexCmd];\n    if (cmd) {\n      cmd = new cmd(replacedFragment, latexCmd);\n      this.insertNew(cmd);\n      if (cmd instanceof Symbol && replacedFragment)\n        replacedFragment.remove();\n    }\n    else {\n      cmd = new TextBlock(latexCmd);\n      cmd.firstChild.focus = function(){ delete this.focus; return this; };\n      this.insertNew(cmd).insertAfter(cmd);\n      if (replacedFragment)\n        replacedFragment.remove();\n    }\n    return this;\n  };\n  _.unwrapGramp = function() {\n    var gramp = this.parent.parent,\n      greatgramp = gramp.parent,\n      prev = gramp.prev,\n      cursor = this;\n\n    gramp.eachChild(uncle => {\n      if (uncle.isEmpty()) return;\n\n      uncle.eachChild(cousin => {\n        cousin.parent = greatgramp;\n        cousin.jQ.insertBefore(gramp.jQ.first());\n      });\n      uncle.firstChild.prev = prev;\n      if (prev)\n        prev.next = uncle.firstChild;\n      else\n        greatgramp.firstChild = uncle.firstChild;\n\n      prev = uncle.lastChild;\n    });\n    prev.next = gramp.next;\n    if (gramp.next)\n      gramp.next.prev = prev;\n    else\n      greatgramp.lastChild = prev;\n\n    if (!this.next) { //then find something to be next to insertBefore\n      if (this.prev)\n        this.next = this.prev.next;\n      else {\n        while (!this.next) {\n          this.parent = this.parent.next;\n          if (this.parent)\n            this.next = this.parent.firstChild;\n          else {\n            this.next = gramp.next;\n            this.parent = greatgramp;\n            break;\n          }\n        }\n      }\n    }\n    if (this.next)\n      this.insertBefore(this.next);\n    else\n      this.appendTo(greatgramp);\n\n    gramp.jQ.remove();\n\n    if (gramp.prev)\n      gramp.prev.respace();\n    if (gramp.next)\n      gramp.next.respace();\n  };\n  _.backspace = function() {\n    if (this.deleteSelection());\n    else if (this.prev) {\n      if (this.prev.isEmpty())\n        this.prev = this.prev.remove().prev;\n      else\n        this.selectLeft();\n    }\n    else if (this.parent !== this.root) {\n      if (this.parent.parent.isEmpty())\n        return this.insertAfter(this.parent.parent).backspace();\n      else\n        this.unwrapGramp();\n    }\n\n    if (this.prev)\n      this.prev.respace();\n    if (this.next)\n      this.next.respace();\n    this.redraw();\n\n    return this;\n  };\n  _.deleteForward = function() {\n    if (this.deleteSelection());\n    else if (this.next) {\n      if (this.next.isEmpty())\n        this.next = this.next.remove().next;\n      else\n        this.selectRight();\n    }\n    else if (this.parent !== this.root) {\n      if (this.parent.parent.isEmpty())\n        return this.insertBefore(this.parent.parent).deleteForward();\n      else\n        this.unwrapGramp();\n    }\n\n    if (this.prev)\n      this.prev.respace();\n    if (this.next)\n      this.next.respace();\n    this.redraw();\n\n    return this;\n  };\n  _.selectFrom = function(anticursor) {\n    //find ancestors of each with common parent\n    var oneA = this, otherA = anticursor; //one ancestor, the other ancestor\n    loopThroughAncestors: while (true) {\n      for (var oneI = this; oneI !== oneA.parent.parent; oneI = oneI.parent.parent) //one intermediate, the other intermediate\n        if (oneI.parent === otherA.parent) {\n          left = oneI;\n          right = otherA;\n          break loopThroughAncestors;\n        }\n\n      for (var otherI = anticursor; otherI !== otherA.parent.parent; otherI = otherI.parent.parent)\n        if (oneA.parent === otherI.parent) {\n          left = oneA;\n          right = otherI;\n          break loopThroughAncestors;\n        }\n\n      if (oneA.parent.parent)\n        oneA = oneA.parent.parent;\n      if (otherA.parent.parent)\n        otherA = otherA.parent.parent;\n    }\n    //figure out which is left/prev and which is right/next\n    var left, right, leftRight;\n    if (left.next !== right) {\n      for (var next = left; next; next = next.next) {\n        if (next === right.prev) {\n          leftRight = true;\n          break;\n        }\n      }\n      if (!leftRight) {\n        leftRight = right;\n        right = left;\n        left = leftRight;\n      }\n    }\n    this.hide().selection = new Selection(\n      left.parent,\n      left.prev,\n      right.next\n    );\n    this.insertAfter(right.next.prev || right.parent.lastChild);\n    this.root.selectionChanged();\n  };\n  _.selectLeft = function() {\n    if (this.selection) {\n      if (this.selection.prev === this.prev) { //if cursor is at left edge of selection;\n        if (this.prev) { //then extend left if possible\n          this.hopLeft().next.jQ.prependTo(this.selection.jQ);\n          this.selection.prev = this.prev;\n        }\n        else if (this.parent !== this.root) //else level up if possible\n          this.insertBefore(this.parent.parent).selection.levelUp();\n      }\n      else { //else cursor is at right edge of selection, retract left\n        this.prev.jQ.insertAfter(this.selection.jQ);\n        this.hopLeft().selection.next = this.next;\n        if (this.selection.prev === this.prev) {\n          this.deleteSelection();\n          return;\n        }\n      }\n    }\n    else {\n      if (this.prev)\n        this.hopLeft();\n      else //end of a block\n        if (this.parent !== this.root)\n          this.insertBefore(this.parent.parent);\n        else\n          return;\n\n      this.hide().selection = new Selection(this.parent, this.prev, this.next.next);\n    }\n    this.root.selectionChanged();\n  };\n  _.selectRight = function() {\n    if (this.selection) {\n      if (this.selection.next === this.next) { //if cursor is at right edge of selection;\n        if (this.next) { //then extend right if possible\n          this.hopRight().prev.jQ.appendTo(this.selection.jQ);\n          this.selection.next = this.next;\n        }\n        else if (this.parent !== this.root) //else level up if possible\n          this.insertAfter(this.parent.parent).selection.levelUp();\n      }\n      else { //else cursor is at left edge of selection, retract right\n        this.next.jQ.insertBefore(this.selection.jQ);\n        this.hopRight().selection.prev = this.prev;\n        if (this.selection.next === this.next) {\n          this.deleteSelection();\n          return;\n        }\n      }\n    }\n    else {\n      if (this.next)\n        this.hopRight();\n      else //end of a block\n        if (this.parent !== this.root)\n          this.insertAfter(this.parent.parent);\n        else\n          return;\n\n      this.hide().selection = new Selection(this.parent, this.prev.prev, this.next);\n    }\n    this.root.selectionChanged();\n  };\n  _.clearSelection = function() {\n    if (this.show().selection) {\n      this.selection.clear();\n      delete this.selection;\n      this.root.selectionChanged();\n    }\n    return this;\n  };\n  _.deleteSelection = function() {\n    if (!this.show().selection) return false;\n\n    this.prev = this.selection.prev;\n    this.next = this.selection.next;\n    this.selection.remove();\n    delete this.selection;\n    this.root.selectionChanged();\n    return true;\n  };\n\n  function Selection(parent, prev, next) {\n    MathFragment.apply(this, arguments);\n  }\n  _ = Selection.prototype = new MathFragment;\n  _.jQinit = function(children) {\n    this.jQ = children.wrapAll('<span class=\"selection\"></span>').parent();\n      //can't do wrapAll(this.jQ = $(...)) because wrapAll will clone it\n  };\n  _.levelUp = function() {\n    this.clear().jQinit(this.parent.parent.jQ);\n\n    this.prev = this.parent.parent.prev;\n    this.next = this.parent.parent.next;\n    this.parent = this.parent.parent.parent;\n\n    return this;\n  };\n  _.clear = function() {\n    this.jQ.replaceWith(this.jQ.children());\n    return this;\n  };\n  _.blockify = function() {\n    this.jQ.replaceWith(this.jQ = this.jQ.children());\n    return MathFragment.prototype.blockify.call(this);\n  };\n  _.detach = function() {\n    var block = MathFragment.prototype.blockify.call(this);\n    this.blockify = function() {\n      this.jQ.replaceWith(block.jQ = this.jQ = this.jQ.children());\n      return block;\n    };\n    return this;\n  };\n\n  /*********************************************************\n   * The actual jQuery plugin and document ready handlers.\n   ********************************************************/\n\n  //The publicy exposed method of jQuery.prototype, available (and meant to be\n  //called) on jQuery-wrapped HTML DOM elements.\n  $.fn.mathquill = function(cmd, latex) {\n    switch (cmd) {\n    case 'redraw':\n      this.find(':not(:has(:first))').each(function() {\n        var data = $(this).data(jQueryDataKey);\n        if (data && (data.cmd || data.block)) Cursor.prototype.redraw.call(data.cmd || data.block);\n      });\n      return this;\n    case 'revert':\n      return this.each(function() {\n        var data = $(this).data(jQueryDataKey);\n        if (data && data.revert)\n          data.revert();\n      });\n    case 'latex':\n      if (arguments.length > 1) {\n        return this.each(function() {\n          var data = $(this).data(jQueryDataKey);\n          if (data && data.block && data.block.renderLatex)\n            data.block.renderLatex(latex);\n        });\n      }\n\n      var data = this.data(jQueryDataKey);\n      return data && data.block && data.block.latex();\n    case 'text':\n      var data = this.data(jQueryDataKey);\n      return data && data.block && data.block.text();\n    case 'html':\n      return this.html().replace(/ ?hasCursor|hasCursor /, '')\n        .replace(/ class=(\"\"|(?= |>))/g, '')\n        .replace(/<span class=\"?cursor( blink)?\"?><\\/span>/i, '')\n        .replace(/<span class=\"?textarea\"?><textarea><\\/textarea><\\/span>/i, '');\n    case 'write':\n      if (arguments.length > 1)\n        return this.each(function() {\n          var data = $(this).data(jQueryDataKey),\n            block = data && data.block,\n            cursor = block && block.cursor;\n\n          if (cursor)\n            cursor.writeLatex(latex).parent.blur();\n        });\n    case 'cmd':\n      if (arguments.length > 1)\n        return this.each(function() {\n          var data = $(this).data(jQueryDataKey),\n            block = data && data.block,\n            cursor = block && block.cursor;\n\n          if (cursor) {\n            cursor.show();\n            if (/^\\\\[a-z]+$/i.test(latex)) {\n              if (cursor.selection) {\n                //gotta do cursor before cursor.selection is mutated by 'new cmd(cursor.selection)'\n                cursor.prev = cursor.selection.prev;\n                cursor.next = cursor.selection.next;\n              }\n              cursor.insertCmd(latex.slice(1), cursor.selection);\n              delete cursor.selection;\n            }\n            else\n              cursor.insertCh(latex);\n            cursor.hide().parent.blur();\n          }\n        });\n    default:\n      var textbox = cmd === 'textbox',\n        include_toolbar = cmd === 'editor',\n        editable = include_toolbar || textbox || cmd === 'editable',\n        RootBlock = textbox ? RootTextBlock : RootMathBlock;\n      return this.each(function() {\n        createRoot($(this), new RootBlock, textbox, editable, include_toolbar);\n      });\n    }\n  };\n\n  //on document ready, mathquill-ify all `<tag class=\"mathquill-*\">latex</tag>`\n  //elements according to their CSS class.\n  $(() => {\n    $('.mathquill-editable:not(.mathquill-rendered-math)').mathquill('editable');\n    $('.mathquill-editor').mathquill('editor');\n    $('.mathquill-textbox:not(.mathquill-rendered-math)').mathquill('textbox');\n    $('.mathquill-embedded-latex').mathquill();\n  });\n","//\n// Copyright (C) 2013 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport Backbone from 'Backbone'\nimport template from 'jst/tinymce/EquationToolbarView'\nimport {loadMathJax} from 'mathml'\nimport 'mathquill'\n\nexport default class EquationToolbarView extends Backbone.View {\n  static initClass() {\n    this.prototype.template = template\n\n    this.prototype.els = {\n      '#mathjax-view .mathquill-toolbar': '$toolbar',\n      '#mathjax-editor': '$matheditor'\n    }\n  }\n\n  render() {\n    this.cacheEls()\n    this.$toolbar.append(this.template())\n\n    const $tabLinks = $('#mathjax-view .mathquill-tab-bar li a')\n    $tabLinks\n      .click(function(e) {\n        e.preventDefault()\n        $('#mathjax-view .mathquill-tab-bar li').removeClass('mathquill-tab-selected')\n        $tabLinks.attr('aria-selected', 'false').attr('tabindex', '-1')\n        $('#mathjax-view .mathquill-tab-pane').removeClass('mathquill-tab-pane-selected')\n        $(this)\n          .parent()\n          .addClass('mathquill-tab-selected')\n        $(this)\n          .attr('aria-selected', 'true')\n          .attr('tabindex', 0)\n          .focus()\n        $(this.href.replace(/.*#/, '#')).addClass('mathquill-tab-pane-selected')\n      })\n      .keydown(function(e) {\n        let direction\n        switch (e.keyCode) {\n          case 37:\n            direction = 'l'\n            break\n          case 39:\n            direction = 'r'\n            break\n          default:\n            return true\n        }\n        e.preventDefault()\n        let listIndex = $tabLinks.index(this)\n        // Don't fall off the right end of the list.\n        // No need to worry about falling off the left end, as .get accepts negative indexes.\n        if (listIndex === $tabLinks.length - 1 && direction === 'r') listIndex = -1\n        if (direction === 'r') {\n          listIndex++\n        } else {\n          listIndex--\n        }\n        $($tabLinks.get(listIndex))\n          .focus()\n          .click()\n      })\n\n    $('#mathjax-view .mathquill-tab-bar li:first-child').addClass('mathquill-tab-selected')\n\n    return loadMathJax('TeX-AMS_HTML.js', this.addMathJaxEvents.bind(this))\n  }\n\n  addMathJaxEvents() {\n    function renderPreview() {\n      const jax = MathJax.Hub.getAllJax('mathjax-preview')[0]\n      if (jax) {\n        const tex = $('#mathjax-editor').val()\n        return MathJax.Hub.Queue(['Text', jax, tex])\n      }\n    }\n\n    $('#mathjax-view a.mathquill-rendered-math')\n      .mousedown(e => e.stopPropagation())\n      .click(function(e) {\n        e.preventDefault()\n        const text = this.title + ' '\n        const field = document.getElementById('mathjax-editor')\n        if (document.selection) {\n          const sel = document.selection.createRange()\n          sel.text = text\n        } else if (field.selectionStart || field.selectionStart === '0') {\n          const s = field.selectionStart\n          e = field.selectionEnd\n          const val = field.value\n          field.value = val.substring(0, s) + text + val.substring(e, val.length)\n        } else {\n          field.value += text\n        }\n        $(field).focus()\n\n        return renderPreview()\n      })\n\n    this.renderPreview = renderPreview\n    this.$matheditor.keyup(renderPreview)\n    return this.$matheditor.bind('paste', renderPreview)\n  }\n}\nEquationToolbarView.initClass()\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"   LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"  :                LaTeX         .                  .\\\",\\\"switch_to_mathjax\\\":\\\"   \\\",\\\"switch_to_mathquill\\\":\\\"   \\\"}},\\\"cy\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Rhowch yr hafaliad fel LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Defnyddwyr darllenydd sgrin: Y ffordd fwyaf hwylus o ddefnyddior golygydd hwn yw newid ir wedd fanylach, a rhoi LaTeX yn uniongyrchol neu ddefnyddior bar offer ich helpu i wneud hynny. Maer ddolen i newid ir wedd fanylach yn ymddangos tua diwedd y blwch deialog hwn, ychydig cyn y maes golygu.\\\",\\\"switch_to_mathjax\\\":\\\"Newid ir Wedd Syml\\\",\\\"switch_to_mathquill\\\":\\\"Newid ir Wedd Fanylach\\\"}},\\\"da\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Indtast regnestykket som LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Brugere af skrmlser: Den mest adgangsvenlige mde til at bruge dette redigeringsprogram, er ved at skifte til den avancerede visning, og s indtaste LaTeX direkte, eller bruge vrktjslinjen til at hjlpe dig med at gre dette. Linket til at skifte til den avancerede visning kan findes ved afslutningen af denne dialog, lige inden redigeringsfeltet.\\\",\\\"switch_to_mathjax\\\":\\\"Skift visning til Basis\\\",\\\"switch_to_mathquill\\\":\\\"Skift visning til Avanceret\\\"}},\\\"da-x-k12\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Indtast regnestykket som LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Brugere af skrmlser: Den mest adgangsvenlige mde til at bruge dette redigeringsprogram, er ved at skifte til den avancerede visning, og s indtaste LaTeX direkte, eller bruge vrktjslinjen til at hjlpe dig med at gre dette. Linket til at skifte til den avancerede visning kan findes ved afslutningen af denne dialog, lige inden redigeringsfeltet.\\\",\\\"switch_to_mathjax\\\":\\\"Skift visning til Basis\\\",\\\"switch_to_mathquill\\\":\\\"Skift visning til Avanceret\\\"}},\\\"de\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Geben Sie die Gleichung im LaTeX-Format ein.\\\",\\\"screen_reader_tip\\\":\\\"Benutzer von Screenreadern: Die einfachste Weise, diesen Editor zu verwenden, ist es, in die erweiterte Ansicht zu wechseln, und entweder LaTeX direkt einzugeben oder dies mithilfe der Symbolleiste zu tun. Sie finden den Link zur erweiterten Ansicht am Ende dieses Dialogfelds, vor dem Bearbeitungsfeld.\\\",\\\"switch_to_mathjax\\\":\\\"Zur Basisansicht wechseln\\\",\\\"switch_to_mathquill\\\":\\\"Zur erweiterten Ansicht wechseln\\\"}},\\\"el\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"    LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"\\\\u003cmrk mid=\\\\\\\"7665\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003e   :\\\\u003c/mrk\\\\u003e \\\\u003cmrk mid=\\\\\\\"7666\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003e                    LaTeX            .\\\\u003c/mrk\\\\u003e \\\\u003cmrk mid=\\\\\\\"7667\\\\\\\" mtype=\\\\\\\"seg\\\\\\\"\\\\u003e               ,      .\\\\u003c/mrk\\\\u003e\\\",\\\"switch_to_mathjax\\\":\\\"   \\\",\\\"switch_to_mathquill\\\":\\\"   \\\"}},\\\"en-AU\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Enter the equation as LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\\\",\\\"switch_to_mathjax\\\":\\\"Switch View to Basic\\\",\\\"switch_to_mathquill\\\":\\\"Switch View to Advanced\\\"}},\\\"en-CA\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Enter the equation as LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\\\",\\\"switch_to_mathjax\\\":\\\"Switch View to Basic\\\",\\\"switch_to_mathquill\\\":\\\"Switch View to Advanced\\\"}},\\\"en-GB\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Enter the equation as LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\\\",\\\"switch_to_mathjax\\\":\\\"Switch view to Basic\\\",\\\"switch_to_mathquill\\\":\\\"Switch view to Advanced\\\"}},\\\"es\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Ingrese la ecuacin en formato LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Usuarios de lectores de pantalla: el modo que ofrece el mejor acceso al utilizar este editor es cambiar a la vista avanzada y, a continuacin, o bien ingresar directamente LaTeX, o bien utilizar la barra de herramientas como ayuda para hacerlo. El vnculo para cambiar a la vista avanzada se encuentra cerca del final de este cuadro de dilogo, justo antes del campo de edicin.\\\",\\\"switch_to_mathjax\\\":\\\"Cambiar la vista a bsica\\\",\\\"switch_to_mathquill\\\":\\\"Cambiar la vista a avanzada\\\"}},\\\"fa\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"    LaTeX  .\\\",\\\"screen_reader_tip\\\":\\\"  :                 LaTeX                .                    .\\\",\\\"switch_to_mathjax\\\":\\\"    \\\",\\\"switch_to_mathquill\\\":\\\"    \\\"}},\\\"fi\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Syt kaava LaTeX-muodossa.\\\",\\\"screen_reader_tip\\\":\\\"Nyttlukijan kyttjt: Kytettvimmiss oleva tapa kytt tt editoria on vaihtaa lisasetusnkymn ja sitten joko siirty LaTeXiin suoraan tai kytt tykalupalkkia apuna tss. Linkki vaihtaa lisasetusten nkymn lytyy lhelt tmn valintaruudun loppua, juuri ennen muokkauskentt.\\\",\\\"switch_to_mathjax\\\":\\\"Kytke nkym perusasetukseen\\\",\\\"switch_to_mathquill\\\":\\\"Vaihda nkym lisasetuksiin\\\"}},\\\"fr\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Spcifiez lquation au format LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Si vous utilisez un lecteur dcran : le moyen le plus facile dutiliser cet diteur est de passer en mode daffichage avanc, puis dentrer directement les donnes en LaTeX ou dutiliser la barre doutils comme assistant. Le lien pour passer en mode daffichage avanc se trouve plus bas, juste avant le champ de saisie.\\\",\\\"switch_to_mathjax\\\":\\\"Passer en mode daffichage simple\\\",\\\"switch_to_mathquill\\\":\\\"Passer en mode daffichage avanc\\\"}},\\\"fr-CA\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Spcifiez lquation au format LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Si vous utilisez un lecteur dcran : le moyen le plus facile dutiliser cet diteur est de passer en mode daffichage avanc, puis dentrer directement les donnes en LaTeX ou dutiliser la barre doutils comme assistant. Le lien pour passer en mode daffichage avanc se trouve plus bas, juste avant le champ de saisie.\\\",\\\"switch_to_mathjax\\\":\\\"Passer en mode daffichage simple\\\",\\\"switch_to_mathquill\\\":\\\"Passer en mode daffichage avanc\\\"}},\\\"he\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"   LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"   :          ,     LaTeX ,         .          ,   .\\\",\\\"switch_to_mathjax\\\":\\\"   \\\",\\\"switch_to_mathquill\\\":\\\"  \\\"}},\\\"ht\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Antre ekwasyon an sou fm LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Itilizat lekst ekran: Fason ki pi aksesib pou itilize edit sa a se pou chanje an afichaj avanse, epi swa ou antre LaTeX dirkteman, oswa itilize ba zouti a pou ede w nan sa w ap f a. Lyen pou chanje a afichaj avanse a w ap jwenn li b fen dyalg sa a, dirkteman anvan espas edisyon an.\\\",\\\"switch_to_mathjax\\\":\\\"Change Afichaj a Bazik\\\",\\\"switch_to_mathquill\\\":\\\"Change Afichaj a Avanse\\\"}},\\\"hu\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"rja be az egyenletet LaTeX formtumban.\\\",\\\"screen_reader_tip\\\":\\\"Kpernyfelolvast hasznl felhasznlk: a szerkeszt hozzfrhet hasznlathoz vltson halad nzetre, majd rjon be kzvetlenl LaTeX-et, vagy hasznlja az eszkztrat erre. A link a halad nzetre vltshoz a prbeszd vge fel tallhat, kzvetlenl a szerkeszts mez eltt.\\\",\\\"switch_to_mathjax\\\":\\\"Vlts alapnzetre\\\",\\\"switch_to_mathquill\\\":\\\"Vlts halad nzetre\\\"}},\\\"hy\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"   LaTeX:\\\",\\\"screen_reader_tip\\\":\\\"   ,         ,       LaTeX        :            : \\\",\\\"switch_to_mathjax\\\":\\\"  \\\",\\\"switch_to_mathquill\\\":\\\"  \\\"}},\\\"is\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Skr jfnu sem LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Notendur skjlesara: Agengilegast er a nota ritilinn me v a skipta  aukna sn og san anna hvort sl LaTeX beint inn ea nota tlasl til astoar vi a. Tengill til a skipta  vtka sn er  lok essara skilaboa, beint fyrir nean breytingareitinn.\\\",\\\"switch_to_mathjax\\\":\\\"Skipta  grunnsn\\\",\\\"switch_to_mathquill\\\":\\\"Skipta  vtka sn\\\"}},\\\"it\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Inserisci equazione come LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Utenti screen reader: Il modo pi accessibile per utilizzare questo editor  passare alla visualizzazione avanzata e inserire LaTeX direttamente o utilizzare la barra degli strumenti. Il link per passare alla visualizzazione avanzata si trova alla fine di questa finestra di dialogo, direttamente prima del campo di modifica.\\\",\\\"switch_to_mathjax\\\":\\\"Passa alla visualizzazione di base\\\",\\\"switch_to_mathquill\\\":\\\"Passa alla visualizzazione avanzata\\\"}},\\\"ja\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\" LaTeX \\\",\\\"screen_reader_tip\\\":\\\" :  LaTeX  LaTeX \\\",\\\"switch_to_mathjax\\\":\\\"\\\",\\\"switch_to_mathquill\\\":\\\"\\\"}},\\\"ko\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Enter the equation as LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\\\",\\\"switch_to_mathjax\\\":\\\"  \\\",\\\"switch_to_mathquill\\\":\\\"  \\\"}},\\\"mi\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"E tomo te whrite rite taherapa LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Kaiwhakamahi kaipnui Mata: te ara tino wtea ki te whakamahi i tnei tita ko ki te whakawhiti ki te tirohanga matatau, a ka rnei hngai tomo te taherapa LaTeX, rnei te whakamahi i te paeutauta ki te whina ia koutou i roto i te mahi pera. Ko te hono ki te whakawhiti ki te tirohanga matatau taea te kitea e tata ana te mutunga o tnei krero, i mua tonu i te mara whakatika.\\\",\\\"switch_to_mathjax\\\":\\\"Whakawhitia Tirohia ki aketake\\\",\\\"switch_to_mathquill\\\":\\\"Whakawhitia Tirohia ki Ar\\\"}},\\\"nb\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Skriv inn ligningen som LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"For brukere av skjermlesere: Den mest tilgjengelige mten  bruke denne redigeringsmten p er  endre til avansert visning, og s enten skrive inn LaTeX direkte, eller bruke verktylinjen til  hjelpe deg med  gjre det. Lenka for  endre til avansert visning kan finnes nr slutten av denne dialogboksen, rett foran redigeringsfeltet.\\\",\\\"switch_to_mathjax\\\":\\\"Bytt til enkel visning\\\",\\\"switch_to_mathquill\\\":\\\"Bytt visning til avansert\\\"}},\\\"nb-x-k12\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Skriv inn ligningen som LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"For brukere av skjermlesere: Den mest tilgjengelige mten  bruke denne redigeringsmten p er  endre til avansert visning, og s enten skrive inn LaTeX direkte, eller bruke verktylinjen til  hjelpe deg med  gjre det. Lenka for  endre til avansert visning kan finnes nr slutten av denne dialogboksen, rett foran redigeringsfeltet.\\\",\\\"switch_to_mathjax\\\":\\\"Bytt til enkel visning\\\",\\\"switch_to_mathquill\\\":\\\"Bytt visning til avansert\\\"}},\\\"nl\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Voer de vergelijking in als LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Gebruikers van schermlezer: De meest toegankelijke manier om deze editor te gebruiken is om naar de geavanceerde weergave over te schakelen en dan of direct LaTeX in te voeren, of om de toolbalk te gebruiken om je hierbij te helpen. De link om naar de geavanceerde weergave over te schakelen is te vinden aan het einde van deze dialoog, direct vr het bewerkte veld.\\\",\\\"switch_to_mathjax\\\":\\\"Weergave naar basis overschakelen\\\",\\\"switch_to_mathquill\\\":\\\"Weergave naar geavanceerd overschakelen\\\"}},\\\"nn\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Oppgi likninga som LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Skjermlesar-brukarar: Den enklaste mten  bruke dette redigeringsprogrammet p er  byte til avansert vising og deretter skrive inn LaTeX direkte, eller skrive inn via verktylinja. Du finn lenka for byte til avansert vising i slutten av denne dialogen, rett fr redigeringsfeltet.\\\",\\\"switch_to_mathjax\\\":\\\"Byt til standard vising\\\",\\\"switch_to_mathquill\\\":\\\"Byt til avansert vising\\\"}},\\\"pl\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Wprowad rwnanie jako LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Uytkownicy programu do odczytywania zawartoci ekranu: najatwiejszym sposobem na skorzystanie z tego edytora jest wczenie zaawansowanego widoku i wpisanie w nim sowa LaTeX lub uycie paska narzdzi, ktry wskae uytkownikowi kolejne etapy dziaania. cze przekierowujce do zaawansowanego widoku mona odnale pod koniec tego okienka, bezporednio przed polem edytowania.\\\",\\\"switch_to_mathjax\\\":\\\"Przecz widok na podstawowy\\\",\\\"switch_to_mathquill\\\":\\\"Przecz widok na zaawansowany\\\"}},\\\"pt\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Introduza a equao como LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Utilizadores de leitores de ecr: a forma mais acessvel de utilizar este editor consiste em mudar para a vista avanada e depois introduzir LaTeX diretamente ou utilizar a barra de ferramentas para obter ajuda. A ligao que permite mudar para a vista avanada encontra-se perto da parte final desta caixa de dilogo, diretamente abaixo do campo de edio.\\\",\\\"switch_to_mathjax\\\":\\\"Mudar para Vista Bsica\\\",\\\"switch_to_mathquill\\\":\\\"Mudar para Vista Avanada\\\"}},\\\"pt-BR\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Inserir a equao como LaTeX\\\",\\\"screen_reader_tip\\\":\\\"Usurios de leitores de tela: a forma mais acessvel para utilizar este editor  alternar para a visualizao avanada e depois inserir LaTeX diretamente ou utilizar a barra de ferramentas para ajudar voc a fazer isso. O link para alternar para a visualizao avanada pode ser encontrado perto do fim deste dilogo, diretamente antes do campo de edio.\\\",\\\"switch_to_mathjax\\\":\\\"Alternar exibio para Bsica\\\",\\\"switch_to_mathquill\\\":\\\"Alternar exibio para Avanada\\\"}},\\\"ru\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"   LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"     :             ,     LaTeX ,     .            ,    .\\\",\\\"switch_to_mathjax\\\":\\\"   \\\",\\\"switch_to_mathquill\\\":\\\"   \\\"}},\\\"sl\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Vnesite enabo v obliki LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"Uporabniki bralnika zaslona Najhitreja pot do uporabe tega urejevalnika je preklop na napredni pogled, nato pa neposredni vnos LaTeX ali pa vnos s pomojo orodne vrstice. Povezava na preklop v napredni pogled je na koncu tega pogovornega okna, neposredno pred poljem za urejanje.\\\",\\\"switch_to_mathjax\\\":\\\"Preklopi pogled na osnovni\\\",\\\"switch_to_mathquill\\\":\\\"Preklopi pogled na napredni\\\"}},\\\"sv\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Ange ekvationen som LaTeX\\\",\\\"screen_reader_tip\\\":\\\"Skrmlsarens anvndare: Det smidigaste sttet att anvnda den hr redigeraren r att vxla till avancerad vy, drefter gr du direkt till LaTeX eller anvnder verktygsfltet fr att gra s. Lnken fr att vxla till avancerad versikt finns nra slutet p den hr dialogen, precis innan redigeringsfltet.\\\",\\\"switch_to_mathjax\\\":\\\"ndra vy till enkel\\\",\\\"switch_to_mathquill\\\":\\\"ndra vy till avancerad\\\"}},\\\"sv-x-k12\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Ange ekvationen som LaTeX\\\",\\\"screen_reader_tip\\\":\\\"Skrmlsarens anvndare: Det smidigaste sttet att anvnda den hr redigeraren r att vxla till avancerad vy, drefter gr du direkt till LaTeX eller anvnder verktygsfltet fr att gra s. Lnken fr att vxla till avancerad versikt finns nra slutet p den hr dialogen, precis innan redigeringsfltet.\\\",\\\"switch_to_mathjax\\\":\\\"ndra vy till enkel\\\",\\\"switch_to_mathquill\\\":\\\"ndra vy till avancerad\\\"}},\\\"tr\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"Denklemi LaTeX olarak gir.\\\",\\\"screen_reader_tip\\\":\\\"Ekran okuyucu kullanclar: Bu editr en eriilebilir ekilde kullanmann yolu gelimi grnme gemektir. Daha sonra LaTeX'i dorudan girebilir veya ara ubuundan yararlanabilirsiniz. Gelimi grnme gei balants bu metnin sonlarna doru dzenleme alanndan hemen nce bulunabilir.\\\",\\\"switch_to_mathjax\\\":\\\"Sade Grnme Ge\\\",\\\"switch_to_mathquill\\\":\\\"leri Dzey Grnme Ge\\\"}},\\\"uk\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\"   LaTeX.\\\",\\\"screen_reader_tip\\\":\\\"    :      -      ,       LaTeX,      .              ,    .\\\",\\\"switch_to_mathjax\\\":\\\"   \\\",\\\"switch_to_mathquill\\\":\\\"   \\\"}},\\\"zh-Hans\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\" LaTeX \\\",\\\"screen_reader_tip\\\":\\\":  LaTeX \\\",\\\"switch_to_mathjax\\\":\\\"\\\",\\\"switch_to_mathquill\\\":\\\"\\\"}},\\\"zh-Hant\\\":{\\\"editor\\\":{\\\"mathjax_text_entry_field_label\\\":\\\" LaTeX\\\",\\\"screen_reader_tip\\\":\\\" LaTeX\\\",\\\"switch_to_mathjax\\\":\\\"\\\",\\\"switch_to_mathquill\\\":\\\"\\\"}}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/tinymce.equation_editor_view';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('tinymce.equation_editor_view');\n  ","\n    import _Handlebars from 'handlebars/runtime';\n    var Handlebars = _Handlebars.default;\n    import \"i18n!tinymce.equation_editor_view\";\nimport \"coffeescripts/handlebars_helpers.coffee\";\n\n    var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n    var name = 'tinymce/EquationEditorView';\n    templates[name] = template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"mathquill-view\\\">\\n  <p class=\\\"screenreader-only\\\" role=\\\"alert\\\">\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_editor_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.screen_reader_tip\", \"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\", options) : helperMissing.call(depth0, \"t\", \"#editor.screen_reader_tip\", \"Screen reader users: The most accessible way to use this editor is to switch to the advanced view, and then either enter LaTeX directly, or use the toolbar to assist you in doing so. The link to switch to the advanced view can be found near the end of this dialog, directly before the edit field.\", options)))\n    + \"</p>\\n  <div class='mathquill-toolbar'>\\n  </div>\\n  <div class='math-toggle'>\\n    <a href=\\\"#\\\" class='math-toggle-link'>\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_editor_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.switch_to_mathquill\", \"Switch View to Advanced\", options) : helperMissing.call(depth0, \"t\", \"#editor.switch_to_mathquill\", \"Switch View to Advanced\", options)))\n    + \"\\n    </a>\\n  </div>\\n  <div id=\\\"mathquill-container\\\">\\n  </div>\\n</div>\\n<div id=\\\"mathjax-view\\\">\\n  <div class='mathquill-toolbar'>\\n  </div>\\n  <div class='math-toggle'>\\n    <a href=\\\"#\\\" class='math-toggle-link'>\\n      \"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_editor_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.switch_to_mathjax\", \"Switch View to Basic\", options) : helperMissing.call(depth0, \"t\", \"#editor.switch_to_mathjax\", \"Switch View to Basic\", options)))\n    + \"\\n    </a>\\n  </div>\\n  <textarea id='mathjax-editor'\\n    aria-label=\\\"\"\n    + escapeExpression((helper = helpers.t || (depth0 && depth0.t),options={hash:{\n    'scope': (\"tinymce.equation_editor_view\")\n  },data:data},helper ? helper.call(depth0, \"#editor.mathjax_text_entry_field_label\", \"Enter the equation as LaTeX.\", options) : helperMissing.call(depth0, \"t\", \"#editor.mathjax_text_entry_field_label\", \"Enter the equation as LaTeX.\", options)))\n    + \"\\\"\\n  >\\n  </textarea>\\n  <br/>\\n  <span id='mathjax-preview'>\\n  </span>\\n  <div id=\\\"mathjax-message\\\">\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n    ;\n    \n    import brandableCss from 'compiled/util/brandableCss';\n    brandableCss.loadStylesheet('jst/tinymce/EquationEditorView', {\"new_styles_normal_contrast\":{\"combinedChecksum\":\"2bd3789487\"},\"new_styles_high_contrast\":{\"combinedChecksum\":\"2bd3789487\"},\"responsive_layout_normal_contrast\":{\"combinedChecksum\":\"2bd3789487\"},\"responsive_layout_high_contrast\":{\"combinedChecksum\":\"2bd3789487\"},\"new_styles_normal_contrast_rtl\":{\"combinedChecksum\":\"3d6d2ad9b6\"},\"new_styles_high_contrast_rtl\":{\"combinedChecksum\":\"3d6d2ad9b6\"},\"responsive_layout_normal_contrast_rtl\":{\"combinedChecksum\":\"3d6d2ad9b6\"},\"responsive_layout_high_contrast_rtl\":{\"combinedChecksum\":\"3d6d2ad9b6\"}}[brandableCss.getCssVariant()]);\n  ;\n    export default templates[name];\n  ","//\n// Copyright (C) 2012 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport I18n from 'i18n!EquationEditorView'\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport Backbone from 'Backbone'\nimport EquationToolbarView from './EquationToolbarView'\nimport template from 'jst/tinymce/EquationEditorView'\nimport htmlEscape from 'str/htmlEscape'\nimport preventDefault from '../../fn/preventDefault'\nimport * as RceCommandShim from 'jsx/shared/rce/RceCommandShim'\nimport 'jqueryui/dialog'\nimport 'mathquill'\n\nexport default class EquationEditorView extends Backbone.View {\n  static initClass() {\n    this.prototype.template = template\n\n    // all instances share same element\n    this.prototype.el = $(document.createElement('div')).appendTo('body')[0]\n\n    this.prototype.els = {\n      '#mathquill-view': '$mathquillView',\n      '#mathquill-container': '$mathquillContainer',\n      '#mathjax-view': '$mathjaxView',\n      '#mathjax-editor': '$mathjaxEditor',\n      '#mathjax-message': '$mathjaxMessage'\n    }\n  }\n\n  // #\n  // class method\n  //\n  // like $.text() / Sizzle.getText(elems), except it also gets alt\n  //   attributes from images\n  //\n  // @param {jquery object} elems The collection of elements (or the\n  // singular jquery element) that represents the currently selected\n  //   thing in the editor to turn into an equation\n  static getEquationText(elems) {\n    const self = this\n    return _.map(elems, elem => {\n      // Get the text from text nodes and CDATA nodes\n      if ([3, 4].includes(elem.nodeType)) {\n        if (elem.nodeValue.match(/^<img/)) {\n          // if the \"text\" is really just an unparsed \"img\" node\n          // then we really want the alt element\n          return self.getEquationText($(elem.nodeValue))\n        } else {\n          return elem.nodeValue\n        }\n\n        // Get alt attributes from IMG nodes\n      } else if (elem.nodeName === 'IMG' && elem.className === 'equation_image') {\n        if (elem.dataset.equationContent) {\n          return elem.dataset.equationContent\n        } else {\n          return elem.alt\n        }\n\n        // Traverse everything else, except comment nodes\n      } else if (elem.nodeType !== 8) {\n        return self.getEquationText(elem.childNodes)\n      }\n    }).join('')\n  }\n\n  getEquationText(elems) {\n    return this.constructor.getEquationText(elems)\n  }\n\n  initialize(editor) {\n    this.editor = editor\n    this.$editor = $(`#${this.editor.id}`)\n    this.prevSelection = this.editor.selection.getBookmark()\n\n    if (!(this.toolbar = this.$el.data('toolbar'))) {\n      const nodes = $('<span>').text(this.editor.selection.getNode())\n      const equation = this.getEquationText(nodes).replace(/^\\s+|\\s+$/g, '')\n      this.addToolbar(equation)\n    }\n\n    this.cacheEls()\n    this.$el.click(preventDefault(() => {}))\n    return this.$el.dialog({\n      minWidth: 670,\n      minHeight: 290,\n      resizable: false,\n      title: I18n.t(\n        'equation_editor_title',\n        'Use the toolbars here, or Switch View to Advanced to type/paste in LaTeX'\n      ),\n      dialogClass: 'math-dialog',\n      open: () => this.initialRender(),\n      close: () => this.onClose(),\n      buttons: [\n        {\n          class: 'btn-primary',\n          text: I18n.t('button.insert_equation', 'Insert Equation'),\n          click: e => this.onSubmit(e)\n        }\n      ]\n    })\n  }\n\n  onClose() {\n    return this.restoreCaret()\n  }\n\n  initialRender() {\n    const nodes = $('<span>').text(this.editor.selection.getContent())\n    const equation = this.getEquationText(nodes).replace(/^\\s+|\\s+$/g, '')\n\n    this.$mathjaxMessage.empty()\n    this.setView(this.$el.data('view'), equation)\n    return this.renderEquation(this.opposite(this.$el.data('view')), '')\n  }\n\n  addToolbar(equation) {\n    this.$el.append(this.template)\n\n    $('#mathjax-preview').html(\n      `<script type='math/tex; mode=display'>${htmlEscape(equation)}</script>`\n    )\n    this.toolbar = new EquationToolbarView({\n      el: this.$el\n    })\n    this.toolbar.render()\n\n    $('a.math-toggle-link').bind('click', e => this.toggleView(e))\n\n    this.$el.data('toolbar', this.toolbar)\n    return this.$el.data('view', 'mathquill')\n  }\n\n  opposite(view) {\n    if (view === 'mathquill') {\n      return 'mathjax'\n    } else if (view === 'mathjax') {\n      return 'mathquill'\n    }\n  }\n\n  getEquation() {\n    const view = this.$el.data('view')\n    if (view === 'mathquill') {\n      return this.$mathquillContainer.mathquill('latex')\n    } else if (view === 'mathjax') {\n      return this.$mathjaxEditor.val()\n    }\n  }\n\n  toggleView(e) {\n    e.preventDefault()\n    const view = this.$el.data('view')\n    const equation = this.getEquation()\n    this.$mathjaxMessage.empty()\n    return this.setView(this.opposite(view), equation)\n  }\n\n  setView(view, equation) {\n    if (view === 'mathquill') {\n      this.$mathjaxView.hide()\n      this.$mathquillView.show()\n      setTimeout(() => {\n        return this.$mathquillView.find('.mathquill-tab-bar li.mathquill-tab-selected a').focus()\n      }, 200)\n    } else if (view === 'mathjax') {\n      this.$mathquillView.hide()\n      this.$mathjaxView.show()\n      this.$mathjaxView.find('.mathquill-tab-bar li.mathquill-tab-selected a').focus()\n    }\n\n    if (!this.renderEquation(view, equation)) {\n      return this.setView('mathjax', equation)\n    } else {\n      return this.$el.data('view', view)\n    }\n  }\n\n  renderEquation(view, equation) {\n    if (view === 'mathquill') {\n      this.$mathquillContainer\n        .mathquill('revert')\n        .addClass('mathquill-editor')\n        .mathquill('editor')\n        .mathquill('write', equation)\n      if (\n        this.$mathquillContainer.mathquill('latex').replace(/\\s+/, '') !==\n        equation.replace(/\\s+/, '')\n      ) {\n        this.$mathjaxMessage.text(\n          I18n.t('cannot_render_equation', 'This equation cannot be rendered in Basic View.')\n        )\n        return false\n      }\n    } else if (view === 'mathjax') {\n      this.$mathjaxEditor.val(equation)\n      if (this.toolbar.renderPreview) {\n        this.toolbar.renderPreview()\n      }\n    }\n\n    return true\n  }\n\n  restoreCaret() {\n    return this.editor.selection.moveToBookmark(this.prevSelection)\n  }\n\n  // the following is here to make it easier to unit test\n  static doubleEncodeEquationForUrl(text) {\n    return encodeURIComponent(encodeURIComponent(text))\n  }\n\n  // the following will be called by onSubmit below\n  doubleEncodeEquationForUrl(text) {\n    return this.constructor.doubleEncodeEquationForUrl(text)\n  }\n\n  onSubmit(event) {\n    event.preventDefault()\n\n    const text = this.getEquation()\n    const altText = `LaTeX: ${text}`\n    const url = `/equation_images/${this.doubleEncodeEquationForUrl(text)}`\n    const $img = $(document.createElement('img')).attr({\n      src: url,\n      alt: altText,\n      title: text,\n      class: 'equation_image',\n      'data-equation-content': text\n    })\n    const $div = $(document.createElement('div')).append($img)\n\n    this.restoreCaret()\n    RceCommandShim.send(this.$editor, 'insert_code', $div.html())\n    return this.$el.dialog('close')\n  }\n}\nEquationEditorView.initClass()\n","// this file was auto-generated by rake i18n:generate_js.\n// you probably shouldn't edit it directly\nimport mergeI18nTranslations from 'mergeI18nTranslations';\n\n// we use JSON.parse here instead of just loading it as a javascript object literal\n// because according to https://v8.dev/blog/cost-of-javascript-2019#json that is faster\nmergeI18nTranslations(JSON.parse(\"{\\\"ar\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"cy\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Cynnwys Defnyddiwr\\\"},\\\"da\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"da-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brugerindhold\\\"},\\\"de\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Benutzer-Content\\\"},\\\"el\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"en-AU\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User Content\\\"},\\\"en-GB\\\":{\\\"user_content_aaf0fb5a\\\":\\\"User content\\\"},\\\"es\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenido del usuario\\\"},\\\"fa\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"fi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kyttjn sislt\\\"},\\\"fr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"fr-CA\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenu de l'utilisateur\\\"},\\\"he\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"ht\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kontni Itilizat\\\"},\\\"hu\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Felhasznli tartalom\\\"},\\\"is\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Notandaefni\\\"},\\\"it\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contenuto utente\\\"},\\\"ja\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"},\\\"mi\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Ihirangi kaiwhakamahi\\\"},\\\"nb\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nb-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukerinnhold\\\"},\\\"nl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Gebruikersinhoud\\\"},\\\"nn\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Brukarinnhald\\\"},\\\"pl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Zawarto uytkownika\\\"},\\\"pt\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contedo do Utilizador\\\"},\\\"pt-BR\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Contedo do Usurio\\\"},\\\"ru\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"sl\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Vsebina uporabnika\\\"},\\\"sv\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Anvndarinnehll\\\"},\\\"sv-x-k12\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Anvndarinnehll\\\"},\\\"tr\\\":{\\\"user_content_aaf0fb5a\\\":\\\"Kullanc erii\\\"},\\\"uk\\\":{\\\"user_content_aaf0fb5a\\\":\\\" \\\"},\\\"zh-Hans\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"},\\\"zh-Hant\\\":{\\\"user_content_aaf0fb5a\\\":\\\"\\\"}}\"));\n","\n    import I18n from 'i18nObj';\n    \n      import 'translations/user_content';\n      import 'translations/_core';\n    \n    import 'translations/_core_en';\n\n    export default I18n.scoped('user_content');\n  ","//\n// Copyright (C) 2015 - present Instructure, Inc.\n//\n// This file is part of Canvas.\n//\n// Canvas is free software: you can redistribute it and/or modify it under\n// the terms of the GNU Affero General Public License as published by the Free\n// Software Foundation, version 3 of the License.\n//\n// Canvas is distributed in the hope that it will be useful, but WITHOUT ANY\n// WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR\n// A PARTICULAR PURPOSE. See the GNU Affero General Public License for more\n// details.\n//\n// You should have received a copy of the GNU Affero General Public License along\n// with this program. If not, see <http://www.gnu.org/licenses/>.\n\nimport $ from 'jquery'\nimport _ from 'underscore'\nimport htmlEscape from 'str/htmlEscape'\nimport I18n from 'i18n!user_content'\n\nconst apiUserContent = {\n  /*\n  xsslint safeString.identifier mathml\n  */\n  translateMathmlForScreenreaders($equationImage) {\n    // note, it is safe to treat the x-canvaslms-safe-mathml as html because it\n    // only ever gets put there by us (in Api::Html::Content::apply_mathml).\n    // Any user content that gets sent to the server will have the\n    // x-canvaslms-safe-mathml attribute stripped out.\n    const mathml = $('<div/>')\n      .html($equationImage.attr('x-canvaslms-safe-mathml'))\n      .html()\n    const mathmlSpan = $('<span class=\"hidden-readable\"></span>')\n    mathmlSpan.html(mathml)\n    return mathmlSpan\n  },\n\n  toMediaCommentLink(node) {\n    const $link = $(\n      `<a\n        id='media_comment_${htmlEscape($(node).data('media_comment_id'))}'\n        data-media_comment_type='${htmlEscape($(node).data('media_comment_type'))}'\n        class='instructure_inline_media_comment ${htmlEscape(node.nodeName.toLowerCase())}_comment'\n        data-alt='${htmlEscape($(node).attr('data-alt'))}'\n      />`\n    )\n    $link.html($(node).html())\n    return $link\n  },\n\n  /*\n  xsslint safeString.identifier mathmlSpan\n  */\n  // use this method to process any user content fields returned in api responses\n  // this is important to handle object/embed tags safely, and to properly display audio/video tags\n  convert(html, options = {}) {\n    const $dummy = $('<div />').html(html)\n    // finds any <video/audio class=\"instructure_inline_media_comment\"> and turns them into media comment thumbnails\n    $dummy\n      .find('video.instructure_inline_media_comment,audio.instructure_inline_media_comment')\n      .replaceWith(function() {\n        return apiUserContent.toMediaCommentLink(this)\n      })\n\n    // remove any embed tags inside an object tag, to avoid repeated translations\n    $dummy.find('object.instructure_user_content:not(#kaltura_player) embed').remove()\n\n    // if we aren't actually displaying this content but are instead putting\n    // it into a RTE, we want to preserve the object/embed tags\n    if (!options.forEditing) {\n      // find all object/embed tags and convert them into an iframe that posts\n      // to safefiles to display the content (to avoid javascript attacks)\n      //\n      // see the corresponding code in lib/user_content.rb for non-api user\n      // content handling\n      $dummy\n        .find('object.instructure_user_content,embed.instructure_user_content')\n        .replaceWith(function() {\n          const $this = $(this)\n          if (!$this.data('uc_snippet') || !$this.data('uc_sig')) {\n            return this\n          }\n\n          const uuid = _.uniqueId('uc_')\n          let action = '/object_snippet'\n          if (ENV.files_domain) {\n            action = `//${ENV.files_domain}${action}`\n          }\n          const $form = $(\n            `<form\n            action='${htmlEscape(action)}'\n            method='post'\n            class='user_content_post_form'\n            target='${htmlEscape(uuid)}'\n            id='form-${htmlEscape(uuid)}'\n          />`\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 'object_data',\n              value: $this.data('uc_snippet')\n            })\n          )\n          $form.append(\n            $(\"<input type='hidden'/>\").attr({\n              name: 's',\n              value: $this.data('uc_sig')\n            })\n          )\n          $('body').append($form)\n          setTimeout(() => $form.submit(), 0)\n          return $(\n            `<iframe\n            class='user_content_iframe'\n            name='${htmlEscape(uuid)}'\n            style='width: ${htmlEscape($this.data('uc_width'))}; height: ${htmlEscape(\n              $this.data('uc_height')\n            )};'\n            frameborder='0'\n            title='${htmlEscape(I18n.t('User Content'))}'\n          />`\n          )\n        })\n\n      $dummy.find('img.equation_image').each((index, equationImage) => {\n        const $equationImage = $(equationImage)\n        const mathmlSpan = apiUserContent.translateMathmlForScreenreaders($equationImage)\n        $equationImage.removeAttr('x-canvaslms-safe-mathml')\n        $equationImage.after(mathmlSpan)\n      })\n    }\n    return $dummy.html()\n  }\n}\n\nexport default apiUserContent\n"],"sourceRoot":""}